var GQ=Object.defineProperty;var VQ=(i,e,t)=>e in i?GQ(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var Rt=(i,e,t)=>(VQ(i,typeof e!="symbol"?e+"":e,t),t),_8=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)};var x=(i,e,t)=>(_8(i,e,"read from private field"),t?t.call(i):e.get(i)),F=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},z=(i,e,t,n)=>(_8(i,e,"write to private field"),n?n.call(i,t):e.set(i,t),t);var Ps=(i,e,t,n)=>({set _(r){z(i,e,r,t)},get _(){return x(i,e,n)}}),j=(i,e,t)=>(_8(i,e,"access private method"),t);function WQ(i,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in i)){const s=Object.getOwnPropertyDescriptor(n,r);s&&Object.defineProperty(i,r,s.get?s:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var Iwe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function XQ(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var r=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return i[n]}})}),t}var oj={exports:{}},wC={},aj={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q3=Symbol.for("react.element"),KQ=Symbol.for("react.portal"),YQ=Symbol.for("react.fragment"),JQ=Symbol.for("react.strict_mode"),qQ=Symbol.for("react.profiler"),ZQ=Symbol.for("react.provider"),QQ=Symbol.for("react.context"),$Q=Symbol.for("react.forward_ref"),e$=Symbol.for("react.suspense"),t$=Symbol.for("react.memo"),n$=Symbol.for("react.lazy"),iF=Symbol.iterator;function i$(i){return i===null||typeof i!="object"?null:(i=iF&&i[iF]||i["@@iterator"],typeof i=="function"?i:null)}var lj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cj=Object.assign,uj={};function Ag(i,e,t){this.props=i,this.context=e,this.refs=uj,this.updater=t||lj}Ag.prototype.isReactComponent={};Ag.prototype.setState=function(i,e){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,e,"setState")};Ag.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function hj(){}hj.prototype=Ag.prototype;function t7(i,e,t){this.props=i,this.context=e,this.refs=uj,this.updater=t||lj}var n7=t7.prototype=new hj;n7.constructor=t7;cj(n7,Ag.prototype);n7.isPureReactComponent=!0;var rF=Array.isArray,dj=Object.prototype.hasOwnProperty,i7={current:null},fj={key:!0,ref:!0,__self:!0,__source:!0};function pj(i,e,t){var n,r={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)dj.call(e,n)&&!fj.hasOwnProperty(n)&&(r[n]=e[n]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(i&&i.defaultProps)for(n in a=i.defaultProps,a)r[n]===void 0&&(r[n]=a[n]);return{$$typeof:q3,type:i,key:s,ref:o,props:r,_owner:i7.current}}function r$(i,e){return{$$typeof:q3,type:i.type,key:e,ref:i.ref,props:i.props,_owner:i._owner}}function r7(i){return typeof i=="object"&&i!==null&&i.$$typeof===q3}function s$(i){var e={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(t){return e[t]})}var sF=/\/+/g;function x8(i,e){return typeof i=="object"&&i!==null&&i.key!=null?s$(""+i.key):e.toString(36)}function rS(i,e,t,n,r){var s=typeof i;(s==="undefined"||s==="boolean")&&(i=null);var o=!1;if(i===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(i.$$typeof){case q3:case KQ:o=!0}}if(o)return o=i,r=r(o),i=n===""?"."+x8(o,0):n,rF(r)?(t="",i!=null&&(t=i.replace(sF,"$&/")+"/"),rS(r,e,t,"",function(c){return c})):r!=null&&(r7(r)&&(r=r$(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(sF,"$&/")+"/")+i)),e.push(r)),1;if(o=0,n=n===""?".":n+":",rF(i))for(var a=0;a<i.length;a++){s=i[a];var l=n+x8(s,a);o+=rS(s,e,t,l,r)}else if(l=i$(i),typeof l=="function")for(i=l.call(i),a=0;!(s=i.next()).done;)s=s.value,l=n+x8(s,a++),o+=rS(s,e,t,l,r);else if(s==="object")throw e=String(i),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function EA(i,e,t){if(i==null)return i;var n=[],r=0;return rS(i,n,"","",function(s){return e.call(t,s,r++)}),n}function o$(i){if(i._status===-1){var e=i._result;e=e(),e.then(function(t){(i._status===0||i._status===-1)&&(i._status=1,i._result=t)},function(t){(i._status===0||i._status===-1)&&(i._status=2,i._result=t)}),i._status===-1&&(i._status=0,i._result=e)}if(i._status===1)return i._result.default;throw i._result}var $r={current:null},sS={transition:null},a$={ReactCurrentDispatcher:$r,ReactCurrentBatchConfig:sS,ReactCurrentOwner:i7};function mj(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:EA,forEach:function(i,e,t){EA(i,function(){e.apply(this,arguments)},t)},count:function(i){var e=0;return EA(i,function(){e++}),e},toArray:function(i){return EA(i,function(e){return e})||[]},only:function(i){if(!r7(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};jt.Component=Ag;jt.Fragment=YQ;jt.Profiler=qQ;jt.PureComponent=t7;jt.StrictMode=JQ;jt.Suspense=e$;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a$;jt.act=mj;jt.cloneElement=function(i,e,t){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var n=cj({},i.props),r=i.key,s=i.ref,o=i._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=i7.current),e.key!==void 0&&(r=""+e.key),i.type&&i.type.defaultProps)var a=i.type.defaultProps;for(l in e)dj.call(e,l)&&!fj.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:q3,type:i.type,key:r,ref:s,props:n,_owner:o}};jt.createContext=function(i){return i={$$typeof:QQ,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:ZQ,_context:i},i.Consumer=i};jt.createElement=pj;jt.createFactory=function(i){var e=pj.bind(null,i);return e.type=i,e};jt.createRef=function(){return{current:null}};jt.forwardRef=function(i){return{$$typeof:$Q,render:i}};jt.isValidElement=r7;jt.lazy=function(i){return{$$typeof:n$,_payload:{_status:-1,_result:i},_init:o$}};jt.memo=function(i,e){return{$$typeof:t$,type:i,compare:e===void 0?null:e}};jt.startTransition=function(i){var e=sS.transition;sS.transition={};try{i()}finally{sS.transition=e}};jt.unstable_act=mj;jt.useCallback=function(i,e){return $r.current.useCallback(i,e)};jt.useContext=function(i){return $r.current.useContext(i)};jt.useDebugValue=function(){};jt.useDeferredValue=function(i){return $r.current.useDeferredValue(i)};jt.useEffect=function(i,e){return $r.current.useEffect(i,e)};jt.useId=function(){return $r.current.useId()};jt.useImperativeHandle=function(i,e,t){return $r.current.useImperativeHandle(i,e,t)};jt.useInsertionEffect=function(i,e){return $r.current.useInsertionEffect(i,e)};jt.useLayoutEffect=function(i,e){return $r.current.useLayoutEffect(i,e)};jt.useMemo=function(i,e){return $r.current.useMemo(i,e)};jt.useReducer=function(i,e,t){return $r.current.useReducer(i,e,t)};jt.useRef=function(i){return $r.current.useRef(i)};jt.useState=function(i){return $r.current.useState(i)};jt.useSyncExternalStore=function(i,e,t){return $r.current.useSyncExternalStore(i,e,t)};jt.useTransition=function(){return $r.current.useTransition()};jt.version="18.3.1";aj.exports=jt;var N=aj.exports;const rn=L0(N),l$=WQ({__proto__:null,default:rn},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c$=N,u$=Symbol.for("react.element"),h$=Symbol.for("react.fragment"),d$=Object.prototype.hasOwnProperty,f$=c$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$={key:!0,ref:!0,__self:!0,__source:!0};function gj(i,e,t){var n,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)d$.call(e,n)&&!p$.hasOwnProperty(n)&&(r[n]=e[n]);if(i&&i.defaultProps)for(n in e=i.defaultProps,e)r[n]===void 0&&(r[n]=e[n]);return{$$typeof:u$,type:i,key:s,ref:o,props:r,_owner:f$.current}}wC.Fragment=h$;wC.jsx=gj;wC.jsxs=gj;oj.exports=wC;var S=oj.exports,ET={},vj={exports:{}},so={},yj={exports:{}},_j={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function e(k,Z){var K=k.length;k.push(Z);e:for(;0<K;){var ne=K-1>>>1,le=k[ne];if(0<r(le,Z))k[ne]=Z,k[K]=le,K=ne;else break e}}function t(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var Z=k[0],K=k.pop();if(K!==Z){k[0]=K;e:for(var ne=0,le=k.length,ye=le>>>1;ne<ye;){var re=2*(ne+1)-1,pe=k[re],Me=re+1,xe=k[Me];if(0>r(pe,K))Me<le&&0>r(xe,pe)?(k[ne]=xe,k[Me]=K,ne=Me):(k[ne]=pe,k[re]=K,ne=re);else if(Me<le&&0>r(xe,K))k[ne]=xe,k[Me]=K,ne=Me;else break e}}return Z}function r(k,Z){var K=k.sortIndex-Z.sortIndex;return K!==0?K:k.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();i.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,m=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(k){for(var Z=t(c);Z!==null;){if(Z.callback===null)n(c);else if(Z.startTime<=k)n(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=t(c)}}function C(k){if(y=!1,w(k),!g)if(t(l)!==null)g=!0,Q(T);else{var Z=t(c);Z!==null&&ee(C,Z.startTime-k)}}function T(k,Z){g=!1,y&&(y=!1,v(D),D=-1),m=!0;var K=d;try{for(w(Z),h=t(l);h!==null&&(!(h.expirationTime>Z)||k&&!O());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,d=h.priorityLevel;var le=ne(h.expirationTime<=Z);Z=i.unstable_now(),typeof le=="function"?h.callback=le:h===t(l)&&n(l),w(Z)}else n(l);h=t(l)}if(h!==null)var ye=!0;else{var re=t(c);re!==null&&ee(C,re.startTime-Z),ye=!1}return ye}finally{h=null,d=K,m=!1}}var E=!1,R=null,D=-1,I=5,L=-1;function O(){return!(i.unstable_now()-L<I)}function X(){if(R!==null){var k=i.unstable_now();L=k;var Z=!0;try{Z=R(!0,k)}finally{Z?W():(E=!1,R=null)}}else E=!1}var W;if(typeof A=="function")W=function(){A(X)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,$=q.port2;q.port1.onmessage=X,W=function(){$.postMessage(null)}}else W=function(){_(X,0)};function Q(k){R=k,E||(E=!0,W())}function ee(k,Z){D=_(function(){k(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(k){k.callback=null},i.unstable_continueExecution=function(){g||m||(g=!0,Q(T))},i.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<k?Math.floor(1e3/k):5},i.unstable_getCurrentPriorityLevel=function(){return d},i.unstable_getFirstCallbackNode=function(){return t(l)},i.unstable_next=function(k){switch(d){case 1:case 2:case 3:var Z=3;break;default:Z=d}var K=d;d=Z;try{return k()}finally{d=K}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(k,Z){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var K=d;d=k;try{return Z()}finally{d=K}},i.unstable_scheduleCallback=function(k,Z,K){var ne=i.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,k){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=K+le,k={id:u++,callback:Z,priorityLevel:k,startTime:K,expirationTime:le,sortIndex:-1},K>ne?(k.sortIndex=K,e(c,k),t(l)===null&&k===t(c)&&(y?(v(D),D=-1):y=!0,ee(C,K-ne))):(k.sortIndex=le,e(l,k),g||m||(g=!0,Q(T))),k},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(k){var Z=d;return function(){var K=d;d=Z;try{return k.apply(this,arguments)}finally{d=K}}}})(_j);yj.exports=_j;var m$=yj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g$=N,eo=m$;function Fe(i){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+i,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+i+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xj=new Set,Bv={};function D0(i,e){q2(i,e),q2(i+"Capture",e)}function q2(i,e){for(Bv[i]=e,i=0;i<e.length;i++)xj.add(e[i])}var zc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),TT=Object.prototype.hasOwnProperty,v$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oF={},aF={};function y$(i){return TT.call(aF,i)?!0:TT.call(oF,i)?!1:v$.test(i)?aF[i]=!0:(oF[i]=!0,!1)}function _$(i,e,t,n){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function x$(i,e,t,n){if(e===null||typeof e>"u"||_$(i,e,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function es(i,e,t,n,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=i,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){dr[i]=new es(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var e=i[0];dr[e]=new es(e,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){dr[i]=new es(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){dr[i]=new es(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){dr[i]=new es(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){dr[i]=new es(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){dr[i]=new es(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){dr[i]=new es(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){dr[i]=new es(i,5,!1,i.toLowerCase(),null,!1,!1)});var s7=/[\-:]([a-z])/g;function o7(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var e=i.replace(s7,o7);dr[e]=new es(e,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var e=i.replace(s7,o7);dr[e]=new es(e,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var e=i.replace(s7,o7);dr[e]=new es(e,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){dr[i]=new es(i,1,!1,i.toLowerCase(),null,!1,!1)});dr.xlinkHref=new es("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){dr[i]=new es(i,1,!1,i.toLowerCase(),null,!0,!0)});function a7(i,e,t,n){var r=dr.hasOwnProperty(e)?dr[e]:null;(r!==null?r.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(x$(e,t,r,n)&&(t=null),n||r===null?y$(e)&&(t===null?i.removeAttribute(e):i.setAttribute(e,""+t)):r.mustUseProperty?i[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,n=r.attributeNamespace,t===null?i.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,n?i.setAttributeNS(n,e,t):i.setAttribute(e,t))))}var qc=g$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,TA=Symbol.for("react.element"),Gp=Symbol.for("react.portal"),Vp=Symbol.for("react.fragment"),l7=Symbol.for("react.strict_mode"),RT=Symbol.for("react.profiler"),Aj=Symbol.for("react.provider"),wj=Symbol.for("react.context"),c7=Symbol.for("react.forward_ref"),PT=Symbol.for("react.suspense"),IT=Symbol.for("react.suspense_list"),u7=Symbol.for("react.memo"),bu=Symbol.for("react.lazy"),Sj=Symbol.for("react.offscreen"),lF=Symbol.iterator;function e1(i){return i===null||typeof i!="object"?null:(i=lF&&i[lF]||i["@@iterator"],typeof i=="function"?i:null)}var Wn=Object.assign,A8;function D1(i){if(A8===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);A8=e&&e[1]||""}return`
`+A8+i}var w8=!1;function S8(i,e){if(!i||w8)return"";w8=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(i,[],e)}else{try{e.call()}catch(c){n=c}i.call(e.prototype)}else{try{throw Error()}catch(c){n=c}i()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=n.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return i.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",i.displayName)),l}while(1<=o&&0<=a);break}}}finally{w8=!1,Error.prepareStackTrace=t}return(i=i?i.displayName||i.name:"")?D1(i):""}function A$(i){switch(i.tag){case 5:return D1(i.type);case 16:return D1("Lazy");case 13:return D1("Suspense");case 19:return D1("SuspenseList");case 0:case 2:case 15:return i=S8(i.type,!1),i;case 11:return i=S8(i.type.render,!1),i;case 1:return i=S8(i.type,!0),i;default:return""}}function LT(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Vp:return"Fragment";case Gp:return"Portal";case RT:return"Profiler";case l7:return"StrictMode";case PT:return"Suspense";case IT:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case wj:return(i.displayName||"Context")+".Consumer";case Aj:return(i._context.displayName||"Context")+".Provider";case c7:var e=i.render;return i=i.displayName,i||(i=e.displayName||e.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case u7:return e=i.displayName||null,e!==null?e:LT(i.type)||"Memo";case bu:e=i._payload,i=i._init;try{return LT(i(e))}catch{}}return null}function w$(i){var e=i.type;switch(i.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=e.render,i=i.displayName||i.name||"",e.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return LT(e);case 8:return e===l7?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ch(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function bj(i){var e=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function S$(i){var e=bj(i)?"checked":"value",t=Object.getOwnPropertyDescriptor(i.constructor.prototype,e),n=""+i[e];if(!i.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(i,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(i,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){i._valueTracker=null,delete i[e]}}}}function RA(i){i._valueTracker||(i._valueTracker=S$(i))}function Cj(i){if(!i)return!1;var e=i._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return i&&(n=bj(i)?i.checked?"true":"false":i.value),i=n,i!==t?(e.setValue(i),!0):!1}function e5(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function DT(i,e){var t=e.checked;return Wn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??i._wrapperState.initialChecked})}function cF(i,e){var t=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;t=Ch(e.value!=null?e.value:t),i._wrapperState={initialChecked:n,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Mj(i,e){e=e.checked,e!=null&&a7(i,"checked",e,!1)}function BT(i,e){Mj(i,e);var t=Ch(e.value),n=e.type;if(t!=null)n==="number"?(t===0&&i.value===""||i.value!=t)&&(i.value=""+t):i.value!==""+t&&(i.value=""+t);else if(n==="submit"||n==="reset"){i.removeAttribute("value");return}e.hasOwnProperty("value")?FT(i,e.type,t):e.hasOwnProperty("defaultValue")&&FT(i,e.type,Ch(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(i.defaultChecked=!!e.defaultChecked)}function uF(i,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+i._wrapperState.initialValue,t||e===i.value||(i.value=e),i.defaultValue=e}t=i.name,t!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,t!==""&&(i.name=t)}function FT(i,e,t){(e!=="number"||e5(i.ownerDocument)!==i)&&(t==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+t&&(i.defaultValue=""+t))}var B1=Array.isArray;function pm(i,e,t,n){if(i=i.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<i.length;t++)r=e.hasOwnProperty("$"+i[t].value),i[t].selected!==r&&(i[t].selected=r),r&&n&&(i[t].defaultSelected=!0)}else{for(t=""+Ch(t),e=null,r=0;r<i.length;r++){if(i[r].value===t){i[r].selected=!0,n&&(i[r].defaultSelected=!0);return}e!==null||i[r].disabled||(e=i[r])}e!==null&&(e.selected=!0)}}function OT(i,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Fe(91));return Wn({},e,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hF(i,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Fe(92));if(B1(t)){if(1<t.length)throw Error(Fe(93));t=t[0]}e=t}e==null&&(e=""),t=e}i._wrapperState={initialValue:Ch(t)}}function Ej(i,e){var t=Ch(e.value),n=Ch(e.defaultValue);t!=null&&(t=""+t,t!==i.value&&(i.value=t),e.defaultValue==null&&i.defaultValue!==t&&(i.defaultValue=t)),n!=null&&(i.defaultValue=""+n)}function dF(i){var e=i.textContent;e===i._wrapperState.initialValue&&e!==""&&e!==null&&(i.value=e)}function Tj(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kT(i,e){return i==null||i==="http://www.w3.org/1999/xhtml"?Tj(e):i==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var PA,Rj=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return i(e,t,n,r)})}:i}(function(i,e){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=e;else{for(PA=PA||document.createElement("div"),PA.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=PA.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;e.firstChild;)i.appendChild(e.firstChild)}});function Fv(i,e){if(e){var t=i.firstChild;if(t&&t===i.lastChild&&t.nodeType===3){t.nodeValue=e;return}}i.textContent=e}var sv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},b$=["Webkit","ms","Moz","O"];Object.keys(sv).forEach(function(i){b$.forEach(function(e){e=e+i.charAt(0).toUpperCase()+i.substring(1),sv[e]=sv[i]})});function Pj(i,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||sv.hasOwnProperty(i)&&sv[i]?(""+e).trim():e+"px"}function Ij(i,e){i=i.style;for(var t in e)if(e.hasOwnProperty(t)){var n=t.indexOf("--")===0,r=Pj(t,e[t],n);t==="float"&&(t="cssFloat"),n?i.setProperty(t,r):i[t]=r}}var C$=Wn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function NT(i,e){if(e){if(C$[i]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Fe(137,i));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Fe(62))}}function UT(i,e){if(i.indexOf("-")===-1)return typeof e.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zT=null;function h7(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var jT=null,mm=null,gm=null;function fF(i){if(i=$3(i)){if(typeof jT!="function")throw Error(Fe(280));var e=i.stateNode;e&&(e=EC(e),jT(i.stateNode,i.type,e))}}function Lj(i){mm?gm?gm.push(i):gm=[i]:mm=i}function Dj(){if(mm){var i=mm,e=gm;if(gm=mm=null,fF(i),e)for(i=0;i<e.length;i++)fF(e[i])}}function Bj(i,e){return i(e)}function Fj(){}var b8=!1;function Oj(i,e,t){if(b8)return i(e,t);b8=!0;try{return Bj(i,e,t)}finally{b8=!1,(mm!==null||gm!==null)&&(Fj(),Dj())}}function Ov(i,e){var t=i.stateNode;if(t===null)return null;var n=EC(t);if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(i=i.type,n=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!n;break e;default:i=!1}if(i)return null;if(t&&typeof t!="function")throw Error(Fe(231,e,typeof t));return t}var HT=!1;if(zc)try{var t1={};Object.defineProperty(t1,"passive",{get:function(){HT=!0}}),window.addEventListener("test",t1,t1),window.removeEventListener("test",t1,t1)}catch{HT=!1}function M$(i,e,t,n,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var ov=!1,t5=null,n5=!1,GT=null,E$={onError:function(i){ov=!0,t5=i}};function T$(i,e,t,n,r,s,o,a,l){ov=!1,t5=null,M$.apply(E$,arguments)}function R$(i,e,t,n,r,s,o,a,l){if(T$.apply(this,arguments),ov){if(ov){var c=t5;ov=!1,t5=null}else throw Error(Fe(198));n5||(n5=!0,GT=c)}}function B0(i){var e=i,t=i;if(i.alternate)for(;e.return;)e=e.return;else{i=e;do e=i,e.flags&4098&&(t=e.return),i=e.return;while(i)}return e.tag===3?t:null}function kj(i){if(i.tag===13){var e=i.memoizedState;if(e===null&&(i=i.alternate,i!==null&&(e=i.memoizedState)),e!==null)return e.dehydrated}return null}function pF(i){if(B0(i)!==i)throw Error(Fe(188))}function P$(i){var e=i.alternate;if(!e){if(e=B0(i),e===null)throw Error(Fe(188));return e!==i?null:i}for(var t=i,n=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(n=r.return,n!==null){t=n;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return pF(r),i;if(s===n)return pF(r),e;s=s.sibling}throw Error(Fe(188))}if(t.return!==n.return)t=r,n=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,n=s;break}if(a===n){o=!0,n=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,n=r;break}if(a===n){o=!0,n=s,t=r;break}a=a.sibling}if(!o)throw Error(Fe(189))}}if(t.alternate!==n)throw Error(Fe(190))}if(t.tag!==3)throw Error(Fe(188));return t.stateNode.current===t?i:e}function Nj(i){return i=P$(i),i!==null?Uj(i):null}function Uj(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var e=Uj(i);if(e!==null)return e;i=i.sibling}return null}var zj=eo.unstable_scheduleCallback,mF=eo.unstable_cancelCallback,I$=eo.unstable_shouldYield,L$=eo.unstable_requestPaint,li=eo.unstable_now,D$=eo.unstable_getCurrentPriorityLevel,d7=eo.unstable_ImmediatePriority,jj=eo.unstable_UserBlockingPriority,i5=eo.unstable_NormalPriority,B$=eo.unstable_LowPriority,Hj=eo.unstable_IdlePriority,SC=null,hl=null;function F$(i){if(hl&&typeof hl.onCommitFiberRoot=="function")try{hl.onCommitFiberRoot(SC,i,void 0,(i.current.flags&128)===128)}catch{}}var wa=Math.clz32?Math.clz32:N$,O$=Math.log,k$=Math.LN2;function N$(i){return i>>>=0,i===0?32:31-(O$(i)/k$|0)|0}var IA=64,LA=4194304;function F1(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function r5(i,e){var t=i.pendingLanes;if(t===0)return 0;var n=0,r=i.suspendedLanes,s=i.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?n=F1(a):(s&=o,s!==0&&(n=F1(s)))}else o=t&~r,o!==0?n=F1(o):s!==0&&(n=F1(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&r)&&(r=n&-n,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(n&4&&(n|=t&16),e=i.entangledLanes,e!==0)for(i=i.entanglements,e&=n;0<e;)t=31-wa(e),r=1<<t,n|=i[t],e&=~r;return n}function U$(i,e){switch(i){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z$(i,e){for(var t=i.suspendedLanes,n=i.pingedLanes,r=i.expirationTimes,s=i.pendingLanes;0<s;){var o=31-wa(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&n)&&(r[o]=U$(a,e)):l<=e&&(i.expiredLanes|=a),s&=~a}}function VT(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Gj(){var i=IA;return IA<<=1,!(IA&4194240)&&(IA=64),i}function C8(i){for(var e=[],t=0;31>t;t++)e.push(i);return e}function Z3(i,e,t){i.pendingLanes|=e,e!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,e=31-wa(e),i[e]=t}function j$(i,e){var t=i.pendingLanes&~e;i.pendingLanes=e,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=e,i.mutableReadLanes&=e,i.entangledLanes&=e,e=i.entanglements;var n=i.eventTimes;for(i=i.expirationTimes;0<t;){var r=31-wa(t),s=1<<r;e[r]=0,n[r]=-1,i[r]=-1,t&=~s}}function f7(i,e){var t=i.entangledLanes|=e;for(i=i.entanglements;t;){var n=31-wa(t),r=1<<n;r&e|i[n]&e&&(i[n]|=e),t&=~r}}var un=0;function Vj(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Wj,p7,Xj,Kj,Yj,WT=!1,DA=[],hh=null,dh=null,fh=null,kv=new Map,Nv=new Map,Mu=[],H$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gF(i,e){switch(i){case"focusin":case"focusout":hh=null;break;case"dragenter":case"dragleave":dh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":kv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nv.delete(e.pointerId)}}function n1(i,e,t,n,r,s){return i===null||i.nativeEvent!==s?(i={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:s,targetContainers:[r]},e!==null&&(e=$3(e),e!==null&&p7(e)),i):(i.eventSystemFlags|=n,e=i.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),i)}function G$(i,e,t,n,r){switch(e){case"focusin":return hh=n1(hh,i,e,t,n,r),!0;case"dragenter":return dh=n1(dh,i,e,t,n,r),!0;case"mouseover":return fh=n1(fh,i,e,t,n,r),!0;case"pointerover":var s=r.pointerId;return kv.set(s,n1(kv.get(s)||null,i,e,t,n,r)),!0;case"gotpointercapture":return s=r.pointerId,Nv.set(s,n1(Nv.get(s)||null,i,e,t,n,r)),!0}return!1}function Jj(i){var e=Fd(i.target);if(e!==null){var t=B0(e);if(t!==null){if(e=t.tag,e===13){if(e=kj(t),e!==null){i.blockedOn=e,Yj(i.priority,function(){Xj(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){i.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}i.blockedOn=null}function oS(i){if(i.blockedOn!==null)return!1;for(var e=i.targetContainers;0<e.length;){var t=XT(i.domEventName,i.eventSystemFlags,e[0],i.nativeEvent);if(t===null){t=i.nativeEvent;var n=new t.constructor(t.type,t);zT=n,t.target.dispatchEvent(n),zT=null}else return e=$3(t),e!==null&&p7(e),i.blockedOn=t,!1;e.shift()}return!0}function vF(i,e,t){oS(i)&&t.delete(e)}function V$(){WT=!1,hh!==null&&oS(hh)&&(hh=null),dh!==null&&oS(dh)&&(dh=null),fh!==null&&oS(fh)&&(fh=null),kv.forEach(vF),Nv.forEach(vF)}function i1(i,e){i.blockedOn===e&&(i.blockedOn=null,WT||(WT=!0,eo.unstable_scheduleCallback(eo.unstable_NormalPriority,V$)))}function Uv(i){function e(r){return i1(r,i)}if(0<DA.length){i1(DA[0],i);for(var t=1;t<DA.length;t++){var n=DA[t];n.blockedOn===i&&(n.blockedOn=null)}}for(hh!==null&&i1(hh,i),dh!==null&&i1(dh,i),fh!==null&&i1(fh,i),kv.forEach(e),Nv.forEach(e),t=0;t<Mu.length;t++)n=Mu[t],n.blockedOn===i&&(n.blockedOn=null);for(;0<Mu.length&&(t=Mu[0],t.blockedOn===null);)Jj(t),t.blockedOn===null&&Mu.shift()}var vm=qc.ReactCurrentBatchConfig,s5=!0;function W$(i,e,t,n){var r=un,s=vm.transition;vm.transition=null;try{un=1,m7(i,e,t,n)}finally{un=r,vm.transition=s}}function X$(i,e,t,n){var r=un,s=vm.transition;vm.transition=null;try{un=4,m7(i,e,t,n)}finally{un=r,vm.transition=s}}function m7(i,e,t,n){if(s5){var r=XT(i,e,t,n);if(r===null)F8(i,e,n,o5,t),gF(i,n);else if(G$(r,i,e,t,n))n.stopPropagation();else if(gF(i,n),e&4&&-1<H$.indexOf(i)){for(;r!==null;){var s=$3(r);if(s!==null&&Wj(s),s=XT(i,e,t,n),s===null&&F8(i,e,n,o5,t),s===r)break;r=s}r!==null&&n.stopPropagation()}else F8(i,e,n,null,t)}}var o5=null;function XT(i,e,t,n){if(o5=null,i=h7(n),i=Fd(i),i!==null)if(e=B0(i),e===null)i=null;else if(t=e.tag,t===13){if(i=kj(e),i!==null)return i;i=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;i=null}else e!==i&&(i=null);return o5=i,null}function qj(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D$()){case d7:return 1;case jj:return 4;case i5:case B$:return 16;case Hj:return 536870912;default:return 16}default:return 16}}var ih=null,g7=null,aS=null;function Zj(){if(aS)return aS;var i,e=g7,t=e.length,n,r="value"in ih?ih.value:ih.textContent,s=r.length;for(i=0;i<t&&e[i]===r[i];i++);var o=t-i;for(n=1;n<=o&&e[t-n]===r[s-n];n++);return aS=r.slice(i,1<n?1-n:void 0)}function lS(i){var e=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&e===13&&(i=13)):i=e,i===10&&(i=13),32<=i||i===13?i:0}function BA(){return!0}function yF(){return!1}function oo(i){function e(t,n,r,s,o){this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in i)i.hasOwnProperty(a)&&(t=i[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?BA:yF,this.isPropagationStopped=yF,this}return Wn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=BA)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=BA)},persist:function(){},isPersistent:BA}),e}var wg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},v7=oo(wg),Q3=Wn({},wg,{view:0,detail:0}),K$=oo(Q3),M8,E8,r1,bC=Wn({},Q3,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:y7,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==r1&&(r1&&i.type==="mousemove"?(M8=i.screenX-r1.screenX,E8=i.screenY-r1.screenY):E8=M8=0,r1=i),M8)},movementY:function(i){return"movementY"in i?i.movementY:E8}}),_F=oo(bC),Y$=Wn({},bC,{dataTransfer:0}),J$=oo(Y$),q$=Wn({},Q3,{relatedTarget:0}),T8=oo(q$),Z$=Wn({},wg,{animationName:0,elapsedTime:0,pseudoElement:0}),Q$=oo(Z$),$$=Wn({},wg,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),eee=oo($$),tee=Wn({},wg,{data:0}),xF=oo(tee),nee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ree={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function see(i){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(i):(i=ree[i])?!!e[i]:!1}function y7(){return see}var oee=Wn({},Q3,{key:function(i){if(i.key){var e=nee[i.key]||i.key;if(e!=="Unidentified")return e}return i.type==="keypress"?(i=lS(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?iee[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:y7,charCode:function(i){return i.type==="keypress"?lS(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?lS(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),aee=oo(oee),lee=Wn({},bC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),AF=oo(lee),cee=Wn({},Q3,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:y7}),uee=oo(cee),hee=Wn({},wg,{propertyName:0,elapsedTime:0,pseudoElement:0}),dee=oo(hee),fee=Wn({},bC,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),pee=oo(fee),mee=[9,13,27,32],_7=zc&&"CompositionEvent"in window,av=null;zc&&"documentMode"in document&&(av=document.documentMode);var gee=zc&&"TextEvent"in window&&!av,Qj=zc&&(!_7||av&&8<av&&11>=av),wF=" ",SF=!1;function $j(i,e){switch(i){case"keyup":return mee.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eH(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Wp=!1;function vee(i,e){switch(i){case"compositionend":return eH(e);case"keypress":return e.which!==32?null:(SF=!0,wF);case"textInput":return i=e.data,i===wF&&SF?null:i;default:return null}}function yee(i,e){if(Wp)return i==="compositionend"||!_7&&$j(i,e)?(i=Zj(),aS=g7=ih=null,Wp=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qj&&e.locale!=="ko"?null:e.data;default:return null}}var _ee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bF(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e==="input"?!!_ee[i.type]:e==="textarea"}function tH(i,e,t,n){Lj(n),e=a5(e,"onChange"),0<e.length&&(t=new v7("onChange","change",null,t,n),i.push({event:t,listeners:e}))}var lv=null,zv=null;function xee(i){dH(i,0)}function CC(i){var e=Yp(i);if(Cj(e))return i}function Aee(i,e){if(i==="change")return e}var nH=!1;if(zc){var R8;if(zc){var P8="oninput"in document;if(!P8){var CF=document.createElement("div");CF.setAttribute("oninput","return;"),P8=typeof CF.oninput=="function"}R8=P8}else R8=!1;nH=R8&&(!document.documentMode||9<document.documentMode)}function MF(){lv&&(lv.detachEvent("onpropertychange",iH),zv=lv=null)}function iH(i){if(i.propertyName==="value"&&CC(zv)){var e=[];tH(e,zv,i,h7(i)),Oj(xee,e)}}function wee(i,e,t){i==="focusin"?(MF(),lv=e,zv=t,lv.attachEvent("onpropertychange",iH)):i==="focusout"&&MF()}function See(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return CC(zv)}function bee(i,e){if(i==="click")return CC(e)}function Cee(i,e){if(i==="input"||i==="change")return CC(e)}function Mee(i,e){return i===e&&(i!==0||1/i===1/e)||i!==i&&e!==e}var ba=typeof Object.is=="function"?Object.is:Mee;function jv(i,e){if(ba(i,e))return!0;if(typeof i!="object"||i===null||typeof e!="object"||e===null)return!1;var t=Object.keys(i),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var r=t[n];if(!TT.call(e,r)||!ba(i[r],e[r]))return!1}return!0}function EF(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function TF(i,e){var t=EF(i);i=0;for(var n;t;){if(t.nodeType===3){if(n=i+t.textContent.length,i<=e&&n>=e)return{node:t,offset:e-i};i=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=EF(t)}}function rH(i,e){return i&&e?i===e?!0:i&&i.nodeType===3?!1:e&&e.nodeType===3?rH(i,e.parentNode):"contains"in i?i.contains(e):i.compareDocumentPosition?!!(i.compareDocumentPosition(e)&16):!1:!1}function sH(){for(var i=window,e=e5();e instanceof i.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)i=e.contentWindow;else break;e=e5(i.document)}return e}function x7(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e&&(e==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||e==="textarea"||i.contentEditable==="true")}function Eee(i){var e=sH(),t=i.focusedElem,n=i.selectionRange;if(e!==t&&t&&t.ownerDocument&&rH(t.ownerDocument.documentElement,t)){if(n!==null&&x7(t)){if(e=n.start,i=n.end,i===void 0&&(i=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(i,t.value.length);else if(i=(e=t.ownerDocument||document)&&e.defaultView||window,i.getSelection){i=i.getSelection();var r=t.textContent.length,s=Math.min(n.start,r);n=n.end===void 0?s:Math.min(n.end,r),!i.extend&&s>n&&(r=n,n=s,s=r),r=TF(t,s);var o=TF(t,n);r&&o&&(i.rangeCount!==1||i.anchorNode!==r.node||i.anchorOffset!==r.offset||i.focusNode!==o.node||i.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),i.removeAllRanges(),s>n?(i.addRange(e),i.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),i.addRange(e)))}}for(e=[],i=t;i=i.parentNode;)i.nodeType===1&&e.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)i=e[t],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Tee=zc&&"documentMode"in document&&11>=document.documentMode,Xp=null,KT=null,cv=null,YT=!1;function RF(i,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;YT||Xp==null||Xp!==e5(n)||(n=Xp,"selectionStart"in n&&x7(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),cv&&jv(cv,n)||(cv=n,n=a5(KT,"onSelect"),0<n.length&&(e=new v7("onSelect","select",null,e,t),i.push({event:e,listeners:n}),e.target=Xp)))}function FA(i,e){var t={};return t[i.toLowerCase()]=e.toLowerCase(),t["Webkit"+i]="webkit"+e,t["Moz"+i]="moz"+e,t}var Kp={animationend:FA("Animation","AnimationEnd"),animationiteration:FA("Animation","AnimationIteration"),animationstart:FA("Animation","AnimationStart"),transitionend:FA("Transition","TransitionEnd")},I8={},oH={};zc&&(oH=document.createElement("div").style,"AnimationEvent"in window||(delete Kp.animationend.animation,delete Kp.animationiteration.animation,delete Kp.animationstart.animation),"TransitionEvent"in window||delete Kp.transitionend.transition);function MC(i){if(I8[i])return I8[i];if(!Kp[i])return i;var e=Kp[i],t;for(t in e)if(e.hasOwnProperty(t)&&t in oH)return I8[i]=e[t];return i}var aH=MC("animationend"),lH=MC("animationiteration"),cH=MC("animationstart"),uH=MC("transitionend"),hH=new Map,PF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fh(i,e){hH.set(i,e),D0(e,[i])}for(var L8=0;L8<PF.length;L8++){var D8=PF[L8],Ree=D8.toLowerCase(),Pee=D8[0].toUpperCase()+D8.slice(1);Fh(Ree,"on"+Pee)}Fh(aH,"onAnimationEnd");Fh(lH,"onAnimationIteration");Fh(cH,"onAnimationStart");Fh("dblclick","onDoubleClick");Fh("focusin","onFocus");Fh("focusout","onBlur");Fh(uH,"onTransitionEnd");q2("onMouseEnter",["mouseout","mouseover"]);q2("onMouseLeave",["mouseout","mouseover"]);q2("onPointerEnter",["pointerout","pointerover"]);q2("onPointerLeave",["pointerout","pointerover"]);D0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));D0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));D0("onBeforeInput",["compositionend","keypress","textInput","paste"]);D0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));D0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));D0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var O1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iee=new Set("cancel close invalid load scroll toggle".split(" ").concat(O1));function IF(i,e,t){var n=i.type||"unknown-event";i.currentTarget=t,R$(n,e,void 0,i),i.currentTarget=null}function dH(i,e){e=(e&4)!==0;for(var t=0;t<i.length;t++){var n=i[t],r=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;IF(r,a,c),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;IF(r,a,c),s=l}}}if(n5)throw i=GT,n5=!1,GT=null,i}function Tn(i,e){var t=e[$T];t===void 0&&(t=e[$T]=new Set);var n=i+"__bubble";t.has(n)||(fH(e,i,2,!1),t.add(n))}function B8(i,e,t){var n=0;e&&(n|=4),fH(t,i,n,e)}var OA="_reactListening"+Math.random().toString(36).slice(2);function Hv(i){if(!i[OA]){i[OA]=!0,xj.forEach(function(t){t!=="selectionchange"&&(Iee.has(t)||B8(t,!1,i),B8(t,!0,i))});var e=i.nodeType===9?i:i.ownerDocument;e===null||e[OA]||(e[OA]=!0,B8("selectionchange",!1,e))}}function fH(i,e,t,n){switch(qj(e)){case 1:var r=W$;break;case 4:r=X$;break;default:r=m7}t=r.bind(null,e,t,i),r=void 0,!HT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),n?r!==void 0?i.addEventListener(e,t,{capture:!0,passive:r}):i.addEventListener(e,t,!0):r!==void 0?i.addEventListener(e,t,{passive:r}):i.addEventListener(e,t,!1)}function F8(i,e,t,n,r){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Fd(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}Oj(function(){var c=s,u=h7(t),h=[];e:{var d=hH.get(i);if(d!==void 0){var m=v7,g=i;switch(i){case"keypress":if(lS(t)===0)break e;case"keydown":case"keyup":m=aee;break;case"focusin":g="focus",m=T8;break;case"focusout":g="blur",m=T8;break;case"beforeblur":case"afterblur":m=T8;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=_F;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=J$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=uee;break;case aH:case lH:case cH:m=Q$;break;case uH:m=dee;break;case"scroll":m=K$;break;case"wheel":m=pee;break;case"copy":case"cut":case"paste":m=eee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=AF}var y=(e&4)!==0,_=!y&&i==="scroll",v=y?d!==null?d+"Capture":null:d;y=[];for(var A=c,w;A!==null;){w=A;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,v!==null&&(C=Ov(A,v),C!=null&&y.push(Gv(A,C,w)))),_)break;A=A.return}0<y.length&&(d=new m(d,g,null,t,u),h.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=i==="mouseover"||i==="pointerover",m=i==="mouseout"||i==="pointerout",d&&t!==zT&&(g=t.relatedTarget||t.fromElement)&&(Fd(g)||g[jc]))break e;if((m||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,m?(g=t.relatedTarget||t.toElement,m=c,g=g?Fd(g):null,g!==null&&(_=B0(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(y=_F,C="onMouseLeave",v="onMouseEnter",A="mouse",(i==="pointerout"||i==="pointerover")&&(y=AF,C="onPointerLeave",v="onPointerEnter",A="pointer"),_=m==null?d:Yp(m),w=g==null?d:Yp(g),d=new y(C,A+"leave",m,t,u),d.target=_,d.relatedTarget=w,C=null,Fd(u)===c&&(y=new y(v,A+"enter",g,t,u),y.target=w,y.relatedTarget=_,C=y),_=C,m&&g)t:{for(y=m,v=g,A=0,w=y;w;w=up(w))A++;for(w=0,C=v;C;C=up(C))w++;for(;0<A-w;)y=up(y),A--;for(;0<w-A;)v=up(v),w--;for(;A--;){if(y===v||v!==null&&y===v.alternate)break t;y=up(y),v=up(v)}y=null}else y=null;m!==null&&LF(h,d,m,y,!1),g!==null&&_!==null&&LF(h,_,g,y,!0)}}e:{if(d=c?Yp(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var T=Aee;else if(bF(d))if(nH)T=Cee;else{T=See;var E=wee}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=bee);if(T&&(T=T(i,c))){tH(h,T,t,u);break e}E&&E(i,d,c),i==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&FT(d,"number",d.value)}switch(E=c?Yp(c):window,i){case"focusin":(bF(E)||E.contentEditable==="true")&&(Xp=E,KT=c,cv=null);break;case"focusout":cv=KT=Xp=null;break;case"mousedown":YT=!0;break;case"contextmenu":case"mouseup":case"dragend":YT=!1,RF(h,t,u);break;case"selectionchange":if(Tee)break;case"keydown":case"keyup":RF(h,t,u)}var R;if(_7)e:{switch(i){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Wp?$j(i,t)&&(D="onCompositionEnd"):i==="keydown"&&t.keyCode===229&&(D="onCompositionStart");D&&(Qj&&t.locale!=="ko"&&(Wp||D!=="onCompositionStart"?D==="onCompositionEnd"&&Wp&&(R=Zj()):(ih=u,g7="value"in ih?ih.value:ih.textContent,Wp=!0)),E=a5(c,D),0<E.length&&(D=new xF(D,i,null,t,u),h.push({event:D,listeners:E}),R?D.data=R:(R=eH(t),R!==null&&(D.data=R)))),(R=gee?vee(i,t):yee(i,t))&&(c=a5(c,"onBeforeInput"),0<c.length&&(u=new xF("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=R))}dH(h,e)})}function Gv(i,e,t){return{instance:i,listener:e,currentTarget:t}}function a5(i,e){for(var t=e+"Capture",n=[];i!==null;){var r=i,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Ov(i,t),s!=null&&n.unshift(Gv(i,s,r)),s=Ov(i,e),s!=null&&n.push(Gv(i,s,r))),i=i.return}return n}function up(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function LF(i,e,t,n,r){for(var s=e._reactName,o=[];t!==null&&t!==n;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,r?(l=Ov(t,s),l!=null&&o.unshift(Gv(t,l,a))):r||(l=Ov(t,s),l!=null&&o.push(Gv(t,l,a)))),t=t.return}o.length!==0&&i.push({event:e,listeners:o})}var Lee=/\r\n?/g,Dee=/\u0000|\uFFFD/g;function DF(i){return(typeof i=="string"?i:""+i).replace(Lee,`
`).replace(Dee,"")}function kA(i,e,t){if(e=DF(e),DF(i)!==e&&t)throw Error(Fe(425))}function l5(){}var JT=null,qT=null;function ZT(i,e){return i==="textarea"||i==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var QT=typeof setTimeout=="function"?setTimeout:void 0,Bee=typeof clearTimeout=="function"?clearTimeout:void 0,BF=typeof Promise=="function"?Promise:void 0,Fee=typeof queueMicrotask=="function"?queueMicrotask:typeof BF<"u"?function(i){return BF.resolve(null).then(i).catch(Oee)}:QT;function Oee(i){setTimeout(function(){throw i})}function O8(i,e){var t=e,n=0;do{var r=t.nextSibling;if(i.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(n===0){i.removeChild(r),Uv(e);return}n--}else t!=="$"&&t!=="$?"&&t!=="$!"||n++;t=r}while(t);Uv(e)}function ph(i){for(;i!=null;i=i.nextSibling){var e=i.nodeType;if(e===1||e===3)break;if(e===8){if(e=i.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return i}function FF(i){i=i.previousSibling;for(var e=0;i;){if(i.nodeType===8){var t=i.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return i;e--}else t==="/$"&&e++}i=i.previousSibling}return null}var Sg=Math.random().toString(36).slice(2),ol="__reactFiber$"+Sg,Vv="__reactProps$"+Sg,jc="__reactContainer$"+Sg,$T="__reactEvents$"+Sg,kee="__reactListeners$"+Sg,Nee="__reactHandles$"+Sg;function Fd(i){var e=i[ol];if(e)return e;for(var t=i.parentNode;t;){if(e=t[jc]||t[ol]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(i=FF(i);i!==null;){if(t=i[ol])return t;i=FF(i)}return e}i=t,t=i.parentNode}return null}function $3(i){return i=i[ol]||i[jc],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Yp(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(Fe(33))}function EC(i){return i[Vv]||null}var e9=[],Jp=-1;function Oh(i){return{current:i}}function In(i){0>Jp||(i.current=e9[Jp],e9[Jp]=null,Jp--)}function Cn(i,e){Jp++,e9[Jp]=i.current,i.current=e}var Mh={},Or=Oh(Mh),gs=Oh(!1),p0=Mh;function Z2(i,e){var t=i.type.contextTypes;if(!t)return Mh;var n=i.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return n&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=e,i.__reactInternalMemoizedMaskedChildContext=r),r}function vs(i){return i=i.childContextTypes,i!=null}function c5(){In(gs),In(Or)}function OF(i,e,t){if(Or.current!==Mh)throw Error(Fe(168));Cn(Or,e),Cn(gs,t)}function pH(i,e,t){var n=i.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var r in n)if(!(r in e))throw Error(Fe(108,w$(i)||"Unknown",r));return Wn({},t,n)}function u5(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Mh,p0=Or.current,Cn(Or,i),Cn(gs,gs.current),!0}function kF(i,e,t){var n=i.stateNode;if(!n)throw Error(Fe(169));t?(i=pH(i,e,p0),n.__reactInternalMemoizedMergedChildContext=i,In(gs),In(Or),Cn(Or,i)):In(gs),Cn(gs,t)}var Wl=null,TC=!1,k8=!1;function mH(i){Wl===null?Wl=[i]:Wl.push(i)}function Uee(i){TC=!0,mH(i)}function kh(){if(!k8&&Wl!==null){k8=!0;var i=0,e=un;try{var t=Wl;for(un=1;i<t.length;i++){var n=t[i];do n=n(!0);while(n!==null)}Wl=null,TC=!1}catch(r){throw Wl!==null&&(Wl=Wl.slice(i+1)),zj(d7,kh),r}finally{un=e,k8=!1}}return null}var qp=[],Zp=0,h5=null,d5=0,Po=[],Io=0,m0=null,bc=1,Cc="";function yd(i,e){qp[Zp++]=d5,qp[Zp++]=h5,h5=i,d5=e}function gH(i,e,t){Po[Io++]=bc,Po[Io++]=Cc,Po[Io++]=m0,m0=i;var n=bc;i=Cc;var r=32-wa(n)-1;n&=~(1<<r),t+=1;var s=32-wa(e)+r;if(30<s){var o=r-r%5;s=(n&(1<<o)-1).toString(32),n>>=o,r-=o,bc=1<<32-wa(e)+r|t<<r|n,Cc=s+i}else bc=1<<s|t<<r|n,Cc=i}function A7(i){i.return!==null&&(yd(i,1),gH(i,1,0))}function w7(i){for(;i===h5;)h5=qp[--Zp],qp[Zp]=null,d5=qp[--Zp],qp[Zp]=null;for(;i===m0;)m0=Po[--Io],Po[Io]=null,Cc=Po[--Io],Po[Io]=null,bc=Po[--Io],Po[Io]=null}var Zs=null,Ks=null,Fn=!1,ya=null;function vH(i,e){var t=Bo(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=i,e=i.deletions,e===null?(i.deletions=[t],i.flags|=16):e.push(t)}function NF(i,e){switch(i.tag){case 5:var t=i.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(i.stateNode=e,Zs=i,Ks=ph(e.firstChild),!0):!1;case 6:return e=i.pendingProps===""||e.nodeType!==3?null:e,e!==null?(i.stateNode=e,Zs=i,Ks=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=m0!==null?{id:bc,overflow:Cc}:null,i.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Bo(18,null,null,0),t.stateNode=e,t.return=i,i.child=t,Zs=i,Ks=null,!0):!1;default:return!1}}function t9(i){return(i.mode&1)!==0&&(i.flags&128)===0}function n9(i){if(Fn){var e=Ks;if(e){var t=e;if(!NF(i,e)){if(t9(i))throw Error(Fe(418));e=ph(t.nextSibling);var n=Zs;e&&NF(i,e)?vH(n,t):(i.flags=i.flags&-4097|2,Fn=!1,Zs=i)}}else{if(t9(i))throw Error(Fe(418));i.flags=i.flags&-4097|2,Fn=!1,Zs=i}}}function UF(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Zs=i}function NA(i){if(i!==Zs)return!1;if(!Fn)return UF(i),Fn=!0,!1;var e;if((e=i.tag!==3)&&!(e=i.tag!==5)&&(e=i.type,e=e!=="head"&&e!=="body"&&!ZT(i.type,i.memoizedProps)),e&&(e=Ks)){if(t9(i))throw yH(),Error(Fe(418));for(;e;)vH(i,e),e=ph(e.nextSibling)}if(UF(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Fe(317));e:{for(i=i.nextSibling,e=0;i;){if(i.nodeType===8){var t=i.data;if(t==="/$"){if(e===0){Ks=ph(i.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}i=i.nextSibling}Ks=null}}else Ks=Zs?ph(i.stateNode.nextSibling):null;return!0}function yH(){for(var i=Ks;i;)i=ph(i.nextSibling)}function Q2(){Ks=Zs=null,Fn=!1}function S7(i){ya===null?ya=[i]:ya.push(i)}var zee=qc.ReactCurrentBatchConfig;function s1(i,e,t){if(i=t.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Fe(309));var n=t.stateNode}if(!n)throw Error(Fe(147,i));var r=n,s=""+i;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof i!="string")throw Error(Fe(284));if(!t._owner)throw Error(Fe(290,i))}return i}function UA(i,e){throw i=Object.prototype.toString.call(e),Error(Fe(31,i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i))}function zF(i){var e=i._init;return e(i._payload)}function _H(i){function e(v,A){if(i){var w=v.deletions;w===null?(v.deletions=[A],v.flags|=16):w.push(A)}}function t(v,A){if(!i)return null;for(;A!==null;)e(v,A),A=A.sibling;return null}function n(v,A){for(v=new Map;A!==null;)A.key!==null?v.set(A.key,A):v.set(A.index,A),A=A.sibling;return v}function r(v,A){return v=yh(v,A),v.index=0,v.sibling=null,v}function s(v,A,w){return v.index=w,i?(w=v.alternate,w!==null?(w=w.index,w<A?(v.flags|=2,A):w):(v.flags|=2,A)):(v.flags|=1048576,A)}function o(v){return i&&v.alternate===null&&(v.flags|=2),v}function a(v,A,w,C){return A===null||A.tag!==6?(A=V8(w,v.mode,C),A.return=v,A):(A=r(A,w),A.return=v,A)}function l(v,A,w,C){var T=w.type;return T===Vp?u(v,A,w.props.children,C,w.key):A!==null&&(A.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===bu&&zF(T)===A.type)?(C=r(A,w.props),C.ref=s1(v,A,w),C.return=v,C):(C=mS(w.type,w.key,w.props,null,v.mode,C),C.ref=s1(v,A,w),C.return=v,C)}function c(v,A,w,C){return A===null||A.tag!==4||A.stateNode.containerInfo!==w.containerInfo||A.stateNode.implementation!==w.implementation?(A=W8(w,v.mode,C),A.return=v,A):(A=r(A,w.children||[]),A.return=v,A)}function u(v,A,w,C,T){return A===null||A.tag!==7?(A=n0(w,v.mode,C,T),A.return=v,A):(A=r(A,w),A.return=v,A)}function h(v,A,w){if(typeof A=="string"&&A!==""||typeof A=="number")return A=V8(""+A,v.mode,w),A.return=v,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case TA:return w=mS(A.type,A.key,A.props,null,v.mode,w),w.ref=s1(v,null,A),w.return=v,w;case Gp:return A=W8(A,v.mode,w),A.return=v,A;case bu:var C=A._init;return h(v,C(A._payload),w)}if(B1(A)||e1(A))return A=n0(A,v.mode,w,null),A.return=v,A;UA(v,A)}return null}function d(v,A,w,C){var T=A!==null?A.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:a(v,A,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case TA:return w.key===T?l(v,A,w,C):null;case Gp:return w.key===T?c(v,A,w,C):null;case bu:return T=w._init,d(v,A,T(w._payload),C)}if(B1(w)||e1(w))return T!==null?null:u(v,A,w,C,null);UA(v,w)}return null}function m(v,A,w,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(w)||null,a(A,v,""+C,T);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case TA:return v=v.get(C.key===null?w:C.key)||null,l(A,v,C,T);case Gp:return v=v.get(C.key===null?w:C.key)||null,c(A,v,C,T);case bu:var E=C._init;return m(v,A,w,E(C._payload),T)}if(B1(C)||e1(C))return v=v.get(w)||null,u(A,v,C,T,null);UA(A,C)}return null}function g(v,A,w,C){for(var T=null,E=null,R=A,D=A=0,I=null;R!==null&&D<w.length;D++){R.index>D?(I=R,R=null):I=R.sibling;var L=d(v,R,w[D],C);if(L===null){R===null&&(R=I);break}i&&R&&L.alternate===null&&e(v,R),A=s(L,A,D),E===null?T=L:E.sibling=L,E=L,R=I}if(D===w.length)return t(v,R),Fn&&yd(v,D),T;if(R===null){for(;D<w.length;D++)R=h(v,w[D],C),R!==null&&(A=s(R,A,D),E===null?T=R:E.sibling=R,E=R);return Fn&&yd(v,D),T}for(R=n(v,R);D<w.length;D++)I=m(R,v,D,w[D],C),I!==null&&(i&&I.alternate!==null&&R.delete(I.key===null?D:I.key),A=s(I,A,D),E===null?T=I:E.sibling=I,E=I);return i&&R.forEach(function(O){return e(v,O)}),Fn&&yd(v,D),T}function y(v,A,w,C){var T=e1(w);if(typeof T!="function")throw Error(Fe(150));if(w=T.call(w),w==null)throw Error(Fe(151));for(var E=T=null,R=A,D=A=0,I=null,L=w.next();R!==null&&!L.done;D++,L=w.next()){R.index>D?(I=R,R=null):I=R.sibling;var O=d(v,R,L.value,C);if(O===null){R===null&&(R=I);break}i&&R&&O.alternate===null&&e(v,R),A=s(O,A,D),E===null?T=O:E.sibling=O,E=O,R=I}if(L.done)return t(v,R),Fn&&yd(v,D),T;if(R===null){for(;!L.done;D++,L=w.next())L=h(v,L.value,C),L!==null&&(A=s(L,A,D),E===null?T=L:E.sibling=L,E=L);return Fn&&yd(v,D),T}for(R=n(v,R);!L.done;D++,L=w.next())L=m(R,v,D,L.value,C),L!==null&&(i&&L.alternate!==null&&R.delete(L.key===null?D:L.key),A=s(L,A,D),E===null?T=L:E.sibling=L,E=L);return i&&R.forEach(function(X){return e(v,X)}),Fn&&yd(v,D),T}function _(v,A,w,C){if(typeof w=="object"&&w!==null&&w.type===Vp&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case TA:e:{for(var T=w.key,E=A;E!==null;){if(E.key===T){if(T=w.type,T===Vp){if(E.tag===7){t(v,E.sibling),A=r(E,w.props.children),A.return=v,v=A;break e}}else if(E.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===bu&&zF(T)===E.type){t(v,E.sibling),A=r(E,w.props),A.ref=s1(v,E,w),A.return=v,v=A;break e}t(v,E);break}else e(v,E);E=E.sibling}w.type===Vp?(A=n0(w.props.children,v.mode,C,w.key),A.return=v,v=A):(C=mS(w.type,w.key,w.props,null,v.mode,C),C.ref=s1(v,A,w),C.return=v,v=C)}return o(v);case Gp:e:{for(E=w.key;A!==null;){if(A.key===E)if(A.tag===4&&A.stateNode.containerInfo===w.containerInfo&&A.stateNode.implementation===w.implementation){t(v,A.sibling),A=r(A,w.children||[]),A.return=v,v=A;break e}else{t(v,A);break}else e(v,A);A=A.sibling}A=W8(w,v.mode,C),A.return=v,v=A}return o(v);case bu:return E=w._init,_(v,A,E(w._payload),C)}if(B1(w))return g(v,A,w,C);if(e1(w))return y(v,A,w,C);UA(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,A!==null&&A.tag===6?(t(v,A.sibling),A=r(A,w),A.return=v,v=A):(t(v,A),A=V8(w,v.mode,C),A.return=v,v=A),o(v)):t(v,A)}return _}var $2=_H(!0),xH=_H(!1),f5=Oh(null),p5=null,Qp=null,b7=null;function C7(){b7=Qp=p5=null}function M7(i){var e=f5.current;In(f5),i._currentValue=e}function i9(i,e,t){for(;i!==null;){var n=i.alternate;if((i.childLanes&e)!==e?(i.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),i===t)break;i=i.return}}function ym(i,e){p5=i,b7=Qp=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&e&&(fs=!0),i.firstContext=null)}function zo(i){var e=i._currentValue;if(b7!==i)if(i={context:i,memoizedValue:e,next:null},Qp===null){if(p5===null)throw Error(Fe(308));Qp=i,p5.dependencies={lanes:0,firstContext:i}}else Qp=Qp.next=i;return e}var Od=null;function E7(i){Od===null?Od=[i]:Od.push(i)}function AH(i,e,t,n){var r=e.interleaved;return r===null?(t.next=t,E7(e)):(t.next=r.next,r.next=t),e.interleaved=t,Hc(i,n)}function Hc(i,e){i.lanes|=e;var t=i.alternate;for(t!==null&&(t.lanes|=e),t=i,i=i.return;i!==null;)i.childLanes|=e,t=i.alternate,t!==null&&(t.childLanes|=e),t=i,i=i.return;return t.tag===3?t.stateNode:null}var Cu=!1;function T7(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wH(i,e){i=i.updateQueue,e.updateQueue===i&&(e.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Rc(i,e){return{eventTime:i,lane:e,tag:0,payload:null,callback:null,next:null}}function mh(i,e,t){var n=i.updateQueue;if(n===null)return null;if(n=n.shared,qt&2){var r=n.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),n.pending=e,Hc(i,t)}return r=n.interleaved,r===null?(e.next=e,E7(n)):(e.next=r.next,r.next=e),n.interleaved=e,Hc(i,t)}function cS(i,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var n=e.lanes;n&=i.pendingLanes,t|=n,e.lanes=t,f7(i,t)}}function jF(i,e){var t=i.updateQueue,n=i.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:n.shared,effects:n.effects},i.updateQueue=t;return}i=t.lastBaseUpdate,i===null?t.firstBaseUpdate=e:i.next=e,t.lastBaseUpdate=e}function m5(i,e,t,n){var r=i.updateQueue;Cu=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=i.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,m=a.eventTime;if((n&d)===d){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=i,y=a;switch(d=e,m=t,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(m,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,d=typeof g=="function"?g.call(m,h,d):g,d==null)break e;h=Wn({},h,d);break e;case 2:Cu=!0}}a.callback!==null&&a.lane!==0&&(i.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=h):u=u.next=m,o|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);if(u===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);v0|=o,i.lanes=o,i.memoizedState=h}}function HF(i,e,t){if(i=e.effects,e.effects=null,i!==null)for(e=0;e<i.length;e++){var n=i[e],r=n.callback;if(r!==null){if(n.callback=null,n=t,typeof r!="function")throw Error(Fe(191,r));r.call(n)}}}var ex={},dl=Oh(ex),Wv=Oh(ex),Xv=Oh(ex);function kd(i){if(i===ex)throw Error(Fe(174));return i}function R7(i,e){switch(Cn(Xv,e),Cn(Wv,i),Cn(dl,ex),i=e.nodeType,i){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kT(null,"");break;default:i=i===8?e.parentNode:e,e=i.namespaceURI||null,i=i.tagName,e=kT(e,i)}In(dl),Cn(dl,e)}function eg(){In(dl),In(Wv),In(Xv)}function SH(i){kd(Xv.current);var e=kd(dl.current),t=kT(e,i.type);e!==t&&(Cn(Wv,i),Cn(dl,t))}function P7(i){Wv.current===i&&(In(dl),In(Wv))}var Un=Oh(0);function g5(i){for(var e=i;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var N8=[];function I7(){for(var i=0;i<N8.length;i++)N8[i]._workInProgressVersionPrimary=null;N8.length=0}var uS=qc.ReactCurrentDispatcher,U8=qc.ReactCurrentBatchConfig,g0=0,Vn=null,Mi=null,Gi=null,v5=!1,uv=!1,Kv=0,jee=0;function vr(){throw Error(Fe(321))}function L7(i,e){if(e===null)return!1;for(var t=0;t<e.length&&t<i.length;t++)if(!ba(i[t],e[t]))return!1;return!0}function D7(i,e,t,n,r,s){if(g0=s,Vn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uS.current=i===null||i.memoizedState===null?Wee:Xee,i=t(n,r),uv){s=0;do{if(uv=!1,Kv=0,25<=s)throw Error(Fe(301));s+=1,Gi=Mi=null,e.updateQueue=null,uS.current=Kee,i=t(n,r)}while(uv)}if(uS.current=y5,e=Mi!==null&&Mi.next!==null,g0=0,Gi=Mi=Vn=null,v5=!1,e)throw Error(Fe(300));return i}function B7(){var i=Kv!==0;return Kv=0,i}function za(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gi===null?Vn.memoizedState=Gi=i:Gi=Gi.next=i,Gi}function jo(){if(Mi===null){var i=Vn.alternate;i=i!==null?i.memoizedState:null}else i=Mi.next;var e=Gi===null?Vn.memoizedState:Gi.next;if(e!==null)Gi=e,Mi=i;else{if(i===null)throw Error(Fe(310));Mi=i,i={memoizedState:Mi.memoizedState,baseState:Mi.baseState,baseQueue:Mi.baseQueue,queue:Mi.queue,next:null},Gi===null?Vn.memoizedState=Gi=i:Gi=Gi.next=i}return Gi}function Yv(i,e){return typeof e=="function"?e(i):e}function z8(i){var e=jo(),t=e.queue;if(t===null)throw Error(Fe(311));t.lastRenderedReducer=i;var n=Mi,r=n.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}n.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,n=n.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((g0&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:i(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Vn.lanes|=u,v0|=u}c=c.next}while(c!==null&&c!==s);l===null?o=n:l.next=a,ba(n,e.memoizedState)||(fs=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,t.lastRenderedState=n}if(i=t.interleaved,i!==null){r=i;do s=r.lane,Vn.lanes|=s,v0|=s,r=r.next;while(r!==i)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function j8(i){var e=jo(),t=e.queue;if(t===null)throw Error(Fe(311));t.lastRenderedReducer=i;var n=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=i(s,o.action),o=o.next;while(o!==r);ba(s,e.memoizedState)||(fs=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,n]}function bH(){}function CH(i,e){var t=Vn,n=jo(),r=e(),s=!ba(n.memoizedState,r);if(s&&(n.memoizedState=r,fs=!0),n=n.queue,F7(TH.bind(null,t,n,i),[i]),n.getSnapshot!==e||s||Gi!==null&&Gi.memoizedState.tag&1){if(t.flags|=2048,Jv(9,EH.bind(null,t,n,r,e),void 0,null),Wi===null)throw Error(Fe(349));g0&30||MH(t,e,r)}return r}function MH(i,e,t){i.flags|=16384,i={getSnapshot:e,value:t},e=Vn.updateQueue,e===null?(e={lastEffect:null,stores:null},Vn.updateQueue=e,e.stores=[i]):(t=e.stores,t===null?e.stores=[i]:t.push(i))}function EH(i,e,t,n){e.value=t,e.getSnapshot=n,RH(e)&&PH(i)}function TH(i,e,t){return t(function(){RH(e)&&PH(i)})}function RH(i){var e=i.getSnapshot;i=i.value;try{var t=e();return!ba(i,t)}catch{return!0}}function PH(i){var e=Hc(i,1);e!==null&&Sa(e,i,1,-1)}function GF(i){var e=za();return typeof i=="function"&&(i=i()),e.memoizedState=e.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yv,lastRenderedState:i},e.queue=i,i=i.dispatch=Vee.bind(null,Vn,i),[e.memoizedState,i]}function Jv(i,e,t,n){return i={tag:i,create:e,destroy:t,deps:n,next:null},e=Vn.updateQueue,e===null?(e={lastEffect:null,stores:null},Vn.updateQueue=e,e.lastEffect=i.next=i):(t=e.lastEffect,t===null?e.lastEffect=i.next=i:(n=t.next,t.next=i,i.next=n,e.lastEffect=i)),i}function IH(){return jo().memoizedState}function hS(i,e,t,n){var r=za();Vn.flags|=i,r.memoizedState=Jv(1|e,t,void 0,n===void 0?null:n)}function RC(i,e,t,n){var r=jo();n=n===void 0?null:n;var s=void 0;if(Mi!==null){var o=Mi.memoizedState;if(s=o.destroy,n!==null&&L7(n,o.deps)){r.memoizedState=Jv(e,t,s,n);return}}Vn.flags|=i,r.memoizedState=Jv(1|e,t,s,n)}function VF(i,e){return hS(8390656,8,i,e)}function F7(i,e){return RC(2048,8,i,e)}function LH(i,e){return RC(4,2,i,e)}function DH(i,e){return RC(4,4,i,e)}function BH(i,e){if(typeof e=="function")return i=i(),e(i),function(){e(null)};if(e!=null)return i=i(),e.current=i,function(){e.current=null}}function FH(i,e,t){return t=t!=null?t.concat([i]):null,RC(4,4,BH.bind(null,e,i),t)}function O7(){}function OH(i,e){var t=jo();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&L7(e,n[1])?n[0]:(t.memoizedState=[i,e],i)}function kH(i,e){var t=jo();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&L7(e,n[1])?n[0]:(i=i(),t.memoizedState=[i,e],i)}function NH(i,e,t){return g0&21?(ba(t,e)||(t=Gj(),Vn.lanes|=t,v0|=t,i.baseState=!0),e):(i.baseState&&(i.baseState=!1,fs=!0),i.memoizedState=t)}function Hee(i,e){var t=un;un=t!==0&&4>t?t:4,i(!0);var n=U8.transition;U8.transition={};try{i(!1),e()}finally{un=t,U8.transition=n}}function UH(){return jo().memoizedState}function Gee(i,e,t){var n=vh(i);if(t={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null},zH(i))jH(e,t);else if(t=AH(i,e,t,n),t!==null){var r=Zr();Sa(t,i,n,r),HH(t,e,n)}}function Vee(i,e,t){var n=vh(i),r={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null};if(zH(i))jH(e,r);else{var s=i.alternate;if(i.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,ba(a,o)){var l=e.interleaved;l===null?(r.next=r,E7(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=AH(i,e,r,n),t!==null&&(r=Zr(),Sa(t,i,n,r),HH(t,e,n))}}function zH(i){var e=i.alternate;return i===Vn||e!==null&&e===Vn}function jH(i,e){uv=v5=!0;var t=i.pending;t===null?e.next=e:(e.next=t.next,t.next=e),i.pending=e}function HH(i,e,t){if(t&4194240){var n=e.lanes;n&=i.pendingLanes,t|=n,e.lanes=t,f7(i,t)}}var y5={readContext:zo,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},Wee={readContext:zo,useCallback:function(i,e){return za().memoizedState=[i,e===void 0?null:e],i},useContext:zo,useEffect:VF,useImperativeHandle:function(i,e,t){return t=t!=null?t.concat([i]):null,hS(4194308,4,BH.bind(null,e,i),t)},useLayoutEffect:function(i,e){return hS(4194308,4,i,e)},useInsertionEffect:function(i,e){return hS(4,2,i,e)},useMemo:function(i,e){var t=za();return e=e===void 0?null:e,i=i(),t.memoizedState=[i,e],i},useReducer:function(i,e,t){var n=za();return e=t!==void 0?t(e):e,n.memoizedState=n.baseState=e,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:e},n.queue=i,i=i.dispatch=Gee.bind(null,Vn,i),[n.memoizedState,i]},useRef:function(i){var e=za();return i={current:i},e.memoizedState=i},useState:GF,useDebugValue:O7,useDeferredValue:function(i){return za().memoizedState=i},useTransition:function(){var i=GF(!1),e=i[0];return i=Hee.bind(null,i[1]),za().memoizedState=i,[e,i]},useMutableSource:function(){},useSyncExternalStore:function(i,e,t){var n=Vn,r=za();if(Fn){if(t===void 0)throw Error(Fe(407));t=t()}else{if(t=e(),Wi===null)throw Error(Fe(349));g0&30||MH(n,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,VF(TH.bind(null,n,s,i),[i]),n.flags|=2048,Jv(9,EH.bind(null,n,s,t,e),void 0,null),t},useId:function(){var i=za(),e=Wi.identifierPrefix;if(Fn){var t=Cc,n=bc;t=(n&~(1<<32-wa(n)-1)).toString(32)+t,e=":"+e+"R"+t,t=Kv++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=jee++,e=":"+e+"r"+t.toString(32)+":";return i.memoizedState=e},unstable_isNewReconciler:!1},Xee={readContext:zo,useCallback:OH,useContext:zo,useEffect:F7,useImperativeHandle:FH,useInsertionEffect:LH,useLayoutEffect:DH,useMemo:kH,useReducer:z8,useRef:IH,useState:function(){return z8(Yv)},useDebugValue:O7,useDeferredValue:function(i){var e=jo();return NH(e,Mi.memoizedState,i)},useTransition:function(){var i=z8(Yv)[0],e=jo().memoizedState;return[i,e]},useMutableSource:bH,useSyncExternalStore:CH,useId:UH,unstable_isNewReconciler:!1},Kee={readContext:zo,useCallback:OH,useContext:zo,useEffect:F7,useImperativeHandle:FH,useInsertionEffect:LH,useLayoutEffect:DH,useMemo:kH,useReducer:j8,useRef:IH,useState:function(){return j8(Yv)},useDebugValue:O7,useDeferredValue:function(i){var e=jo();return Mi===null?e.memoizedState=i:NH(e,Mi.memoizedState,i)},useTransition:function(){var i=j8(Yv)[0],e=jo().memoizedState;return[i,e]},useMutableSource:bH,useSyncExternalStore:CH,useId:UH,unstable_isNewReconciler:!1};function ea(i,e){if(i&&i.defaultProps){e=Wn({},e),i=i.defaultProps;for(var t in i)e[t]===void 0&&(e[t]=i[t]);return e}return e}function r9(i,e,t,n){e=i.memoizedState,t=t(n,e),t=t==null?e:Wn({},e,t),i.memoizedState=t,i.lanes===0&&(i.updateQueue.baseState=t)}var PC={isMounted:function(i){return(i=i._reactInternals)?B0(i)===i:!1},enqueueSetState:function(i,e,t){i=i._reactInternals;var n=Zr(),r=vh(i),s=Rc(n,r);s.payload=e,t!=null&&(s.callback=t),e=mh(i,s,r),e!==null&&(Sa(e,i,r,n),cS(e,i,r))},enqueueReplaceState:function(i,e,t){i=i._reactInternals;var n=Zr(),r=vh(i),s=Rc(n,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=mh(i,s,r),e!==null&&(Sa(e,i,r,n),cS(e,i,r))},enqueueForceUpdate:function(i,e){i=i._reactInternals;var t=Zr(),n=vh(i),r=Rc(t,n);r.tag=2,e!=null&&(r.callback=e),e=mh(i,r,n),e!==null&&(Sa(e,i,n,t),cS(e,i,n))}};function WF(i,e,t,n,r,s,o){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!jv(t,n)||!jv(r,s):!0}function GH(i,e,t){var n=!1,r=Mh,s=e.contextType;return typeof s=="object"&&s!==null?s=zo(s):(r=vs(e)?p0:Or.current,n=e.contextTypes,s=(n=n!=null)?Z2(i,r):Mh),e=new e(t,s),i.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=PC,i.stateNode=e,e._reactInternals=i,n&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=r,i.__reactInternalMemoizedMaskedChildContext=s),e}function XF(i,e,t,n){i=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==i&&PC.enqueueReplaceState(e,e.state,null)}function s9(i,e,t,n){var r=i.stateNode;r.props=t,r.state=i.memoizedState,r.refs={},T7(i);var s=e.contextType;typeof s=="object"&&s!==null?r.context=zo(s):(s=vs(e)?p0:Or.current,r.context=Z2(i,s)),r.state=i.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(r9(i,e,s,t),r.state=i.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&PC.enqueueReplaceState(r,r.state,null),m5(i,t,r,n),r.state=i.memoizedState),typeof r.componentDidMount=="function"&&(i.flags|=4194308)}function tg(i,e){try{var t="",n=e;do t+=A$(n),n=n.return;while(n);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:i,source:e,stack:r,digest:null}}function H8(i,e,t){return{value:i,source:null,stack:t??null,digest:e??null}}function o9(i,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Yee=typeof WeakMap=="function"?WeakMap:Map;function VH(i,e,t){t=Rc(-1,t),t.tag=3,t.payload={element:null};var n=e.value;return t.callback=function(){x5||(x5=!0,g9=n),o9(i,e)},t}function WH(i,e,t){t=Rc(-1,t),t.tag=3;var n=i.type.getDerivedStateFromError;if(typeof n=="function"){var r=e.value;t.payload=function(){return n(r)},t.callback=function(){o9(i,e)}}var s=i.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){o9(i,e),typeof n!="function"&&(gh===null?gh=new Set([this]):gh.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function KF(i,e,t){var n=i.pingCache;if(n===null){n=i.pingCache=new Yee;var r=new Set;n.set(e,r)}else r=n.get(e),r===void 0&&(r=new Set,n.set(e,r));r.has(t)||(r.add(t),i=lte.bind(null,i,e,t),e.then(i,i))}function YF(i){do{var e;if((e=i.tag===13)&&(e=i.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return i;i=i.return}while(i!==null);return null}function JF(i,e,t,n,r){return i.mode&1?(i.flags|=65536,i.lanes=r,i):(i===e?i.flags|=65536:(i.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Rc(-1,1),e.tag=2,mh(t,e,1))),t.lanes|=1),i)}var Jee=qc.ReactCurrentOwner,fs=!1;function Kr(i,e,t,n){e.child=i===null?xH(e,null,t,n):$2(e,i.child,t,n)}function qF(i,e,t,n,r){t=t.render;var s=e.ref;return ym(e,r),n=D7(i,e,t,n,s,r),t=B7(),i!==null&&!fs?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~r,Gc(i,e,r)):(Fn&&t&&A7(e),e.flags|=1,Kr(i,e,n,r),e.child)}function ZF(i,e,t,n,r){if(i===null){var s=t.type;return typeof s=="function"&&!V7(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,XH(i,e,s,n,r)):(i=mS(t.type,null,n,e,e.mode,r),i.ref=e.ref,i.return=e,e.child=i)}if(s=i.child,!(i.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:jv,t(o,n)&&i.ref===e.ref)return Gc(i,e,r)}return e.flags|=1,i=yh(s,n),i.ref=e.ref,i.return=e,e.child=i}function XH(i,e,t,n,r){if(i!==null){var s=i.memoizedProps;if(jv(s,n)&&i.ref===e.ref)if(fs=!1,e.pendingProps=n=s,(i.lanes&r)!==0)i.flags&131072&&(fs=!0);else return e.lanes=i.lanes,Gc(i,e,r)}return a9(i,e,t,n,r)}function KH(i,e,t){var n=e.pendingProps,r=n.children,s=i!==null?i.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cn(em,Gs),Gs|=t;else{if(!(t&1073741824))return i=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:i,cachePool:null,transitions:null},e.updateQueue=null,Cn(em,Gs),Gs|=i,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:t,Cn(em,Gs),Gs|=n}else s!==null?(n=s.baseLanes|t,e.memoizedState=null):n=t,Cn(em,Gs),Gs|=n;return Kr(i,e,r,t),e.child}function YH(i,e){var t=e.ref;(i===null&&t!==null||i!==null&&i.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function a9(i,e,t,n,r){var s=vs(t)?p0:Or.current;return s=Z2(e,s),ym(e,r),t=D7(i,e,t,n,s,r),n=B7(),i!==null&&!fs?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~r,Gc(i,e,r)):(Fn&&n&&A7(e),e.flags|=1,Kr(i,e,t,r),e.child)}function QF(i,e,t,n,r){if(vs(t)){var s=!0;u5(e)}else s=!1;if(ym(e,r),e.stateNode===null)dS(i,e),GH(e,t,n),s9(e,t,n,r),n=!0;else if(i===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=zo(c):(c=vs(t)?p0:Or.current,c=Z2(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&XF(e,o,n,c),Cu=!1;var d=e.memoizedState;o.state=d,m5(e,n,o,r),l=e.memoizedState,a!==n||d!==l||gs.current||Cu?(typeof u=="function"&&(r9(e,t,u,n),l=e.memoizedState),(a=Cu||WF(e,t,a,n,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,wH(i,e),a=e.memoizedProps,c=e.type===e.elementType?a:ea(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=zo(l):(l=vs(t)?p0:Or.current,l=Z2(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&XF(e,o,n,l),Cu=!1,d=e.memoizedState,o.state=d,m5(e,n,o,r);var g=e.memoizedState;a!==h||d!==g||gs.current||Cu?(typeof m=="function"&&(r9(e,t,m,n),g=e.memoizedState),(c=Cu||WF(e,t,c,n,d,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===i.memoizedProps&&d===i.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===i.memoizedProps&&d===i.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===i.memoizedProps&&d===i.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===i.memoizedProps&&d===i.memoizedState||(e.flags|=1024),n=!1)}return l9(i,e,t,n,s,r)}function l9(i,e,t,n,r,s){YH(i,e);var o=(e.flags&128)!==0;if(!n&&!o)return r&&kF(e,t,!1),Gc(i,e,s);n=e.stateNode,Jee.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,i!==null&&o?(e.child=$2(e,i.child,null,s),e.child=$2(e,null,a,s)):Kr(i,e,a,s),e.memoizedState=n.state,r&&kF(e,t,!0),e.child}function JH(i){var e=i.stateNode;e.pendingContext?OF(i,e.pendingContext,e.pendingContext!==e.context):e.context&&OF(i,e.context,!1),R7(i,e.containerInfo)}function $F(i,e,t,n,r){return Q2(),S7(r),e.flags|=256,Kr(i,e,t,n),e.child}var c9={dehydrated:null,treeContext:null,retryLane:0};function u9(i){return{baseLanes:i,cachePool:null,transitions:null}}function qH(i,e,t){var n=e.pendingProps,r=Un.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=i!==null&&i.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(i===null||i.memoizedState!==null)&&(r|=1),Cn(Un,r&1),i===null)return n9(e),i=e.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(e.mode&1?i.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,i=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=DC(o,n,0,null),i=n0(i,n,t,null),s.return=e,i.return=e,s.sibling=i,e.child=s,e.child.memoizedState=u9(t),e.memoizedState=c9,i):k7(e,o));if(r=i.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return qee(i,e,o,n,a,r,t);if(s){s=n.fallback,o=e.mode,r=i.child,a=r.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==r?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=yh(r,l),n.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=yh(a,s):(s=n0(s,o,t,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=i.child.memoizedState,o=o===null?u9(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=i.childLanes&~t,e.memoizedState=c9,n}return s=i.child,i=s.sibling,n=yh(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=t),n.return=e,n.sibling=null,i!==null&&(t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)),e.child=n,e.memoizedState=null,n}function k7(i,e){return e=DC({mode:"visible",children:e},i.mode,0,null),e.return=i,i.child=e}function zA(i,e,t,n){return n!==null&&S7(n),$2(e,i.child,null,t),i=k7(e,e.pendingProps.children),i.flags|=2,e.memoizedState=null,i}function qee(i,e,t,n,r,s,o){if(t)return e.flags&256?(e.flags&=-257,n=H8(Error(Fe(422))),zA(i,e,o,n)):e.memoizedState!==null?(e.child=i.child,e.flags|=128,null):(s=n.fallback,r=e.mode,n=DC({mode:"visible",children:n.children},r,0,null),s=n0(s,r,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&$2(e,i.child,null,o),e.child.memoizedState=u9(o),e.memoizedState=c9,s);if(!(e.mode&1))return zA(i,e,o,null);if(r.data==="$!"){if(n=r.nextSibling&&r.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(Fe(419)),n=H8(s,n,void 0),zA(i,e,o,n)}if(a=(o&i.childLanes)!==0,fs||a){if(n=Wi,n!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(n.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Hc(i,r),Sa(n,i,r,-1))}return G7(),n=H8(Error(Fe(421))),zA(i,e,o,n)}return r.data==="$?"?(e.flags|=128,e.child=i.child,e=cte.bind(null,i),r._reactRetry=e,null):(i=s.treeContext,Ks=ph(r.nextSibling),Zs=e,Fn=!0,ya=null,i!==null&&(Po[Io++]=bc,Po[Io++]=Cc,Po[Io++]=m0,bc=i.id,Cc=i.overflow,m0=e),e=k7(e,n.children),e.flags|=4096,e)}function eO(i,e,t){i.lanes|=e;var n=i.alternate;n!==null&&(n.lanes|=e),i9(i.return,e,t)}function G8(i,e,t,n,r){var s=i.memoizedState;s===null?i.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=t,s.tailMode=r)}function ZH(i,e,t){var n=e.pendingProps,r=n.revealOrder,s=n.tail;if(Kr(i,e,n.children,t),n=Un.current,n&2)n=n&1|2,e.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=e.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&eO(i,t,e);else if(i.tag===19)eO(i,t,e);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}n&=1}if(Cn(Un,n),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)i=t.alternate,i!==null&&g5(i)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),G8(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(i=r.alternate,i!==null&&g5(i)===null){e.child=r;break}i=r.sibling,r.sibling=t,t=r,r=i}G8(e,!0,t,null,s);break;case"together":G8(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dS(i,e){!(e.mode&1)&&i!==null&&(i.alternate=null,e.alternate=null,e.flags|=2)}function Gc(i,e,t){if(i!==null&&(e.dependencies=i.dependencies),v0|=e.lanes,!(t&e.childLanes))return null;if(i!==null&&e.child!==i.child)throw Error(Fe(153));if(e.child!==null){for(i=e.child,t=yh(i,i.pendingProps),e.child=t,t.return=e;i.sibling!==null;)i=i.sibling,t=t.sibling=yh(i,i.pendingProps),t.return=e;t.sibling=null}return e.child}function Zee(i,e,t){switch(e.tag){case 3:JH(e),Q2();break;case 5:SH(e);break;case 1:vs(e.type)&&u5(e);break;case 4:R7(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,r=e.memoizedProps.value;Cn(f5,n._currentValue),n._currentValue=r;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Cn(Un,Un.current&1),e.flags|=128,null):t&e.child.childLanes?qH(i,e,t):(Cn(Un,Un.current&1),i=Gc(i,e,t),i!==null?i.sibling:null);Cn(Un,Un.current&1);break;case 19:if(n=(t&e.childLanes)!==0,i.flags&128){if(n)return ZH(i,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cn(Un,Un.current),n)break;return null;case 22:case 23:return e.lanes=0,KH(i,e,t)}return Gc(i,e,t)}var QH,h9,$H,eG;QH=function(i,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)i.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};h9=function(){};$H=function(i,e,t,n){var r=i.memoizedProps;if(r!==n){i=e.stateNode,kd(dl.current);var s=null;switch(t){case"input":r=DT(i,r),n=DT(i,n),s=[];break;case"select":r=Wn({},r,{value:void 0}),n=Wn({},n,{value:void 0}),s=[];break;case"textarea":r=OT(i,r),n=OT(i,n),s=[];break;default:typeof r.onClick!="function"&&typeof n.onClick=="function"&&(i.onclick=l5)}NT(t,n);var o;t=null;for(c in r)if(!n.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bv.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(a=r!=null?r[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bv.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Tn("scroll",i),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};eG=function(i,e,t,n){t!==n&&(e.flags|=4)};function o1(i,e){if(!Fn)switch(i.tailMode){case"hidden":e=i.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?i.tail=null:t.sibling=null;break;case"collapsed":t=i.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||i.tail===null?i.tail=null:i.tail.sibling=null:n.sibling=null}}function yr(i){var e=i.alternate!==null&&i.alternate.child===i.child,t=0,n=0;if(e)for(var r=i.child;r!==null;)t|=r.lanes|r.childLanes,n|=r.subtreeFlags&14680064,n|=r.flags&14680064,r.return=i,r=r.sibling;else for(r=i.child;r!==null;)t|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=i,r=r.sibling;return i.subtreeFlags|=n,i.childLanes=t,e}function Qee(i,e,t){var n=e.pendingProps;switch(w7(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(e),null;case 1:return vs(e.type)&&c5(),yr(e),null;case 3:return n=e.stateNode,eg(),In(gs),In(Or),I7(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(i===null||i.child===null)&&(NA(e)?e.flags|=4:i===null||i.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ya!==null&&(_9(ya),ya=null))),h9(i,e),yr(e),null;case 5:P7(e);var r=kd(Xv.current);if(t=e.type,i!==null&&e.stateNode!=null)$H(i,e,t,n,r),i.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Fe(166));return yr(e),null}if(i=kd(dl.current),NA(e)){n=e.stateNode,t=e.type;var s=e.memoizedProps;switch(n[ol]=e,n[Vv]=s,i=(e.mode&1)!==0,t){case"dialog":Tn("cancel",n),Tn("close",n);break;case"iframe":case"object":case"embed":Tn("load",n);break;case"video":case"audio":for(r=0;r<O1.length;r++)Tn(O1[r],n);break;case"source":Tn("error",n);break;case"img":case"image":case"link":Tn("error",n),Tn("load",n);break;case"details":Tn("toggle",n);break;case"input":cF(n,s),Tn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Tn("invalid",n);break;case"textarea":hF(n,s),Tn("invalid",n)}NT(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&kA(n.textContent,a,i),r=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&kA(n.textContent,a,i),r=["children",""+a]):Bv.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Tn("scroll",n)}switch(t){case"input":RA(n),uF(n,s,!0);break;case"textarea":RA(n),dF(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=l5)}n=r,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Tj(t)),i==="http://www.w3.org/1999/xhtml"?t==="script"?(i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof n.is=="string"?i=o.createElement(t,{is:n.is}):(i=o.createElement(t),t==="select"&&(o=i,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):i=o.createElementNS(i,t),i[ol]=e,i[Vv]=n,QH(i,e,!1,!1),e.stateNode=i;e:{switch(o=UT(t,n),t){case"dialog":Tn("cancel",i),Tn("close",i),r=n;break;case"iframe":case"object":case"embed":Tn("load",i),r=n;break;case"video":case"audio":for(r=0;r<O1.length;r++)Tn(O1[r],i);r=n;break;case"source":Tn("error",i),r=n;break;case"img":case"image":case"link":Tn("error",i),Tn("load",i),r=n;break;case"details":Tn("toggle",i),r=n;break;case"input":cF(i,n),r=DT(i,n),Tn("invalid",i);break;case"option":r=n;break;case"select":i._wrapperState={wasMultiple:!!n.multiple},r=Wn({},n,{value:void 0}),Tn("invalid",i);break;case"textarea":hF(i,n),r=OT(i,n),Tn("invalid",i);break;default:r=n}NT(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Ij(i,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Rj(i,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Fv(i,l):typeof l=="number"&&Fv(i,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bv.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Tn("scroll",i):l!=null&&a7(i,s,l,o))}switch(t){case"input":RA(i),uF(i,n,!1);break;case"textarea":RA(i),dF(i);break;case"option":n.value!=null&&i.setAttribute("value",""+Ch(n.value));break;case"select":i.multiple=!!n.multiple,s=n.value,s!=null?pm(i,!!n.multiple,s,!1):n.defaultValue!=null&&pm(i,!!n.multiple,n.defaultValue,!0);break;default:typeof r.onClick=="function"&&(i.onclick=l5)}switch(t){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yr(e),null;case 6:if(i&&e.stateNode!=null)eG(i,e,i.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Fe(166));if(t=kd(Xv.current),kd(dl.current),NA(e)){if(n=e.stateNode,t=e.memoizedProps,n[ol]=e,(s=n.nodeValue!==t)&&(i=Zs,i!==null))switch(i.tag){case 3:kA(n.nodeValue,t,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&kA(n.nodeValue,t,(i.mode&1)!==0)}s&&(e.flags|=4)}else n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[ol]=e,e.stateNode=n}return yr(e),null;case 13:if(In(Un),n=e.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Fn&&Ks!==null&&e.mode&1&&!(e.flags&128))yH(),Q2(),e.flags|=98560,s=!1;else if(s=NA(e),n!==null&&n.dehydrated!==null){if(i===null){if(!s)throw Error(Fe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Fe(317));s[ol]=e}else Q2(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yr(e),s=!1}else ya!==null&&(_9(ya),ya=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(n=n!==null,n!==(i!==null&&i.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(i===null||Un.current&1?Ti===0&&(Ti=3):G7())),e.updateQueue!==null&&(e.flags|=4),yr(e),null);case 4:return eg(),h9(i,e),i===null&&Hv(e.stateNode.containerInfo),yr(e),null;case 10:return M7(e.type._context),yr(e),null;case 17:return vs(e.type)&&c5(),yr(e),null;case 19:if(In(Un),s=e.memoizedState,s===null)return yr(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)o1(s,!1);else{if(Ti!==0||i!==null&&i.flags&128)for(i=e.child;i!==null;){if(o=g5(i),o!==null){for(e.flags|=128,o1(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=t,t=e.child;t!==null;)s=t,i=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,i=o.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t=t.sibling;return Cn(Un,Un.current&1|2),e.child}i=i.sibling}s.tail!==null&&li()>ng&&(e.flags|=128,n=!0,o1(s,!1),e.lanes=4194304)}else{if(!n)if(i=g5(o),i!==null){if(e.flags|=128,n=!0,t=i.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),o1(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Fn)return yr(e),null}else 2*li()-s.renderingStartTime>ng&&t!==1073741824&&(e.flags|=128,n=!0,o1(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=li(),e.sibling=null,t=Un.current,Cn(Un,n?t&1|2:t&1),e):(yr(e),null);case 22:case 23:return H7(),n=e.memoizedState!==null,i!==null&&i.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Gs&1073741824&&(yr(e),e.subtreeFlags&6&&(e.flags|=8192)):yr(e),null;case 24:return null;case 25:return null}throw Error(Fe(156,e.tag))}function $ee(i,e){switch(w7(e),e.tag){case 1:return vs(e.type)&&c5(),i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 3:return eg(),In(gs),In(Or),I7(),i=e.flags,i&65536&&!(i&128)?(e.flags=i&-65537|128,e):null;case 5:return P7(e),null;case 13:if(In(Un),i=e.memoizedState,i!==null&&i.dehydrated!==null){if(e.alternate===null)throw Error(Fe(340));Q2()}return i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 19:return In(Un),null;case 4:return eg(),null;case 10:return M7(e.type._context),null;case 22:case 23:return H7(),null;case 24:return null;default:return null}}var jA=!1,Er=!1,ete=typeof WeakSet=="function"?WeakSet:Set,tt=null;function $p(i,e){var t=i.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){Zn(i,e,n)}else t.current=null}function d9(i,e,t){try{t()}catch(n){Zn(i,e,n)}}var tO=!1;function tte(i,e){if(JT=s5,i=sH(),x7(i)){if("selectionStart"in i)var t={start:i.selectionStart,end:i.selectionEnd};else e:{t=(t=i.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var r=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=i,d=null;t:for(;;){for(var m;h!==t||r!==0&&h.nodeType!==3||(a=o+r),h!==s||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)d=h,h=m;for(;;){if(h===i)break t;if(d===t&&++c===r&&(a=o),d===s&&++u===n&&(l=o),(m=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(qT={focusedElem:i,selectionRange:t},s5=!1,tt=e;tt!==null;)if(e=tt,i=e.child,(e.subtreeFlags&1028)!==0&&i!==null)i.return=e,tt=i;else for(;tt!==null;){e=tt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,_=g.memoizedState,v=e.stateNode,A=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:ea(e.type,y),_);v.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Fe(163))}}catch(C){Zn(e,e.return,C)}if(i=e.sibling,i!==null){i.return=e.return,tt=i;break}tt=e.return}return g=tO,tO=!1,g}function hv(i,e,t){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&i)===i){var s=r.destroy;r.destroy=void 0,s!==void 0&&d9(e,t,s)}r=r.next}while(r!==n)}}function IC(i,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&i)===i){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}}function f9(i){var e=i.ref;if(e!==null){var t=i.stateNode;switch(i.tag){case 5:i=t;break;default:i=t}typeof e=="function"?e(i):e.current=i}}function tG(i){var e=i.alternate;e!==null&&(i.alternate=null,tG(e)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(e=i.stateNode,e!==null&&(delete e[ol],delete e[Vv],delete e[$T],delete e[kee],delete e[Nee])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function nG(i){return i.tag===5||i.tag===3||i.tag===4}function nO(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||nG(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function p9(i,e,t){var n=i.tag;if(n===5||n===6)i=i.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(i,e):t.insertBefore(i,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(i,t)):(e=t,e.appendChild(i)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=l5));else if(n!==4&&(i=i.child,i!==null))for(p9(i,e,t),i=i.sibling;i!==null;)p9(i,e,t),i=i.sibling}function m9(i,e,t){var n=i.tag;if(n===5||n===6)i=i.stateNode,e?t.insertBefore(i,e):t.appendChild(i);else if(n!==4&&(i=i.child,i!==null))for(m9(i,e,t),i=i.sibling;i!==null;)m9(i,e,t),i=i.sibling}var or=null,va=!1;function au(i,e,t){for(t=t.child;t!==null;)iG(i,e,t),t=t.sibling}function iG(i,e,t){if(hl&&typeof hl.onCommitFiberUnmount=="function")try{hl.onCommitFiberUnmount(SC,t)}catch{}switch(t.tag){case 5:Er||$p(t,e);case 6:var n=or,r=va;or=null,au(i,e,t),or=n,va=r,or!==null&&(va?(i=or,t=t.stateNode,i.nodeType===8?i.parentNode.removeChild(t):i.removeChild(t)):or.removeChild(t.stateNode));break;case 18:or!==null&&(va?(i=or,t=t.stateNode,i.nodeType===8?O8(i.parentNode,t):i.nodeType===1&&O8(i,t),Uv(i)):O8(or,t.stateNode));break;case 4:n=or,r=va,or=t.stateNode.containerInfo,va=!0,au(i,e,t),or=n,va=r;break;case 0:case 11:case 14:case 15:if(!Er&&(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){r=n=n.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&d9(t,e,o),r=r.next}while(r!==n)}au(i,e,t);break;case 1:if(!Er&&($p(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(a){Zn(t,e,a)}au(i,e,t);break;case 21:au(i,e,t);break;case 22:t.mode&1?(Er=(n=Er)||t.memoizedState!==null,au(i,e,t),Er=n):au(i,e,t);break;default:au(i,e,t)}}function iO(i){var e=i.updateQueue;if(e!==null){i.updateQueue=null;var t=i.stateNode;t===null&&(t=i.stateNode=new ete),e.forEach(function(n){var r=ute.bind(null,i,n);t.has(n)||(t.add(n),n.then(r,r))})}}function Yo(i,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];try{var s=i,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:or=a.stateNode,va=!1;break e;case 3:or=a.stateNode.containerInfo,va=!0;break e;case 4:or=a.stateNode.containerInfo,va=!0;break e}a=a.return}if(or===null)throw Error(Fe(160));iG(s,o,r),or=null,va=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Zn(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rG(e,i),e=e.sibling}function rG(i,e){var t=i.alternate,n=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Yo(e,i),Na(i),n&4){try{hv(3,i,i.return),IC(3,i)}catch(y){Zn(i,i.return,y)}try{hv(5,i,i.return)}catch(y){Zn(i,i.return,y)}}break;case 1:Yo(e,i),Na(i),n&512&&t!==null&&$p(t,t.return);break;case 5:if(Yo(e,i),Na(i),n&512&&t!==null&&$p(t,t.return),i.flags&32){var r=i.stateNode;try{Fv(r,"")}catch(y){Zn(i,i.return,y)}}if(n&4&&(r=i.stateNode,r!=null)){var s=i.memoizedProps,o=t!==null?t.memoizedProps:s,a=i.type,l=i.updateQueue;if(i.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Mj(r,s),UT(a,o);var c=UT(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?Ij(r,h):u==="dangerouslySetInnerHTML"?Rj(r,h):u==="children"?Fv(r,h):a7(r,u,h,c)}switch(a){case"input":BT(r,s);break;case"textarea":Ej(r,s);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?pm(r,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?pm(r,!!s.multiple,s.defaultValue,!0):pm(r,!!s.multiple,s.multiple?[]:"",!1))}r[Vv]=s}catch(y){Zn(i,i.return,y)}}break;case 6:if(Yo(e,i),Na(i),n&4){if(i.stateNode===null)throw Error(Fe(162));r=i.stateNode,s=i.memoizedProps;try{r.nodeValue=s}catch(y){Zn(i,i.return,y)}}break;case 3:if(Yo(e,i),Na(i),n&4&&t!==null&&t.memoizedState.isDehydrated)try{Uv(e.containerInfo)}catch(y){Zn(i,i.return,y)}break;case 4:Yo(e,i),Na(i);break;case 13:Yo(e,i),Na(i),r=i.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(z7=li())),n&4&&iO(i);break;case 22:if(u=t!==null&&t.memoizedState!==null,i.mode&1?(Er=(c=Er)||u,Yo(e,i),Er=c):Yo(e,i),Na(i),n&8192){if(c=i.memoizedState!==null,(i.stateNode.isHidden=c)&&!u&&i.mode&1)for(tt=i,u=i.child;u!==null;){for(h=tt=u;tt!==null;){switch(d=tt,m=d.child,d.tag){case 0:case 11:case 14:case 15:hv(4,d,d.return);break;case 1:$p(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){n=d,t=d.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Zn(n,t,y)}}break;case 5:$p(d,d.return);break;case 22:if(d.memoizedState!==null){sO(h);continue}}m!==null?(m.return=d,tt=m):sO(h)}u=u.sibling}e:for(u=null,h=i;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Pj("display",o))}catch(y){Zn(i,i.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Zn(i,i.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===i)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Yo(e,i),Na(i),n&4&&iO(i);break;case 21:break;default:Yo(e,i),Na(i)}}function Na(i){var e=i.flags;if(e&2){try{e:{for(var t=i.return;t!==null;){if(nG(t)){var n=t;break e}t=t.return}throw Error(Fe(160))}switch(n.tag){case 5:var r=n.stateNode;n.flags&32&&(Fv(r,""),n.flags&=-33);var s=nO(i);m9(i,s,r);break;case 3:case 4:var o=n.stateNode.containerInfo,a=nO(i);p9(i,a,o);break;default:throw Error(Fe(161))}}catch(l){Zn(i,i.return,l)}i.flags&=-3}e&4096&&(i.flags&=-4097)}function nte(i,e,t){tt=i,sG(i)}function sG(i,e,t){for(var n=(i.mode&1)!==0;tt!==null;){var r=tt,s=r.child;if(r.tag===22&&n){var o=r.memoizedState!==null||jA;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Er;a=jA;var c=Er;if(jA=o,(Er=l)&&!c)for(tt=r;tt!==null;)o=tt,l=o.child,o.tag===22&&o.memoizedState!==null?oO(r):l!==null?(l.return=o,tt=l):oO(r);for(;s!==null;)tt=s,sG(s),s=s.sibling;tt=r,jA=a,Er=c}rO(i)}else r.subtreeFlags&8772&&s!==null?(s.return=r,tt=s):rO(i)}}function rO(i){for(;tt!==null;){var e=tt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Er||IC(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Er)if(t===null)n.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:ea(e.type,t.memoizedProps);n.componentDidUpdate(r,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&HF(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}HF(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Uv(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Fe(163))}Er||e.flags&512&&f9(e)}catch(d){Zn(e,e.return,d)}}if(e===i){tt=null;break}if(t=e.sibling,t!==null){t.return=e.return,tt=t;break}tt=e.return}}function sO(i){for(;tt!==null;){var e=tt;if(e===i){tt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,tt=t;break}tt=e.return}}function oO(i){for(;tt!==null;){var e=tt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{IC(4,e)}catch(l){Zn(e,t,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var r=e.return;try{n.componentDidMount()}catch(l){Zn(e,r,l)}}var s=e.return;try{f9(e)}catch(l){Zn(e,s,l)}break;case 5:var o=e.return;try{f9(e)}catch(l){Zn(e,o,l)}}}catch(l){Zn(e,e.return,l)}if(e===i){tt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,tt=a;break}tt=e.return}}var ite=Math.ceil,_5=qc.ReactCurrentDispatcher,N7=qc.ReactCurrentOwner,Uo=qc.ReactCurrentBatchConfig,qt=0,Wi=null,yi=null,ur=0,Gs=0,em=Oh(0),Ti=0,qv=null,v0=0,LC=0,U7=0,dv=null,ds=null,z7=0,ng=1/0,Ul=null,x5=!1,g9=null,gh=null,HA=!1,rh=null,A5=0,fv=0,v9=null,fS=-1,pS=0;function Zr(){return qt&6?li():fS!==-1?fS:fS=li()}function vh(i){return i.mode&1?qt&2&&ur!==0?ur&-ur:zee.transition!==null?(pS===0&&(pS=Gj()),pS):(i=un,i!==0||(i=window.event,i=i===void 0?16:qj(i.type)),i):1}function Sa(i,e,t,n){if(50<fv)throw fv=0,v9=null,Error(Fe(185));Z3(i,t,n),(!(qt&2)||i!==Wi)&&(i===Wi&&(!(qt&2)&&(LC|=t),Ti===4&&Eu(i,ur)),ys(i,n),t===1&&qt===0&&!(e.mode&1)&&(ng=li()+500,TC&&kh()))}function ys(i,e){var t=i.callbackNode;z$(i,e);var n=r5(i,i===Wi?ur:0);if(n===0)t!==null&&mF(t),i.callbackNode=null,i.callbackPriority=0;else if(e=n&-n,i.callbackPriority!==e){if(t!=null&&mF(t),e===1)i.tag===0?Uee(aO.bind(null,i)):mH(aO.bind(null,i)),Fee(function(){!(qt&6)&&kh()}),t=null;else{switch(Vj(n)){case 1:t=d7;break;case 4:t=jj;break;case 16:t=i5;break;case 536870912:t=Hj;break;default:t=i5}t=fG(t,oG.bind(null,i))}i.callbackPriority=e,i.callbackNode=t}}function oG(i,e){if(fS=-1,pS=0,qt&6)throw Error(Fe(327));var t=i.callbackNode;if(_m()&&i.callbackNode!==t)return null;var n=r5(i,i===Wi?ur:0);if(n===0)return null;if(n&30||n&i.expiredLanes||e)e=w5(i,n);else{e=n;var r=qt;qt|=2;var s=lG();(Wi!==i||ur!==e)&&(Ul=null,ng=li()+500,t0(i,e));do try{ote();break}catch(a){aG(i,a)}while(!0);C7(),_5.current=s,qt=r,yi!==null?e=0:(Wi=null,ur=0,e=Ti)}if(e!==0){if(e===2&&(r=VT(i),r!==0&&(n=r,e=y9(i,r))),e===1)throw t=qv,t0(i,0),Eu(i,n),ys(i,li()),t;if(e===6)Eu(i,n);else{if(r=i.current.alternate,!(n&30)&&!rte(r)&&(e=w5(i,n),e===2&&(s=VT(i),s!==0&&(n=s,e=y9(i,s))),e===1))throw t=qv,t0(i,0),Eu(i,n),ys(i,li()),t;switch(i.finishedWork=r,i.finishedLanes=n,e){case 0:case 1:throw Error(Fe(345));case 2:_d(i,ds,Ul);break;case 3:if(Eu(i,n),(n&130023424)===n&&(e=z7+500-li(),10<e)){if(r5(i,0)!==0)break;if(r=i.suspendedLanes,(r&n)!==n){Zr(),i.pingedLanes|=i.suspendedLanes&r;break}i.timeoutHandle=QT(_d.bind(null,i,ds,Ul),e);break}_d(i,ds,Ul);break;case 4:if(Eu(i,n),(n&4194240)===n)break;for(e=i.eventTimes,r=-1;0<n;){var o=31-wa(n);s=1<<o,o=e[o],o>r&&(r=o),n&=~s}if(n=r,n=li()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ite(n/1960))-n,10<n){i.timeoutHandle=QT(_d.bind(null,i,ds,Ul),n);break}_d(i,ds,Ul);break;case 5:_d(i,ds,Ul);break;default:throw Error(Fe(329))}}}return ys(i,li()),i.callbackNode===t?oG.bind(null,i):null}function y9(i,e){var t=dv;return i.current.memoizedState.isDehydrated&&(t0(i,e).flags|=256),i=w5(i,e),i!==2&&(e=ds,ds=t,e!==null&&_9(e)),i}function _9(i){ds===null?ds=i:ds.push.apply(ds,i)}function rte(i){for(var e=i;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var n=0;n<t.length;n++){var r=t[n],s=r.getSnapshot;r=r.value;try{if(!ba(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Eu(i,e){for(e&=~U7,e&=~LC,i.suspendedLanes|=e,i.pingedLanes&=~e,i=i.expirationTimes;0<e;){var t=31-wa(e),n=1<<t;i[t]=-1,e&=~n}}function aO(i){if(qt&6)throw Error(Fe(327));_m();var e=r5(i,0);if(!(e&1))return ys(i,li()),null;var t=w5(i,e);if(i.tag!==0&&t===2){var n=VT(i);n!==0&&(e=n,t=y9(i,n))}if(t===1)throw t=qv,t0(i,0),Eu(i,e),ys(i,li()),t;if(t===6)throw Error(Fe(345));return i.finishedWork=i.current.alternate,i.finishedLanes=e,_d(i,ds,Ul),ys(i,li()),null}function j7(i,e){var t=qt;qt|=1;try{return i(e)}finally{qt=t,qt===0&&(ng=li()+500,TC&&kh())}}function y0(i){rh!==null&&rh.tag===0&&!(qt&6)&&_m();var e=qt;qt|=1;var t=Uo.transition,n=un;try{if(Uo.transition=null,un=1,i)return i()}finally{un=n,Uo.transition=t,qt=e,!(qt&6)&&kh()}}function H7(){Gs=em.current,In(em)}function t0(i,e){i.finishedWork=null,i.finishedLanes=0;var t=i.timeoutHandle;if(t!==-1&&(i.timeoutHandle=-1,Bee(t)),yi!==null)for(t=yi.return;t!==null;){var n=t;switch(w7(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&c5();break;case 3:eg(),In(gs),In(Or),I7();break;case 5:P7(n);break;case 4:eg();break;case 13:In(Un);break;case 19:In(Un);break;case 10:M7(n.type._context);break;case 22:case 23:H7()}t=t.return}if(Wi=i,yi=i=yh(i.current,null),ur=Gs=e,Ti=0,qv=null,U7=LC=v0=0,ds=dv=null,Od!==null){for(e=0;e<Od.length;e++)if(t=Od[e],n=t.interleaved,n!==null){t.interleaved=null;var r=n.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,n.next=o}t.pending=n}Od=null}return i}function aG(i,e){do{var t=yi;try{if(C7(),uS.current=y5,v5){for(var n=Vn.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}v5=!1}if(g0=0,Gi=Mi=Vn=null,uv=!1,Kv=0,N7.current=null,t===null||t.return===null){Ti=1,qv=e,yi=null;break}e:{var s=i,o=t.return,a=t,l=e;if(e=ur,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=YF(o);if(m!==null){m.flags&=-257,JF(m,o,a,s,e),m.mode&1&&KF(s,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){KF(s,c,e),G7();break e}l=Error(Fe(426))}}else if(Fn&&a.mode&1){var _=YF(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),JF(_,o,a,s,e),S7(tg(l,a));break e}}s=l=tg(l,a),Ti!==4&&(Ti=2),dv===null?dv=[s]:dv.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=VH(s,l,e);jF(s,v);break e;case 1:a=l;var A=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(gh===null||!gh.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=WH(s,a,e);jF(s,C);break e}}s=s.return}while(s!==null)}uG(t)}catch(T){e=T,yi===t&&t!==null&&(yi=t=t.return);continue}break}while(!0)}function lG(){var i=_5.current;return _5.current=y5,i===null?y5:i}function G7(){(Ti===0||Ti===3||Ti===2)&&(Ti=4),Wi===null||!(v0&268435455)&&!(LC&268435455)||Eu(Wi,ur)}function w5(i,e){var t=qt;qt|=2;var n=lG();(Wi!==i||ur!==e)&&(Ul=null,t0(i,e));do try{ste();break}catch(r){aG(i,r)}while(!0);if(C7(),qt=t,_5.current=n,yi!==null)throw Error(Fe(261));return Wi=null,ur=0,Ti}function ste(){for(;yi!==null;)cG(yi)}function ote(){for(;yi!==null&&!I$();)cG(yi)}function cG(i){var e=dG(i.alternate,i,Gs);i.memoizedProps=i.pendingProps,e===null?uG(i):yi=e,N7.current=null}function uG(i){var e=i;do{var t=e.alternate;if(i=e.return,e.flags&32768){if(t=$ee(t,e),t!==null){t.flags&=32767,yi=t;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ti=6,yi=null;return}}else if(t=Qee(t,e,Gs),t!==null){yi=t;return}if(e=e.sibling,e!==null){yi=e;return}yi=e=i}while(e!==null);Ti===0&&(Ti=5)}function _d(i,e,t){var n=un,r=Uo.transition;try{Uo.transition=null,un=1,ate(i,e,t,n)}finally{Uo.transition=r,un=n}return null}function ate(i,e,t,n){do _m();while(rh!==null);if(qt&6)throw Error(Fe(327));t=i.finishedWork;var r=i.finishedLanes;if(t===null)return null;if(i.finishedWork=null,i.finishedLanes=0,t===i.current)throw Error(Fe(177));i.callbackNode=null,i.callbackPriority=0;var s=t.lanes|t.childLanes;if(j$(i,s),i===Wi&&(yi=Wi=null,ur=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||HA||(HA=!0,fG(i5,function(){return _m(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Uo.transition,Uo.transition=null;var o=un;un=1;var a=qt;qt|=4,N7.current=null,tte(i,t),rG(t,i),Eee(qT),s5=!!JT,qT=JT=null,i.current=t,nte(t),L$(),qt=a,un=o,Uo.transition=s}else i.current=t;if(HA&&(HA=!1,rh=i,A5=r),s=i.pendingLanes,s===0&&(gh=null),F$(t.stateNode),ys(i,li()),e!==null)for(n=i.onRecoverableError,t=0;t<e.length;t++)r=e[t],n(r.value,{componentStack:r.stack,digest:r.digest});if(x5)throw x5=!1,i=g9,g9=null,i;return A5&1&&i.tag!==0&&_m(),s=i.pendingLanes,s&1?i===v9?fv++:(fv=0,v9=i):fv=0,kh(),null}function _m(){if(rh!==null){var i=Vj(A5),e=Uo.transition,t=un;try{if(Uo.transition=null,un=16>i?16:i,rh===null)var n=!1;else{if(i=rh,rh=null,A5=0,qt&6)throw Error(Fe(331));var r=qt;for(qt|=4,tt=i.current;tt!==null;){var s=tt,o=s.child;if(tt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(tt=c;tt!==null;){var u=tt;switch(u.tag){case 0:case 11:case 15:hv(8,u,s)}var h=u.child;if(h!==null)h.return=u,tt=h;else for(;tt!==null;){u=tt;var d=u.sibling,m=u.return;if(tG(u),u===c){tt=null;break}if(d!==null){d.return=m,tt=d;break}tt=m}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}tt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,tt=o;else e:for(;tt!==null;){if(s=tt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hv(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,tt=v;break e}tt=s.return}}var A=i.current;for(tt=A;tt!==null;){o=tt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,tt=w;else e:for(o=A;tt!==null;){if(a=tt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:IC(9,a)}}catch(T){Zn(a,a.return,T)}if(a===o){tt=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,tt=C;break e}tt=a.return}}if(qt=r,kh(),hl&&typeof hl.onPostCommitFiberRoot=="function")try{hl.onPostCommitFiberRoot(SC,i)}catch{}n=!0}return n}finally{un=t,Uo.transition=e}}return!1}function lO(i,e,t){e=tg(t,e),e=VH(i,e,1),i=mh(i,e,1),e=Zr(),i!==null&&(Z3(i,1,e),ys(i,e))}function Zn(i,e,t){if(i.tag===3)lO(i,i,t);else for(;e!==null;){if(e.tag===3){lO(e,i,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(gh===null||!gh.has(n))){i=tg(t,i),i=WH(e,i,1),e=mh(e,i,1),i=Zr(),e!==null&&(Z3(e,1,i),ys(e,i));break}}e=e.return}}function lte(i,e,t){var n=i.pingCache;n!==null&&n.delete(e),e=Zr(),i.pingedLanes|=i.suspendedLanes&t,Wi===i&&(ur&t)===t&&(Ti===4||Ti===3&&(ur&130023424)===ur&&500>li()-z7?t0(i,0):U7|=t),ys(i,e)}function hG(i,e){e===0&&(i.mode&1?(e=LA,LA<<=1,!(LA&130023424)&&(LA=4194304)):e=1);var t=Zr();i=Hc(i,e),i!==null&&(Z3(i,e,t),ys(i,t))}function cte(i){var e=i.memoizedState,t=0;e!==null&&(t=e.retryLane),hG(i,t)}function ute(i,e){var t=0;switch(i.tag){case 13:var n=i.stateNode,r=i.memoizedState;r!==null&&(t=r.retryLane);break;case 19:n=i.stateNode;break;default:throw Error(Fe(314))}n!==null&&n.delete(e),hG(i,t)}var dG;dG=function(i,e,t){if(i!==null)if(i.memoizedProps!==e.pendingProps||gs.current)fs=!0;else{if(!(i.lanes&t)&&!(e.flags&128))return fs=!1,Zee(i,e,t);fs=!!(i.flags&131072)}else fs=!1,Fn&&e.flags&1048576&&gH(e,d5,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;dS(i,e),i=e.pendingProps;var r=Z2(e,Or.current);ym(e,t),r=D7(null,e,n,i,r,t);var s=B7();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vs(n)?(s=!0,u5(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,T7(e),r.updater=PC,e.stateNode=r,r._reactInternals=e,s9(e,n,i,t),e=l9(null,e,n,!0,s,t)):(e.tag=0,Fn&&s&&A7(e),Kr(null,e,r,t),e=e.child),e;case 16:n=e.elementType;e:{switch(dS(i,e),i=e.pendingProps,r=n._init,n=r(n._payload),e.type=n,r=e.tag=dte(n),i=ea(n,i),r){case 0:e=a9(null,e,n,i,t);break e;case 1:e=QF(null,e,n,i,t);break e;case 11:e=qF(null,e,n,i,t);break e;case 14:e=ZF(null,e,n,ea(n.type,i),t);break e}throw Error(Fe(306,n,""))}return e;case 0:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:ea(n,r),a9(i,e,n,r,t);case 1:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:ea(n,r),QF(i,e,n,r,t);case 3:e:{if(JH(e),i===null)throw Error(Fe(387));n=e.pendingProps,s=e.memoizedState,r=s.element,wH(i,e),m5(e,n,null,t);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=tg(Error(Fe(423)),e),e=$F(i,e,n,t,r);break e}else if(n!==r){r=tg(Error(Fe(424)),e),e=$F(i,e,n,t,r);break e}else for(Ks=ph(e.stateNode.containerInfo.firstChild),Zs=e,Fn=!0,ya=null,t=xH(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Q2(),n===r){e=Gc(i,e,t);break e}Kr(i,e,n,t)}e=e.child}return e;case 5:return SH(e),i===null&&n9(e),n=e.type,r=e.pendingProps,s=i!==null?i.memoizedProps:null,o=r.children,ZT(n,r)?o=null:s!==null&&ZT(n,s)&&(e.flags|=32),YH(i,e),Kr(i,e,o,t),e.child;case 6:return i===null&&n9(e),null;case 13:return qH(i,e,t);case 4:return R7(e,e.stateNode.containerInfo),n=e.pendingProps,i===null?e.child=$2(e,null,n,t):Kr(i,e,n,t),e.child;case 11:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:ea(n,r),qF(i,e,n,r,t);case 7:return Kr(i,e,e.pendingProps,t),e.child;case 8:return Kr(i,e,e.pendingProps.children,t),e.child;case 12:return Kr(i,e,e.pendingProps.children,t),e.child;case 10:e:{if(n=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Cn(f5,n._currentValue),n._currentValue=o,s!==null)if(ba(s.value,o)){if(s.children===r.children&&!gs.current){e=Gc(i,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Rc(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),i9(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Fe(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),i9(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Kr(i,e,r.children,t),e=e.child}return e;case 9:return r=e.type,n=e.pendingProps.children,ym(e,t),r=zo(r),n=n(r),e.flags|=1,Kr(i,e,n,t),e.child;case 14:return n=e.type,r=ea(n,e.pendingProps),r=ea(n.type,r),ZF(i,e,n,r,t);case 15:return XH(i,e,e.type,e.pendingProps,t);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:ea(n,r),dS(i,e),e.tag=1,vs(n)?(i=!0,u5(e)):i=!1,ym(e,t),GH(e,n,r),s9(e,n,r,t),l9(null,e,n,!0,i,t);case 19:return ZH(i,e,t);case 22:return KH(i,e,t)}throw Error(Fe(156,e.tag))};function fG(i,e){return zj(i,e)}function hte(i,e,t,n){this.tag=i,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bo(i,e,t,n){return new hte(i,e,t,n)}function V7(i){return i=i.prototype,!(!i||!i.isReactComponent)}function dte(i){if(typeof i=="function")return V7(i)?1:0;if(i!=null){if(i=i.$$typeof,i===c7)return 11;if(i===u7)return 14}return 2}function yh(i,e){var t=i.alternate;return t===null?(t=Bo(i.tag,e,i.key,i.mode),t.elementType=i.elementType,t.type=i.type,t.stateNode=i.stateNode,t.alternate=i,i.alternate=t):(t.pendingProps=e,t.type=i.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=i.flags&14680064,t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=i.sibling,t.index=i.index,t.ref=i.ref,t}function mS(i,e,t,n,r,s){var o=2;if(n=i,typeof i=="function")V7(i)&&(o=1);else if(typeof i=="string")o=5;else e:switch(i){case Vp:return n0(t.children,r,s,e);case l7:o=8,r|=8;break;case RT:return i=Bo(12,t,e,r|2),i.elementType=RT,i.lanes=s,i;case PT:return i=Bo(13,t,e,r),i.elementType=PT,i.lanes=s,i;case IT:return i=Bo(19,t,e,r),i.elementType=IT,i.lanes=s,i;case Sj:return DC(t,r,s,e);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Aj:o=10;break e;case wj:o=9;break e;case c7:o=11;break e;case u7:o=14;break e;case bu:o=16,n=null;break e}throw Error(Fe(130,i==null?i:typeof i,""))}return e=Bo(o,t,e,r),e.elementType=i,e.type=n,e.lanes=s,e}function n0(i,e,t,n){return i=Bo(7,i,n,e),i.lanes=t,i}function DC(i,e,t,n){return i=Bo(22,i,n,e),i.elementType=Sj,i.lanes=t,i.stateNode={isHidden:!1},i}function V8(i,e,t){return i=Bo(6,i,null,e),i.lanes=t,i}function W8(i,e,t){return e=Bo(4,i.children!==null?i.children:[],i.key,e),e.lanes=t,e.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},e}function fte(i,e,t,n,r){this.tag=e,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=C8(0),this.expirationTimes=C8(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=C8(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function W7(i,e,t,n,r,s,o,a,l){return i=new fte(i,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Bo(3,null,null,e),i.current=s,s.stateNode=i,s.memoizedState={element:n,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},T7(s),i}function pte(i,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gp,key:n==null?null:""+n,children:i,containerInfo:e,implementation:t}}function pG(i){if(!i)return Mh;i=i._reactInternals;e:{if(B0(i)!==i||i.tag!==1)throw Error(Fe(170));var e=i;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Fe(171))}if(i.tag===1){var t=i.type;if(vs(t))return pH(i,t,e)}return e}function mG(i,e,t,n,r,s,o,a,l){return i=W7(t,n,!0,i,r,s,o,a,l),i.context=pG(null),t=i.current,n=Zr(),r=vh(t),s=Rc(n,r),s.callback=e??null,mh(t,s,r),i.current.lanes=r,Z3(i,r,n),ys(i,n),i}function BC(i,e,t,n){var r=e.current,s=Zr(),o=vh(r);return t=pG(t),e.context===null?e.context=t:e.pendingContext=t,e=Rc(s,o),e.payload={element:i},n=n===void 0?null:n,n!==null&&(e.callback=n),i=mh(r,e,o),i!==null&&(Sa(i,r,o,s),cS(i,r,o)),o}function S5(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function cO(i,e){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var t=i.retryLane;i.retryLane=t!==0&&t<e?t:e}}function X7(i,e){cO(i,e),(i=i.alternate)&&cO(i,e)}function mte(){return null}var gG=typeof reportError=="function"?reportError:function(i){console.error(i)};function K7(i){this._internalRoot=i}FC.prototype.render=K7.prototype.render=function(i){var e=this._internalRoot;if(e===null)throw Error(Fe(409));BC(i,e,null,null)};FC.prototype.unmount=K7.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var e=i.containerInfo;y0(function(){BC(null,i,null,null)}),e[jc]=null}};function FC(i){this._internalRoot=i}FC.prototype.unstable_scheduleHydration=function(i){if(i){var e=Kj();i={blockedOn:null,target:i,priority:e};for(var t=0;t<Mu.length&&e!==0&&e<Mu[t].priority;t++);Mu.splice(t,0,i),t===0&&Jj(i)}};function Y7(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function OC(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function uO(){}function gte(i,e,t,n,r){if(r){if(typeof n=="function"){var s=n;n=function(){var c=S5(o);s.call(c)}}var o=mG(e,n,i,0,null,!1,!1,"",uO);return i._reactRootContainer=o,i[jc]=o.current,Hv(i.nodeType===8?i.parentNode:i),y0(),o}for(;r=i.lastChild;)i.removeChild(r);if(typeof n=="function"){var a=n;n=function(){var c=S5(l);a.call(c)}}var l=W7(i,0,!1,null,null,!1,!1,"",uO);return i._reactRootContainer=l,i[jc]=l.current,Hv(i.nodeType===8?i.parentNode:i),y0(function(){BC(e,l,t,n)}),l}function kC(i,e,t,n,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=S5(o);a.call(l)}}BC(e,o,i,r)}else o=gte(t,e,i,r,n);return S5(o)}Wj=function(i){switch(i.tag){case 3:var e=i.stateNode;if(e.current.memoizedState.isDehydrated){var t=F1(e.pendingLanes);t!==0&&(f7(e,t|1),ys(e,li()),!(qt&6)&&(ng=li()+500,kh()))}break;case 13:y0(function(){var n=Hc(i,1);if(n!==null){var r=Zr();Sa(n,i,1,r)}}),X7(i,1)}};p7=function(i){if(i.tag===13){var e=Hc(i,134217728);if(e!==null){var t=Zr();Sa(e,i,134217728,t)}X7(i,134217728)}};Xj=function(i){if(i.tag===13){var e=vh(i),t=Hc(i,e);if(t!==null){var n=Zr();Sa(t,i,e,n)}X7(i,e)}};Kj=function(){return un};Yj=function(i,e){var t=un;try{return un=i,e()}finally{un=t}};jT=function(i,e,t){switch(e){case"input":if(BT(i,t),e=t.name,t.type==="radio"&&e!=null){for(t=i;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==i&&n.form===i.form){var r=EC(n);if(!r)throw Error(Fe(90));Cj(n),BT(n,r)}}}break;case"textarea":Ej(i,t);break;case"select":e=t.value,e!=null&&pm(i,!!t.multiple,e,!1)}};Bj=j7;Fj=y0;var vte={usingClientEntryPoint:!1,Events:[$3,Yp,EC,Lj,Dj,j7]},a1={findFiberByHostInstance:Fd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yte={bundleType:a1.bundleType,version:a1.version,rendererPackageName:a1.rendererPackageName,rendererConfig:a1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qc.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Nj(i),i===null?null:i.stateNode},findFiberByHostInstance:a1.findFiberByHostInstance||mte,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var GA=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!GA.isDisabled&&GA.supportsFiber)try{SC=GA.inject(yte),hl=GA}catch{}}so.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vte;so.createPortal=function(i,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Y7(e))throw Error(Fe(200));return pte(i,e,null,t)};so.createRoot=function(i,e){if(!Y7(i))throw Error(Fe(299));var t=!1,n="",r=gG;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=W7(i,1,!1,null,null,t,!1,n,r),i[jc]=e.current,Hv(i.nodeType===8?i.parentNode:i),new K7(e)};so.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var e=i._reactInternals;if(e===void 0)throw typeof i.render=="function"?Error(Fe(188)):(i=Object.keys(i).join(","),Error(Fe(268,i)));return i=Nj(e),i=i===null?null:i.stateNode,i};so.flushSync=function(i){return y0(i)};so.hydrate=function(i,e,t){if(!OC(e))throw Error(Fe(200));return kC(null,i,e,!0,t)};so.hydrateRoot=function(i,e,t){if(!Y7(i))throw Error(Fe(405));var n=t!=null&&t.hydratedSources||null,r=!1,s="",o=gG;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=mG(e,null,i,1,t??null,r,!1,s,o),i[jc]=e.current,Hv(i),n)for(i=0;i<n.length;i++)t=n[i],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new FC(e)};so.render=function(i,e,t){if(!OC(e))throw Error(Fe(200));return kC(null,i,e,!1,t)};so.unmountComponentAtNode=function(i){if(!OC(i))throw Error(Fe(40));return i._reactRootContainer?(y0(function(){kC(null,null,i,!1,function(){i._reactRootContainer=null,i[jc]=null})}),!0):!1};so.unstable_batchedUpdates=j7;so.unstable_renderSubtreeIntoContainer=function(i,e,t,n){if(!OC(t))throw Error(Fe(200));if(i==null||i._reactInternals===void 0)throw Error(Fe(38));return kC(i,e,t,!1,n)};so.version="18.3.1-next-f1338f8080-20240426";function vG(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vG)}catch(i){console.error(i)}}vG(),vj.exports=so;var yG=vj.exports;const _te=L0(yG);var _G,hO=yG;_G=ET.createRoot=hO.createRoot,ET.hydrateRoot=hO.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zv(){return Zv=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Zv.apply(this,arguments)}var sh;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(sh||(sh={}));const dO="popstate";function xte(i){i===void 0&&(i={});function e(r,s){let{pathname:o="/",search:a="",hash:l=""}=F0(r.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),x9("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:b5(s))}function n(r,s){J7(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return wte(e,t,n,i)}function ti(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function J7(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ate(){return Math.random().toString(36).substr(2,8)}function fO(i,e){return{usr:i.state,key:i.key,idx:e}}function x9(i,e,t,n){return t===void 0&&(t=null),Zv({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?F0(e):e,{state:t,key:e&&e.key||n||Ate()})}function b5(i){let{pathname:e="/",search:t="",hash:n=""}=i;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function F0(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substr(t),i=i.substr(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substr(n),i=i.substr(0,n)),i&&(e.pathname=i)}return e}function wte(i,e,t,n){n===void 0&&(n={});let{window:r=document.defaultView,v5Compat:s=!1}=n,o=r.history,a=sh.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Zv({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=sh.Pop;let _=u(),v=_==null?null:_-c;c=_,l&&l({action:a,location:y.location,delta:v})}function d(_,v){a=sh.Push;let A=x9(y.location,_,v);t&&t(A,_),c=u()+1;let w=fO(A,c),C=y.createHref(A);try{o.pushState(w,"",C)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;r.location.assign(C)}s&&l&&l({action:a,location:y.location,delta:1})}function m(_,v){a=sh.Replace;let A=x9(y.location,_,v);t&&t(A,_),c=u();let w=fO(A,c),C=y.createHref(A);o.replaceState(w,"",C),s&&l&&l({action:a,location:y.location,delta:0})}function g(_){let v=r.location.origin!=="null"?r.location.origin:r.location.href,A=typeof _=="string"?_:b5(_);return A=A.replace(/ $/,"%20"),ti(v,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,v)}let y={get action(){return a},get location(){return i(r,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(dO,h),l=_,()=>{r.removeEventListener(dO,h),l=null}},createHref(_){return e(r,_)},createURL:g,encodeLocation(_){let v=g(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:m,go(_){return o.go(_)}};return y}var pO;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(pO||(pO={}));function Ste(i,e,t){t===void 0&&(t="/");let n=typeof e=="string"?F0(e):e,r=ig(n.pathname||"/",t);if(r==null)return null;let s=xG(i);bte(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=Fte(r);o=Dte(s[a],l)}return o}function xG(i,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ti(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=_h([n,l.relativePath]),u=t.concat(l);s.children&&s.children.length>0&&(ti(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),xG(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Ite(c,s.index),routesMeta:u})};return i.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of AG(s.path))r(s,o,l)}),e}function AG(i){let e=i.split("/");if(e.length===0)return[];let[t,...n]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return r?[s,""]:[s];let o=AG(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>i.startsWith("/")&&l===""?"/":l)}function bte(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:Lte(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const Cte=/^:[\w-]+$/,Mte=3,Ete=2,Tte=1,Rte=10,Pte=-2,mO=i=>i==="*";function Ite(i,e){let t=i.split("/"),n=t.length;return t.some(mO)&&(n+=Pte),e&&(n+=Ete),t.filter(r=>!mO(r)).reduce((r,s)=>r+(Cte.test(s)?Mte:s===""?Tte:Rte),n)}function Lte(i,e){return i.length===e.length&&i.slice(0,-1).every((n,r)=>n===e[r])?i[i.length-1]-e[e.length-1]:0}function Dte(i,e){let{routesMeta:t}=i,n={},r="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,c=r==="/"?e:e.slice(r.length)||"/",u=A9({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(n,u.params);let h=a.route;s.push({params:n,pathname:_h([r,u.pathname]),pathnameBase:Ute(_h([r,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(r=_h([r,u.pathnameBase]))}return s}function A9(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,n]=Bte(i.path,i.caseSensitive,i.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:n.reduce((c,u,h)=>{let{paramName:d,isOptional:m}=u;if(d==="*"){let y=a[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[h];return m&&!g?c[d]=void 0:c[d]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:i}}function Bte(i,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),J7(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let n=[],r="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(n.push({paramName:"*"}),r+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":i!==""&&i!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function Fte(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return J7(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function ig(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}function Ote(i,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:r=""}=typeof i=="string"?F0(i):i;return{pathname:t?t.startsWith("/")?t:kte(t,e):e,search:zte(n),hash:jte(r)}}function kte(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function X8(i,e,t,n){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Nte(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function wG(i,e){let t=Nte(i);return e?t.map((n,r)=>r===i.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function SG(i,e,t,n){n===void 0&&(n=!1);let r;typeof i=="string"?r=F0(i):(r=Zv({},i),ti(!r.pathname||!r.pathname.includes("?"),X8("?","pathname","search",r)),ti(!r.pathname||!r.pathname.includes("#"),X8("#","pathname","hash",r)),ti(!r.search||!r.search.includes("#"),X8("#","search","hash",r)));let s=i===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!n&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;r.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=Ote(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const _h=i=>i.join("/").replace(/\/\/+/g,"/"),Ute=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),zte=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,jte=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Hte(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const bG=["post","put","patch","delete"];new Set(bG);const Gte=["get",...bG];new Set(Gte);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qv(){return Qv=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Qv.apply(this,arguments)}const NC=N.createContext(null),CG=N.createContext(null),Nh=N.createContext(null),UC=N.createContext(null),O0=N.createContext({outlet:null,matches:[],isDataRoute:!1}),MG=N.createContext(null);function Vte(i,e){let{relative:t}=e===void 0?{}:e;tx()||ti(!1);let{basename:n,navigator:r}=N.useContext(Nh),{hash:s,pathname:o,search:a}=zC(i,{relative:t}),l=o;return n!=="/"&&(l=o==="/"?n:_h([n,o])),r.createHref({pathname:l,search:a,hash:s})}function tx(){return N.useContext(UC)!=null}function k0(){return tx()||ti(!1),N.useContext(UC).location}function EG(i){N.useContext(Nh).static||N.useLayoutEffect(i)}function Wte(){let{isDataRoute:i}=N.useContext(O0);return i?rne():Xte()}function Xte(){tx()||ti(!1);let i=N.useContext(NC),{basename:e,future:t,navigator:n}=N.useContext(Nh),{matches:r}=N.useContext(O0),{pathname:s}=k0(),o=JSON.stringify(wG(r,t.v7_relativeSplatPath)),a=N.useRef(!1);return EG(()=>{a.current=!0}),N.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let h=SG(c,JSON.parse(o),s,u.relative==="path");i==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:_h([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,o,s,i])}function zC(i,e){let{relative:t}=e===void 0?{}:e,{future:n}=N.useContext(Nh),{matches:r}=N.useContext(O0),{pathname:s}=k0(),o=JSON.stringify(wG(r,n.v7_relativeSplatPath));return N.useMemo(()=>SG(i,JSON.parse(o),s,t==="path"),[i,o,s,t])}function Kte(i,e){return Yte(i,e)}function Yte(i,e,t,n){tx()||ti(!1);let{navigator:r}=N.useContext(Nh),{matches:s}=N.useContext(O0),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=k0(),u;if(e){var h;let _=typeof e=="string"?F0(e):e;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||ti(!1),u=_}else u=c;let d=u.pathname||"/",m=d;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+d.replace(/^\//,"").split("/").slice(_.length).join("/")}let g=Ste(i,{pathname:m}),y=$te(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:_h([l,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:_h([l,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,t,n);return e&&y?N.createElement(UC.Provider,{value:{location:Qv({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:sh.Pop}},y):y}function Jte(){let i=ine(),e=Hte(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:r},t):null,null)}const qte=N.createElement(Jte,null);class Zte extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(O0.Provider,{value:this.props.routeContext},N.createElement(MG.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qte(i){let{routeContext:e,match:t,children:n}=i,r=N.useContext(NC);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(O0.Provider,{value:e},n)}function $te(i,e,t,n){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),i==null){var s;if((s=t)!=null&&s.errors)i=t.matches;else return null}let o=i,a=(r=t)==null?void 0:r.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||ti(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(t&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:d,errors:m}=t,g=h.route.loader&&d[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,d)=>{let m,g=!1,y=null,_=null;t&&(m=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||qte,l&&(c<0&&d===0?(g=!0,_=null):c===d&&(g=!0,_=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,d+1)),A=()=>{let w;return m?w=y:g?w=_:h.route.Component?w=N.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,N.createElement(Qte,{match:h,routeContext:{outlet:u,matches:v,isDataRoute:t!=null},children:w})};return t&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?N.createElement(Zte,{location:t.location,revalidation:t.revalidation,component:y,error:m,children:A(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):A()},null)}var TG=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(TG||{}),C5=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(C5||{});function ene(i){let e=N.useContext(NC);return e||ti(!1),e}function tne(i){let e=N.useContext(CG);return e||ti(!1),e}function nne(i){let e=N.useContext(O0);return e||ti(!1),e}function RG(i){let e=nne(),t=e.matches[e.matches.length-1];return t.route.id||ti(!1),t.route.id}function ine(){var i;let e=N.useContext(MG),t=tne(C5.UseRouteError),n=RG(C5.UseRouteError);return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function rne(){let{router:i}=ene(TG.UseNavigateStable),e=RG(C5.UseNavigateStable),t=N.useRef(!1);return EG(()=>{t.current=!0}),N.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?i.navigate(r):i.navigate(r,Qv({fromRouteId:e},s)))},[i,e])}function xd(i){ti(!1)}function sne(i){let{basename:e="/",children:t=null,location:n,navigationType:r=sh.Pop,navigator:s,static:o=!1,future:a}=i;tx()&&ti(!1);let l=e.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:l,navigator:s,static:o,future:Qv({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof n=="string"&&(n=F0(n));let{pathname:u="/",search:h="",hash:d="",state:m=null,key:g="default"}=n,y=N.useMemo(()=>{let _=ig(u,l);return _==null?null:{location:{pathname:_,search:h,hash:d,state:m,key:g},navigationType:r}},[l,u,h,d,m,g,r]);return y==null?null:N.createElement(Nh.Provider,{value:c},N.createElement(UC.Provider,{children:t,value:y}))}function gO(i){let{children:e,location:t}=i;return Kte(w9(e),t)}new Promise(()=>{});function w9(i,e){e===void 0&&(e=[]);let t=[];return N.Children.forEach(i,(n,r)=>{if(!N.isValidElement(n))return;let s=[...e,r];if(n.type===N.Fragment){t.push.apply(t,w9(n.props.children,s));return}n.type!==xd&&ti(!1),!n.props.index||!n.props.children||ti(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=w9(n.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function M5(){return M5=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},M5.apply(this,arguments)}function PG(i,e){if(i==null)return{};var t={},n=Object.keys(i),r,s;for(s=0;s<n.length;s++)r=n[s],!(e.indexOf(r)>=0)&&(t[r]=i[r]);return t}function one(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function ane(i,e){return i.button===0&&(!e||e==="_self")&&!one(i)}const lne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],cne=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],une="6";try{window.__reactRouterVersion=une}catch{}const hne=N.createContext({isTransitioning:!1}),dne="startTransition",vO=l$[dne];function fne(i){let{basename:e,children:t,future:n,window:r}=i,s=N.useRef();s.current==null&&(s.current=xte({window:r,v5Compat:!0}));let o=s.current,[a,l]=N.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=N.useCallback(h=>{c&&vO?vO(()=>l(h)):l(h)},[l,c]);return N.useLayoutEffect(()=>o.listen(u),[o,u]),N.createElement(sne,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:n})}const pne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fl=N.forwardRef(function(e,t){let{onClick:n,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:h}=e,d=PG(e,lne),{basename:m}=N.useContext(Nh),g,y=!1;if(typeof c=="string"&&mne.test(c)&&(g=c,pne))try{let w=new URL(window.location.href),C=c.startsWith("//")?new URL(w.protocol+c):new URL(c),T=ig(C.pathname,m);C.origin===w.origin&&T!=null?c=T+C.search+C.hash:y=!0}catch{}let _=Vte(c,{relative:r}),v=vne(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r,unstable_viewTransition:h});function A(w){n&&n(w),w.defaultPrevented||v(w)}return N.createElement("a",M5({},d,{href:g||_,onClick:y||s?n:A,ref:t,target:l}))}),l1=N.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:c,children:u}=e,h=PG(e,cne),d=zC(l,{relative:h.relative}),m=k0(),g=N.useContext(CG),{navigator:y,basename:_}=N.useContext(Nh),v=g!=null&&yne(d)&&c===!0,A=y.encodeLocation?y.encodeLocation(d).pathname:d.pathname,w=m.pathname,C=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(w=w.toLowerCase(),C=C?C.toLowerCase():null,A=A.toLowerCase()),C&&_&&(C=ig(C,_)||C);const T=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let E=w===A||!o&&w.startsWith(A)&&w.charAt(T)==="/",R=C!=null&&(C===A||!o&&C.startsWith(A)&&C.charAt(A.length)==="/"),D={isActive:E,isPending:R,isTransitioning:v},I=E?n:void 0,L;typeof s=="function"?L=s(D):L=[s,E?"active":null,R?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(D):a;return N.createElement(fl,M5({},h,{"aria-current":I,className:L,ref:t,style:O,to:l,unstable_viewTransition:c}),typeof u=="function"?u(D):u)});var S9;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(S9||(S9={}));var yO;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(yO||(yO={}));function gne(i){let e=N.useContext(NC);return e||ti(!1),e}function vne(i,e){let{target:t,replace:n,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Wte(),c=k0(),u=zC(i,{relative:o});return N.useCallback(h=>{if(ane(h,t)){h.preventDefault();let d=n!==void 0?n:b5(c)===b5(u);l(i,{replace:d,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,n,r,t,i,s,o,a])}function yne(i,e){e===void 0&&(e={});let t=N.useContext(hne);t==null&&ti(!1);let{basename:n}=gne(S9.useViewTransitionState),r=zC(i,{relative:e.relative});if(!t.isTransitioning)return!1;let s=ig(t.currentLocation.pathname,n)||t.currentLocation.pathname,o=ig(t.nextLocation.pathname,n)||t.nextLocation.pathname;return A9(r.pathname,o)!=null||A9(r.pathname,s)!=null}const gS="data:image/svg+xml,%3csvg%20width='14'%20height='15'%20viewBox='0%200%2014%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.16602%207.49984H12.8327M12.8327%207.49984L6.99935%201.6665M12.8327%207.49984L6.99935%2013.3332'%20stroke='%23406AFF'%20stroke-width='1.66667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",_ne="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='240px'%20height='240px'%20fill-rule='evenodd'%20clip-rule='evenodd'%3e%3clinearGradient%20id='FAKZ2g97PrDXJBy36-66Qa'%20x1='35.753'%20x2='11.271'%20y1='3.643'%20y2='46.048'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%23f9f9f9'/%3e%3cstop%20offset='.26'%20stop-color='%23f0f1f2'/%3e%3cstop%20offset='.678'%20stop-color='%23d9dcdf'/%3e%3cstop%20offset='1'%20stop-color='%23c2c8cc'/%3e%3c/linearGradient%3e%3cpath%20fill='url(%23FAKZ2g97PrDXJBy36-66Qa)'%20fill-rule='evenodd'%20d='M22.903,3.286c0.679-0.381,1.515-0.381,2.193,0%20c3.355,1.883,13.451,7.551,16.807,9.434C42.582,13.1,43,13.804,43,14.566c0,3.766,0,15.101,0,18.867%20c0,0.762-0.418,1.466-1.097,1.847c-3.355,1.883-13.451,7.551-16.807,9.434c-0.679,0.381-1.515,0.381-2.193,0%20c-3.355-1.883-13.451-7.551-16.807-9.434C5.418,34.899,5,34.196,5,33.434c0-3.766,0-15.101,0-18.867%20c0-0.762,0.418-1.466,1.097-1.847C9.451,10.837,19.549,5.169,22.903,3.286z'%20clip-rule='evenodd'/%3e%3cpath%20fill='%23343434'%20d='M23.987,46.221c-1.085,0-2.171-0.252-3.165-0.757c-2.22-1.127-5.118-2.899-7.921-4.613%20c-1.973-1.206-3.836-2.346-5.297-3.157C5.381,36.458,4,34.113,4,31.572V16.627c0-2.59,1.417-4.955,3.699-6.173%20c3.733-1.989,9.717-5.234,12.878-7.01l0,0c2.11-1.184,4.733-1.184,6.844,0c3.576,2.007,10.369,6.064,14.252,8.513%20C43.13,12.874,44,14.453,44,16.182V32c0,2.4-0.859,4.048-2.553,4.895c-0.944,0.531-2.628,1.576-4.578,2.787%20c-3.032,1.882-6.806,4.225-9.564,5.705C26.27,45.942,25.128,46.221,23.987,46.221z%20M21.556,5.188%20C18.384,6.97,12.382,10.226,8.64,12.22C7.012,13.088,6,14.776,6,16.627v14.945c0,1.814,0.987,3.49,2.576,4.373%20c1.498,0.832,3.378,1.981,5.369,3.199c2.77,1.693,5.634,3.445,7.783,4.536c1.458,0.739,3.188,0.717,4.631-0.056%20c2.703-1.451,6.447-3.775,9.456-5.643c1.97-1.223,3.671-2.279,4.696-2.854C41.835,34.464,42,33.109,42,32V16.182%20c0-1.037-0.521-1.983-1.392-2.532c-3.862-2.435-10.613-6.467-14.165-8.461C24.913,4.331,23.086,4.331,21.556,5.188L21.556,5.188z'/%3e%3cpath%20fill='%23343434'%20d='M22.977,41.654L22.92,28.216c-0.011-2.594,1.413-4.981,3.701-6.204l12.01-6.416%20c1.998-1.068,4.414,0.38,4.414,2.646v14.73c0,1.041-0.54,2.008-1.426,2.554l-14.068,8.668%20C25.557,45.424,22.987,43.996,22.977,41.654z'/%3e%3clinearGradient%20id='FAKZ2g97PrDXJBy36-66Qb'%20x1='32.281'%20x2='23.433'%20y1='26.55'%20y2='41.876'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%23f9f9f9'/%3e%3cstop%20offset='.26'%20stop-color='%23f0f1f2'/%3e%3cstop%20offset='.678'%20stop-color='%23d9dcdf'/%3e%3cstop%20offset='1'%20stop-color='%23c2c8cc'/%3e%3c/linearGradient%3e%3cpath%20fill='url(%23FAKZ2g97PrDXJBy36-66Qb)'%20d='M28.799,26.274%20c0.123-0.063,0.225,0.014,0.227,0.176l0.013,1.32c0.552-0.219,1.032-0.278,1.467-0.177c0.095,0.024,0.136,0.153,0.098,0.306%20l-0.291,1.169c-0.024,0.089-0.072,0.178-0.132,0.233c-0.026,0.025-0.052,0.044-0.077,0.057c-0.04,0.02-0.078,0.026-0.114,0.019%20c-0.199-0.045-0.671-0.148-1.413,0.228c-0.778,0.395-1.051,1.071-1.046,1.573c0.007,0.601,0.315,0.783,1.377,0.802%20c1.416,0.023,2.027,0.643,2.042,2.067c0.016,1.402-0.733,2.905-1.876,3.826l0.025,1.308c0.001,0.157-0.1,0.338-0.225,0.4%20l-0.775,0.445c-0.123,0.063-0.225-0.014-0.227-0.172l-0.013-1.286c-0.664,0.276-1.334,0.342-1.763,0.17%20c-0.082-0.032-0.117-0.152-0.084-0.288l0.28-1.181c0.022-0.092,0.071-0.186,0.138-0.246c0.023-0.023,0.048-0.04,0.072-0.053%20c0.044-0.022,0.087-0.027,0.124-0.013c0.462,0.155,1.053,0.082,1.622-0.206c0.722-0.365,1.206-1.102,1.198-1.834%20c-0.007-0.664-0.366-0.939-1.241-0.946c-1.113,0.002-2.151-0.216-2.168-1.855c-0.014-1.35,0.688-2.753,1.799-3.641l-0.013-1.319%20c-0.001-0.162,0.098-0.34,0.225-0.405L28.799,26.274z'/%3e%3cpath%20fill='%2321a366'%20d='M37.226,34.857l-3.704,2.185c-0.109,0.061-0.244-0.019-0.244-0.143v-1.252%20c0-0.113,0.061-0.217,0.16-0.273l3.704-2.185c0.111-0.061,0.246,0.019,0.246,0.145v1.248C37.388,34.697,37.326,34.801,37.226,34.857'/%3e%3c/svg%3e",xne="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='2500'%20height='2500'%20preserveAspectRatio='xMinYMin%20meet'%20viewBox='0%200%20256%20256'%20id='bootstrap'%3e%3cpath%20fill='%23563D7C'%20d='M0%20222.991C0%20241.223%2014.779%20256%2033.009%20256H222.99C241.223%20256%20256%20241.221%20256%20222.991V33.01C256%2014.777%20241.221%200%20222.991%200H33.01C14.777%200%200%2014.779%200%2033.009V222.99z'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M106.158%20113.238V76.985h31.911c3.04%200%205.97.253%208.792.76%202.822.506%205.319%201.41%207.49%202.713%202.17%201.303%203.907%203.112%205.21%205.427%201.302%202.316%201.954%205.283%201.954%208.9%200%206.513-1.954%2011.217-5.862%2014.111-3.907%202.895-8.9%204.342-14.979%204.342h-34.516zM72.075%2050.5v155h75.112c6.947%200%2013.713-.868%2020.298-2.605%206.585-1.737%2012.446-4.414%2017.584-8.032%205.137-3.618%209.226-8.286%2012.265-14.002%203.04-5.717%204.559-12.483%204.559-20.298%200-9.697-2.352-17.982-7.055-24.856-4.704-6.875-11.832-11.687-21.384-14.437%206.947-3.328%2012.194-7.598%2015.74-12.808%203.545-5.21%205.318-11.722%205.318-19.538%200-7.236-1.194-13.314-3.582-18.235-2.388-4.92-5.753-8.864-10.095-11.831-4.341-2.967-9.551-5.102-15.63-6.404-6.078-1.303-12.808-1.954-20.189-1.954H72.075zm34.083%20128.515v-42.549h37.121c7.381%200%2013.315%201.7%2017.802%205.102%204.486%203.401%206.73%209.081%206.73%2017.041%200%204.053-.688%207.381-2.063%209.986-1.375%202.605-3.22%204.668-5.536%206.187-2.315%201.52-4.993%202.605-8.032%203.257-3.04.65-6.223.976-9.552.976h-36.47z'%3e%3c/path%3e%3c/svg%3e",Ane="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='100'%20height='100'%3e%3cpath%20d='M0%200%20C19.8%200%2039.6%200%2060%200%20C60%2018.48%2060%2036.96%2060%2056%20C40.2%2056%2020.4%2056%200%2056%20C0%2037.52%200%2019.04%200%200%20Z%20M22%208%20C22%209.32%2022%2010.64%2022%2012%20C28.6%2012%2035.2%2012%2042%2012%20C42%2010.68%2042%209.36%2042%208%20C35.4%208%2028.8%208%2022%208%20Z%20'%20fill='%23FFFFFF'%20transform='translate(10,32)'/%3e%3cpath%20d='M0%200%20C0.28131418%207.43316613%200.47251679%2014.86493875%200.60424805%2022.30224609%20C0.65921484%2024.82620525%200.73401922%2027.34981987%200.82983398%2029.87255859%20C1.754511%2054.86356201%201.754511%2054.86356201%20-6.68244934%2064.00247192%20C-8.07916082%2065.37943508%20-9.53898643%2066.69146271%20-11%2068%20C-11.95978672%2068.94305768%20-12.91368686%2069.89215709%20-13.8605957%2070.84814453%20C-14.91960083%2071.91331299%20-14.91960083%2071.91331299%20-16%2073%20C-16.35078938%2065.69843696%20-16.61562537%2058.39874382%20-16.77718258%2051.09039974%20C-16.85482063%2047.69448641%20-16.95961453%2044.3044137%20-17.1315918%2040.91186523%20C-18.24712341%2017.16197838%20-18.24712341%2017.16197838%20-12.62939453%209.78173828%20C-3.63604553%200%20-3.63604553%200%200%200%20Z%20'%20fill='%23FFFFFF'%20transform='translate(90,14)'/%3e%3cpath%20d='M0%200%20C-1.10408203%201.05767578%20-1.10408203%201.05767578%20-2.23046875%202.13671875%20C-5.03099239%204.87342667%20-5.03099239%204.87342667%20-6.98828125%207.89453125%20C-11.01689509%2012.95230359%20-14.09617323%2015.60697776%20-20.68701172%2016.49902344%20C-30.10430034%2017.10989754%20-39.59459885%2016.59765924%20-49%2016%20C-48.23171875%2015.23469971%20-47.4634375%2014.46939941%20-46.671875%2013.6809082%20C-44.8419066%2011.84475296%20-43.03554259%209.98485377%20-41.25%208.10546875%20C-29.46207885%20-2.96320198%20-15.12010775%20-1.08881831%200%200%20Z%20'%20fill='%23FFFFFF'%20transform='translate(60,12)'/%3e%3cpath%20d='M0%200%20C1.49249268%200.01571045%201.49249268%200.01571045%203.01513672%200.03173828%20C4.6296875%200.04140625%204.6296875%200.04140625%206.27685547%200.05126953%20C7.40478516%200.06802734%208.53271484%200.08478516%209.69482422%200.10205078%20C11.39832031%200.11558594%2011.39832031%200.11558594%2013.13623047%200.12939453%20C15.94763721%200.1530198%2018.7586272%200.18596065%2021.56982422%200.22705078%20C20.21600146%201.85858078%2018.85217235%203.4824412%2017.45043945%205.07299805%20C16.14104436%206.57277643%2014.8748646%208.11092803%2013.64428711%209.67602539%20C10.52231686%2013.32019766%208.19087623%2015.85971262%203.41308594%2016.94238281%20C-0.09817125%2017.11083064%20-3.48530434%2017.01664677%20-6.99267578%2016.78955078%20C-8.19214844%2016.74894531%20-9.39162109%2016.70833984%20-10.62744141%2016.66650391%20C-13.56597418%2016.56113819%20-16.49588226%2016.41381628%20-19.43017578%2016.22705078%20C-16.57557688%2012.4051352%20-13.53703096%209.50189944%20-9.80517578%206.53955078%20C-1.81909801%200.16995792%20-1.81909801%200.16995792%200%200%20Z%20'%20fill='%23FFFFFF'%20transform='translate(66.43017578125,11.77294921875)'/%3e%3c/svg%3e",wne="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20id='c'%3e%3cpath%20fill='%23659AD3'%20d='M115.4%2030.7l-48.3-27.8c-.8-.5-1.9-.7-3.1-.7-1.2%200-2.3.3-3.1.7l-48%2027.9c-1.7%201-2.9%203.5-2.9%205.4v55.7c0%201.1.2%202.4%201%203.5l106.8-62c-.6-1.2-1.5-2.1-2.4-2.7z'%3e%3c/path%3e%3cpath%20fill='%2303599C'%20d='M10.7%2095.3c.5.8%201.2%201.5%201.9%201.9l48.2%2027.9c.8.5%201.9.7%203.1.7%201.2%200%202.3-.3%203.1-.7l48-27.9c1.7-1%202.9-3.5%202.9-5.4v-55.7c0-.9-.1-1.9-.6-2.8l-106.6%2062z'%3e%3c/path%3e%3cpath%20fill='%23fff'%20d='M85.3%2076.1c-4.2%207.4-12.2%2012.4-21.3%2012.4-13.5%200-24.5-11-24.5-24.5s11-24.5%2024.5-24.5c9.1%200%2017.1%205%2021.3%2012.5l13-7.5c-6.8-11.9-19.6-20-34.3-20-21.8%200-39.5%2017.7-39.5%2039.5s17.7%2039.5%2039.5%2039.5c14.6%200%2027.4-8%2034.2-19.8l-12.9-7.6z'%3e%3c/path%3e%3c/svg%3e",Sne="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%3e%3cg%20clip-path='url(%23clip0_1616_89)'%3e%3cpath%20d='M24%2048C37.2548%2048%2048%2037.2548%2048%2024C48%2010.7452%2037.2548%200%2024%200C10.7452%200%200%2010.7452%200%2024C0%2037.2548%2010.7452%2048%2024%2048Z'%20fill='%232196F3'/%3e%3cpath%20d='M36%2028.962C33.411%2028.962%2030.942%2028.398%2028.665%2027.285C28.308%2027.114%2027.894%2027.087%2027.516%2027.216C27.138%2027.348%2026.829%2027.624%2026.655%2027.981L25.575%2030.216C22.335%2028.356%2019.647%2025.665%2017.784%2022.425L20.022%2021.345C20.382%2021.171%2020.655%2020.862%2020.787%2020.484C20.916%2020.106%2020.892%2019.692%2020.718%2019.335C19.602%2017.061%2019.038%2014.592%2019.038%2012C19.038%2011.172%2018.366%2010.5%2017.538%2010.5H12C11.172%2010.5%2010.5%2011.172%2010.5%2012C10.5%2026.061%2021.939%2037.5%2036%2037.5C36.828%2037.5%2037.5%2036.828%2037.5%2036V30.462C37.5%2029.634%2036.828%2028.962%2036%2028.962Z'%20fill='%23FAFAFA'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1616_89'%3e%3crect%20width='48'%20height='48'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",bne="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='2222'%20height='2500'%20preserveAspectRatio='xMinYMin%20meet'%20viewBox='0%200%20256%20288'%20id='c'%3e%3cpath%20fill='%235C8DBC'%20d='M255.569%2084.72c-.002-4.83-1.035-9.098-3.124-12.761-2.052-3.602-5.125-6.621-9.247-9.008-34.025-19.619-68.083-39.178-102.097-58.817-9.17-5.294-18.061-5.101-27.163.269C100.395%2012.39%2032.59%2051.237%2012.385%2062.94%204.064%2067.757.015%2075.129.013%2084.711%200%20124.166.013%20163.62%200%20203.076c.002%204.724.991%208.909%202.988%2012.517%202.053%203.711%205.169%206.813%209.386%209.254%2020.206%2011.703%2088.02%2050.547%20101.56%2058.536%209.106%205.373%2017.997%205.565%2027.17.269%2034.015-19.64%2068.075-39.198%20102.105-58.817%204.217-2.44%207.333-5.544%209.386-9.252%201.994-3.608%202.985-7.793%202.987-12.518%200%200%200-78.889-.013-118.345'%3e%3c/path%3e%3cpath%20fill='%231A4674'%20d='M128.182%20143.509L2.988%20215.593c2.053%203.711%205.169%206.813%209.386%209.254%2020.206%2011.703%2088.02%2050.547%20101.56%2058.536%209.106%205.373%2017.997%205.565%2027.17.269%2034.015-19.64%2068.075-39.198%20102.105-58.817%204.217-2.44%207.333-5.544%209.386-9.252l-124.413-72.074'%3e%3c/path%3e%3cpath%20fill='%231A4674'%20d='M91.101%20164.861c7.285%2012.718%2020.98%2021.296%2036.69%2021.296%2015.807%200%2029.58-8.687%2036.828-21.541l-36.437-21.107-37.081%2021.352'%3e%3c/path%3e%3cpath%20fill='%231B598E'%20d='M255.569%2084.72c-.002-4.83-1.035-9.098-3.124-12.761l-124.263%2071.55%20124.413%2072.074c1.994-3.608%202.985-7.793%202.987-12.518%200%200%200-78.889-.013-118.345'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M248.728%20148.661h-9.722v9.724h-9.724v-9.724h-9.721v-9.721h9.721v-9.722h9.724v9.722h9.722v9.721M213.253%20148.661h-9.721v9.724h-9.722v-9.724h-9.722v-9.721h9.722v-9.722h9.722v9.722h9.721v9.721'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M164.619%20164.616c-7.248%2012.854-21.021%2021.541-36.828%2021.541-15.71%200-29.405-8.578-36.69-21.296a42.062%2042.062%200%200%201-5.574-20.968c0-23.341%2018.923-42.263%2042.264-42.263%2015.609%200%2029.232%208.471%2036.553%2021.059l36.941-21.272c-14.683-25.346-42.096-42.398-73.494-42.398-46.876%200-84.875%2038-84.875%2084.874%200%2015.378%204.091%2029.799%2011.241%2042.238%2014.646%2025.48%2042.137%2042.637%2073.634%2042.637%2031.555%200%2059.089-17.226%2073.714-42.781l-36.886-21.371'%3e%3c/path%3e%3c/svg%3e",Cne="data:image/svg+xml,%3csvg%20width='50'%20height='50'%20viewBox='0%200%2050%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.03125%2044.9219L2.92969%200H46.9727L42.9688%2044.9219L25%2050'%20fill='%23264DE4'/%3e%3cpath%20d='M25%203.61328V46.0938L39.5508%2042.0898L42.9688%203.61328'%20fill='%232965F1'/%3e%3cpath%20d='M11.1328%209.17969H25V14.6484H11.6211M12.1094%2020.3125H25V25.8789H12.5977M12.8906%2028.6133H18.3594L18.75%2033.0078L25%2034.668V40.4297L13.5742%2037.3047'%20fill='%23EBEBEB'/%3e%3cpath%20d='M25%2020.3125V25.8789H31.7383L31.0547%2033.0078L25%2034.668V40.4297L36.2305%2037.3047L38.7695%209.17969H25V14.6484H32.8125L32.2754%2020.3125H25Z'%20fill='white'/%3e%3c/svg%3e",Mne="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='2500'%20height='2373'%20preserveAspectRatio='xMinYMin%20meet'%20viewBox='0%200%20256%20243'%20id='company'%3e%3cdefs%3e%3clinearGradient%20id='a'%20x1='-82.637%25'%20x2='103.767%25'%20y1='-92.82%25'%20y2='106.042%25'%3e%3cstop%20offset='0%25'%20stop-color='%23F9A03C'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23F7974E'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20id='b'%20x1='-258.924%25'%20x2='97.62%25'%20y1='-248.97%25'%20y2='98.768%25'%3e%3cstop%20offset='0%25'%20stop-color='%23F9A03C'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23F7974E'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20id='c'%20x1='-223.163%25'%20x2='94.028%25'%20y1='-261.968%25'%20y2='101.691%25'%3e%3cstop%20offset='0%25'%20stop-color='%23F9A03C'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23F7974E'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20id='d'%20x1='11.339%25'%20x2='82.496%25'%20y1='-1.822%25'%20y2='92.107%25'%3e%3cstop%20offset='0%25'%20stop-color='%23F26D58'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23F9A03C'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20id='e'%20x1='15.844%25'%20x2='120.126%25'%20y1='3.858%25'%20y2='72.38%25'%3e%3cstop%20offset='0%25'%20stop-color='%23B84E51'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23F68E48'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20id='f'%20x1='46.984%25'%20x2='51.881%25'%20y1='23.466%25'%20y2='147.391%25'%3e%3cstop%20offset='0%25'%20stop-color='%23F9A03C'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23F7974E'%3e%3c/stop%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20fill='url(%23a)'%20d='M255.52%20175.619c.115-1.115.197-2.24.261-3.371.078-1.339-80.562-77.85-80.562-77.85h-1.928s81.736%2086.215%2082.229%2081.22z'%3e%3c/path%3e%3cpath%20fill='url(%23b)'%20d='M83.472%20149.077c-.107.235-.213.47-.323.704-.114.246-.232.491-.349.734-2.57%205.36%2035.987%2043.053%2039.088%2038.474.141-.202.283-.416.424-.618.157-.24.312-.47.467-.71%202.48-3.765-38.206-41.032-39.307-38.584z'%3e%3c/path%3e%3cpath%20fill='url(%23c)'%20d='M137.957%20202.083c-.109.24-.885%201.552-1.594%202.245-.12.24%2037.64%2037.688%2037.64%2037.688h3.4c.002%200-35.446-38.35-39.446-39.933z'%3e%3c/path%3e%3cpath%20fill='url(%23d)'%20d='M255.835%20171.568c-1.766%2039.147-34.152%2070.448-73.72%2070.448h-5.35l-39.514-38.928c3.25-4.584%206.272-9.333%208.962-14.285h35.902c11.354%200%2020.594-9.235%2020.594-20.595%200-11.355-9.24-20.595-20.594-20.595h-21.246c1.619-8.557%202.504-17.381%202.504-26.408%200-9.165-.901-18.114-2.578-26.808h13.197l81.61%2080.414c.097-1.078.174-2.155.233-3.243zM21.467%200H0v53.213h21.467c37.493%200%2068%2030.499%2068%2067.992%200%2010.2-2.275%2019.883-6.318%2028.576l39.163%2038.59c12.859-19.24%2020.376-42.339%2020.376-67.166C142.688%2054.373%2088.307%200%2021.467%200z'%3e%3c/path%3e%3cpath%20fill='url(%23e)'%20d='M182.115%200H95.187C116.419%2012.963%20134%2031.344%20145.979%2053.213h36.136c11.354%200%2020.594%209.235%2020.594%2020.595%200%2011.357-9.24%2020.592-20.594%2020.592h-8.12l81.61%2080.413c.192-2.181.312-4.376.312-6.605%200-17.939-6.437-34.395-17.125-47.203%2010.688-12.802%2017.125-29.261%2017.125-47.197C255.917%2033.112%20222.813%200%20182.115%200z'%3e%3c/path%3e%3cpath%20fill='url(%23f)'%20d='M176.765%20242.016H95.808c16.296-10.064%2030.384-23.35%2041.443-38.928l39.514%2038.928zm-54.453-53.645l-39.16-38.59c-10.819%2023.251-34.395%2039.422-61.685%2039.422H0v53.208h21.467c42.01%200%2079.09-21.488%20100.845-54.04z'%3e%3c/path%3e%3c/svg%3e",Ene="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20viewBox='0%200%2016%2016'%20id='disqus'%3e%3cpath%20fill='%232196F3'%20d='M8.292%2015.5a7.805%207.805%200%200%201-4.984-1.779L0%2014.154l1.276-3.044A7.252%207.252%200%200%201%20.583%208C.583%203.857%204.036.5%208.291.5%2012.552.5%2016%203.857%2016%208s-3.448%207.5-7.708%207.5z'%3e%3c/path%3e%3cpath%20fill='%23FAFAFA'%20d='M8.341%204H5.5v8h2.801c2.65%200%204.199-1.715%204.199-4.022v-.021C12.5%205.651%2010.971%204%208.341%204zm2.062%204.005c0%201.296-.81%202.027-2.032%202.027h-.83v-4.07h.83c1.222%200%202.032.742%202.032%202.022v.021z'%3e%3c/path%3e%3c/svg%3e",Tne="/assets/docker-BvAc8O4h.svg",Rne="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M49%2038.2998C47.254%2038.7303%2046.174%2038.3187%2045.205%2036.908L38.314%2027.6642L37.318%2026.3844L29.2705%2036.9385C28.351%2038.2082%2027.3865%2038.7608%2025.6705%2038.3114L35.9755%2024.8995L26.3815%2012.7849C28.0315%2012.4737%2029.1715%2012.6322%2030.184%2014.0647L37.3315%2023.4234L44.5315%2014.1156C45.454%2012.846%2046.4455%2012.3632%2048.1015%2012.8315L44.3815%2017.6133L39.3415%2023.976C38.7415%2024.7032%2038.824%2025.2006%2039.376%2025.903L49%2038.2998ZM1.012%2024.6756L1.855%2020.6558C4.15%2012.7006%2013.555%209.39485%2020.041%2014.3105C23.8315%2017.2017%2024.7735%2021.2913%2024.586%2025.8725H3.22C2.899%2034.1186%209.0205%2039.0953%2016.825%2036.5561C19.5625%2035.6645%2021.175%2033.5863%2021.982%2030.9859C22.3915%2029.6829%2023.0695%2029.4792%2024.3325%2029.8516C23.6875%2033.1035%2022.2325%2035.8202%2019.1575%2037.5203C14.563%2040.0654%208.005%2039.2422%204.555%2035.7053C2.5%2033.6532%201.651%2031.0528%201.27%2028.2721C1.21%2027.8126%201.09%2027.3748%201%2026.9342C1.008%2026.1818%201.012%2025.4294%201.012%2024.677V24.6756ZM3.259%2024.1229H22.567C22.441%2018.1601%2018.6115%2013.9251%2013.378%2013.8888C7.633%2013.8451%203.508%2017.9798%203.259%2024.1229Z'%20fill='black'/%3e%3c/svg%3e",Pne="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1479_21476)'%3e%3cpath%20d='M2.04529%2027.5236C0.651571%2026.1298%200.651571%2023.8702%202.04529%2022.4764L23.4764%201.04529C24.8702%20-0.348429%2027.1298%20-0.348429%2028.5236%201.04529L49.9547%2022.4764C51.3484%2023.8702%2051.3484%2026.1298%2049.9547%2027.5236L28.5236%2048.9547C27.1298%2050.3484%2024.8702%2050.3484%2023.4764%2048.9547L2.04529%2027.5236Z'%20fill='%23EE513B'/%3e%3cpath%20d='M19.1342%205L17%207.17115L22.5122%2012.7787C22.2892%2013.2653%2022.1647%2013.8081%2022.1647%2014.3805C22.1647%2016.0054%2023.1683%2017.3919%2024.5793%2017.9334V31.6509C23.1683%2032.1923%2022.1647%2033.5788%2022.1647%2035.2038C22.1647%2037.3004%2023.8354%2039%2025.8963%2039C27.9573%2039%2029.628%2037.3004%2029.628%2035.2038C29.628%2033.7307%2028.8032%2032.4533%2027.5976%2031.8242V17.9521L32.8668%2023.3124C32.6546%2023.7892%2032.5366%2024.3185%2032.5366%2024.8759C32.5366%2026.9725%2034.2074%2028.6721%2036.2683%2028.6721C38.3293%2028.6721%2040%2026.9725%2040%2024.8759C40%2022.7793%2038.3293%2021.0797%2036.2683%2021.0797C35.8678%2021.0797%2035.4821%2021.1438%2035.1204%2021.2626L29.4614%2015.5058C29.5697%2015.1503%2029.628%2014.7722%2029.628%2014.3805C29.628%2012.2839%2027.9573%2010.5842%2025.8963%2010.5842C25.5112%2010.5842%2025.1398%2010.6436%2024.7902%2010.7538L19.1342%205Z'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1479_21476'%3e%3crect%20width='50'%20height='50'%20fill='white'%20transform='translate(0.820312)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Ine="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1479_21481)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M25.557%200.520996C11.7523%200.520996%200.558594%2011.7575%200.558594%2025.6216C0.558594%2036.7092%207.72108%2046.1167%2017.657%2049.436C18.907%2049.6666%2019.3633%2048.8916%2019.3633%2048.2265C19.3633%2047.6304%2019.3414%2046.0523%2019.3289%2043.9581C12.3742%2045.4751%2010.907%2040.5933%2010.907%2040.5933C9.7711%2037.6944%208.13204%2036.9226%208.13204%2036.9226C5.86173%2035.3648%208.30389%2035.3962%208.30389%2035.3962C10.8117%2035.5734%2012.132%2037.983%2012.132%2037.983C14.3633%2041.8184%2017.9836%2040.7109%2019.4086%2040.0678C19.6352%2038.4457%2020.282%2037.3398%2020.9961%2036.7124C15.4445%2036.0786%209.60858%2033.9263%209.60858%2024.3087C9.60858%2021.5682%2010.582%2019.3281%2012.182%2017.5727C11.9242%2016.9374%2011.0664%2014.3867%2012.4258%2010.9309C12.4258%2010.9309%2014.5258%2010.2563%2019.3008%2013.5035C21.2961%2012.9466%2023.4336%2012.6689%2025.5602%2012.658C27.6836%2012.6689%2029.8227%2012.9466%2031.8195%2013.5035C36.5914%2010.2563%2038.6867%2010.9309%2038.6867%2010.9309C40.0508%2014.3867%2039.193%2016.9374%2038.9351%2017.5727C40.5383%2019.3281%2041.5055%2021.5682%2041.5055%2024.3087C41.5055%2033.9499%2035.6602%2036.0723%2030.0914%2036.6935C30.9883%2037.4684%2031.7883%2038.9995%2031.7883%2041.3416C31.7883%2044.697%2031.757%2047.403%2031.757%2048.2265C31.757%2048.8979%2032.2071%2049.6791%2033.4758%2049.4329C43.4024%2046.1072%2050.5586%2036.706%2050.5586%2025.6216C50.5586%2011.7575%2039.3648%200.520996%2025.557%200.520996Z'%20fill='black'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1479_21481'%3e%3crect%20width='50'%20height='50'%20fill='white'%20transform='translate(0.558594)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Lne="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2019.1.1,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20width='240px'%20height='240px'%3e%3cpath%20style='fill:%2343A047;'%20d='M37,45H11c-1.657,0-3-1.343-3-3V6c0-1.657,1.343-3,3-3h19l10,10v29C40,43.657,38.657,45,37,45z'/%3e%3cpolygon%20style='fill:%23C8E6C9;'%20points='40,13%2030,13%2030,3%20'/%3e%3cpolygon%20style='fill:%232E7D32;'%20points='30,13%2040,23%2040,13%20'/%3e%3cpath%20style='fill:%23E8F5E9;'%20d='M31,23H17h-2v2v2v2v2v2v2v2h18v-2v-2v-2v-2v-2v-2v-2H31z%20M17,25h4v2h-4V25z%20M17,29h4v2h-4V29z%20M17,33h4v2h-4V33z%20M31,35h-8v-2h8V35z%20M31,31h-8v-2h8V31z%20M31,27h-8v-2h8V27z'/%3e%3c/svg%3e",Dne="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20enable-background='new%200%200%20128%20128'%20viewBox='0%200%20128%20128'%20id='gradle'%3e%3cpath%20fill='%2302303a'%20d='M99.5,112.5c-0.3,0-0.5,0-0.7,0c-4.5,0-9,0-13.5,0c-0.5,0-0.8-0.2-1.1-0.5c-3.2-4-6.7-7.7-10.9-10.6%20c-2.1-1.5-4.3-2.8-6.8-3.5c-2-0.6-4.1-0.9-6.2-0.4c-2.1,0.5-3.9,1.7-5.4,3.2c-1.9,1.9-3.2,4.2-4.2,6.7c-0.6,1.5-1.1,3-1.6,4.5%20c-0.1,0.2-0.1,0.4-0.2,0.6c-3.8,0-7.5,0-11.4,0c-0.1-0.6-0.2-1.2-0.3-1.9c-0.4-2-1-4-2-5.8c-0.7-1.4-1.6-2.6-2.8-3.6%20c-1.3-1.1-2.8-1.7-4.5-1.7c-1.3,0-2.4,0.5-3.5,1.2c-1.5,1-2.7,2.3-3.6,3.8c-1.4,2.2-2.2,4.7-2.9,7.2c-0.1,0.2-0.1,0.5-0.2,0.8%20c-5,0-9.9,0-14.9,0c-0.1-0.7-0.2-1.5-0.3-2.2c-0.5-4.7-0.8-9.4-0.7-14.1c0.1-5.5,0.7-10.9,2-16.3C5,75,6.7,70.4,9.3,66.2%20c3.6-5.7,8.4-9.8,14.7-12.3c0.2-0.1,0.3-0.1,0.5-0.2c0,0,0.1,0,0.2,0c0.1,0.2,0.2,0.4,0.3,0.6c1.8,4,3.7,7.9,6,11.5%20c1.4,2.3,3.4,4,5.9,4.8c2.7,0.9,5.3,0.6,7.9-0.5c2.3-1,4.2-2.5,6-4.2c2.1-2,3.8-4.2,5.5-6.6c0.1-0.1,0.1-0.2,0.1-0.3%20c-0.2,0.2-0.4,0.4-0.7,0.6c-2.5,2.5-5.2,4.7-8.3,6.4c-1.5,0.9-3.2,1.6-4.9,1.9c-2.5,0.5-4.8,0.2-6.8-1.6c-0.8-0.7-1.4-1.5-2-2.3%20c-3-4.7-5.6-9.6-8-14.6c-0.5-1-0.9-2-1-3.2c-0.2-1.7,0.3-3.2,1.5-4.5c0.9-0.9,1.9-1.6,3.1-2.2c2.2-1.1,4.5-1.9,6.8-2.7%20c3.4-1.1,6.9-1.9,10.5-2.4c4.1-0.6,8.3-0.7,12.5-0.2c9,0.9,17,4.2,24.3,9.5c2.5,1.8,5.1,3.3,8.1,4.2c11.9,3.8,21.4-4.4,23.6-12.8%20c0.6-2.3,0.8-4.6-0.1-6.8c-1.3-3.4-3.6-6-7.3-7c-2.8-0.7-5.5-0.4-8.1,1c-0.5,0.3-1,0.5-1.5,0.7c-1.2,0.4-2,0.1-2.6-1%20c-0.8-1.4-1.4-2.8-2.1-4.3c-0.3-0.6-0.2-1.1,0.1-1.6c0.3-0.7,0.8-1.2,1.4-1.7c1.5-1.2,3.3-2,5.3-2.4c4.9-1.1,9.5-0.4,13.9,1.8%20c3.5,1.7,6.2,4.3,8.2,7.7c1.9,3.2,3.2,6.6,3.8,10.3c0.4,2.9,0.4,5.7,0.1,8.6c-0.6,5-2,9.7-4,14.3c-2.6,6-5.6,11.8-9.3,17.2%20c-1.8,2.6-3.7,5.1-5.5,7.6c-1.9,2.7-3.8,5.4-5.2,8.4c-1.9,3.9-3,7.9-3.4,12.2c-0.3,3.7-0.1,7.3,0.5,11%20C99.4,111.7,99.5,112.1,99.5,112.5z%20M91.3,61.1c0.3,2.4-0.5,4-2.7,4.9C87,66.6,85,66.1,84,64.7c-1.6-2.1-1.1-4,0.7-5.8%20c-1.8-0.6-3.6-1.2-5.3-1.7c-0.4,1-0.6,2.5-0.5,3.7c0.2,2.4,1.1,4.4,3.1,5.7c2.1,1.4,4.5,2,7,1.5c2.6-0.5,4.6-2,6-4.2%20c0.3-0.4,0.5-0.8,0.5-1.4C94.1,62.1,92.7,61.6,91.3,61.1z'%3e%3c/path%3e%3c/svg%3e",Bne="/assets/gulp-BJYcIBFb.svg",Fne="data:image/svg+xml,%3csvg%20width='50'%20height='50'%20viewBox='0%200%2050%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.93359%2044.9219L2.92969%200H46.9727L42.9688%2044.9219L24.9023%2050'%20fill='%23E34F26'/%3e%3cpath%20d='M25%2046.0938L39.5508%2042.0898L42.9688%203.61328H25'%20fill='%23EF652A'/%3e%3cpath%20d='M25%2020.3125H17.6758L17.1875%2014.6484H25V9.17969H11.1328L12.5977%2025.8789H25V20.3125ZM24.9023%2034.668L18.75%2033.0078L18.3594%2028.6133H12.8906L13.5742%2037.3047L24.9023%2040.4297V34.668Z'%20fill='%23EBEBEB'/%3e%3cpath%20d='M24.9023%2020.3125V25.8789H31.7383L31.0547%2033.0078L24.9023%2034.668V40.4297L36.2305%2037.3047L37.793%2020.3125H24.9023ZM24.9023%209.17969V14.6484H38.2812L38.7695%209.17969H24.9023Z'%20fill='white'/%3e%3c/svg%3e",One="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2025.2.3,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20baseProfile='basic'%20id='Layer_10'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2064%2064'%20xml:space='preserve'%3e%3cpath%20style='fill:%2318AFFF;'%20d='M0.988,32C0.988,14.875,14.875,0.988,32,0.988S63.013,14.875,63.013,32S49.125,63.013,32,63.013%20S0.988,49.125,0.988,32z'/%3e%3cpath%20id='symbol_2_'%20style='fill:%23FFFFFF;'%20d='M55.932,37.024l-4.629-20.22c-0.244-1.096-1.279-2.192-2.375-2.497L27.674,7.791%20c-0.305-0.061-0.609-0.122-0.914-0.122c-0.914,0-1.888,0.365-2.436,0.914L9.098,22.712c-0.792,0.731-1.279,2.192-1.035,3.289%20l4.933,21.62c0.244,1.096,1.279,2.192,2.375,2.497l19.854,6.09c0.305,0.061,0.609,0.122,0.914,0.122%20c0.914,0,1.888-0.365,2.436-0.914l16.261-15.104C55.75,39.582,56.176,38.121,55.932,37.024z%20M29.866,12.542l14.556,4.446%20c0.548,0.183,0.548,0.426,0,0.548l-7.674,1.766c-0.609,0.122-1.401-0.122-1.766-0.548l-5.359-5.786%20C29.196,12.603,29.318,12.42,29.866,12.542z%20M38.941,38.669c0.122,0.609-0.244,0.914-0.792,0.731l-15.713-4.811%20c-0.548-0.183-0.67-0.67-0.244-1.035l12.059-11.206c0.426-0.426,0.914-0.244,1.035,0.305L38.941,38.669z%20M13.057,24.418%20l12.79-11.876c0.426-0.426,1.096-0.365,1.523,0.061l6.395,6.882c0.426,0.426,0.365,1.096-0.061,1.523l-12.79,11.876%20c-0.426,0.426-1.096,0.365-1.523-0.061l-6.395-6.882C12.631,25.514,12.631,24.844,13.057,24.418z%20M16.163,43.297l-3.411-14.799%20c-0.122-0.609,0.061-0.67,0.487-0.244l5.359,5.786c0.426,0.426,0.609,1.279,0.426,1.827l-2.314,7.491%20C16.589,43.846,16.285,43.846,16.163,43.297z%20M34.86,51.885l-16.626-5.116c-0.548-0.183-0.914-0.792-0.731-1.34l2.741-9.014%20c0.183-0.548,0.792-0.914,1.34-0.731L38.21,40.8c0.548,0.183,0.914,0.792,0.731,1.34L36.2,51.154%20C36.017,51.763,35.408,52.067,34.86,51.885z%20M49.659,39.765L38.514,50.118c-0.426,0.426-0.67,0.244-0.487-0.305l2.314-7.491%20c0.183-0.548,0.792-1.157,1.401-1.279l7.674-1.766C49.964,39.156,50.086,39.4,49.659,39.765z%20M50.878,37.573l-9.196,2.071%20c-0.609,0.122-1.157-0.244-1.279-0.792L36.505,21.86c-0.122-0.609,0.244-1.157,0.792-1.279l9.196-2.071%20c0.609-0.122,1.157,0.244,1.279,0.792l3.898,16.992C51.791,36.842,51.426,37.451,50.878,37.573z'/%3e%3c/svg%3e",kne="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20id='java'%3e%3cpath%20fill='%230074BD'%20d='M47.617%2098.12s-4.767%202.774%203.397%203.71c9.892%201.13%2014.947.968%2025.845-1.092%200%200%202.871%201.795%206.873%203.351-24.439%2010.47-55.308-.607-36.115-5.969zM44.629%2084.455s-5.348%203.959%202.823%204.805c10.567%201.091%2018.91%201.18%2033.354-1.6%200%200%201.993%202.025%205.132%203.131-29.542%208.64-62.446.68-41.309-6.336z'%3e%3c/path%3e%3cpath%20fill='%23EA2D2E'%20d='M69.802%2061.271c6.025%206.935-1.58%2013.17-1.58%2013.17s15.289-7.891%208.269-17.777c-6.559-9.215-11.587-13.792%2015.635-29.58%200%20.001-42.731%2010.67-22.324%2034.187z'%3e%3c/path%3e%3cpath%20fill='%230074BD'%20d='M102.123%20108.229s3.529%202.91-3.888%205.159c-14.102%204.272-58.706%205.56-71.094.171-4.451-1.938%203.899-4.625%206.526-5.192%202.739-.593%204.303-.485%204.303-.485-4.953-3.487-32.013%206.85-13.743%209.815%2049.821%208.076%2090.817-3.637%2077.896-9.468zM49.912%2070.294s-22.686%205.389-8.033%207.348c6.188.828%2018.518.638%2030.011-.326%209.39-.789%2018.813-2.474%2018.813-2.474s-3.308%201.419-5.704%203.053c-23.042%206.061-67.544%203.238-54.731-2.958%2010.832-5.239%2019.644-4.643%2019.644-4.643zM90.609%2093.041c23.421-12.167%2012.591-23.86%205.032-22.285-1.848.385-2.677.72-2.677.72s.688-1.079%202-1.543c14.953-5.255%2026.451%2015.503-4.823%2023.725%200-.002.359-.327.468-.617z'%3e%3c/path%3e%3cpath%20fill='%23EA2D2E'%20d='M76.491%201.587s12.968%2012.976-12.303%2032.923c-20.266%2016.006-4.621%2025.13-.007%2035.559-11.831-10.673-20.509-20.07-14.688-28.815%208.548-12.834%2032.229-19.059%2026.998-39.667z'%3e%3c/path%3e%3cpath%20fill='%230074BD'%20d='M52.214%20126.021c22.476%201.437%2057-.8%2057.817-11.436%200%200-1.571%204.032-18.577%207.231-19.186%203.612-42.854%203.191-56.887.874%200%20.001%202.875%202.381%2017.647%203.331z'%3e%3c/path%3e%3c/svg%3e",Nne="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1479_21409)'%3e%3cpath%20d='M43%200H8C3.85786%200%200.5%203.35786%200.5%207.5V42.5C0.5%2046.6421%203.85786%2050%208%2050H43C47.1421%2050%2050.5%2046.6421%2050.5%2042.5V7.5C50.5%203.35786%2047.1421%200%2043%200Z'%20fill='%23F0DB4F'/%3e%3cpath%20d='M32.1406%2036.1328C33.1172%2037.793%2034.4844%2038.9648%2036.7305%2038.9648C38.6836%2038.9648%2039.9531%2037.9883%2039.9531%2036.6211C39.9531%2035.0586%2038.6836%2034.4727%2036.5352%2033.4961L35.3633%2033.0078C31.9453%2031.543%2029.6992%2029.7852%2029.6992%2025.9766C29.6992%2022.4609%2032.3359%2019.7266%2036.5352%2019.7266C39.5625%2019.7266%2041.7109%2020.8008%2043.1758%2023.5352L39.5625%2025.8789C38.7812%2024.4141%2037.9023%2023.8281%2036.5352%2023.8281C35.168%2023.8281%2034.2891%2024.707%2034.2891%2025.8789C34.2891%2027.2461%2035.168%2027.832%2037.2188%2028.7109L38.3906%2029.1992C42.3945%2030.957%2044.6406%2032.6172%2044.6406%2036.6211C44.6406%2040.8203%2041.3203%2043.1641%2036.8281%2043.1641C32.4336%2043.1641%2029.6016%2041.1133%2028.2344%2038.3789L32.1406%2036.1328ZM15.5391%2036.5234C16.3203%2037.793%2016.9062%2038.9648%2018.5664%2038.9648C20.1289%2038.9648%2021.1055%2038.3789%2021.1055%2036.0352V19.8242H25.793V35.8398C25.793%2040.7227%2022.9609%2042.8711%2018.7617%2042.8711C14.9531%2042.8711%2012.8047%2040.918%2011.7305%2038.5742L15.5391%2036.5234Z'%20fill='%23323330'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1479_21409'%3e%3crect%20width='50'%20height='50'%20fill='white'%20transform='translate(0.5)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Une="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20id='jquery'%3e%3cpath%20fill='%230868AC'%20d='M9.625%2032.181c-11.029%2015.851-9.656%2036.476-1.231%2053.32.2.404.41.801.617%201.198l.394.759.246.437.439.786c.262.461.53.92.804%201.379l.459.756c.304.491.615.976.933%201.46l.398.614c.439.655.888%201.309%201.352%201.951l.039.05.228.308c.401.553.814%201.099%201.232%201.639l.464.59c.373.469.752.935%201.138%201.399l.435.52c.518.61%201.047%201.217%201.586%201.812l.033.033.061.068c.527.575%201.066%201.137%201.612%201.699l.517.521c.423.426.853.845%201.287%201.262l.527.5c.58.547%201.166%201.083%201.764%201.607l.028.022.307.262c.527.456%201.063.909%201.603%201.353l.664.529c.441.354.887.702%201.336%201.044l.714.543c.496.365.995.724%201.499%201.075l.546.387.15.107c.478.329.967.646%201.456.963l.63.42c.75.474%201.51.943%202.279%201.396l.63.355c.565.326%201.134.646%201.71.959.312.168.632.327.946.488.407.213.811.429%201.225.636l.283.137.501.242c.641.306%201.287.607%201.94.897l.41.184c.748.327%201.502.641%202.263.941l.551.217c.704.271%201.418.539%202.135.791l.268.093c.787.275%201.581.53%202.381.779l.575.172c.814.245%201.619.538%202.458.693%2053.339%209.727%2068.833-32.053%2068.833-32.053-13.013%2016.953-36.111%2021.425-57.996%2016.446-.829-.187-1.633-.446-2.442-.685l-.609-.185c-.79-.242-1.573-.497-2.352-.765l-.323-.117c-.698-.245-1.387-.504-2.074-.769l-.582-.229c-.752-.297-1.5-.607-2.239-.931l-.447-.198c-.635-.288-1.263-.578-1.889-.879l-.546-.262c-.491-.239-.977-.493-1.461-.743-.324-.171-.654-.332-.975-.51-.592-.317-1.172-.646-1.751-.982l-.591-.33c-.769-.452-1.528-.921-2.28-1.397l-.615-.41c-.545-.351-1.088-.709-1.623-1.079l-.522-.367c-.516-.365-1.027-.734-1.534-1.109l-.679-.514c-.465-.355-.927-.713-1.384-1.082l-.617-.495c-.582-.479-1.156-.959-1.724-1.453l-.189-.159c-.614-.539-1.216-1.092-1.812-1.647l-.511-.491c-.441-.42-.875-.843-1.302-1.277l-.51-.509c-.543-.556-1.076-1.119-1.598-1.69l-.079-.084c-.552-.604-1.092-1.221-1.621-1.844l-.424-.504c-.394-.475-.785-.956-1.167-1.442l-.427-.532c-.459-.596-.908-1.189-1.347-1.794-12.15-16.574-16.516-39.432-6.805-58.204M43.862%2018.825c-7.977%2011.478-7.543%2026.844-1.321%2038.983%201.043%202.035%202.216%204.01%203.528%205.889%201.195%201.713%202.52%203.751%204.106%205.127.575.633%201.176%201.251%201.79%201.858l.472.465c.596.578%201.201%201.146%201.828%201.698l.074.064.018.018c.693.608%201.408%201.191%202.135%201.767l.485.378c.729.559%201.472%201.107%202.233%201.631l.065.049c.336.232.678.448%201.019.672l.483.319c.544.349%201.095.689%201.655%201.015l.235.136c.483.278.972.552%201.463.818l.521.271c.339.177.678.358%201.023.53l.155.07c.703.346%201.412.68%202.136.995l.472.194c.579.246%201.164.486%201.75.71l.75.275c.533.198%201.068.378%201.607.559l.727.233c.767.238%201.525.539%202.324.672%2041.183%206.823%2050.691-24.886%2050.691-24.886-8.57%2012.343-25.168%2018.233-42.879%2013.635-.787-.207-1.562-.431-2.333-.674l-.701-.227c-.548-.177-1.092-.365-1.631-.562l-.736-.274c-.592-.228-1.176-.462-1.756-.708l-.473-.2c-.727-.316-1.443-.65-2.148-.999-.363-.177-.72-.364-1.078-.548l-.622-.32c-.458-.248-.914-.506-1.363-.77l-.326-.185c-.558-.325-1.107-.661-1.651-1.008l-.498-.332c-.359-.232-.717-.469-1.069-.707-.759-.524-1.498-1.072-2.226-1.628l-.501-.395c-7.752-6.12-13.898-14.486-16.819-23.971-3.062-9.836-2.402-20.878%202.903-29.84M72.657%208.847c-4.702%206.92-5.164%2015.514-1.901%2023.156%203.441%208.113%2010.491%2014.476%2018.72%2017.495.339.125.679.237%201.022.354l.451.143c.485.152.966.329%201.467.424%2022.74%204.394%2028.908-11.669%2030.549-14.034-5.402%207.779-14.482%209.646-25.623%206.942-.88-.213-1.847-.531-2.695-.832-1.088-.388-2.16-.83-3.201-1.329-1.978-.951-3.864-2.104-5.612-3.424-9.969-7.565-16.162-21.994-9.657-33.745'%3e%3c/path%3e%3c/svg%3e",IG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAAkCAYAAAAU/hMoAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADQSURBVHgB7dZbDcJAEIXhsyhAAhKQgAQcUAcEBYACwAEScAAScNA6oA6GmXBJQ7PLy6Z7AvMn002bPnxJL1ngnxKRsQ1YU9xS5yaPdmBLUWvpNwNLEaBVgaEEsNaZoHQJoL2XU5TOgQ50oAMdyAcM3RMD6rKJ3LvSuWLgQgiXN/ILsGRNFykgbWQHYd5R44nU597qcgBn7eeHc9RlEbl5q9Ng+E69KwaN/IJqYdjMvnJo7hyaO4fmzqG5+xUoz4YlAa3AVAQ6B1uK2neAZ2TuDowwQPaAXCjgAAAAAElFTkSuQmCC",zne="/assets/libgdx-Do4k-CLf.svg",jne="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20id='up-right-arrow'%3e%3cpath%20d='M25.74%207.83v-.17l-.06-.2a1.18%201.18%200%200%200-.11-.19.8.8%200%200%200-.08-.16%201.92%201.92%200%200%200-.55-.55%201.29%201.29%200%200%200-.16-.09l-.19-.1-.2-.06h-.17a2.58%202.58%200%200%200-.39%200H9.64a2%202%200%200%200%200%204H19L6.81%2022.36a2%202%200%201%200%202.83%202.83l12.14-12.14v9.31a2%202%200%200%200%204%200V8.22a2.58%202.58%200%200%200-.04-.39Z'%3e%3c/path%3e%3c/svg%3e",Hne="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='25'%20viewBox='0%200%2024%2025'%20fill='none'%3e%3cpath%20d='M22.2975%201H2.69805C1.75918%201%201%201.74121%201%202.65762V22.3379C1%2023.2543%201.75918%2024%202.69805%2024H22.2975C23.2363%2024%2024%2023.2543%2024%2022.3424V2.65762C24%201.74121%2023.2363%201%2022.2975%201ZM7.82363%2020.5994H4.40957V9.62051H7.82363V20.5994ZM6.1166%208.12461C5.02051%208.12461%204.13555%207.23965%204.13555%206.14805C4.13555%205.05645%205.02051%204.17148%206.1166%204.17148C7.2082%204.17148%208.09316%205.05645%208.09316%206.14805C8.09316%207.23516%207.2082%208.12461%206.1166%208.12461ZM20.5994%2020.5994H17.1898V15.2627C17.1898%2013.9914%2017.1674%2012.3518%2015.4154%2012.3518C13.641%2012.3518%2013.3715%2013.7398%2013.3715%2015.1729V20.5994H9.96641V9.62051H13.2367V11.1209H13.2816C13.7354%2010.2584%2014.8494%209.34648%2016.507%209.34648C19.9615%209.34648%2020.5994%2011.6195%2020.5994%2014.5754V20.5994Z'%20fill='%230288D1'/%3e%3c/svg%3e",Gne="/assets/linux-DP4ysyC7.svg",Vne="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1479_21496)'%3e%3cpath%20d='M25.7715%2050C39.5786%2050%2050.7715%2038.8071%2050.7715%2025C50.7715%2011.1929%2039.5786%200%2025.7715%200C11.9644%200%200.771484%2011.1929%200.771484%2025C0.771484%2038.8071%2011.9644%2050%2025.7715%2050Z'%20fill='%2313AA52'/%3e%3cpath%20d='M32.4546%2021.9453C30.8755%2014.9761%2027.1436%2012.6846%2026.7417%2011.8091C26.3023%2011.1914%2025.857%2010.0928%2025.857%2010.0928C25.8497%2010.0742%2025.8379%2010.0415%2025.8243%2010.0098C25.7789%2010.6274%2025.7554%2010.8657%2025.1714%2011.4888C24.2671%2012.1958%2019.6275%2016.0889%2019.2501%2024.0068C18.898%2031.3916%2024.5845%2035.792%2025.3536%2036.353L25.441%2036.415V36.4097C25.4459%2036.4468%2025.6851%2038.1675%2025.8531%2039.9907H26.4556C26.597%2038.7019%2026.8089%2037.4219%2027.0904%2036.1562L27.1392%2036.1245C27.4832%2035.8779%2027.8112%2035.6096%2028.1211%2035.3213L28.1563%2035.2896C29.7911%2033.7793%2032.73%2030.2861%2032.7012%2024.7168C32.6951%2023.7878%2032.6127%2022.8608%2032.4546%2021.9453ZM25.7891%2032.1836C25.7891%2032.1836%2025.7891%2021.8262%2026.1309%2021.8281C26.3975%2021.8281%2026.7427%2035.188%2026.7427%2035.188C26.2681%2035.1309%2025.7891%2032.9893%2025.7891%2032.1836Z'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1479_21496'%3e%3crect%20width='50'%20height='50'%20fill='white'%20transform='translate(0.771484)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Wne="data:image/svg+xml,%3csvg%20width='50'%20height='50'%20viewBox='0%200%2050%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2026.7281V5.07812L18.75%2015.9031V23.1198L6.25%2015.9031V30.3365L0%2026.7281Z'%20fill='%2300B0FF'/%3e%3cpath%20d='M18.75%2015.9031L37.5%205.07812V26.7281L25%2033.9448L18.75%2030.3365L31.25%2023.1198V15.9031L18.75%2023.1198V15.9031Z'%20fill='%230081CB'/%3e%3cpath%20d='M18.75%2030.3364V37.5531L31.25%2044.7698V37.5531L18.75%2030.3364Z'%20fill='%2300B0FF'/%3e%3cpath%20d='M31.25%2044.7698L50%2033.9448V19.5115L43.75%2023.1198V30.3365L31.25%2037.5531V44.7698ZM43.75%2015.9031V8.68646L50%205.07812V12.2948L43.75%2015.9031Z'%20fill='%230081CB'/%3e%3c/svg%3e",Xne="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20id='mysql'%3e%3cpath%20fill='%2300618A'%20d='M116.948%2097.807c-6.863-.187-12.104.452-16.585%202.341-1.273.537-3.305.552-3.513%202.147.7.733.809%201.829%201.365%202.731%201.07%201.73%202.876%204.052%204.488%205.268%201.762%201.33%203.577%202.751%205.465%203.902%203.358%202.047%207.107%203.217%2010.34%205.268%201.906%201.21%203.799%202.733%205.658%204.097.92.675%201.537%201.724%202.732%202.147v-.194c-.628-.8-.79-1.898-1.366-2.733l-2.537-2.537c-2.48-3.292-5.629-6.184-8.976-8.585-2.669-1.916-8.642-4.504-9.755-7.609l-.195-.195c1.892-.214%204.107-.898%205.854-1.367%202.934-.786%205.556-.583%208.585-1.365l4.097-1.171v-.78c-1.531-1.571-2.623-3.651-4.292-5.073-4.37-3.72-9.138-7.437-14.048-10.537-2.724-1.718-6.089-2.835-8.976-4.292-.971-.491-2.677-.746-3.318-1.562-1.517-1.932-2.342-4.382-3.511-6.633-2.449-4.717-4.854-9.868-7.024-14.831-1.48-3.384-2.447-6.72-4.293-9.756-8.86-14.567-18.396-23.358-33.169-32-3.144-1.838-6.929-2.563-10.929-3.513-2.145-.129-4.292-.26-6.438-.391-1.311-.546-2.673-2.149-3.902-2.927-4.894-3.092-17.448-9.817-21.072-.975-2.289%205.581%203.421%2011.025%205.462%2013.854%201.434%201.982%203.269%204.207%204.293%206.438.674%201.467.79%202.938%201.367%204.489%201.417%203.822%202.652%207.98%204.487%2011.511.927%201.788%201.949%203.67%203.122%205.268.718.981%201.951%201.413%202.145%202.927-1.204%201.686-1.273%204.304-1.95%206.44-3.05%209.615-1.899%2021.567%202.537%2028.683%201.36%202.186%204.567%206.871%208.975%205.073%203.856-1.57%202.995-6.438%204.098-10.732.249-.973.096-1.689.585-2.341v.195l3.513%207.024c2.6%204.187%207.212%208.562%2011.122%2011.514%202.027%201.531%203.623%204.177%206.244%205.073v-.196h-.195c-.508-.791-1.303-1.119-1.951-1.755-1.527-1.497-3.225-3.358-4.487-5.073-3.556-4.827-6.698-10.11-9.561-15.609-1.368-2.627-2.557-5.523-3.709-8.196-.444-1.03-.438-2.589-1.364-3.122-1.263%201.958-3.122%203.542-4.098%205.854-1.561%203.696-1.762%208.204-2.341%2012.878-.342.122-.19.038-.391.194-2.718-.655-3.672-3.452-4.683-5.853-2.554-6.07-3.029-15.842-.781-22.829.582-1.809%203.21-7.501%202.146-9.172-.508-1.666-2.184-2.63-3.121-3.903-1.161-1.574-2.319-3.646-3.124-5.464-2.09-4.731-3.066-10.044-5.267-14.828-1.053-2.287-2.832-4.602-4.293-6.634-1.617-2.253-3.429-3.912-4.683-6.635-.446-.968-1.051-2.518-.391-3.513.21-.671.508-.951%201.171-1.17%201.132-.873%204.284.29%205.462.779%203.129%201.3%205.741%202.538%208.392%204.294%201.271.844%202.559%202.475%204.097%202.927h1.756c2.747.631%205.824.195%208.391.975%204.536%201.378%208.601%203.523%2012.292%205.854%2011.246%207.102%2020.442%2017.21%2026.732%2029.269%201.012%201.942%201.45%203.794%202.341%205.854%201.798%204.153%204.063%208.426%205.852%2012.488%201.786%204.052%203.526%208.141%206.05%2011.513%201.327%201.772%206.451%202.723%208.781%203.708%201.632.689%204.307%201.409%205.854%202.34%202.953%201.782%205.815%203.903%208.586%205.855%201.383.975%205.64%203.116%205.852%204.879zM29.729%2023.466c-1.431-.027-2.443.156-3.513.389v.195h.195c.683%201.402%201.888%202.306%202.731%203.513.65%201.367%201.301%202.732%201.952%204.097l.194-.193c1.209-.853%201.762-2.214%201.755-4.294-.484-.509-.555-1.147-.975-1.755-.556-.811-1.635-1.272-2.339-1.952z'%3e%3c/path%3e%3c/svg%3e",Kne="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='2207'%20height='2500'%20preserveAspectRatio='xMinYMin%20meet'%20viewBox='0%200%20256%20290'%20id='neoj'%3e%3cpath%20fill='%23008CC1'%20d='M243.29%20131.526c0%2067.188-54.458%20121.645-121.645%20121.645S0%20198.714%200%20131.526C0%2064.34%2054.458%209.882%20121.645%209.882c67.187-.059%20121.644%2054.457%20121.644%20121.644'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M53.927%2091.626c0%205.364-4.361%209.725-9.724%209.725-5.364%200-9.725-4.36-9.725-9.725%200-5.363%204.36-9.724%209.725-9.724a9.696%209.696%200%200%201%209.724%209.724M55.577%20118.325c0%205.363-4.361%209.725-9.724%209.725s-9.725-4.362-9.725-9.725c0-5.364%204.362-9.724%209.725-9.724a9.696%209.696%200%200%201%209.724%209.724M61.53%20146.615c0%205.363-4.362%209.724-9.725%209.724-5.363%200-9.725-4.361-9.725-9.724%200-5.365%204.362-9.725%209.725-9.725%205.363-.059%209.724%204.302%209.724%209.725M74.85%20171.957c0%205.363-4.363%209.725-9.726%209.725s-9.724-4.362-9.724-9.725c0-5.364%204.361-9.724%209.724-9.724%205.363-.06%209.725%204.302%209.725%209.724M178.99%20207.378c0%205.363-4.361%209.724-9.725%209.724-5.363%200-9.724-4.361-9.724-9.724s4.36-9.725%209.724-9.725%209.725%204.362%209.725%209.725M196.67%20186.455c0%205.363-4.36%209.724-9.725%209.724-5.363%200-9.724-4.36-9.724-9.724%200-5.363%204.361-9.725%209.724-9.725%205.365%200%209.726%204.362%209.726%209.725M145.396%2038.525c0%205.363-4.362%209.724-9.725%209.724-5.363%200-9.724-4.36-9.724-9.724%200-5.363%204.361-9.724%209.724-9.724s9.725%204.36%209.725%209.724M119.818%2029.567c0%205.363-4.362%209.724-9.725%209.724-5.363%200-9.724-4.36-9.724-9.724%200-5.363%204.36-9.725%209.724-9.725%205.363%200%209.725%204.362%209.725%209.725'%3e%3c/path%3e%3cpath%20fill='%2366B245'%20d='M188.773%2037.7c35.804%200%2064.83%2029.026%2064.83%2064.83s-29.026%2064.83-64.83%2064.83c-35.805%200-64.83-29.026-64.83-64.83s29.025-64.83%2064.83-64.83'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M188.773%20169.096c-36.705%200-66.567-29.862-66.567-66.566%200-36.705%2029.862-66.566%2066.567-66.566%2036.704%200%2066.566%2029.86%2066.566%2066.566%200%2036.704-29.862%2066.566-66.566%2066.566zm0-129.66c-34.79%200-63.094%2028.305-63.094%2063.094%200%2034.79%2028.304%2063.093%2063.094%2063.093%2034.79%200%2063.093-28.303%2063.093-63.093%200-34.79-28.303-63.093-63.093-63.093z'%3e%3c/path%3e%3cpath%20fill='%2366B245'%20d='M99.956%20181.682c29.294%200%2053.043%2023.747%2053.043%2053.042%200%2029.294-23.749%2053.043-53.043%2053.043-29.295%200-53.043-23.749-53.043-53.043%200-29.295%2023.748-53.042%2053.043-53.042'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M99.956%20289.503c-30.206%200-54.779-24.574-54.779-54.779%200-30.206%2024.573-54.779%2054.78-54.779%2030.205%200%2054.778%2024.573%2054.778%2054.78%200%2030.204-24.573%2054.778-54.779%2054.778zm0-106.085c-28.29%200-51.306%2023.015-51.306%2051.306%200%2028.29%2023.016%2051.306%2051.306%2051.306s51.306-23.016%2051.306-51.306-23.016-51.306-51.306-51.306z'%3e%3c/path%3e%3cpath%20fill='%2366B245'%20d='M56.284%201.984c19.53%200%2035.362%2015.833%2035.362%2035.362%200%2019.53-15.832%2035.362-35.362%2035.362S20.923%2056.876%2020.923%2037.346%2036.755%201.984%2056.284%201.984'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M56.284%2074.444c-20.456%200-37.098-16.642-37.098-37.098S35.828.248%2056.284.248%2093.382%2016.89%2093.382%2037.346%2076.74%2074.444%2056.284%2074.444zm0-70.723c-18.54%200-33.625%2015.084-33.625%2033.625s15.084%2033.626%2033.625%2033.626S89.91%2055.887%2089.91%2037.346c0-18.54-15.085-33.625-33.626-33.625z'%3e%3c/path%3e%3c/svg%3e",Yne="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='64'%20height='64'%20version='1.1'%20viewBox='0%200%2064%2064'%3e%3cpath%20style='opacity:.2'%20d='m20%205-9.6094%208%200.0039%200.0039v0.002l-2.395%201.994v36l12%2010v-34.275l24%2034.275%209.6094-8-0.0039-0.0039v-0.002l2.394-1.994v-36l-12-10v34.275z'/%3e%3cpath%20style='fill:%236ba63f'%20d='m56%2014-12-10v56l12-10z'/%3e%3cpath%20style='fill:%2342afe6'%20d='m8%2014%2012-10v56l-12-10z'/%3e%3cpath%20style='fill:%2396ca6b'%20d='m20%204%2033.61%2048-9.61%208-33.61-48z'/%3e%3cpath%20style='fill:%23569e41'%20d='m44%2038.277v21.723l9.6055-8.0039z'/%3e%3cpath%20style='fill:%2370be63'%20d='m20%204-9.605%208.004%209.605%2013.719z'/%3e%3cpath%20style='opacity:.2;fill:%23ffffff'%20d='m20%204l-9.609%208%200.004%200.004v0.002l-2.395%201.994v1l2.395-1.994v-0.002l-0.004-0.004%209.609-8%2024%2034.275v-1l-24-34.275zm24%200v1l12%2010v-1l-12-10z'/%3e%3c/svg%3e",Jne="/assets/neuron-EG0PvgMi.svg",qne="data:image/svg+xml,%3csvg%20width='50'%20height='50'%20viewBox='0%200%2050%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cmask%20id='mask0_1479_21424'%20style='mask-type:alpha'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='50'%20height='50'%3e%3cpath%20d='M25%2050C38.8071%2050%2050%2038.8071%2050%2025C50%2011.1929%2038.8071%200%2025%200C11.1929%200%200%2011.1929%200%2025C0%2038.8071%2011.1929%2050%2025%2050Z'%20fill='black'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_1479_21424)'%3e%3cpath%20d='M25%2050C38.8071%2050%2050%2038.8071%2050%2025C50%2011.1929%2038.8071%200%2025%200C11.1929%200%200%2011.1929%200%2025C0%2038.8071%2011.1929%2050%2025%2050Z'%20fill='%23192333'/%3e%3cpath%20d='M41.53%2043.7556L19.2061%2015H15V34.9917H18.3649V19.2732L38.8886%2045.7903C39.8147%2045.1706%2040.6969%2044.4903%2041.53%2043.7556Z'%20fill='url(%23paint0_linear_1479_21424)'/%3e%3cpath%20d='M35.2786%2015H31.9453V35H35.2786V15Z'%20fill='url(%23paint1_linear_1479_21424)'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_1479_21424'%20x1='30.2778'%20y1='32.3611'%20x2='40.1389'%20y2='44.5833'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='white'/%3e%3cstop%20offset='1'%20stop-color='white'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_1479_21424'%20x1='33.612'%20y1='15'%20x2='33.5561'%20y2='29.6875'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='white'/%3e%3cstop%20offset='1'%20stop-color='white'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",Zne="data:image/svg+xml,%3csvg%20width='45'%20height='50'%20viewBox='0%200%2045%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22.2977%2049.9072C21.6099%2049.9072%2020.968%2049.7238%2020.372%2049.4029L14.274%2045.7808C13.357%2045.2764%2013.8155%2045.093%2014.0906%2045.0013C15.3285%2044.5887%2015.5578%2044.497%2016.8416%2043.7634C16.9791%2043.6717%2017.1625%2043.7175%2017.3001%2043.8092L21.9767%2046.6061C22.1601%2046.6978%2022.3894%2046.6978%2022.5269%2046.6061L40.8209%2036.0148C41.0043%2035.9231%2041.096%2035.7397%2041.096%2035.5105V14.3738C41.096%2014.1446%2041.0043%2013.9612%2040.8209%2013.8695L22.5269%203.32409C22.3435%203.23239%2022.1143%203.23239%2021.9767%203.32409L3.68276%2013.8695C3.49936%2013.9612%203.40766%2014.1904%203.40766%2014.3738V35.5105C3.40766%2035.6939%203.49936%2035.9231%203.68276%2036.0148L8.68036%2038.9033C11.3855%2040.2788%2013.0819%2038.6741%2013.0819%2037.0694V16.2078C13.0819%2015.9327%2013.3112%2015.6576%2013.6321%2015.6576H15.9704C16.2455%2015.6576%2016.5206%2015.8869%2016.5206%2016.2078V37.0694C16.5206%2040.6915%2014.5491%2042.8005%2011.1104%2042.8005C10.0558%2042.8005%209.23055%2042.8005%206.89223%2041.6543L2.07802%2038.9033C0.885936%2038.2156%200.152344%2036.9318%200.152344%2035.5563V14.4197C0.152344%2013.0442%200.885936%2011.7604%202.07802%2011.0727L20.372%200.48142C21.5182%20-0.160473%2023.0771%20-0.160473%2024.2234%200.48142L42.5173%2011.0727C43.7094%2011.7604%2044.443%2013.0442%2044.443%2014.4197V35.5563C44.443%2036.9318%2043.7094%2038.2156%2042.5173%2038.9033L24.2234%2049.4946C23.6273%2049.7697%2022.9396%2049.9072%2022.2977%2049.9072ZM27.9372%2035.3729C19.9135%2035.3729%2018.2629%2031.705%2018.2629%2028.5872C18.2629%2028.3121%2018.4922%2028.037%2018.8131%2028.037H21.1973C21.4724%2028.037%2021.7016%2028.2204%2021.7016%2028.4955C22.0684%2030.9255%2023.123%2032.1176%2027.983%2032.1176C31.8344%2032.1176%2033.485%2031.2465%2033.485%2029.1832C33.485%2027.9911%2033.0265%2027.12%2027.0202%2026.524C22.0226%2026.0196%2018.9048%2024.9192%2018.9048%2020.9303C18.9048%2017.2165%2022.0226%2015.0157%2027.2494%2015.0157C33.1182%2015.0157%2036.0067%2017.0331%2036.3735%2021.4347C36.3735%2021.5722%2036.3276%2021.7098%2036.2359%2021.8473C36.1442%2021.939%2036.0067%2022.0307%2035.8691%2022.0307H33.485C33.2557%2022.0307%2033.0265%2021.8473%2032.9806%2021.6181C32.4304%2019.0963%2031.0091%2018.271%2027.2494%2018.271C23.0313%2018.271%2022.5269%2019.7382%2022.5269%2020.8386C22.5269%2022.1683%2023.123%2022.5809%2028.8083%2023.3145C34.4478%2024.0481%2037.1071%2025.1026%2037.1071%2029.0457C37.0612%2033.0804%2033.7601%2035.3729%2027.9372%2035.3729Z'%20fill='%23539E43'/%3e%3c/svg%3e",Qne="/assets/noodles-qf43CJTt.svg",$ne="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20id='postman'%3e%3cpath%20fill='%23F36933'%20d='M18.855%206.049a.145.145%200%200%200-.053.159v-.001a.412.412%200%200%201-.054.45l.001-.001a.139.139%200%200%200-.03.087c0%20.044.021.084.053.11a.143.143%200%200%200%20.084.03c.042%200%20.08-.02.106-.05a.69.69%200%200%200%20.086-.752.138.138%200%200%200-.193-.032zM19.049%206.082l-.002-.004.001.003z'%3e%3c/path%3e%3cpath%20fill='%23F36933'%20d='M13.527.099C6.955-.744.942%203.9.099%2010.473c-.843%206.572%203.8%2012.584%2010.373%2013.428%206.573.843%2012.588-3.801%2013.429-10.374C24.745%206.955%2020.102.943%2013.527.099zm2.471%207.485a.851.851%200%200%200-.593.25l-4.453%204.453-.95-.95c4.389-4.376%205.181-4.418%205.996-3.753zm-4.863%204.861%204.44-4.44a.62.62%200%201%201%20.848.902l-.001.001-4.699%204.125-.588-.588zm.33.694-1.1.238a.057.057%200%200%201-.013.001.06.06%200%200%201-.054-.033.06.06%200%200%201%20.01-.073l.645-.645.512.512zm-2.803-.459%201.172-1.172.879.878-1.979.426a.11.11%200%200%201-.019.002.074.074%200%200%201-.066-.041.071.071%200%200%201-.011-.039c0-.021.009-.041.024-.054zm-3.646%206.057a.074.074%200%200%201-.069-.075v-.008a.077.077%200%200%201%20.022-.046h.002l.946-.946%201.222%201.222-2.123-.147zm2.426-1.255a.227.227%200%200%200-.117.258v-.002l.203.865a.125.125%200%200%201-.211.117h-.003l-1.228-1.229%203.762-3.758%201.82-.393.874.874c-1.255%201.102-2.971%202.201-5.1%203.268zm5.278-3.428h-.002l-.839-.839%204.699-4.125a.985.985%200%200%200%20.117-.125l.002-.002c-.147%201.345-2.029%203.245-3.977%205.091zm4.942-5.928a1.81%201.81%200%200%201-1.285-.532h.001l-.003-.002a1.822%201.822%200%200%201%202.461-2.681l-.003-.002-1.61%201.613a.117.117%200%200%200-.035.084c0%20.033.013.063.035.084l1.247%201.247a1.801%201.801%200%200%201-.808.189zm1.294-.532c-.081.08-.169.151-.265.214l-.006.004h-.001l-1.207-1.207%201.533-1.533c.661.72.637%201.832-.054%202.522z'%3e%3c/path%3e%3c/svg%3e",eie="data:image/svg+xml,%3csvg%20width='26'%20height='26'%20viewBox='0%200%2026%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20opacity='0.4'%20d='M20.4578%206.19733L18.1703%203.90983C16.2391%201.97858%2015.2741%201.01233%2014.0203%200.653583C12.7666%200.293583%2011.4353%200.601083%208.77406%201.21608L7.23906%201.56983C4.99906%202.08608%203.87906%202.34483%203.11156%203.11108C2.34531%203.87858%202.08656%204.99858%201.57031%207.23858L1.21531%208.77358C0.601557%2011.4361%200.294057%2012.7661%200.652807%2014.0198C1.01281%2015.2736%201.97906%2016.2386%203.91031%2018.1698L6.19781%2020.4573C9.56031%2023.8211%2011.2403%2025.4998%2013.3278%2025.4998C15.4166%2025.4998%2017.0966%2023.8186%2020.4578%2020.4573C23.8216%2017.0961%2025.5003%2015.4161%2025.5003%2013.3273C25.5003%2011.2398%2023.8191%209.55858%2020.4578%206.19733Z'%20fill='%23fff'/%3e%3cpath%20d='M11.9333%2015.9103C11.0921%2015.0703%2011.0996%2013.8628%2011.6021%2012.9066C11.4774%2012.7264%2011.4197%2012.5083%2011.4391%2012.2901C11.4584%2012.0719%2011.5536%2011.8673%2011.7081%2011.7119C11.8625%2011.5566%2012.0666%2011.4602%2012.2847%2011.4396C12.5028%2011.419%2012.7212%2011.4754%2012.9021%2011.5991C13.3271%2011.3741%2013.7933%2011.2541%2014.2583%2011.2591C14.507%2011.2614%2014.7445%2011.3624%2014.9187%2011.5399C15.0929%2011.7173%2015.1894%2011.9567%2015.1871%2012.2053C15.1848%2012.454%2015.0838%2012.6915%2014.9063%2012.8657C14.7289%2013.0399%2014.4895%2013.1364%2014.2408%2013.1341C13.9514%2013.1448%2013.6779%2013.2692%2013.4796%2013.4803C12.9958%2013.9641%2013.1233%2014.4491%2013.2583%2014.5853C13.3958%2014.7216%2013.8796%2014.8478%2014.3633%2014.3641C15.3433%2013.3841%2017.0358%2013.0591%2018.1208%2014.1428C18.9621%2014.9841%2018.9546%2016.1916%2018.4508%2017.1478C18.5748%2017.328%2018.6318%2017.5458%2018.6121%2017.7636C18.5924%2017.9814%2018.4972%2018.1854%2018.3429%2018.3404C18.1887%2018.4954%2017.9851%2018.5916%2017.7674%2018.6124C17.5497%2018.6331%2017.3316%2018.5771%2017.1508%2018.4541C16.5899%2018.7617%2015.9392%2018.8643%2015.3108%2018.7441C15.1902%2018.7193%2015.0756%2018.671%2014.9736%2018.6019C14.8716%2018.5328%2014.7843%2018.4444%2014.7165%2018.3415C14.6487%2018.2387%2014.6018%2018.1235%2014.5785%2018.0025C14.5553%2017.8816%2014.5561%2017.7572%2014.5808%2017.6366C14.6056%2017.5159%2014.6539%2017.4013%2014.723%2017.2994C14.7921%2017.1974%2014.8806%2017.11%2014.9834%2017.0422C15.0862%2016.9744%2015.2014%2016.9276%2015.3224%2016.9043C15.4433%2016.881%2015.5677%2016.8818%2015.6883%2016.9066C15.9096%2016.9528%2016.2671%2016.8803%2016.5733%2016.5741C17.0583%2016.0891%2016.9308%2015.6053%2016.7946%2015.4691C16.6583%2015.3328%2016.1746%2015.2066%2015.6896%2015.6903C14.7096%2016.6703%2013.0171%2016.9953%2011.9333%2015.9103ZM10.5258%2010.8666C10.7646%2010.636%2010.9551%2010.3601%2011.0861%2010.0551C11.2171%209.75008%2011.2861%209.42203%2011.289%209.09008C11.2919%208.75813%2011.2286%208.42894%2011.1029%208.12169C10.9772%207.81445%2010.7916%207.53532%2010.5568%207.30059C10.3221%207.06586%2010.043%206.88023%209.73573%206.75453C9.42849%206.62882%209.09929%206.56557%208.76734%206.56845C8.43539%206.57134%208.10734%206.6403%207.80233%206.77133C7.49732%206.90235%207.22146%207.0928%206.99084%207.33158C6.53545%207.80309%206.28346%208.43459%206.28916%209.09008C6.29485%209.74558%206.55778%2010.3726%207.0213%2010.8361C7.48482%2011.2996%208.11185%2011.5626%208.76734%2011.5683C9.42283%2011.574%2010.0543%2011.322%2010.5258%2010.8666Z'%20fill='%23fff'/%3e%3c/svg%3e",tie="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='2500'%20height='2490'%20preserveAspectRatio='xMinYMin%20meet'%20viewBox='0%200%20256%20255'%20id='python'%3e%3cdefs%3e%3clinearGradient%20id='a'%20x1='12.959%25'%20x2='79.639%25'%20y1='12.039%25'%20y2='78.201%25'%3e%3cstop%20offset='0%25'%20stop-color='%23387EB8'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23366994'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20id='b'%20x1='19.128%25'%20x2='90.742%25'%20y1='20.579%25'%20y2='88.429%25'%3e%3cstop%20offset='0%25'%20stop-color='%23FFE052'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23FFC331'%3e%3c/stop%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20fill='url(%23a)'%20d='M126.916.072c-64.832%200-60.784%2028.115-60.784%2028.115l.072%2029.128h61.868v8.745H41.631S.145%2061.355.145%20126.77c0%2065.417%2036.21%2063.097%2036.21%2063.097h21.61v-30.356s-1.165-36.21%2035.632-36.21h61.362s34.475.557%2034.475-33.319V33.97S194.67.072%20126.916.072zM92.802%2019.66a11.12%2011.12%200%200%201%2011.13%2011.13%2011.12%2011.12%200%200%201-11.13%2011.13%2011.12%2011.12%200%200%201-11.13-11.13%2011.12%2011.12%200%200%201%2011.13-11.13z'%3e%3c/path%3e%3cpath%20fill='url(%23b)'%20d='M128.757%20254.126c64.832%200%2060.784-28.115%2060.784-28.115l-.072-29.127H127.6v-8.745h86.441s41.486%204.705%2041.486-60.712c0-65.416-36.21-63.096-36.21-63.096h-21.61v30.355s1.165%2036.21-35.632%2036.21h-61.362s-34.475-.557-34.475%2033.32v56.013s-5.235%2033.897%2062.518%2033.897zm34.114-19.586a11.12%2011.12%200%200%201-11.13-11.13%2011.12%2011.12%200%200%201%2011.13-11.131%2011.12%2011.12%200%200%201%2011.13%2011.13%2011.12%2011.12%200%200%201-11.13%2011.13z'%3e%3c/path%3e%3c/svg%3e",nie="data:image/svg+xml,%3csvg%20width='81'%20height='80'%20viewBox='0%200%2081%2080'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1479_21414)'%3e%3cpath%20d='M45.458%2041.5776C46.4212%2038.9707%2045.0226%2036.0517%2042.3335%2035.0581C39.6448%2034.0647%2036.6839%2035.3729%2035.7207%2037.9798C34.7574%2040.5871%2036.1565%2043.506%2038.8452%2044.4994C41.5342%2045.493%2044.4947%2044.1848%2045.458%2041.5776Z'%20fill='%2353C1DE'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M59.6393%2036.8569C62.1641%2033.1859%2066.232%2026.1515%2062.6171%2021.9214C59.0193%2017.7103%2051.3231%2020.3888%2047.1296%2022.154C45.0896%2018.1187%2040.8104%2011.0391%2035.3144%2011.9121C29.8415%2012.7815%2028.5099%2020.6853%2028.0547%2025.1499C23.3961%2024.752%2015.221%2024.5819%2013.3277%2029.7061C11.4398%2034.8158%2017.6725%2040.2198%2021.4461%2042.9362C18.8768%2046.6453%2014.8585%2053.4365%2018.4592%2057.652C22.0844%2061.8945%2029.8773%2059.4062%2034.1115%2057.6197C36.1635%2061.7121%2040.2513%2068.6252%2045.7274%2067.7553C51.2207%2066.8827%2052.774%2059.0337%2053.2378%2054.5454C57.7432%2054.885%2065.9859%2054.8969%2067.8502%2049.851C69.7253%2044.7761%2063.3722%2039.5552%2059.6393%2036.8569ZM53.4062%2052.1383C53.4986%2049.7653%2053.3994%2047.1688%2053.1197%2044.4212C55.0466%2042.5513%2056.7633%2040.6588%2058.2117%2038.8023C60.9457%2040.7872%2066.9143%2045.2201%2065.5212%2048.9905C64.115%2052.7964%2056.9614%2052.402%2053.4062%2052.1383ZM45.2824%2065.3697C41.1967%2066.0185%2037.8496%2059.6152%2036.3318%2056.5991C38.4703%2055.5375%2040.7055%2054.2107%2042.9811%2052.661C45.7008%2053.4083%2048.3278%2053.9576%2050.7731%2054.2858C50.4413%2057.4592%2049.3862%2064.7177%2045.2824%2065.3697ZM20.3459%2056.1254C17.6606%2052.9828%2021.6084%2047.0564%2023.5%2044.3238C25.5561%2045.628%2027.901%2046.886%2030.4664%2048.0699C31.2143%2050.6853%2032.0952%2053.1607%2033.0751%2055.4057C30.4265%2056.5238%2023.0437%2059.2825%2020.3459%2056.1254ZM15.6567%2030.5667C17.0682%2026.7466%2024.4399%2027.2588%2027.8765%2027.5563C27.7639%2029.96%2027.8276%2032.5405%2028.067%2035.2146C26.1199%2037.1192%2024.3678%2039.0692%2022.8747%2040.9918C20.2045%2039.0667%2014.2445%2034.389%2015.6567%2030.5667ZM35.7592%2014.2977C39.862%2013.6461%2043.4186%2020.239%2044.902%2023.163C42.7088%2024.2269%2040.4497%2025.5261%2038.1983%2027.0198C35.549%2026.3028%2032.9576%2025.7659%2030.5178%2025.4279C30.8859%2021.8274%2031.6608%2014.9486%2035.7592%2014.2977ZM51.5018%2034.7248C53.1628%2035.5804%2054.7249%2036.4794%2056.1619%2037.404C55.1526%2038.6905%2054.0029%2040.001%2052.7349%2041.3113C52.4147%2039.1027%2052.0074%2036.9038%2051.5018%2034.7248ZM45.9385%2025.3801C46.5958%2026.9054%2047.2062%2028.563%2047.7595%2030.3211C45.649%2029.4294%2043.4988%2028.6345%2041.3159%2027.9387C42.8757%2026.9757%2044.4257%2026.1185%2045.9385%2025.3801ZM30.3849%2033.0516C30.2829%2031.2413%2030.2692%2029.4933%2030.3425%2027.8372C32.0228%2028.0745%2033.7838%2028.4116%2035.5895%2028.8408C33.7866%2030.1626%2032.0496%2031.5683%2030.3849%2033.0516ZM29.6689%2045.0176C27.9548%2044.1647%2026.3675%2043.2806%2024.9336%2042.3778C25.9718%2041.0486%2027.1437%2039.7012%2028.4252%2038.3638C28.7319%2040.5974%2029.1476%2042.8183%2029.6689%2045.0176ZM35.297%2054.3797C34.6199%2052.8169%2033.9907%2051.1325%2033.423%2049.3612C35.5517%2050.2411%2037.7149%2051.0406%2039.9084%2051.7449C38.3297%2052.7516%2036.7849%2053.6348%2035.297%2054.3797ZM50.8253%2046.548C50.959%2048.4279%2050.9976%2050.2129%2050.9381%2051.8748C49.2279%2051.6405%2047.4171%2051.2916%2045.5415%2050.8363C47.3633%2049.4795%2049.1298%2048.052%2050.8253%2046.548ZM42.4809%2050.0166C39.0937%2049.0251%2035.7715%2047.7948%2032.5445%2046.3666C31.6496%2043.0143%2031.0116%2039.6007%2030.6416%2036.165C33.1475%2033.7986%2035.8375%2031.6209%2038.6866%2029.6567C42.0822%2030.636%2045.4089%2031.8643%2048.6246%2033.3303C49.4962%2036.669%2050.1242%2040.0644%2050.5324%2043.4777C48.0113%2045.8367%2045.3104%2048.0168%2042.4809%2050.0166ZM60.7309%2023.4479C63.4277%2026.6047%2059.4203%2032.7969%2057.593%2035.4583C55.518%2034.1164%2053.2008%2032.8322%2050.7156%2031.648C49.9815%2029.026%2049.1242%2026.5718%2048.1674%2024.3682C51.2411%2023.0767%2058.0602%2020.3219%2060.7309%2023.4479Z'%20fill='%2353C1DE'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1479_21414'%3e%3crect%20width='62'%20height='62'%20fill='white'%20transform='translate(22.2383)%20rotate(20.2782)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",iie="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M34.4442%2033.6812C36.1741%2033.5051%2037.4864%2032.039%2037.4267%2030.2795C37.3672%2028.5202%2035.8758%2027.1127%2034.0863%2027.1127H33.967C32.1177%2027.1713%2030.6863%2028.6962%2030.7459%2030.5142C30.8056%2031.3938%2031.1634%2032.1562%2031.7003%2032.684C29.6722%2036.6134%2026.5703%2039.487%2021.9177%2041.8915C18.7561%2043.5335%2015.4755%2044.1201%2012.1948%2043.7096C9.51044%2043.3577%207.42267%2042.1849%206.11017%2040.2493C4.20147%2037.3757%204.02258%2034.2674%205.63317%2031.1593C6.76659%2028.9307%208.5559%2027.2885%209.68933%2026.4674C9.45075%2025.7051%209.09276%2024.4149%208.91387%2023.4767C0.264523%2029.6345%201.15936%2037.9623%203.784%2041.8915C5.75237%2044.8238%209.74901%2046.642%2014.1631%2046.642C15.3561%2046.642%2016.5491%2046.5245%2017.7422%2046.2315C25.3775%2044.7652%2031.1636%2040.3081%2034.4442%2033.6812ZM44.9428%2026.409C40.4094%2021.1895%2033.7284%2018.3159%2026.0931%2018.3159H25.1389C24.602%2017.2602%2023.4686%2016.5563%2022.2159%2016.5563H22.0966C20.2475%2016.6151%2018.8161%2018.1398%2018.8756%2019.9579C18.9353%2021.7173%2020.4264%2023.1248%2022.2159%2023.1248H22.3352C23.6475%2023.0662%2024.7809%2022.2451%2025.2581%2021.1307H26.3317C30.8653%2021.1307%2035.16%2022.4209%2039.0375%2024.9427C42.0198%2026.8781%2044.1673%2029.3999%2045.3603%2032.4495C46.3744%2034.9126%2046.3147%2037.3171%2045.2409%2039.3698C43.5708%2042.4779%2040.7673%2044.1787%2037.0689%2044.1787C34.6828%2044.1787%2032.4163%2043.4749%2031.2231%2042.9471C30.567%2043.5335%2029.3739%2044.4718%2028.5387%2045.0585C31.1039%2046.2313%2033.7284%2046.8765%2036.2337%2046.8765C41.9602%2046.8765%2046.1955%2043.7681%2047.8061%2040.6599C49.5358%2037.2584%2049.4164%2031.3938%2044.9428%2026.409ZM14.6403%2034.6779C14.7%2036.4373%2016.1912%2037.8446%2017.9808%2037.8446H18.1002C19.9492%2037.7862%2021.3808%2036.2613%2021.3211%2034.4434C21.2616%2032.6838%2019.7702%2031.2765%2017.9808%2031.2765H17.8616C17.7422%2031.2765%2017.5631%2031.2765%2017.4441%2031.3349C14.9983%2027.3471%2013.9842%2023.0074%2014.3422%2018.3157C14.5806%2014.7969%2015.7737%2011.7472%2017.8616%209.2254C19.5912%207.05548%2022.9317%205.99987%2025.1986%205.94137C31.5214%205.824%2034.2055%2013.5652%2034.3845%2016.6735C35.16%2016.8495%2036.4723%2017.2601%2037.3672%2017.5534C36.6512%208.05278%2030.6862%203.12646%2024.96%203.12646C19.5912%203.12646%2014.6403%206.93848%2012.6717%2012.5685C9.92792%2020.0751%2011.7174%2027.2885%2015.0578%2032.9773C14.7597%2033.3877%2014.5806%2034.0327%2014.6403%2034.6779Z'%20fill='%23764ABC'/%3e%3c/svg%3e",rie="/assets/restapi-CuoG2ikG.svg",sie="/assets/resume-DcL40lgp.svg",oie="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='100'%20height='100'%3e%3cpath%20d='M0%200%20C21.78%200%2043.56%200%2066%200%20C66%2028.38%2066%2056.76%2066%2086%20C44.22%2086%2022.44%2086%200%2086%20C0%2057.62%200%2029.24%200%200%20Z%20M18%209%20C17.01%209.66%2016.02%2010.32%2015%2011%20C14.58333333%2014%2014.58333333%2014%2015%2017%20C15.66%2017.66%2016.32%2018.32%2017%2019%20C19.60280568%2018.67958603%2019.60280568%2018.67958603%2022%2018%20C22.33%2015.69%2022.66%2013.38%2023%2011%20C20.67145537%209.80161791%2020.67145537%209.80161791%2018%209%20Z%20M35%2015%20C35%2016.32%2035%2017.64%2035%2019%20C42.59%2019%2050.18%2019%2058%2019%20C58%2017.68%2058%2016.36%2058%2015%20C50.41%2015%2042.82%2015%2035%2015%20Z%20M9%2025%20C9.26406316%2028.25677898%209.56746278%2029.61989153%2012.0625%2031.8125%20C15.78090613%2033.31568546%2019.07835413%2033.72623072%2023%2033%20C25.29949654%2031.87699006%2026.9825011%2030.61399912%2029%2029%20C28.96877057%2027.03243548%2028.96877057%2027.03243548%2028%2025%20C21.54285396%2021.92516855%2015.52695765%2022.45289458%209%2025%20Z%20M35%2026%20C35%2027.32%2035%2028.64%2035%2030%20C40.94%2030%2046.88%2030%2053%2030%20C53%2028.68%2053%2027.36%2053%2026%20C47.06%2026%2041.12%2026%2035%2026%20Z%20M7%2040%20C7%2052.54%207%2065.08%207%2078%20C24.16%2078%2041.32%2078%2059%2078%20C59%2065.46%2059%2052.92%2059%2040%20C41.84%2040%2024.68%2040%207%2040%20Z%20'%20fill='%23218BE5'%20transform='translate(17,7)'/%3e%3cpath%20d='M0%200%20C9.57%200%2019.14%200%2029%200%20C29%201.65%2029%203.3%2029%205%20C19.43%205%209.86%205%200%205%20C0%203.35%200%201.7%200%200%20Z%20'%20fill='%23228BE5'%20transform='translate(42,64)'/%3e%3cpath%20d='M0%200%20C9.57%200%2019.14%200%2029%200%20C29%201.65%2029%203.3%2029%205%20C19.43%205%209.86%205%200%205%20C0%203.35%200%201.7%200%200%20Z%20'%20fill='%23218AE5'%20transform='translate(42,53)'/%3e%3cpath%20d='M0%200%20C7.59%200%2015.18%200%2023%200%20C23%201.65%2023%203.3%2023%205%20C15.41%205%207.82%205%200%205%20C0%203.35%200%201.7%200%200%20Z%20'%20fill='%23218BE5'%20transform='translate(42,75)'/%3e%3cpath%20d='M0%200%20C2.97%200%205.94%200%209%200%20C9%201.65%209%203.3%209%205%20C6.03%205%203.06%205%200%205%20C0%203.35%200%201.7%200%200%20Z%20'%20fill='%23218BE5'%20transform='translate(29,75)'/%3e%3cpath%20d='M0%200%20C2.97%200%205.94%200%209%200%20C9%201.65%209%203.3%209%205%20C6.03%205%203.06%205%200%205%20C0%203.35%200%201.7%200%200%20Z%20'%20fill='%23228BE5'%20transform='translate(29,64)'/%3e%3cpath%20d='M0%200%20C2.97%200%205.94%200%209%200%20C9%201.65%209%203.3%209%205%20C6.03%205%203.06%205%200%205%20C0%203.35%200%201.7%200%200%20Z%20'%20fill='%23218AE5'%20transform='translate(29,53)'/%3e%3c/svg%3e",LG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAkCAYAAAD7PHgWAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADOSURBVHgB7ZjhDYIwEIXvmIARuoGO4ghdwQnQCcQNdBJHcARHcITzVUhsYvtHL/Yi9yUPQgjkS+HaS4mWioj0KWQRiB3kxUCWgNBG3rEjCZkoZWxIzv/e3brk2iU1cEktXFILl9TiryQ5fwCnX7dHK2Ss3Nsx854hFnBxQQLZY9vhEMmmXGJIgja73one+ic+PotklmxRJAGpTStnFEmkVqRBQW6VaeZELXE5l3M5l3M5l6sj5d2tj+U60qfUcLRd+HNk2t26ZiM3fvE6egDORCgyZ9M1/QAAAABJRU5ErkJggg==",aie="/assets/rings-h8edkeL-.svg",lie="/assets/router-pskvfLYY.svg",cie="/assets/rpi-CqCGmCut.svg",uie="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20viewBox='0%200%2016%2016'%20id='rss'%3e%3cg%20fill='%23FFA000'%3e%3ccircle%20cx='3'%20cy='13'%20r='2'%3e%3c/circle%3e%3cpath%20d='M1%205.667v2.667A6.674%206.674%200%200%201%207.667%2015h2.666c0-5.146-4.187-9.333-9.333-9.333z'%3e%3c/path%3e%3cpath%20d='M1%201v2.667C7.25%203.667%2012.334%208.75%2012.334%2015H15C15%207.28%208.72%201%201%201z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",hie="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1479_21452)'%3e%3cpath%20d='M42.5918%200H7.5918C3.44966%200%200.0917969%203.35786%200.0917969%207.5V42.5C0.0917969%2046.6421%203.44966%2050%207.5918%2050H42.5918C46.7339%2050%2050.0918%2046.6421%2050.0918%2042.5V7.5C50.0918%203.35786%2046.7339%200%2042.5918%200Z'%20fill='%23CC6699'/%3e%3cpath%20d='M25.2871%208.59369C15.9121%2011.8163%209.85742%2018.3593%2010.4434%2022.2656C11.0293%2026.1718%2016.8887%2029.2968%2019.5254%2031.3476C16.1074%2033.1054%2011.8105%2035.7421%2011.9082%2039.1601C12.1035%2043.8476%2017.1816%2042.3827%2019.3301%2041.0156C21.4785%2039.6484%2023.627%2035.8398%2022.2598%2031.8359C25.2871%2031.0546%2027.9238%2032.0312%2028.7051%2032.6171C31.7324%2034.7656%2030.1699%2037.207%2029.0957%2037.5976C28.0215%2037.9882%2028.7051%2038.1835%2029.3887%2037.9882C30.0723%2037.7929%2031.5371%2036.8163%2031.5371%2035.1562C31.5371%2030.957%2027.0449%2029.0038%2021.4785%2030.4687C18.2559%2027.0507%2013.8613%2025.4882%2014.0566%2021.7773C14.1543%2020.4101%2014.6426%2016.8945%2023.334%2012.4999C32.0254%208.1054%2038.1777%209.86322%2037.3965%2013.8671C36.2246%2019.9218%2025.6777%2024.0234%2021.9668%2020.5077C21.7715%2020.1171%2021.0879%2019.8242%2021.4785%2020.8984C23.4316%2025.7812%2039.252%2023.5351%2039.9355%2013.1835C40.1309%207.71478%2032.2207%206.24994%2025.2871%208.59369ZM16.8887%2039.8437C14.4473%2040.6249%2014.5449%2039.0624%2014.6426%2038.4765C14.9355%2036.8163%2016.3027%2034.7656%2020.4043%2032.7148C21.5762%2036.4257%2018.9395%2039.2577%2016.8887%2039.8437Z'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1479_21452'%3e%3crect%20width='50'%20height='50'%20fill='white'%20transform='translate(0.0917969)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",DG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAMKElEQVR4nN1bCZBUxRluTomAyCWVqEUQhASMhiqOgNFNAsixO92zCwMCSoBVomUFkESRKiucgchRyKUsSSSyUCave5YrLBiERVPEhKSMBqQghiOgAoZ1QUANyHbq6/e6X8/Mm2VmdmYX01WvGHb6dff/939+/z+E1NcYUn4DKYzeQkKbO5BJJU3I/+XIq2hMKO9JmCgmlK8iTPyZMH6aMPEZYULGPvwTQvlxQkUFoWIRYWIUCTldyJduzJzZkISd7xImlhEmTiUSmvbzb7UW1ryuR8RpQ6iYQyg/YxPQsLBMti/eI785fb/sM++4HLDsrAytuSQLX/qvHFlarR58xt/wHeZgLt7BuzHMoPwgYc4j15fKhMvaEip+rkTYO2iTEZtlpyl/lXlLTssRL38hR62XGT14N2/xabUW1rQYcYyExSQScZrWL/GUTyRUnNMHu+nhV2XvucdqRXRNzOg996hs+dCrNiMOk5C4t+4Jz3duJVSU64M0H7Nd9v/F+3Lk+urAww978RPZa84R2XnaW7LDo6/LFmO3y6aRLbJhuEw9+Iy/4bsu095Sc4etvhC4Fvbov+CkbD6m3GOC+IJQvpjkrW1WN8QzMYxQXqX1+64ZBwNvfPDKc7LbU+/IGx/clrEBvHH0NrUG1gqSiB4z3vXtBOxDzr0GdSYQKi67t14uBy6rjD1YqZT3LTol202siHdxcH2vECqmECYGk3BZV5K/obXSYbhKfC4Sd5Awf4BQPplQ/ltC+Yf2Gu2KK+T9i06pPew9H1hRJVs+tENLQ2WOVEI2IIzP1Ye5/Yk35fDfXIk7yMeyzYTdln6KSsL4ChJ2+mS8Z9jpp1ygJ3F42k7crYi298ZZbnviTb3vp4RGaXbpZz7xd/7k7zG6DlHs+tO3ZYNwVN/2B4TyJ8mgdc3N+/hMxfcJFc8Sxn9PmHiHUH7SPaz44zX3jzgtXOlRkqT2wp6Rl6/G2AaczbcL2WIC5Y9q4ns8824M5/NXX5Ctx7+mN71MGF/oEy4bECruJ5SvU4Qm03Uq3kj9LJtaEsYXEMav4F3snb/6YsyZcEZfEnjf2hEf5kP1ZrDO9kYDl52VTUds0bf+TxXy6gE9p3y/ReRVQsVfCOVLCY2OICF+t/IkEecrGZ2rINqbMHEIa8ODDFwea4sgHUYNqdOtFq6OV2mdt8UeAU7j4Zv0LW4iQ0pvchlW1plQvs3y0ycI47NIkehIsj2wp+eKGw/fWJ235EyMOvg2gR/MzEVSd/EWY3fIorWXY26+UVFZtcfhX5KI00jNZyJkjBUVFxThyPhyOQqjX9URKJhgSwIMY8uxxjssSm9hJoq1n7ctLnTeiD2Ih567HmI+YVwz5Xcqzc31wB5GzVwm3DByq8wvuRjjmVScABVk/L50YvtzWBBBjm3tjcGD2Jub5wuN5WV8usuUOiQe/0ISPIltM35XjHfoPuOAHzanlDtQJDaIwspjIjxjWGDwtM4j+3P/9jkJRYeQuhiJxN/i2wR+GH9H9GhfnAmbkUleM6Vl4jwmI7a3RUn5ebg6be2ZGG7F4pF6JV4PuD3Gr+Csg1f6qttvwQktuUdrTqWZG/Ag4zJWv1RaER5f6M7beDth4mPvII/lmm5SsKEdYeJpDxwJJl4Pyp/TobPtFfxwmU8M3iTiNNJgBlJa/TJiexPh6SCH8d3GFuRyMN6fUFGqVMwOnmoysq4qKDqAJWg6es05qhmwP9lmAxSYMXxzjO6bxAbhrZonhnn/P0MiTvusE42wlzk/IpS/nTR6vNZg0amYB1TJtgV+7OJ8K/ElykvwZaepf/NT2lXn/IhK3z4iOrVIdGpWCQ/xHoSJldoGKTcc9iGxVg//IXUGIGT2YpIhL5w39Hx98j4tzfMC0FvxkRKbJb7YwJp6L6ywpUSBnZmGsfaAW6LOg4Tx1+0bbv/IHtlz5nsmkAHx7Nefp84AxQS+HHO/8fQ/DD1Ip7013ouf3FMHPrb4GzADsbfLgP6Ks8AFajMQGrs4osrulOqN2KzyDdwYiNU3ronHedJiAHAB4Bajy2PUwAAowB/MgH/0OG/DWAbMyEZwo+ByPpRQvsUNmlxibv7hTtlr9hGDLyQjPm0GYD+PwYhgA2ya5brdooWCo43VnH1Eb/hKRgRTsTeZEcMtdJy8Tw54/mxMFlcT8WkzAINxjvnwAHoNqITHgOesiajYCNl33nEzEeLoGcApGTEgCfF3P3tIhuMIS4X4jBgAz+WBOHqNPnOPabpesycqv4lMT08EQqsmphPiBt16HEOCkN5UiM+IAQrPELLDpDfMGj94/j9aAo74E71aXWjNp2aiiZ+R46c6avLZSRiQKvGZMaCsK+a3GLPdrFFQckkzoMqdBLDAW9jO+4G0qL8jP0iTAYGHDWAAVKHVuJ2mqMJ+9VlS4jNkQFudJus1UIbzjHu1cv+qPO0tHCn100jjLtIpP6XBgHSJz4gBOLtndPUakXVX/XUKNrRzM6yaGJBOITJFBmRCfEYMACJVEwPCZW2JItBDcwJVgG28OZsMyJT4jBjgZpFJVMC+XOZCSrFGcHtOjGCqBi8rDMgXdyojODbACDJx0Z+IzgwmVH0+wQ2iXJXqQJHjGgzQxAfFAllngJe5xrjBpcYNnrQPXpE8EOKTU94whUCoUdFGOdTK0HLKgJoDob02AxYlhMJzvFAYhcpMRpA0xIfClsTlSAIczO8dFArrDFcNlZLGJUOrL+iJH2ScDMVjeMARqdjqwtReMjRup2J2fLG19gxQpbmP4pOhtiYZsjPacFnnwHR4tJcOo0pbW+JtGAvpsFtLiEmHIapDVp3PDgPcynLydLgwek8ct/iReBzNB0TEsqwRHx+ohPloVSC1VASS2G/+CeWzM2YAEy/GAyIG34RkqCjQHupGhGpI0i+gM8MjokphddkkPvG9u7y03EBizUZtld2nH5AFay6lxwBVRXZRaxsSg93xzvVC0AHuCQRFiytST4szJT6hF4A/pnoIPIKB83/t8b2pM8CF0JODouhVCBwUfXiAxY8G4Gj8tOJsLokPhrXWJ8DiNQ3A4p5tsfFNy6t9aMp6yZoh4gsjaEvxmLCgzoi3B+B31B1VH4LYU+Nc9CCowoh/+2jGtPqIfpb85UklTVQTIkpjC06aBVAhdltg+BUDkNYV8Wk3TnilsVV+Z9l35nulMVX0vVZuExaTdHHU9s1+cVQcMsXR64l4EOZ5Mtvyq+LoaF0c5bNTxOq5qrKiD08vhJJz6/G7NCfL3ZL0dUI8XJrbfCXbTNgV4z67P+OVx+EVUgZ3wk4/QNeozNhdF2hI8tNkrze4volXDRriJZX2RrbKAqtBYpBukHAjv3HprUvd/ACpZEyLzPJK1Y5imABJqNebd4lvXLSxelDyFpmtGSy+tpl2i7clNEmdsX1qubEJdTkiTist9iD+e3aTVGm1vPXxP+nzVWZ+SUXiDg2Zd34yrk1ueaVCWjw1OFz7nrw0rb1n8CD29s3jsRom0dY7uHabUd5XNzomNEqWXFQ9OZ46XFHVllxKg1v7X6p7F2HwbJ2PaZRMyPhqM2iU6npefKssvAOSJtMqqyQmOrXGqDHd4bbKPqWlEXvB1dnWHmJvQBz3QmaRrA4apYTxS9om2IbRTZyq/LxBBx0oUSOcRaEy02ZpJC66HceL8OwgBw/OYnTe+PtcdKuFnT4aZEBwYZfSjIFcfFolIbEoEGJzzhVEpSrETjfVIo/IU6XEaM1zurnfiWkKyfH2MSly8Z6Y2N52dWjmNGqI7pKcjpDTRXsH+Fj04QX9YAJpKMTUj8LSf/Au1rBTWtvNIcjx/byoTAvArdXIUy5ysbYLCJvRipbsJzOApIDLQUeB0OLG1E9mCsvUg89IVvAd5iAbtWEs+4GuI7Y3aJVrd7bUTzwSEvfqsNkNmnaoWnyufjSFlNYXdy+8TTvCy/aIqNwBafRRfTAESWhIApZQ25/NAcbq+ON9dne6l9Xx2WkVbnM+JqlUeiJh4oCtxxBxeAfoMjB5FCbgu1GiQi0SrgyfEVPgO/QoYi5aWewuMQNmIJ9Pp1xXLyOEljc+S/+ooVaP+tEDX6fa8ROAzC/DCDmdVEMSokS0pVD+L/tHUNZzkTDxvttlwle40uR8+8tJNElhAJcD1IUKbj0S+T87rlVSz01HwwAAAABJRU5ErkJggg==",BG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAALRElEQVR4nOVbC3BVxRn+QUDKw1ZAmSqOIqittLW0PIRWUwsIJcnuDXBBwHYEJK3jVISKyoxTyqNiBeSNBK0I0bGe3ZtAKAGn8tKhtrS1tSijRR5tLI/WAGqwFoTtfHvOnrPn3ptwn0ks/8wZLje7/+7+Z//H9///JWoqGlZ9MZXELqfiDV2ptKw1/V9SwfZWxERv4nISMbGCuPwdcXGUuPwPcanCj/iQmDhETG4nJucTl2Oo2OlJnzmaObMlRZxvE5dLiMsjiQdN+/m75gWezZqiTidicjYxccw+QMuSCnXZpB3qyw/tUf3mHlKDlryvilefUiXP/FeNLj+nH3zGd/gbxmAs5mBuSBhM7CXu3N28VCZS0ZmY/Lm+wt5GW4/aoLpP+YMqWHhUjVr7qRrznMrowdyCBUc1L/C0BHGQIrKUok6bpj08ExOJyZNmY5d8/yXVd87BrA7dkDD6zjmgOt75ki2Id6hYfqvxD17oXElMVpuNtB+3WQ187D01+rlzSTc//MkPVZ/Z+1WPaa+rrpN3qg7jN6s20SrVMlKhH3zGd/hbz2mv67HDV32UlBfWGDivRrUfV+0JQX5KTCyggjVtG+fwXA4nJk4Y/f7KjL1J3/jQ5SfVDdPfUO3u2JSxAWw3dpPmAV7JbkSvGW8FdgL2Ie9egzkTiMnT7luvVoOX1IY3Vq7ULfOPqC4Tt8e7OLi+F4jJKcTlUIpUXE+Fz1+qdRgPPuM7/I3H7icmfuXN8Xl0mbRd3Tr/iF7DXvP2ZSdUxzu3mNtQmyeVUC2IizlmM1fd+5oa+eyZuI0cV50mbLP0U9YSF8so4vTLeE0m+hOXy11eLt/OE7fpQ9trYy/d7n3NrPsxsRjL7fl5cPjrfvLnkK7jKl7/wF9Ui0jMvO1/EhNTaci69v58fGbyNmLyEeLi18TlG8REjbtZ+ep513fnTyMmDmMNrIU1o2vPhmwD9hbYhVwJgYnJ5vC9Hn4rJPnCVR+pS+962Sx6mrh4PDg43qC8lZhYpw9an64z+UrKe4k6HXSU6Kkh1i5cVRfaE/YY3ATRP7vDR8T3iIszYAjrbC80eMn7qs2oKvPW/6ZDXkPQZSb2WIc8S1zsJi4WU0SMppLYTVQS60ZR53MZ7aso9g3ich94w4MMXhq2Rbgdvhoy54YsXJ04YXTevvYIcFqNXG/e4noaVn6JK7CKHsTEJstP1xAXs4hXXkO5JqzJRBXWaTWy8lzBwmMhdQhsgtibmYtkrp/vMH6LGrHmtM98yNJavaB3yGc14AFxWWwE5v4rHtKIL58UdS4iJsqw5kUjKnUobRvGjuN97zA/PcZcTjJ+3ra40Hn/2jP5lNZz10M8Sly4QmHyRSp6vgs1Gmlv8TTWvnj0RlVYVhfyTDpOcFXwlnRi+5NgiCDHtva+wcO1h/RBMHyuHTij33rTwW6tDp3u2hryDjfOeDMIm1PCDgzABlFYdSjC8w0LDJ7ReaA/97tPKCJup6akqPN5YuJd7AfRo/3i/LAZSPI8TDoRlx9gMGJ7+yppPw/3Y6w9lyOtWDxKzYEizjdxE7HXocsD1R0w7x/m5h5oGEpzN+AB4vKtfrmyIjzxuDuu8iri8rgn1R/m/WBR5zKtXtr1iZ0NjuXyCRM6214hCJfFxIYs6jEMAqQ1kxHb+xGeCXK42OYxq6R8v1FY+fhAqiFi6zuaTBRyCeYcfWYfMALYk3wiF4N0MmPkhpDu+8AG4a0eJ4d7/z+WF2uvoz3xIx0uewfGlb7inl2pCQDE5HSMQ1bJtgVB7OJ8Nckkof1p9/v/GEDaFSeDiMq8fSZ/HxJIrggRG5OPBaolVdsxG3V6rKjslN5PygKAED0+w1Z+4J/nmvt2m9s8N4kbkf/S12ZhcG1gTb0Jy+xboq9YUVW7rA8NtwQDysVv/DhCx/hb9ZWNzzOkLAAQEysx9ksP/tWfDzjt8dgXP7i3CXzsRf1kRlGsryeAgTrKQ14gG2Lrr9BGTYfK7qFwPXtM/VPS5EdGAiiO3azzFmOrQ2rgJ1BGyGuDwfCP0Jm7d4TSWL6u64gvB+lyJgcTl44BWCaP2HvmvoT8QtYCcCNUnVRBBJvEplmu2y1aaH3zreas/WbBFzI6MJO76oPAeAtX37dbDVocxO6pPOkJQO/hRYyHOhkeUAlPAL8IBuqKjVT95x7yBwL+egZwSkYCqOfwX3vkbRX55SdpHTxzAYipJoljePSbc9Cc62V7oPb/wPhm4OWTd5oFh2b11uMEksnBMxaA57K7lr7i8/ju4n+bG7DfHqhrdcWrP/YH+vEzMH42b70pBVAor9OQftxmnwdcqg/ZNSFZ4DG2cT8yLfp74INUyTpksxAAAjUPJhseKMN5rv2cm8tAedpjHC0PYKTvLtIpPzU3ASAh4xldwyO67mzApwiRLGr0F6oAIhWdScNDLwq7sFRAqgAae5XdsBHc7A5Kp9zUXI3g+CRGkMu6YCA6M7gMJRUzdIOvNns3uMh3gzX2xrdfgIHQLlsA8xNC4dleKIxCZSaU7DY0diiscYdUfZOFwgbhamLOHU0JhnArbAOcGwHo0pyG+Hb5rLMPhmxEG6nokRQOj/XgcNY1tjTg8IocweGIM6BBOIzyXFxxYX98Hi0hIZJrymdChMsn49Xaz2/iZpiKlk+6uiN1Q5KZgOREQkosX5QsJTbapMTq0hOAmxhNSInB7ng3emXipJLYTUmTopOMzshp1BiUi6Qolw82mBRFr0JSYujDQ1r8QGIeDc0J2FxjUiZpcVStvEyQnd+0vNphv6xXXzNEfGEEbSmZVVlzXRhBH4Lc0eBYJhZhr12st49mTKuP6Kf1Ty4ta62bEFEam1fjM0CF2C+NoTmhuRKSt6Y0ZnmTmx/1SmO66Fv5hYaZRGSpKY7aicqgOCr3+cXR5kQ4mOfJ7FS4Lo6ONcVRMStV1/QOJqAPzzBCyRnuydOjqkQ30oSEvbjNV6rThK0a8pp93/iwVx6HV0gZ2UacAaj6oovT7r9BROXDZDQl5CJCzJqQ/pbPaNgb3ei7TDxDTIOEG/n9ID2+zMUHgJLhFpnjqtUIv0VmbZPeBFhzLlebFpnB9bfIbEyfecGatsYtdktokjpm+VRRpZsTGpuwpnft8UK+YzdJlZ9TV97z2yCIK4l9MbNFRshrTcq8x9S4NrmltTrT4gnhXWKiDzWmtfcMHq49GrfsvVkNk6fTymckJQAhLxBJaJQsq9M9OZ6FBcJ7Qoeh+SK3NW6RQZMweLbOhxolExBfNsRiTLfCJGmVhXcAaLJaZY8SFw/kNGp0O0Snm9uIteDqbGuPa+8ncdx9/IxySizGiItTxibE43f05Pi4wbgd1BxRpc3IW6gWrjfSZW4fICHCi4fM2Iuv876/z4eHijj9TJIBwYVtdX0DueCoBiGh2B1zUKhEigrtt0B+SEmbdnndmofv8Dc5TSdNvHXMA552bG+7OjRzBmqY756lYqen8Q7wsejDS/aDCcBQXNMgCkv/wVzwsCGt7eYQ5AR+XtY2XqtegXaRC4xdQNiMVrT6fjKD+jzyctBRZGjxxvRPZkoq9IPPACv4G8YAjdo1ffuBriO297NVxhVn7OqyIfw6wwub3aBpS9JMTi4e8ASkDa67sTPpRni5pqjGDoDRB+z8HhqSkEvI9mdzSGNd/ePddne6h+rErLSqVnmnUg2lJxKXb9p6jCsO7wBdRk4ehQn4bpSoUIuEK8NnxBT4G3oUMRatLMAiYWMqDms8f15I29RULHppP8zl25kaQOtt1+pfnaAdvzkh0JSp2OmuM7/oyUFbihs2u78rCD91xOV7bpeJWObeJufrn81DUwoEJIdUFyq4TXjI/wHMUwxFZPN/hwAAAABJRU5ErkJggg==",die="data:image/svg+xml,%3csvg%20width='49'%20height='30'%20viewBox='0%200%2049%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.25%2010C13.8833%203.33333%2017.9667%200%2024.5%200C34.3%200%2035.525%207.5%2040.425%208.75C43.6917%209.58333%2046.55%208.33333%2049%205C47.3667%2011.6667%2043.2833%2015%2036.75%2015C26.95%2015%2025.725%207.5%2020.825%206.25C17.5583%205.41667%2014.7%206.66667%2012.25%2010ZM0%2025C1.63333%2018.3333%205.71667%2015%2012.25%2015C22.05%2015%2023.275%2022.5%2028.175%2023.75C31.4417%2024.5833%2034.3%2023.3333%2036.75%2020C35.1167%2026.6667%2031.0333%2030%2024.5%2030C14.7%2030%2013.475%2022.5%208.575%2021.25C5.30833%2020.4167%202.45%2021.6667%200%2025Z'%20fill='%2344A8B3'/%3e%3c/svg%3e",fie="/assets/tank-B0Tu2rV5.svg",pie="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='64'%20height='64'%3e%3cpath%20d='M0%200%20C1.03777588%20-0.00315216%202.07555176%20-0.00630432%203.14477539%20-0.009552%20C4.83848267%20-0.00651566%204.83848267%20-0.00651566%206.56640625%20-0.00341797%20C7.71681396%20-0.00437469%208.86722168%20-0.00533142%2010.05249023%20-0.00631714%20C12.49039769%20-0.00699916%2014.92830695%20-0.00514337%2017.36621094%20-0.00097656%20C21.11267143%200.00437136%2024.85901202%20-0.00092086%2028.60546875%20-0.00732422%20C30.96744818%20-0.00666344%2033.32942754%20-0.00538229%2035.69140625%20-0.00341797%20C36.82054443%20-0.0054422%2037.94968262%20-0.00746643%2039.11303711%20-0.009552%20C40.15081299%20-0.00639984%2041.18858887%20-0.00324768%2042.2578125%200%20C43.1763501%200.00079559%2044.0948877%200.00159119%2045.04125977%200.00241089%20C47.12890625%200.12939453%2047.12890625%200.12939453%2048.12890625%201.12939453%20C48.21761266%204.15895696%2048.24417207%207.16626163%2048.2265625%2010.19580078%20C48.22555542%2011.00078003%2048.22454834%2011.80575928%2048.22351074%2012.63513184%20C48.21826239%2015.65406714%2048.20430125%2018.67298221%2048.19140625%2021.69189453%20C48.17078125%2028.43626953%2048.15015625%2035.18064453%2048.12890625%2042.12939453%20C30.30890625%2042.12939453%2012.48890625%2042.12939453%20-5.87109375%2042.12939453%20C-5.89171875%2035.38501953%20-5.91234375%2028.64064453%20-5.93359375%2021.69189453%20C-5.94269775%2019.56051025%20-5.95180176%2017.42912598%20-5.96118164%2015.2331543%20C-5.96410075%2013.5540371%20-5.96664932%2011.8749192%20-5.96875%2010.19580078%20C-5.97386597%209.31565308%20-5.97898193%208.43550537%20-5.98425293%207.52868652%20C-5.98456271%205.39525574%20-5.93353442%203.26191139%20-5.87109375%201.12939453%20C-4.21700919%20-0.52469003%20-2.27555483%200.00197098%200%200%20Z%20M-1.87109375%2010.12939453%20C-1.87109375%2019.36939453%20-1.87109375%2028.60939453%20-1.87109375%2038.12939453%20C13.30890625%2038.12939453%2028.48890625%2038.12939453%2044.12890625%2038.12939453%20C44.12890625%2028.88939453%2044.12890625%2019.64939453%2044.12890625%2010.12939453%20C28.94890625%2010.12939453%2013.76890625%2010.12939453%20-1.87109375%2010.12939453%20Z%20'%20fill='%23FFFFFF'%20transform='translate(10.87109375,10.87060546875)'/%3e%3cpath%20d='M0%200%20C3.83690637%201.56318408%206.39154889%203.7953315%209%207%20C9.23047779%209.99621122%208.53400702%2011.34869664%206.6484375%2013.6484375%20C5.15592961%2015.21446795%203.71303359%2016.677738%202%2018%20C1.34%2018%200.68%2018%200%2018%20C-0.17942163%2014.05272412%20-0.09350689%2011.4019487%202%208%20C1.34%207.34%200.68%206.68%200%206%20C-0.125%202.875%20-0.125%202.875%200%200%20Z%20'%20fill='%23FFFFFF'%20transform='translate(18,26)'/%3e%3cpath%20d='M0%200%20C4.95%200%209.9%200%2015%200%20C15%201.32%2015%202.64%2015%204%20C10.05%204%205.1%204%200%204%20C0%202.68%200%201.36%200%200%20Z%20'%20fill='%23FFFFFF'%20transform='translate(31,40)'/%3e%3c/svg%3e",mie="/assets/threejs-GJzGK2v5.svg",gie="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='240px'%20height='240px'%3e%3cpath%20fill='%2303A9F4'%20d='M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429'/%3e%3c/svg%3e",vie="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1479_21433)'%3e%3cpath%20d='M43.3789%200H8.37891C4.23677%200%200.878906%203.35786%200.878906%207.5V42.5C0.878906%2046.6421%204.23677%2050%208.37891%2050H43.3789C47.521%2050%2050.8789%2046.6421%2050.8789%2042.5V7.5C50.8789%203.35786%2047.521%200%2043.3789%200Z'%20fill='%233178C6'/%3e%3cpath%20d='M23.6328%2027.7344H29.8828V23.7305H12.4023V27.7344H18.6523V45.6055H23.6328V27.7344ZM31.8359%2044.6289C32.627%2045.0391%2033.5938%2045.3418%2034.668%2045.5469C35.7422%2045.752%2036.9141%2045.8496%2038.0859%2045.8496C39.2578%2045.8496%2040.332%2045.7422%2041.4062%2045.5176C42.4805%2045.293%2043.3594%2044.9219%2044.1406%2044.4434C44.9316%2043.9258%2045.6055%2043.2715%2045.9961%2042.3926C46.3867%2041.5137%2046.6895%2040.5371%2046.6895%2039.2676C46.6895%2038.3789%2046.5527%2037.6074%2046.2891%2036.9238C46.0254%2036.2402%2045.6445%2035.6543%2045.1172%2035.166C44.6191%2034.6484%2044.043%2034.1895%2043.3594%2033.7988C42.6758%2033.4082%2041.8945%2032.998%2041.0156%2032.627C40.3711%2032.3633%2039.8438%2032.1094%2039.2578%2031.8555C38.75%2031.6016%2038.3105%2031.3477%2037.9883%2031.0937C37.627%2030.8301%2037.3535%2030.5566%2037.1582%2030.2734C36.9629%2029.9805%2036.8652%2029.6582%2036.8652%2029.2969C36.8652%2028.9648%2036.9522%2028.6621%2037.1289%2028.3887C37.3057%2028.1152%2037.5488%2027.8906%2037.8613%2027.6953C38.1738%2027.5%2038.5645%2027.3535%2039.0332%2027.2461C39.4922%2027.1387%2040%2027.0898%2040.5957%2027.0898C41.0059%2027.0898%2041.4355%2027.1201%2041.8652%2027.1816C42.3145%2027.2432%2042.7734%2027.3379%2043.2324%2027.4648C43.6914%2027.5918%2044.1406%2027.748%2044.5996%2027.9434C45.0293%2028.1387%2045.4297%2028.3633%2045.7715%2028.6172V24.0273C45.0293%2023.7441%2044.209%2023.5293%2043.3301%2023.3926C42.4512%2023.2559%2041.4746%2023.1875%2040.3027%2023.1875C39.1309%2023.1875%2038.0566%2023.3145%2036.9824%2023.5586C35.9082%2023.8027%2035.0293%2024.1934%2034.248%2024.7305C33.457%2025.2578%2032.8809%2025.9023%2032.3926%2026.7812C31.9336%2027.6016%2031.709%2028.5391%2031.709%2029.7109C31.709%2031.1758%2032.1289%2032.4453%2032.9785%2033.4219C33.8184%2034.4961%2035.127%2035.2773%2036.7871%2036.0586C37.4609%2036.332%2038.0566%2036.6055%2038.6426%2036.8691C39.2285%2037.1328%2039.7168%2037.4062%2040.1074%2037.6895C40.5273%2037.9727%2040.8594%2038.2852%2041.084%2038.6172C41.3281%2038.9492%2041.4551%2039.3398%2041.4551%2039.7891C41.4551%2040.1016%2041.3789%2040.3945%2041.2305%2040.668C41.082%2040.9414%2040.8496%2041.1758%2040.5371%2041.3711C40.2246%2041.5664%2039.8438%2041.7227%2039.3652%2041.8398C38.9062%2041.9473%2038.3887%2042.0059%2037.7051%2042.0059C36.6309%2042.0059%2035.5566%2041.8203%2034.5801%2041.4492C33.5059%2041.0781%2032.5293%2040.5215%2031.8359%2039.9414V44.6289Z'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1479_21433'%3e%3crect%20width='50'%20height='50'%20fill='white'%20transform='translate(0.878906)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",yie="/assets/vim-DwWraqhY.svg",_ie="/assets/vimwhite-Bv5QDMDg.svg",xie="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2025.2.3,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20baseProfile='basic'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%20id='Layer_10'%3e%3c/g%3e%3cg%20id='win10'%3e%3c/g%3e%3cg%20id='ssm'%3e%3c/g%3e%3cg%20id='mat_2'%3e%3c/g%3e%3cg%20id='ios'%3e%3c/g%3e%3cg%20id='fluent'%3e%3clinearGradient%20id='SVGID_1_'%20gradientUnits='userSpaceOnUse'%20x1='13.3154'%20y1='514.9062'%20x2='38.0045'%20y2='481.3765'%20gradientTransform='matrix(1%200%200%20-1%200%20514)'%3e%3cstop%20offset='0'%20style='stop-color:%2341D1FF'/%3e%3cstop%20offset='1'%20style='stop-color:%239231BE'/%3e%3c/linearGradient%3e%3cpath%20style='fill:url(%23SVGID_1_);'%20d='M44.86,9.976L25.023,45.448c-0.41,0.732-1.462,0.737-1.878,0.008L2.915,9.979%20C2.462,9.185,3.141,8.223,4.041,8.384l19.859,3.55c0.127,0.023,0.256,0.022,0.383-0.001l19.443-3.544%20C44.623,8.225,45.305,9.18,44.86,9.976z'/%3e%3clinearGradient%20id='SVGID_2_'%20gradientUnits='userSpaceOnUse'%20x1='25.5021'%20y1='508.7635'%20x2='37.1311'%20y2='428.99'%20gradientTransform='matrix(1%200%200%20-1%200%20514)'%3e%3cstop%20offset='0'%20style='stop-color:%23FED100'/%3e%3cstop%20offset='1'%20style='stop-color:%23E36001'/%3e%3c/linearGradient%3e%3cpath%20style='fill:url(%23SVGID_2_);'%20d='M33.574,3.01L19.019,5.862c-0.239,0.047-0.416,0.25-0.431,0.493l-0.895,15.121%20c-0.021,0.356,0.306,0.633,0.654,0.552l4.052-0.935c0.379-0.087,0.722,0.246,0.644,0.628l-1.204,5.895%20c-0.081,0.397,0.291,0.736,0.679,0.618l2.503-0.76c0.388-0.118,0.761,0.222,0.679,0.62l-1.913,9.26%20c-0.12,0.579,0.651,0.895,0.972,0.398l0.215-0.332l11.86-23.669c0.199-0.396-0.144-0.848-0.579-0.764l-4.171,0.805%20c-0.392,0.076-0.725-0.289-0.615-0.673l2.722-9.438C34.301,3.299,33.967,2.933,33.574,3.01z'/%3e%3c/g%3e%3c/svg%3e",Aie="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='64'%20height='64'%3e%3cpath%20d='M0%200%20C6.11475758%201.90525073%2012.05906059%206.05053417%2016.39453125%2010.74609375%20C16.06453125%2011.73609375%2015.73453125%2012.72609375%2015.39453125%2013.74609375%20C7.47453125%2014.24109375%207.47453125%2014.24109375%20-0.60546875%2014.74609375%20C-0.60546875%2015.40609375%20-0.60546875%2016.06609375%20-0.60546875%2016.74609375%20C1.04453125%2016.74609375%202.69453125%2016.74609375%204.39453125%2016.74609375%20C5.71453125%2024.33609375%207.03453125%2031.92609375%208.39453125%2039.74609375%20C-4.14546875%2039.74609375%20-16.68546875%2039.74609375%20-29.60546875%2039.74609375%20C-28.60546875%2033.74609375%20-28.60546875%2033.74609375%20-27.60546875%2030.74609375%20C-22.73046875%2031.62109375%20-22.73046875%2031.62109375%20-21.60546875%2032.74609375%20C-21.27546875%2031.75609375%20-20.94546875%2030.76609375%20-20.60546875%2029.74609375%20C-19.94546875%2029.41609375%20-19.28546875%2029.08609375%20-18.60546875%2028.74609375%20C-19.26546875%2028.41609375%20-19.92546875%2028.08609375%20-20.60546875%2027.74609375%20C-20.60546875%2026.42609375%20-20.60546875%2025.10609375%20-20.60546875%2023.74609375%20C-22.58546875%2024.73609375%20-22.58546875%2024.73609375%20-24.60546875%2025.74609375%20C-23.8255747%2019.70191486%20-21.35958715%2013.86135418%20-17.48046875%209.18359375%20C-15.60546875%207.74609375%20-15.60546875%207.74609375%20-13.60546875%207.74609375%20C-13.60546875%209.06609375%20-13.60546875%2010.38609375%20-13.60546875%2011.74609375%20C-9.51500548%2010.82244075%20-9.02164213%2010.37035382%20-6.60546875%206.74609375%20C-7.59546875%206.41609375%20-8.58546875%206.08609375%20-9.60546875%205.74609375%20C-9.29296875%203.87109375%20-9.29296875%203.87109375%20-8.60546875%201.74609375%20C-5.32750104%20-0.43921806%20-3.82916143%20-0.57543984%200%200%20Z%20M-8.60546875%2021.74609375%20C-9.93734668%2022.85776239%20-9.93734668%2022.85776239%20-9.79296875%2025.68359375%20C-9.93825608%2028.85502234%20-9.93825608%2028.85502234%20-7.60546875%2030.74609375%20C-4.52199049%2030.91290484%20-4.52199049%2030.91290484%20-1.60546875%2030.74609375%20C-1.27546875%2030.08609375%20-0.94546875%2029.42609375%20-0.60546875%2028.74609375%20C-2.58546875%2028.08609375%20-4.56546875%2027.42609375%20-6.60546875%2026.74609375%20C-6.93546875%2025.09609375%20-7.26546875%2023.44609375%20-7.60546875%2021.74609375%20C-7.93546875%2021.74609375%20-8.26546875%2021.74609375%20-8.60546875%2021.74609375%20Z%20'%20fill='%23FFFFFF'%20transform='translate(41.60546875,4.25390625)'/%3e%3cpath%20d='M0%200%20C1.99882106%20-0.00217237%203.99760277%20-0.02064523%205.99633789%20-0.03930664%20C13.67104861%20-0.05080146%2020.84800143%200.458314%2028.33422852%202.18530273%20C28.52954102%209.02124023%2028.52954102%209.02124023%2028.33422852%2011.18530273%20C25.92818532%2013.59134593%2025.30213089%2013.45834722%2022.00805664%2013.55175781%20C21.11372925%2013.58131058%2020.21940186%2013.61086334%2019.29797363%2013.64131165%20C17.84638855%2013.6727552%2017.84638855%2013.6727552%2016.36547852%2013.70483398%20C14.87860535%2013.74455574%2014.87860535%2013.74455574%2013.36169434%2013.78507996%20C11.26362923%2013.83781233%209.1654291%2013.88538403%207.06713867%2013.92822266%20C3.8468202%2013.99753173%200.62801311%2014.09342793%20-2.59155273%2014.19116211%20C-4.62667149%2014.2390085%20-6.66182787%2014.28528543%20-8.69702148%2014.32983398%20C-10.14860657%2014.37645927%20-10.14860657%2014.37645927%20-11.6295166%2014.42402649%20C-12.97100769%2014.44471443%20-12.97100769%2014.44471443%20-14.33959961%2014.46582031%20C-15.12854614%2014.48421463%20-15.91749268%2014.50260895%20-16.73034668%2014.52156067%20C-17.36903687%2014.41059555%20-18.00772705%2014.29963043%20-18.66577148%2014.18530273%20C-21.12388774%2010.49812836%20-20.97695312%208.54184569%20-20.66577148%204.18530273%20C-18.66577148%201.18530273%20-18.66577148%201.18530273%20-15.96337891%200.50830078%20C-10.64151137%20-0.01297195%20-5.34379176%20-0.0006486%200%200%20Z%20'%20fill='%23FFFFFF'%20transform='translate(26.665771484375,44.814697265625)'/%3e%3c/svg%3e",wie="data:image/svg+xml,%3csvg%20width='50'%20height='50'%20viewBox='0%200%2050%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1479_21469)'%3e%3cpath%20d='M50%200V25L25%2050L12.5%2037.5L25%2025L50%200Z'%20fill='%2359529D'/%3e%3cpath%20d='M50%2025V50L37.5%2037.5L50%2025Z'%20fill='%235271B4'/%3e%3cpath%20d='M25%2025L0%2050V0L25%2025Z'%20fill='%23BB4B96'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1479_21469'%3e%3crect%20width='50'%20height='50'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Sie="/assets/gns3-CYWf4Czz.svg",bie="/assets/portfolio-BQaqs9eF.svg",FG="/assets/download-D94XLEpV.svg",OG="/assets/enlarge-DkiZ4P98.svg",Cie="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='96'%20height='96'%3e%3cpath%20d='M0%200%20C4.32927155%202.7376276%208.01199727%205.76107722%2011.453125%209.57421875%20C11.93394531%2010.06277344%2012.41476563%2010.55132812%2012.91015625%2011.0546875%20C22.60737929%2021.39020876%2023.9275543%2033.08820128%2023.73046875%2046.5703125%20C23.50863819%2052.51117783%2022.22684337%2057.31193062%2019.453125%2062.57421875%20C19.02902344%2063.43144531%2018.60492188%2064.28867188%2018.16796875%2065.171875%20C12.79964633%2075.0860749%203.99570928%2082.51109138%20-6.546875%2086.57421875%20C-9.81640625%2086.79296875%20-9.81640625%2086.79296875%20-12.546875%2086.57421875%20C-14.07247007%2085.04862368%20-13.72596214%2083.62135404%20-13.79296875%2081.49609375%20C-13.82583984%2080.66464844%20-13.85871094%2079.83320312%20-13.89257812%2078.9765625%20C-13.95323135%2077.22407145%20-14.01058414%2075.47146271%20-14.06445312%2073.71875%20C-14.24603014%2069.27182603%20-14.4819471%2065.62047423%20-16.546875%2061.57421875%20C-15.73863281%2061.4040625%20-14.93039063%2061.23390625%20-14.09765625%2061.05859375%20C-5.99790873%2059.41126452%20-5.99790873%2059.41126452%200.453125%2054.57421875%20C4.01801516%2048.46297848%205.35555103%2042.60610986%204.453125%2035.57421875%20C3.58685414%2033.64460597%203.58685414%2033.64460597%202.453125%2031.82421875%20C-0.64557371%2026.45605056%200.12364581%2020.57806174%200.453125%2014.57421875%20C-0.98618617%2015.02683233%20-2.42326499%2015.48654854%20-3.859375%2015.94921875%20C-5.06013672%2016.33207031%20-5.06013672%2016.33207031%20-6.28515625%2016.72265625%20C-8.77412028%2017.56253686%20-8.77412028%2017.56253686%20-11.546875%2019.57421875%20C-14.29973111%2019.53056881%20-16.93801131%2019.38658643%20-19.671875%2019.13671875%20C-24.4411433%2018.75475678%20-28.86789295%2018.41175184%20-33.609375%2019.26171875%20C-38.07404557%2019.61605768%20-39.98435661%2018.82344361%20-43.72265625%2016.58203125%20C-45.64975034%2015.51738398%20-47.39947551%2015.019816%20-49.546875%2014.57421875%20C-49.50046875%2015.43144531%20-49.4540625%2016.28867187%20-49.40625%2017.171875%20C-49.07526044%2027.65715141%20-49.07526044%2027.65715141%20-51.546875%2031.19921875%20C-54.71488026%2036.54522763%20-54.29981542%2041.89663373%20-53.07421875%2047.8828125%20C-51.5559241%2052.69226083%20-49.0836664%2056.18833642%20-44.546875%2058.57421875%20C-40.92606453%2059.81107963%20-37.28307336%2060.75650986%20-33.546875%2061.57421875%20C-33.546875%2064.8128317%20-34.1719601%2066.67162064%20-35.546875%2069.57421875%20C-38.75402504%2071.17779377%20-42.06700056%2071.05790786%20-45.546875%2070.57421875%20C-48.6030513%2068.65522433%20-50.68041879%2066.43431573%20-53.171875%2063.82421875%20C-55.36459083%2061.23034643%20-55.36459083%2061.23034643%20-58.546875%2061.57421875%20C-57.825%2062.06921875%20-57.103125%2062.56421875%20-56.359375%2063.07421875%20C-53.82391242%2065.32796326%20-52.68663139%2066.83615203%20-51.046875%2069.69921875%20C-49.52522202%2072.23373671%20-48.74867414%2073.44332201%20-46.234375%2075.07421875%20C-42.60216666%2075.74997844%20-39.24070624%2075.69943337%20-35.546875%2075.57421875%20C-35.51999349%2077.21996441%20-35.50053377%2078.86583288%20-35.484375%2080.51171875%20C-35.47277344%2081.42824219%20-35.46117187%2082.34476562%20-35.44921875%2083.2890625%20C-35.546875%2085.57421875%20-35.546875%2085.57421875%20-36.546875%2086.57421875%20C-42.72753606%2087.52508968%20-47.46819064%2084.77827109%20-52.546875%2081.57421875%20C-62.80050159%2073.77844677%20-70.09575982%2064.40814767%20-72.546875%2051.57421875%20C-74.0489592%2036.2955082%20-72.15977218%2023.90868942%20-62.546875%2011.57421875%20C-60.046875%208.82421875%20-60.046875%208.82421875%20-57.546875%206.57421875%20C-56.66%205.74921875%20-55.773125%204.92421875%20-54.859375%204.07421875%20C-39.85981021%20-8.18058032%20-16.66105728%20-9.32712563%200%200%20Z%20'%20fill='%23218BE6'%20transform='translate(72.546875,7.42578125)'/%3e%3c/svg%3e",Mie="data:image/svg+xml,%3csvg%20version='1.1'%20class='sun'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20496%20496'%20style='enable-background:new%200%200%20496%20496;'%20xml:space='preserve'%3e%3crect%20x='152.994'%20y='58.921'%20transform='matrix(0.3827%200.9239%20-0.9239%200.3827%20168.6176%20-118.5145)'%20width='40.001'%20height='16'/%3e%3crect%20x='46.9'%20y='164.979'%20transform='matrix(0.9239%200.3827%20-0.3827%200.9239%2071.29%20-12.4346)'%20width='40.001'%20height='16'/%3e%3crect%20x='46.947'%20y='315.048'%20transform='matrix(0.9239%20-0.3827%200.3827%200.9239%20-118.531%2050.2116)'%20width='40.001'%20height='16'/%3e%3crect%20x='164.966'%20y='409.112'%20transform='matrix(-0.9238%20-0.3828%200.3828%20-0.9238%20168.4872%20891.7491)'%20width='16'%20height='39.999'/%3e%3crect%20x='303.031'%20y='421.036'%20transform='matrix(-0.3827%20-0.9239%200.9239%20-0.3827%2050.2758%20891.6655)'%20width='40.001'%20height='16'/%3e%3crect%20x='409.088'%20y='315.018'%20transform='matrix(-0.9239%20-0.3827%200.3827%20-0.9239%20701.898%20785.6559)'%20width='40.001'%20height='16'/%3e%3crect%20x='409.054'%20y='165.011'%20transform='matrix(-0.9239%200.3827%20-0.3827%20-0.9239%20891.6585%20168.6574)'%20width='40.001'%20height='16'/%3e%3crect%20x='315.001'%20y='46.895'%20transform='matrix(0.9238%200.3828%20-0.3828%200.9238%2050.212%20-118.5529)'%20width='16'%20height='39.999'/%3e%3cpath%20d='M248,88c-88.224,0-160,71.776-160,160s71.776,160,160,160s160-71.776,160-160S336.224,88,248,88z%20M248,392%20c-79.4,0-144-64.6-144-144s64.6-144,144-144s144,64.6,144,144S327.4,392,248,392z'/%3e%3crect%20x='240'%20width='16'%20height='72'/%3e%3crect%20x='62.097'%20y='90.096'%20transform='matrix(0.7071%200.7071%20-0.7071%200.7071%2098.0963%20-40.6334)'%20width='71.999'%20height='16'/%3e%3crect%20y='240'%20width='72'%20height='16'/%3e%3crect%20x='90.091'%20y='361.915'%20transform='matrix(-0.7071%20-0.7071%200.7071%20-0.7071%20-113.9157%20748.643)'%20width='16'%20height='71.999'/%3e%3crect%20x='240'%20y='424'%20width='16'%20height='72'/%3e%3crect%20x='361.881'%20y='389.915'%20transform='matrix(-0.7071%20-0.7071%200.7071%20-0.7071%20397.8562%20960.6281)'%20width='71.999'%20height='16'/%3e%3crect%20x='424'%20y='240'%20width='72'%20height='16'/%3e%3crect%20x='389.911'%20y='62.091'%20transform='matrix(0.7071%200.7071%20-0.7071%200.7071%20185.9067%20-252.6357)'%20width='16'%20height='71.999'/%3e%3c/svg%3e",Eie="data:image/svg+xml,%3csvg%20version='1.1'%20class='moon'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2049.739%2049.739'%20style='enable-background:new%200%200%2049.739%2049.739;'%20xml:space='preserve'%3e%3cpath%20d='M25.068,48.889c-9.173,0-18.017-5.06-22.396-13.804C-3.373,23.008,1.164,8.467,13.003,1.979l2.061-1.129l-0.615,2.268%20c-1.479,5.459-0.899,11.25,1.633,16.306c2.75,5.493,7.476,9.587,13.305,11.526c5.831,1.939,12.065,1.492,17.559-1.258v0%20c0.25-0.125,0.492-0.258,0.734-0.391l2.061-1.13l-0.585,2.252c-1.863,6.873-6.577,12.639-12.933,15.822%20C32.639,48.039,28.825,48.888,25.068,48.889z%20M12.002,4.936c-9.413,6.428-12.756,18.837-7.54,29.253%20c5.678,11.34,19.522,15.945,30.864,10.268c5.154-2.582,9.136-7.012,11.181-12.357c-5.632,2.427-11.882,2.702-17.752,0.748%20c-6.337-2.108-11.473-6.557-14.463-12.528C11.899,15.541,11.11,10.16,12.002,4.936z'/%3e%3c/svg%3e",Tie="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%20id='keyboard-arrow'%3e%3cpath%20d='M63.51%2032.53H43.87a.49.49%200%200%200-.49.49v19.63c0%20.28.22.5.49.5h19.64c.27%200%20.49-.22.49-.5V33.03a.5.5%200%200%200-.49-.5zM61.25%2050.4H46.13V35.28h15.12V50.4zM41.82%2032.53H22.18a.49.49%200%200%200-.49.49v19.63c0%20.28.22.5.49.5h19.64c.27%200%20.49-.22.49-.5V33.03a.5.5%200%200%200-.49-.5zM39.56%2050.4H24.44V35.28h15.12V50.4zm2.26-39.55H22.18a.49.49%200%200%200-.49.49v19.63c0%20.28.22.5.49.5h19.64c.27%200%20.49-.22.49-.5V11.34c0-.28-.22-.49-.49-.49zm-2.26%2017.87H24.44V13.59h15.12v15.13zm-19.43%203.81H.49a.5.5%200%200%200-.49.5v19.63c0%20.28.22.5.49.5h19.64c.27%200%20.49-.22.49-.5V33.03a.5.5%200%200%200-.49-.5zM17.88%2050.4H2.75V35.28h15.13V50.4z'%3e%3c/path%3e%3cpath%20d='M49.09%2044.47h4.57v.87a.662.662%200%200%200%20.66.67c.13%200%20.26-.04.37-.11l3.79-2.51c.19-.12.3-.33.3-.55%200-.23-.11-.43-.3-.56l-3.79-2.51a.687.687%200%200%200-.68-.03c-.22.12-.35.35-.35.59v.88h-4.57a.49.49%200%200%200-.49.49v2.27c0%20.29.22.5.49.5zm-17.64%203.16c.12.18.33.29.55.29.22%200%20.43-.11.56-.29l2.5-3.79a.66.66%200%200%200%20.03-.69.666.666%200%200%200-.58-.35h-.88v-4.56a.49.49%200%200%200-.49-.49h-2.28a.49.49%200%200%200-.49.49v4.56h-.88c-.24%200-.46.14-.58.35a.66.66%200%200%200%20.03.69l2.51%203.79zM29.5%2021.18h.87v4.56c0%20.28.22.5.49.5h2.28c.27%200%20.49-.22.49-.5v-4.56h.88c.24%200%20.47-.13.58-.35.12-.22.11-.48-.03-.68l-2.5-3.79v-.01c-.25-.37-.86-.37-1.11.01l-2.51%203.79c-.14.2-.15.46-.03.68.12.23.34.35.59.35zM9.31%2045.9c.11.07.24.11.37.11a.662.662%200%200%200%20.66-.67v-.87h4.57c.27%200%20.49-.22.49-.5V41.7a.49.49%200%200%200-.49-.49h-4.57v-.88c0-.25-.13-.47-.34-.59a.707.707%200%200%200-.69.03l-3.79%202.51c-.19.13-.3.33-.3.56%200%20.22.11.43.3.55l3.79%202.51z'%3e%3c/path%3e%3c/svg%3e",Ne={arrow:gS,bash:_ne,bootstrap:xne,box:Ane,c:wne,contact:Sne,cpp:bne,css:Cne,d3js:Mne,disqus:Ene,docker:Tne,express:Rne,git:Pne,github:Ine,googlesheets:Lne,gradle:Dne,gulp:Bne,html:Fne,influxdb:One,java:kne,javascript:Nne,jquery:Une,leftarrow:IG,libgdx:zne,arrowupright:jne,linkedin:Hne,linux:Gne,mongodb:Vne,mui:Wne,mysql:Xne,neo4j:Kne,neovim:Yne,neuron:Jne,nextjs:qne,nodejs:Zne,noodles:Qne,postman:$ne,pricewise:eie,python:tie,reactjs:nie,redux:iie,restapi:rie,resume:sie,blueresume:oie,rightarrow:LG,rings:aie,router:lie,rpi:cie,rss:uie,sass:hie,soundoff:DG,soundon:BG,tailwindcss:die,tank:fie,terminal:pie,threejs:mie,twitter:gie,typescript:vie,vim:yie,vite:xie,wizard:Aie,framermotion:wie,gns3:Sie,portfolio:bie,vimwhite:_ie,download:FG,enlarge:OG,bluegithub:Cie,sun:Mie,moon:Eie,arrowkeys:Tie},Rie="/assets/village-C-Hvyhx0.mp3";/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const nx="167",Ad={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},wd={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},kG=0,b9=1,NG=2,Pie=3,UG=0,jC=1,pv=2,ta=3,_l=0,Qr=1,Lo=2,Pc=0,i0=1,C9=2,M9=3,E9=4,zG=5,Tu=100,jG=101,HG=102,GG=103,VG=104,WG=200,XG=201,KG=202,YG=203,E5=204,T5=205,JG=206,qG=207,ZG=208,QG=209,$G=210,eV=211,tV=212,nV=213,iV=214,rV=0,sV=1,oV=2,$v=3,aV=4,lV=5,cV=6,uV=7,ix=0,hV=1,dV=2,pl=0,fV=1,pV=2,mV=3,q7=4,gV=5,vV=6,yV=7,T9="attached",_V="detached",HC=300,Vc=301,Eh=302,ey=303,ty=304,bg=306,Th=1e3,Ys=1001,rg=1002,Ri=1003,GC=1004,Iie=1004,Nd=1005,Lie=1005,$n=1006,xm=1007,Die=1007,Fo=1008,Bie=1008,Ca=1009,Z7=1010,Q7=1011,sg=1012,VC=1013,Wc=1014,ps=1015,Cg=1016,WC=1017,XC=1018,_0=1020,$7=35902,eI=1021,tI=1022,Pr=1023,nI=1024,iI=1025,r0=1026,x0=1027,KC=1028,rx=1029,rI=1030,YC=1031,Fie=1032,JC=1033,mv=33776,gv=33777,vv=33778,yv=33779,R5=35840,P5=35841,I5=35842,L5=35843,D5=36196,B5=37492,F5=37496,O5=37808,k5=37809,N5=37810,U5=37811,z5=37812,j5=37813,H5=37814,G5=37815,V5=37816,W5=37817,X5=37818,K5=37819,Y5=37820,J5=37821,_v=36492,q5=36494,Z5=36495,sI=36283,Q5=36284,$5=36285,e4=36286,xV=2200,AV=2201,wV=2202,og=2300,ag=2301,vS=2302,Ud=2400,zd=2401,ny=2402,qC=2500,oI=2501,SV=0,aI=1,t4=2,bV=3200,CV=3201,Oie=3202,kie=3203,Uh=0,MV=1,wc="",Ro="srgb",Zc="srgb-linear",ZC="display-p3",sx="display-p3-linear",iy="linear",wn="srgb",ry="rec709",sy="p3",Nie=0,Sd=7680,Uie=7681,zie=7682,jie=7683,Hie=34055,Gie=34056,Vie=5386,Wie=512,Xie=513,Kie=514,Yie=515,Jie=516,qie=517,Zie=518,R9=519,EV=512,TV=513,RV=514,lI=515,PV=516,IV=517,LV=518,DV=519,oy=35044,Qie=35048,$ie=35040,ere=35045,tre=35049,nre=35041,ire=35046,rre=35050,sre=35042,ore="100",P9="300 es",cl=2e3,ay=2001;class wl{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const _r=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _O=1234567;const s0=Math.PI/180,lg=180/Math.PI;function Qs(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(_r[i&255]+_r[i>>8&255]+_r[i>>16&255]+_r[i>>24&255]+"-"+_r[e&255]+_r[e>>8&255]+"-"+_r[e>>16&15|64]+_r[e>>24&255]+"-"+_r[t&63|128]+_r[t>>8&255]+"-"+_r[t>>16&255]+_r[t>>24&255]+_r[n&255]+_r[n>>8&255]+_r[n>>16&255]+_r[n>>24&255]).toLowerCase()}function Qn(i,e,t){return Math.max(e,Math.min(t,i))}function cI(i,e){return(i%e+e)%e}function are(i,e,t,n,r){return n+(i-e)*(r-n)/(t-e)}function lre(i,e,t){return i!==e?(t-i)/(e-i):0}function xv(i,e,t){return(1-t)*i+t*e}function cre(i,e,t,n){return xv(i,e,1-Math.exp(-t*n))}function ure(i,e=1){return e-Math.abs(cI(i,e*2)-e)}function hre(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}function dre(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}function fre(i,e){return i+Math.floor(Math.random()*(e-i+1))}function pre(i,e){return i+Math.random()*(e-i)}function mre(i){return i*(.5-Math.random())}function gre(i){i!==void 0&&(_O=i);let e=_O+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function vre(i){return i*s0}function yre(i){return i*lg}function _re(i){return(i&i-1)===0&&i!==0}function xre(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function Are(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function wre(i,e,t,n,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+n)/2),u=o((e+n)/2),h=s((e-n)/2),d=o((e-n)/2),m=s((n-e)/2),g=o((n-e)/2);switch(r){case"XYX":i.set(a*u,l*h,l*d,a*c);break;case"YZY":i.set(l*d,a*u,l*h,a*c);break;case"ZXZ":i.set(l*h,l*d,a*u,a*c);break;case"XZX":i.set(a*u,l*g,l*m,a*c);break;case"YXY":i.set(l*m,a*u,l*g,a*c);break;case"ZYZ":i.set(l*g,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Jr(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function Lt(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const BV={DEG2RAD:s0,RAD2DEG:lg,generateUUID:Qs,clamp:Qn,euclideanModulo:cI,mapLinear:are,inverseLerp:lre,lerp:xv,damp:cre,pingpong:ure,smoothstep:hre,smootherstep:dre,randInt:fre,randFloat:pre,randFloatSpread:mre,seededRandom:gre,degToRad:vre,radToDeg:yre,isPowerOfTwo:_re,ceilPowerOfTwo:xre,floorPowerOfTwo:Are,setQuaternionFromProperEuler:wre,normalize:Lt,denormalize:Jr};class we{constructor(e=0,t=0){we.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Qn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*n-o*r+e.x,this.y=s*r+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class It{constructor(e,t,n,r,s,o,a,l,c){It.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,r,s,o,a,l,c)}set(e,t,n,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=n,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,o=n[0],a=n[3],l=n[6],c=n[1],u=n[4],h=n[7],d=n[2],m=n[5],g=n[8],y=r[0],_=r[3],v=r[6],A=r[1],w=r[4],C=r[7],T=r[2],E=r[5],R=r[8];return s[0]=o*y+a*A+l*T,s[3]=o*_+a*w+l*E,s[6]=o*v+a*C+l*R,s[1]=c*y+u*A+h*T,s[4]=c*_+u*w+h*E,s[7]=c*v+u*C+h*R,s[2]=d*y+m*A+g*T,s[5]=d*_+m*w+g*E,s[8]=d*v+m*C+g*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-n*s*u+n*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=u*o-a*c,d=a*l-u*s,m=c*s-o*l,g=t*h+n*d+r*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/g;return e[0]=h*y,e[1]=(r*c-u*n)*y,e[2]=(a*n-r*o)*y,e[3]=d*y,e[4]=(u*t-r*l)*y,e[5]=(r*s-a*t)*y,e[6]=m*y,e[7]=(n*l-c*t)*y,e[8]=(o*t-n*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(n*l,n*c,-n*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(K8.makeScale(e,t)),this}rotate(e){return this.premultiply(K8.makeRotation(-e)),this}translate(e,t){return this.premultiply(K8.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const K8=new It;function FV(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}const Sre={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function tm(i,e){return new Sre[i](e)}function ly(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function OV(){const i=ly("canvas");return i.style.display="block",i}const xO={};function Am(i){i in xO||(xO[i]=!0,console.warn(i))}function bre(i,e,t){return new Promise(function(n,r){function s(){switch(i.clientWaitSync(e,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:r();break;case i.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:n()}}setTimeout(s,t)})}const AO=new It().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),wO=new It().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),c1={[Zc]:{transfer:iy,primaries:ry,luminanceCoefficients:[.2126,.7152,.0722],toReference:i=>i,fromReference:i=>i},[Ro]:{transfer:wn,primaries:ry,luminanceCoefficients:[.2126,.7152,.0722],toReference:i=>i.convertSRGBToLinear(),fromReference:i=>i.convertLinearToSRGB()},[sx]:{transfer:iy,primaries:sy,luminanceCoefficients:[.2289,.6917,.0793],toReference:i=>i.applyMatrix3(wO),fromReference:i=>i.applyMatrix3(AO)},[ZC]:{transfer:wn,primaries:sy,luminanceCoefficients:[.2289,.6917,.0793],toReference:i=>i.convertSRGBToLinear().applyMatrix3(wO),fromReference:i=>i.applyMatrix3(AO).convertLinearToSRGB()}},Cre=new Set([Zc,sx]),nn={enabled:!0,_workingColorSpace:Zc,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(i){if(!Cre.has(i))throw new Error(`Unsupported working color space, "${i}".`);this._workingColorSpace=i},convert:function(i,e,t){if(this.enabled===!1||e===t||!e||!t)return i;const n=c1[e].toReference,r=c1[t].fromReference;return r(n(i))},fromWorkingColorSpace:function(i,e){return this.convert(i,this._workingColorSpace,e)},toWorkingColorSpace:function(i,e){return this.convert(i,e,this._workingColorSpace)},getPrimaries:function(i){return c1[i].primaries},getTransfer:function(i){return i===wc?iy:c1[i].transfer},getLuminanceCoefficients:function(i,e=this._workingColorSpace){return i.fromArray(c1[e].luminanceCoefficients)}};function wm(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function Y8(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let hp;class kV{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{hp===void 0&&(hp=ly("canvas")),hp.width=e.width,hp.height=e.height;const n=hp.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=hp}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=ly("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=wm(s[o]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(wm(t[n]/255)*255):t[n]=wm(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Mre=0;class jd{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Mre++}),this.uuid=Qs(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(J8(r[o].image)):s.push(J8(r[o]))}else s=J8(r);n.url=s}return t||(e.images[this.uuid]=n),n}}function J8(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?kV.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Ere=0;class Ln extends wl{constructor(e=Ln.DEFAULT_IMAGE,t=Ln.DEFAULT_MAPPING,n=Ys,r=Ys,s=$n,o=Fo,a=Pr,l=Ca,c=Ln.DEFAULT_ANISOTROPY,u=wc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Ere++}),this.uuid=Qs(),this.name="",this.source=new jd(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new we(0,0),this.repeat=new we(1,1),this.center=new we(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new It,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==HC)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Th:e.x=e.x-Math.floor(e.x);break;case Ys:e.x=e.x<0?0:1;break;case rg:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Th:e.y=e.y-Math.floor(e.y);break;case Ys:e.y=e.y<0?0:1;break;case rg:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ln.DEFAULT_IMAGE=null;Ln.DEFAULT_MAPPING=HC;Ln.DEFAULT_ANISOTROPY=1;class sn{constructor(e=0,t=0,n=0,r=1){sn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,s;const l=e.elements,c=l[0],u=l[4],h=l[8],d=l[1],m=l[5],g=l[9],y=l[2],_=l[6],v=l[10];if(Math.abs(u-d)<.01&&Math.abs(h-y)<.01&&Math.abs(g-_)<.01){if(Math.abs(u+d)<.1&&Math.abs(h+y)<.1&&Math.abs(g+_)<.1&&Math.abs(c+m+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(c+1)/2,C=(m+1)/2,T=(v+1)/2,E=(u+d)/4,R=(h+y)/4,D=(g+_)/4;return w>C&&w>T?w<.01?(n=0,r=.707106781,s=.707106781):(n=Math.sqrt(w),r=E/n,s=R/n):C>T?C<.01?(n=.707106781,r=0,s=.707106781):(r=Math.sqrt(C),n=E/r,s=D/r):T<.01?(n=.707106781,r=.707106781,s=0):(s=Math.sqrt(T),n=R/s,r=D/s),this.set(n,r,s,t),this}let A=Math.sqrt((_-g)*(_-g)+(h-y)*(h-y)+(d-u)*(d-u));return Math.abs(A)<.001&&(A=1),this.x=(_-g)/A,this.y=(h-y)/A,this.z=(d-u)/A,this.w=Math.acos((c+m+v-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class NV extends wl{constructor(e=1,t=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new sn(0,0,e,t),this.scissorTest=!1,this.viewport=new sn(0,0,e,t);const r={width:e,height:t,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:$n,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const s=new Ln(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);s.flipY=!1,s.generateMipmaps=n.generateMipmaps,s.internalFormat=n.internalFormat,this.textures=[];const o=n.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++)this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new jd(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ma extends NV{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class QC extends Ln{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Ri,this.minFilter=Ri,this.wrapR=Ys,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Tre extends Ma{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new QC(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class uI extends Ln{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Ri,this.minFilter=Ri,this.wrapR=Ys,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Rre extends Ma{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new uI(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Xi{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,s,o,a){let l=n[r+0],c=n[r+1],u=n[r+2],h=n[r+3];const d=s[o+0],m=s[o+1],g=s[o+2],y=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h;return}if(a===1){e[t+0]=d,e[t+1]=m,e[t+2]=g,e[t+3]=y;return}if(h!==y||l!==d||c!==m||u!==g){let _=1-a;const v=l*d+c*m+u*g+h*y,A=v>=0?1:-1,w=1-v*v;if(w>Number.EPSILON){const T=Math.sqrt(w),E=Math.atan2(T,v*A);_=Math.sin(_*E)/T,a=Math.sin(a*E)/T}const C=a*A;if(l=l*_+d*C,c=c*_+m*C,u=u*_+g*C,h=h*_+y*C,_===1-a){const T=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=T,c*=T,u*=T,h*=T}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h}static multiplyQuaternionsFlat(e,t,n,r,s,o){const a=n[r],l=n[r+1],c=n[r+2],u=n[r+3],h=s[o],d=s[o+1],m=s[o+2],g=s[o+3];return e[t]=a*g+u*h+l*m-c*d,e[t+1]=l*g+u*d+c*h-a*m,e[t+2]=c*g+u*m+a*d-l*h,e[t+3]=u*g-a*h-l*d-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(n/2),u=a(r/2),h=a(s/2),d=l(n/2),m=l(r/2),g=l(s/2);switch(o){case"XYZ":this._x=d*u*h+c*m*g,this._y=c*m*h-d*u*g,this._z=c*u*g+d*m*h,this._w=c*u*h-d*m*g;break;case"YXZ":this._x=d*u*h+c*m*g,this._y=c*m*h-d*u*g,this._z=c*u*g-d*m*h,this._w=c*u*h+d*m*g;break;case"ZXY":this._x=d*u*h-c*m*g,this._y=c*m*h+d*u*g,this._z=c*u*g+d*m*h,this._w=c*u*h-d*m*g;break;case"ZYX":this._x=d*u*h-c*m*g,this._y=c*m*h+d*u*g,this._z=c*u*g-d*m*h,this._w=c*u*h+d*m*g;break;case"YZX":this._x=d*u*h+c*m*g,this._y=c*m*h+d*u*g,this._z=c*u*g-d*m*h,this._w=c*u*h-d*m*g;break;case"XZY":this._x=d*u*h-c*m*g,this._y=c*m*h-d*u*g,this._z=c*u*g+d*m*h,this._w=c*u*h+d*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],h=t[10],d=n+a+h;if(d>0){const m=.5/Math.sqrt(d+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-r)*m}else if(n>a&&n>h){const m=2*Math.sqrt(1+n-a-h);this._w=(u-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+c)/m}else if(a>h){const m=2*Math.sqrt(1+a-n-h);this._w=(s-c)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+h-n-a);this._w=(o-r)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Qn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=n*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-n*c,this._z=s*u+o*c+n*l-r*a,this._w=o*u-n*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+n*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*n+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),h=Math.sin((1-t)*u)/c,d=Math.sin(t*u)/c;return this._w=o*h+this._w*d,this._x=n*h+this._x*d,this._y=r*h+this._y*d,this._z=s*h+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),s=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class V{constructor(e=0,t=0,n=0){V.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(SO.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(SO.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*r,this.y=s[1]*t+s[4]*n+s[7]*r,this.z=s[2]*t+s[5]*n+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*n+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*n+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*n+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*r-a*n),u=2*(a*t-s*r),h=2*(s*n-o*t);return this.x=t+l*c+o*h-a*u,this.y=n+l*u+a*c-s*h,this.z=r+l*h+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r,this.y=s[1]*t+s[5]*n+s[9]*r,this.z=s[2]*t+s[6]*n+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-n*l,this.z=n*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return q8.copy(this).projectOnVector(e),this.sub(q8)}reflect(e){return this.sub(q8.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Qn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const q8=new V,SO=new Xi;class hr{constructor(e=new V(1/0,1/0,1/0),t=new V(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Jo.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Jo.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Jo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const s=n.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Jo):Jo.fromBufferAttribute(s,o),Jo.applyMatrix4(e.matrixWorld),this.expandByPoint(Jo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),VA.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),VA.copy(n.boundingBox)),VA.applyMatrix4(e.matrixWorld),this.union(VA)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Jo),Jo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(u1),WA.subVectors(this.max,u1),dp.subVectors(e.a,u1),fp.subVectors(e.b,u1),pp.subVectors(e.c,u1),lu.subVectors(fp,dp),cu.subVectors(pp,fp),td.subVectors(dp,pp);let t=[0,-lu.z,lu.y,0,-cu.z,cu.y,0,-td.z,td.y,lu.z,0,-lu.x,cu.z,0,-cu.x,td.z,0,-td.x,-lu.y,lu.x,0,-cu.y,cu.x,0,-td.y,td.x,0];return!Z8(t,dp,fp,pp,WA)||(t=[1,0,0,0,1,0,0,0,1],!Z8(t,dp,fp,pp,WA))?!1:(XA.crossVectors(lu,cu),t=[XA.x,XA.y,XA.z],Z8(t,dp,fp,pp,WA))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Jo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Jo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Pl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Pl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Pl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Pl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Pl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Pl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Pl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Pl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Pl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Pl=[new V,new V,new V,new V,new V,new V,new V,new V],Jo=new V,VA=new hr,dp=new V,fp=new V,pp=new V,lu=new V,cu=new V,td=new V,u1=new V,WA=new V,XA=new V,nd=new V;function Z8(i,e,t,n,r){for(let s=0,o=i.length-3;s<=o;s+=3){nd.fromArray(i,s);const a=r.x*Math.abs(nd.x)+r.y*Math.abs(nd.y)+r.z*Math.abs(nd.z),l=e.dot(nd),c=t.dot(nd),u=n.dot(nd);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const Pre=new hr,h1=new V,Q8=new V;class Ki{constructor(e=new V,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):Pre.setFromPoints(e).getCenter(n);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;h1.subVectors(e,this.center);const t=h1.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.addScaledVector(h1,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Q8.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(h1.copy(e.center).add(Q8)),this.expandByPoint(h1.copy(e.center).sub(Q8))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Il=new V,$8=new V,KA=new V,uu=new V,e6=new V,YA=new V,t6=new V;class N0{constructor(e=new V,t=new V(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Il)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Il.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Il.copy(this.origin).addScaledVector(this.direction,t),Il.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){$8.copy(e).add(t).multiplyScalar(.5),KA.copy(t).sub(e).normalize(),uu.copy(this.origin).sub($8);const s=e.distanceTo(t)*.5,o=-this.direction.dot(KA),a=uu.dot(this.direction),l=-uu.dot(KA),c=uu.lengthSq(),u=Math.abs(1-o*o);let h,d,m,g;if(u>0)if(h=o*l-a,d=o*a-l,g=s*u,h>=0)if(d>=-g)if(d<=g){const y=1/u;h*=y,d*=y,m=h*(h+o*d+2*a)+d*(o*h+d+2*l)+c}else d=s,h=Math.max(0,-(o*d+a)),m=-h*h+d*(d+2*l)+c;else d=-s,h=Math.max(0,-(o*d+a)),m=-h*h+d*(d+2*l)+c;else d<=-g?(h=Math.max(0,-(-o*s+a)),d=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+d*(d+2*l)+c):d<=g?(h=0,d=Math.min(Math.max(-s,-l),s),m=d*(d+2*l)+c):(h=Math.max(0,-(o*s+a)),d=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+d*(d+2*l)+c);else d=o>0?-s:s,h=Math.max(0,-(o*d+a)),m=-h*h+d*(d+2*l)+c;return n&&n.copy(this.origin).addScaledVector(this.direction,h),r&&r.copy($8).addScaledVector(KA,d),m}intersectSphere(e,t){Il.subVectors(e.center,this.origin);const n=Il.dot(this.direction),r=Il.dot(Il)-n*n,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=n-o,l=n+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,d=this.origin;return c>=0?(n=(e.min.x-d.x)*c,r=(e.max.x-d.x)*c):(n=(e.max.x-d.x)*c,r=(e.min.x-d.x)*c),u>=0?(s=(e.min.y-d.y)*u,o=(e.max.y-d.y)*u):(s=(e.max.y-d.y)*u,o=(e.min.y-d.y)*u),n>o||s>r||((s>n||isNaN(n))&&(n=s),(o<r||isNaN(r))&&(r=o),h>=0?(a=(e.min.z-d.z)*h,l=(e.max.z-d.z)*h):(a=(e.max.z-d.z)*h,l=(e.min.z-d.z)*h),n>l||a>r)||((a>n||n!==n)&&(n=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,Il)!==null}intersectTriangle(e,t,n,r,s){e6.subVectors(t,e),YA.subVectors(n,e),t6.crossVectors(e6,YA);let o=this.direction.dot(t6),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;uu.subVectors(this.origin,e);const l=a*this.direction.dot(YA.crossVectors(uu,YA));if(l<0)return null;const c=a*this.direction.dot(e6.cross(uu));if(c<0||l+c>o)return null;const u=-a*uu.dot(t6);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class pt{constructor(e,t,n,r,s,o,a,l,c,u,h,d,m,g,y,_){pt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,r,s,o,a,l,c,u,h,d,m,g,y,_)}set(e,t,n,r,s,o,a,l,c,u,h,d,m,g,y,_){const v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=s,v[5]=o,v[9]=a,v[13]=l,v[2]=c,v[6]=u,v[10]=h,v[14]=d,v[3]=m,v[7]=g,v[11]=y,v[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new pt().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/mp.setFromMatrixColumn(e,0).length(),s=1/mp.setFromMatrixColumn(e,1).length(),o=1/mp.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,s=e.z,o=Math.cos(n),a=Math.sin(n),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const d=o*u,m=o*h,g=a*u,y=a*h;t[0]=l*u,t[4]=-l*h,t[8]=c,t[1]=m+g*c,t[5]=d-y*c,t[9]=-a*l,t[2]=y-d*c,t[6]=g+m*c,t[10]=o*l}else if(e.order==="YXZ"){const d=l*u,m=l*h,g=c*u,y=c*h;t[0]=d+y*a,t[4]=g*a-m,t[8]=o*c,t[1]=o*h,t[5]=o*u,t[9]=-a,t[2]=m*a-g,t[6]=y+d*a,t[10]=o*l}else if(e.order==="ZXY"){const d=l*u,m=l*h,g=c*u,y=c*h;t[0]=d-y*a,t[4]=-o*h,t[8]=g+m*a,t[1]=m+g*a,t[5]=o*u,t[9]=y-d*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const d=o*u,m=o*h,g=a*u,y=a*h;t[0]=l*u,t[4]=g*c-m,t[8]=d*c+y,t[1]=l*h,t[5]=y*c+d,t[9]=m*c-g,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const d=o*l,m=o*c,g=a*l,y=a*c;t[0]=l*u,t[4]=y-d*h,t[8]=g*h+m,t[1]=h,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=m*h+g,t[10]=d-y*h}else if(e.order==="XZY"){const d=o*l,m=o*c,g=a*l,y=a*c;t[0]=l*u,t[4]=-h,t[8]=c*u,t[1]=d*h+y,t[5]=o*u,t[9]=m*h-g,t[2]=g*h-m,t[6]=a*u,t[10]=y*h+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Ire,e,Lre)}lookAt(e,t,n){const r=this.elements;return Is.subVectors(e,t),Is.lengthSq()===0&&(Is.z=1),Is.normalize(),hu.crossVectors(n,Is),hu.lengthSq()===0&&(Math.abs(n.z)===1?Is.x+=1e-4:Is.z+=1e-4,Is.normalize(),hu.crossVectors(n,Is)),hu.normalize(),JA.crossVectors(Is,hu),r[0]=hu.x,r[4]=JA.x,r[8]=Is.x,r[1]=hu.y,r[5]=JA.y,r[9]=Is.y,r[2]=hu.z,r[6]=JA.z,r[10]=Is.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,o=n[0],a=n[4],l=n[8],c=n[12],u=n[1],h=n[5],d=n[9],m=n[13],g=n[2],y=n[6],_=n[10],v=n[14],A=n[3],w=n[7],C=n[11],T=n[15],E=r[0],R=r[4],D=r[8],I=r[12],L=r[1],O=r[5],X=r[9],W=r[13],q=r[2],$=r[6],Q=r[10],ee=r[14],k=r[3],Z=r[7],K=r[11],ne=r[15];return s[0]=o*E+a*L+l*q+c*k,s[4]=o*R+a*O+l*$+c*Z,s[8]=o*D+a*X+l*Q+c*K,s[12]=o*I+a*W+l*ee+c*ne,s[1]=u*E+h*L+d*q+m*k,s[5]=u*R+h*O+d*$+m*Z,s[9]=u*D+h*X+d*Q+m*K,s[13]=u*I+h*W+d*ee+m*ne,s[2]=g*E+y*L+_*q+v*k,s[6]=g*R+y*O+_*$+v*Z,s[10]=g*D+y*X+_*Q+v*K,s[14]=g*I+y*W+_*ee+v*ne,s[3]=A*E+w*L+C*q+T*k,s[7]=A*R+w*O+C*$+T*Z,s[11]=A*D+w*X+C*Q+T*K,s[15]=A*I+w*W+C*ee+T*ne,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],h=e[6],d=e[10],m=e[14],g=e[3],y=e[7],_=e[11],v=e[15];return g*(+s*l*h-r*c*h-s*a*d+n*c*d+r*a*m-n*l*m)+y*(+t*l*m-t*c*d+s*o*d-r*o*m+r*c*u-s*l*u)+_*(+t*c*h-t*a*m-s*o*h+n*o*m+s*a*u-n*c*u)+v*(-r*a*u-t*l*h+t*a*d+r*o*h-n*o*d+n*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=e[9],d=e[10],m=e[11],g=e[12],y=e[13],_=e[14],v=e[15],A=h*_*c-y*d*c+y*l*m-a*_*m-h*l*v+a*d*v,w=g*d*c-u*_*c-g*l*m+o*_*m+u*l*v-o*d*v,C=u*y*c-g*h*c+g*a*m-o*y*m-u*a*v+o*h*v,T=g*h*l-u*y*l-g*a*d+o*y*d+u*a*_-o*h*_,E=t*A+n*w+r*C+s*T;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/E;return e[0]=A*R,e[1]=(y*d*s-h*_*s-y*r*m+n*_*m+h*r*v-n*d*v)*R,e[2]=(a*_*s-y*l*s+y*r*c-n*_*c-a*r*v+n*l*v)*R,e[3]=(h*l*s-a*d*s-h*r*c+n*d*c+a*r*m-n*l*m)*R,e[4]=w*R,e[5]=(u*_*s-g*d*s+g*r*m-t*_*m-u*r*v+t*d*v)*R,e[6]=(g*l*s-o*_*s-g*r*c+t*_*c+o*r*v-t*l*v)*R,e[7]=(o*d*s-u*l*s+u*r*c-t*d*c-o*r*m+t*l*m)*R,e[8]=C*R,e[9]=(g*h*s-u*y*s-g*n*m+t*y*m+u*n*v-t*h*v)*R,e[10]=(o*y*s-g*a*s+g*n*c-t*y*c-o*n*v+t*a*v)*R,e[11]=(u*a*s-o*h*s-u*n*c+t*h*c+o*n*m-t*a*m)*R,e[12]=T*R,e[13]=(u*y*r-g*h*r+g*n*d-t*y*d-u*n*_+t*h*_)*R,e[14]=(g*a*r-o*y*r-g*n*l+t*y*l+o*n*_-t*a*_)*R,e[15]=(o*h*r-u*a*r+u*n*l-t*h*l-o*n*d+t*a*d)*R,this}scale(e){const t=this.elements,n=e.x,r=e.y,s=e.z;return t[0]*=n,t[4]*=r,t[8]*=s,t[1]*=n,t[5]*=r,t[9]*=s,t[2]*=n,t[6]*=r,t[10]*=s,t[3]*=n,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),s=1-n,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+n,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+n,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,s,o){return this.set(1,n,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,h=a+a,d=s*c,m=s*u,g=s*h,y=o*u,_=o*h,v=a*h,A=l*c,w=l*u,C=l*h,T=n.x,E=n.y,R=n.z;return r[0]=(1-(y+v))*T,r[1]=(m+C)*T,r[2]=(g-w)*T,r[3]=0,r[4]=(m-C)*E,r[5]=(1-(d+v))*E,r[6]=(_+A)*E,r[7]=0,r[8]=(g+w)*R,r[9]=(_-A)*R,r[10]=(1-(d+y))*R,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let s=mp.set(r[0],r[1],r[2]).length();const o=mp.set(r[4],r[5],r[6]).length(),a=mp.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],qo.copy(this);const c=1/s,u=1/o,h=1/a;return qo.elements[0]*=c,qo.elements[1]*=c,qo.elements[2]*=c,qo.elements[4]*=u,qo.elements[5]*=u,qo.elements[6]*=u,qo.elements[8]*=h,qo.elements[9]*=h,qo.elements[10]*=h,t.setFromRotationMatrix(qo),n.x=s,n.y=o,n.z=a,this}makePerspective(e,t,n,r,s,o,a=cl){const l=this.elements,c=2*s/(t-e),u=2*s/(n-r),h=(t+e)/(t-e),d=(n+r)/(n-r);let m,g;if(a===cl)m=-(o+s)/(o-s),g=-2*o*s/(o-s);else if(a===ay)m=-o/(o-s),g=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=u,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,n,r,s,o,a=cl){const l=this.elements,c=1/(t-e),u=1/(n-r),h=1/(o-s),d=(t+e)*c,m=(n+r)*u;let g,y;if(a===cl)g=(o+s)*h,y=-2*h;else if(a===ay)g=s*h,y=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=y,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const mp=new V,qo=new pt,Ire=new V(0,0,0),Lre=new V(1,1,1),hu=new V,JA=new V,Is=new V,bO=new pt,CO=new Xi;class to{constructor(e=0,t=0,n=0,r=to.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],h=r[2],d=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(Qn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Qn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Qn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Qn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Qn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Qn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return bO.makeRotationFromQuaternion(e),this.setFromRotationMatrix(bO,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return CO.setFromEuler(this),this.setFromQuaternion(CO,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}to.DEFAULT_ORDER="XYZ";class o0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Dre=0;const MO=new V,gp=new Xi,Ll=new pt,qA=new V,d1=new V,Bre=new V,Fre=new Xi,EO=new V(1,0,0),TO=new V(0,1,0),RO=new V(0,0,1),PO={type:"added"},Ore={type:"removed"},vp={type:"childadded",child:null},n6={type:"childremoved",child:null};class zt extends wl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Dre++}),this.uuid=Qs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=zt.DEFAULT_UP.clone();const e=new V,t=new to,n=new Xi,r=new V(1,1,1);function s(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(s),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new pt},normalMatrix:{value:new It}}),this.matrix=new pt,this.matrixWorld=new pt,this.matrixAutoUpdate=zt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=zt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new o0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return gp.setFromAxisAngle(e,t),this.quaternion.multiply(gp),this}rotateOnWorldAxis(e,t){return gp.setFromAxisAngle(e,t),this.quaternion.premultiply(gp),this}rotateX(e){return this.rotateOnAxis(EO,e)}rotateY(e){return this.rotateOnAxis(TO,e)}rotateZ(e){return this.rotateOnAxis(RO,e)}translateOnAxis(e,t){return MO.copy(e).applyQuaternion(this.quaternion),this.position.add(MO.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(EO,e)}translateY(e){return this.translateOnAxis(TO,e)}translateZ(e){return this.translateOnAxis(RO,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ll.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?qA.copy(e):qA.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),d1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ll.lookAt(d1,qA,this.up):Ll.lookAt(qA,d1,this.up),this.quaternion.setFromRotationMatrix(Ll),r&&(Ll.extractRotation(r.matrixWorld),gp.setFromRotationMatrix(Ll),this.quaternion.premultiply(gp.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(PO),vp.child=e,this.dispatchEvent(vp),vp.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Ore),n6.child=e,this.dispatchEvent(n6),n6.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ll.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ll.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ll),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(PO),vp.child=e,this.dispatchEvent(vp),vp.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const o=this.children[n].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(d1,e,Bre),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(d1,Fre,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),h=o(e.shapes),d=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(n.geometries=a),l.length>0&&(n.materials=l),c.length>0&&(n.textures=c),u.length>0&&(n.images=u),h.length>0&&(n.shapes=h),d.length>0&&(n.skeletons=d),m.length>0&&(n.animations=m),g.length>0&&(n.nodes=g)}return n.object=r,n;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}zt.DEFAULT_UP=new V(0,1,0);zt.DEFAULT_MATRIX_AUTO_UPDATE=!0;zt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Zo=new V,Dl=new V,i6=new V,Bl=new V,yp=new V,_p=new V,IO=new V,r6=new V,s6=new V,o6=new V;class Ws{constructor(e=new V,t=new V,n=new V){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Zo.subVectors(e,t),r.cross(Zo);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,n,r,s){Zo.subVectors(r,t),Dl.subVectors(n,t),i6.subVectors(e,t);const o=Zo.dot(Zo),a=Zo.dot(Dl),l=Zo.dot(i6),c=Dl.dot(Dl),u=Dl.dot(i6),h=o*c-a*a;if(h===0)return s.set(0,0,0),null;const d=1/h,m=(c*l-a*u)*d,g=(o*u-a*l)*d;return s.set(1-m-g,g,m)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,Bl)===null?!1:Bl.x>=0&&Bl.y>=0&&Bl.x+Bl.y<=1}static getInterpolation(e,t,n,r,s,o,a,l){return this.getBarycoord(e,t,n,r,Bl)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Bl.x),l.addScaledVector(o,Bl.y),l.addScaledVector(a,Bl.z),l)}static isFrontFacing(e,t,n,r){return Zo.subVectors(n,t),Dl.subVectors(e,t),Zo.cross(Dl).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Zo.subVectors(this.c,this.b),Dl.subVectors(this.a,this.b),Zo.cross(Dl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ws.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ws.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,s){return Ws.getInterpolation(e,this.a,this.b,this.c,t,n,r,s)}containsPoint(e){return Ws.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ws.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,s=this.c;let o,a;yp.subVectors(r,n),_p.subVectors(s,n),r6.subVectors(e,n);const l=yp.dot(r6),c=_p.dot(r6);if(l<=0&&c<=0)return t.copy(n);s6.subVectors(e,r);const u=yp.dot(s6),h=_p.dot(s6);if(u>=0&&h<=u)return t.copy(r);const d=l*h-u*c;if(d<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(n).addScaledVector(yp,o);o6.subVectors(e,s);const m=yp.dot(o6),g=_p.dot(o6);if(g>=0&&m<=g)return t.copy(s);const y=m*c-l*g;if(y<=0&&c>=0&&g<=0)return a=c/(c-g),t.copy(n).addScaledVector(_p,a);const _=u*g-m*h;if(_<=0&&h-u>=0&&m-g>=0)return IO.subVectors(s,r),a=(h-u)/(h-u+(m-g)),t.copy(r).addScaledVector(IO,a);const v=1/(_+y+d);return o=y*v,a=d*v,t.copy(n).addScaledVector(yp,o).addScaledVector(_p,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const UV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},du={h:0,s:0,l:0},ZA={h:0,s:0,l:0};function a6(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}class Ge{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ro){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,nn.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=nn.workingColorSpace){return this.r=e,this.g=t,this.b=n,nn.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=nn.workingColorSpace){if(e=cI(e,1),t=Qn(t,0,1),n=Qn(n,0,1),t===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+t):n+t-n*t,o=2*n-s;this.r=a6(o,s,e+1/3),this.g=a6(o,s,e),this.b=a6(o,s,e-1/3)}return nn.toWorkingColorSpace(this,r),this}setStyle(e,t=Ro){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Ro){const n=UV[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=wm(e.r),this.g=wm(e.g),this.b=wm(e.b),this}copyLinearToSRGB(e){return this.r=Y8(e.r),this.g=Y8(e.g),this.b=Y8(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ro){return nn.fromWorkingColorSpace(xr.copy(this),e),Math.round(Qn(xr.r*255,0,255))*65536+Math.round(Qn(xr.g*255,0,255))*256+Math.round(Qn(xr.b*255,0,255))}getHexString(e=Ro){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=nn.workingColorSpace){nn.fromWorkingColorSpace(xr.copy(this),t);const n=xr.r,r=xr.g,s=xr.b,o=Math.max(n,r,s),a=Math.min(n,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=u<=.5?h/(o+a):h/(2-o-a),o){case n:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-n)/h+2;break;case s:l=(n-r)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=nn.workingColorSpace){return nn.fromWorkingColorSpace(xr.copy(this),t),e.r=xr.r,e.g=xr.g,e.b=xr.b,e}getStyle(e=Ro){nn.fromWorkingColorSpace(xr.copy(this),e);const t=xr.r,n=xr.g,r=xr.b;return e!==Ro?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(e,t,n){return this.getHSL(du),this.setHSL(du.h+e,du.s+t,du.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(du),e.getHSL(ZA);const n=xv(du.h,ZA.h,t),r=xv(du.s,ZA.s,t),s=xv(du.l,ZA.l,t);return this.setHSL(n,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*n+s[6]*r,this.g=s[1]*t+s[4]*n+s[7]*r,this.b=s[2]*t+s[5]*n+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const xr=new Ge;Ge.NAMES=UV;let kre=0;class _i extends wl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:kre++}),this.uuid=Qs(),this.name="",this.type="Material",this.blending=i0,this.side=_l,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=E5,this.blendDst=T5,this.blendEquation=Tu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ge(0,0,0),this.blendAlpha=0,this.depthFunc=$v,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=R9,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Sd,this.stencilZFail=Sd,this.stencilZPass=Sd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==i0&&(n.blending=this.blending),this.side!==_l&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==E5&&(n.blendSrc=this.blendSrc),this.blendDst!==T5&&(n.blendDst=this.blendDst),this.blendEquation!==Tu&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==$v&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==R9&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Sd&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Sd&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Sd&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(n.textures=s),o.length>0&&(n.images=o)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let s=0;s!==r;++s)n[s]=t[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}onBeforeRender(){console.warn("Material: onBeforeRender() has been removed.")}}class Js extends _i{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ge(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new to,this.combine=ix,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Sc=Nre();function Nre(){const i=new ArrayBuffer(4),e=new Float32Array(i),t=new Uint32Array(i),n=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(n[l]=0,n[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(n[l]=1024>>-c-14,n[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(n[l]=c+15<<10,n[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(n[l]=31744,n[l|256]=64512,r[l]=24,r[l|256]=24):(n[l]=31744,n[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function as(i){Math.abs(i)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),i=Qn(i,-65504,65504),Sc.floatView[0]=i;const e=Sc.uint32View[0],t=e>>23&511;return Sc.baseTable[t]+((e&8388607)>>Sc.shiftTable[t])}function k1(i){const e=i>>10;return Sc.uint32View[0]=Sc.mantissaTable[Sc.offsetTable[e]+(i&1023)]+Sc.exponentTable[e],Sc.floatView[0]}const Ure={toHalfFloat:as,fromHalfFloat:k1},pi=new V,QA=new we;class Zt{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=oy,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=ps,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Am("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)QA.fromBufferAttribute(this,t),QA.applyMatrix3(e),this.setXY(t,QA.x,QA.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)pi.fromBufferAttribute(this,t),pi.applyMatrix3(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)pi.fromBufferAttribute(this,t),pi.applyMatrix4(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)pi.fromBufferAttribute(this,t),pi.applyNormalMatrix(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)pi.fromBufferAttribute(this,t),pi.transformDirection(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=Jr(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Lt(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Jr(t,this.array)),t}setX(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Jr(t,this.array)),t}setY(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Jr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Jr(t,this.array)),t}setW(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Lt(t,this.array),n=Lt(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Lt(t,this.array),n=Lt(n,this.array),r=Lt(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,s){return e*=this.itemSize,this.normalized&&(t=Lt(t,this.array),n=Lt(n,this.array),r=Lt(r,this.array),s=Lt(s,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==oy&&(e.usage=this.usage),e}}class zre extends Zt{constructor(e,t,n){super(new Int8Array(e),t,n)}}class jre extends Zt{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class Hre extends Zt{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class Gre extends Zt{constructor(e,t,n){super(new Int16Array(e),t,n)}}class hI extends Zt{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class Vre extends Zt{constructor(e,t,n){super(new Int32Array(e),t,n)}}class dI extends Zt{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Wre extends Zt{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=k1(this.array[e*this.itemSize]);return this.normalized&&(t=Jr(t,this.array)),t}setX(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize]=as(t),this}getY(e){let t=k1(this.array[e*this.itemSize+1]);return this.normalized&&(t=Jr(t,this.array)),t}setY(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize+1]=as(t),this}getZ(e){let t=k1(this.array[e*this.itemSize+2]);return this.normalized&&(t=Jr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize+2]=as(t),this}getW(e){let t=k1(this.array[e*this.itemSize+3]);return this.normalized&&(t=Jr(t,this.array)),t}setW(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize+3]=as(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Lt(t,this.array),n=Lt(n,this.array)),this.array[e+0]=as(t),this.array[e+1]=as(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Lt(t,this.array),n=Lt(n,this.array),r=Lt(r,this.array)),this.array[e+0]=as(t),this.array[e+1]=as(n),this.array[e+2]=as(r),this}setXYZW(e,t,n,r,s){return e*=this.itemSize,this.normalized&&(t=Lt(t,this.array),n=Lt(n,this.array),r=Lt(r,this.array),s=Lt(s,this.array)),this.array[e+0]=as(t),this.array[e+1]=as(n),this.array[e+2]=as(r),this.array[e+3]=as(s),this}}class at extends Zt{constructor(e,t,n){super(new Float32Array(e),t,n)}}let Xre=0;const vo=new pt,l6=new zt,xp=new V,Ls=new hr,f1=new hr,Ni=new V;class Pt extends wl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Xre++}),this.uuid=Qs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(FV(e)?dI:hI)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new It().getNormalMatrix(e);n.applyNormalMatrix(s),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return vo.makeRotationFromQuaternion(e),this.applyMatrix4(vo),this}rotateX(e){return vo.makeRotationX(e),this.applyMatrix4(vo),this}rotateY(e){return vo.makeRotationY(e),this.applyMatrix4(vo),this}rotateZ(e){return vo.makeRotationZ(e),this.applyMatrix4(vo),this}translate(e,t,n){return vo.makeTranslation(e,t,n),this.applyMatrix4(vo),this}scale(e,t,n){return vo.makeScale(e,t,n),this.applyMatrix4(vo),this}lookAt(e){return l6.lookAt(e),l6.updateMatrix(),this.applyMatrix4(l6.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(xp).negate(),this.translate(xp.x,xp.y,xp.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const s=e[n];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new at(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new hr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new V(-1/0,-1/0,-1/0),new V(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const s=t[n];Ls.setFromBufferAttribute(s),this.morphTargetsRelative?(Ni.addVectors(this.boundingBox.min,Ls.min),this.boundingBox.expandByPoint(Ni),Ni.addVectors(this.boundingBox.max,Ls.max),this.boundingBox.expandByPoint(Ni)):(this.boundingBox.expandByPoint(Ls.min),this.boundingBox.expandByPoint(Ls.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ki);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new V,1/0);return}if(e){const n=this.boundingSphere.center;if(Ls.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];f1.setFromBufferAttribute(a),this.morphTargetsRelative?(Ni.addVectors(Ls.min,f1.min),Ls.expandByPoint(Ni),Ni.addVectors(Ls.max,f1.max),Ls.expandByPoint(Ni)):(Ls.expandByPoint(f1.min),Ls.expandByPoint(f1.max))}Ls.getCenter(n);let r=0;for(let s=0,o=e.count;s<o;s++)Ni.fromBufferAttribute(e,s),r=Math.max(r,n.distanceToSquared(Ni));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Ni.fromBufferAttribute(a,c),l&&(xp.fromBufferAttribute(e,c),Ni.add(xp)),r=Math.max(r,n.distanceToSquared(Ni))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Zt(new Float32Array(4*n.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let D=0;D<n.count;D++)a[D]=new V,l[D]=new V;const c=new V,u=new V,h=new V,d=new we,m=new we,g=new we,y=new V,_=new V;function v(D,I,L){c.fromBufferAttribute(n,D),u.fromBufferAttribute(n,I),h.fromBufferAttribute(n,L),d.fromBufferAttribute(s,D),m.fromBufferAttribute(s,I),g.fromBufferAttribute(s,L),u.sub(c),h.sub(c),m.sub(d),g.sub(d);const O=1/(m.x*g.y-g.x*m.y);isFinite(O)&&(y.copy(u).multiplyScalar(g.y).addScaledVector(h,-m.y).multiplyScalar(O),_.copy(h).multiplyScalar(m.x).addScaledVector(u,-g.x).multiplyScalar(O),a[D].add(y),a[I].add(y),a[L].add(y),l[D].add(_),l[I].add(_),l[L].add(_))}let A=this.groups;A.length===0&&(A=[{start:0,count:e.count}]);for(let D=0,I=A.length;D<I;++D){const L=A[D],O=L.start,X=L.count;for(let W=O,q=O+X;W<q;W+=3)v(e.getX(W+0),e.getX(W+1),e.getX(W+2))}const w=new V,C=new V,T=new V,E=new V;function R(D){T.fromBufferAttribute(r,D),E.copy(T);const I=a[D];w.copy(I),w.sub(T.multiplyScalar(T.dot(I))).normalize(),C.crossVectors(E,I);const O=C.dot(l[D])<0?-1:1;o.setXYZW(D,w.x,w.y,w.z,O)}for(let D=0,I=A.length;D<I;++D){const L=A[D],O=L.start,X=L.count;for(let W=O,q=O+X;W<q;W+=3)R(e.getX(W+0)),R(e.getX(W+1)),R(e.getX(W+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Zt(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let d=0,m=n.count;d<m;d++)n.setXYZ(d,0,0,0);const r=new V,s=new V,o=new V,a=new V,l=new V,c=new V,u=new V,h=new V;if(e)for(let d=0,m=e.count;d<m;d+=3){const g=e.getX(d+0),y=e.getX(d+1),_=e.getX(d+2);r.fromBufferAttribute(t,g),s.fromBufferAttribute(t,y),o.fromBufferAttribute(t,_),u.subVectors(o,s),h.subVectors(r,s),u.cross(h),a.fromBufferAttribute(n,g),l.fromBufferAttribute(n,y),c.fromBufferAttribute(n,_),a.add(u),l.add(u),c.add(u),n.setXYZ(g,a.x,a.y,a.z),n.setXYZ(y,l.x,l.y,l.z),n.setXYZ(_,c.x,c.y,c.z)}else for(let d=0,m=t.count;d<m;d+=3)r.fromBufferAttribute(t,d+0),s.fromBufferAttribute(t,d+1),o.fromBufferAttribute(t,d+2),u.subVectors(o,s),h.subVectors(r,s),u.cross(h),n.setXYZ(d+0,u.x,u.y,u.z),n.setXYZ(d+1,u.x,u.y,u.z),n.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Ni.fromBufferAttribute(e,t),Ni.normalize(),e.setXYZ(t,Ni.x,Ni.y,Ni.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,h=a.normalized,d=new c.constructor(l.length*u);let m=0,g=0;for(let y=0,_=l.length;y<_;y++){a.isInterleavedBufferAttribute?m=l[y]*a.data.stride+a.offset:m=l[y]*u;for(let v=0;v<u;v++)d[g++]=c[m++]}return new Zt(d,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Pt,n=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,n);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,h=c.length;u<h;u++){const d=c[u],m=e(d,n);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const l in n){const c=n[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,d=c.length;h<d;h++){const m=c[h];u.push(m.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],h=s[c];for(let d=0,m=h.length;d<m;d++)u.push(h[d].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const LO=new pt,id=new N0,$A=new Ki,DO=new V,Ap=new V,wp=new V,Sp=new V,c6=new V,ew=new V,tw=new we,nw=new we,iw=new we,BO=new V,FO=new V,OO=new V,rw=new V,sw=new V;class ci extends zt{constructor(e=new Pt,t=new Js){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,s=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){ew.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],h=s[l];u!==0&&(c6.fromBufferAttribute(h,e),o?ew.addScaledVector(c6,u):ew.addScaledVector(c6.sub(t),u))}t.add(ew)}return t}raycast(e,t){const n=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),$A.copy(n.boundingSphere),$A.applyMatrix4(s),id.copy(e.ray).recast(e.near),!($A.containsPoint(id.origin)===!1&&(id.intersectSphere($A,DO)===null||id.origin.distanceToSquared(DO)>(e.far-e.near)**2))&&(LO.copy(s).invert(),id.copy(e.ray).applyMatrix4(LO),!(n.boundingBox!==null&&id.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,id)))}_computeIntersections(e,t,n){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,h=s.attributes.normal,d=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let g=0,y=d.length;g<y;g++){const _=d[g],v=o[_.materialIndex],A=Math.max(_.start,m.start),w=Math.min(a.count,Math.min(_.start+_.count,m.start+m.count));for(let C=A,T=w;C<T;C+=3){const E=a.getX(C),R=a.getX(C+1),D=a.getX(C+2);r=ow(this,v,e,n,c,u,h,E,R,D),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{const g=Math.max(0,m.start),y=Math.min(a.count,m.start+m.count);for(let _=g,v=y;_<v;_+=3){const A=a.getX(_),w=a.getX(_+1),C=a.getX(_+2);r=ow(this,o,e,n,c,u,h,A,w,C),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let g=0,y=d.length;g<y;g++){const _=d[g],v=o[_.materialIndex],A=Math.max(_.start,m.start),w=Math.min(l.count,Math.min(_.start+_.count,m.start+m.count));for(let C=A,T=w;C<T;C+=3){const E=C,R=C+1,D=C+2;r=ow(this,v,e,n,c,u,h,E,R,D),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{const g=Math.max(0,m.start),y=Math.min(l.count,m.start+m.count);for(let _=g,v=y;_<v;_+=3){const A=_,w=_+1,C=_+2;r=ow(this,o,e,n,c,u,h,A,w,C),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}}}function Kre(i,e,t,n,r,s,o,a){let l;if(e.side===Qr?l=n.intersectTriangle(o,s,r,!0,a):l=n.intersectTriangle(r,s,o,e.side===_l,a),l===null)return null;sw.copy(a),sw.applyMatrix4(i.matrixWorld);const c=t.ray.origin.distanceTo(sw);return c<t.near||c>t.far?null:{distance:c,point:sw.clone(),object:i}}function ow(i,e,t,n,r,s,o,a,l,c){i.getVertexPosition(a,Ap),i.getVertexPosition(l,wp),i.getVertexPosition(c,Sp);const u=Kre(i,e,t,n,Ap,wp,Sp,rw);if(u){r&&(tw.fromBufferAttribute(r,a),nw.fromBufferAttribute(r,l),iw.fromBufferAttribute(r,c),u.uv=Ws.getInterpolation(rw,Ap,wp,Sp,tw,nw,iw,new we)),s&&(tw.fromBufferAttribute(s,a),nw.fromBufferAttribute(s,l),iw.fromBufferAttribute(s,c),u.uv1=Ws.getInterpolation(rw,Ap,wp,Sp,tw,nw,iw,new we)),o&&(BO.fromBufferAttribute(o,a),FO.fromBufferAttribute(o,l),OO.fromBufferAttribute(o,c),u.normal=Ws.getInterpolation(rw,Ap,wp,Sp,BO,FO,OO,new V),u.normal.dot(n.direction)>0&&u.normal.multiplyScalar(-1));const h={a,b:l,c,normal:new V,materialIndex:0};Ws.getNormal(Ap,wp,Sp,h.normal),u.face=h}return u}class U0 extends Pt{constructor(e=1,t=1,n=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],h=[];let d=0,m=0;g("z","y","x",-1,-1,n,t,e,o,s,0),g("z","y","x",1,-1,n,t,-e,o,s,1),g("x","z","y",1,1,e,n,t,r,o,2),g("x","z","y",1,-1,e,n,-t,r,o,3),g("x","y","z",1,-1,e,t,n,r,s,4),g("x","y","z",-1,-1,e,t,-n,r,s,5),this.setIndex(l),this.setAttribute("position",new at(c,3)),this.setAttribute("normal",new at(u,3)),this.setAttribute("uv",new at(h,2));function g(y,_,v,A,w,C,T,E,R,D,I){const L=C/R,O=T/D,X=C/2,W=T/2,q=E/2,$=R+1,Q=D+1;let ee=0,k=0;const Z=new V;for(let K=0;K<Q;K++){const ne=K*O-W;for(let le=0;le<$;le++){const ye=le*L-X;Z[y]=ye*A,Z[_]=ne*w,Z[v]=q,c.push(Z.x,Z.y,Z.z),Z[y]=0,Z[_]=0,Z[v]=E>0?1:-1,u.push(Z.x,Z.y,Z.z),h.push(le/R),h.push(1-K/D),ee+=1}}for(let K=0;K<D;K++)for(let ne=0;ne<R;ne++){const le=d+ne+$*K,ye=d+ne+$*(K+1),re=d+(ne+1)+$*(K+1),pe=d+(ne+1)+$*K;l.push(le,ye,pe),l.push(ye,re,pe),k+=6}a.addGroup(m,k,I),m+=k,d+=ee}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new U0(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function cg(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const r=i[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function Vr(i){const e={};for(let t=0;t<i.length;t++){const n=cg(i[t]);for(const r in n)e[r]=n[r]}return e}function Yre(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function zV(i){const e=i.getRenderTarget();return e===null?i.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:nn.workingColorSpace}const jV={clone:cg,merge:Vr};var Jre=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,qre=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ea extends _i{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Jre,this.fragmentShader=qre,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=cg(e.uniforms),this.uniformsGroups=Yre(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class ox extends zt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new pt,this.projectionMatrix=new pt,this.projectionMatrixInverse=new pt,this.coordinateSystem=cl}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const fu=new V,kO=new we,NO=new we;class Pn extends ox{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=lg*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(s0*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return lg*2*Math.atan(Math.tan(s0*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){fu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(fu.x,fu.y).multiplyScalar(-e/fu.z),fu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(fu.x,fu.y).multiplyScalar(-e/fu.z)}getViewSize(e,t){return this.getViewBounds(e,kO,NO),t.subVectors(NO,kO)}setViewOffset(e,t,n,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(s0*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*n/c,r*=o.width/l,n*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const bp=-90,Cp=1;class HV extends zt{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Pn(bp,Cp,e,t);r.layers=this.layers,this.add(r);const s=new Pn(bp,Cp,e,t);s.layers=this.layers,this.add(s);const o=new Pn(bp,Cp,e,t);o.layers=this.layers,this.add(o);const a=new Pn(bp,Cp,e,t);a.layers=this.layers,this.add(a);const l=new Pn(bp,Cp,e,t);l.layers=this.layers,this.add(l);const c=new Pn(bp,Cp,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===cl)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===ay)n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,h=e.getRenderTarget(),d=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const y=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,s),e.setRenderTarget(n,1,r),e.render(t,o),e.setRenderTarget(n,2,r),e.render(t,a),e.setRenderTarget(n,3,r),e.render(t,l),e.setRenderTarget(n,4,r),e.render(t,c),n.texture.generateMipmaps=y,e.setRenderTarget(n,5,r),e.render(t,u),e.setRenderTarget(h,d,m),e.xr.enabled=g,n.texture.needsPMREMUpdate=!0}}class ax extends Ln{constructor(e,t,n,r,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Vc,super(e,t,n,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class GV extends Ma{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new ax(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:$n}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new U0(5,5,5),s=new Ea({name:"CubemapFromEquirect",uniforms:cg(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Qr,blending:Pc});s.uniforms.tEquirect.value=t;const o=new ci(r,s),a=t.minFilter;return t.minFilter===Fo&&(t.minFilter=$n),new HV(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,r);e.setRenderTarget(s)}}const u6=new V,Zre=new V,Qre=new It;class Xl{constructor(e=new V(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=u6.subVectors(n,t).cross(Zre.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(u6),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(n,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Qre.getNormalMatrix(e),r=this.coplanarPoint(u6).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const rd=new Ki,aw=new V;class lx{constructor(e=new Xl,t=new Xl,n=new Xl,r=new Xl,s=new Xl,o=new Xl){this.planes=[e,t,n,r,s,o]}set(e,t,n,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=cl){const n=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],u=r[5],h=r[6],d=r[7],m=r[8],g=r[9],y=r[10],_=r[11],v=r[12],A=r[13],w=r[14],C=r[15];if(n[0].setComponents(l-s,d-c,_-m,C-v).normalize(),n[1].setComponents(l+s,d+c,_+m,C+v).normalize(),n[2].setComponents(l+o,d+u,_+g,C+A).normalize(),n[3].setComponents(l-o,d-u,_-g,C-A).normalize(),n[4].setComponents(l-a,d-h,_-y,C-w).normalize(),t===cl)n[5].setComponents(l+a,d+h,_+y,C+w).normalize();else if(t===ay)n[5].setComponents(a,h,y,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),rd.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),rd.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(rd)}intersectsSprite(e){return rd.center.set(0,0,0),rd.radius=.7071067811865476,rd.applyMatrix4(e.matrixWorld),this.intersectsSphere(rd)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(aw.x=r.normal.x>0?e.max.x:e.min.x,aw.y=r.normal.y>0?e.max.y:e.min.y,aw.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(aw)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function VV(){let i=null,e=!1,t=null,n=null;function r(s,o){t(s,o),n=i.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(n=i.requestAnimationFrame(r),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){i=s}}}function $re(i){const e=new WeakMap;function t(a,l){const c=a.array,u=a.usage,h=c.byteLength,d=i.createBuffer();i.bindBuffer(l,d),i.bufferData(l,c,u),a.onUploadCallback();let m;if(c instanceof Float32Array)m=i.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?m=i.HALF_FLOAT:m=i.UNSIGNED_SHORT;else if(c instanceof Int16Array)m=i.SHORT;else if(c instanceof Uint32Array)m=i.UNSIGNED_INT;else if(c instanceof Int32Array)m=i.INT;else if(c instanceof Int8Array)m=i.BYTE;else if(c instanceof Uint8Array)m=i.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)m=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:d,type:m,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:h}}function n(a,l,c){const u=l.array,h=l._updateRange,d=l.updateRanges;if(i.bindBuffer(c,a),h.count===-1&&d.length===0&&i.bufferSubData(c,0,u),d.length!==0){for(let m=0,g=d.length;m<g;m++){const y=d[m];i.bufferSubData(c,y.start*u.BYTES_PER_ELEMENT,u,y.start,y.count)}l.clearUpdateRanges()}h.count!==-1&&(i.bufferSubData(c,h.offset*u.BYTES_PER_ELEMENT,u,h.offset,h.count),h.count=-1),l.onUploadCallback()}function r(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(i.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const u=e.get(a);(!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,t(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(c.buffer,a,l),c.version=a.version}}return{get:r,remove:s,update:o}}class Mg extends Pt{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(n),l=Math.floor(r),c=a+1,u=l+1,h=e/a,d=t/l,m=[],g=[],y=[],_=[];for(let v=0;v<u;v++){const A=v*d-o;for(let w=0;w<c;w++){const C=w*h-s;g.push(C,-A,0),y.push(0,0,1),_.push(w/a),_.push(1-v/l)}}for(let v=0;v<l;v++)for(let A=0;A<a;A++){const w=A+c*v,C=A+c*(v+1),T=A+1+c*(v+1),E=A+1+c*v;m.push(w,C,E),m.push(C,T,E)}this.setIndex(m),this.setAttribute("position",new at(g,3)),this.setAttribute("normal",new at(y,3)),this.setAttribute("uv",new at(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mg(e.width,e.height,e.widthSegments,e.heightSegments)}}var ese=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,tse=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,nse=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,ise=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,rse=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,sse=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,ose=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,ase=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,lse=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,cse=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,use=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,hse=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,dse=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,fse=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,pse=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,mse=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,gse=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,vse=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,yse=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,_se=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,xse=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Ase=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,wse=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Sse=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,bse=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Cse=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Mse=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Ese=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Tse=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Rse=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Pse="gl_FragColor = linearToOutputTexel( gl_FragColor );",Ise=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Lse=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Dse=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Bse=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Fse=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Ose=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,kse=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Nse=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Use=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,zse=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,jse=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Hse=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Gse=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Vse=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Wse=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Xse=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Kse=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Yse=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Jse=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,qse=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Zse=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Qse=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,$se=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,eoe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,toe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,noe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,ioe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,roe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,soe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,ooe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,aoe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,loe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,coe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,uoe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,hoe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,doe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,foe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,poe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,moe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,goe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,voe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,yoe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,_oe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,xoe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Aoe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,woe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Soe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,boe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Coe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Moe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Eoe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Toe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Roe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Poe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Ioe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Loe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Doe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Boe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Foe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Ooe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,koe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Noe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Uoe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,zoe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,joe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Hoe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Goe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Voe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Woe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Xoe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Koe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Yoe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Joe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,qoe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Zoe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Qoe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const $oe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,eae=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,tae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,nae=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,iae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,rae=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sae=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,oae=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,aae=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,lae=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,cae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,uae=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hae=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,dae=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,fae=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,pae=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mae=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gae=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vae=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,yae=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_ae=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,xae=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Aae=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wae=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Sae=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,bae=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Cae=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Mae=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Eae=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Tae=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Rae=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Pae=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Iae=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Lae=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Dt={alphahash_fragment:ese,alphahash_pars_fragment:tse,alphamap_fragment:nse,alphamap_pars_fragment:ise,alphatest_fragment:rse,alphatest_pars_fragment:sse,aomap_fragment:ose,aomap_pars_fragment:ase,batching_pars_vertex:lse,batching_vertex:cse,begin_vertex:use,beginnormal_vertex:hse,bsdfs:dse,iridescence_fragment:fse,bumpmap_pars_fragment:pse,clipping_planes_fragment:mse,clipping_planes_pars_fragment:gse,clipping_planes_pars_vertex:vse,clipping_planes_vertex:yse,color_fragment:_se,color_pars_fragment:xse,color_pars_vertex:Ase,color_vertex:wse,common:Sse,cube_uv_reflection_fragment:bse,defaultnormal_vertex:Cse,displacementmap_pars_vertex:Mse,displacementmap_vertex:Ese,emissivemap_fragment:Tse,emissivemap_pars_fragment:Rse,colorspace_fragment:Pse,colorspace_pars_fragment:Ise,envmap_fragment:Lse,envmap_common_pars_fragment:Dse,envmap_pars_fragment:Bse,envmap_pars_vertex:Fse,envmap_physical_pars_fragment:Xse,envmap_vertex:Ose,fog_vertex:kse,fog_pars_vertex:Nse,fog_fragment:Use,fog_pars_fragment:zse,gradientmap_pars_fragment:jse,lightmap_pars_fragment:Hse,lights_lambert_fragment:Gse,lights_lambert_pars_fragment:Vse,lights_pars_begin:Wse,lights_toon_fragment:Kse,lights_toon_pars_fragment:Yse,lights_phong_fragment:Jse,lights_phong_pars_fragment:qse,lights_physical_fragment:Zse,lights_physical_pars_fragment:Qse,lights_fragment_begin:$se,lights_fragment_maps:eoe,lights_fragment_end:toe,logdepthbuf_fragment:noe,logdepthbuf_pars_fragment:ioe,logdepthbuf_pars_vertex:roe,logdepthbuf_vertex:soe,map_fragment:ooe,map_pars_fragment:aoe,map_particle_fragment:loe,map_particle_pars_fragment:coe,metalnessmap_fragment:uoe,metalnessmap_pars_fragment:hoe,morphinstance_vertex:doe,morphcolor_vertex:foe,morphnormal_vertex:poe,morphtarget_pars_vertex:moe,morphtarget_vertex:goe,normal_fragment_begin:voe,normal_fragment_maps:yoe,normal_pars_fragment:_oe,normal_pars_vertex:xoe,normal_vertex:Aoe,normalmap_pars_fragment:woe,clearcoat_normal_fragment_begin:Soe,clearcoat_normal_fragment_maps:boe,clearcoat_pars_fragment:Coe,iridescence_pars_fragment:Moe,opaque_fragment:Eoe,packing:Toe,premultiplied_alpha_fragment:Roe,project_vertex:Poe,dithering_fragment:Ioe,dithering_pars_fragment:Loe,roughnessmap_fragment:Doe,roughnessmap_pars_fragment:Boe,shadowmap_pars_fragment:Foe,shadowmap_pars_vertex:Ooe,shadowmap_vertex:koe,shadowmask_pars_fragment:Noe,skinbase_vertex:Uoe,skinning_pars_vertex:zoe,skinning_vertex:joe,skinnormal_vertex:Hoe,specularmap_fragment:Goe,specularmap_pars_fragment:Voe,tonemapping_fragment:Woe,tonemapping_pars_fragment:Xoe,transmission_fragment:Koe,transmission_pars_fragment:Yoe,uv_pars_fragment:Joe,uv_pars_vertex:qoe,uv_vertex:Zoe,worldpos_vertex:Qoe,background_vert:$oe,background_frag:eae,backgroundCube_vert:tae,backgroundCube_frag:nae,cube_vert:iae,cube_frag:rae,depth_vert:sae,depth_frag:oae,distanceRGBA_vert:aae,distanceRGBA_frag:lae,equirect_vert:cae,equirect_frag:uae,linedashed_vert:hae,linedashed_frag:dae,meshbasic_vert:fae,meshbasic_frag:pae,meshlambert_vert:mae,meshlambert_frag:gae,meshmatcap_vert:vae,meshmatcap_frag:yae,meshnormal_vert:_ae,meshnormal_frag:xae,meshphong_vert:Aae,meshphong_frag:wae,meshphysical_vert:Sae,meshphysical_frag:bae,meshtoon_vert:Cae,meshtoon_frag:Mae,points_vert:Eae,points_frag:Tae,shadow_vert:Rae,shadow_frag:Pae,sprite_vert:Iae,sprite_frag:Lae},Ve={common:{diffuse:{value:new Ge(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new It},alphaMap:{value:null},alphaMapTransform:{value:new It},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new It}},envmap:{envMap:{value:null},envMapRotation:{value:new It},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new It}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new It}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new It},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new It},normalScale:{value:new we(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new It},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new It}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new It}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new It}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ge(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ge(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new It},alphaTest:{value:0},uvTransform:{value:new It}},sprite:{diffuse:{value:new Ge(16777215)},opacity:{value:1},center:{value:new we(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new It},alphaMap:{value:null},alphaMapTransform:{value:new It},alphaTest:{value:0}}},_a={basic:{uniforms:Vr([Ve.common,Ve.specularmap,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.fog]),vertexShader:Dt.meshbasic_vert,fragmentShader:Dt.meshbasic_frag},lambert:{uniforms:Vr([Ve.common,Ve.specularmap,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.fog,Ve.lights,{emissive:{value:new Ge(0)}}]),vertexShader:Dt.meshlambert_vert,fragmentShader:Dt.meshlambert_frag},phong:{uniforms:Vr([Ve.common,Ve.specularmap,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.fog,Ve.lights,{emissive:{value:new Ge(0)},specular:{value:new Ge(1118481)},shininess:{value:30}}]),vertexShader:Dt.meshphong_vert,fragmentShader:Dt.meshphong_frag},standard:{uniforms:Vr([Ve.common,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.roughnessmap,Ve.metalnessmap,Ve.fog,Ve.lights,{emissive:{value:new Ge(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Dt.meshphysical_vert,fragmentShader:Dt.meshphysical_frag},toon:{uniforms:Vr([Ve.common,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.gradientmap,Ve.fog,Ve.lights,{emissive:{value:new Ge(0)}}]),vertexShader:Dt.meshtoon_vert,fragmentShader:Dt.meshtoon_frag},matcap:{uniforms:Vr([Ve.common,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.fog,{matcap:{value:null}}]),vertexShader:Dt.meshmatcap_vert,fragmentShader:Dt.meshmatcap_frag},points:{uniforms:Vr([Ve.points,Ve.fog]),vertexShader:Dt.points_vert,fragmentShader:Dt.points_frag},dashed:{uniforms:Vr([Ve.common,Ve.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Dt.linedashed_vert,fragmentShader:Dt.linedashed_frag},depth:{uniforms:Vr([Ve.common,Ve.displacementmap]),vertexShader:Dt.depth_vert,fragmentShader:Dt.depth_frag},normal:{uniforms:Vr([Ve.common,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,{opacity:{value:1}}]),vertexShader:Dt.meshnormal_vert,fragmentShader:Dt.meshnormal_frag},sprite:{uniforms:Vr([Ve.sprite,Ve.fog]),vertexShader:Dt.sprite_vert,fragmentShader:Dt.sprite_frag},background:{uniforms:{uvTransform:{value:new It},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Dt.background_vert,fragmentShader:Dt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new It}},vertexShader:Dt.backgroundCube_vert,fragmentShader:Dt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Dt.cube_vert,fragmentShader:Dt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Dt.equirect_vert,fragmentShader:Dt.equirect_frag},distanceRGBA:{uniforms:Vr([Ve.common,Ve.displacementmap,{referencePosition:{value:new V},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Dt.distanceRGBA_vert,fragmentShader:Dt.distanceRGBA_frag},shadow:{uniforms:Vr([Ve.lights,Ve.fog,{color:{value:new Ge(0)},opacity:{value:1}}]),vertexShader:Dt.shadow_vert,fragmentShader:Dt.shadow_frag}};_a.physical={uniforms:Vr([_a.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new It},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new It},clearcoatNormalScale:{value:new we(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new It},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new It},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new It},sheen:{value:0},sheenColor:{value:new Ge(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new It},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new It},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new It},transmissionSamplerSize:{value:new we},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new It},attenuationDistance:{value:0},attenuationColor:{value:new Ge(0)},specularColor:{value:new Ge(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new It},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new It},anisotropyVector:{value:new we},anisotropyMap:{value:null},anisotropyMapTransform:{value:new It}}]),vertexShader:Dt.meshphysical_vert,fragmentShader:Dt.meshphysical_frag};const lw={r:0,b:0,g:0},sd=new to,Dae=new pt;function Bae(i,e,t,n,r,s,o){const a=new Ge(0);let l=s===!0?0:1,c,u,h=null,d=0,m=null;function g(A){let w=A.isScene===!0?A.background:null;return w&&w.isTexture&&(w=(A.backgroundBlurriness>0?t:e).get(w)),w}function y(A){let w=!1;const C=g(A);C===null?v(a,l):C&&C.isColor&&(v(C,1),w=!0);const T=i.xr.getEnvironmentBlendMode();T==="additive"?n.buffers.color.setClear(0,0,0,1,o):T==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,o),(i.autoClear||w)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function _(A,w){const C=g(w);C&&(C.isCubeTexture||C.mapping===bg)?(u===void 0&&(u=new ci(new U0(1,1,1),new Ea({name:"BackgroundCubeMaterial",uniforms:cg(_a.backgroundCube.uniforms),vertexShader:_a.backgroundCube.vertexShader,fragmentShader:_a.backgroundCube.fragmentShader,side:Qr,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(T,E,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),sd.copy(w.backgroundRotation),sd.x*=-1,sd.y*=-1,sd.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(sd.y*=-1,sd.z*=-1),u.material.uniforms.envMap.value=C,u.material.uniforms.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(Dae.makeRotationFromEuler(sd)),u.material.toneMapped=nn.getTransfer(C.colorSpace)!==wn,(h!==C||d!==C.version||m!==i.toneMapping)&&(u.material.needsUpdate=!0,h=C,d=C.version,m=i.toneMapping),u.layers.enableAll(),A.unshift(u,u.geometry,u.material,0,0,null)):C&&C.isTexture&&(c===void 0&&(c=new ci(new Mg(2,2),new Ea({name:"BackgroundMaterial",uniforms:cg(_a.background.uniforms),vertexShader:_a.background.vertexShader,fragmentShader:_a.background.fragmentShader,side:_l,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=C,c.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,c.material.toneMapped=nn.getTransfer(C.colorSpace)!==wn,C.matrixAutoUpdate===!0&&C.updateMatrix(),c.material.uniforms.uvTransform.value.copy(C.matrix),(h!==C||d!==C.version||m!==i.toneMapping)&&(c.material.needsUpdate=!0,h=C,d=C.version,m=i.toneMapping),c.layers.enableAll(),A.unshift(c,c.geometry,c.material,0,0,null))}function v(A,w){A.getRGB(lw,zV(i)),n.buffers.color.setClear(lw.r,lw.g,lw.b,w,o)}return{getClearColor:function(){return a},setClearColor:function(A,w=1){a.set(A),l=w,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(A){l=A,v(a,l)},render:y,addToRenderList:_}}function Fae(i,e){const t=i.getParameter(i.MAX_VERTEX_ATTRIBS),n={},r=d(null);let s=r,o=!1;function a(L,O,X,W,q){let $=!1;const Q=h(W,X,O);s!==Q&&(s=Q,c(s.object)),$=m(L,W,X,q),$&&g(L,W,X,q),q!==null&&e.update(q,i.ELEMENT_ARRAY_BUFFER),($||o)&&(o=!1,C(L,O,X,W),q!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.get(q).buffer))}function l(){return i.createVertexArray()}function c(L){return i.bindVertexArray(L)}function u(L){return i.deleteVertexArray(L)}function h(L,O,X){const W=X.wireframe===!0;let q=n[L.id];q===void 0&&(q={},n[L.id]=q);let $=q[O.id];$===void 0&&($={},q[O.id]=$);let Q=$[W];return Q===void 0&&(Q=d(l()),$[W]=Q),Q}function d(L){const O=[],X=[],W=[];for(let q=0;q<t;q++)O[q]=0,X[q]=0,W[q]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:O,enabledAttributes:X,attributeDivisors:W,object:L,attributes:{},index:null}}function m(L,O,X,W){const q=s.attributes,$=O.attributes;let Q=0;const ee=X.getAttributes();for(const k in ee)if(ee[k].location>=0){const K=q[k];let ne=$[k];if(ne===void 0&&(k==="instanceMatrix"&&L.instanceMatrix&&(ne=L.instanceMatrix),k==="instanceColor"&&L.instanceColor&&(ne=L.instanceColor)),K===void 0||K.attribute!==ne||ne&&K.data!==ne.data)return!0;Q++}return s.attributesNum!==Q||s.index!==W}function g(L,O,X,W){const q={},$=O.attributes;let Q=0;const ee=X.getAttributes();for(const k in ee)if(ee[k].location>=0){let K=$[k];K===void 0&&(k==="instanceMatrix"&&L.instanceMatrix&&(K=L.instanceMatrix),k==="instanceColor"&&L.instanceColor&&(K=L.instanceColor));const ne={};ne.attribute=K,K&&K.data&&(ne.data=K.data),q[k]=ne,Q++}s.attributes=q,s.attributesNum=Q,s.index=W}function y(){const L=s.newAttributes;for(let O=0,X=L.length;O<X;O++)L[O]=0}function _(L){v(L,0)}function v(L,O){const X=s.newAttributes,W=s.enabledAttributes,q=s.attributeDivisors;X[L]=1,W[L]===0&&(i.enableVertexAttribArray(L),W[L]=1),q[L]!==O&&(i.vertexAttribDivisor(L,O),q[L]=O)}function A(){const L=s.newAttributes,O=s.enabledAttributes;for(let X=0,W=O.length;X<W;X++)O[X]!==L[X]&&(i.disableVertexAttribArray(X),O[X]=0)}function w(L,O,X,W,q,$,Q){Q===!0?i.vertexAttribIPointer(L,O,X,q,$):i.vertexAttribPointer(L,O,X,W,q,$)}function C(L,O,X,W){y();const q=W.attributes,$=X.getAttributes(),Q=O.defaultAttributeValues;for(const ee in $){const k=$[ee];if(k.location>=0){let Z=q[ee];if(Z===void 0&&(ee==="instanceMatrix"&&L.instanceMatrix&&(Z=L.instanceMatrix),ee==="instanceColor"&&L.instanceColor&&(Z=L.instanceColor)),Z!==void 0){const K=Z.normalized,ne=Z.itemSize,le=e.get(Z);if(le===void 0)continue;const ye=le.buffer,re=le.type,pe=le.bytesPerElement,Me=re===i.INT||re===i.UNSIGNED_INT||Z.gpuType===VC;if(Z.isInterleavedBufferAttribute){const xe=Z.data,We=xe.stride,rt=Z.offset;if(xe.isInstancedInterleavedBuffer){for(let Be=0;Be<k.locationSize;Be++)v(k.location+Be,xe.meshPerAttribute);L.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let Be=0;Be<k.locationSize;Be++)_(k.location+Be);i.bindBuffer(i.ARRAY_BUFFER,ye);for(let Be=0;Be<k.locationSize;Be++)w(k.location+Be,ne/k.locationSize,re,K,We*pe,(rt+ne/k.locationSize*Be)*pe,Me)}else{if(Z.isInstancedBufferAttribute){for(let xe=0;xe<k.locationSize;xe++)v(k.location+xe,Z.meshPerAttribute);L.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=Z.meshPerAttribute*Z.count)}else for(let xe=0;xe<k.locationSize;xe++)_(k.location+xe);i.bindBuffer(i.ARRAY_BUFFER,ye);for(let xe=0;xe<k.locationSize;xe++)w(k.location+xe,ne/k.locationSize,re,K,ne*pe,ne/k.locationSize*xe*pe,Me)}}else if(Q!==void 0){const K=Q[ee];if(K!==void 0)switch(K.length){case 2:i.vertexAttrib2fv(k.location,K);break;case 3:i.vertexAttrib3fv(k.location,K);break;case 4:i.vertexAttrib4fv(k.location,K);break;default:i.vertexAttrib1fv(k.location,K)}}}}A()}function T(){D();for(const L in n){const O=n[L];for(const X in O){const W=O[X];for(const q in W)u(W[q].object),delete W[q];delete O[X]}delete n[L]}}function E(L){if(n[L.id]===void 0)return;const O=n[L.id];for(const X in O){const W=O[X];for(const q in W)u(W[q].object),delete W[q];delete O[X]}delete n[L.id]}function R(L){for(const O in n){const X=n[O];if(X[L.id]===void 0)continue;const W=X[L.id];for(const q in W)u(W[q].object),delete W[q];delete X[L.id]}}function D(){I(),o=!0,s!==r&&(s=r,c(s.object))}function I(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:a,reset:D,resetDefaultState:I,dispose:T,releaseStatesOfGeometry:E,releaseStatesOfProgram:R,initAttributes:y,enableAttribute:_,disableUnusedAttributes:A}}function Oae(i,e,t){let n;function r(c){n=c}function s(c,u){i.drawArrays(n,c,u),t.update(u,n,1)}function o(c,u,h){h!==0&&(i.drawArraysInstanced(n,c,u,h),t.update(u,n,h))}function a(c,u,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,c,0,u,0,h);let m=0;for(let g=0;g<h;g++)m+=u[g];t.update(m,n,1)}function l(c,u,h,d){if(h===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let g=0;g<c.length;g++)o(c[g],u[g],d[g]);else{m.multiDrawArraysInstancedWEBGL(n,c,0,u,0,d,0,h);let g=0;for(let y=0;y<h;y++)g+=u[y];for(let y=0;y<d.length;y++)t.update(g,n,d[y])}}this.setMode=r,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function kae(i,e,t,n){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const E=e.get("EXT_texture_filter_anisotropic");r=i.getParameter(E.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(E){return!(E!==Pr&&n.convert(E)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(E){const R=E===Cg&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(E!==Ca&&n.convert(E)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&E!==ps&&!R)}function l(E){if(E==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";E="mediump"}return E==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const h=t.logarithmicDepthBuffer===!0,d=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),m=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=i.getParameter(i.MAX_TEXTURE_SIZE),y=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),_=i.getParameter(i.MAX_VERTEX_ATTRIBS),v=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),A=i.getParameter(i.MAX_VARYING_VECTORS),w=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),C=m>0,T=i.getParameter(i.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:h,maxTextures:d,maxVertexTextures:m,maxTextureSize:g,maxCubemapSize:y,maxAttributes:_,maxVertexUniforms:v,maxVaryings:A,maxFragmentUniforms:w,vertexTextures:C,maxSamples:T}}function Nae(i){const e=this;let t=null,n=0,r=!1,s=!1;const o=new Xl,a=new It,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,d){const m=h.length!==0||d||n!==0||r;return r=d,n=h.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,d){t=u(h,d,0)},this.setState=function(h,d,m){const g=h.clippingPlanes,y=h.clipIntersection,_=h.clipShadows,v=i.get(h);if(!r||g===null||g.length===0||s&&!_)s?u(null):c();else{const A=s?0:n,w=A*4;let C=v.clippingState||null;l.value=C,C=u(g,d,w,m);for(let T=0;T!==w;++T)C[T]=t[T];v.clippingState=C,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=A}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function u(h,d,m,g){const y=h!==null?h.length:0;let _=null;if(y!==0){if(_=l.value,g!==!0||_===null){const v=m+y*4,A=d.matrixWorldInverse;a.getNormalMatrix(A),(_===null||_.length<v)&&(_=new Float32Array(v));for(let w=0,C=m;w!==y;++w,C+=4)o.copy(h[w]).applyMatrix4(A,a),o.normal.toArray(_,C),_[C+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,_}}function Uae(i){let e=new WeakMap;function t(o,a){return a===ey?o.mapping=Vc:a===ty&&(o.mapping=Eh),o}function n(o){if(o&&o.isTexture){const a=o.mapping;if(a===ey||a===ty)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new GV(l.height);return c.fromEquirectangularTexture(i,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:n,dispose:s}}class Oo extends ox{constructor(e=-1,t=1,n=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=n-e,o=n+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const nm=4,UO=[.125,.215,.35,.446,.526,.582],Ld=20,h6=new Oo,zO=new Ge;let d6=null,f6=0,p6=0,m6=!1;const bd=(1+Math.sqrt(5))/2,Mp=1/bd,jO=[new V(-bd,Mp,0),new V(bd,Mp,0),new V(-Mp,0,bd),new V(Mp,0,bd),new V(0,bd,-Mp),new V(0,bd,Mp),new V(-1,1,-1),new V(1,1,-1),new V(-1,1,1),new V(1,1,1)];class I9{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){d6=this._renderer.getRenderTarget(),f6=this._renderer.getActiveCubeFace(),p6=this._renderer.getActiveMipmapLevel(),m6=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=VO(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=GO(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(d6,f6,p6),this._renderer.xr.enabled=m6,e.scissorTest=!1,cw(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Vc||e.mapping===Eh?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),d6=this._renderer.getRenderTarget(),f6=this._renderer.getActiveCubeFace(),p6=this._renderer.getActiveMipmapLevel(),m6=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:$n,minFilter:$n,generateMipmaps:!1,type:Cg,format:Pr,colorSpace:Zc,depthBuffer:!1},r=HO(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=HO(e,t,n);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=zae(s)),this._blurMaterial=jae(s,e,t)}return r}_compileMaterial(e){const t=new ci(this._lodPlanes[0],e);this._renderer.compile(t,h6)}_sceneToCubeUV(e,t,n,r){const a=new Pn(90,1,t,n),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,d=u.toneMapping;u.getClearColor(zO),u.toneMapping=pl,u.autoClear=!1;const m=new Js({name:"PMREM.Background",side:Qr,depthWrite:!1,depthTest:!1}),g=new ci(new U0,m);let y=!1;const _=e.background;_?_.isColor&&(m.color.copy(_),e.background=null,y=!0):(m.color.copy(zO),y=!0);for(let v=0;v<6;v++){const A=v%3;A===0?(a.up.set(0,l[v],0),a.lookAt(c[v],0,0)):A===1?(a.up.set(0,0,l[v]),a.lookAt(0,c[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,c[v]));const w=this._cubeSize;cw(r,A*w,v>2?w:0,w,w),u.setRenderTarget(r),y&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=d,u.autoClear=h,e.background=_}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===Vc||e.mapping===Eh;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=VO()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=GO());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new ci(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;cw(t,0,0,3*l,2*l),n.setRenderTarget(t),n.render(o,h6)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=jO[(r-s-1)%jO.length];this._blur(e,s-1,s,o,a)}t.autoClear=n}_blur(e,t,n,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",s),this._halfBlur(o,e,n,n,r,"longitudinal",s)}_halfBlur(e,t,n,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new ci(this._lodPlanes[r],c),d=c.uniforms,m=this._sizeLods[n]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Ld-1),y=s/g,_=isFinite(s)?1+Math.floor(u*y):Ld;_>Ld&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${Ld}`);const v=[];let A=0;for(let R=0;R<Ld;++R){const D=R/y,I=Math.exp(-D*D/2);v.push(I),R===0?A+=I:R<_&&(A+=2*I)}for(let R=0;R<v.length;R++)v[R]=v[R]/A;d.envMap.value=e.texture,d.samples.value=_,d.weights.value=v,d.latitudinal.value=o==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:w}=this;d.dTheta.value=g,d.mipInt.value=w-n;const C=this._sizeLods[r],T=3*C*(r>w-nm?r-w+nm:0),E=4*(this._cubeSize-C);cw(t,T,E,3*C,2*C),l.setRenderTarget(t),l.render(h,h6)}}function zae(i){const e=[],t=[],n=[];let r=i;const s=i-nm+1+UO.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>i-nm?l=UO[o-i+nm-1]:o===0&&(l=0),n.push(l);const c=1/(a-2),u=-c,h=1+c,d=[u,u,h,u,h,h,u,u,h,h,u,h],m=6,g=6,y=3,_=2,v=1,A=new Float32Array(y*g*m),w=new Float32Array(_*g*m),C=new Float32Array(v*g*m);for(let E=0;E<m;E++){const R=E%3*2/3-1,D=E>2?0:-1,I=[R,D,0,R+2/3,D,0,R+2/3,D+1,0,R,D,0,R+2/3,D+1,0,R,D+1,0];A.set(I,y*g*E),w.set(d,_*g*E);const L=[E,E,E,E,E,E];C.set(L,v*g*E)}const T=new Pt;T.setAttribute("position",new Zt(A,y)),T.setAttribute("uv",new Zt(w,_)),T.setAttribute("faceIndex",new Zt(C,v)),e.push(T),r>nm&&r--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function HO(i,e,t){const n=new Ma(i,e,t);return n.texture.mapping=bg,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function cw(i,e,t,n,r){i.viewport.set(e,t,n,r),i.scissor.set(e,t,n,r)}function jae(i,e,t){const n=new Float32Array(Ld),r=new V(0,1,0);return new Ea({name:"SphericalGaussianBlur",defines:{n:Ld,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:fI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Pc,depthTest:!1,depthWrite:!1})}function GO(){return new Ea({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:fI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Pc,depthTest:!1,depthWrite:!1})}function VO(){return new Ea({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:fI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Pc,depthTest:!1,depthWrite:!1})}function fI(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Hae(i){let e=new WeakMap,t=null;function n(a){if(a&&a.isTexture){const l=a.mapping,c=l===ey||l===ty,u=l===Vc||l===Eh;if(c||u){let h=e.get(a);const d=h!==void 0?h.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==d)return t===null&&(t=new I9(i)),h=c?t.fromEquirectangular(a,h):t.fromCubemap(a,h),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),h.texture;if(h!==void 0)return h.texture;{const m=a.image;return c&&m&&m.height>0||u&&m&&r(m)?(t===null&&(t=new I9(i)),h=c?t.fromEquirectangular(a):t.fromCubemap(a),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),a.addEventListener("dispose",s),h.texture):null}}}return a}function r(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:o}}function Gae(i){const e={};function t(n){if(e[n]!==void 0)return e[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const r=t(n);return r===null&&Am("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function Vae(i,e,t,n){const r={},s=new WeakMap;function o(h){const d=h.target;d.index!==null&&e.remove(d.index);for(const g in d.attributes)e.remove(d.attributes[g]);for(const g in d.morphAttributes){const y=d.morphAttributes[g];for(let _=0,v=y.length;_<v;_++)e.remove(y[_])}d.removeEventListener("dispose",o),delete r[d.id];const m=s.get(d);m&&(e.remove(m),s.delete(d)),n.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,t.memory.geometries--}function a(h,d){return r[d.id]===!0||(d.addEventListener("dispose",o),r[d.id]=!0,t.memory.geometries++),d}function l(h){const d=h.attributes;for(const g in d)e.update(d[g],i.ARRAY_BUFFER);const m=h.morphAttributes;for(const g in m){const y=m[g];for(let _=0,v=y.length;_<v;_++)e.update(y[_],i.ARRAY_BUFFER)}}function c(h){const d=[],m=h.index,g=h.attributes.position;let y=0;if(m!==null){const A=m.array;y=m.version;for(let w=0,C=A.length;w<C;w+=3){const T=A[w+0],E=A[w+1],R=A[w+2];d.push(T,E,E,R,R,T)}}else if(g!==void 0){const A=g.array;y=g.version;for(let w=0,C=A.length/3-1;w<C;w+=3){const T=w+0,E=w+1,R=w+2;d.push(T,E,E,R,R,T)}}else return;const _=new(FV(d)?dI:hI)(d,1);_.version=y;const v=s.get(h);v&&e.remove(v),s.set(h,_)}function u(h){const d=s.get(h);if(d){const m=h.index;m!==null&&d.version<m.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:u}}function Wae(i,e,t){let n;function r(d){n=d}let s,o;function a(d){s=d.type,o=d.bytesPerElement}function l(d,m){i.drawElements(n,m,s,d*o),t.update(m,n,1)}function c(d,m,g){g!==0&&(i.drawElementsInstanced(n,m,s,d*o,g),t.update(m,n,g))}function u(d,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,m,0,s,d,0,g);let _=0;for(let v=0;v<g;v++)_+=m[v];t.update(_,n,1)}function h(d,m,g,y){if(g===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let v=0;v<d.length;v++)c(d[v]/o,m[v],y[v]);else{_.multiDrawElementsInstancedWEBGL(n,m,0,s,d,0,y,0,g);let v=0;for(let A=0;A<g;A++)v+=m[A];for(let A=0;A<y.length;A++)t.update(v,n,y[A])}}this.setMode=r,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=h}function Xae(i){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(s,o,a){switch(t.calls++,o){case i.TRIANGLES:t.triangles+=a*(s/3);break;case i.LINES:t.lines+=a*(s/2);break;case i.LINE_STRIP:t.lines+=a*(s-1);break;case i.LINE_LOOP:t.lines+=a*s;break;case i.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function Kae(i,e,t){const n=new WeakMap,r=new sn;function s(o,a,l){const c=o.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,h=u!==void 0?u.length:0;let d=n.get(a);if(d===void 0||d.count!==h){let I=function(){R.dispose(),n.delete(a),a.removeEventListener("dispose",I)};d!==void 0&&d.texture.dispose();const m=a.morphAttributes.position!==void 0,g=a.morphAttributes.normal!==void 0,y=a.morphAttributes.color!==void 0,_=a.morphAttributes.position||[],v=a.morphAttributes.normal||[],A=a.morphAttributes.color||[];let w=0;m===!0&&(w=1),g===!0&&(w=2),y===!0&&(w=3);let C=a.attributes.position.count*w,T=1;C>e.maxTextureSize&&(T=Math.ceil(C/e.maxTextureSize),C=e.maxTextureSize);const E=new Float32Array(C*T*4*h),R=new QC(E,C,T,h);R.type=ps,R.needsUpdate=!0;const D=w*4;for(let L=0;L<h;L++){const O=_[L],X=v[L],W=A[L],q=C*T*4*L;for(let $=0;$<O.count;$++){const Q=$*D;m===!0&&(r.fromBufferAttribute(O,$),E[q+Q+0]=r.x,E[q+Q+1]=r.y,E[q+Q+2]=r.z,E[q+Q+3]=0),g===!0&&(r.fromBufferAttribute(X,$),E[q+Q+4]=r.x,E[q+Q+5]=r.y,E[q+Q+6]=r.z,E[q+Q+7]=0),y===!0&&(r.fromBufferAttribute(W,$),E[q+Q+8]=r.x,E[q+Q+9]=r.y,E[q+Q+10]=r.z,E[q+Q+11]=W.itemSize===4?r.w:1)}}d={count:h,texture:R,size:new we(C,T)},n.set(a,d),a.addEventListener("dispose",I)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(i,"morphTexture",o.morphTexture,t);else{let m=0;for(let y=0;y<c.length;y++)m+=c[y];const g=a.morphTargetsRelative?1:1-m;l.getUniforms().setValue(i,"morphTargetBaseInfluence",g),l.getUniforms().setValue(i,"morphTargetInfluences",c)}l.getUniforms().setValue(i,"morphTargetsTexture",d.texture,t),l.getUniforms().setValue(i,"morphTargetsTextureSize",d.size)}return{update:s}}function Yae(i,e,t,n){let r=new WeakMap;function s(l){const c=n.render.frame,u=l.geometry,h=e.get(l,u);if(r.get(h)!==c&&(e.update(h),r.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(t.update(l.instanceMatrix,i.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,i.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const d=l.skeleton;r.get(d)!==c&&(d.update(),r.set(d,c))}return h}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}class pI extends Ln{constructor(e,t,n,r,s,o,a,l,c,u=r0){if(u!==r0&&u!==x0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&u===r0&&(n=Wc),n===void 0&&u===x0&&(n=_0),super(null,r,s,o,a,l,u,n,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Ri,this.minFilter=l!==void 0?l:Ri,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const WV=new Ln,WO=new pI(1,1),XV=new QC,KV=new uI,YV=new ax,XO=[],KO=[],YO=new Float32Array(16),JO=new Float32Array(9),qO=new Float32Array(4);function Eg(i,e,t){const n=i[0];if(n<=0||n>0)return i;const r=e*t;let s=XO[r];if(s===void 0&&(s=new Float32Array(r),XO[r]=s),e!==0){n.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,i[o].toArray(s,a)}return s}function Pi(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function Ii(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function $C(i,e){let t=KO[e];t===void 0&&(t=new Int32Array(e),KO[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function Jae(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function qae(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Pi(t,e))return;i.uniform2fv(this.addr,e),Ii(t,e)}}function Zae(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Pi(t,e))return;i.uniform3fv(this.addr,e),Ii(t,e)}}function Qae(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Pi(t,e))return;i.uniform4fv(this.addr,e),Ii(t,e)}}function $ae(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Pi(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),Ii(t,e)}else{if(Pi(t,n))return;qO.set(n),i.uniformMatrix2fv(this.addr,!1,qO),Ii(t,n)}}function ele(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Pi(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),Ii(t,e)}else{if(Pi(t,n))return;JO.set(n),i.uniformMatrix3fv(this.addr,!1,JO),Ii(t,n)}}function tle(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Pi(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),Ii(t,e)}else{if(Pi(t,n))return;YO.set(n),i.uniformMatrix4fv(this.addr,!1,YO),Ii(t,n)}}function nle(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function ile(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Pi(t,e))return;i.uniform2iv(this.addr,e),Ii(t,e)}}function rle(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Pi(t,e))return;i.uniform3iv(this.addr,e),Ii(t,e)}}function sle(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Pi(t,e))return;i.uniform4iv(this.addr,e),Ii(t,e)}}function ole(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function ale(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Pi(t,e))return;i.uniform2uiv(this.addr,e),Ii(t,e)}}function lle(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Pi(t,e))return;i.uniform3uiv(this.addr,e),Ii(t,e)}}function cle(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Pi(t,e))return;i.uniform4uiv(this.addr,e),Ii(t,e)}}function ule(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r);let s;this.type===i.SAMPLER_2D_SHADOW?(WO.compareFunction=lI,s=WO):s=WV,t.setTexture2D(e||s,r)}function hle(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||KV,r)}function dle(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||YV,r)}function fle(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||XV,r)}function ple(i){switch(i){case 5126:return Jae;case 35664:return qae;case 35665:return Zae;case 35666:return Qae;case 35674:return $ae;case 35675:return ele;case 35676:return tle;case 5124:case 35670:return nle;case 35667:case 35671:return ile;case 35668:case 35672:return rle;case 35669:case 35673:return sle;case 5125:return ole;case 36294:return ale;case 36295:return lle;case 36296:return cle;case 35678:case 36198:case 36298:case 36306:case 35682:return ule;case 35679:case 36299:case 36307:return hle;case 35680:case 36300:case 36308:case 36293:return dle;case 36289:case 36303:case 36311:case 36292:return fle}}function mle(i,e){i.uniform1fv(this.addr,e)}function gle(i,e){const t=Eg(e,this.size,2);i.uniform2fv(this.addr,t)}function vle(i,e){const t=Eg(e,this.size,3);i.uniform3fv(this.addr,t)}function yle(i,e){const t=Eg(e,this.size,4);i.uniform4fv(this.addr,t)}function _le(i,e){const t=Eg(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function xle(i,e){const t=Eg(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function Ale(i,e){const t=Eg(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function wle(i,e){i.uniform1iv(this.addr,e)}function Sle(i,e){i.uniform2iv(this.addr,e)}function ble(i,e){i.uniform3iv(this.addr,e)}function Cle(i,e){i.uniform4iv(this.addr,e)}function Mle(i,e){i.uniform1uiv(this.addr,e)}function Ele(i,e){i.uniform2uiv(this.addr,e)}function Tle(i,e){i.uniform3uiv(this.addr,e)}function Rle(i,e){i.uniform4uiv(this.addr,e)}function Ple(i,e,t){const n=this.cache,r=e.length,s=$C(t,r);Pi(n,s)||(i.uniform1iv(this.addr,s),Ii(n,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||WV,s[o])}function Ile(i,e,t){const n=this.cache,r=e.length,s=$C(t,r);Pi(n,s)||(i.uniform1iv(this.addr,s),Ii(n,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||KV,s[o])}function Lle(i,e,t){const n=this.cache,r=e.length,s=$C(t,r);Pi(n,s)||(i.uniform1iv(this.addr,s),Ii(n,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||YV,s[o])}function Dle(i,e,t){const n=this.cache,r=e.length,s=$C(t,r);Pi(n,s)||(i.uniform1iv(this.addr,s),Ii(n,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||XV,s[o])}function Ble(i){switch(i){case 5126:return mle;case 35664:return gle;case 35665:return vle;case 35666:return yle;case 35674:return _le;case 35675:return xle;case 35676:return Ale;case 5124:case 35670:return wle;case 35667:case 35671:return Sle;case 35668:case 35672:return ble;case 35669:case 35673:return Cle;case 5125:return Mle;case 36294:return Ele;case 36295:return Tle;case 36296:return Rle;case 35678:case 36198:case 36298:case 36306:case 35682:return Ple;case 35679:case 36299:case 36307:return Ile;case 35680:case 36300:case 36308:case 36293:return Lle;case 36289:case 36303:case 36311:case 36292:return Dle}}class Fle{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=ple(t.type)}}class Ole{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Ble(t.type)}}class kle{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],n)}}}const g6=/(\w+)(\])?(\[|\.)?/g;function ZO(i,e){i.seq.push(e),i.map[e.id]=e}function Nle(i,e,t){const n=i.name,r=n.length;for(g6.lastIndex=0;;){const s=g6.exec(n),o=g6.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){ZO(t,c===void 0?new Fle(a,i,e):new Ole(a,i,e));break}else{let h=t.map[a];h===void 0&&(h=new kle(a),ZO(t,h)),t=h}}}class yS{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);Nle(s,o,this)}}setValue(e,t,n,r){const s=this.map[t];s!==void 0&&s.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=n[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&n.push(o)}return n}}function QO(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}const Ule=37297;let zle=0;function jle(i,e){const t=i.split(`
`),n=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;n.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return n.join(`
`)}function Hle(i){const e=nn.getPrimaries(nn.workingColorSpace),t=nn.getPrimaries(i);let n;switch(e===t?n="":e===sy&&t===ry?n="LinearDisplayP3ToLinearSRGB":e===ry&&t===sy&&(n="LinearSRGBToLinearDisplayP3"),i){case Zc:case sx:return[n,"LinearTransferOETF"];case Ro:case ZC:return[n,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",i),[n,"LinearTransferOETF"]}}function $O(i,e,t){const n=i.getShaderParameter(e,i.COMPILE_STATUS),r=i.getShaderInfoLog(e).trim();if(n&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+jle(i.getShaderSource(e),o)}else return r}function Gle(i,e){const t=Hle(e);return`vec4 ${i}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function Vle(i,e){let t;switch(e){case fV:t="Linear";break;case pV:t="Reinhard";break;case mV:t="OptimizedCineon";break;case q7:t="ACESFilmic";break;case vV:t="AgX";break;case yV:t="Neutral";break;case gV:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const uw=new V;function Wle(){nn.getLuminanceCoefficients(uw);const i=uw.x.toFixed(4),e=uw.y.toFixed(4),t=uw.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Xle(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(N1).join(`
`)}function Kle(i){const e=[];for(const t in i){const n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function Yle(i,e){const t={},n=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){const s=i.getActiveAttrib(e,r),o=s.name;let a=1;s.type===i.FLOAT_MAT2&&(a=2),s.type===i.FLOAT_MAT3&&(a=3),s.type===i.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:i.getAttribLocation(e,o),locationSize:a}}return t}function N1(i){return i!==""}function ek(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function tk(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Jle=/^[ \t]*#include +<([\w\d./]+)>/gm;function L9(i){return i.replace(Jle,Zle)}const qle=new Map;function Zle(i,e){let t=Dt[e];if(t===void 0){const n=qle.get(e);if(n!==void 0)t=Dt[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return L9(t)}const Qle=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function nk(i){return i.replace(Qle,$le)}function $le(i,e,t,n){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function ik(i){let e=`precision ${i.precision} float;
	precision ${i.precision} int;
	precision ${i.precision} sampler2D;
	precision ${i.precision} samplerCube;
	precision ${i.precision} sampler3D;
	precision ${i.precision} sampler2DArray;
	precision ${i.precision} sampler2DShadow;
	precision ${i.precision} samplerCubeShadow;
	precision ${i.precision} sampler2DArrayShadow;
	precision ${i.precision} isampler2D;
	precision ${i.precision} isampler3D;
	precision ${i.precision} isamplerCube;
	precision ${i.precision} isampler2DArray;
	precision ${i.precision} usampler2D;
	precision ${i.precision} usampler3D;
	precision ${i.precision} usamplerCube;
	precision ${i.precision} usampler2DArray;
	`;return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function ece(i){let e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===jC?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===pv?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===ta&&(e="SHADOWMAP_TYPE_VSM"),e}function tce(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case Vc:case Eh:e="ENVMAP_TYPE_CUBE";break;case bg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function nce(i){let e="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case Eh:e="ENVMAP_MODE_REFRACTION";break}return e}function ice(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case ix:e="ENVMAP_BLENDING_MULTIPLY";break;case hV:e="ENVMAP_BLENDING_MIX";break;case dV:e="ENVMAP_BLENDING_ADD";break}return e}function rce(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function sce(i,e,t,n){const r=i.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=ece(t),c=tce(t),u=nce(t),h=ice(t),d=rce(t),m=Xle(t),g=Kle(s),y=r.createProgram();let _,v,A=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(N1).join(`
`),_.length>0&&(_+=`
`),v=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(N1).join(`
`),v.length>0&&(v+=`
`)):(_=[ik(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(N1).join(`
`),v=[ik(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==pl?"#define TONE_MAPPING":"",t.toneMapping!==pl?Dt.tonemapping_pars_fragment:"",t.toneMapping!==pl?Vle("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Dt.colorspace_pars_fragment,Gle("linearToOutputTexel",t.outputColorSpace),Wle(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(N1).join(`
`)),o=L9(o),o=ek(o,t),o=tk(o,t),a=L9(a),a=ek(a,t),a=tk(a,t),o=nk(o),a=nk(a),t.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,_=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,v=["#define varying in",t.glslVersion===P9?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===P9?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const w=A+_+o,C=A+v+a,T=QO(r,r.VERTEX_SHADER,w),E=QO(r,r.FRAGMENT_SHADER,C);r.attachShader(y,T),r.attachShader(y,E),t.index0AttributeName!==void 0?r.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y);function R(O){if(i.debug.checkShaderErrors){const X=r.getProgramInfoLog(y).trim(),W=r.getShaderInfoLog(T).trim(),q=r.getShaderInfoLog(E).trim();let $=!0,Q=!0;if(r.getProgramParameter(y,r.LINK_STATUS)===!1)if($=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(r,y,T,E);else{const ee=$O(r,T,"vertex"),k=$O(r,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(y,r.VALIDATE_STATUS)+`

Material Name: `+O.name+`
Material Type: `+O.type+`

Program Info Log: `+X+`
`+ee+`
`+k)}else X!==""?console.warn("THREE.WebGLProgram: Program Info Log:",X):(W===""||q==="")&&(Q=!1);Q&&(O.diagnostics={runnable:$,programLog:X,vertexShader:{log:W,prefix:_},fragmentShader:{log:q,prefix:v}})}r.deleteShader(T),r.deleteShader(E),D=new yS(r,y),I=Yle(r,y)}let D;this.getUniforms=function(){return D===void 0&&R(this),D};let I;this.getAttributes=function(){return I===void 0&&R(this),I};let L=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return L===!1&&(L=r.getProgramParameter(y,Ule)),L},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=zle++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=T,this.fragmentShader=E,this}let oce=0;class ace{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new lce(e),t.set(e,n)),n}}class lce{constructor(e){this.id=oce++,this.code=e,this.usedTimes=0}}function cce(i,e,t,n,r,s,o){const a=new o0,l=new ace,c=new Set,u=[],h=r.logarithmicDepthBuffer,d=r.vertexTextures;let m=r.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(I){return c.add(I),I===0?"uv":`uv${I}`}function _(I,L,O,X,W){const q=X.fog,$=W.geometry,Q=I.isMeshStandardMaterial?X.environment:null,ee=(I.isMeshStandardMaterial?t:e).get(I.envMap||Q),k=ee&&ee.mapping===bg?ee.image.height:null,Z=g[I.type];I.precision!==null&&(m=r.getMaxPrecision(I.precision),m!==I.precision&&console.warn("THREE.WebGLProgram.getParameters:",I.precision,"not supported, using",m,"instead."));const K=$.morphAttributes.position||$.morphAttributes.normal||$.morphAttributes.color,ne=K!==void 0?K.length:0;let le=0;$.morphAttributes.position!==void 0&&(le=1),$.morphAttributes.normal!==void 0&&(le=2),$.morphAttributes.color!==void 0&&(le=3);let ye,re,pe,Me;if(Z){const Ft=_a[Z];ye=Ft.vertexShader,re=Ft.fragmentShader}else ye=I.vertexShader,re=I.fragmentShader,l.update(I),pe=l.getVertexShaderID(I),Me=l.getFragmentShaderID(I);const xe=i.getRenderTarget(),We=W.isInstancedMesh===!0,rt=W.isBatchedMesh===!0,Be=!!I.map,He=!!I.matcap,G=!!ee,me=!!I.aoMap,Ae=!!I.lightMap,Ie=!!I.bumpMap,ge=!!I.normalMap,Je=!!I.displacementMap,Ue=!!I.emissiveMap,Ke=!!I.metalnessMap,J=!!I.roughnessMap,U=I.anisotropy>0,ue=I.clearcoat>0,Te=I.dispersion>0,Ee=I.iridescence>0,Re=I.sheen>0,ot=I.transmission>0,Le=U&&!!I.anisotropyMap,Xe=ue&&!!I.clearcoatMap,yt=ue&&!!I.clearcoatNormalMap,De=ue&&!!I.clearcoatRoughnessMap,Ze=Ee&&!!I.iridescenceMap,kt=Ee&&!!I.iridescenceThicknessMap,_t=Re&&!!I.sheenColorMap,et=Re&&!!I.sheenRoughnessMap,ie=!!I.specularMap,be=!!I.specularColorMap,qe=!!I.specularIntensityMap,te=ot&&!!I.transmissionMap,Pe=ot&&!!I.thicknessMap,Se=!!I.gradientMap,Ce=!!I.alphaMap,ze=I.alphaTest>0,gt=!!I.alphaHash,Ct=!!I.extensions;let Kt=pl;I.toneMapped&&(xe===null||xe.isXRRenderTarget===!0)&&(Kt=i.toneMapping);const Mn={shaderID:Z,shaderType:I.type,shaderName:I.name,vertexShader:ye,fragmentShader:re,defines:I.defines,customVertexShaderID:pe,customFragmentShaderID:Me,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:m,batching:rt,batchingColor:rt&&W._colorsTexture!==null,instancing:We,instancingColor:We&&W.instanceColor!==null,instancingMorph:We&&W.morphTexture!==null,supportsVertexTextures:d,outputColorSpace:xe===null?i.outputColorSpace:xe.isXRRenderTarget===!0?xe.texture.colorSpace:Zc,alphaToCoverage:!!I.alphaToCoverage,map:Be,matcap:He,envMap:G,envMapMode:G&&ee.mapping,envMapCubeUVHeight:k,aoMap:me,lightMap:Ae,bumpMap:Ie,normalMap:ge,displacementMap:d&&Je,emissiveMap:Ue,normalMapObjectSpace:ge&&I.normalMapType===MV,normalMapTangentSpace:ge&&I.normalMapType===Uh,metalnessMap:Ke,roughnessMap:J,anisotropy:U,anisotropyMap:Le,clearcoat:ue,clearcoatMap:Xe,clearcoatNormalMap:yt,clearcoatRoughnessMap:De,dispersion:Te,iridescence:Ee,iridescenceMap:Ze,iridescenceThicknessMap:kt,sheen:Re,sheenColorMap:_t,sheenRoughnessMap:et,specularMap:ie,specularColorMap:be,specularIntensityMap:qe,transmission:ot,transmissionMap:te,thicknessMap:Pe,gradientMap:Se,opaque:I.transparent===!1&&I.blending===i0&&I.alphaToCoverage===!1,alphaMap:Ce,alphaTest:ze,alphaHash:gt,combine:I.combine,mapUv:Be&&y(I.map.channel),aoMapUv:me&&y(I.aoMap.channel),lightMapUv:Ae&&y(I.lightMap.channel),bumpMapUv:Ie&&y(I.bumpMap.channel),normalMapUv:ge&&y(I.normalMap.channel),displacementMapUv:Je&&y(I.displacementMap.channel),emissiveMapUv:Ue&&y(I.emissiveMap.channel),metalnessMapUv:Ke&&y(I.metalnessMap.channel),roughnessMapUv:J&&y(I.roughnessMap.channel),anisotropyMapUv:Le&&y(I.anisotropyMap.channel),clearcoatMapUv:Xe&&y(I.clearcoatMap.channel),clearcoatNormalMapUv:yt&&y(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:De&&y(I.clearcoatRoughnessMap.channel),iridescenceMapUv:Ze&&y(I.iridescenceMap.channel),iridescenceThicknessMapUv:kt&&y(I.iridescenceThicknessMap.channel),sheenColorMapUv:_t&&y(I.sheenColorMap.channel),sheenRoughnessMapUv:et&&y(I.sheenRoughnessMap.channel),specularMapUv:ie&&y(I.specularMap.channel),specularColorMapUv:be&&y(I.specularColorMap.channel),specularIntensityMapUv:qe&&y(I.specularIntensityMap.channel),transmissionMapUv:te&&y(I.transmissionMap.channel),thicknessMapUv:Pe&&y(I.thicknessMap.channel),alphaMapUv:Ce&&y(I.alphaMap.channel),vertexTangents:!!$.attributes.tangent&&(ge||U),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!$.attributes.color&&$.attributes.color.itemSize===4,pointsUvs:W.isPoints===!0&&!!$.attributes.uv&&(Be||Ce),fog:!!q,useFog:I.fog===!0,fogExp2:!!q&&q.isFogExp2,flatShading:I.flatShading===!0,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:W.isSkinnedMesh===!0,morphTargets:$.morphAttributes.position!==void 0,morphNormals:$.morphAttributes.normal!==void 0,morphColors:$.morphAttributes.color!==void 0,morphTargetsCount:ne,morphTextureStride:le,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numLightProbes:L.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:I.dithering,shadowMapEnabled:i.shadowMap.enabled&&O.length>0,shadowMapType:i.shadowMap.type,toneMapping:Kt,decodeVideoTexture:Be&&I.map.isVideoTexture===!0&&nn.getTransfer(I.map.colorSpace)===wn,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===Lo,flipSided:I.side===Qr,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionClipCullDistance:Ct&&I.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ct&&I.extensions.multiDraw===!0||rt)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()};return Mn.vertexUv1s=c.has(1),Mn.vertexUv2s=c.has(2),Mn.vertexUv3s=c.has(3),c.clear(),Mn}function v(I){const L=[];if(I.shaderID?L.push(I.shaderID):(L.push(I.customVertexShaderID),L.push(I.customFragmentShaderID)),I.defines!==void 0)for(const O in I.defines)L.push(O),L.push(I.defines[O]);return I.isRawShaderMaterial===!1&&(A(L,I),w(L,I),L.push(i.outputColorSpace)),L.push(I.customProgramCacheKey),L.join()}function A(I,L){I.push(L.precision),I.push(L.outputColorSpace),I.push(L.envMapMode),I.push(L.envMapCubeUVHeight),I.push(L.mapUv),I.push(L.alphaMapUv),I.push(L.lightMapUv),I.push(L.aoMapUv),I.push(L.bumpMapUv),I.push(L.normalMapUv),I.push(L.displacementMapUv),I.push(L.emissiveMapUv),I.push(L.metalnessMapUv),I.push(L.roughnessMapUv),I.push(L.anisotropyMapUv),I.push(L.clearcoatMapUv),I.push(L.clearcoatNormalMapUv),I.push(L.clearcoatRoughnessMapUv),I.push(L.iridescenceMapUv),I.push(L.iridescenceThicknessMapUv),I.push(L.sheenColorMapUv),I.push(L.sheenRoughnessMapUv),I.push(L.specularMapUv),I.push(L.specularColorMapUv),I.push(L.specularIntensityMapUv),I.push(L.transmissionMapUv),I.push(L.thicknessMapUv),I.push(L.combine),I.push(L.fogExp2),I.push(L.sizeAttenuation),I.push(L.morphTargetsCount),I.push(L.morphAttributeCount),I.push(L.numDirLights),I.push(L.numPointLights),I.push(L.numSpotLights),I.push(L.numSpotLightMaps),I.push(L.numHemiLights),I.push(L.numRectAreaLights),I.push(L.numDirLightShadows),I.push(L.numPointLightShadows),I.push(L.numSpotLightShadows),I.push(L.numSpotLightShadowsWithMaps),I.push(L.numLightProbes),I.push(L.shadowMapType),I.push(L.toneMapping),I.push(L.numClippingPlanes),I.push(L.numClipIntersection),I.push(L.depthPacking)}function w(I,L){a.disableAll(),L.supportsVertexTextures&&a.enable(0),L.instancing&&a.enable(1),L.instancingColor&&a.enable(2),L.instancingMorph&&a.enable(3),L.matcap&&a.enable(4),L.envMap&&a.enable(5),L.normalMapObjectSpace&&a.enable(6),L.normalMapTangentSpace&&a.enable(7),L.clearcoat&&a.enable(8),L.iridescence&&a.enable(9),L.alphaTest&&a.enable(10),L.vertexColors&&a.enable(11),L.vertexAlphas&&a.enable(12),L.vertexUv1s&&a.enable(13),L.vertexUv2s&&a.enable(14),L.vertexUv3s&&a.enable(15),L.vertexTangents&&a.enable(16),L.anisotropy&&a.enable(17),L.alphaHash&&a.enable(18),L.batching&&a.enable(19),L.dispersion&&a.enable(20),L.batchingColor&&a.enable(21),I.push(a.mask),a.disableAll(),L.fog&&a.enable(0),L.useFog&&a.enable(1),L.flatShading&&a.enable(2),L.logarithmicDepthBuffer&&a.enable(3),L.skinning&&a.enable(4),L.morphTargets&&a.enable(5),L.morphNormals&&a.enable(6),L.morphColors&&a.enable(7),L.premultipliedAlpha&&a.enable(8),L.shadowMapEnabled&&a.enable(9),L.doubleSided&&a.enable(10),L.flipSided&&a.enable(11),L.useDepthPacking&&a.enable(12),L.dithering&&a.enable(13),L.transmission&&a.enable(14),L.sheen&&a.enable(15),L.opaque&&a.enable(16),L.pointsUvs&&a.enable(17),L.decodeVideoTexture&&a.enable(18),L.alphaToCoverage&&a.enable(19),I.push(a.mask)}function C(I){const L=g[I.type];let O;if(L){const X=_a[L];O=jV.clone(X.uniforms)}else O=I.uniforms;return O}function T(I,L){let O;for(let X=0,W=u.length;X<W;X++){const q=u[X];if(q.cacheKey===L){O=q,++O.usedTimes;break}}return O===void 0&&(O=new sce(i,L,I,s),u.push(O)),O}function E(I){if(--I.usedTimes===0){const L=u.indexOf(I);u[L]=u[u.length-1],u.pop(),I.destroy()}}function R(I){l.remove(I)}function D(){l.dispose()}return{getParameters:_,getProgramCacheKey:v,getUniforms:C,acquireProgram:T,releaseProgram:E,releaseShaderCache:R,programs:u,dispose:D}}function uce(){let i=new WeakMap;function e(s){let o=i.get(s);return o===void 0&&(o={},i.set(s,o)),o}function t(s){i.delete(s)}function n(s,o,a){i.get(s)[o]=a}function r(){i=new WeakMap}return{get:e,remove:t,update:n,dispose:r}}function hce(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function rk(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function sk(){const i=[];let e=0;const t=[],n=[],r=[];function s(){e=0,t.length=0,n.length=0,r.length=0}function o(h,d,m,g,y,_){let v=i[e];return v===void 0?(v={id:h.id,object:h,geometry:d,material:m,groupOrder:g,renderOrder:h.renderOrder,z:y,group:_},i[e]=v):(v.id=h.id,v.object=h,v.geometry=d,v.material=m,v.groupOrder=g,v.renderOrder=h.renderOrder,v.z=y,v.group=_),e++,v}function a(h,d,m,g,y,_){const v=o(h,d,m,g,y,_);m.transmission>0?n.push(v):m.transparent===!0?r.push(v):t.push(v)}function l(h,d,m,g,y,_){const v=o(h,d,m,g,y,_);m.transmission>0?n.unshift(v):m.transparent===!0?r.unshift(v):t.unshift(v)}function c(h,d){t.length>1&&t.sort(h||hce),n.length>1&&n.sort(d||rk),r.length>1&&r.sort(d||rk)}function u(){for(let h=e,d=i.length;h<d;h++){const m=i[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:n,transparent:r,init:s,push:a,unshift:l,finish:u,sort:c}}function dce(){let i=new WeakMap;function e(n,r){const s=i.get(n);let o;return s===void 0?(o=new sk,i.set(n,[o])):r>=s.length?(o=new sk,s.push(o)):o=s[r],o}function t(){i=new WeakMap}return{get:e,dispose:t}}function fce(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new V,color:new Ge};break;case"SpotLight":t={position:new V,direction:new V,color:new Ge,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new V,color:new Ge,distance:0,decay:0};break;case"HemisphereLight":t={direction:new V,skyColor:new Ge,groundColor:new Ge};break;case"RectAreaLight":t={color:new Ge,position:new V,halfWidth:new V,halfHeight:new V};break}return i[e.id]=t,t}}}function pce(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new we};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new we};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new we,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}let mce=0;function gce(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function vce(i){const e=new fce,t=pce(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)n.probe.push(new V);const r=new V,s=new pt,o=new pt;function a(c){let u=0,h=0,d=0;for(let I=0;I<9;I++)n.probe[I].set(0,0,0);let m=0,g=0,y=0,_=0,v=0,A=0,w=0,C=0,T=0,E=0,R=0;c.sort(gce);for(let I=0,L=c.length;I<L;I++){const O=c[I],X=O.color,W=O.intensity,q=O.distance,$=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)u+=X.r*W,h+=X.g*W,d+=X.b*W;else if(O.isLightProbe){for(let Q=0;Q<9;Q++)n.probe[Q].addScaledVector(O.sh.coefficients[Q],W);R++}else if(O.isDirectionalLight){const Q=e.get(O);if(Q.color.copy(O.color).multiplyScalar(O.intensity),O.castShadow){const ee=O.shadow,k=t.get(O);k.shadowIntensity=ee.intensity,k.shadowBias=ee.bias,k.shadowNormalBias=ee.normalBias,k.shadowRadius=ee.radius,k.shadowMapSize=ee.mapSize,n.directionalShadow[m]=k,n.directionalShadowMap[m]=$,n.directionalShadowMatrix[m]=O.shadow.matrix,A++}n.directional[m]=Q,m++}else if(O.isSpotLight){const Q=e.get(O);Q.position.setFromMatrixPosition(O.matrixWorld),Q.color.copy(X).multiplyScalar(W),Q.distance=q,Q.coneCos=Math.cos(O.angle),Q.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),Q.decay=O.decay,n.spot[y]=Q;const ee=O.shadow;if(O.map&&(n.spotLightMap[T]=O.map,T++,ee.updateMatrices(O),O.castShadow&&E++),n.spotLightMatrix[y]=ee.matrix,O.castShadow){const k=t.get(O);k.shadowIntensity=ee.intensity,k.shadowBias=ee.bias,k.shadowNormalBias=ee.normalBias,k.shadowRadius=ee.radius,k.shadowMapSize=ee.mapSize,n.spotShadow[y]=k,n.spotShadowMap[y]=$,C++}y++}else if(O.isRectAreaLight){const Q=e.get(O);Q.color.copy(X).multiplyScalar(W),Q.halfWidth.set(O.width*.5,0,0),Q.halfHeight.set(0,O.height*.5,0),n.rectArea[_]=Q,_++}else if(O.isPointLight){const Q=e.get(O);if(Q.color.copy(O.color).multiplyScalar(O.intensity),Q.distance=O.distance,Q.decay=O.decay,O.castShadow){const ee=O.shadow,k=t.get(O);k.shadowIntensity=ee.intensity,k.shadowBias=ee.bias,k.shadowNormalBias=ee.normalBias,k.shadowRadius=ee.radius,k.shadowMapSize=ee.mapSize,k.shadowCameraNear=ee.camera.near,k.shadowCameraFar=ee.camera.far,n.pointShadow[g]=k,n.pointShadowMap[g]=$,n.pointShadowMatrix[g]=O.shadow.matrix,w++}n.point[g]=Q,g++}else if(O.isHemisphereLight){const Q=e.get(O);Q.skyColor.copy(O.color).multiplyScalar(W),Q.groundColor.copy(O.groundColor).multiplyScalar(W),n.hemi[v]=Q,v++}}_>0&&(i.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=Ve.LTC_FLOAT_1,n.rectAreaLTC2=Ve.LTC_FLOAT_2):(n.rectAreaLTC1=Ve.LTC_HALF_1,n.rectAreaLTC2=Ve.LTC_HALF_2)),n.ambient[0]=u,n.ambient[1]=h,n.ambient[2]=d;const D=n.hash;(D.directionalLength!==m||D.pointLength!==g||D.spotLength!==y||D.rectAreaLength!==_||D.hemiLength!==v||D.numDirectionalShadows!==A||D.numPointShadows!==w||D.numSpotShadows!==C||D.numSpotMaps!==T||D.numLightProbes!==R)&&(n.directional.length=m,n.spot.length=y,n.rectArea.length=_,n.point.length=g,n.hemi.length=v,n.directionalShadow.length=A,n.directionalShadowMap.length=A,n.pointShadow.length=w,n.pointShadowMap.length=w,n.spotShadow.length=C,n.spotShadowMap.length=C,n.directionalShadowMatrix.length=A,n.pointShadowMatrix.length=w,n.spotLightMatrix.length=C+T-E,n.spotLightMap.length=T,n.numSpotLightShadowsWithMaps=E,n.numLightProbes=R,D.directionalLength=m,D.pointLength=g,D.spotLength=y,D.rectAreaLength=_,D.hemiLength=v,D.numDirectionalShadows=A,D.numPointShadows=w,D.numSpotShadows=C,D.numSpotMaps=T,D.numLightProbes=R,n.version=mce++)}function l(c,u){let h=0,d=0,m=0,g=0,y=0;const _=u.matrixWorldInverse;for(let v=0,A=c.length;v<A;v++){const w=c[v];if(w.isDirectionalLight){const C=n.directional[h];C.direction.setFromMatrixPosition(w.matrixWorld),r.setFromMatrixPosition(w.target.matrixWorld),C.direction.sub(r),C.direction.transformDirection(_),h++}else if(w.isSpotLight){const C=n.spot[m];C.position.setFromMatrixPosition(w.matrixWorld),C.position.applyMatrix4(_),C.direction.setFromMatrixPosition(w.matrixWorld),r.setFromMatrixPosition(w.target.matrixWorld),C.direction.sub(r),C.direction.transformDirection(_),m++}else if(w.isRectAreaLight){const C=n.rectArea[g];C.position.setFromMatrixPosition(w.matrixWorld),C.position.applyMatrix4(_),o.identity(),s.copy(w.matrixWorld),s.premultiply(_),o.extractRotation(s),C.halfWidth.set(w.width*.5,0,0),C.halfHeight.set(0,w.height*.5,0),C.halfWidth.applyMatrix4(o),C.halfHeight.applyMatrix4(o),g++}else if(w.isPointLight){const C=n.point[d];C.position.setFromMatrixPosition(w.matrixWorld),C.position.applyMatrix4(_),d++}else if(w.isHemisphereLight){const C=n.hemi[y];C.direction.setFromMatrixPosition(w.matrixWorld),C.direction.transformDirection(_),y++}}}return{setup:a,setupView:l,state:n}}function ok(i){const e=new vce(i),t=[],n=[];function r(u){c.camera=u,t.length=0,n.length=0}function s(u){t.push(u)}function o(u){n.push(u)}function a(){e.setup(t)}function l(u){e.setupView(t,u)}const c={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function yce(i){let e=new WeakMap;function t(r,s=0){const o=e.get(r);let a;return o===void 0?(a=new ok(i),e.set(r,[a])):s>=o.length?(a=new ok(i),o.push(a)):a=o[s],a}function n(){e=new WeakMap}return{get:t,dispose:n}}class mI extends _i{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=bV,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class gI extends _i{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const _ce=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,xce=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Ace(i,e,t){let n=new lx;const r=new we,s=new we,o=new sn,a=new mI({depthPacking:CV}),l=new gI,c={},u=t.maxTextureSize,h={[_l]:Qr,[Qr]:_l,[Lo]:Lo},d=new Ea({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new we},radius:{value:4}},vertexShader:_ce,fragmentShader:xce}),m=d.clone();m.defines.HORIZONTAL_PASS=1;const g=new Pt;g.setAttribute("position",new Zt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new ci(g,d),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=jC;let v=this.type;this.render=function(E,R,D){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||E.length===0)return;const I=i.getRenderTarget(),L=i.getActiveCubeFace(),O=i.getActiveMipmapLevel(),X=i.state;X.setBlending(Pc),X.buffers.color.setClear(1,1,1,1),X.buffers.depth.setTest(!0),X.setScissorTest(!1);const W=v!==ta&&this.type===ta,q=v===ta&&this.type!==ta;for(let $=0,Q=E.length;$<Q;$++){const ee=E[$],k=ee.shadow;if(k===void 0){console.warn("THREE.WebGLShadowMap:",ee,"has no shadow.");continue}if(k.autoUpdate===!1&&k.needsUpdate===!1)continue;r.copy(k.mapSize);const Z=k.getFrameExtents();if(r.multiply(Z),s.copy(k.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/Z.x),r.x=s.x*Z.x,k.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/Z.y),r.y=s.y*Z.y,k.mapSize.y=s.y)),k.map===null||W===!0||q===!0){const ne=this.type!==ta?{minFilter:Ri,magFilter:Ri}:{};k.map!==null&&k.map.dispose(),k.map=new Ma(r.x,r.y,ne),k.map.texture.name=ee.name+".shadowMap",k.camera.updateProjectionMatrix()}i.setRenderTarget(k.map),i.clear();const K=k.getViewportCount();for(let ne=0;ne<K;ne++){const le=k.getViewport(ne);o.set(s.x*le.x,s.y*le.y,s.x*le.z,s.y*le.w),X.viewport(o),k.updateMatrices(ee,ne),n=k.getFrustum(),C(R,D,k.camera,ee,this.type)}k.isPointLightShadow!==!0&&this.type===ta&&A(k,D),k.needsUpdate=!1}v=this.type,_.needsUpdate=!1,i.setRenderTarget(I,L,O)};function A(E,R){const D=e.update(y);d.defines.VSM_SAMPLES!==E.blurSamples&&(d.defines.VSM_SAMPLES=E.blurSamples,m.defines.VSM_SAMPLES=E.blurSamples,d.needsUpdate=!0,m.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new Ma(r.x,r.y)),d.uniforms.shadow_pass.value=E.map.texture,d.uniforms.resolution.value=E.mapSize,d.uniforms.radius.value=E.radius,i.setRenderTarget(E.mapPass),i.clear(),i.renderBufferDirect(R,null,D,d,y,null),m.uniforms.shadow_pass.value=E.mapPass.texture,m.uniforms.resolution.value=E.mapSize,m.uniforms.radius.value=E.radius,i.setRenderTarget(E.map),i.clear(),i.renderBufferDirect(R,null,D,m,y,null)}function w(E,R,D,I){let L=null;const O=D.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(O!==void 0)L=O;else if(L=D.isPointLight===!0?l:a,i.localClippingEnabled&&R.clipShadows===!0&&Array.isArray(R.clippingPlanes)&&R.clippingPlanes.length!==0||R.displacementMap&&R.displacementScale!==0||R.alphaMap&&R.alphaTest>0||R.map&&R.alphaTest>0){const X=L.uuid,W=R.uuid;let q=c[X];q===void 0&&(q={},c[X]=q);let $=q[W];$===void 0&&($=L.clone(),q[W]=$,R.addEventListener("dispose",T)),L=$}if(L.visible=R.visible,L.wireframe=R.wireframe,I===ta?L.side=R.shadowSide!==null?R.shadowSide:R.side:L.side=R.shadowSide!==null?R.shadowSide:h[R.side],L.alphaMap=R.alphaMap,L.alphaTest=R.alphaTest,L.map=R.map,L.clipShadows=R.clipShadows,L.clippingPlanes=R.clippingPlanes,L.clipIntersection=R.clipIntersection,L.displacementMap=R.displacementMap,L.displacementScale=R.displacementScale,L.displacementBias=R.displacementBias,L.wireframeLinewidth=R.wireframeLinewidth,L.linewidth=R.linewidth,D.isPointLight===!0&&L.isMeshDistanceMaterial===!0){const X=i.properties.get(L);X.light=D}return L}function C(E,R,D,I,L){if(E.visible===!1)return;if(E.layers.test(R.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&L===ta)&&(!E.frustumCulled||n.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,E.matrixWorld);const W=e.update(E),q=E.material;if(Array.isArray(q)){const $=W.groups;for(let Q=0,ee=$.length;Q<ee;Q++){const k=$[Q],Z=q[k.materialIndex];if(Z&&Z.visible){const K=w(E,Z,I,L);E.onBeforeShadow(i,E,R,D,W,K,k),i.renderBufferDirect(D,null,W,K,E,k),E.onAfterShadow(i,E,R,D,W,K,k)}}}else if(q.visible){const $=w(E,q,I,L);E.onBeforeShadow(i,E,R,D,W,$,null),i.renderBufferDirect(D,null,W,$,E,null),E.onAfterShadow(i,E,R,D,W,$,null)}}const X=E.children;for(let W=0,q=X.length;W<q;W++)C(X[W],R,D,I,L)}function T(E){E.target.removeEventListener("dispose",T);for(const D in c){const I=c[D],L=E.target.uuid;L in I&&(I[L].dispose(),delete I[L])}}}function wce(i){function e(){let te=!1;const Pe=new sn;let Se=null;const Ce=new sn(0,0,0,0);return{setMask:function(ze){Se!==ze&&!te&&(i.colorMask(ze,ze,ze,ze),Se=ze)},setLocked:function(ze){te=ze},setClear:function(ze,gt,Ct,Kt,Mn){Mn===!0&&(ze*=Kt,gt*=Kt,Ct*=Kt),Pe.set(ze,gt,Ct,Kt),Ce.equals(Pe)===!1&&(i.clearColor(ze,gt,Ct,Kt),Ce.copy(Pe))},reset:function(){te=!1,Se=null,Ce.set(-1,0,0,0)}}}function t(){let te=!1,Pe=null,Se=null,Ce=null;return{setTest:function(ze){ze?Me(i.DEPTH_TEST):xe(i.DEPTH_TEST)},setMask:function(ze){Pe!==ze&&!te&&(i.depthMask(ze),Pe=ze)},setFunc:function(ze){if(Se!==ze){switch(ze){case rV:i.depthFunc(i.NEVER);break;case sV:i.depthFunc(i.ALWAYS);break;case oV:i.depthFunc(i.LESS);break;case $v:i.depthFunc(i.LEQUAL);break;case aV:i.depthFunc(i.EQUAL);break;case lV:i.depthFunc(i.GEQUAL);break;case cV:i.depthFunc(i.GREATER);break;case uV:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}Se=ze}},setLocked:function(ze){te=ze},setClear:function(ze){Ce!==ze&&(i.clearDepth(ze),Ce=ze)},reset:function(){te=!1,Pe=null,Se=null,Ce=null}}}function n(){let te=!1,Pe=null,Se=null,Ce=null,ze=null,gt=null,Ct=null,Kt=null,Mn=null;return{setTest:function(Ft){te||(Ft?Me(i.STENCIL_TEST):xe(i.STENCIL_TEST))},setMask:function(Ft){Pe!==Ft&&!te&&(i.stencilMask(Ft),Pe=Ft)},setFunc:function(Ft,Li,Di){(Se!==Ft||Ce!==Li||ze!==Di)&&(i.stencilFunc(Ft,Li,Di),Se=Ft,Ce=Li,ze=Di)},setOp:function(Ft,Li,Di){(gt!==Ft||Ct!==Li||Kt!==Di)&&(i.stencilOp(Ft,Li,Di),gt=Ft,Ct=Li,Kt=Di)},setLocked:function(Ft){te=Ft},setClear:function(Ft){Mn!==Ft&&(i.clearStencil(Ft),Mn=Ft)},reset:function(){te=!1,Pe=null,Se=null,Ce=null,ze=null,gt=null,Ct=null,Kt=null,Mn=null}}}const r=new e,s=new t,o=new n,a=new WeakMap,l=new WeakMap;let c={},u={},h=new WeakMap,d=[],m=null,g=!1,y=null,_=null,v=null,A=null,w=null,C=null,T=null,E=new Ge(0,0,0),R=0,D=!1,I=null,L=null,O=null,X=null,W=null;const q=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let $=!1,Q=0;const ee=i.getParameter(i.VERSION);ee.indexOf("WebGL")!==-1?(Q=parseFloat(/^WebGL (\d)/.exec(ee)[1]),$=Q>=1):ee.indexOf("OpenGL ES")!==-1&&(Q=parseFloat(/^OpenGL ES (\d)/.exec(ee)[1]),$=Q>=2);let k=null,Z={};const K=i.getParameter(i.SCISSOR_BOX),ne=i.getParameter(i.VIEWPORT),le=new sn().fromArray(K),ye=new sn().fromArray(ne);function re(te,Pe,Se,Ce){const ze=new Uint8Array(4),gt=i.createTexture();i.bindTexture(te,gt),i.texParameteri(te,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(te,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let Ct=0;Ct<Se;Ct++)te===i.TEXTURE_3D||te===i.TEXTURE_2D_ARRAY?i.texImage3D(Pe,0,i.RGBA,1,1,Ce,0,i.RGBA,i.UNSIGNED_BYTE,ze):i.texImage2D(Pe+Ct,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,ze);return gt}const pe={};pe[i.TEXTURE_2D]=re(i.TEXTURE_2D,i.TEXTURE_2D,1),pe[i.TEXTURE_CUBE_MAP]=re(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),pe[i.TEXTURE_2D_ARRAY]=re(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),pe[i.TEXTURE_3D]=re(i.TEXTURE_3D,i.TEXTURE_3D,1,1),r.setClear(0,0,0,1),s.setClear(1),o.setClear(0),Me(i.DEPTH_TEST),s.setFunc($v),Ie(!1),ge(b9),Me(i.CULL_FACE),me(Pc);function Me(te){c[te]!==!0&&(i.enable(te),c[te]=!0)}function xe(te){c[te]!==!1&&(i.disable(te),c[te]=!1)}function We(te,Pe){return u[te]!==Pe?(i.bindFramebuffer(te,Pe),u[te]=Pe,te===i.DRAW_FRAMEBUFFER&&(u[i.FRAMEBUFFER]=Pe),te===i.FRAMEBUFFER&&(u[i.DRAW_FRAMEBUFFER]=Pe),!0):!1}function rt(te,Pe){let Se=d,Ce=!1;if(te){Se=h.get(Pe),Se===void 0&&(Se=[],h.set(Pe,Se));const ze=te.textures;if(Se.length!==ze.length||Se[0]!==i.COLOR_ATTACHMENT0){for(let gt=0,Ct=ze.length;gt<Ct;gt++)Se[gt]=i.COLOR_ATTACHMENT0+gt;Se.length=ze.length,Ce=!0}}else Se[0]!==i.BACK&&(Se[0]=i.BACK,Ce=!0);Ce&&i.drawBuffers(Se)}function Be(te){return m!==te?(i.useProgram(te),m=te,!0):!1}const He={[Tu]:i.FUNC_ADD,[jG]:i.FUNC_SUBTRACT,[HG]:i.FUNC_REVERSE_SUBTRACT};He[GG]=i.MIN,He[VG]=i.MAX;const G={[WG]:i.ZERO,[XG]:i.ONE,[KG]:i.SRC_COLOR,[E5]:i.SRC_ALPHA,[$G]:i.SRC_ALPHA_SATURATE,[ZG]:i.DST_COLOR,[JG]:i.DST_ALPHA,[YG]:i.ONE_MINUS_SRC_COLOR,[T5]:i.ONE_MINUS_SRC_ALPHA,[QG]:i.ONE_MINUS_DST_COLOR,[qG]:i.ONE_MINUS_DST_ALPHA,[eV]:i.CONSTANT_COLOR,[tV]:i.ONE_MINUS_CONSTANT_COLOR,[nV]:i.CONSTANT_ALPHA,[iV]:i.ONE_MINUS_CONSTANT_ALPHA};function me(te,Pe,Se,Ce,ze,gt,Ct,Kt,Mn,Ft){if(te===Pc){g===!0&&(xe(i.BLEND),g=!1);return}if(g===!1&&(Me(i.BLEND),g=!0),te!==zG){if(te!==y||Ft!==D){if((_!==Tu||w!==Tu)&&(i.blendEquation(i.FUNC_ADD),_=Tu,w=Tu),Ft)switch(te){case i0:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case C9:i.blendFunc(i.ONE,i.ONE);break;case M9:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case E9:i.blendFuncSeparate(i.ZERO,i.SRC_COLOR,i.ZERO,i.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}else switch(te){case i0:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case C9:i.blendFunc(i.SRC_ALPHA,i.ONE);break;case M9:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case E9:i.blendFunc(i.ZERO,i.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}v=null,A=null,C=null,T=null,E.set(0,0,0),R=0,y=te,D=Ft}return}ze=ze||Pe,gt=gt||Se,Ct=Ct||Ce,(Pe!==_||ze!==w)&&(i.blendEquationSeparate(He[Pe],He[ze]),_=Pe,w=ze),(Se!==v||Ce!==A||gt!==C||Ct!==T)&&(i.blendFuncSeparate(G[Se],G[Ce],G[gt],G[Ct]),v=Se,A=Ce,C=gt,T=Ct),(Kt.equals(E)===!1||Mn!==R)&&(i.blendColor(Kt.r,Kt.g,Kt.b,Mn),E.copy(Kt),R=Mn),y=te,D=!1}function Ae(te,Pe){te.side===Lo?xe(i.CULL_FACE):Me(i.CULL_FACE);let Se=te.side===Qr;Pe&&(Se=!Se),Ie(Se),te.blending===i0&&te.transparent===!1?me(Pc):me(te.blending,te.blendEquation,te.blendSrc,te.blendDst,te.blendEquationAlpha,te.blendSrcAlpha,te.blendDstAlpha,te.blendColor,te.blendAlpha,te.premultipliedAlpha),s.setFunc(te.depthFunc),s.setTest(te.depthTest),s.setMask(te.depthWrite),r.setMask(te.colorWrite);const Ce=te.stencilWrite;o.setTest(Ce),Ce&&(o.setMask(te.stencilWriteMask),o.setFunc(te.stencilFunc,te.stencilRef,te.stencilFuncMask),o.setOp(te.stencilFail,te.stencilZFail,te.stencilZPass)),Ue(te.polygonOffset,te.polygonOffsetFactor,te.polygonOffsetUnits),te.alphaToCoverage===!0?Me(i.SAMPLE_ALPHA_TO_COVERAGE):xe(i.SAMPLE_ALPHA_TO_COVERAGE)}function Ie(te){I!==te&&(te?i.frontFace(i.CW):i.frontFace(i.CCW),I=te)}function ge(te){te!==kG?(Me(i.CULL_FACE),te!==L&&(te===b9?i.cullFace(i.BACK):te===NG?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):xe(i.CULL_FACE),L=te}function Je(te){te!==O&&($&&i.lineWidth(te),O=te)}function Ue(te,Pe,Se){te?(Me(i.POLYGON_OFFSET_FILL),(X!==Pe||W!==Se)&&(i.polygonOffset(Pe,Se),X=Pe,W=Se)):xe(i.POLYGON_OFFSET_FILL)}function Ke(te){te?Me(i.SCISSOR_TEST):xe(i.SCISSOR_TEST)}function J(te){te===void 0&&(te=i.TEXTURE0+q-1),k!==te&&(i.activeTexture(te),k=te)}function U(te,Pe,Se){Se===void 0&&(k===null?Se=i.TEXTURE0+q-1:Se=k);let Ce=Z[Se];Ce===void 0&&(Ce={type:void 0,texture:void 0},Z[Se]=Ce),(Ce.type!==te||Ce.texture!==Pe)&&(k!==Se&&(i.activeTexture(Se),k=Se),i.bindTexture(te,Pe||pe[te]),Ce.type=te,Ce.texture=Pe)}function ue(){const te=Z[k];te!==void 0&&te.type!==void 0&&(i.bindTexture(te.type,null),te.type=void 0,te.texture=void 0)}function Te(){try{i.compressedTexImage2D.apply(i,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Ee(){try{i.compressedTexImage3D.apply(i,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Re(){try{i.texSubImage2D.apply(i,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ot(){try{i.texSubImage3D.apply(i,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Le(){try{i.compressedTexSubImage2D.apply(i,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Xe(){try{i.compressedTexSubImage3D.apply(i,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function yt(){try{i.texStorage2D.apply(i,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function De(){try{i.texStorage3D.apply(i,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Ze(){try{i.texImage2D.apply(i,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function kt(){try{i.texImage3D.apply(i,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function _t(te){le.equals(te)===!1&&(i.scissor(te.x,te.y,te.z,te.w),le.copy(te))}function et(te){ye.equals(te)===!1&&(i.viewport(te.x,te.y,te.z,te.w),ye.copy(te))}function ie(te,Pe){let Se=l.get(Pe);Se===void 0&&(Se=new WeakMap,l.set(Pe,Se));let Ce=Se.get(te);Ce===void 0&&(Ce=i.getUniformBlockIndex(Pe,te.name),Se.set(te,Ce))}function be(te,Pe){const Ce=l.get(Pe).get(te);a.get(Pe)!==Ce&&(i.uniformBlockBinding(Pe,Ce,te.__bindingPointIndex),a.set(Pe,Ce))}function qe(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),c={},k=null,Z={},u={},h=new WeakMap,d=[],m=null,g=!1,y=null,_=null,v=null,A=null,w=null,C=null,T=null,E=new Ge(0,0,0),R=0,D=!1,I=null,L=null,O=null,X=null,W=null,le.set(0,0,i.canvas.width,i.canvas.height),ye.set(0,0,i.canvas.width,i.canvas.height),r.reset(),s.reset(),o.reset()}return{buffers:{color:r,depth:s,stencil:o},enable:Me,disable:xe,bindFramebuffer:We,drawBuffers:rt,useProgram:Be,setBlending:me,setMaterial:Ae,setFlipSided:Ie,setCullFace:ge,setLineWidth:Je,setPolygonOffset:Ue,setScissorTest:Ke,activeTexture:J,bindTexture:U,unbindTexture:ue,compressedTexImage2D:Te,compressedTexImage3D:Ee,texImage2D:Ze,texImage3D:kt,updateUBOMapping:ie,uniformBlockBinding:be,texStorage2D:yt,texStorage3D:De,texSubImage2D:Re,texSubImage3D:ot,compressedTexSubImage2D:Le,compressedTexSubImage3D:Xe,scissor:_t,viewport:et,reset:qe}}function Sce(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2):(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0),i}function bce(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0):(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2),i}function Cce(i){return i.repeat.x=1,i.repeat.y=1,i.offset.x=0,i.offset.y=0,i}function D9(i,e,t,n){const r=Mce(n);switch(t){case eI:return i*e;case nI:return i*e;case iI:return i*e*2;case KC:return i*e/r.components*r.byteLength;case rx:return i*e/r.components*r.byteLength;case rI:return i*e*2/r.components*r.byteLength;case YC:return i*e*2/r.components*r.byteLength;case tI:return i*e*3/r.components*r.byteLength;case Pr:return i*e*4/r.components*r.byteLength;case JC:return i*e*4/r.components*r.byteLength;case mv:case gv:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case vv:case yv:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case P5:case L5:return Math.max(i,16)*Math.max(e,8)/4;case R5:case I5:return Math.max(i,8)*Math.max(e,8)/2;case D5:case B5:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case F5:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case O5:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case k5:return Math.floor((i+4)/5)*Math.floor((e+3)/4)*16;case N5:return Math.floor((i+4)/5)*Math.floor((e+4)/5)*16;case U5:return Math.floor((i+5)/6)*Math.floor((e+4)/5)*16;case z5:return Math.floor((i+5)/6)*Math.floor((e+5)/6)*16;case j5:return Math.floor((i+7)/8)*Math.floor((e+4)/5)*16;case H5:return Math.floor((i+7)/8)*Math.floor((e+5)/6)*16;case G5:return Math.floor((i+7)/8)*Math.floor((e+7)/8)*16;case V5:return Math.floor((i+9)/10)*Math.floor((e+4)/5)*16;case W5:return Math.floor((i+9)/10)*Math.floor((e+5)/6)*16;case X5:return Math.floor((i+9)/10)*Math.floor((e+7)/8)*16;case K5:return Math.floor((i+9)/10)*Math.floor((e+9)/10)*16;case Y5:return Math.floor((i+11)/12)*Math.floor((e+9)/10)*16;case J5:return Math.floor((i+11)/12)*Math.floor((e+11)/12)*16;case _v:case q5:case Z5:return Math.ceil(i/4)*Math.ceil(e/4)*16;case sI:case Q5:return Math.ceil(i/4)*Math.ceil(e/4)*8;case $5:case e4:return Math.ceil(i/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function Mce(i){switch(i){case Ca:case Z7:return{byteLength:1,components:1};case sg:case Q7:case Cg:return{byteLength:2,components:1};case WC:case XC:return{byteLength:2,components:4};case Wc:case VC:case ps:return{byteLength:4,components:1};case $7:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}const Ece={contain:Sce,cover:bce,fill:Cce,getByteLength:D9};function Tce(i,e,t,n,r,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new we,u=new WeakMap;let h;const d=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(J,U){return m?new OffscreenCanvas(J,U):ly("canvas")}function y(J,U,ue){let Te=1;const Ee=Ke(J);if((Ee.width>ue||Ee.height>ue)&&(Te=ue/Math.max(Ee.width,Ee.height)),Te<1)if(typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&J instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&J instanceof ImageBitmap||typeof VideoFrame<"u"&&J instanceof VideoFrame){const Re=Math.floor(Te*Ee.width),ot=Math.floor(Te*Ee.height);h===void 0&&(h=g(Re,ot));const Le=U?g(Re,ot):h;return Le.width=Re,Le.height=ot,Le.getContext("2d").drawImage(J,0,0,Re,ot),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ee.width+"x"+Ee.height+") to ("+Re+"x"+ot+")."),Le}else return"data"in J&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ee.width+"x"+Ee.height+")."),J;return J}function _(J){return J.generateMipmaps&&J.minFilter!==Ri&&J.minFilter!==$n}function v(J){i.generateMipmap(J)}function A(J,U,ue,Te,Ee=!1){if(J!==null){if(i[J]!==void 0)return i[J];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+J+"'")}let Re=U;if(U===i.RED&&(ue===i.FLOAT&&(Re=i.R32F),ue===i.HALF_FLOAT&&(Re=i.R16F),ue===i.UNSIGNED_BYTE&&(Re=i.R8)),U===i.RED_INTEGER&&(ue===i.UNSIGNED_BYTE&&(Re=i.R8UI),ue===i.UNSIGNED_SHORT&&(Re=i.R16UI),ue===i.UNSIGNED_INT&&(Re=i.R32UI),ue===i.BYTE&&(Re=i.R8I),ue===i.SHORT&&(Re=i.R16I),ue===i.INT&&(Re=i.R32I)),U===i.RG&&(ue===i.FLOAT&&(Re=i.RG32F),ue===i.HALF_FLOAT&&(Re=i.RG16F),ue===i.UNSIGNED_BYTE&&(Re=i.RG8)),U===i.RG_INTEGER&&(ue===i.UNSIGNED_BYTE&&(Re=i.RG8UI),ue===i.UNSIGNED_SHORT&&(Re=i.RG16UI),ue===i.UNSIGNED_INT&&(Re=i.RG32UI),ue===i.BYTE&&(Re=i.RG8I),ue===i.SHORT&&(Re=i.RG16I),ue===i.INT&&(Re=i.RG32I)),U===i.RGB&&ue===i.UNSIGNED_INT_5_9_9_9_REV&&(Re=i.RGB9_E5),U===i.RGBA){const ot=Ee?iy:nn.getTransfer(Te);ue===i.FLOAT&&(Re=i.RGBA32F),ue===i.HALF_FLOAT&&(Re=i.RGBA16F),ue===i.UNSIGNED_BYTE&&(Re=ot===wn?i.SRGB8_ALPHA8:i.RGBA8),ue===i.UNSIGNED_SHORT_4_4_4_4&&(Re=i.RGBA4),ue===i.UNSIGNED_SHORT_5_5_5_1&&(Re=i.RGB5_A1)}return(Re===i.R16F||Re===i.R32F||Re===i.RG16F||Re===i.RG32F||Re===i.RGBA16F||Re===i.RGBA32F)&&e.get("EXT_color_buffer_float"),Re}function w(J,U){let ue;return J?U===null||U===Wc||U===_0?ue=i.DEPTH24_STENCIL8:U===ps?ue=i.DEPTH32F_STENCIL8:U===sg&&(ue=i.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):U===null||U===Wc||U===_0?ue=i.DEPTH_COMPONENT24:U===ps?ue=i.DEPTH_COMPONENT32F:U===sg&&(ue=i.DEPTH_COMPONENT16),ue}function C(J,U){return _(J)===!0||J.isFramebufferTexture&&J.minFilter!==Ri&&J.minFilter!==$n?Math.log2(Math.max(U.width,U.height))+1:J.mipmaps!==void 0&&J.mipmaps.length>0?J.mipmaps.length:J.isCompressedTexture&&Array.isArray(J.image)?U.mipmaps.length:1}function T(J){const U=J.target;U.removeEventListener("dispose",T),R(U),U.isVideoTexture&&u.delete(U)}function E(J){const U=J.target;U.removeEventListener("dispose",E),I(U)}function R(J){const U=n.get(J);if(U.__webglInit===void 0)return;const ue=J.source,Te=d.get(ue);if(Te){const Ee=Te[U.__cacheKey];Ee.usedTimes--,Ee.usedTimes===0&&D(J),Object.keys(Te).length===0&&d.delete(ue)}n.remove(J)}function D(J){const U=n.get(J);i.deleteTexture(U.__webglTexture);const ue=J.source,Te=d.get(ue);delete Te[U.__cacheKey],o.memory.textures--}function I(J){const U=n.get(J);if(J.depthTexture&&J.depthTexture.dispose(),J.isWebGLCubeRenderTarget)for(let Te=0;Te<6;Te++){if(Array.isArray(U.__webglFramebuffer[Te]))for(let Ee=0;Ee<U.__webglFramebuffer[Te].length;Ee++)i.deleteFramebuffer(U.__webglFramebuffer[Te][Ee]);else i.deleteFramebuffer(U.__webglFramebuffer[Te]);U.__webglDepthbuffer&&i.deleteRenderbuffer(U.__webglDepthbuffer[Te])}else{if(Array.isArray(U.__webglFramebuffer))for(let Te=0;Te<U.__webglFramebuffer.length;Te++)i.deleteFramebuffer(U.__webglFramebuffer[Te]);else i.deleteFramebuffer(U.__webglFramebuffer);if(U.__webglDepthbuffer&&i.deleteRenderbuffer(U.__webglDepthbuffer),U.__webglMultisampledFramebuffer&&i.deleteFramebuffer(U.__webglMultisampledFramebuffer),U.__webglColorRenderbuffer)for(let Te=0;Te<U.__webglColorRenderbuffer.length;Te++)U.__webglColorRenderbuffer[Te]&&i.deleteRenderbuffer(U.__webglColorRenderbuffer[Te]);U.__webglDepthRenderbuffer&&i.deleteRenderbuffer(U.__webglDepthRenderbuffer)}const ue=J.textures;for(let Te=0,Ee=ue.length;Te<Ee;Te++){const Re=n.get(ue[Te]);Re.__webglTexture&&(i.deleteTexture(Re.__webglTexture),o.memory.textures--),n.remove(ue[Te])}n.remove(J)}let L=0;function O(){L=0}function X(){const J=L;return J>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+J+" texture units while this GPU supports only "+r.maxTextures),L+=1,J}function W(J){const U=[];return U.push(J.wrapS),U.push(J.wrapT),U.push(J.wrapR||0),U.push(J.magFilter),U.push(J.minFilter),U.push(J.anisotropy),U.push(J.internalFormat),U.push(J.format),U.push(J.type),U.push(J.generateMipmaps),U.push(J.premultiplyAlpha),U.push(J.flipY),U.push(J.unpackAlignment),U.push(J.colorSpace),U.join()}function q(J,U){const ue=n.get(J);if(J.isVideoTexture&&Je(J),J.isRenderTargetTexture===!1&&J.version>0&&ue.__version!==J.version){const Te=J.image;if(Te===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Te.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ye(ue,J,U);return}}t.bindTexture(i.TEXTURE_2D,ue.__webglTexture,i.TEXTURE0+U)}function $(J,U){const ue=n.get(J);if(J.version>0&&ue.__version!==J.version){ye(ue,J,U);return}t.bindTexture(i.TEXTURE_2D_ARRAY,ue.__webglTexture,i.TEXTURE0+U)}function Q(J,U){const ue=n.get(J);if(J.version>0&&ue.__version!==J.version){ye(ue,J,U);return}t.bindTexture(i.TEXTURE_3D,ue.__webglTexture,i.TEXTURE0+U)}function ee(J,U){const ue=n.get(J);if(J.version>0&&ue.__version!==J.version){re(ue,J,U);return}t.bindTexture(i.TEXTURE_CUBE_MAP,ue.__webglTexture,i.TEXTURE0+U)}const k={[Th]:i.REPEAT,[Ys]:i.CLAMP_TO_EDGE,[rg]:i.MIRRORED_REPEAT},Z={[Ri]:i.NEAREST,[GC]:i.NEAREST_MIPMAP_NEAREST,[Nd]:i.NEAREST_MIPMAP_LINEAR,[$n]:i.LINEAR,[xm]:i.LINEAR_MIPMAP_NEAREST,[Fo]:i.LINEAR_MIPMAP_LINEAR},K={[EV]:i.NEVER,[DV]:i.ALWAYS,[TV]:i.LESS,[lI]:i.LEQUAL,[RV]:i.EQUAL,[LV]:i.GEQUAL,[PV]:i.GREATER,[IV]:i.NOTEQUAL};function ne(J,U){if(U.type===ps&&e.has("OES_texture_float_linear")===!1&&(U.magFilter===$n||U.magFilter===xm||U.magFilter===Nd||U.magFilter===Fo||U.minFilter===$n||U.minFilter===xm||U.minFilter===Nd||U.minFilter===Fo)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri(J,i.TEXTURE_WRAP_S,k[U.wrapS]),i.texParameteri(J,i.TEXTURE_WRAP_T,k[U.wrapT]),(J===i.TEXTURE_3D||J===i.TEXTURE_2D_ARRAY)&&i.texParameteri(J,i.TEXTURE_WRAP_R,k[U.wrapR]),i.texParameteri(J,i.TEXTURE_MAG_FILTER,Z[U.magFilter]),i.texParameteri(J,i.TEXTURE_MIN_FILTER,Z[U.minFilter]),U.compareFunction&&(i.texParameteri(J,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(J,i.TEXTURE_COMPARE_FUNC,K[U.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(U.magFilter===Ri||U.minFilter!==Nd&&U.minFilter!==Fo||U.type===ps&&e.has("OES_texture_float_linear")===!1)return;if(U.anisotropy>1||n.get(U).__currentAnisotropy){const ue=e.get("EXT_texture_filter_anisotropic");i.texParameterf(J,ue.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(U.anisotropy,r.getMaxAnisotropy())),n.get(U).__currentAnisotropy=U.anisotropy}}}function le(J,U){let ue=!1;J.__webglInit===void 0&&(J.__webglInit=!0,U.addEventListener("dispose",T));const Te=U.source;let Ee=d.get(Te);Ee===void 0&&(Ee={},d.set(Te,Ee));const Re=W(U);if(Re!==J.__cacheKey){Ee[Re]===void 0&&(Ee[Re]={texture:i.createTexture(),usedTimes:0},o.memory.textures++,ue=!0),Ee[Re].usedTimes++;const ot=Ee[J.__cacheKey];ot!==void 0&&(Ee[J.__cacheKey].usedTimes--,ot.usedTimes===0&&D(U)),J.__cacheKey=Re,J.__webglTexture=Ee[Re].texture}return ue}function ye(J,U,ue){let Te=i.TEXTURE_2D;(U.isDataArrayTexture||U.isCompressedArrayTexture)&&(Te=i.TEXTURE_2D_ARRAY),U.isData3DTexture&&(Te=i.TEXTURE_3D);const Ee=le(J,U),Re=U.source;t.bindTexture(Te,J.__webglTexture,i.TEXTURE0+ue);const ot=n.get(Re);if(Re.version!==ot.__version||Ee===!0){t.activeTexture(i.TEXTURE0+ue);const Le=nn.getPrimaries(nn.workingColorSpace),Xe=U.colorSpace===wc?null:nn.getPrimaries(U.colorSpace),yt=U.colorSpace===wc||Le===Xe?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,U.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,U.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,U.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,yt);let De=y(U.image,!1,r.maxTextureSize);De=Ue(U,De);const Ze=s.convert(U.format,U.colorSpace),kt=s.convert(U.type);let _t=A(U.internalFormat,Ze,kt,U.colorSpace,U.isVideoTexture);ne(Te,U);let et;const ie=U.mipmaps,be=U.isVideoTexture!==!0,qe=ot.__version===void 0||Ee===!0,te=Re.dataReady,Pe=C(U,De);if(U.isDepthTexture)_t=w(U.format===x0,U.type),qe&&(be?t.texStorage2D(i.TEXTURE_2D,1,_t,De.width,De.height):t.texImage2D(i.TEXTURE_2D,0,_t,De.width,De.height,0,Ze,kt,null));else if(U.isDataTexture)if(ie.length>0){be&&qe&&t.texStorage2D(i.TEXTURE_2D,Pe,_t,ie[0].width,ie[0].height);for(let Se=0,Ce=ie.length;Se<Ce;Se++)et=ie[Se],be?te&&t.texSubImage2D(i.TEXTURE_2D,Se,0,0,et.width,et.height,Ze,kt,et.data):t.texImage2D(i.TEXTURE_2D,Se,_t,et.width,et.height,0,Ze,kt,et.data);U.generateMipmaps=!1}else be?(qe&&t.texStorage2D(i.TEXTURE_2D,Pe,_t,De.width,De.height),te&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,De.width,De.height,Ze,kt,De.data)):t.texImage2D(i.TEXTURE_2D,0,_t,De.width,De.height,0,Ze,kt,De.data);else if(U.isCompressedTexture)if(U.isCompressedArrayTexture){be&&qe&&t.texStorage3D(i.TEXTURE_2D_ARRAY,Pe,_t,ie[0].width,ie[0].height,De.depth);for(let Se=0,Ce=ie.length;Se<Ce;Se++)if(et=ie[Se],U.format!==Pr)if(Ze!==null)if(be){if(te)if(U.layerUpdates.size>0){const ze=D9(et.width,et.height,U.format,U.type);for(const gt of U.layerUpdates){const Ct=et.data.subarray(gt*ze/et.data.BYTES_PER_ELEMENT,(gt+1)*ze/et.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,Se,0,0,gt,et.width,et.height,1,Ze,Ct,0,0)}U.clearLayerUpdates()}else t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,Se,0,0,0,et.width,et.height,De.depth,Ze,et.data,0,0)}else t.compressedTexImage3D(i.TEXTURE_2D_ARRAY,Se,_t,et.width,et.height,De.depth,0,et.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else be?te&&t.texSubImage3D(i.TEXTURE_2D_ARRAY,Se,0,0,0,et.width,et.height,De.depth,Ze,kt,et.data):t.texImage3D(i.TEXTURE_2D_ARRAY,Se,_t,et.width,et.height,De.depth,0,Ze,kt,et.data)}else{be&&qe&&t.texStorage2D(i.TEXTURE_2D,Pe,_t,ie[0].width,ie[0].height);for(let Se=0,Ce=ie.length;Se<Ce;Se++)et=ie[Se],U.format!==Pr?Ze!==null?be?te&&t.compressedTexSubImage2D(i.TEXTURE_2D,Se,0,0,et.width,et.height,Ze,et.data):t.compressedTexImage2D(i.TEXTURE_2D,Se,_t,et.width,et.height,0,et.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):be?te&&t.texSubImage2D(i.TEXTURE_2D,Se,0,0,et.width,et.height,Ze,kt,et.data):t.texImage2D(i.TEXTURE_2D,Se,_t,et.width,et.height,0,Ze,kt,et.data)}else if(U.isDataArrayTexture)if(be){if(qe&&t.texStorage3D(i.TEXTURE_2D_ARRAY,Pe,_t,De.width,De.height,De.depth),te)if(U.layerUpdates.size>0){const Se=D9(De.width,De.height,U.format,U.type);for(const Ce of U.layerUpdates){const ze=De.data.subarray(Ce*Se/De.data.BYTES_PER_ELEMENT,(Ce+1)*Se/De.data.BYTES_PER_ELEMENT);t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,Ce,De.width,De.height,1,Ze,kt,ze)}U.clearLayerUpdates()}else t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,De.width,De.height,De.depth,Ze,kt,De.data)}else t.texImage3D(i.TEXTURE_2D_ARRAY,0,_t,De.width,De.height,De.depth,0,Ze,kt,De.data);else if(U.isData3DTexture)be?(qe&&t.texStorage3D(i.TEXTURE_3D,Pe,_t,De.width,De.height,De.depth),te&&t.texSubImage3D(i.TEXTURE_3D,0,0,0,0,De.width,De.height,De.depth,Ze,kt,De.data)):t.texImage3D(i.TEXTURE_3D,0,_t,De.width,De.height,De.depth,0,Ze,kt,De.data);else if(U.isFramebufferTexture){if(qe)if(be)t.texStorage2D(i.TEXTURE_2D,Pe,_t,De.width,De.height);else{let Se=De.width,Ce=De.height;for(let ze=0;ze<Pe;ze++)t.texImage2D(i.TEXTURE_2D,ze,_t,Se,Ce,0,Ze,kt,null),Se>>=1,Ce>>=1}}else if(ie.length>0){if(be&&qe){const Se=Ke(ie[0]);t.texStorage2D(i.TEXTURE_2D,Pe,_t,Se.width,Se.height)}for(let Se=0,Ce=ie.length;Se<Ce;Se++)et=ie[Se],be?te&&t.texSubImage2D(i.TEXTURE_2D,Se,0,0,Ze,kt,et):t.texImage2D(i.TEXTURE_2D,Se,_t,Ze,kt,et);U.generateMipmaps=!1}else if(be){if(qe){const Se=Ke(De);t.texStorage2D(i.TEXTURE_2D,Pe,_t,Se.width,Se.height)}te&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,Ze,kt,De)}else t.texImage2D(i.TEXTURE_2D,0,_t,Ze,kt,De);_(U)&&v(Te),ot.__version=Re.version,U.onUpdate&&U.onUpdate(U)}J.__version=U.version}function re(J,U,ue){if(U.image.length!==6)return;const Te=le(J,U),Ee=U.source;t.bindTexture(i.TEXTURE_CUBE_MAP,J.__webglTexture,i.TEXTURE0+ue);const Re=n.get(Ee);if(Ee.version!==Re.__version||Te===!0){t.activeTexture(i.TEXTURE0+ue);const ot=nn.getPrimaries(nn.workingColorSpace),Le=U.colorSpace===wc?null:nn.getPrimaries(U.colorSpace),Xe=U.colorSpace===wc||ot===Le?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,U.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,U.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,U.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,Xe);const yt=U.isCompressedTexture||U.image[0].isCompressedTexture,De=U.image[0]&&U.image[0].isDataTexture,Ze=[];for(let Ce=0;Ce<6;Ce++)!yt&&!De?Ze[Ce]=y(U.image[Ce],!0,r.maxCubemapSize):Ze[Ce]=De?U.image[Ce].image:U.image[Ce],Ze[Ce]=Ue(U,Ze[Ce]);const kt=Ze[0],_t=s.convert(U.format,U.colorSpace),et=s.convert(U.type),ie=A(U.internalFormat,_t,et,U.colorSpace),be=U.isVideoTexture!==!0,qe=Re.__version===void 0||Te===!0,te=Ee.dataReady;let Pe=C(U,kt);ne(i.TEXTURE_CUBE_MAP,U);let Se;if(yt){be&&qe&&t.texStorage2D(i.TEXTURE_CUBE_MAP,Pe,ie,kt.width,kt.height);for(let Ce=0;Ce<6;Ce++){Se=Ze[Ce].mipmaps;for(let ze=0;ze<Se.length;ze++){const gt=Se[ze];U.format!==Pr?_t!==null?be?te&&t.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,ze,0,0,gt.width,gt.height,_t,gt.data):t.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,ze,ie,gt.width,gt.height,0,gt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):be?te&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,ze,0,0,gt.width,gt.height,_t,et,gt.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,ze,ie,gt.width,gt.height,0,_t,et,gt.data)}}}else{if(Se=U.mipmaps,be&&qe){Se.length>0&&Pe++;const Ce=Ke(Ze[0]);t.texStorage2D(i.TEXTURE_CUBE_MAP,Pe,ie,Ce.width,Ce.height)}for(let Ce=0;Ce<6;Ce++)if(De){be?te&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,0,0,Ze[Ce].width,Ze[Ce].height,_t,et,Ze[Ce].data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,ie,Ze[Ce].width,Ze[Ce].height,0,_t,et,Ze[Ce].data);for(let ze=0;ze<Se.length;ze++){const Ct=Se[ze].image[Ce].image;be?te&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,ze+1,0,0,Ct.width,Ct.height,_t,et,Ct.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,ze+1,ie,Ct.width,Ct.height,0,_t,et,Ct.data)}}else{be?te&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,0,0,_t,et,Ze[Ce]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,ie,_t,et,Ze[Ce]);for(let ze=0;ze<Se.length;ze++){const gt=Se[ze];be?te&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,ze+1,0,0,_t,et,gt.image[Ce]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,ze+1,ie,_t,et,gt.image[Ce])}}}_(U)&&v(i.TEXTURE_CUBE_MAP),Re.__version=Ee.version,U.onUpdate&&U.onUpdate(U)}J.__version=U.version}function pe(J,U,ue,Te,Ee,Re){const ot=s.convert(ue.format,ue.colorSpace),Le=s.convert(ue.type),Xe=A(ue.internalFormat,ot,Le,ue.colorSpace);if(!n.get(U).__hasExternalTextures){const De=Math.max(1,U.width>>Re),Ze=Math.max(1,U.height>>Re);Ee===i.TEXTURE_3D||Ee===i.TEXTURE_2D_ARRAY?t.texImage3D(Ee,Re,Xe,De,Ze,U.depth,0,ot,Le,null):t.texImage2D(Ee,Re,Xe,De,Ze,0,ot,Le,null)}t.bindFramebuffer(i.FRAMEBUFFER,J),ge(U)?a.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,Te,Ee,n.get(ue).__webglTexture,0,Ie(U)):(Ee===i.TEXTURE_2D||Ee>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&Ee<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,Te,Ee,n.get(ue).__webglTexture,Re),t.bindFramebuffer(i.FRAMEBUFFER,null)}function Me(J,U,ue){if(i.bindRenderbuffer(i.RENDERBUFFER,J),U.depthBuffer){const Te=U.depthTexture,Ee=Te&&Te.isDepthTexture?Te.type:null,Re=w(U.stencilBuffer,Ee),ot=U.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Le=Ie(U);ge(U)?a.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Le,Re,U.width,U.height):ue?i.renderbufferStorageMultisample(i.RENDERBUFFER,Le,Re,U.width,U.height):i.renderbufferStorage(i.RENDERBUFFER,Re,U.width,U.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,ot,i.RENDERBUFFER,J)}else{const Te=U.textures;for(let Ee=0;Ee<Te.length;Ee++){const Re=Te[Ee],ot=s.convert(Re.format,Re.colorSpace),Le=s.convert(Re.type),Xe=A(Re.internalFormat,ot,Le,Re.colorSpace),yt=Ie(U);ue&&ge(U)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,yt,Xe,U.width,U.height):ge(U)?a.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,yt,Xe,U.width,U.height):i.renderbufferStorage(i.RENDERBUFFER,Xe,U.width,U.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function xe(J,U){if(U&&U.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(i.FRAMEBUFFER,J),!(U.depthTexture&&U.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(U.depthTexture).__webglTexture||U.depthTexture.image.width!==U.width||U.depthTexture.image.height!==U.height)&&(U.depthTexture.image.width=U.width,U.depthTexture.image.height=U.height,U.depthTexture.needsUpdate=!0),q(U.depthTexture,0);const Te=n.get(U.depthTexture).__webglTexture,Ee=Ie(U);if(U.depthTexture.format===r0)ge(U)?a.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Te,0,Ee):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Te,0);else if(U.depthTexture.format===x0)ge(U)?a.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Te,0,Ee):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Te,0);else throw new Error("Unknown depthTexture format")}function We(J){const U=n.get(J),ue=J.isWebGLCubeRenderTarget===!0;if(J.depthTexture&&!U.__autoAllocateDepthBuffer){if(ue)throw new Error("target.depthTexture not supported in Cube render targets");xe(U.__webglFramebuffer,J)}else if(ue){U.__webglDepthbuffer=[];for(let Te=0;Te<6;Te++)t.bindFramebuffer(i.FRAMEBUFFER,U.__webglFramebuffer[Te]),U.__webglDepthbuffer[Te]=i.createRenderbuffer(),Me(U.__webglDepthbuffer[Te],J,!1)}else t.bindFramebuffer(i.FRAMEBUFFER,U.__webglFramebuffer),U.__webglDepthbuffer=i.createRenderbuffer(),Me(U.__webglDepthbuffer,J,!1);t.bindFramebuffer(i.FRAMEBUFFER,null)}function rt(J,U,ue){const Te=n.get(J);U!==void 0&&pe(Te.__webglFramebuffer,J,J.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),ue!==void 0&&We(J)}function Be(J){const U=J.texture,ue=n.get(J),Te=n.get(U);J.addEventListener("dispose",E);const Ee=J.textures,Re=J.isWebGLCubeRenderTarget===!0,ot=Ee.length>1;if(ot||(Te.__webglTexture===void 0&&(Te.__webglTexture=i.createTexture()),Te.__version=U.version,o.memory.textures++),Re){ue.__webglFramebuffer=[];for(let Le=0;Le<6;Le++)if(U.mipmaps&&U.mipmaps.length>0){ue.__webglFramebuffer[Le]=[];for(let Xe=0;Xe<U.mipmaps.length;Xe++)ue.__webglFramebuffer[Le][Xe]=i.createFramebuffer()}else ue.__webglFramebuffer[Le]=i.createFramebuffer()}else{if(U.mipmaps&&U.mipmaps.length>0){ue.__webglFramebuffer=[];for(let Le=0;Le<U.mipmaps.length;Le++)ue.__webglFramebuffer[Le]=i.createFramebuffer()}else ue.__webglFramebuffer=i.createFramebuffer();if(ot)for(let Le=0,Xe=Ee.length;Le<Xe;Le++){const yt=n.get(Ee[Le]);yt.__webglTexture===void 0&&(yt.__webglTexture=i.createTexture(),o.memory.textures++)}if(J.samples>0&&ge(J)===!1){ue.__webglMultisampledFramebuffer=i.createFramebuffer(),ue.__webglColorRenderbuffer=[],t.bindFramebuffer(i.FRAMEBUFFER,ue.__webglMultisampledFramebuffer);for(let Le=0;Le<Ee.length;Le++){const Xe=Ee[Le];ue.__webglColorRenderbuffer[Le]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,ue.__webglColorRenderbuffer[Le]);const yt=s.convert(Xe.format,Xe.colorSpace),De=s.convert(Xe.type),Ze=A(Xe.internalFormat,yt,De,Xe.colorSpace,J.isXRRenderTarget===!0),kt=Ie(J);i.renderbufferStorageMultisample(i.RENDERBUFFER,kt,Ze,J.width,J.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Le,i.RENDERBUFFER,ue.__webglColorRenderbuffer[Le])}i.bindRenderbuffer(i.RENDERBUFFER,null),J.depthBuffer&&(ue.__webglDepthRenderbuffer=i.createRenderbuffer(),Me(ue.__webglDepthRenderbuffer,J,!0)),t.bindFramebuffer(i.FRAMEBUFFER,null)}}if(Re){t.bindTexture(i.TEXTURE_CUBE_MAP,Te.__webglTexture),ne(i.TEXTURE_CUBE_MAP,U);for(let Le=0;Le<6;Le++)if(U.mipmaps&&U.mipmaps.length>0)for(let Xe=0;Xe<U.mipmaps.length;Xe++)pe(ue.__webglFramebuffer[Le][Xe],J,U,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Xe);else pe(ue.__webglFramebuffer[Le],J,U,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0);_(U)&&v(i.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ot){for(let Le=0,Xe=Ee.length;Le<Xe;Le++){const yt=Ee[Le],De=n.get(yt);t.bindTexture(i.TEXTURE_2D,De.__webglTexture),ne(i.TEXTURE_2D,yt),pe(ue.__webglFramebuffer,J,yt,i.COLOR_ATTACHMENT0+Le,i.TEXTURE_2D,0),_(yt)&&v(i.TEXTURE_2D)}t.unbindTexture()}else{let Le=i.TEXTURE_2D;if((J.isWebGL3DRenderTarget||J.isWebGLArrayRenderTarget)&&(Le=J.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(Le,Te.__webglTexture),ne(Le,U),U.mipmaps&&U.mipmaps.length>0)for(let Xe=0;Xe<U.mipmaps.length;Xe++)pe(ue.__webglFramebuffer[Xe],J,U,i.COLOR_ATTACHMENT0,Le,Xe);else pe(ue.__webglFramebuffer,J,U,i.COLOR_ATTACHMENT0,Le,0);_(U)&&v(Le),t.unbindTexture()}J.depthBuffer&&We(J)}function He(J){const U=J.textures;for(let ue=0,Te=U.length;ue<Te;ue++){const Ee=U[ue];if(_(Ee)){const Re=J.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:i.TEXTURE_2D,ot=n.get(Ee).__webglTexture;t.bindTexture(Re,ot),v(Re),t.unbindTexture()}}}const G=[],me=[];function Ae(J){if(J.samples>0){if(ge(J)===!1){const U=J.textures,ue=J.width,Te=J.height;let Ee=i.COLOR_BUFFER_BIT;const Re=J.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,ot=n.get(J),Le=U.length>1;if(Le)for(let Xe=0;Xe<U.length;Xe++)t.bindFramebuffer(i.FRAMEBUFFER,ot.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Xe,i.RENDERBUFFER,null),t.bindFramebuffer(i.FRAMEBUFFER,ot.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+Xe,i.TEXTURE_2D,null,0);t.bindFramebuffer(i.READ_FRAMEBUFFER,ot.__webglMultisampledFramebuffer),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,ot.__webglFramebuffer);for(let Xe=0;Xe<U.length;Xe++){if(J.resolveDepthBuffer&&(J.depthBuffer&&(Ee|=i.DEPTH_BUFFER_BIT),J.stencilBuffer&&J.resolveStencilBuffer&&(Ee|=i.STENCIL_BUFFER_BIT)),Le){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,ot.__webglColorRenderbuffer[Xe]);const yt=n.get(U[Xe]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,yt,0)}i.blitFramebuffer(0,0,ue,Te,0,0,ue,Te,Ee,i.NEAREST),l===!0&&(G.length=0,me.length=0,G.push(i.COLOR_ATTACHMENT0+Xe),J.depthBuffer&&J.resolveDepthBuffer===!1&&(G.push(Re),me.push(Re),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,me)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,G))}if(t.bindFramebuffer(i.READ_FRAMEBUFFER,null),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),Le)for(let Xe=0;Xe<U.length;Xe++){t.bindFramebuffer(i.FRAMEBUFFER,ot.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Xe,i.RENDERBUFFER,ot.__webglColorRenderbuffer[Xe]);const yt=n.get(U[Xe]).__webglTexture;t.bindFramebuffer(i.FRAMEBUFFER,ot.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+Xe,i.TEXTURE_2D,yt,0)}t.bindFramebuffer(i.DRAW_FRAMEBUFFER,ot.__webglMultisampledFramebuffer)}else if(J.depthBuffer&&J.resolveDepthBuffer===!1&&l){const U=J.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[U])}}}function Ie(J){return Math.min(r.maxSamples,J.samples)}function ge(J){const U=n.get(J);return J.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&U.__useRenderToTexture!==!1}function Je(J){const U=o.render.frame;u.get(J)!==U&&(u.set(J,U),J.update())}function Ue(J,U){const ue=J.colorSpace,Te=J.format,Ee=J.type;return J.isCompressedTexture===!0||J.isVideoTexture===!0||ue!==Zc&&ue!==wc&&(nn.getTransfer(ue)===wn?(Te!==Pr||Ee!==Ca)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ue)),U}function Ke(J){return typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement?(c.width=J.naturalWidth||J.width,c.height=J.naturalHeight||J.height):typeof VideoFrame<"u"&&J instanceof VideoFrame?(c.width=J.displayWidth,c.height=J.displayHeight):(c.width=J.width,c.height=J.height),c}this.allocateTextureUnit=X,this.resetTextureUnits=O,this.setTexture2D=q,this.setTexture2DArray=$,this.setTexture3D=Q,this.setTextureCube=ee,this.rebindTextures=rt,this.setupRenderTarget=Be,this.updateRenderTargetMipmap=He,this.updateMultisampleRenderTarget=Ae,this.setupDepthRenderbuffer=We,this.setupFrameBufferTexture=pe,this.useMultisampledRTT=ge}function JV(i,e){function t(n,r=wc){let s;const o=nn.getTransfer(r);if(n===Ca)return i.UNSIGNED_BYTE;if(n===WC)return i.UNSIGNED_SHORT_4_4_4_4;if(n===XC)return i.UNSIGNED_SHORT_5_5_5_1;if(n===$7)return i.UNSIGNED_INT_5_9_9_9_REV;if(n===Z7)return i.BYTE;if(n===Q7)return i.SHORT;if(n===sg)return i.UNSIGNED_SHORT;if(n===VC)return i.INT;if(n===Wc)return i.UNSIGNED_INT;if(n===ps)return i.FLOAT;if(n===Cg)return i.HALF_FLOAT;if(n===eI)return i.ALPHA;if(n===tI)return i.RGB;if(n===Pr)return i.RGBA;if(n===nI)return i.LUMINANCE;if(n===iI)return i.LUMINANCE_ALPHA;if(n===r0)return i.DEPTH_COMPONENT;if(n===x0)return i.DEPTH_STENCIL;if(n===KC)return i.RED;if(n===rx)return i.RED_INTEGER;if(n===rI)return i.RG;if(n===YC)return i.RG_INTEGER;if(n===JC)return i.RGBA_INTEGER;if(n===mv||n===gv||n===vv||n===yv)if(o===wn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(n===mv)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===gv)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===vv)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===yv)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(n===mv)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===gv)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===vv)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===yv)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===R5||n===P5||n===I5||n===L5)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(n===R5)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===P5)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===I5)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===L5)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===D5||n===B5||n===F5)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(n===D5||n===B5)return o===wn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(n===F5)return o===wn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===O5||n===k5||n===N5||n===U5||n===z5||n===j5||n===H5||n===G5||n===V5||n===W5||n===X5||n===K5||n===Y5||n===J5)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(n===O5)return o===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===k5)return o===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===N5)return o===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===U5)return o===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===z5)return o===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===j5)return o===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===H5)return o===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===G5)return o===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===V5)return o===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===W5)return o===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===X5)return o===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===K5)return o===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Y5)return o===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===J5)return o===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===_v||n===q5||n===Z5)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(n===_v)return o===wn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===q5)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===Z5)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===sI||n===Q5||n===$5||n===e4)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(n===_v)return s.COMPRESSED_RED_RGTC1_EXT;if(n===Q5)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===$5)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===e4)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===_0?i.UNSIGNED_INT_24_8:i[n]!==void 0?i[n]:null}return{convert:t}}class qV extends Pn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Mc extends zt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Rce={type:"move"};class v6{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Mc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Mc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new V,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new V),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Mc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new V,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new V),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const y of e.hand.values()){const _=t.getJointPose(y,n),v=this._getHandJoint(c,y);_!==null&&(v.matrix.fromArray(_.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=_.radius),v.visible=_!==null}const u=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],d=u.position.distanceTo(h.position),m=.02,g=.005;c.inputState.pinching&&d>m+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=m-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,n),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Rce)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new Mc;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}const Pce=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Ice=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Lce{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(this.texture===null){const r=new Ln,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!=n.depthNear||t.depthFar!=n.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new Ea({vertexShader:Pce,fragmentShader:Ice,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new ci(new Mg(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Dce extends wl{constructor(e,t){super();const n=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,h=null,d=null,m=null,g=null;const y=new Lce,_=t.getContextAttributes();let v=null,A=null;const w=[],C=[],T=new we;let E=null;const R=new Pn;R.layers.enable(1),R.viewport=new sn;const D=new Pn;D.layers.enable(2),D.viewport=new sn;const I=[R,D],L=new qV;L.layers.enable(1),L.layers.enable(2);let O=null,X=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(re){let pe=w[re];return pe===void 0&&(pe=new v6,w[re]=pe),pe.getTargetRaySpace()},this.getControllerGrip=function(re){let pe=w[re];return pe===void 0&&(pe=new v6,w[re]=pe),pe.getGripSpace()},this.getHand=function(re){let pe=w[re];return pe===void 0&&(pe=new v6,w[re]=pe),pe.getHandSpace()};function W(re){const pe=C.indexOf(re.inputSource);if(pe===-1)return;const Me=w[pe];Me!==void 0&&(Me.update(re.inputSource,re.frame,c||o),Me.dispatchEvent({type:re.type,data:re.inputSource}))}function q(){r.removeEventListener("select",W),r.removeEventListener("selectstart",W),r.removeEventListener("selectend",W),r.removeEventListener("squeeze",W),r.removeEventListener("squeezestart",W),r.removeEventListener("squeezeend",W),r.removeEventListener("end",q),r.removeEventListener("inputsourceschange",$);for(let re=0;re<w.length;re++){const pe=C[re];pe!==null&&(C[re]=null,w[re].disconnect(pe))}O=null,X=null,y.reset(),e.setRenderTarget(v),m=null,d=null,h=null,r=null,A=null,ye.stop(),n.isPresenting=!1,e.setPixelRatio(E),e.setSize(T.width,T.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(re){s=re,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(re){a=re,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(re){c=re},this.getBaseLayer=function(){return d!==null?d:m},this.getBinding=function(){return h},this.getFrame=function(){return g},this.getSession=function(){return r},this.setSession=async function(re){if(r=re,r!==null){if(v=e.getRenderTarget(),r.addEventListener("select",W),r.addEventListener("selectstart",W),r.addEventListener("selectend",W),r.addEventListener("squeeze",W),r.addEventListener("squeezestart",W),r.addEventListener("squeezeend",W),r.addEventListener("end",q),r.addEventListener("inputsourceschange",$),_.xrCompatible!==!0&&await t.makeXRCompatible(),E=e.getPixelRatio(),e.getSize(T),r.renderState.layers===void 0){const pe={antialias:_.antialias,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,pe),r.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),A=new Ma(m.framebufferWidth,m.framebufferHeight,{format:Pr,type:Ca,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil})}else{let pe=null,Me=null,xe=null;_.depth&&(xe=_.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,pe=_.stencil?x0:r0,Me=_.stencil?_0:Wc);const We={colorFormat:t.RGBA8,depthFormat:xe,scaleFactor:s};h=new XRWebGLBinding(r,t),d=h.createProjectionLayer(We),r.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),A=new Ma(d.textureWidth,d.textureHeight,{format:Pr,type:Ca,depthTexture:new pI(d.textureWidth,d.textureHeight,Me,void 0,void 0,void 0,void 0,void 0,void 0,pe),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0,resolveDepthBuffer:d.ignoreDepthValues===!1})}A.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),ye.setContext(r),ye.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return y.getDepthTexture()};function $(re){for(let pe=0;pe<re.removed.length;pe++){const Me=re.removed[pe],xe=C.indexOf(Me);xe>=0&&(C[xe]=null,w[xe].disconnect(Me))}for(let pe=0;pe<re.added.length;pe++){const Me=re.added[pe];let xe=C.indexOf(Me);if(xe===-1){for(let rt=0;rt<w.length;rt++)if(rt>=C.length){C.push(Me),xe=rt;break}else if(C[rt]===null){C[rt]=Me,xe=rt;break}if(xe===-1)break}const We=w[xe];We&&We.connect(Me)}}const Q=new V,ee=new V;function k(re,pe,Me){Q.setFromMatrixPosition(pe.matrixWorld),ee.setFromMatrixPosition(Me.matrixWorld);const xe=Q.distanceTo(ee),We=pe.projectionMatrix.elements,rt=Me.projectionMatrix.elements,Be=We[14]/(We[10]-1),He=We[14]/(We[10]+1),G=(We[9]+1)/We[5],me=(We[9]-1)/We[5],Ae=(We[8]-1)/We[0],Ie=(rt[8]+1)/rt[0],ge=Be*Ae,Je=Be*Ie,Ue=xe/(-Ae+Ie),Ke=Ue*-Ae;pe.matrixWorld.decompose(re.position,re.quaternion,re.scale),re.translateX(Ke),re.translateZ(Ue),re.matrixWorld.compose(re.position,re.quaternion,re.scale),re.matrixWorldInverse.copy(re.matrixWorld).invert();const J=Be+Ue,U=He+Ue,ue=ge-Ke,Te=Je+(xe-Ke),Ee=G*He/U*J,Re=me*He/U*J;re.projectionMatrix.makePerspective(ue,Te,Ee,Re,J,U),re.projectionMatrixInverse.copy(re.projectionMatrix).invert()}function Z(re,pe){pe===null?re.matrixWorld.copy(re.matrix):re.matrixWorld.multiplyMatrices(pe.matrixWorld,re.matrix),re.matrixWorldInverse.copy(re.matrixWorld).invert()}this.updateCamera=function(re){if(r===null)return;y.texture!==null&&(re.near=y.depthNear,re.far=y.depthFar),L.near=D.near=R.near=re.near,L.far=D.far=R.far=re.far,(O!==L.near||X!==L.far)&&(r.updateRenderState({depthNear:L.near,depthFar:L.far}),O=L.near,X=L.far,R.near=O,R.far=X,D.near=O,D.far=X,R.updateProjectionMatrix(),D.updateProjectionMatrix(),re.updateProjectionMatrix());const pe=re.parent,Me=L.cameras;Z(L,pe);for(let xe=0;xe<Me.length;xe++)Z(Me[xe],pe);Me.length===2?k(L,R,D):L.projectionMatrix.copy(R.projectionMatrix),K(re,L,pe)};function K(re,pe,Me){Me===null?re.matrix.copy(pe.matrixWorld):(re.matrix.copy(Me.matrixWorld),re.matrix.invert(),re.matrix.multiply(pe.matrixWorld)),re.matrix.decompose(re.position,re.quaternion,re.scale),re.updateMatrixWorld(!0),re.projectionMatrix.copy(pe.projectionMatrix),re.projectionMatrixInverse.copy(pe.projectionMatrixInverse),re.isPerspectiveCamera&&(re.fov=lg*2*Math.atan(1/re.projectionMatrix.elements[5]),re.zoom=1)}this.getCamera=function(){return L},this.getFoveation=function(){if(!(d===null&&m===null))return l},this.setFoveation=function(re){l=re,d!==null&&(d.fixedFoveation=re),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=re)},this.hasDepthSensing=function(){return y.texture!==null},this.getDepthSensingMesh=function(){return y.getMesh(L)};let ne=null;function le(re,pe){if(u=pe.getViewerPose(c||o),g=pe,u!==null){const Me=u.views;m!==null&&(e.setRenderTargetFramebuffer(A,m.framebuffer),e.setRenderTarget(A));let xe=!1;Me.length!==L.cameras.length&&(L.cameras.length=0,xe=!0);for(let rt=0;rt<Me.length;rt++){const Be=Me[rt];let He=null;if(m!==null)He=m.getViewport(Be);else{const me=h.getViewSubImage(d,Be);He=me.viewport,rt===0&&(e.setRenderTargetTextures(A,me.colorTexture,d.ignoreDepthValues?void 0:me.depthStencilTexture),e.setRenderTarget(A))}let G=I[rt];G===void 0&&(G=new Pn,G.layers.enable(rt),G.viewport=new sn,I[rt]=G),G.matrix.fromArray(Be.transform.matrix),G.matrix.decompose(G.position,G.quaternion,G.scale),G.projectionMatrix.fromArray(Be.projectionMatrix),G.projectionMatrixInverse.copy(G.projectionMatrix).invert(),G.viewport.set(He.x,He.y,He.width,He.height),rt===0&&(L.matrix.copy(G.matrix),L.matrix.decompose(L.position,L.quaternion,L.scale)),xe===!0&&L.cameras.push(G)}const We=r.enabledFeatures;if(We&&We.includes("depth-sensing")){const rt=h.getDepthInformation(Me[0]);rt&&rt.isValid&&rt.texture&&y.init(e,rt,r.renderState)}}for(let Me=0;Me<w.length;Me++){const xe=C[Me],We=w[Me];xe!==null&&We!==void 0&&We.update(xe,pe,c||o)}ne&&ne(re,pe),pe.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:pe}),g=null}const ye=new VV;ye.setAnimationLoop(le),this.setAnimationLoop=function(re){ne=re},this.dispose=function(){}}}const od=new to,Bce=new pt;function Fce(i,e){function t(_,v){_.matrixAutoUpdate===!0&&_.updateMatrix(),v.value.copy(_.matrix)}function n(_,v){v.color.getRGB(_.fogColor.value,zV(i)),v.isFog?(_.fogNear.value=v.near,_.fogFar.value=v.far):v.isFogExp2&&(_.fogDensity.value=v.density)}function r(_,v,A,w,C){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(_,v):v.isMeshToonMaterial?(s(_,v),h(_,v)):v.isMeshPhongMaterial?(s(_,v),u(_,v)):v.isMeshStandardMaterial?(s(_,v),d(_,v),v.isMeshPhysicalMaterial&&m(_,v,C)):v.isMeshMatcapMaterial?(s(_,v),g(_,v)):v.isMeshDepthMaterial?s(_,v):v.isMeshDistanceMaterial?(s(_,v),y(_,v)):v.isMeshNormalMaterial?s(_,v):v.isLineBasicMaterial?(o(_,v),v.isLineDashedMaterial&&a(_,v)):v.isPointsMaterial?l(_,v,A,w):v.isSpriteMaterial?c(_,v):v.isShadowMaterial?(_.color.value.copy(v.color),_.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function s(_,v){_.opacity.value=v.opacity,v.color&&_.diffuse.value.copy(v.color),v.emissive&&_.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(_.map.value=v.map,t(v.map,_.mapTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,t(v.alphaMap,_.alphaMapTransform)),v.bumpMap&&(_.bumpMap.value=v.bumpMap,t(v.bumpMap,_.bumpMapTransform),_.bumpScale.value=v.bumpScale,v.side===Qr&&(_.bumpScale.value*=-1)),v.normalMap&&(_.normalMap.value=v.normalMap,t(v.normalMap,_.normalMapTransform),_.normalScale.value.copy(v.normalScale),v.side===Qr&&_.normalScale.value.negate()),v.displacementMap&&(_.displacementMap.value=v.displacementMap,t(v.displacementMap,_.displacementMapTransform),_.displacementScale.value=v.displacementScale,_.displacementBias.value=v.displacementBias),v.emissiveMap&&(_.emissiveMap.value=v.emissiveMap,t(v.emissiveMap,_.emissiveMapTransform)),v.specularMap&&(_.specularMap.value=v.specularMap,t(v.specularMap,_.specularMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest);const A=e.get(v),w=A.envMap,C=A.envMapRotation;w&&(_.envMap.value=w,od.copy(C),od.x*=-1,od.y*=-1,od.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(od.y*=-1,od.z*=-1),_.envMapRotation.value.setFromMatrix4(Bce.makeRotationFromEuler(od)),_.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=v.reflectivity,_.ior.value=v.ior,_.refractionRatio.value=v.refractionRatio),v.lightMap&&(_.lightMap.value=v.lightMap,_.lightMapIntensity.value=v.lightMapIntensity,t(v.lightMap,_.lightMapTransform)),v.aoMap&&(_.aoMap.value=v.aoMap,_.aoMapIntensity.value=v.aoMapIntensity,t(v.aoMap,_.aoMapTransform))}function o(_,v){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,v.map&&(_.map.value=v.map,t(v.map,_.mapTransform))}function a(_,v){_.dashSize.value=v.dashSize,_.totalSize.value=v.dashSize+v.gapSize,_.scale.value=v.scale}function l(_,v,A,w){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,_.size.value=v.size*A,_.scale.value=w*.5,v.map&&(_.map.value=v.map,t(v.map,_.uvTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,t(v.alphaMap,_.alphaMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest)}function c(_,v){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,_.rotation.value=v.rotation,v.map&&(_.map.value=v.map,t(v.map,_.mapTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,t(v.alphaMap,_.alphaMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest)}function u(_,v){_.specular.value.copy(v.specular),_.shininess.value=Math.max(v.shininess,1e-4)}function h(_,v){v.gradientMap&&(_.gradientMap.value=v.gradientMap)}function d(_,v){_.metalness.value=v.metalness,v.metalnessMap&&(_.metalnessMap.value=v.metalnessMap,t(v.metalnessMap,_.metalnessMapTransform)),_.roughness.value=v.roughness,v.roughnessMap&&(_.roughnessMap.value=v.roughnessMap,t(v.roughnessMap,_.roughnessMapTransform)),v.envMap&&(_.envMapIntensity.value=v.envMapIntensity)}function m(_,v,A){_.ior.value=v.ior,v.sheen>0&&(_.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),_.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(_.sheenColorMap.value=v.sheenColorMap,t(v.sheenColorMap,_.sheenColorMapTransform)),v.sheenRoughnessMap&&(_.sheenRoughnessMap.value=v.sheenRoughnessMap,t(v.sheenRoughnessMap,_.sheenRoughnessMapTransform))),v.clearcoat>0&&(_.clearcoat.value=v.clearcoat,_.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(_.clearcoatMap.value=v.clearcoatMap,t(v.clearcoatMap,_.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,t(v.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(_.clearcoatNormalMap.value=v.clearcoatNormalMap,t(v.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===Qr&&_.clearcoatNormalScale.value.negate())),v.dispersion>0&&(_.dispersion.value=v.dispersion),v.iridescence>0&&(_.iridescence.value=v.iridescence,_.iridescenceIOR.value=v.iridescenceIOR,_.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(_.iridescenceMap.value=v.iridescenceMap,t(v.iridescenceMap,_.iridescenceMapTransform)),v.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=v.iridescenceThicknessMap,t(v.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),v.transmission>0&&(_.transmission.value=v.transmission,_.transmissionSamplerMap.value=A.texture,_.transmissionSamplerSize.value.set(A.width,A.height),v.transmissionMap&&(_.transmissionMap.value=v.transmissionMap,t(v.transmissionMap,_.transmissionMapTransform)),_.thickness.value=v.thickness,v.thicknessMap&&(_.thicknessMap.value=v.thicknessMap,t(v.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=v.attenuationDistance,_.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(_.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(_.anisotropyMap.value=v.anisotropyMap,t(v.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=v.specularIntensity,_.specularColor.value.copy(v.specularColor),v.specularColorMap&&(_.specularColorMap.value=v.specularColorMap,t(v.specularColorMap,_.specularColorMapTransform)),v.specularIntensityMap&&(_.specularIntensityMap.value=v.specularIntensityMap,t(v.specularIntensityMap,_.specularIntensityMapTransform))}function g(_,v){v.matcap&&(_.matcap.value=v.matcap)}function y(_,v){const A=e.get(v).light;_.referencePosition.value.setFromMatrixPosition(A.matrixWorld),_.nearDistance.value=A.shadow.camera.near,_.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function Oce(i,e,t,n){let r={},s={},o=[];const a=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function l(A,w){const C=w.program;n.uniformBlockBinding(A,C)}function c(A,w){let C=r[A.id];C===void 0&&(g(A),C=u(A),r[A.id]=C,A.addEventListener("dispose",_));const T=w.program;n.updateUBOMapping(A,T);const E=e.render.frame;s[A.id]!==E&&(d(A),s[A.id]=E)}function u(A){const w=h();A.__bindingPointIndex=w;const C=i.createBuffer(),T=A.__size,E=A.usage;return i.bindBuffer(i.UNIFORM_BUFFER,C),i.bufferData(i.UNIFORM_BUFFER,T,E),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,w,C),C}function h(){for(let A=0;A<a;A++)if(o.indexOf(A)===-1)return o.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(A){const w=r[A.id],C=A.uniforms,T=A.__cache;i.bindBuffer(i.UNIFORM_BUFFER,w);for(let E=0,R=C.length;E<R;E++){const D=Array.isArray(C[E])?C[E]:[C[E]];for(let I=0,L=D.length;I<L;I++){const O=D[I];if(m(O,E,I,T)===!0){const X=O.__offset,W=Array.isArray(O.value)?O.value:[O.value];let q=0;for(let $=0;$<W.length;$++){const Q=W[$],ee=y(Q);typeof Q=="number"||typeof Q=="boolean"?(O.__data[0]=Q,i.bufferSubData(i.UNIFORM_BUFFER,X+q,O.__data)):Q.isMatrix3?(O.__data[0]=Q.elements[0],O.__data[1]=Q.elements[1],O.__data[2]=Q.elements[2],O.__data[3]=0,O.__data[4]=Q.elements[3],O.__data[5]=Q.elements[4],O.__data[6]=Q.elements[5],O.__data[7]=0,O.__data[8]=Q.elements[6],O.__data[9]=Q.elements[7],O.__data[10]=Q.elements[8],O.__data[11]=0):(Q.toArray(O.__data,q),q+=ee.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,X,O.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function m(A,w,C,T){const E=A.value,R=w+"_"+C;if(T[R]===void 0)return typeof E=="number"||typeof E=="boolean"?T[R]=E:T[R]=E.clone(),!0;{const D=T[R];if(typeof E=="number"||typeof E=="boolean"){if(D!==E)return T[R]=E,!0}else if(D.equals(E)===!1)return D.copy(E),!0}return!1}function g(A){const w=A.uniforms;let C=0;const T=16;for(let R=0,D=w.length;R<D;R++){const I=Array.isArray(w[R])?w[R]:[w[R]];for(let L=0,O=I.length;L<O;L++){const X=I[L],W=Array.isArray(X.value)?X.value:[X.value];for(let q=0,$=W.length;q<$;q++){const Q=W[q],ee=y(Q),k=C%T,Z=k%ee.boundary,K=k+Z;C+=Z,K!==0&&T-K<ee.storage&&(C+=T-K),X.__data=new Float32Array(ee.storage/Float32Array.BYTES_PER_ELEMENT),X.__offset=C,C+=ee.storage}}}const E=C%T;return E>0&&(C+=T-E),A.__size=C,A.__cache={},this}function y(A){const w={boundary:0,storage:0};return typeof A=="number"||typeof A=="boolean"?(w.boundary=4,w.storage=4):A.isVector2?(w.boundary=8,w.storage=8):A.isVector3||A.isColor?(w.boundary=16,w.storage=12):A.isVector4?(w.boundary=16,w.storage=16):A.isMatrix3?(w.boundary=48,w.storage=48):A.isMatrix4?(w.boundary=64,w.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),w}function _(A){const w=A.target;w.removeEventListener("dispose",_);const C=o.indexOf(w.__bindingPointIndex);o.splice(C,1),i.deleteBuffer(r[w.id]),delete r[w.id],delete s[w.id]}function v(){for(const A in r)i.deleteBuffer(r[A]);o=[],r={},s={}}return{bind:l,update:c,dispose:v}}class ZV{constructor(e={}){const{canvas:t=OV(),context:n=null,depth:r=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let d;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");d=n.getContextAttributes().alpha}else d=o;const m=new Uint32Array(4),g=new Int32Array(4);let y=null,_=null;const v=[],A=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Ro,this.toneMapping=pl,this.toneMappingExposure=1;const w=this;let C=!1,T=0,E=0,R=null,D=-1,I=null;const L=new sn,O=new sn;let X=null;const W=new Ge(0);let q=0,$=t.width,Q=t.height,ee=1,k=null,Z=null;const K=new sn(0,0,$,Q),ne=new sn(0,0,$,Q);let le=!1;const ye=new lx;let re=!1,pe=!1;const Me=new pt,xe=new V,We=new sn,rt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Be=!1;function He(){return R===null?ee:1}let G=n;function me(H,oe){return t.getContext(H,oe)}try{const H={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${nx}`),t.addEventListener("webglcontextlost",Se,!1),t.addEventListener("webglcontextrestored",Ce,!1),t.addEventListener("webglcontextcreationerror",ze,!1),G===null){const oe="webgl2";if(G=me(oe,H),G===null)throw me(oe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(H){throw console.error("THREE.WebGLRenderer: "+H.message),H}let Ae,Ie,ge,Je,Ue,Ke,J,U,ue,Te,Ee,Re,ot,Le,Xe,yt,De,Ze,kt,_t,et,ie,be,qe;function te(){Ae=new Gae(G),Ae.init(),ie=new JV(G,Ae),Ie=new kae(G,Ae,e,ie),ge=new wce(G),Je=new Xae(G),Ue=new uce,Ke=new Tce(G,Ae,ge,Ue,Ie,ie,Je),J=new Uae(w),U=new Hae(w),ue=new $re(G),be=new Fae(G,ue),Te=new Vae(G,ue,Je,be),Ee=new Yae(G,Te,ue,Je),kt=new Kae(G,Ie,Ke),yt=new Nae(Ue),Re=new cce(w,J,U,Ae,Ie,be,yt),ot=new Fce(w,Ue),Le=new dce,Xe=new yce(Ae),Ze=new Bae(w,J,U,ge,Ee,d,l),De=new Ace(w,Ee,Ie),qe=new Oce(G,Je,Ie,ge),_t=new Oae(G,Ae,Je),et=new Wae(G,Ae,Je),Je.programs=Re.programs,w.capabilities=Ie,w.extensions=Ae,w.properties=Ue,w.renderLists=Le,w.shadowMap=De,w.state=ge,w.info=Je}te();const Pe=new Dce(w,G);this.xr=Pe,this.getContext=function(){return G},this.getContextAttributes=function(){return G.getContextAttributes()},this.forceContextLoss=function(){const H=Ae.get("WEBGL_lose_context");H&&H.loseContext()},this.forceContextRestore=function(){const H=Ae.get("WEBGL_lose_context");H&&H.restoreContext()},this.getPixelRatio=function(){return ee},this.setPixelRatio=function(H){H!==void 0&&(ee=H,this.setSize($,Q,!1))},this.getSize=function(H){return H.set($,Q)},this.setSize=function(H,oe,de=!0){if(Pe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}$=H,Q=oe,t.width=Math.floor(H*ee),t.height=Math.floor(oe*ee),de===!0&&(t.style.width=H+"px",t.style.height=oe+"px"),this.setViewport(0,0,H,oe)},this.getDrawingBufferSize=function(H){return H.set($*ee,Q*ee).floor()},this.setDrawingBufferSize=function(H,oe,de){$=H,Q=oe,ee=de,t.width=Math.floor(H*de),t.height=Math.floor(oe*de),this.setViewport(0,0,H,oe)},this.getCurrentViewport=function(H){return H.copy(L)},this.getViewport=function(H){return H.copy(K)},this.setViewport=function(H,oe,de,fe){H.isVector4?K.set(H.x,H.y,H.z,H.w):K.set(H,oe,de,fe),ge.viewport(L.copy(K).multiplyScalar(ee).round())},this.getScissor=function(H){return H.copy(ne)},this.setScissor=function(H,oe,de,fe){H.isVector4?ne.set(H.x,H.y,H.z,H.w):ne.set(H,oe,de,fe),ge.scissor(O.copy(ne).multiplyScalar(ee).round())},this.getScissorTest=function(){return le},this.setScissorTest=function(H){ge.setScissorTest(le=H)},this.setOpaqueSort=function(H){k=H},this.setTransparentSort=function(H){Z=H},this.getClearColor=function(H){return H.copy(Ze.getClearColor())},this.setClearColor=function(){Ze.setClearColor.apply(Ze,arguments)},this.getClearAlpha=function(){return Ze.getClearAlpha()},this.setClearAlpha=function(){Ze.setClearAlpha.apply(Ze,arguments)},this.clear=function(H=!0,oe=!0,de=!0){let fe=0;if(H){let ce=!1;if(R!==null){const ke=R.texture.format;ce=ke===JC||ke===YC||ke===rx}if(ce){const ke=R.texture.type,$e=ke===Ca||ke===Wc||ke===sg||ke===_0||ke===WC||ke===XC,st=Ze.getClearColor(),it=Ze.getClearAlpha(),mt=st.r,xt=st.g,ft=st.b;$e?(m[0]=mt,m[1]=xt,m[2]=ft,m[3]=it,G.clearBufferuiv(G.COLOR,0,m)):(g[0]=mt,g[1]=xt,g[2]=ft,g[3]=it,G.clearBufferiv(G.COLOR,0,g))}else fe|=G.COLOR_BUFFER_BIT}oe&&(fe|=G.DEPTH_BUFFER_BIT),de&&(fe|=G.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),G.clear(fe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Se,!1),t.removeEventListener("webglcontextrestored",Ce,!1),t.removeEventListener("webglcontextcreationerror",ze,!1),Le.dispose(),Xe.dispose(),Ue.dispose(),J.dispose(),U.dispose(),Ee.dispose(),be.dispose(),qe.dispose(),Re.dispose(),Pe.dispose(),Pe.removeEventListener("sessionstart",Di),Pe.removeEventListener("sessionend",Ix),Sl.stop()};function Se(H){H.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function Ce(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const H=Je.autoReset,oe=De.enabled,de=De.autoUpdate,fe=De.needsUpdate,ce=De.type;te(),Je.autoReset=H,De.enabled=oe,De.autoUpdate=de,De.needsUpdate=fe,De.type=ce}function ze(H){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",H.statusMessage)}function gt(H){const oe=H.target;oe.removeEventListener("dispose",gt),Ct(oe)}function Ct(H){Kt(H),Ue.remove(H)}function Kt(H){const oe=Ue.get(H).programs;oe!==void 0&&(oe.forEach(function(de){Re.releaseProgram(de)}),H.isShaderMaterial&&Re.releaseShaderCache(H))}this.renderBufferDirect=function(H,oe,de,fe,ce,ke){oe===null&&(oe=rt);const $e=ce.isMesh&&ce.matrixWorld.determinant()<0,st=dE(H,oe,de,fe,ce);ge.setMaterial(fe,$e);let it=de.index,mt=1;if(fe.wireframe===!0){if(it=Te.getWireframeAttribute(de),it===void 0)return;mt=2}const xt=de.drawRange,ft=de.attributes.position;let Qt=xt.start*mt,_n=(xt.start+xt.count)*mt;ke!==null&&(Qt=Math.max(Qt,ke.start*mt),_n=Math.min(_n,(ke.start+ke.count)*mt)),it!==null?(Qt=Math.max(Qt,0),_n=Math.min(_n,it.count)):ft!=null&&(Qt=Math.max(Qt,0),_n=Math.min(_n,ft.count));const on=_n-Qt;if(on<0||on===1/0)return;be.setup(ce,fe,st,de,it);let Xn,ht=_t;if(it!==null&&(Xn=ue.get(it),ht=et,ht.setIndex(Xn)),ce.isMesh)fe.wireframe===!0?(ge.setLineWidth(fe.wireframeLinewidth*He()),ht.setMode(G.LINES)):ht.setMode(G.TRIANGLES);else if(ce.isLine){let je=fe.linewidth;je===void 0&&(je=1),ge.setLineWidth(je*He()),ce.isLineSegments?ht.setMode(G.LINES):ce.isLineLoop?ht.setMode(G.LINE_LOOP):ht.setMode(G.LINE_STRIP)}else ce.isPoints?ht.setMode(G.POINTS):ce.isSprite&&ht.setMode(G.TRIANGLES);if(ce.isBatchedMesh)if(ce._multiDrawInstances!==null)ht.renderMultiDrawInstances(ce._multiDrawStarts,ce._multiDrawCounts,ce._multiDrawCount,ce._multiDrawInstances);else if(Ae.get("WEBGL_multi_draw"))ht.renderMultiDraw(ce._multiDrawStarts,ce._multiDrawCounts,ce._multiDrawCount);else{const je=ce._multiDrawStarts,xn=ce._multiDrawCounts,wt=ce._multiDrawCount,An=it?ue.get(it).bytesPerElement:1,ts=Ue.get(fe).currentProgram.getUniforms();for(let hi=0;hi<wt;hi++)ts.setValue(G,"_gl_DrawID",hi),ht.render(je[hi]/An,xn[hi])}else if(ce.isInstancedMesh)ht.renderInstances(Qt,on,ce.count);else if(de.isInstancedBufferGeometry){const je=de._maxInstanceCount!==void 0?de._maxInstanceCount:1/0,xn=Math.min(de.instanceCount,je);ht.renderInstances(Qt,on,xn)}else ht.render(Qt,on)};function Mn(H,oe,de){H.transparent===!0&&H.side===Lo&&H.forceSinglePass===!1?(H.side=Qr,H.needsUpdate=!0,J0(H,oe,de),H.side=_l,H.needsUpdate=!0,J0(H,oe,de),H.side=Lo):J0(H,oe,de)}this.compile=function(H,oe,de=null){de===null&&(de=H),_=Xe.get(de),_.init(oe),A.push(_),de.traverseVisible(function(ce){ce.isLight&&ce.layers.test(oe.layers)&&(_.pushLight(ce),ce.castShadow&&_.pushShadow(ce))}),H!==de&&H.traverseVisible(function(ce){ce.isLight&&ce.layers.test(oe.layers)&&(_.pushLight(ce),ce.castShadow&&_.pushShadow(ce))}),_.setupLights();const fe=new Set;return H.traverse(function(ce){const ke=ce.material;if(ke)if(Array.isArray(ke))for(let $e=0;$e<ke.length;$e++){const st=ke[$e];Mn(st,de,ce),fe.add(st)}else Mn(ke,de,ce),fe.add(ke)}),A.pop(),_=null,fe},this.compileAsync=function(H,oe,de=null){const fe=this.compile(H,oe,de);return new Promise(ce=>{function ke(){if(fe.forEach(function($e){Ue.get($e).currentProgram.isReady()&&fe.delete($e)}),fe.size===0){ce(H);return}setTimeout(ke,10)}Ae.get("KHR_parallel_shader_compile")!==null?ke():setTimeout(ke,10)})};let Ft=null;function Li(H){Ft&&Ft(H)}function Di(){Sl.stop()}function Ix(){Sl.start()}const Sl=new VV;Sl.setAnimationLoop(Li),typeof self<"u"&&Sl.setContext(self),this.setAnimationLoop=function(H){Ft=H,Pe.setAnimationLoop(H),H===null?Sl.stop():Sl.start()},Pe.addEventListener("sessionstart",Di),Pe.addEventListener("sessionend",Ix),this.render=function(H,oe){if(oe!==void 0&&oe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;if(H.matrixWorldAutoUpdate===!0&&H.updateMatrixWorld(),oe.parent===null&&oe.matrixWorldAutoUpdate===!0&&oe.updateMatrixWorld(),Pe.enabled===!0&&Pe.isPresenting===!0&&(Pe.cameraAutoUpdate===!0&&Pe.updateCamera(oe),oe=Pe.getCamera()),H.isScene===!0&&H.onBeforeRender(w,H,oe,R),_=Xe.get(H,A.length),_.init(oe),A.push(_),Me.multiplyMatrices(oe.projectionMatrix,oe.matrixWorldInverse),ye.setFromProjectionMatrix(Me),pe=this.localClippingEnabled,re=yt.init(this.clippingPlanes,pe),y=Le.get(H,v.length),y.init(),v.push(y),Pe.enabled===!0&&Pe.isPresenting===!0){const ke=w.xr.getDepthSensingMesh();ke!==null&&Dg(ke,oe,-1/0,w.sortObjects)}Dg(H,oe,0,w.sortObjects),y.finish(),w.sortObjects===!0&&y.sort(k,Z),Be=Pe.enabled===!1||Pe.isPresenting===!1||Pe.hasDepthSensing()===!1,Be&&Ze.addToRenderList(y,H),this.info.render.frame++,re===!0&&yt.beginShadows();const de=_.state.shadowsArray;De.render(de,H,oe),re===!0&&yt.endShadows(),this.info.autoReset===!0&&this.info.reset();const fe=y.opaque,ce=y.transmissive;if(_.setupLights(),oe.isArrayCamera){const ke=oe.cameras;if(ce.length>0)for(let $e=0,st=ke.length;$e<st;$e++){const it=ke[$e];K0(fe,ce,H,it)}Be&&Ze.render(H);for(let $e=0,st=ke.length;$e<st;$e++){const it=ke[$e];Bg(y,H,it,it.viewport)}}else ce.length>0&&K0(fe,ce,H,oe),Be&&Ze.render(H),Bg(y,H,oe);R!==null&&(Ke.updateMultisampleRenderTarget(R),Ke.updateRenderTargetMipmap(R)),H.isScene===!0&&H.onAfterRender(w,H,oe),be.resetDefaultState(),D=-1,I=null,A.pop(),A.length>0?(_=A[A.length-1],re===!0&&yt.setGlobalState(w.clippingPlanes,_.state.camera)):_=null,v.pop(),v.length>0?y=v[v.length-1]:y=null};function Dg(H,oe,de,fe){if(H.visible===!1)return;if(H.layers.test(oe.layers)){if(H.isGroup)de=H.renderOrder;else if(H.isLOD)H.autoUpdate===!0&&H.update(oe);else if(H.isLight)_.pushLight(H),H.castShadow&&_.pushShadow(H);else if(H.isSprite){if(!H.frustumCulled||ye.intersectsSprite(H)){fe&&We.setFromMatrixPosition(H.matrixWorld).applyMatrix4(Me);const $e=Ee.update(H),st=H.material;st.visible&&y.push(H,$e,st,de,We.z,null)}}else if((H.isMesh||H.isLine||H.isPoints)&&(!H.frustumCulled||ye.intersectsObject(H))){const $e=Ee.update(H),st=H.material;if(fe&&(H.boundingSphere!==void 0?(H.boundingSphere===null&&H.computeBoundingSphere(),We.copy(H.boundingSphere.center)):($e.boundingSphere===null&&$e.computeBoundingSphere(),We.copy($e.boundingSphere.center)),We.applyMatrix4(H.matrixWorld).applyMatrix4(Me)),Array.isArray(st)){const it=$e.groups;for(let mt=0,xt=it.length;mt<xt;mt++){const ft=it[mt],Qt=st[ft.materialIndex];Qt&&Qt.visible&&y.push(H,$e,Qt,de,We.z,ft)}}else st.visible&&y.push(H,$e,st,de,We.z,null)}}const ke=H.children;for(let $e=0,st=ke.length;$e<st;$e++)Dg(ke[$e],oe,de,fe)}function Bg(H,oe,de,fe){const ce=H.opaque,ke=H.transmissive,$e=H.transparent;_.setupLightsView(de),re===!0&&yt.setGlobalState(w.clippingPlanes,de),fe&&ge.viewport(L.copy(fe)),ce.length>0&&Y0(ce,oe,de),ke.length>0&&Y0(ke,oe,de),$e.length>0&&Y0($e,oe,de),ge.buffers.depth.setTest(!0),ge.buffers.depth.setMask(!0),ge.buffers.color.setMask(!0),ge.setPolygonOffset(!1)}function K0(H,oe,de,fe){if((de.isScene===!0?de.overrideMaterial:null)!==null)return;_.state.transmissionRenderTarget[fe.id]===void 0&&(_.state.transmissionRenderTarget[fe.id]=new Ma(1,1,{generateMipmaps:!0,type:Ae.has("EXT_color_buffer_half_float")||Ae.has("EXT_color_buffer_float")?Cg:Ca,minFilter:Fo,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:nn.workingColorSpace}));const ke=_.state.transmissionRenderTarget[fe.id],$e=fe.viewport||L;ke.setSize($e.z,$e.w);const st=w.getRenderTarget();w.setRenderTarget(ke),w.getClearColor(W),q=w.getClearAlpha(),q<1&&w.setClearColor(16777215,.5),w.clear(),Be&&Ze.render(de);const it=w.toneMapping;w.toneMapping=pl;const mt=fe.viewport;if(fe.viewport!==void 0&&(fe.viewport=void 0),_.setupLightsView(fe),re===!0&&yt.setGlobalState(w.clippingPlanes,fe),Y0(H,de,fe),Ke.updateMultisampleRenderTarget(ke),Ke.updateRenderTargetMipmap(ke),Ae.has("WEBGL_multisampled_render_to_texture")===!1){let xt=!1;for(let ft=0,Qt=oe.length;ft<Qt;ft++){const _n=oe[ft],on=_n.object,Xn=_n.geometry,ht=_n.material,je=_n.group;if(ht.side===Lo&&on.layers.test(fe.layers)){const xn=ht.side;ht.side=Qr,ht.needsUpdate=!0,Qc(on,de,fe,Xn,ht,je),ht.side=xn,ht.needsUpdate=!0,xt=!0}}xt===!0&&(Ke.updateMultisampleRenderTarget(ke),Ke.updateRenderTargetMipmap(ke))}w.setRenderTarget(st),w.setClearColor(W,q),mt!==void 0&&(fe.viewport=mt),w.toneMapping=it}function Y0(H,oe,de){const fe=oe.isScene===!0?oe.overrideMaterial:null;for(let ce=0,ke=H.length;ce<ke;ce++){const $e=H[ce],st=$e.object,it=$e.geometry,mt=fe===null?$e.material:fe,xt=$e.group;st.layers.test(de.layers)&&Qc(st,oe,de,it,mt,xt)}}function Qc(H,oe,de,fe,ce,ke){H.onBeforeRender(w,oe,de,fe,ce,ke),H.modelViewMatrix.multiplyMatrices(de.matrixWorldInverse,H.matrixWorld),H.normalMatrix.getNormalMatrix(H.modelViewMatrix),ce.transparent===!0&&ce.side===Lo&&ce.forceSinglePass===!1?(ce.side=Qr,ce.needsUpdate=!0,w.renderBufferDirect(de,oe,fe,ce,H,ke),ce.side=_l,ce.needsUpdate=!0,w.renderBufferDirect(de,oe,fe,ce,H,ke),ce.side=Lo):w.renderBufferDirect(de,oe,fe,ce,H,ke),H.onAfterRender(w,oe,de,fe,ce,ke)}function J0(H,oe,de){oe.isScene!==!0&&(oe=rt);const fe=Ue.get(H),ce=_.state.lights,ke=_.state.shadowsArray,$e=ce.state.version,st=Re.getParameters(H,ce.state,ke,oe,de),it=Re.getProgramCacheKey(st);let mt=fe.programs;fe.environment=H.isMeshStandardMaterial?oe.environment:null,fe.fog=oe.fog,fe.envMap=(H.isMeshStandardMaterial?U:J).get(H.envMap||fe.environment),fe.envMapRotation=fe.environment!==null&&H.envMap===null?oe.environmentRotation:H.envMapRotation,mt===void 0&&(H.addEventListener("dispose",gt),mt=new Map,fe.programs=mt);let xt=mt.get(it);if(xt!==void 0){if(fe.currentProgram===xt&&fe.lightsStateVersion===$e)return Dx(H,st),xt}else st.uniforms=Re.getUniforms(H),H.onBeforeCompile(st,w),xt=Re.acquireProgram(st,it),mt.set(it,xt),fe.uniforms=st.uniforms;const ft=fe.uniforms;return(!H.isShaderMaterial&&!H.isRawShaderMaterial||H.clipping===!0)&&(ft.clippingPlanes=yt.uniform),Dx(H,st),fe.needsLights=pE(H),fe.lightsStateVersion=$e,fe.needsLights&&(ft.ambientLightColor.value=ce.state.ambient,ft.lightProbe.value=ce.state.probe,ft.directionalLights.value=ce.state.directional,ft.directionalLightShadows.value=ce.state.directionalShadow,ft.spotLights.value=ce.state.spot,ft.spotLightShadows.value=ce.state.spotShadow,ft.rectAreaLights.value=ce.state.rectArea,ft.ltc_1.value=ce.state.rectAreaLTC1,ft.ltc_2.value=ce.state.rectAreaLTC2,ft.pointLights.value=ce.state.point,ft.pointLightShadows.value=ce.state.pointShadow,ft.hemisphereLights.value=ce.state.hemi,ft.directionalShadowMap.value=ce.state.directionalShadowMap,ft.directionalShadowMatrix.value=ce.state.directionalShadowMatrix,ft.spotShadowMap.value=ce.state.spotShadowMap,ft.spotLightMatrix.value=ce.state.spotLightMatrix,ft.spotLightMap.value=ce.state.spotLightMap,ft.pointShadowMap.value=ce.state.pointShadowMap,ft.pointShadowMatrix.value=ce.state.pointShadowMatrix),fe.currentProgram=xt,fe.uniformsList=null,xt}function Lx(H){if(H.uniformsList===null){const oe=H.currentProgram.getUniforms();H.uniformsList=yS.seqWithValue(oe.seq,H.uniforms)}return H.uniformsList}function Dx(H,oe){const de=Ue.get(H);de.outputColorSpace=oe.outputColorSpace,de.batching=oe.batching,de.batchingColor=oe.batchingColor,de.instancing=oe.instancing,de.instancingColor=oe.instancingColor,de.instancingMorph=oe.instancingMorph,de.skinning=oe.skinning,de.morphTargets=oe.morphTargets,de.morphNormals=oe.morphNormals,de.morphColors=oe.morphColors,de.morphTargetsCount=oe.morphTargetsCount,de.numClippingPlanes=oe.numClippingPlanes,de.numIntersection=oe.numClipIntersection,de.vertexAlphas=oe.vertexAlphas,de.vertexTangents=oe.vertexTangents,de.toneMapping=oe.toneMapping}function dE(H,oe,de,fe,ce){oe.isScene!==!0&&(oe=rt),Ke.resetTextureUnits();const ke=oe.fog,$e=fe.isMeshStandardMaterial?oe.environment:null,st=R===null?w.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:Zc,it=(fe.isMeshStandardMaterial?U:J).get(fe.envMap||$e),mt=fe.vertexColors===!0&&!!de.attributes.color&&de.attributes.color.itemSize===4,xt=!!de.attributes.tangent&&(!!fe.normalMap||fe.anisotropy>0),ft=!!de.morphAttributes.position,Qt=!!de.morphAttributes.normal,_n=!!de.morphAttributes.color;let on=pl;fe.toneMapped&&(R===null||R.isXRRenderTarget===!0)&&(on=w.toneMapping);const Xn=de.morphAttributes.position||de.morphAttributes.normal||de.morphAttributes.color,ht=Xn!==void 0?Xn.length:0,je=Ue.get(fe),xn=_.state.lights;if(re===!0&&(pe===!0||H!==I)){const qi=H===I&&fe.id===D;yt.setState(fe,H,qi)}let wt=!1;fe.version===je.__version?(je.needsLights&&je.lightsStateVersion!==xn.state.version||je.outputColorSpace!==st||ce.isBatchedMesh&&je.batching===!1||!ce.isBatchedMesh&&je.batching===!0||ce.isBatchedMesh&&je.batchingColor===!0&&ce.colorTexture===null||ce.isBatchedMesh&&je.batchingColor===!1&&ce.colorTexture!==null||ce.isInstancedMesh&&je.instancing===!1||!ce.isInstancedMesh&&je.instancing===!0||ce.isSkinnedMesh&&je.skinning===!1||!ce.isSkinnedMesh&&je.skinning===!0||ce.isInstancedMesh&&je.instancingColor===!0&&ce.instanceColor===null||ce.isInstancedMesh&&je.instancingColor===!1&&ce.instanceColor!==null||ce.isInstancedMesh&&je.instancingMorph===!0&&ce.morphTexture===null||ce.isInstancedMesh&&je.instancingMorph===!1&&ce.morphTexture!==null||je.envMap!==it||fe.fog===!0&&je.fog!==ke||je.numClippingPlanes!==void 0&&(je.numClippingPlanes!==yt.numPlanes||je.numIntersection!==yt.numIntersection)||je.vertexAlphas!==mt||je.vertexTangents!==xt||je.morphTargets!==ft||je.morphNormals!==Qt||je.morphColors!==_n||je.toneMapping!==on||je.morphTargetsCount!==ht)&&(wt=!0):(wt=!0,je.__version=fe.version);let An=je.currentProgram;wt===!0&&(An=J0(fe,oe,ce));let ts=!1,hi=!1,Bi=!1;const En=An.getUniforms(),Wo=je.uniforms;if(ge.useProgram(An.program)&&(ts=!0,hi=!0,Bi=!0),fe.id!==D&&(D=fe.id,hi=!0),ts||I!==H){En.setValue(G,"projectionMatrix",H.projectionMatrix),En.setValue(G,"viewMatrix",H.matrixWorldInverse);const qi=En.map.cameraPosition;qi!==void 0&&qi.setValue(G,xe.setFromMatrixPosition(H.matrixWorld)),Ie.logarithmicDepthBuffer&&En.setValue(G,"logDepthBufFC",2/(Math.log(H.far+1)/Math.LN2)),(fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshLambertMaterial||fe.isMeshBasicMaterial||fe.isMeshStandardMaterial||fe.isShaderMaterial)&&En.setValue(G,"isOrthographic",H.isOrthographicCamera===!0),I!==H&&(I=H,hi=!0,Bi=!0)}if(ce.isSkinnedMesh){En.setOptional(G,ce,"bindMatrix"),En.setOptional(G,ce,"bindMatrixInverse");const qi=ce.skeleton;qi&&(qi.boneTexture===null&&qi.computeBoneTexture(),En.setValue(G,"boneTexture",qi.boneTexture,Ke))}ce.isBatchedMesh&&(En.setOptional(G,ce,"batchingTexture"),En.setValue(G,"batchingTexture",ce._matricesTexture,Ke),En.setOptional(G,ce,"batchingIdTexture"),En.setValue(G,"batchingIdTexture",ce._indirectTexture,Ke),En.setOptional(G,ce,"batchingColorTexture"),ce._colorsTexture!==null&&En.setValue(G,"batchingColorTexture",ce._colorsTexture,Ke));const q0=de.morphAttributes;if((q0.position!==void 0||q0.normal!==void 0||q0.color!==void 0)&&kt.update(ce,de,An),(hi||je.receiveShadow!==ce.receiveShadow)&&(je.receiveShadow=ce.receiveShadow,En.setValue(G,"receiveShadow",ce.receiveShadow)),fe.isMeshGouraudMaterial&&fe.envMap!==null&&(Wo.envMap.value=it,Wo.flipEnvMap.value=it.isCubeTexture&&it.isRenderTargetTexture===!1?-1:1),fe.isMeshStandardMaterial&&fe.envMap===null&&oe.environment!==null&&(Wo.envMapIntensity.value=oe.environmentIntensity),hi&&(En.setValue(G,"toneMappingExposure",w.toneMappingExposure),je.needsLights&&fE(Wo,Bi),ke&&fe.fog===!0&&ot.refreshFogUniforms(Wo,ke),ot.refreshMaterialUniforms(Wo,fe,ee,Q,_.state.transmissionRenderTarget[H.id]),yS.upload(G,Lx(je),Wo,Ke)),fe.isShaderMaterial&&fe.uniformsNeedUpdate===!0&&(yS.upload(G,Lx(je),Wo,Ke),fe.uniformsNeedUpdate=!1),fe.isSpriteMaterial&&En.setValue(G,"center",ce.center),En.setValue(G,"modelViewMatrix",ce.modelViewMatrix),En.setValue(G,"normalMatrix",ce.normalMatrix),En.setValue(G,"modelMatrix",ce.matrixWorld),fe.isShaderMaterial||fe.isRawShaderMaterial){const qi=fe.uniformsGroups;for(let Z0=0,Cs=qi.length;Z0<Cs;Z0++){const Bx=qi[Z0];qe.update(Bx,An),qe.bind(Bx,An)}}return An}function fE(H,oe){H.ambientLightColor.needsUpdate=oe,H.lightProbe.needsUpdate=oe,H.directionalLights.needsUpdate=oe,H.directionalLightShadows.needsUpdate=oe,H.pointLights.needsUpdate=oe,H.pointLightShadows.needsUpdate=oe,H.spotLights.needsUpdate=oe,H.spotLightShadows.needsUpdate=oe,H.rectAreaLights.needsUpdate=oe,H.hemisphereLights.needsUpdate=oe}function pE(H){return H.isMeshLambertMaterial||H.isMeshToonMaterial||H.isMeshPhongMaterial||H.isMeshStandardMaterial||H.isShadowMaterial||H.isShaderMaterial&&H.lights===!0}this.getActiveCubeFace=function(){return T},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(H,oe,de){Ue.get(H.texture).__webglTexture=oe,Ue.get(H.depthTexture).__webglTexture=de;const fe=Ue.get(H);fe.__hasExternalTextures=!0,fe.__autoAllocateDepthBuffer=de===void 0,fe.__autoAllocateDepthBuffer||Ae.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),fe.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(H,oe){const de=Ue.get(H);de.__webglFramebuffer=oe,de.__useDefaultFramebuffer=oe===void 0},this.setRenderTarget=function(H,oe=0,de=0){R=H,T=oe,E=de;let fe=!0,ce=null,ke=!1,$e=!1;if(H){const it=Ue.get(H);it.__useDefaultFramebuffer!==void 0?(ge.bindFramebuffer(G.FRAMEBUFFER,null),fe=!1):it.__webglFramebuffer===void 0?Ke.setupRenderTarget(H):it.__hasExternalTextures&&Ke.rebindTextures(H,Ue.get(H.texture).__webglTexture,Ue.get(H.depthTexture).__webglTexture);const mt=H.texture;(mt.isData3DTexture||mt.isDataArrayTexture||mt.isCompressedArrayTexture)&&($e=!0);const xt=Ue.get(H).__webglFramebuffer;H.isWebGLCubeRenderTarget?(Array.isArray(xt[oe])?ce=xt[oe][de]:ce=xt[oe],ke=!0):H.samples>0&&Ke.useMultisampledRTT(H)===!1?ce=Ue.get(H).__webglMultisampledFramebuffer:Array.isArray(xt)?ce=xt[de]:ce=xt,L.copy(H.viewport),O.copy(H.scissor),X=H.scissorTest}else L.copy(K).multiplyScalar(ee).floor(),O.copy(ne).multiplyScalar(ee).floor(),X=le;if(ge.bindFramebuffer(G.FRAMEBUFFER,ce)&&fe&&ge.drawBuffers(H,ce),ge.viewport(L),ge.scissor(O),ge.setScissorTest(X),ke){const it=Ue.get(H.texture);G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_CUBE_MAP_POSITIVE_X+oe,it.__webglTexture,de)}else if($e){const it=Ue.get(H.texture),mt=oe||0;G.framebufferTextureLayer(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,it.__webglTexture,de||0,mt)}D=-1},this.readRenderTargetPixels=function(H,oe,de,fe,ce,ke,$e){if(!(H&&H.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let st=Ue.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&$e!==void 0&&(st=st[$e]),st){ge.bindFramebuffer(G.FRAMEBUFFER,st);try{const it=H.texture,mt=it.format,xt=it.type;if(!Ie.textureFormatReadable(mt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ie.textureTypeReadable(xt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}oe>=0&&oe<=H.width-fe&&de>=0&&de<=H.height-ce&&G.readPixels(oe,de,fe,ce,ie.convert(mt),ie.convert(xt),ke)}finally{const it=R!==null?Ue.get(R).__webglFramebuffer:null;ge.bindFramebuffer(G.FRAMEBUFFER,it)}}},this.readRenderTargetPixelsAsync=async function(H,oe,de,fe,ce,ke,$e){if(!(H&&H.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let st=Ue.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&$e!==void 0&&(st=st[$e]),st){ge.bindFramebuffer(G.FRAMEBUFFER,st);try{const it=H.texture,mt=it.format,xt=it.type;if(!Ie.textureFormatReadable(mt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ie.textureTypeReadable(xt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(oe>=0&&oe<=H.width-fe&&de>=0&&de<=H.height-ce){const ft=G.createBuffer();G.bindBuffer(G.PIXEL_PACK_BUFFER,ft),G.bufferData(G.PIXEL_PACK_BUFFER,ke.byteLength,G.STREAM_READ),G.readPixels(oe,de,fe,ce,ie.convert(mt),ie.convert(xt),0),G.flush();const Qt=G.fenceSync(G.SYNC_GPU_COMMANDS_COMPLETE,0);await bre(G,Qt,4);try{G.bindBuffer(G.PIXEL_PACK_BUFFER,ft),G.getBufferSubData(G.PIXEL_PACK_BUFFER,0,ke)}finally{G.deleteBuffer(ft),G.deleteSync(Qt)}return ke}}finally{const it=R!==null?Ue.get(R).__webglFramebuffer:null;ge.bindFramebuffer(G.FRAMEBUFFER,it)}}},this.copyFramebufferToTexture=function(H,oe=null,de=0){H.isTexture!==!0&&(Am("WebGLRenderer: copyFramebufferToTexture function signature has changed."),oe=arguments[0]||null,H=arguments[1]);const fe=Math.pow(2,-de),ce=Math.floor(H.image.width*fe),ke=Math.floor(H.image.height*fe),$e=oe!==null?oe.x:0,st=oe!==null?oe.y:0;Ke.setTexture2D(H,0),G.copyTexSubImage2D(G.TEXTURE_2D,de,0,0,$e,st,ce,ke),ge.unbindTexture()},this.copyTextureToTexture=function(H,oe,de=null,fe=null,ce=0){H.isTexture!==!0&&(Am("WebGLRenderer: copyTextureToTexture function signature has changed."),fe=arguments[0]||null,H=arguments[1],oe=arguments[2],ce=arguments[3]||0,de=null);let ke,$e,st,it,mt,xt;de!==null?(ke=de.max.x-de.min.x,$e=de.max.y-de.min.y,st=de.min.x,it=de.min.y):(ke=H.image.width,$e=H.image.height,st=0,it=0),fe!==null?(mt=fe.x,xt=fe.y):(mt=0,xt=0);const ft=ie.convert(oe.format),Qt=ie.convert(oe.type);Ke.setTexture2D(oe,0),G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,oe.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,oe.unpackAlignment);const _n=G.getParameter(G.UNPACK_ROW_LENGTH),on=G.getParameter(G.UNPACK_IMAGE_HEIGHT),Xn=G.getParameter(G.UNPACK_SKIP_PIXELS),ht=G.getParameter(G.UNPACK_SKIP_ROWS),je=G.getParameter(G.UNPACK_SKIP_IMAGES),xn=H.isCompressedTexture?H.mipmaps[ce]:H.image;G.pixelStorei(G.UNPACK_ROW_LENGTH,xn.width),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,xn.height),G.pixelStorei(G.UNPACK_SKIP_PIXELS,st),G.pixelStorei(G.UNPACK_SKIP_ROWS,it),H.isDataTexture?G.texSubImage2D(G.TEXTURE_2D,ce,mt,xt,ke,$e,ft,Qt,xn.data):H.isCompressedTexture?G.compressedTexSubImage2D(G.TEXTURE_2D,ce,mt,xt,xn.width,xn.height,ft,xn.data):G.texSubImage2D(G.TEXTURE_2D,ce,mt,xt,ke,$e,ft,Qt,xn),G.pixelStorei(G.UNPACK_ROW_LENGTH,_n),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,on),G.pixelStorei(G.UNPACK_SKIP_PIXELS,Xn),G.pixelStorei(G.UNPACK_SKIP_ROWS,ht),G.pixelStorei(G.UNPACK_SKIP_IMAGES,je),ce===0&&oe.generateMipmaps&&G.generateMipmap(G.TEXTURE_2D),ge.unbindTexture()},this.copyTextureToTexture3D=function(H,oe,de=null,fe=null,ce=0){H.isTexture!==!0&&(Am("WebGLRenderer: copyTextureToTexture3D function signature has changed."),de=arguments[0]||null,fe=arguments[1]||null,H=arguments[2],oe=arguments[3],ce=arguments[4]||0);let ke,$e,st,it,mt,xt,ft,Qt,_n;const on=H.isCompressedTexture?H.mipmaps[ce]:H.image;de!==null?(ke=de.max.x-de.min.x,$e=de.max.y-de.min.y,st=de.max.z-de.min.z,it=de.min.x,mt=de.min.y,xt=de.min.z):(ke=on.width,$e=on.height,st=on.depth,it=0,mt=0,xt=0),fe!==null?(ft=fe.x,Qt=fe.y,_n=fe.z):(ft=0,Qt=0,_n=0);const Xn=ie.convert(oe.format),ht=ie.convert(oe.type);let je;if(oe.isData3DTexture)Ke.setTexture3D(oe,0),je=G.TEXTURE_3D;else if(oe.isDataArrayTexture||oe.isCompressedArrayTexture)Ke.setTexture2DArray(oe,0),je=G.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,oe.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,oe.unpackAlignment);const xn=G.getParameter(G.UNPACK_ROW_LENGTH),wt=G.getParameter(G.UNPACK_IMAGE_HEIGHT),An=G.getParameter(G.UNPACK_SKIP_PIXELS),ts=G.getParameter(G.UNPACK_SKIP_ROWS),hi=G.getParameter(G.UNPACK_SKIP_IMAGES);G.pixelStorei(G.UNPACK_ROW_LENGTH,on.width),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,on.height),G.pixelStorei(G.UNPACK_SKIP_PIXELS,it),G.pixelStorei(G.UNPACK_SKIP_ROWS,mt),G.pixelStorei(G.UNPACK_SKIP_IMAGES,xt),H.isDataTexture||H.isData3DTexture?G.texSubImage3D(je,ce,ft,Qt,_n,ke,$e,st,Xn,ht,on.data):oe.isCompressedArrayTexture?G.compressedTexSubImage3D(je,ce,ft,Qt,_n,ke,$e,st,Xn,on.data):G.texSubImage3D(je,ce,ft,Qt,_n,ke,$e,st,Xn,ht,on),G.pixelStorei(G.UNPACK_ROW_LENGTH,xn),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,wt),G.pixelStorei(G.UNPACK_SKIP_PIXELS,An),G.pixelStorei(G.UNPACK_SKIP_ROWS,ts),G.pixelStorei(G.UNPACK_SKIP_IMAGES,hi),ce===0&&oe.generateMipmaps&&G.generateMipmap(je),ge.unbindTexture()},this.initRenderTarget=function(H){Ue.get(H).__webglFramebuffer===void 0&&Ke.setupRenderTarget(H)},this.initTexture=function(H){H.isCubeTexture?Ke.setTextureCube(H,0):H.isData3DTexture?Ke.setTexture3D(H,0):H.isDataArrayTexture||H.isCompressedArrayTexture?Ke.setTexture2DArray(H,0):Ke.setTexture2D(H,0),ge.unbindTexture()},this.resetState=function(){T=0,E=0,R=null,ge.reset(),be.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return cl}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===ZC?"display-p3":"srgb",t.unpackColorSpace=nn.workingColorSpace===sx?"display-p3":"srgb"}}class eM{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ge(e),this.density=t}clone(){return new eM(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class tM{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new Ge(e),this.near=t,this.far=n}clone(){return new tM(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class n4 extends zt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new to,this.environmentIntensity=1,this.environmentRotation=new to,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class cx{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=oy,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Qs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Am("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Qs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Qs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const jr=new V;class Rh{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)jr.fromBufferAttribute(this,t),jr.applyMatrix4(e),this.setXYZ(t,jr.x,jr.y,jr.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)jr.fromBufferAttribute(this,t),jr.applyNormalMatrix(e),this.setXYZ(t,jr.x,jr.y,jr.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)jr.fromBufferAttribute(this,t),jr.transformDirection(e),this.setXYZ(t,jr.x,jr.y,jr.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=Jr(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Lt(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=Lt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Lt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Lt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Lt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Jr(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Jr(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Jr(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Jr(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Lt(t,this.array),n=Lt(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Lt(t,this.array),n=Lt(n,this.array),r=Lt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Lt(t,this.array),n=Lt(n,this.array),r=Lt(r,this.array),s=Lt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Zt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Rh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class vI extends _i{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ge(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Ep;const p1=new V,Tp=new V,Rp=new V,Pp=new we,m1=new we,QV=new pt,hw=new V,g1=new V,dw=new V,ak=new we,y6=new we,lk=new we;class $V extends zt{constructor(e=new vI){if(super(),this.isSprite=!0,this.type="Sprite",Ep===void 0){Ep=new Pt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new cx(t,5);Ep.setIndex([0,1,2,0,2,3]),Ep.setAttribute("position",new Rh(n,3,0,!1)),Ep.setAttribute("uv",new Rh(n,2,3,!1))}this.geometry=Ep,this.material=e,this.center=new we(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Tp.setFromMatrixScale(this.matrixWorld),QV.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Rp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Tp.multiplyScalar(-Rp.z);const n=this.material.rotation;let r,s;n!==0&&(s=Math.cos(n),r=Math.sin(n));const o=this.center;fw(hw.set(-.5,-.5,0),Rp,o,Tp,r,s),fw(g1.set(.5,-.5,0),Rp,o,Tp,r,s),fw(dw.set(.5,.5,0),Rp,o,Tp,r,s),ak.set(0,0),y6.set(1,0),lk.set(1,1);let a=e.ray.intersectTriangle(hw,g1,dw,!1,p1);if(a===null&&(fw(g1.set(-.5,.5,0),Rp,o,Tp,r,s),y6.set(0,1),a=e.ray.intersectTriangle(hw,dw,g1,!1,p1),a===null))return;const l=e.ray.origin.distanceTo(p1);l<e.near||l>e.far||t.push({distance:l,point:p1.clone(),uv:Ws.getInterpolation(p1,hw,g1,dw,ak,y6,lk,new we),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function fw(i,e,t,n,r,s){Pp.subVectors(i,t).addScalar(.5).multiply(n),r!==void 0?(m1.x=s*Pp.x-r*Pp.y,m1.y=r*Pp.x+s*Pp.y):m1.copy(Pp),i.copy(e),i.x+=m1.x,i.y+=m1.y,i.applyMatrix4(QV)}const pw=new V,ck=new V;class eW extends zt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const s=t[n];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let s=t[n].distance;if(t[n].object.visible&&(s-=s*t[n].hysteresis),e<s)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){pw.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(pw);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){pw.setFromMatrixPosition(e.matrixWorld),ck.setFromMatrixPosition(this.matrixWorld);const n=pw.distanceTo(ck)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),n>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,s=n.length;r<s;r++){const o=n[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const uk=new V,hk=new sn,dk=new sn,kce=new V,fk=new pt,mw=new V,_6=new Ki,pk=new pt,x6=new N0;class yI extends ci{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=T9,this.bindMatrix=new pt,this.bindMatrixInverse=new pt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new hr),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,mw),this.boundingBox.expandByPoint(mw)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ki),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,mw),this.boundingSphere.expandByPoint(mw)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,r=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_6.copy(this.boundingSphere),_6.applyMatrix4(r),e.ray.intersectsSphere(_6)!==!1&&(pk.copy(r).invert(),x6.copy(e.ray).applyMatrix4(pk),!(this.boundingBox!==null&&x6.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,x6)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new sn,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===T9?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===_V?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;hk.fromBufferAttribute(r.attributes.skinIndex,e),dk.fromBufferAttribute(r.attributes.skinWeight,e),uk.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=dk.getComponent(s);if(o!==0){const a=hk.getComponent(s);fk.multiplyMatrices(n.bones[a].matrixWorld,n.boneInverses[a]),t.addScaledVector(kce.copy(uk).applyMatrix4(fk),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class nM extends zt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ml extends Ln{constructor(e=null,t=1,n=1,r,s,o,a,l,c=Ri,u=Ri,h,d){super(null,o,a,l,c,u,r,s,h,d),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const mk=new pt,Nce=new pt;class ux{constructor(e=[],t=[]){this.uuid=Qs(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new pt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new pt;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Nce;mk.multiplyMatrices(a,t[s]),mk.toArray(n,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new ux(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new ml(t,e,e,Pr,ps);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const s=e.bones[n];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new nM),this.bones.push(o),this.boneInverses.push(new pt().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=n[r];e.boneInverses.push(a.toArray())}return e}}class A0 extends Zt{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Ip=new pt,gk=new pt,gw=[],vk=new hr,Uce=new pt,v1=new ci,y1=new Ki;class _I extends ci{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new A0(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,Uce)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new hr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Ip),vk.copy(e.boundingBox).applyMatrix4(Ip),this.boundingBox.union(vk)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ki),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Ip),y1.copy(e.boundingSphere).applyMatrix4(Ip),this.boundingSphere.union(y1)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=n.length+1,o=e*s+1;for(let a=0;a<n.length;a++)n[a]=r[o+a]}raycast(e,t){const n=this.matrixWorld,r=this.count;if(v1.geometry=this.geometry,v1.material=this.material,v1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),y1.copy(this.boundingSphere),y1.applyMatrix4(n),e.ray.intersectsSphere(y1)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Ip),gk.multiplyMatrices(n,Ip),v1.matrixWorld=gk,v1.raycast(e,gw);for(let o=0,a=gw.length;o<a;o++){const l=gw[o];l.instanceId=s,l.object=this,t.push(l)}gw.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new A0(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,r=n.length+1;this.morphTexture===null&&(this.morphTexture=new ml(new Float32Array(r*this.count),r,this.count,KC,ps));const s=this.morphTexture.source.data.data;let o=0;for(let c=0;c<n.length;c++)o+=n[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=r*e;s[l]=a,s.set(n,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function zce(i,e){return i.z-e.z}function jce(i,e){return e.z-i.z}class Hce{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n){const r=this.pool,s=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const o=r[this.index];s.push(o),this.index++,o.start=e.start,o.count=e.count,o.z=t,o.index=n}reset(){this.list.length=0,this.index=0}}const pu=new pt,A6=new pt,Gce=new pt,Vce=new Ge(1,1,1),yk=new pt,w6=new lx,vw=new hr,ad=new Ki,_1=new V,_k=new V,Wce=new V,S6=new Hce,Ar=new ci,yw=[];function Xce(i,e,t=0){const n=e.itemSize;if(i.isInterleavedBufferAttribute||i.array.constructor!==e.array.constructor){const r=i.count;for(let s=0;s<r;s++)for(let o=0;o<n;o++)e.setComponent(s+t,o,i.getComponent(s,o))}else e.array.set(i.array,t*n);e.needsUpdate=!0}class tW extends ci{get maxInstanceCount(){return this._maxInstanceCount}constructor(e,t,n=t*2,r){super(new Pt,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawInfo=[],this._drawRanges=[],this._reservedRanges=[],this._bounds=[],this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new ml(t,e,e,Pr,ps);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new ml(t,e,e,rx,Wc);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxIndexCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new ml(t,e,e,Pr,ps);n.colorSpace=nn.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:l,normalized:c}=o,u=new a.constructor(n*l),h=new Zt(u,l,c);t.setAttribute(s,h)}if(e.getIndex()!==null){const s=n>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Zt(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const r=e.getAttribute(n),s=t.getAttribute(n);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new hr);const e=this._geometryCount,t=this.boundingBox,n=this._drawInfo;t.makeEmpty();for(let r=0;r<e;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,pu),this.getBoundingBoxAt(s,vw).applyMatrix4(pu),t.union(vw)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ki);const e=this.boundingSphere,t=this._drawInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(t[n].active===!1)continue;const s=t[n].geometryIndex;this.getMatrixAt(n,pu),this.getBoundingSphereAt(s,ad).applyMatrix4(pu),e.union(ad)}}addInstance(e){if(this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");this._drawInfo.push({visible:!0,active:!0,geometryIndex:e});const t=this._drawInfo.length-1,n=this._matricesTexture,r=n.image.data;Gce.toArray(r,t*16),n.needsUpdate=!0;const s=this._colorsTexture;return s&&(Vce.toArray(s.image.data,t*4),s.needsUpdate=!0),t}addGeometry(e,t=-1,n=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");const r={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),t===-1?r.vertexCount=e.getAttribute("position").count:r.vertexCount=t,s===null?r.vertexStart=0:r.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),u=c!==null;if(u&&(n===-1?r.indexCount=c.count:r.indexCount=n,s===null?r.indexStart=0:r.indexStart=s.indexStart+s.indexCount),r.indexStart!==-1&&r.indexStart+r.indexCount>this._maxIndexCount||r.vertexStart+r.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const h=this._geometryCount;return this._geometryCount++,o.push(r),a.push({start:u?r.indexStart:r.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new hr,sphereInitialized:!1,sphere:new Ki}),this.setGeometryAt(h,e),h}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,r=n.getIndex()!==null,s=n.getIndex(),o=t.getIndex(),a=this._reservedRanges[e];if(r&&o.count>a.indexCount||t.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const m in n.attributes){const g=t.getAttribute(m),y=n.getAttribute(m);Xce(g,y,l);const _=g.itemSize;for(let v=g.count,A=c;v<A;v++){const w=l+v;for(let C=0;C<_;C++)y.setComponent(w,C,0)}y.needsUpdate=!0,y.addUpdateRange(l*_,c*_)}if(r){const m=a.indexStart;for(let g=0;g<o.count;g++)s.setX(m+g,l+o.getX(g));for(let g=o.count,y=a.indexCount;g<y;g++)s.setX(m+g,l);s.needsUpdate=!0,s.addUpdateRange(m,a.indexCount)}const u=this._bounds[e];t.boundingBox!==null?(u.box.copy(t.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,t.boundingSphere!==null?(u.sphere.copy(t.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const h=this._drawRanges[e],d=t.getAttribute("position");return h.count=r?o.count:d.count,this._visibilityChanged=!0,e}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this._bounds[e],r=n.box,s=this.geometry;if(n.boxInitialized===!1){r.makeEmpty();const o=s.index,a=s.attributes.position,l=this._drawRanges[e];for(let c=l.start,u=l.start+l.count;c<u;c++){let h=c;o&&(h=o.getX(h)),r.expandByPoint(_1.fromBufferAttribute(a,h))}n.boxInitialized=!0}return t.copy(r),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this._bounds[e],r=n.sphere,s=this.geometry;if(n.sphereInitialized===!1){r.makeEmpty(),this.getBoundingBoxAt(e,vw),vw.getCenter(r.center);const o=s.index,a=s.attributes.position,l=this._drawRanges[e];let c=0;for(let u=l.start,h=l.start+l.count;u<h;u++){let d=u;o&&(d=o.getX(d)),_1.fromBufferAttribute(a,d),c=Math.max(c,r.center.distanceToSquared(_1))}r.radius=Math.sqrt(c),n.sphereInitialized=!0}return t.copy(r),t}setMatrixAt(e,t){const n=this._drawInfo,r=this._matricesTexture,s=this._matricesTexture.image.data;return e>=n.length||n[e].active===!1?this:(t.toArray(s,e*16),r.needsUpdate=!0,this)}getMatrixAt(e,t){const n=this._drawInfo,r=this._matricesTexture.image.data;return e>=n.length||n[e].active===!1?null:t.fromArray(r,e*16)}setColorAt(e,t){this._colorsTexture===null&&this._initColorsTexture();const n=this._colorsTexture,r=this._colorsTexture.image.data,s=this._drawInfo;return e>=s.length||s[e].active===!1?this:(t.toArray(r,e*4),n.needsUpdate=!0,this)}getColorAt(e,t){const n=this._colorsTexture.image.data,r=this._drawInfo;return e>=r.length||r[e].active===!1?null:t.fromArray(n,e*4)}setVisibleAt(e,t){const n=this._drawInfo;return e>=n.length||n[e].active===!1||n[e].visible===t?this:(n[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._drawInfo;return e>=t.length||t[e].active===!1?!1:t[e].visible}raycast(e,t){const n=this._drawInfo,r=this._drawRanges,s=this.matrixWorld,o=this.geometry;Ar.material=this.material,Ar.geometry.index=o.index,Ar.geometry.attributes=o.attributes,Ar.geometry.boundingBox===null&&(Ar.geometry.boundingBox=new hr),Ar.geometry.boundingSphere===null&&(Ar.geometry.boundingSphere=new Ki);for(let a=0,l=n.length;a<l;a++){if(!n[a].visible||!n[a].active)continue;const c=n[a].geometryIndex,u=r[c];Ar.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(a,Ar.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,Ar.geometry.boundingBox),this.getBoundingSphereAt(c,Ar.geometry.boundingSphere),Ar.raycast(e,yw);for(let h=0,d=yw.length;h<d;h++){const m=yw[h];m.object=this,m.batchId=a,t.push(m)}yw.length=0}Ar.material=null,Ar.geometry.index=null,Ar.geometry.attributes={},Ar.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(t=>({...t})),this._reservedRanges=e._reservedRanges.map(t=>({...t})),this._drawInfo=e._drawInfo.map(t=>({...t})),this._bounds=e._bounds.map(t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,n,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._drawInfo,c=this._multiDrawStarts,u=this._multiDrawCounts,h=this._drawRanges,d=this.perObjectFrustumCulled,m=this._indirectTexture,g=m.image.data;d&&(yk.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),w6.setFromProjectionMatrix(yk,e.coordinateSystem));let y=0;if(this.sortObjects){A6.copy(this.matrixWorld).invert(),_1.setFromMatrixPosition(n.matrixWorld).applyMatrix4(A6),_k.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(A6);for(let A=0,w=l.length;A<w;A++)if(l[A].visible&&l[A].active){const C=l[A].geometryIndex;this.getMatrixAt(A,pu),this.getBoundingSphereAt(C,ad).applyMatrix4(pu);let T=!1;if(d&&(T=!w6.intersectsSphere(ad)),!T){const E=Wce.subVectors(ad.center,_1).dot(_k);S6.push(h[C],E,A)}}const _=S6.list,v=this.customSort;v===null?_.sort(s.transparent?jce:zce):v.call(this,_,n);for(let A=0,w=_.length;A<w;A++){const C=_[A];c[y]=C.start*a,u[y]=C.count,g[y]=C.index,y++}S6.reset()}else for(let _=0,v=l.length;_<v;_++)if(l[_].visible&&l[_].active){const A=l[_].geometryIndex;let w=!1;if(d&&(this.getMatrixAt(_,pu),this.getBoundingSphereAt(A,ad).applyMatrix4(pu),w=!w6.intersectsSphere(ad)),!w){const C=h[A];c[y]=C.start*a,u[y]=C.count,g[y]=_,y++}}m.needsUpdate=!0,this._multiDrawCount=y,this._visibilityChanged=!1}onBeforeShadow(e,t,n,r,s,o){this.onBeforeRender(e,null,r,s,o)}}class kr extends _i{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ge(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const i4=new V,r4=new V,xk=new pt,x1=new N0,_w=new Ki,b6=new V,Ak=new V;class Xc extends zt{constructor(e=new Pt,t=new kr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,s=t.count;r<s;r++)i4.fromBufferAttribute(t,r-1),r4.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=i4.distanceTo(r4);e.setAttribute("lineDistance",new at(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),_w.copy(n.boundingSphere),_w.applyMatrix4(r),_w.radius+=s,e.ray.intersectsSphere(_w)===!1)return;xk.copy(r).invert(),x1.copy(e.ray).applyMatrix4(xk);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,u=n.index,d=n.attributes.position;if(u!==null){const m=Math.max(0,o.start),g=Math.min(u.count,o.start+o.count);for(let y=m,_=g-1;y<_;y+=c){const v=u.getX(y),A=u.getX(y+1),w=xw(this,e,x1,l,v,A);w&&t.push(w)}if(this.isLineLoop){const y=u.getX(g-1),_=u.getX(m),v=xw(this,e,x1,l,y,_);v&&t.push(v)}}else{const m=Math.max(0,o.start),g=Math.min(d.count,o.start+o.count);for(let y=m,_=g-1;y<_;y+=c){const v=xw(this,e,x1,l,y,y+1);v&&t.push(v)}if(this.isLineLoop){const y=xw(this,e,x1,l,g-1,m);y&&t.push(y)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function xw(i,e,t,n,r,s){const o=i.geometry.attributes.position;if(i4.fromBufferAttribute(o,r),r4.fromBufferAttribute(o,s),t.distanceSqToSegment(i4,r4,b6,Ak)>n)return;b6.applyMatrix4(i.matrixWorld);const l=e.ray.origin.distanceTo(b6);if(!(l<e.near||l>e.far))return{distance:l,point:Ak.clone().applyMatrix4(i.matrixWorld),index:r,face:null,faceIndex:null,object:i}}const wk=new V,Sk=new V;class Ta extends Xc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let r=0,s=t.count;r<s;r+=2)wk.fromBufferAttribute(t,r),Sk.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+wk.distanceTo(Sk);e.setAttribute("lineDistance",new at(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class xI extends Xc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class iM extends _i{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ge(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const bk=new pt,B9=new N0,Aw=new Ki,ww=new V;class AI extends zt{constructor(e=new Pt,t=new iM){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Aw.copy(n.boundingSphere),Aw.applyMatrix4(r),Aw.radius+=s,e.ray.intersectsSphere(Aw)===!1)return;bk.copy(r).invert(),B9.copy(e.ray).applyMatrix4(bk);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=n.index,h=n.attributes.position;if(c!==null){const d=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let g=d,y=m;g<y;g++){const _=c.getX(g);ww.fromBufferAttribute(h,_),Ck(ww,_,l,r,e,t,this)}}else{const d=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let g=d,y=m;g<y;g++)ww.fromBufferAttribute(h,g),Ck(ww,g,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function Ck(i,e,t,n,r,s,o){const a=B9.distanceSqToPoint(i);if(a<t){const l=new V;B9.closestPointToPoint(i,l),l.applyMatrix4(n);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class nW extends Ln{constructor(e,t,n,r,s,o,a,l,c){super(e,t,n,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:$n,this.magFilter=s!==void 0?s:$n,this.generateMipmaps=!1;const u=this;function h(){u.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Kce extends Ln{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Ri,this.minFilter=Ri,this.generateMipmaps=!1,this.needsUpdate=!0}}class rM extends Ln{constructor(e,t,n,r,s,o,a,l,c,u,h,d){super(null,o,a,l,c,u,r,s,h,d),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Yce extends rM{constructor(e,t,n,r,s,o){super(e,t,n,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Ys,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Jce extends rM{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,Vc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class qce extends Ln{constructor(e,t,n,r,s,o,a,l,c){super(e,t,n,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ra{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),s+=n.distanceTo(r),t.push(s),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const s=n.length;let o;t?o=t:o=e*n[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=n[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,n[r]===o)return r/(s-1);const u=n[r],d=n[r+1]-u,m=(o-u)/d;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new we:new V);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new V,r=[],s=[],o=[],a=new V,l=new pt;for(let m=0;m<=e;m++){const g=m/e;r[m]=this.getTangentAt(g,new V)}s[0]=new V,o[0]=new V;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),h=Math.abs(r[0].y),d=Math.abs(r[0].z);u<=c&&(c=u,n.set(1,0,0)),h<=c&&(c=h,n.set(0,1,0)),d<=c&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(Qn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(Qn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(r[g],m*g)),o[g].crossVectors(r[g],s[g])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class sM extends Ra{constructor(e=0,t=0,n=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t=new we){const n=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),d=l-this.aX,m=c-this.aY;l=d*u-m*h+this.aX,c=d*h+m*u+this.aY}return n.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class iW extends sM{constructor(e,t,n,r,s,o){super(e,t,n,n,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function wI(){let i=0,e=0,t=0,n=0;function r(s,o,a,l){i=s,e=a,t=-3*s+3*o-2*a-l,n=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,h){let d=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+h)+(l-a)/h;d*=u,m*=u,r(o,a,d,m)},calc:function(s){const o=s*s,a=o*s;return i+e*s+t*o+n*a}}}const Sw=new V,C6=new wI,M6=new wI,E6=new wI;class rW extends Ra{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new V){const n=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=r[(a-1)%s]:(Sw.subVectors(r[0],r[1]).add(r[0]),c=Sw);const h=r[a%s],d=r[(a+1)%s];if(this.closed||a+2<s?u=r[(a+2)%s]:(Sw.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=Sw),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(h),m),y=Math.pow(h.distanceToSquared(d),m),_=Math.pow(d.distanceToSquared(u),m);y<1e-4&&(y=1),g<1e-4&&(g=y),_<1e-4&&(_=y),C6.initNonuniformCatmullRom(c.x,h.x,d.x,u.x,g,y,_),M6.initNonuniformCatmullRom(c.y,h.y,d.y,u.y,g,y,_),E6.initNonuniformCatmullRom(c.z,h.z,d.z,u.z,g,y,_)}else this.curveType==="catmullrom"&&(C6.initCatmullRom(c.x,h.x,d.x,u.x,this.tension),M6.initCatmullRom(c.y,h.y,d.y,u.y,this.tension),E6.initCatmullRom(c.z,h.z,d.z,u.z,this.tension));return n.set(C6.calc(l),M6.calc(l),E6.calc(l)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new V().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Mk(i,e,t,n,r){const s=(n-e)*.5,o=(r-t)*.5,a=i*i,l=i*a;return(2*t-2*n+s+o)*l+(-3*t+3*n-2*s-o)*a+s*i+t}function Zce(i,e){const t=1-i;return t*t*e}function Qce(i,e){return 2*(1-i)*i*e}function $ce(i,e){return i*i*e}function Av(i,e,t,n){return Zce(i,e)+Qce(i,t)+$ce(i,n)}function eue(i,e){const t=1-i;return t*t*t*e}function tue(i,e){const t=1-i;return 3*t*t*i*e}function nue(i,e){return 3*(1-i)*i*i*e}function iue(i,e){return i*i*i*e}function wv(i,e,t,n,r){return eue(i,e)+tue(i,t)+nue(i,n)+iue(i,r)}class SI extends Ra{constructor(e=new we,t=new we,n=new we,r=new we){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new we){const n=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return n.set(wv(e,r.x,s.x,o.x,a.x),wv(e,r.y,s.y,o.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class sW extends Ra{constructor(e=new V,t=new V,n=new V,r=new V){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new V){const n=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return n.set(wv(e,r.x,s.x,o.x,a.x),wv(e,r.y,s.y,o.y,a.y),wv(e,r.z,s.z,o.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class bI extends Ra{constructor(e=new we,t=new we){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new we){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new we){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class oW extends Ra{constructor(e=new V,t=new V){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new V){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new V){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class CI extends Ra{constructor(e=new we,t=new we,n=new we){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new we){const n=t,r=this.v0,s=this.v1,o=this.v2;return n.set(Av(e,r.x,s.x,o.x),Av(e,r.y,s.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class MI extends Ra{constructor(e=new V,t=new V,n=new V){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new V){const n=t,r=this.v0,s=this.v1,o=this.v2;return n.set(Av(e,r.x,s.x,o.x),Av(e,r.y,s.y,o.y),Av(e,r.z,s.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class EI extends Ra{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new we){const n=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return n.set(Mk(a,l.x,c.x,u.x,h.x),Mk(a,l.y,c.y,u.y,h.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new we().fromArray(r))}return this}}var s4=Object.freeze({__proto__:null,ArcCurve:iW,CatmullRomCurve3:rW,CubicBezierCurve:SI,CubicBezierCurve3:sW,EllipseCurve:sM,LineCurve:bI,LineCurve3:oW,QuadraticBezierCurve:CI,QuadraticBezierCurve3:MI,SplineCurve:EI});class aW extends Ra{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new s4[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=n){const o=r[s]-n,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];n&&n.equals(u)||(t.push(u),n=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(new s4[r.type]().fromJSON(r))}return this}}class cy extends aW{constructor(e){super(),this.type="Path",this.currentPoint=new we,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new bI(this.currentPoint.clone(),new we(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const s=new CI(this.currentPoint.clone(),new we(e,t),new we(n,r));return this.curves.push(s),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,s,o){const a=new SI(this.currentPoint.clone(),new we(e,t),new we(n,r),new we(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new EI(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,n,r,s,o),this}absarc(e,t,n,r,s,o){return this.absellipse(e,t,n,n,r,s,o),this}ellipse(e,t,n,r,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,n,r,s,o,a,l),this}absellipse(e,t,n,r,s,o,a,l){const c=new sM(e,t,n,r,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class hx extends Pt{constructor(e=[new we(0,-.5),new we(.5,0),new we(0,.5)],t=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=Qn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,h=new V,d=new we,m=new V,g=new V,y=new V;let _=0,v=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:_=e[A+1].x-e[A].x,v=e[A+1].y-e[A].y,m.x=v*1,m.y=-_,m.z=v*0,y.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:_=e[A+1].x-e[A].x,v=e[A+1].y-e[A].y,m.x=v*1,m.y=-_,m.z=v*0,g.copy(m),m.x+=y.x,m.y+=y.y,m.z+=y.z,m.normalize(),l.push(m.x,m.y,m.z),y.copy(g)}for(let A=0;A<=t;A++){const w=n+A*u*r,C=Math.sin(w),T=Math.cos(w);for(let E=0;E<=e.length-1;E++){h.x=e[E].x*C,h.y=e[E].y,h.z=e[E].x*T,o.push(h.x,h.y,h.z),d.x=A/t,d.y=E/(e.length-1),a.push(d.x,d.y);const R=l[3*E+0]*C,D=l[3*E+1],I=l[3*E+0]*T;c.push(R,D,I)}}for(let A=0;A<t;A++)for(let w=0;w<e.length-1;w++){const C=w+A*e.length,T=C,E=C+e.length,R=C+e.length+1,D=C+1;s.push(T,E,D),s.push(R,D,E)}this.setIndex(s),this.setAttribute("position",new at(o,3)),this.setAttribute("uv",new at(a,2)),this.setAttribute("normal",new at(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hx(e.points,e.segments,e.phiStart,e.phiLength)}}class oM extends hx{constructor(e=1,t=1,n=4,r=8){const s=new cy;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new oM(e.radius,e.length,e.capSegments,e.radialSegments)}}class aM extends Pt{constructor(e=1,t=32,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new V,u=new we;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,d=3;h<=t;h++,d+=3){const m=n+h/t*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[d]/e+1)/2,u.y=(o[d+1]/e+1)/2,l.push(u.x,u.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new at(o,3)),this.setAttribute("normal",new at(a,3)),this.setAttribute("uv",new at(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new aM(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Tg extends Pt{constructor(e=1,t=1,n=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const u=[],h=[],d=[],m=[];let g=0;const y=[],_=n/2;let v=0;A(),o===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(u),this.setAttribute("position",new at(h,3)),this.setAttribute("normal",new at(d,3)),this.setAttribute("uv",new at(m,2));function A(){const C=new V,T=new V;let E=0;const R=(t-e)/n;for(let D=0;D<=s;D++){const I=[],L=D/s,O=L*(t-e)+e;for(let X=0;X<=r;X++){const W=X/r,q=W*l+a,$=Math.sin(q),Q=Math.cos(q);T.x=O*$,T.y=-L*n+_,T.z=O*Q,h.push(T.x,T.y,T.z),C.set($,R,Q).normalize(),d.push(C.x,C.y,C.z),m.push(W,1-L),I.push(g++)}y.push(I)}for(let D=0;D<r;D++)for(let I=0;I<s;I++){const L=y[I][D],O=y[I+1][D],X=y[I+1][D+1],W=y[I][D+1];u.push(L,O,W),u.push(O,X,W),E+=6}c.addGroup(v,E,0),v+=E}function w(C){const T=g,E=new we,R=new V;let D=0;const I=C===!0?e:t,L=C===!0?1:-1;for(let X=1;X<=r;X++)h.push(0,_*L,0),d.push(0,L,0),m.push(.5,.5),g++;const O=g;for(let X=0;X<=r;X++){const q=X/r*l+a,$=Math.cos(q),Q=Math.sin(q);R.x=I*Q,R.y=_*L,R.z=I*$,h.push(R.x,R.y,R.z),d.push(0,L,0),E.x=$*.5+.5,E.y=Q*.5*L+.5,m.push(E.x,E.y),g++}for(let X=0;X<r;X++){const W=T+X,q=O+X;C===!0?u.push(q,q+1,W):u.push(q+1,q,W),D+=3}c.addGroup(v,D,C===!0?1:2),v+=D}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tg(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class lM extends Tg{constructor(e=1,t=1,n=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,n,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new lM(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class zh extends Pt{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const s=[],o=[];a(r),c(n),u(),this.setAttribute("position",new at(s,3)),this.setAttribute("normal",new at(s.slice(),3)),this.setAttribute("uv",new at(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(A){const w=new V,C=new V,T=new V;for(let E=0;E<t.length;E+=3)m(t[E+0],w),m(t[E+1],C),m(t[E+2],T),l(w,C,T,A)}function l(A,w,C,T){const E=T+1,R=[];for(let D=0;D<=E;D++){R[D]=[];const I=A.clone().lerp(C,D/E),L=w.clone().lerp(C,D/E),O=E-D;for(let X=0;X<=O;X++)X===0&&D===E?R[D][X]=I:R[D][X]=I.clone().lerp(L,X/O)}for(let D=0;D<E;D++)for(let I=0;I<2*(E-D)-1;I++){const L=Math.floor(I/2);I%2===0?(d(R[D][L+1]),d(R[D+1][L]),d(R[D][L])):(d(R[D][L+1]),d(R[D+1][L+1]),d(R[D+1][L]))}}function c(A){const w=new V;for(let C=0;C<s.length;C+=3)w.x=s[C+0],w.y=s[C+1],w.z=s[C+2],w.normalize().multiplyScalar(A),s[C+0]=w.x,s[C+1]=w.y,s[C+2]=w.z}function u(){const A=new V;for(let w=0;w<s.length;w+=3){A.x=s[w+0],A.y=s[w+1],A.z=s[w+2];const C=_(A)/2/Math.PI+.5,T=v(A)/Math.PI+.5;o.push(C,1-T)}g(),h()}function h(){for(let A=0;A<o.length;A+=6){const w=o[A+0],C=o[A+2],T=o[A+4],E=Math.max(w,C,T),R=Math.min(w,C,T);E>.9&&R<.1&&(w<.2&&(o[A+0]+=1),C<.2&&(o[A+2]+=1),T<.2&&(o[A+4]+=1))}}function d(A){s.push(A.x,A.y,A.z)}function m(A,w){const C=A*3;w.x=e[C+0],w.y=e[C+1],w.z=e[C+2]}function g(){const A=new V,w=new V,C=new V,T=new V,E=new we,R=new we,D=new we;for(let I=0,L=0;I<s.length;I+=9,L+=6){A.set(s[I+0],s[I+1],s[I+2]),w.set(s[I+3],s[I+4],s[I+5]),C.set(s[I+6],s[I+7],s[I+8]),E.set(o[L+0],o[L+1]),R.set(o[L+2],o[L+3]),D.set(o[L+4],o[L+5]),T.copy(A).add(w).add(C).divideScalar(3);const O=_(T);y(E,L+0,A,O),y(R,L+2,w,O),y(D,L+4,C,O)}}function y(A,w,C,T){T<0&&A.x===1&&(o[w]=A.x-1),C.x===0&&C.z===0&&(o[w]=T/2/Math.PI+.5)}function _(A){return Math.atan2(A.z,-A.x)}function v(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zh(e.vertices,e.indices,e.radius,e.details)}}class cM extends zh{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new cM(e.radius,e.detail)}}const bw=new V,Cw=new V,T6=new V,Mw=new Ws;class lW extends Pt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(s0*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],h=new Array(3),d={},m=[];for(let g=0;g<l;g+=3){o?(c[0]=o.getX(g),c[1]=o.getX(g+1),c[2]=o.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:y,b:_,c:v}=Mw;if(y.fromBufferAttribute(a,c[0]),_.fromBufferAttribute(a,c[1]),v.fromBufferAttribute(a,c[2]),Mw.getNormal(T6),h[0]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,h[1]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,h[2]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let A=0;A<3;A++){const w=(A+1)%3,C=h[A],T=h[w],E=Mw[u[A]],R=Mw[u[w]],D=`${C}_${T}`,I=`${T}_${C}`;I in d&&d[I]?(T6.dot(d[I].normal)<=s&&(m.push(E.x,E.y,E.z),m.push(R.x,R.y,R.z)),d[I]=null):D in d||(d[D]={index0:c[A],index1:c[w],normal:T6.clone()})}}for(const g in d)if(d[g]){const{index0:y,index1:_}=d[g];bw.fromBufferAttribute(a,y),Cw.fromBufferAttribute(a,_),m.push(bw.x,bw.y,bw.z),m.push(Cw.x,Cw.y,Cw.z)}this.setAttribute("position",new at(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class a0 extends cy{constructor(e){super(e),this.uuid=Qs(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(new cy().fromJSON(r))}return this}}const rue={triangulate:function(i,e,t=2){const n=e&&e.length,r=n?e[0]*t:i.length;let s=cW(i,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,h,d,m;if(n&&(s=cue(i,e,s,t)),i.length>80*t){a=c=i[0],l=u=i[1];for(let g=t;g<r;g+=t)h=i[g],d=i[g+1],h<a&&(a=h),d<l&&(l=d),h>c&&(c=h),d>u&&(u=d);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return uy(s,o,t,a,l,m,0),o}};function cW(i,e,t,n,r){let s,o;if(r===xue(i,e,t,n)>0)for(s=e;s<t;s+=n)o=Ek(s,i[s],i[s+1],o);else for(s=t-n;s>=e;s-=n)o=Ek(s,i[s],i[s+1],o);return o&&uM(o,o.next)&&(dy(o),o=o.next),o}function w0(i,e){if(!i)return i;e||(e=i);let t=i,n;do if(n=!1,!t.steiner&&(uM(t,t.next)||jn(t.prev,t,t.next)===0)){if(dy(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function uy(i,e,t,n,r,s,o){if(!i)return;!o&&s&&pue(i,n,r,s);let a=i,l,c;for(;i.prev!==i.next;){if(l=i.prev,c=i.next,s?oue(i,n,r,s):sue(i)){e.push(l.i/t|0),e.push(i.i/t|0),e.push(c.i/t|0),dy(i),i=c.next,a=c.next;continue}if(i=c,i===a){o?o===1?(i=aue(w0(i),e,t),uy(i,e,t,n,r,s,2)):o===2&&lue(i,e,t,n,r,s):uy(w0(i),e,t,n,r,s,1);break}}}function sue(i){const e=i.prev,t=i,n=i.next;if(jn(e,t,n)>=0)return!1;const r=e.x,s=t.x,o=n.x,a=e.y,l=t.y,c=n.y,u=r<s?r<o?r:o:s<o?s:o,h=a<l?a<c?a:c:l<c?l:c,d=r>s?r>o?r:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let g=n.next;for(;g!==e;){if(g.x>=u&&g.x<=d&&g.y>=h&&g.y<=m&&im(r,a,s,l,o,c,g.x,g.y)&&jn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function oue(i,e,t,n){const r=i.prev,s=i,o=i.next;if(jn(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,u=r.y,h=s.y,d=o.y,m=a<l?a<c?a:c:l<c?l:c,g=u<h?u<d?u:d:h<d?h:d,y=a>l?a>c?a:c:l>c?l:c,_=u>h?u>d?u:d:h>d?h:d,v=F9(m,g,e,t,n),A=F9(y,_,e,t,n);let w=i.prevZ,C=i.nextZ;for(;w&&w.z>=v&&C&&C.z<=A;){if(w.x>=m&&w.x<=y&&w.y>=g&&w.y<=_&&w!==r&&w!==o&&im(a,u,l,h,c,d,w.x,w.y)&&jn(w.prev,w,w.next)>=0||(w=w.prevZ,C.x>=m&&C.x<=y&&C.y>=g&&C.y<=_&&C!==r&&C!==o&&im(a,u,l,h,c,d,C.x,C.y)&&jn(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;w&&w.z>=v;){if(w.x>=m&&w.x<=y&&w.y>=g&&w.y<=_&&w!==r&&w!==o&&im(a,u,l,h,c,d,w.x,w.y)&&jn(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;C&&C.z<=A;){if(C.x>=m&&C.x<=y&&C.y>=g&&C.y<=_&&C!==r&&C!==o&&im(a,u,l,h,c,d,C.x,C.y)&&jn(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function aue(i,e,t){let n=i;do{const r=n.prev,s=n.next.next;!uM(r,s)&&uW(r,n,n.next,s)&&hy(r,s)&&hy(s,r)&&(e.push(r.i/t|0),e.push(n.i/t|0),e.push(s.i/t|0),dy(n),dy(n.next),n=i=s),n=n.next}while(n!==i);return w0(n)}function lue(i,e,t,n,r,s){let o=i;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&vue(o,a)){let l=hW(o,a);o=w0(o,o.next),l=w0(l,l.next),uy(o,e,t,n,r,s,0),uy(l,e,t,n,r,s,0);return}a=a.next}o=o.next}while(o!==i)}function cue(i,e,t,n){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*n,l=s<o-1?e[s+1]*n:i.length,c=cW(i,a,l,n,!1),c===c.next&&(c.steiner=!0),r.push(gue(c));for(r.sort(uue),s=0;s<r.length;s++)t=hue(r[s],t);return t}function uue(i,e){return i.x-e.x}function hue(i,e){const t=due(i,e);if(!t)return e;const n=hW(t,i);return w0(n,n.next),w0(t,t.next)}function due(i,e){let t=e,n=-1/0,r;const s=i.x,o=i.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const d=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(d<=s&&d>n&&(n=d,r=t.x<t.next.x?t:t.next,d===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let u=1/0,h;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&im(o<c?s:n,o,l,c,o<c?n:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),hy(t,i)&&(h<u||h===u&&(t.x>r.x||t.x===r.x&&fue(r,t)))&&(r=t,u=h)),t=t.next;while(t!==a);return r}function fue(i,e){return jn(i.prev,i,e.prev)<0&&jn(e.next,i,i.next)<0}function pue(i,e,t,n){let r=i;do r.z===0&&(r.z=F9(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==i);r.prevZ.nextZ=null,r.prevZ=null,mue(r)}function mue(i){let e,t,n,r,s,o,a,l,c=1;do{for(t=i,i=null,s=null,o=0;t;){for(o++,n=t,a=0,e=0;e<c&&(a++,n=n.nextZ,!!n);e++);for(l=c;a>0||l>0&&n;)a!==0&&(l===0||!n||t.z<=n.z)?(r=t,t=t.nextZ,a--):(r=n,n=n.nextZ,l--),s?s.nextZ=r:i=r,r.prevZ=s,s=r;t=n}s.nextZ=null,c*=2}while(o>1);return i}function F9(i,e,t,n,r){return i=(i-t)*r|0,e=(e-n)*r|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function gue(i){let e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}function im(i,e,t,n,r,s,o,a){return(r-o)*(e-a)>=(i-o)*(s-a)&&(i-o)*(n-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(n-a)}function vue(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!yue(i,e)&&(hy(i,e)&&hy(e,i)&&_ue(i,e)&&(jn(i.prev,i,e.prev)||jn(i,e.prev,e))||uM(i,e)&&jn(i.prev,i,i.next)>0&&jn(e.prev,e,e.next)>0)}function jn(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function uM(i,e){return i.x===e.x&&i.y===e.y}function uW(i,e,t,n){const r=Tw(jn(i,e,t)),s=Tw(jn(i,e,n)),o=Tw(jn(t,n,i)),a=Tw(jn(t,n,e));return!!(r!==s&&o!==a||r===0&&Ew(i,t,e)||s===0&&Ew(i,n,e)||o===0&&Ew(t,i,n)||a===0&&Ew(t,e,n))}function Ew(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function Tw(i){return i>0?1:i<0?-1:0}function yue(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&uW(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}function hy(i,e){return jn(i.prev,i,i.next)<0?jn(i,e,i.next)>=0&&jn(i,i.prev,e)>=0:jn(i,e,i.prev)<0||jn(i,i.next,e)<0}function _ue(i,e){let t=i,n=!1;const r=(i.x+e.x)/2,s=(i.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==i);return n}function hW(i,e){const t=new O9(i.i,i.x,i.y),n=new O9(e.i,e.x,e.y),r=i.next,s=e.prev;return i.next=e,e.prev=i,t.next=r,r.prev=t,n.next=t,t.prev=n,s.next=n,n.prev=s,n}function Ek(i,e,t,n){const r=new O9(i,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function dy(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function O9(i,e,t){this.i=i,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function xue(i,e,t,n){let r=0;for(let s=e,o=t-n;s<t;s+=n)r+=(i[o]-i[s])*(i[s+1]+i[o+1]),o=s;return r}class gl{static area(e){const t=e.length;let n=0;for(let r=t-1,s=0;s<t;r=s++)n+=e[r].x*e[s].y-e[s].x*e[r].y;return n*.5}static isClockWise(e){return gl.area(e)<0}static triangulateShape(e,t){const n=[],r=[],s=[];Tk(e),Rk(n,e);let o=e.length;t.forEach(Tk);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,Rk(n,t[l]);const a=rue.triangulate(n,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function Tk(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function Rk(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}class hM extends Pt{constructor(e=new a0([new we(.5,.5),new we(-.5,.5),new we(-.5,-.5),new we(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new at(r,3)),this.setAttribute("uv",new at(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let d=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:m-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const v=t.extrudePath,A=t.UVGenerator!==void 0?t.UVGenerator:Aue;let w,C=!1,T,E,R,D;v&&(w=v.getSpacedPoints(u),C=!0,d=!1,T=v.computeFrenetFrames(u,!1),E=new V,R=new V,D=new V),d||(_=0,m=0,g=0,y=0);const I=a.extractPoints(c);let L=I.shape;const O=I.holes;if(!gl.isClockWise(L)){L=L.reverse();for(let G=0,me=O.length;G<me;G++){const Ae=O[G];gl.isClockWise(Ae)&&(O[G]=Ae.reverse())}}const W=gl.triangulateShape(L,O),q=L;for(let G=0,me=O.length;G<me;G++){const Ae=O[G];L=L.concat(Ae)}function $(G,me,Ae){return me||console.error("THREE.ExtrudeGeometry: vec does not exist"),G.clone().addScaledVector(me,Ae)}const Q=L.length,ee=W.length;function k(G,me,Ae){let Ie,ge,Je;const Ue=G.x-me.x,Ke=G.y-me.y,J=Ae.x-G.x,U=Ae.y-G.y,ue=Ue*Ue+Ke*Ke,Te=Ue*U-Ke*J;if(Math.abs(Te)>Number.EPSILON){const Ee=Math.sqrt(ue),Re=Math.sqrt(J*J+U*U),ot=me.x-Ke/Ee,Le=me.y+Ue/Ee,Xe=Ae.x-U/Re,yt=Ae.y+J/Re,De=((Xe-ot)*U-(yt-Le)*J)/(Ue*U-Ke*J);Ie=ot+Ue*De-G.x,ge=Le+Ke*De-G.y;const Ze=Ie*Ie+ge*ge;if(Ze<=2)return new we(Ie,ge);Je=Math.sqrt(Ze/2)}else{let Ee=!1;Ue>Number.EPSILON?J>Number.EPSILON&&(Ee=!0):Ue<-Number.EPSILON?J<-Number.EPSILON&&(Ee=!0):Math.sign(Ke)===Math.sign(U)&&(Ee=!0),Ee?(Ie=-Ke,ge=Ue,Je=Math.sqrt(ue)):(Ie=Ue,ge=Ke,Je=Math.sqrt(ue/2))}return new we(Ie/Je,ge/Je)}const Z=[];for(let G=0,me=q.length,Ae=me-1,Ie=G+1;G<me;G++,Ae++,Ie++)Ae===me&&(Ae=0),Ie===me&&(Ie=0),Z[G]=k(q[G],q[Ae],q[Ie]);const K=[];let ne,le=Z.concat();for(let G=0,me=O.length;G<me;G++){const Ae=O[G];ne=[];for(let Ie=0,ge=Ae.length,Je=ge-1,Ue=Ie+1;Ie<ge;Ie++,Je++,Ue++)Je===ge&&(Je=0),Ue===ge&&(Ue=0),ne[Ie]=k(Ae[Ie],Ae[Je],Ae[Ue]);K.push(ne),le=le.concat(ne)}for(let G=0;G<_;G++){const me=G/_,Ae=m*Math.cos(me*Math.PI/2),Ie=g*Math.sin(me*Math.PI/2)+y;for(let ge=0,Je=q.length;ge<Je;ge++){const Ue=$(q[ge],Z[ge],Ie);xe(Ue.x,Ue.y,-Ae)}for(let ge=0,Je=O.length;ge<Je;ge++){const Ue=O[ge];ne=K[ge];for(let Ke=0,J=Ue.length;Ke<J;Ke++){const U=$(Ue[Ke],ne[Ke],Ie);xe(U.x,U.y,-Ae)}}}const ye=g+y;for(let G=0;G<Q;G++){const me=d?$(L[G],le[G],ye):L[G];C?(R.copy(T.normals[0]).multiplyScalar(me.x),E.copy(T.binormals[0]).multiplyScalar(me.y),D.copy(w[0]).add(R).add(E),xe(D.x,D.y,D.z)):xe(me.x,me.y,0)}for(let G=1;G<=u;G++)for(let me=0;me<Q;me++){const Ae=d?$(L[me],le[me],ye):L[me];C?(R.copy(T.normals[G]).multiplyScalar(Ae.x),E.copy(T.binormals[G]).multiplyScalar(Ae.y),D.copy(w[G]).add(R).add(E),xe(D.x,D.y,D.z)):xe(Ae.x,Ae.y,h/u*G)}for(let G=_-1;G>=0;G--){const me=G/_,Ae=m*Math.cos(me*Math.PI/2),Ie=g*Math.sin(me*Math.PI/2)+y;for(let ge=0,Je=q.length;ge<Je;ge++){const Ue=$(q[ge],Z[ge],Ie);xe(Ue.x,Ue.y,h+Ae)}for(let ge=0,Je=O.length;ge<Je;ge++){const Ue=O[ge];ne=K[ge];for(let Ke=0,J=Ue.length;Ke<J;Ke++){const U=$(Ue[Ke],ne[Ke],Ie);C?xe(U.x,U.y+w[u-1].y,w[u-1].x+Ae):xe(U.x,U.y,h+Ae)}}}re(),pe();function re(){const G=r.length/3;if(d){let me=0,Ae=Q*me;for(let Ie=0;Ie<ee;Ie++){const ge=W[Ie];We(ge[2]+Ae,ge[1]+Ae,ge[0]+Ae)}me=u+_*2,Ae=Q*me;for(let Ie=0;Ie<ee;Ie++){const ge=W[Ie];We(ge[0]+Ae,ge[1]+Ae,ge[2]+Ae)}}else{for(let me=0;me<ee;me++){const Ae=W[me];We(Ae[2],Ae[1],Ae[0])}for(let me=0;me<ee;me++){const Ae=W[me];We(Ae[0]+Q*u,Ae[1]+Q*u,Ae[2]+Q*u)}}n.addGroup(G,r.length/3-G,0)}function pe(){const G=r.length/3;let me=0;Me(q,me),me+=q.length;for(let Ae=0,Ie=O.length;Ae<Ie;Ae++){const ge=O[Ae];Me(ge,me),me+=ge.length}n.addGroup(G,r.length/3-G,1)}function Me(G,me){let Ae=G.length;for(;--Ae>=0;){const Ie=Ae;let ge=Ae-1;ge<0&&(ge=G.length-1);for(let Je=0,Ue=u+_*2;Je<Ue;Je++){const Ke=Q*Je,J=Q*(Je+1),U=me+Ie+Ke,ue=me+ge+Ke,Te=me+ge+J,Ee=me+Ie+J;rt(U,ue,Te,Ee)}}}function xe(G,me,Ae){l.push(G),l.push(me),l.push(Ae)}function We(G,me,Ae){Be(G),Be(me),Be(Ae);const Ie=r.length/3,ge=A.generateTopUV(n,r,Ie-3,Ie-2,Ie-1);He(ge[0]),He(ge[1]),He(ge[2])}function rt(G,me,Ae,Ie){Be(G),Be(me),Be(Ie),Be(me),Be(Ae),Be(Ie);const ge=r.length/3,Je=A.generateSideWallUV(n,r,ge-6,ge-3,ge-2,ge-1);He(Je[0]),He(Je[1]),He(Je[3]),He(Je[1]),He(Je[2]),He(Je[3])}function Be(G){r.push(l[G*3+0]),r.push(l[G*3+1]),r.push(l[G*3+2])}function He(G){s.push(G.x),s.push(G.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return wue(t,n,e)}static fromJSON(e,t){const n=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];n.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new s4[r.type]().fromJSON(r)),new hM(n,e.options)}}const Aue={generateTopUV:function(i,e,t,n,r){const s=e[t*3],o=e[t*3+1],a=e[n*3],l=e[n*3+1],c=e[r*3],u=e[r*3+1];return[new we(s,o),new we(a,l),new we(c,u)]},generateSideWallUV:function(i,e,t,n,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[n*3],u=e[n*3+1],h=e[n*3+2],d=e[r*3],m=e[r*3+1],g=e[r*3+2],y=e[s*3],_=e[s*3+1],v=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new we(o,1-l),new we(c,1-h),new we(d,1-g),new we(y,1-v)]:[new we(a,1-l),new we(u,1-h),new we(m,1-g),new we(_,1-v)]}};function wue(i,e,t){if(t.shapes=[],Array.isArray(i))for(let n=0,r=i.length;n<r;n++){const s=i[n];t.shapes.push(s.uuid)}else t.shapes.push(i.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class dM extends zh{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new dM(e.radius,e.detail)}}class dx extends zh{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new dx(e.radius,e.detail)}}class fM extends Pt{constructor(e=.5,t=1,n=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:s,thetaLength:o},n=Math.max(3,n),r=Math.max(1,r);const a=[],l=[],c=[],u=[];let h=e;const d=(t-e)/r,m=new V,g=new we;for(let y=0;y<=r;y++){for(let _=0;_<=n;_++){const v=s+_/n*o;m.x=h*Math.cos(v),m.y=h*Math.sin(v),l.push(m.x,m.y,m.z),c.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,u.push(g.x,g.y)}h+=d}for(let y=0;y<r;y++){const _=y*(n+1);for(let v=0;v<n;v++){const A=v+_,w=A,C=A+n+1,T=A+n+2,E=A+1;a.push(w,C,E),a.push(C,T,E)}}this.setIndex(a),this.setAttribute("position",new at(l,3)),this.setAttribute("normal",new at(c,3)),this.setAttribute("uv",new at(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fM(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class pM extends Pt{constructor(e=new a0([new we(0,.5),new we(-.5,-.5),new we(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(n),this.setAttribute("position",new at(r,3)),this.setAttribute("normal",new at(s,3)),this.setAttribute("uv",new at(o,2));function c(u){const h=r.length/3,d=u.extractPoints(t);let m=d.shape;const g=d.holes;gl.isClockWise(m)===!1&&(m=m.reverse());for(let _=0,v=g.length;_<v;_++){const A=g[_];gl.isClockWise(A)===!0&&(g[_]=A.reverse())}const y=gl.triangulateShape(m,g);for(let _=0,v=g.length;_<v;_++){const A=g[_];m=m.concat(A)}for(let _=0,v=m.length;_<v;_++){const A=m[_];r.push(A.x,A.y,0),s.push(0,0,1),o.push(A.x,A.y)}for(let _=0,v=y.length;_<v;_++){const A=y[_],w=A[0]+h,C=A[1]+h,T=A[2]+h;n.push(w,C,T),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Sue(t,e)}static fromJSON(e,t){const n=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];n.push(o)}return new pM(n,e.curveSegments)}}function Sue(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,n=i.length;t<n;t++){const r=i[t];e.shapes.push(r.uuid)}else e.shapes.push(i.uuid);return e}class fx extends Pt{constructor(e=1,t=32,n=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const l=Math.min(o+a,Math.PI);let c=0;const u=[],h=new V,d=new V,m=[],g=[],y=[],_=[];for(let v=0;v<=n;v++){const A=[],w=v/n;let C=0;v===0&&o===0?C=.5/t:v===n&&l===Math.PI&&(C=-.5/t);for(let T=0;T<=t;T++){const E=T/t;h.x=-e*Math.cos(r+E*s)*Math.sin(o+w*a),h.y=e*Math.cos(o+w*a),h.z=e*Math.sin(r+E*s)*Math.sin(o+w*a),g.push(h.x,h.y,h.z),d.copy(h).normalize(),y.push(d.x,d.y,d.z),_.push(E+C,1-w),A.push(c++)}u.push(A)}for(let v=0;v<n;v++)for(let A=0;A<t;A++){const w=u[v][A+1],C=u[v][A],T=u[v+1][A],E=u[v+1][A+1];(v!==0||o>0)&&m.push(w,C,E),(v!==n-1||l<Math.PI)&&m.push(C,T,E)}this.setIndex(m),this.setAttribute("position",new at(g,3)),this.setAttribute("normal",new at(y,3)),this.setAttribute("uv",new at(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fx(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class mM extends zh{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new mM(e.radius,e.detail)}}class gM extends Pt{constructor(e=1,t=.4,n=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:s},n=Math.floor(n),r=Math.floor(r);const o=[],a=[],l=[],c=[],u=new V,h=new V,d=new V;for(let m=0;m<=n;m++)for(let g=0;g<=r;g++){const y=g/r*s,_=m/n*Math.PI*2;h.x=(e+t*Math.cos(_))*Math.cos(y),h.y=(e+t*Math.cos(_))*Math.sin(y),h.z=t*Math.sin(_),a.push(h.x,h.y,h.z),u.x=e*Math.cos(y),u.y=e*Math.sin(y),d.subVectors(h,u).normalize(),l.push(d.x,d.y,d.z),c.push(g/r),c.push(m/n)}for(let m=1;m<=n;m++)for(let g=1;g<=r;g++){const y=(r+1)*m+g-1,_=(r+1)*(m-1)+g-1,v=(r+1)*(m-1)+g,A=(r+1)*m+g;o.push(y,_,A),o.push(_,v,A)}this.setIndex(o),this.setAttribute("position",new at(a,3)),this.setAttribute("normal",new at(l,3)),this.setAttribute("uv",new at(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gM(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class vM extends Pt{constructor(e=1,t=.4,n=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:s,q:o},n=Math.floor(n),r=Math.floor(r);const a=[],l=[],c=[],u=[],h=new V,d=new V,m=new V,g=new V,y=new V,_=new V,v=new V;for(let w=0;w<=n;++w){const C=w/n*s*Math.PI*2;A(C,s,o,e,m),A(C+.01,s,o,e,g),_.subVectors(g,m),v.addVectors(g,m),y.crossVectors(_,v),v.crossVectors(y,_),y.normalize(),v.normalize();for(let T=0;T<=r;++T){const E=T/r*Math.PI*2,R=-t*Math.cos(E),D=t*Math.sin(E);h.x=m.x+(R*v.x+D*y.x),h.y=m.y+(R*v.y+D*y.y),h.z=m.z+(R*v.z+D*y.z),l.push(h.x,h.y,h.z),d.subVectors(h,m).normalize(),c.push(d.x,d.y,d.z),u.push(w/n),u.push(T/r)}}for(let w=1;w<=n;w++)for(let C=1;C<=r;C++){const T=(r+1)*(w-1)+(C-1),E=(r+1)*w+(C-1),R=(r+1)*w+C,D=(r+1)*(w-1)+C;a.push(T,E,D),a.push(E,R,D)}this.setIndex(a),this.setAttribute("position",new at(l,3)),this.setAttribute("normal",new at(c,3)),this.setAttribute("uv",new at(u,2));function A(w,C,T,E,R){const D=Math.cos(w),I=Math.sin(w),L=T/C*w,O=Math.cos(L);R.x=E*(2+O)*.5*D,R.y=E*(2+O)*I*.5,R.z=E*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vM(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class yM extends Pt{constructor(e=new MI(new V(-1,-1,0),new V(-1,1,0),new V(1,1,0)),t=64,n=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new V,l=new V,c=new we;let u=new V;const h=[],d=[],m=[],g=[];y(),this.setIndex(g),this.setAttribute("position",new at(h,3)),this.setAttribute("normal",new at(d,3)),this.setAttribute("uv",new at(m,2));function y(){for(let w=0;w<t;w++)_(w);_(s===!1?t:0),A(),v()}function _(w){u=e.getPointAt(w/t,u);const C=o.normals[w],T=o.binormals[w];for(let E=0;E<=r;E++){const R=E/r*Math.PI*2,D=Math.sin(R),I=-Math.cos(R);l.x=I*C.x+D*T.x,l.y=I*C.y+D*T.y,l.z=I*C.z+D*T.z,l.normalize(),d.push(l.x,l.y,l.z),a.x=u.x+n*l.x,a.y=u.y+n*l.y,a.z=u.z+n*l.z,h.push(a.x,a.y,a.z)}}function v(){for(let w=1;w<=t;w++)for(let C=1;C<=r;C++){const T=(r+1)*(w-1)+(C-1),E=(r+1)*w+(C-1),R=(r+1)*w+C,D=(r+1)*(w-1)+C;g.push(T,E,D),g.push(E,R,D)}}function A(){for(let w=0;w<=t;w++)for(let C=0;C<=r;C++)c.x=w/t,c.y=C/r,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new yM(new s4[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class dW extends Pt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,r=new V,s=new V;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const h=l[c],d=h.start,m=h.count;for(let g=d,y=d+m;g<y;g+=3)for(let _=0;_<3;_++){const v=a.getX(g+_),A=a.getX(g+(_+1)%3);r.fromBufferAttribute(o,v),s.fromBufferAttribute(o,A),Pk(r,s,n)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,h=3*a+(c+1)%3;r.fromBufferAttribute(o,u),s.fromBufferAttribute(o,h),Pk(r,s,n)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new at(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Pk(i,e,t){const n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}var Ik=Object.freeze({__proto__:null,BoxGeometry:U0,CapsuleGeometry:oM,CircleGeometry:aM,ConeGeometry:lM,CylinderGeometry:Tg,DodecahedronGeometry:cM,EdgesGeometry:lW,ExtrudeGeometry:hM,IcosahedronGeometry:dM,LatheGeometry:hx,OctahedronGeometry:dx,PlaneGeometry:Mg,PolyhedronGeometry:zh,RingGeometry:fM,ShapeGeometry:pM,SphereGeometry:fx,TetrahedronGeometry:mM,TorusGeometry:gM,TorusKnotGeometry:vM,TubeGeometry:yM,WireframeGeometry:dW});class fW extends _i{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ge(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class pW extends Ea{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class px extends _i{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ge(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Uh,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new to,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Go extends px{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new we(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Qn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ge(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ge(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ge(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class mW extends _i{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ge(16777215),this.specular=new Ge(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Uh,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new to,this.combine=ix,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class gW extends _i{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ge(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Uh,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class vW extends _i{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Uh,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class yW extends _i{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ge(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Uh,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new to,this.combine=ix,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _W extends _i{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ge(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Uh,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class xW extends kr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Hd(i,e,t){return!i||!t&&i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}function AW(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function wW(i){function e(r,s){return i[r]-i[s]}const t=i.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(e),n}function k9(i,e,t){const n=i.length,r=new i.constructor(n);for(let s=0,o=0;o!==n;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=i[a+l]}return r}function TI(i,e,t,n){let r=1,s=i[0];for(;s!==void 0&&s[n]===void 0;)s=i[r++];if(s===void 0)return;let o=s[n];if(o!==void 0)if(Array.isArray(o))do o=s[n],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=i[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[n],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=i[r++];while(s!==void 0);else do o=s[n],o!==void 0&&(e.push(s.time),t.push(o)),s=i[r++];while(s!==void 0)}function bue(i,e,t,n,r=30){const s=i.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),h=[],d=[];for(let m=0;m<c.times.length;++m){const g=c.times[m]*r;if(!(g<t||g>=n)){h.push(c.times[m]);for(let y=0;y<u;++y)d.push(c.values[m*u+y])}}h.length!==0&&(c.times=Hd(h,c.times.constructor),c.values=Hd(d,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function Cue(i,e=0,t=i,n=30){n<=0&&(n=30);const r=t.tracks.length,s=e/n;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=i.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===l});if(c===void 0)continue;let u=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=h/3);let d=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=m/3);const g=a.times.length-1;let y;if(s<=a.times[0]){const v=u,A=h-u;y=a.values.slice(v,A)}else if(s>=a.times[g]){const v=g*h+u,A=v+h-u;y=a.values.slice(v,A)}else{const v=a.createInterpolant(),A=u,w=h-u;v.evaluate(s),y=v.resultBuffer.slice(A,w)}l==="quaternion"&&new Xi().fromArray(y).normalize().conjugate().toArray(y);const _=c.times.length;for(let v=0;v<_;++v){const A=v*m+d;if(l==="quaternion")Xi.multiplyQuaternionsFlat(c.values,A,y,0,c.values,A);else{const w=m-d*2;for(let C=0;C<w;++C)c.values[A+C]-=y[C]}}}return i.blendMode=oI,i}const Mue={convertArray:Hd,isTypedArray:AW,getKeyframeOrder:wW,sortedArray:k9,flattenJSON:TI,subclip:bue,makeClipAdditive:Cue};class Rg{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],s=t[n-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=n+2;;){if(r===void 0){if(e<s)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(s=r,r=t[++n],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(n=2,s=a);for(let l=n-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(r=s,s=t[--n-1],e>=s)break t}o=n,n=0;break n}break e}for(;n<o;){const a=n+o>>>1;e<t[a]?o=a:n=a+1}if(r=t[n],s=t[n-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,r)}return this.interpolate_(n,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=n[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class SW extends Rg{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ud,endingEnd:Ud}}intervalChanged_(e,t,n){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case zd:s=e,a=2*t-n;break;case ny:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=n}if(l===void 0)switch(this.getSettings_().endingEnd){case zd:o=e,l=2*n-t;break;case ny:o=1,l=n+r[1]-r[0];break;default:o=e-1,l=t}const c=(n-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-n),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,h=this._offsetNext,d=this._weightPrev,m=this._weightNext,g=(n-t)/(r-t),y=g*g,_=y*g,v=-d*_+2*d*y-d*g,A=(1+d)*_+(-1.5-2*d)*y+(-.5+d)*g+1,w=(-1-m)*_+(1.5+m)*y+.5*g,C=m*_-m*y;for(let T=0;T!==a;++T)s[T]=v*o[u+T]+A*o[c+T]+w*o[l+T]+C*o[h+T];return s}}class RI extends Rg{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(n-t)/(r-t),h=1-u;for(let d=0;d!==a;++d)s[d]=o[c+d]*h+o[l+d]*u;return s}}class bW extends Rg{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Pa{constructor(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Hd(t,this.TimeBufferType),this.values=Hd(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Hd(e.times,Array),values:Hd(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new bW(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new RI(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new SW(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case og:t=this.InterpolantFactoryMethodDiscrete;break;case ag:t=this.InterpolantFactoryMethodLinear;break;case vS:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return og;case this.InterpolantFactoryMethodLinear:return ag;case this.InterpolantFactoryMethodSmooth:return vS}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let s=0,o=r-1;for(;s!==r&&n[s]<e;)++s;for(;o!==-1&&n[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=n.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,s=n.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=n[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&AW(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===vS,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(r)l=!0;else{const h=a*n,d=h-n,m=h+n;for(let g=0;g!==n;++g){const y=t[h+g];if(y!==t[d+g]||y!==t[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*n,d=o*n;for(let m=0;m!==n;++m)t[d+m]=t[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*n,l=o*n,c=0;c!==n;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Pa.prototype.TimeBufferType=Float32Array;Pa.prototype.ValueBufferType=Float32Array;Pa.prototype.DefaultInterpolation=ag;class z0 extends Pa{constructor(e,t,n){super(e,t,n)}}z0.prototype.ValueTypeName="bool";z0.prototype.ValueBufferType=Array;z0.prototype.DefaultInterpolation=og;z0.prototype.InterpolantFactoryMethodLinear=void 0;z0.prototype.InterpolantFactoryMethodSmooth=void 0;class PI extends Pa{}PI.prototype.ValueTypeName="color";class S0 extends Pa{}S0.prototype.ValueTypeName="number";class CW extends Rg{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(n-t)/(r-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Xi.slerpFlat(s,0,o,c-a,o,c,l);return s}}class b0 extends Pa{InterpolantFactoryMethodLinear(e){return new CW(this.times,this.values,this.getValueSize(),e)}}b0.prototype.ValueTypeName="quaternion";b0.prototype.InterpolantFactoryMethodSmooth=void 0;class j0 extends Pa{constructor(e,t,n){super(e,t,n)}}j0.prototype.ValueTypeName="string";j0.prototype.ValueBufferType=Array;j0.prototype.DefaultInterpolation=og;j0.prototype.InterpolantFactoryMethodLinear=void 0;j0.prototype.InterpolantFactoryMethodSmooth=void 0;class C0 extends Pa{}C0.prototype.ValueTypeName="vector";class ug{constructor(e="",t=-1,n=[],r=qC){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=Qs(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let o=0,a=n.length;o!==a;++o)t.push(Tue(n[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=n.length;s!==o;++s)t.push(Pa.toJSON(n[s]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=wW(l);l=k9(l,1,u),c=k9(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new S0(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const h=u[1];let d=r[h];d||(r[h]=d=[]),d.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,n));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(h,d,m,g,y){if(m.length!==0){const _=[],v=[];TI(m,_,v,g),_.length!==0&&y.push(new h(d,_,v))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const d=c[h].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const m={};let g;for(g=0;g<d.length;g++)if(d[g].morphTargets)for(let y=0;y<d[g].morphTargets.length;y++)m[d[g].morphTargets[y]]=-1;for(const y in m){const _=[],v=[];for(let A=0;A!==d[g].morphTargets.length;++A){const w=d[g];_.push(w.time),v.push(w.morphTarget===y?1:0)}r.push(new S0(".morphTargetInfluence["+y+"]",_,v))}l=m.length*o}else{const m=".bones["+t[h].name+"]";n(C0,m+".position",d,"pos",r),n(b0,m+".quaternion",d,"rot",r),n(C0,m+".scale",d,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const s=this.tracks[n];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Eue(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return S0;case"vector":case"vector2":case"vector3":case"vector4":return C0;case"color":return PI;case"quaternion":return b0;case"bool":case"boolean":return z0;case"string":return j0}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function Tue(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Eue(i.type);if(i.times===void 0){const t=[],n=[];TI(i.keys,t,n,"value"),i.times=t,i.values=n}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const Ec={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class II{constructor(e,t,n){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(u){a++,s===!1&&r.onStart!==void 0&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,r.onProgress!==void 0&&r.onProgress(u,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,h){return c.push(u,h),this},this.removeHandler=function(u){const h=c.indexOf(u);return h!==-1&&c.splice(h,2),this},this.getHandler=function(u){for(let h=0,d=c.length;h<d;h+=2){const m=c[h],g=c[h+1];if(m.global&&(m.lastIndex=0),m.test(u))return g}return null}}}const rm=new II;let Nr=class{constructor(e){this.manager=e!==void 0?e:rm,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,s){n.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};Nr.DEFAULT_MATERIAL_NAME="__DEFAULT";const Fl={};class Rue extends Error{constructor(e,t){super(e),this.response=t}}class no extends Nr{constructor(e){super(e)}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Ec.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Fl[e]!==void 0){Fl[e].push({onLoad:t,onProgress:n,onError:r});return}Fl[e]=[],Fl[e].push({onLoad:t,onProgress:n,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Fl[e],h=c.body.getReader(),d=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),m=d?parseInt(d):0,g=m!==0;let y=0;const _=new ReadableStream({start(v){A();function A(){h.read().then(({done:w,value:C})=>{if(w)v.close();else{y+=C.byteLength;const T=new ProgressEvent("progress",{lengthComputable:g,loaded:y,total:m});for(let E=0,R=u.length;E<R;E++){const D=u[E];D.onProgress&&D.onProgress(T)}v.enqueue(C),A()}},w=>{v.error(w)})}}});return new Response(_)}else throw new Rue(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),d=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(d);return c.arrayBuffer().then(g=>m.decode(g))}}}).then(c=>{Ec.add(e,c);const u=Fl[e];delete Fl[e];for(let h=0,d=u.length;h<d;h++){const m=u[h];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=Fl[e];if(u===void 0)throw this.manager.itemError(e),c;delete Fl[e];for(let h=0,d=u.length;h<d;h++){const m=u[h];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Pue extends Nr{constructor(e){super(e)}load(e,t,n,r){const s=this,o=new no(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=ug.parse(e[n]);t.push(r)}return t}}class Iue extends Nr{constructor(e){super(e)}load(e,t,n,r){const s=this,o=[],a=new rM,l=new no(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(h){l.load(e[h],function(d){const m=s.parse(d,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=$n),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},n,r)}if(Array.isArray(e))for(let h=0,d=e.length;h<d;++h)u(h);else l.load(e,function(h){const d=s.parse(h,!0);if(d.isCubemap){const m=d.mipmaps.length/d.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let y=0;y<d.mipmapCount;y++)o[g].mipmaps.push(d.mipmaps[g*d.mipmapCount+y]),o[g].format=d.format,o[g].width=d.width,o[g].height=d.height}a.image=o}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=$n),a.format=d.format,a.needsUpdate=!0,t&&t(a)},n,r);return a}}class fy extends Nr{constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ec.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=ly("img");function l(){u(),Ec.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(h){u(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class Lue extends Nr{constructor(e){super(e)}load(e,t,n,r){const s=new ax;s.colorSpace=Ro;const o=new fy(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class Due extends Nr{constructor(e){super(e)}load(e,t,n,r){const s=this,o=new ml,a=new no(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(r!==void 0)r(u);else{console.error(u);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Ys,o.wrapT=c.wrapT!==void 0?c.wrapT:Ys,o.magFilter=c.magFilter!==void 0?c.magFilter:$n,o.minFilter=c.minFilter!==void 0?c.minFilter:$n,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Fo),c.mipmapCount===1&&(o.minFilter=$n),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},n,r),o}}class MW extends Nr{constructor(e){super(e)}load(e,t,n,r){const s=new Ln,o=new fy(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},n,r),s}}class jh extends zt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ge(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class EW extends jh{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(zt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ge(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const R6=new pt,Lk=new V,Dk=new V;class LI{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new we(512,512),this.map=null,this.mapPass=null,this.matrix=new pt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new lx,this._frameExtents=new we(1,1),this._viewportCount=1,this._viewports=[new sn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;Lk.setFromMatrixPosition(e.matrixWorld),t.position.copy(Lk),Dk.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Dk),t.updateMatrixWorld(),R6.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(R6),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(R6)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Bue extends LI{constructor(){super(new Pn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=lg*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(n!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=n,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class DI extends jh{constructor(e,t,n=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(zt.DEFAULT_UP),this.updateMatrix(),this.target=new zt,this.distance=n,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new Bue}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Bk=new pt,A1=new V,P6=new V;class Fue extends LI{constructor(){super(new Pn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new we(4,2),this._viewportCount=6,this._viewports=[new sn(2,1,1,1),new sn(0,1,1,1),new sn(3,1,1,1),new sn(1,1,1,1),new sn(3,0,1,1),new sn(1,0,1,1)],this._cubeDirections=[new V(1,0,0),new V(-1,0,0),new V(0,0,1),new V(0,0,-1),new V(0,1,0),new V(0,-1,0)],this._cubeUps=[new V(0,1,0),new V(0,1,0),new V(0,1,0),new V(0,1,0),new V(0,0,1),new V(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,s=e.distance||n.far;s!==n.far&&(n.far=s,n.updateProjectionMatrix()),A1.setFromMatrixPosition(e.matrixWorld),n.position.copy(A1),P6.copy(n.position),P6.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(P6),n.updateMatrixWorld(),r.makeTranslation(-A1.x,-A1.y,-A1.z),Bk.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Bk)}}class BI extends jh{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new Fue}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Oue extends LI{constructor(){super(new Oo(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class FI extends jh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(zt.DEFAULT_UP),this.updateMatrix(),this.target=new zt,this.shadow=new Oue}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class TW extends jh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class RW extends jh{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class PW{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new V)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],1.092548*(n*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(n*s)),t.addScaledVector(o[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*n),t.addScaledVector(o[4],2*.429043*n*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*n*s),t.addScaledVector(o[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const n=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*n*s,t[8]=.546274*(n*n-r*r)}}class IW extends jh{constructor(e=new PW,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class _M extends Nr{constructor(e){super(e),this.textures={}}load(e,t,n,r){const s=this,o=new no(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=_M.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Ge().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=n(o.value);break;case"c":r.uniforms[s].value=new Ge().setHex(o.value);break;case"v2":r.uniforms[s].value=new we().fromArray(o.value);break;case"v3":r.uniforms[s].value=new V().fromArray(o.value);break;case"v4":r.uniforms[s].value=new sn().fromArray(o.value);break;case"m3":r.uniforms[s].value=new It().fromArray(o.value);break;case"m4":r.uniforms[s].value=new pt().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new we().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new we().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:fW,SpriteMaterial:vI,RawShaderMaterial:pW,ShaderMaterial:Ea,PointsMaterial:iM,MeshPhysicalMaterial:Go,MeshStandardMaterial:px,MeshPhongMaterial:mW,MeshToonMaterial:gW,MeshNormalMaterial:vW,MeshLambertMaterial:yW,MeshDepthMaterial:mI,MeshDistanceMaterial:gI,MeshBasicMaterial:Js,MeshMatcapMaterial:_W,LineDashedMaterial:xW,LineBasicMaterial:kr,Material:_i};return new t[e]}}class xh{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class LW extends Pt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class DW extends Nr{constructor(e){super(e)}load(e,t,n,r){const s=this,o=new no(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(m,g){if(t[g]!==void 0)return t[g];const _=m.interleavedBuffers[g],v=s(m,_.buffer),A=tm(_.type,v),w=new cx(A,_.stride);return w.uuid=_.uuid,t[g]=w,w}function s(m,g){if(n[g]!==void 0)return n[g];const _=m.arrayBuffers[g],v=new Uint32Array(_).buffer;return n[g]=v,v}const o=e.isInstancedBufferGeometry?new LW:new Pt,a=e.data.index;if(a!==void 0){const m=tm(a.type,a.array);o.setIndex(new Zt(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let y;if(g.isInterleavedBufferAttribute){const _=r(e.data,g.data);y=new Rh(_,g.itemSize,g.offset,g.normalized)}else{const _=tm(g.type,g.array),v=g.isInstancedBufferAttribute?A0:Zt;y=new v(_,g.itemSize,g.normalized)}g.name!==void 0&&(y.name=g.name),g.usage!==void 0&&y.setUsage(g.usage),o.setAttribute(m,y)}const c=e.data.morphAttributes;if(c)for(const m in c){const g=c[m],y=[];for(let _=0,v=g.length;_<v;_++){const A=g[_];let w;if(A.isInterleavedBufferAttribute){const C=r(e.data,A.data);w=new Rh(C,A.itemSize,A.offset,A.normalized)}else{const C=tm(A.type,A.array);w=new Zt(C,A.itemSize,A.normalized)}A.name!==void 0&&(w.name=A.name),y.push(w)}o.morphAttributes[m]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,g=h.length;m!==g;++m){const y=h[m];o.addGroup(y.start,y.count,y.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const m=new V;d.center!==void 0&&m.fromArray(d.center),o.boundingSphere=new Ki(m,d.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class kue extends Nr{constructor(e){super(e)}load(e,t,n,r){const s=this,o=this.path===""?xh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new no(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},n,r)}async loadAsync(e,t){const n=this,r=this.path===""?xh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new no(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(a)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,n),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),this.bindLightTargets(c),t!==void 0){let h=!1;for(const d in o)if(o[d].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){const s=new a0().fromJSON(e[n]);t[s.uuid]=s}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new ux().fromJSON(e[s],r);n[a.uuid]=a}return n}parseGeometries(e,t){const n={};if(e!==void 0){const r=new DW;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in Ik?a=Ik[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),n[l.uuid]=a}}return n}parseMaterials(e,t){const n={},r={};if(e!==void 0){const s=new _M;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];n[l.uuid]===void 0&&(n[l.uuid]=s.parse(l)),r[l.uuid]=n[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const r=e[n],s=ug.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const n=this,r={};let s;function o(l){return n.manager.itemStart(l),s.load(l,function(){n.manager.itemEnd(l)},void 0,function(){n.manager.itemError(l),n.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:n.resourcePath+c;return o(u)}else return l.data?{data:tm(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new II(t);s=new fy(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const h=e[c],d=h.url;if(Array.isArray(d)){const m=[];for(let g=0,y=d.length;g<y;g++){const _=d[g],v=a(_);v!==null&&(v instanceof HTMLImageElement?m.push(v):m.push(new ml(v.data,v.width,v.height)))}r[h.uuid]=new jd(m)}else{const m=a(h.url);r[h.uuid]=new jd(m)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:tm(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new fy(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let h=0,d=c.length;h<d;h++){const m=c[h],g=await s(m);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new ml(g.data,g.width,g.height)))}n[l.uuid]=new jd(u)}else{const u=await s(l.url);n[l.uuid]=new jd(u)}}}return n}parseTextures(e,t){function n(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new ax,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new ml:u=new Ln,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=n(a.mapping,Nue)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=n(a.wrap[0],Fk),u.wrapT=n(a.wrap[1],Fk)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.minFilter!==void 0&&(u.minFilter=n(a.minFilter,Ok)),a.magFilter!==void 0&&(u.magFilter=n(a.magFilter,Ok)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),r[a.uuid]=u}return r}parseObject(e,t,n,r,s){let o;function a(d){return t[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),t[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const m=[];for(let g=0,y=d.length;g<y;g++){const _=d[g];n[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),m.push(n[_])}return m}return n[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),n[d]}}function c(d){return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),r[d]}let u,h;switch(e.type){case"Scene":o=new n4,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ge(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new tM(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new eM(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Pn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Oo(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new TW(e.color,e.intensity);break;case"DirectionalLight":o=new FI(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new BI(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new RW(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new DI(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new EW(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new IW().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),h=l(e.material),o=new yI(u,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),h=l(e.material),o=new ci(u,h);break;case"InstancedMesh":u=a(e.geometry),h=l(e.material);const d=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new _I(u,h,d),o.instanceMatrix=new A0(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new A0(new Float32Array(g.array),g.itemSize));break;case"BatchedMesh":u=a(e.geometry),h=l(e.material),o=new tW(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,h),o.geometry=u,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(y=>{const _=new hr;_.min.fromArray(y.boxMin),_.max.fromArray(y.boxMax);const v=new Ki;return v.radius=y.sphereRadius,v.center.fromArray(y.sphereCenter),{boxInitialized:y.boxInitialized,box:_,sphereInitialized:y.sphereInitialized,sphere:v}}),o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":o=new eW;break;case"Line":o=new Xc(a(e.geometry),l(e.material));break;case"LineLoop":o=new xI(a(e.geometry),l(e.material));break;case"LineSegments":o=new Ta(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new AI(a(e.geometry),l(e.material));break;case"Sprite":o=new $V(l(e.material));break;case"Group":o=new Mc;break;case"Bone":o=new nM;break;default:o=new zt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let m=0;m<d.length;m++)o.add(this.parseObject(d[m],t,n,r,s))}if(e.animations!==void 0){const d=e.animations;for(let m=0;m<d.length;m++){const g=d[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const d=e.levels;for(let m=0;m<d.length;m++){const g=d[m],y=o.getObjectByProperty("uuid",g.object);y!==void 0&&o.addLevel(y,g.distance,g.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const r=t[n.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,r=e.getObjectByProperty("uuid",n);r!==void 0?t.target=r:t.target=new zt}})}}const Nue={UVMapping:HC,CubeReflectionMapping:Vc,CubeRefractionMapping:Eh,EquirectangularReflectionMapping:ey,EquirectangularRefractionMapping:ty,CubeUVReflectionMapping:bg},Fk={RepeatWrapping:Th,ClampToEdgeWrapping:Ys,MirroredRepeatWrapping:rg},Ok={NearestFilter:Ri,NearestMipmapNearestFilter:GC,NearestMipmapLinearFilter:Nd,LinearFilter:$n,LinearMipmapNearestFilter:xm,LinearMipmapLinearFilter:Fo};class BW extends Nr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ec.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{t&&t(c),s.manager.itemEnd(e)}).catch(c=>{r&&r(c)});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return Ec.add(e,c),t&&t(c),s.manager.itemEnd(e),c}).catch(function(c){r&&r(c),Ec.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Ec.add(e,l),s.manager.itemStart(e)}}let Rw;class OI{static getContext(){return Rw===void 0&&(Rw=new(window.AudioContext||window.webkitAudioContext)),Rw}static setContext(e){Rw=e}}class Uue extends Nr{constructor(e){super(e)}load(e,t,n,r){const s=this,o=new no(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);OI.getContext().decodeAudioData(c,function(h){t(h)}).catch(a)}catch(c){a(c)}},n,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const kk=new pt,Nk=new pt,ld=new pt;class zue{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Pn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Pn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ld.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(s0*t.fov*.5)/t.zoom;let a,l;Nk.elements[12]=-r,kk.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,ld.elements[0]=2*t.near/(l-a),ld.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(ld),a=-o*t.aspect-s,l=o*t.aspect-s,ld.elements[0]=2*t.near/(l-a),ld.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(ld)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Nk),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(kk)}}class kI{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Uk(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Uk();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function Uk(){return(typeof performance>"u"?Date:performance).now()}const cd=new V,zk=new Xi,jue=new V,ud=new V;class Hue extends zt{constructor(){super(),this.type="AudioListener",this.context=OI.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new kI}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(cd,zk,jue),ud.set(0,0,-1).applyQuaternion(zk),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(cd.x,r),t.positionY.linearRampToValueAtTime(cd.y,r),t.positionZ.linearRampToValueAtTime(cd.z,r),t.forwardX.linearRampToValueAtTime(ud.x,r),t.forwardY.linearRampToValueAtTime(ud.y,r),t.forwardZ.linearRampToValueAtTime(ud.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(cd.x,cd.y,cd.z),t.setOrientation(ud.x,ud.y,ud.z,n.x,n.y,n.z)}}let FW=class extends zt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}};const hd=new V,jk=new Xi,Gue=new V,dd=new V;class Vue extends FW{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(hd,jk,Gue),dd.set(0,0,1).applyQuaternion(jk);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(hd.x,n),t.positionY.linearRampToValueAtTime(hd.y,n),t.positionZ.linearRampToValueAtTime(hd.z,n),t.orientationX.linearRampToValueAtTime(dd.x,n),t.orientationY.linearRampToValueAtTime(dd.y,n),t.orientationZ.linearRampToValueAtTime(dd.z,n)}else t.setPosition(hd.x,hd.y,hd.z),t.setOrientation(dd.x,dd.y,dd.z)}}class Wue{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class OW{constructor(e,t,n){this.binding=e,this.valueSize=n;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)n[s+a]=n[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(n,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(n,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(n[l]!==n[l+t]){a.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let s=n,o=r;s!==o;++s)t[s]=t[r+s%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[n+o]}_slerp(e,t,n,r){Xi.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,s){const o=this._workIndex*s;Xi.multiplyQuaternionsFlat(e,o,e,t,e,n),Xi.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,n,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[n+a]*r}}_lerpAdditive(e,t,n,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[n+o]*r}}}const NI="\\[\\]\\.:\\/",Xue=new RegExp("["+NI+"]","g"),UI="[^"+NI+"]",Kue="[^"+NI.replace("\\.","")+"]",Yue=/((?:WC+[\/:])*)/.source.replace("WC",UI),Jue=/(WCOD+)?/.source.replace("WCOD",Kue),que=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",UI),Zue=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",UI),Que=new RegExp("^"+Yue+Jue+que+Zue+"$"),$ue=["material","materials","bones","map"];class ehe{constructor(e,t,n){const r=n||Vt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=n.length;r!==s;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Vt{constructor(e,t,n){this.path=t,this.parsedPath=n||Vt.parseTrackName(t),this.node=Vt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Vt.Composite(e,t,n):new Vt(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Xue,"")}static parseTrackName(e){const t=Que.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=n.nodeName.substring(r+1);$ue.indexOf(s)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=s)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=n(a.children);if(l)return l}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Vt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let c=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Vt.Composite=ehe;Vt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Vt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Vt.prototype.GetterByBindingType=[Vt.prototype._getValue_direct,Vt.prototype._getValue_array,Vt.prototype._getValue_arrayElement,Vt.prototype._getValue_toArray];Vt.prototype.SetterByBindingTypeAndVersioning=[[Vt.prototype._setValue_direct,Vt.prototype._setValue_direct_setNeedsUpdate,Vt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Vt.prototype._setValue_array,Vt.prototype._setValue_array_setNeedsUpdate,Vt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Vt.prototype._setValue_arrayElement,Vt.prototype._setValue_arrayElement_setNeedsUpdate,Vt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Vt.prototype._setValue_fromArray,Vt.prototype._setValue_fromArray_setNeedsUpdate,Vt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class the{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Qs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,h=arguments.length;u!==h;++u){const d=arguments[u],m=d.uuid;let g=t[m];if(g===void 0){g=l++,t[m]=g,e.push(d);for(let y=0,_=o;y!==_;++y)s[y].push(new Vt(d,n[y],r[y]))}else if(g<c){a=e[g];const y=--c,_=e[y];t[_.uuid]=g,e[g]=_,t[m]=y,e[y]=d;for(let v=0,A=o;v!==A;++v){const w=s[v],C=w[y];let T=w[g];w[g]=C,T===void 0&&(T=new Vt(d,n[v],r[v])),w[y]=T}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const h=s++,d=e[h];t[d.uuid]=u,e[u]=d,t[c]=h,e[h]=l;for(let m=0,g=r;m!==g;++m){const y=n[m],_=y[h],v=y[u];y[u]=_,y[h]=v}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,h=t[u];if(h!==void 0)if(delete t[u],h<s){const d=--s,m=e[d],g=--o,y=e[g];t[m.uuid]=h,e[h]=m,t[y.uuid]=d,e[d]=y,e.pop();for(let _=0,v=r;_!==v;++_){const A=n[_],w=A[d],C=A[g];A[h]=w,A[d]=C,A.pop()}}else{const d=--o,m=e[d];d>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let g=0,y=r;g!==y;++g){const _=n[g];_[h]=_[d],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,h=new Array(c);r=s.length,n[e]=r,o.push(e),a.push(t),s.push(h);for(let d=u,m=l.length;d!==m;++d){const g=l[d];h[d]=new Vt(g,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=n,o[n]=l,o.pop(),s[n]=s[a],s.pop(),r[n]=r[a],r.pop()}}}class kW{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Ud,endingEnd:Ud};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=AV,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+n,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*n;l<0||n===0?t=0:(this._startTime=null,t=n*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case oI:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case qC:default:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,s=this._loopCount;const o=n===wV;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(n===xV){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=zd,r.endingEnd=zd):(e?r.endingStart=this.zeroSlopeAtStart?zd:Ud:r.endingStart=ny,t?r.endingEnd=this.zeroSlopeAtEnd?zd:Ud:r.endingEnd=ny)}_scheduleFading(e,t,n){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=n,this}}const nhe=new Float32Array(1);class NW extends wl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=n.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let h=0;h!==s;++h){const d=r[h],m=d.name;let g=u[m];if(g!==void 0)++g.referenceCount,o[h]=g;else{if(g=o[h],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const y=t&&t._propertyBindings[h].binding.parsedPath;g=new OW(Vt.create(n,m,y),d.ValueTypeName,d.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[h]=g}a[h].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete h[d],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[n]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,s=n.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new RI(new Float32Array(2),new Float32Array(2),1,nhe),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=n,t[n]=s}clipAction(e,t,n){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?ug.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(n===void 0&&(o!==null?n=o.blendMode:n=qC),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===n)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new kW(this,o,t,n);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const n=t||this._root,r=n.uuid,s=typeof e=="string"?ug.findByName(n,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==n;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,s=r[n];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=u,t[u]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const a=n[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class zI{constructor(e){this.value=e}clone(){return new zI(this.value.clone===void 0?this.value:this.value.clone())}}let ihe=0;class rhe extends wl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:ihe++}),this.name="",this.usage=oy,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++){const s=Array.isArray(t[n])?t[n]:[t[n]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class she extends cx{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class ohe{constructor(e,t,n,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const Hk=new pt;class UW{constructor(e,t,n=0,r=1/0){this.ray=new N0(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new o0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return Hk.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Hk),this}intersectObject(e,t=!0,n=[]){return N9(e,this,n,t),n.sort(Gk),n}intersectObjects(e,t=!0,n=[]){for(let r=0,s=e.length;r<s;r++)N9(e[r],this,n,t);return n.sort(Gk),n}}function Gk(i,e){return i.distance-e.distance}function N9(i,e,t,n){let r=!0;if(i.layers.test(e.layers)&&i.raycast(e,t)===!1&&(r=!1),r===!0&&n===!0){const s=i.children;for(let o=0,a=s.length;o<a;o++)N9(s[o],e,t,!0)}}class U9{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Qn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class ahe{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class jI{constructor(e,t,n,r){jI.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,r){const s=this.elements;return s[0]=e,s[2]=t,s[1]=n,s[3]=r,this}}const Vk=new we;class lhe{constructor(e=new we(1/0,1/0),t=new we(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Vk.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Vk).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Wk=new V,Pw=new V;class che{constructor(e=new V,t=new V){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Wk.subVectors(e,this.start),Pw.subVectors(this.end,this.start);const n=Pw.dot(Pw);let s=Pw.dot(Wk)/n;return t&&(s=Qn(s,0,1)),s}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Xk=new V;class uhe extends zt{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new Pt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}n.setAttribute("position",new at(r,3));const s=new kr({fog:!1,toneMapped:!1});this.cone=new Ta(n,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Xk.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Xk),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const mu=new V,Iw=new pt,I6=new pt;class hhe extends Ta{constructor(e){const t=zW(e),n=new Pt,r=[],s=[],o=new Ge(0,0,1),a=new Ge(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}n.setAttribute("position",new at(r,3)),n.setAttribute("color",new at(s,3));const l=new kr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");I6.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Iw.multiplyMatrices(I6,a.matrixWorld),mu.setFromMatrixPosition(Iw),r.setXYZ(o,mu.x,mu.y,mu.z),Iw.multiplyMatrices(I6,a.parent.matrixWorld),mu.setFromMatrixPosition(Iw),r.setXYZ(o+1,mu.x,mu.y,mu.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function zW(i){const e=[];i.isBone===!0&&e.push(i);for(let t=0;t<i.children.length;t++)e.push.apply(e,zW(i.children[t]));return e}class dhe extends ci{constructor(e,t,n){const r=new fx(t,4,2),s=new Js({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const fhe=new V,Kk=new Ge,Yk=new Ge;class phe extends zt{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new dx(t);r.rotateY(Math.PI*.5),this.material=new Js({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Zt(o,3)),this.add(new ci(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Kk.copy(this.light.color),Yk.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){const s=n<r/2?Kk:Yk;t.setXYZ(n,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(fhe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class mhe extends Ta{constructor(e=10,t=10,n=4473924,r=8947848){n=new Ge(n),r=new Ge(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let d=0,m=0,g=-a;d<=t;d++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const y=d===s?n:r;y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3}const u=new Pt;u.setAttribute("position",new at(l,3)),u.setAttribute("color",new at(c,3));const h=new kr({vertexColors:!0,toneMapped:!1});super(u,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class ghe extends Ta{constructor(e=10,t=16,n=8,r=64,s=4473924,o=8947848){s=new Ge(s),o=new Ge(o);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const d=h/t*(Math.PI*2),m=Math.sin(d)*e,g=Math.cos(d)*e;a.push(0,0,0),a.push(m,0,g);const y=h&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let h=0;h<n;h++){const d=h&1?s:o,m=e-e/n*h;for(let g=0;g<r;g++){let y=g/r*(Math.PI*2),_=Math.sin(y)*m,v=Math.cos(y)*m;a.push(_,0,v),l.push(d.r,d.g,d.b),y=(g+1)/r*(Math.PI*2),_=Math.sin(y)*m,v=Math.cos(y)*m,a.push(_,0,v),l.push(d.r,d.g,d.b)}}const c=new Pt;c.setAttribute("position",new at(a,3)),c.setAttribute("color",new at(l,3));const u=new kr({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Jk=new V,Lw=new V,qk=new V;class vhe extends zt{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Pt;r.setAttribute("position",new at([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new kr({fog:!1,toneMapped:!1});this.lightPlane=new Xc(r,s),this.add(this.lightPlane),r=new Pt,r.setAttribute("position",new at([0,0,0,0,0,1],3)),this.targetLine=new Xc(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Jk.setFromMatrixPosition(this.light.matrixWorld),Lw.setFromMatrixPosition(this.light.target.matrixWorld),qk.subVectors(Lw,Jk),this.lightPlane.lookAt(Lw),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Lw),this.targetLine.scale.z=qk.length()}}const Dw=new V,Yn=new ox;class yhe extends Ta{constructor(e){const t=new Pt,n=new kr({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,y){l(g),l(y)}function l(g){r.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(r.length/3-1)}t.setAttribute("position",new at(r,3)),t.setAttribute("color",new at(s,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Ge(16755200),u=new Ge(16711680),h=new Ge(43775),d=new Ge(16777215),m=new Ge(3355443);this.setColors(c,u,h,d,m)}setColors(e,t,n,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,r=1;Yn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ri("c",t,e,Yn,0,0,-1),ri("t",t,e,Yn,0,0,1),ri("n1",t,e,Yn,-n,-r,-1),ri("n2",t,e,Yn,n,-r,-1),ri("n3",t,e,Yn,-n,r,-1),ri("n4",t,e,Yn,n,r,-1),ri("f1",t,e,Yn,-n,-r,1),ri("f2",t,e,Yn,n,-r,1),ri("f3",t,e,Yn,-n,r,1),ri("f4",t,e,Yn,n,r,1),ri("u1",t,e,Yn,n*.7,r*1.1,-1),ri("u2",t,e,Yn,-n*.7,r*1.1,-1),ri("u3",t,e,Yn,0,r*2,-1),ri("cf1",t,e,Yn,-n,0,1),ri("cf2",t,e,Yn,n,0,1),ri("cf3",t,e,Yn,0,-r,1),ri("cf4",t,e,Yn,0,r,1),ri("cn1",t,e,Yn,-n,0,-1),ri("cn2",t,e,Yn,n,0,-1),ri("cn3",t,e,Yn,0,-r,-1),ri("cn4",t,e,Yn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ri(i,e,t,n,r,s,o){Dw.set(r,s,o).unproject(n);const a=e[i];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],Dw.x,Dw.y,Dw.z)}}const Bw=new hr;class _he extends Ta{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new Pt;s.setIndex(new Zt(n,1)),s.setAttribute("position",new Zt(r,3)),super(s,new kr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Bw.setFromObject(this.object),Bw.isEmpty())return;const t=Bw.min,n=Bw.max,r=this.geometry.attributes.position,s=r.array;s[0]=n.x,s[1]=n.y,s[2]=n.z,s[3]=t.x,s[4]=n.y,s[5]=n.z,s[6]=t.x,s[7]=t.y,s[8]=n.z,s[9]=n.x,s[10]=t.y,s[11]=n.z,s[12]=n.x,s[13]=n.y,s[14]=t.z,s[15]=t.x,s[16]=n.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=n.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class xhe extends Ta{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Pt;s.setIndex(new Zt(n,1)),s.setAttribute("position",new at(r,3)),super(s,new kr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ahe extends Xc{constructor(e,t=1,n=16776960){const r=n,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Pt;o.setAttribute("position",new at(s,3)),o.computeBoundingSphere(),super(o,new kr({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Pt;l.setAttribute("position",new at(a,3)),l.computeBoundingSphere(),this.add(new ci(l,new Js({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Zk=new V;let Fw,L6;class whe extends zt{constructor(e=new V(0,0,1),t=new V(0,0,0),n=1,r=16776960,s=n*.2,o=s*.2){super(),this.type="ArrowHelper",Fw===void 0&&(Fw=new Pt,Fw.setAttribute("position",new at([0,0,0,0,1,0],3)),L6=new Tg(0,.5,1,5,1),L6.translate(0,-.5,0)),this.position.copy(t),this.line=new Xc(Fw,new kr({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ci(L6,new Js({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Zk.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Zk,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class She extends Ta{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Pt;r.setAttribute("position",new at(t,3)),r.setAttribute("color",new at(n,3));const s=new kr({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,n){const r=new Ge,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(n),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class bhe{constructor(){this.type="ShapePath",this.color=new Ge,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new cy,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,s,o){return this.currentPath.bezierCurveTo(e,t,n,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(v){const A=[];for(let w=0,C=v.length;w<C;w++){const T=v[w],E=new a0;E.curves=T.curves,A.push(E)}return A}function n(v,A){const w=A.length;let C=!1;for(let T=w-1,E=0;E<w;T=E++){let R=A[T],D=A[E],I=D.x-R.x,L=D.y-R.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(R=A[E],I=-I,D=A[T],L=-L),v.y<R.y||v.y>D.y)continue;if(v.y===R.y){if(v.x===R.x)return!0}else{const O=L*(v.x-R.x)-I*(v.y-R.y);if(O===0)return!0;if(O<0)continue;C=!C}}else{if(v.y!==R.y)continue;if(D.x<=v.x&&v.x<=R.x||R.x<=v.x&&v.x<=D.x)return!0}}return C}const r=gl.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new a0,l.curves=a.curves,c.push(l),c;let u=!r(s[0].getPoints());u=e?!u:u;const h=[],d=[];let m=[],g=0,y;d[g]=void 0,m[g]=[];for(let v=0,A=s.length;v<A;v++)a=s[v],y=a.getPoints(),o=r(y),o=e?!o:o,o?(!u&&d[g]&&g++,d[g]={s:new a0,p:y},d[g].s.curves=a.curves,u&&g++,m[g]=[]):m[g].push({h:a,p:y[0]});if(!d[0])return t(s);if(d.length>1){let v=!1,A=0;for(let w=0,C=d.length;w<C;w++)h[w]=[];for(let w=0,C=d.length;w<C;w++){const T=m[w];for(let E=0;E<T.length;E++){const R=T[E];let D=!0;for(let I=0;I<d.length;I++)n(R.p,d[I].p)&&(w!==I&&A++,D?(D=!1,h[I].push(R)):v=!0);D&&h[w].push(R)}}A>0&&v===!1&&(m=h)}let _;for(let v=0,A=d.length;v<A;v++){l=d[v].s,c.push(l),_=m[v];for(let w=0,C=_.length;w<C;w++)l.holes.push(_[w].h)}return c}}class Che extends Ma{constructor(e=1,t=1,n=1,r={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,t,{...r,count:n}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:nx}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=nx);const jW=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:q7,AddEquation:Tu,AddOperation:dV,AdditiveAnimationBlendMode:oI,AdditiveBlending:C9,AgXToneMapping:vV,AlphaFormat:eI,AlwaysCompare:DV,AlwaysDepth:sV,AlwaysStencilFunc:R9,AmbientLight:TW,AnimationAction:kW,AnimationClip:ug,AnimationLoader:Pue,AnimationMixer:NW,AnimationObjectGroup:the,AnimationUtils:Mue,ArcCurve:iW,ArrayCamera:qV,ArrowHelper:whe,AttachedBindMode:T9,Audio:FW,AudioAnalyser:Wue,AudioContext:OI,AudioListener:Hue,AudioLoader:Uue,AxesHelper:She,BackSide:Qr,BasicDepthPacking:bV,BasicShadowMap:UG,BatchedMesh:tW,Bone:nM,BooleanKeyframeTrack:z0,Box2:lhe,Box3:hr,Box3Helper:xhe,BoxGeometry:U0,BoxHelper:_he,BufferAttribute:Zt,BufferGeometry:Pt,BufferGeometryLoader:DW,ByteType:Z7,Cache:Ec,Camera:ox,CameraHelper:yhe,CanvasTexture:qce,CapsuleGeometry:oM,CatmullRomCurve3:rW,CineonToneMapping:mV,CircleGeometry:aM,ClampToEdgeWrapping:Ys,Clock:kI,Color:Ge,ColorKeyframeTrack:PI,ColorManagement:nn,CompressedArrayTexture:Yce,CompressedCubeTexture:Jce,CompressedTexture:rM,CompressedTextureLoader:Iue,ConeGeometry:lM,ConstantAlphaFactor:nV,ConstantColorFactor:eV,CubeCamera:HV,CubeReflectionMapping:Vc,CubeRefractionMapping:Eh,CubeTexture:ax,CubeTextureLoader:Lue,CubeUVReflectionMapping:bg,CubicBezierCurve:SI,CubicBezierCurve3:sW,CubicInterpolant:SW,CullFaceBack:b9,CullFaceFront:NG,CullFaceFrontBack:Pie,CullFaceNone:kG,Curve:Ra,CurvePath:aW,CustomBlending:zG,CustomToneMapping:gV,CylinderGeometry:Tg,Cylindrical:ahe,Data3DTexture:uI,DataArrayTexture:QC,DataTexture:ml,DataTextureLoader:Due,DataUtils:Ure,DecrementStencilOp:jie,DecrementWrapStencilOp:Gie,DefaultLoadingManager:rm,DepthFormat:r0,DepthStencilFormat:x0,DepthTexture:pI,DetachedBindMode:_V,DirectionalLight:FI,DirectionalLightHelper:vhe,DiscreteInterpolant:bW,DisplayP3ColorSpace:ZC,DodecahedronGeometry:cM,DoubleSide:Lo,DstAlphaFactor:JG,DstColorFactor:ZG,DynamicCopyUsage:rre,DynamicDrawUsage:Qie,DynamicReadUsage:tre,EdgesGeometry:lW,EllipseCurve:sM,EqualCompare:RV,EqualDepth:aV,EqualStencilFunc:Kie,EquirectangularReflectionMapping:ey,EquirectangularRefractionMapping:ty,Euler:to,EventDispatcher:wl,ExtrudeGeometry:hM,FileLoader:no,Float16BufferAttribute:Wre,Float32BufferAttribute:at,FloatType:ps,Fog:tM,FogExp2:eM,FramebufferTexture:Kce,FrontSide:_l,Frustum:lx,GLBufferAttribute:ohe,GLSL1:ore,GLSL3:P9,GreaterCompare:PV,GreaterDepth:cV,GreaterEqualCompare:LV,GreaterEqualDepth:lV,GreaterEqualStencilFunc:Zie,GreaterStencilFunc:Jie,GridHelper:mhe,Group:Mc,HalfFloatType:Cg,HemisphereLight:EW,HemisphereLightHelper:phe,IcosahedronGeometry:dM,ImageBitmapLoader:BW,ImageLoader:fy,ImageUtils:kV,IncrementStencilOp:zie,IncrementWrapStencilOp:Hie,InstancedBufferAttribute:A0,InstancedBufferGeometry:LW,InstancedInterleavedBuffer:she,InstancedMesh:_I,Int16BufferAttribute:Gre,Int32BufferAttribute:Vre,Int8BufferAttribute:zre,IntType:VC,InterleavedBuffer:cx,InterleavedBufferAttribute:Rh,Interpolant:Rg,InterpolateDiscrete:og,InterpolateLinear:ag,InterpolateSmooth:vS,InvertStencilOp:Vie,KeepStencilOp:Sd,KeyframeTrack:Pa,LOD:eW,LatheGeometry:hx,Layers:o0,LessCompare:TV,LessDepth:oV,LessEqualCompare:lI,LessEqualDepth:$v,LessEqualStencilFunc:Yie,LessStencilFunc:Xie,Light:jh,LightProbe:IW,Line:Xc,Line3:che,LineBasicMaterial:kr,LineCurve:bI,LineCurve3:oW,LineDashedMaterial:xW,LineLoop:xI,LineSegments:Ta,LinearDisplayP3ColorSpace:sx,LinearFilter:$n,LinearInterpolant:RI,LinearMipMapLinearFilter:Bie,LinearMipMapNearestFilter:Die,LinearMipmapLinearFilter:Fo,LinearMipmapNearestFilter:xm,LinearSRGBColorSpace:Zc,LinearToneMapping:fV,LinearTransfer:iy,Loader:Nr,LoaderUtils:xh,LoadingManager:II,LoopOnce:xV,LoopPingPong:wV,LoopRepeat:AV,LuminanceAlphaFormat:iI,LuminanceFormat:nI,MOUSE:Ad,Material:_i,MaterialLoader:_M,MathUtils:BV,Matrix2:jI,Matrix3:It,Matrix4:pt,MaxEquation:VG,Mesh:ci,MeshBasicMaterial:Js,MeshDepthMaterial:mI,MeshDistanceMaterial:gI,MeshLambertMaterial:yW,MeshMatcapMaterial:_W,MeshNormalMaterial:vW,MeshPhongMaterial:mW,MeshPhysicalMaterial:Go,MeshStandardMaterial:px,MeshToonMaterial:gW,MinEquation:GG,MirroredRepeatWrapping:rg,MixOperation:hV,MultiplyBlending:E9,MultiplyOperation:ix,NearestFilter:Ri,NearestMipMapLinearFilter:Lie,NearestMipMapNearestFilter:Iie,NearestMipmapLinearFilter:Nd,NearestMipmapNearestFilter:GC,NeutralToneMapping:yV,NeverCompare:EV,NeverDepth:rV,NeverStencilFunc:Wie,NoBlending:Pc,NoColorSpace:wc,NoToneMapping:pl,NormalAnimationBlendMode:qC,NormalBlending:i0,NotEqualCompare:IV,NotEqualDepth:uV,NotEqualStencilFunc:qie,NumberKeyframeTrack:S0,Object3D:zt,ObjectLoader:kue,ObjectSpaceNormalMap:MV,OctahedronGeometry:dx,OneFactor:XG,OneMinusConstantAlphaFactor:iV,OneMinusConstantColorFactor:tV,OneMinusDstAlphaFactor:qG,OneMinusDstColorFactor:QG,OneMinusSrcAlphaFactor:T5,OneMinusSrcColorFactor:YG,OrthographicCamera:Oo,P3Primaries:sy,PCFShadowMap:jC,PCFSoftShadowMap:pv,PMREMGenerator:I9,Path:cy,PerspectiveCamera:Pn,Plane:Xl,PlaneGeometry:Mg,PlaneHelper:Ahe,PointLight:BI,PointLightHelper:dhe,Points:AI,PointsMaterial:iM,PolarGridHelper:ghe,PolyhedronGeometry:zh,PositionalAudio:Vue,PropertyBinding:Vt,PropertyMixer:OW,QuadraticBezierCurve:CI,QuadraticBezierCurve3:MI,Quaternion:Xi,QuaternionKeyframeTrack:b0,QuaternionLinearInterpolant:CW,RED_GREEN_RGTC2_Format:$5,RED_RGTC1_Format:sI,REVISION:nx,RGBADepthPacking:CV,RGBAFormat:Pr,RGBAIntegerFormat:JC,RGBA_ASTC_10x10_Format:K5,RGBA_ASTC_10x5_Format:V5,RGBA_ASTC_10x6_Format:W5,RGBA_ASTC_10x8_Format:X5,RGBA_ASTC_12x10_Format:Y5,RGBA_ASTC_12x12_Format:J5,RGBA_ASTC_4x4_Format:O5,RGBA_ASTC_5x4_Format:k5,RGBA_ASTC_5x5_Format:N5,RGBA_ASTC_6x5_Format:U5,RGBA_ASTC_6x6_Format:z5,RGBA_ASTC_8x5_Format:j5,RGBA_ASTC_8x6_Format:H5,RGBA_ASTC_8x8_Format:G5,RGBA_BPTC_Format:_v,RGBA_ETC2_EAC_Format:F5,RGBA_PVRTC_2BPPV1_Format:L5,RGBA_PVRTC_4BPPV1_Format:I5,RGBA_S3TC_DXT1_Format:gv,RGBA_S3TC_DXT3_Format:vv,RGBA_S3TC_DXT5_Format:yv,RGBDepthPacking:Oie,RGBFormat:tI,RGBIntegerFormat:Fie,RGB_BPTC_SIGNED_Format:q5,RGB_BPTC_UNSIGNED_Format:Z5,RGB_ETC1_Format:D5,RGB_ETC2_Format:B5,RGB_PVRTC_2BPPV1_Format:P5,RGB_PVRTC_4BPPV1_Format:R5,RGB_S3TC_DXT1_Format:mv,RGDepthPacking:kie,RGFormat:rI,RGIntegerFormat:YC,RawShaderMaterial:pW,Ray:N0,Raycaster:UW,Rec709Primaries:ry,RectAreaLight:RW,RedFormat:KC,RedIntegerFormat:rx,ReinhardToneMapping:pV,RenderTarget:NV,RepeatWrapping:Th,ReplaceStencilOp:Uie,ReverseSubtractEquation:HG,RingGeometry:fM,SIGNED_RED_GREEN_RGTC2_Format:e4,SIGNED_RED_RGTC1_Format:Q5,SRGBColorSpace:Ro,SRGBTransfer:wn,Scene:n4,ShaderChunk:Dt,ShaderLib:_a,ShaderMaterial:Ea,ShadowMaterial:fW,Shape:a0,ShapeGeometry:pM,ShapePath:bhe,ShapeUtils:gl,ShortType:Q7,Skeleton:ux,SkeletonHelper:hhe,SkinnedMesh:yI,Source:jd,Sphere:Ki,SphereGeometry:fx,Spherical:U9,SphericalHarmonics3:PW,SplineCurve:EI,SpotLight:DI,SpotLightHelper:uhe,Sprite:$V,SpriteMaterial:vI,SrcAlphaFactor:E5,SrcAlphaSaturateFactor:$G,SrcColorFactor:KG,StaticCopyUsage:ire,StaticDrawUsage:oy,StaticReadUsage:ere,StereoCamera:zue,StreamCopyUsage:sre,StreamDrawUsage:$ie,StreamReadUsage:nre,StringKeyframeTrack:j0,SubtractEquation:jG,SubtractiveBlending:M9,TOUCH:wd,TangentSpaceNormalMap:Uh,TetrahedronGeometry:mM,Texture:Ln,TextureLoader:MW,TextureUtils:Ece,TorusGeometry:gM,TorusKnotGeometry:vM,Triangle:Ws,TriangleFanDrawMode:t4,TriangleStripDrawMode:aI,TrianglesDrawMode:SV,TubeGeometry:yM,UVMapping:HC,Uint16BufferAttribute:hI,Uint32BufferAttribute:dI,Uint8BufferAttribute:jre,Uint8ClampedBufferAttribute:Hre,Uniform:zI,UniformsGroup:rhe,UniformsLib:Ve,UniformsUtils:jV,UnsignedByteType:Ca,UnsignedInt248Type:_0,UnsignedInt5999Type:$7,UnsignedIntType:Wc,UnsignedShort4444Type:WC,UnsignedShort5551Type:XC,UnsignedShortType:sg,VSMShadowMap:ta,Vector2:we,Vector3:V,Vector4:sn,VectorKeyframeTrack:C0,VideoTexture:nW,WebGL3DRenderTarget:Rre,WebGLArrayRenderTarget:Tre,WebGLCoordinateSystem:cl,WebGLCubeRenderTarget:GV,WebGLMultipleRenderTargets:Che,WebGLRenderTarget:Ma,WebGLRenderer:ZV,WebGLUtils:JV,WebGPUCoordinateSystem:ay,WireframeGeometry:dW,WrapAroundEnding:ny,ZeroCurvatureEnding:Ud,ZeroFactor:WG,ZeroSlopeEnding:zd,ZeroStencilOp:Nie,createCanvasElement:OV},Symbol.toStringTag,{value:"Module"}));var HW={exports:{}},H0={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */H0.ConcurrentRoot=1;H0.ContinuousEventPriority=4;H0.DefaultEventPriority=16;H0.DiscreteEventPriority=1;H0.IdleEventPriority=536870912;H0.LegacyRoot=0;HW.exports=H0;var sm=HW.exports;function Mhe(i){let e;const t=new Set,n=(c,u)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const d=e;e=u?h:Object.assign({},e,h),t.forEach(m=>m(e,d))}},r=()=>e,s=(c,u=r,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=u(e);function m(){const g=u(e);if(!h(d,g)){const y=d;c(d=g,y)}}return t.add(m),()=>t.delete(m)},l={setState:n,getState:r,subscribe:(c,u,h)=>u||h?s(c,u,h):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=i(n,r,l),l}const Ehe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Qk=Ehe?N.useEffect:N.useLayoutEffect;function GW(i){const e=typeof i=="function"?Mhe(i):i,t=(n=e.getState,r=Object.is)=>{const[,s]=N.useReducer(_=>_+1,0),o=e.getState(),a=N.useRef(o),l=N.useRef(n),c=N.useRef(r),u=N.useRef(!1),h=N.useRef();h.current===void 0&&(h.current=n(o));let d,m=!1;(a.current!==o||l.current!==n||c.current!==r||u.current)&&(d=n(o),m=!r(h.current,d)),Qk(()=>{m&&(h.current=d),a.current=o,l.current=n,c.current=r,u.current=!1});const g=N.useRef(o);Qk(()=>{const _=()=>{try{const A=e.getState(),w=l.current(A);c.current(h.current,w)||(a.current=A,h.current=w,s())}catch{u.current=!0,s()}},v=e.subscribe(_);return e.getState()!==g.current&&_(),v},[]);const y=m?d:h.current;return N.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const n=[t,e];return{next(){const r=n.length<=0;return{value:n.shift(),done:r}}}},t}var VW={exports:{}},D6={exports:{}},B6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $k;function The(){return $k||($k=1,function(i){function e(k,Z){var K=k.length;k.push(Z);e:for(;0<K;){var ne=K-1>>>1,le=k[ne];if(0<r(le,Z))k[ne]=Z,k[K]=le,K=ne;else break e}}function t(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var Z=k[0],K=k.pop();if(K!==Z){k[0]=K;e:for(var ne=0,le=k.length,ye=le>>>1;ne<ye;){var re=2*(ne+1)-1,pe=k[re],Me=re+1,xe=k[Me];if(0>r(pe,K))Me<le&&0>r(xe,pe)?(k[ne]=xe,k[Me]=K,ne=Me):(k[ne]=pe,k[re]=K,ne=re);else if(Me<le&&0>r(xe,K))k[ne]=xe,k[Me]=K,ne=Me;else break e}}return Z}function r(k,Z){var K=k.sortIndex-Z.sortIndex;return K!==0?K:k.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();i.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,m=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(k){for(var Z=t(c);Z!==null;){if(Z.callback===null)n(c);else if(Z.startTime<=k)n(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=t(c)}}function C(k){if(y=!1,w(k),!g)if(t(l)!==null)g=!0,Q(T);else{var Z=t(c);Z!==null&&ee(C,Z.startTime-k)}}function T(k,Z){g=!1,y&&(y=!1,v(D),D=-1),m=!0;var K=d;try{for(w(Z),h=t(l);h!==null&&(!(h.expirationTime>Z)||k&&!O());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,d=h.priorityLevel;var le=ne(h.expirationTime<=Z);Z=i.unstable_now(),typeof le=="function"?h.callback=le:h===t(l)&&n(l),w(Z)}else n(l);h=t(l)}if(h!==null)var ye=!0;else{var re=t(c);re!==null&&ee(C,re.startTime-Z),ye=!1}return ye}finally{h=null,d=K,m=!1}}var E=!1,R=null,D=-1,I=5,L=-1;function O(){return!(i.unstable_now()-L<I)}function X(){if(R!==null){var k=i.unstable_now();L=k;var Z=!0;try{Z=R(!0,k)}finally{Z?W():(E=!1,R=null)}}else E=!1}var W;if(typeof A=="function")W=function(){A(X)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,$=q.port2;q.port1.onmessage=X,W=function(){$.postMessage(null)}}else W=function(){_(X,0)};function Q(k){R=k,E||(E=!0,W())}function ee(k,Z){D=_(function(){k(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(k){k.callback=null},i.unstable_continueExecution=function(){g||m||(g=!0,Q(T))},i.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<k?Math.floor(1e3/k):5},i.unstable_getCurrentPriorityLevel=function(){return d},i.unstable_getFirstCallbackNode=function(){return t(l)},i.unstable_next=function(k){switch(d){case 1:case 2:case 3:var Z=3;break;default:Z=d}var K=d;d=Z;try{return k()}finally{d=K}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(k,Z){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var K=d;d=k;try{return Z()}finally{d=K}},i.unstable_scheduleCallback=function(k,Z,K){var ne=i.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,k){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=K+le,k={id:u++,callback:Z,priorityLevel:k,startTime:K,expirationTime:le,sortIndex:-1},K>ne?(k.sortIndex=K,e(c,k),t(l)===null&&k===t(c)&&(y?(v(D),D=-1):y=!0,ee(C,K-ne))):(k.sortIndex=le,e(l,k),g||m||(g=!0,Q(T))),k},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(k){var Z=d;return function(){var K=d;d=Z;try{return k.apply(this,arguments)}finally{d=K}}}}(B6)),B6}var eN;function Rhe(){return eN||(eN=1,D6.exports=The()),D6.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Phe=function(e){var t={},n=N,r=Rhe(),s=Object.assign;function o(f){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+f,b=1;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),T=Symbol.iterator;function E(f){return f===null||typeof f!="object"?null:(f=T&&f[T]||f["@@iterator"],typeof f=="function"?f:null)}function R(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case u:return"Fragment";case c:return"Portal";case d:return"Profiler";case h:return"StrictMode";case _:return"Suspense";case v:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case g:return(f.displayName||"Context")+".Consumer";case m:return(f._context.displayName||"Context")+".Provider";case y:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case A:return p=f.displayName||null,p!==null?p:R(f.type)||"Memo";case w:p=f._payload,f=f._init;try{return R(f(p))}catch{}}return null}function D(f){var p=f.type;switch(f.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=p.render,f=f.displayName||f.name||"",p.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(p);case 8:return p===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function I(f){var p=f,b=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,p.flags&4098&&(b=p.return),f=p.return;while(f)}return p.tag===3?b:null}function L(f){if(I(f)!==f)throw Error(o(188))}function O(f){var p=f.alternate;if(!p){if(p=I(f),p===null)throw Error(o(188));return p!==f?null:f}for(var b=f,M=p;;){var P=b.return;if(P===null)break;var B=P.alternate;if(B===null){if(M=P.return,M!==null){b=M;continue}break}if(P.child===B.child){for(B=P.child;B;){if(B===b)return L(P),f;if(B===M)return L(P),p;B=B.sibling}throw Error(o(188))}if(b.return!==M.return)b=P,M=B;else{for(var Y=!1,se=P.child;se;){if(se===b){Y=!0,b=P,M=B;break}if(se===M){Y=!0,M=P,b=B;break}se=se.sibling}if(!Y){for(se=B.child;se;){if(se===b){Y=!0,b=B,M=P;break}if(se===M){Y=!0,M=B,b=P;break}se=se.sibling}if(!Y)throw Error(o(189))}}if(b.alternate!==M)throw Error(o(190))}if(b.tag!==3)throw Error(o(188));return b.stateNode.current===b?f:p}function X(f){return f=O(f),f!==null?W(f):null}function W(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var p=W(f);if(p!==null)return p;f=f.sibling}return null}function q(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var p=q(f);if(p!==null)return p}f=f.sibling}return null}var $=Array.isArray,Q=e.getPublicInstance,ee=e.getRootHostContext,k=e.getChildHostContext,Z=e.prepareForCommit,K=e.resetAfterCommit,ne=e.createInstance,le=e.appendInitialChild,ye=e.finalizeInitialChildren,re=e.prepareUpdate,pe=e.shouldSetTextContent,Me=e.createTextInstance,xe=e.scheduleTimeout,We=e.cancelTimeout,rt=e.noTimeout,Be=e.isPrimaryRenderer,He=e.supportsMutation,G=e.supportsPersistence,me=e.supportsHydration,Ae=e.getInstanceFromNode,Ie=e.preparePortalMount,ge=e.getCurrentEventPriority,Je=e.detachDeletedInstance,Ue=e.supportsMicrotasks,Ke=e.scheduleMicrotask,J=e.supportsTestSelectors,U=e.findFiberRoot,ue=e.getBoundingRect,Te=e.getTextContent,Ee=e.isHiddenSubtree,Re=e.matchAccessibilityRole,ot=e.setFocusIfFocusable,Le=e.setupIntersectionObserver,Xe=e.appendChild,yt=e.appendChildToContainer,De=e.commitTextUpdate,Ze=e.commitMount,kt=e.commitUpdate,_t=e.insertBefore,et=e.insertInContainerBefore,ie=e.removeChild,be=e.removeChildFromContainer,qe=e.resetTextContent,te=e.hideInstance,Pe=e.hideTextInstance,Se=e.unhideInstance,Ce=e.unhideTextInstance,ze=e.clearContainer,gt=e.cloneInstance,Ct=e.createContainerChildSet,Kt=e.appendChildToContainerChildSet,Mn=e.finalizeContainerChildren,Ft=e.replaceContainerChildren,Li=e.cloneHiddenInstance,Di=e.cloneHiddenTextInstance,Ix=e.canHydrateInstance,Sl=e.canHydrateTextInstance,Dg=e.canHydrateSuspenseInstance,Bg=e.isSuspenseInstancePending,K0=e.isSuspenseInstanceFallback,Y0=e.registerSuspenseInstanceRetry,Qc=e.getNextHydratableSibling,J0=e.getFirstHydratableChild,Lx=e.getFirstHydratableChildWithinContainer,Dx=e.getFirstHydratableChildWithinSuspenseInstance,dE=e.hydrateInstance,fE=e.hydrateTextInstance,pE=e.hydrateSuspenseInstance,H=e.getNextHydratableInstanceAfterSuspenseInstance,oe=e.commitHydratedContainer,de=e.commitHydratedSuspenseInstance,fe=e.clearSuspenseBoundary,ce=e.clearSuspenseBoundaryFromContainer,ke=e.shouldDeleteUnhydratedTailInstances,$e=e.didNotMatchHydratedContainerTextInstance,st=e.didNotMatchHydratedTextInstance,it;function mt(f){if(it===void 0)try{throw Error()}catch(b){var p=b.stack.trim().match(/\n( *(at )?)/);it=p&&p[1]||""}return`
`+it+f}var xt=!1;function ft(f,p){if(!f||xt)return"";xt=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Oe){var M=Oe}Reflect.construct(f,[],p)}else{try{p.call()}catch(Oe){M=Oe}f.call(p.prototype)}else{try{throw Error()}catch(Oe){M=Oe}f()}}catch(Oe){if(Oe&&M&&typeof Oe.stack=="string"){for(var P=Oe.stack.split(`
`),B=M.stack.split(`
`),Y=P.length-1,se=B.length-1;1<=Y&&0<=se&&P[Y]!==B[se];)se--;for(;1<=Y&&0<=se;Y--,se--)if(P[Y]!==B[se]){if(Y!==1||se!==1)do if(Y--,se--,0>se||P[Y]!==B[se]){var _e=`
`+P[Y].replace(" at new "," at ");return f.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",f.displayName)),_e}while(1<=Y&&0<=se);break}}}finally{xt=!1,Error.prepareStackTrace=b}return(f=f?f.displayName||f.name:"")?mt(f):""}var Qt=Object.prototype.hasOwnProperty,_n=[],on=-1;function Xn(f){return{current:f}}function ht(f){0>on||(f.current=_n[on],_n[on]=null,on--)}function je(f,p){on++,_n[on]=f.current,f.current=p}var xn={},wt=Xn(xn),An=Xn(!1),ts=xn;function hi(f,p){var b=f.type.contextTypes;if(!b)return xn;var M=f.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===p)return M.__reactInternalMemoizedMaskedChildContext;var P={},B;for(B in b)P[B]=p[B];return M&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=p,f.__reactInternalMemoizedMaskedChildContext=P),P}function Bi(f){return f=f.childContextTypes,f!=null}function En(){ht(An),ht(wt)}function Wo(f,p,b){if(wt.current!==xn)throw Error(o(168));je(wt,p),je(An,b)}function q0(f,p,b){var M=f.stateNode;if(p=p.childContextTypes,typeof M.getChildContext!="function")return b;M=M.getChildContext();for(var P in M)if(!(P in p))throw Error(o(108,D(f)||"Unknown",P));return s({},b,M)}function qi(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||xn,ts=wt.current,je(wt,f),je(An,An.current),!0}function Z0(f,p,b){var M=f.stateNode;if(!M)throw Error(o(169));b?(f=q0(f,p,ts),M.__reactInternalMemoizedMergedChildContext=f,ht(An),ht(wt),je(wt,f)):ht(An),je(An,b)}var Cs=Math.clz32?Math.clz32:eQ,Bx=Math.log,$Z=Math.LN2;function eQ(f){return f>>>=0,f===0?32:31-(Bx(f)/$Z|0)|0}var Fx=64,Ox=4194304;function Fg(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function kx(f,p){var b=f.pendingLanes;if(b===0)return 0;var M=0,P=f.suspendedLanes,B=f.pingedLanes,Y=b&268435455;if(Y!==0){var se=Y&~P;se!==0?M=Fg(se):(B&=Y,B!==0&&(M=Fg(B)))}else Y=b&~P,Y!==0?M=Fg(Y):B!==0&&(M=Fg(B));if(M===0)return 0;if(p!==0&&p!==M&&!(p&P)&&(P=M&-M,B=p&-p,P>=B||P===16&&(B&4194240)!==0))return p;if(M&4&&(M|=b&16),p=f.entangledLanes,p!==0)for(f=f.entanglements,p&=M;0<p;)b=31-Cs(p),P=1<<b,M|=f[b],p&=~P;return M}function tQ(f,p){switch(f){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nQ(f,p){for(var b=f.suspendedLanes,M=f.pingedLanes,P=f.expirationTimes,B=f.pendingLanes;0<B;){var Y=31-Cs(B),se=1<<Y,_e=P[Y];_e===-1?(!(se&b)||se&M)&&(P[Y]=tQ(se,p)):_e<=p&&(f.expiredLanes|=se),B&=~se}}function mE(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function gE(f){for(var p=[],b=0;31>b;b++)p.push(f);return p}function Og(f,p,b){f.pendingLanes|=p,p!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,p=31-Cs(p),f[p]=b}function iQ(f,p){var b=f.pendingLanes&~p;f.pendingLanes=p,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=p,f.mutableReadLanes&=p,f.entangledLanes&=p,p=f.entanglements;var M=f.eventTimes;for(f=f.expirationTimes;0<b;){var P=31-Cs(b),B=1<<P;p[P]=0,M[P]=-1,f[P]=-1,b&=~B}}function vE(f,p){var b=f.entangledLanes|=p;for(f=f.entanglements;b;){var M=31-Cs(b),P=1<<M;P&p|f[M]&p&&(f[M]|=p),b&=~P}}var $t=0;function MD(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var yE=r.unstable_scheduleCallback,ED=r.unstable_cancelCallback,rQ=r.unstable_shouldYield,sQ=r.unstable_requestPaint,Fi=r.unstable_now,_E=r.unstable_ImmediatePriority,oQ=r.unstable_UserBlockingPriority,xE=r.unstable_NormalPriority,aQ=r.unstable_IdlePriority,Nx=null,Ia=null;function lQ(f){if(Ia&&typeof Ia.onCommitFiberRoot=="function")try{Ia.onCommitFiberRoot(Nx,f,void 0,(f.current.flags&128)===128)}catch{}}function cQ(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var La=typeof Object.is=="function"?Object.is:cQ,bl=null,Ux=!1,AE=!1;function TD(f){bl===null?bl=[f]:bl.push(f)}function uQ(f){Ux=!0,TD(f)}function Da(){if(!AE&&bl!==null){AE=!0;var f=0,p=$t;try{var b=bl;for($t=1;f<b.length;f++){var M=b[f];do M=M(!0);while(M!==null)}bl=null,Ux=!1}catch(P){throw bl!==null&&(bl=bl.slice(f+1)),yE(_E,Da),P}finally{$t=p,AE=!1}}return null}var hQ=a.ReactCurrentBatchConfig;function zx(f,p){if(La(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var b=Object.keys(f),M=Object.keys(p);if(b.length!==M.length)return!1;for(M=0;M<b.length;M++){var P=b[M];if(!Qt.call(p,P)||!La(f[P],p[P]))return!1}return!0}function dQ(f){switch(f.tag){case 5:return mt(f.type);case 16:return mt("Lazy");case 13:return mt("Suspense");case 19:return mt("SuspenseList");case 0:case 2:case 15:return f=ft(f.type,!1),f;case 11:return f=ft(f.type.render,!1),f;case 1:return f=ft(f.type,!0),f;default:return""}}function Xo(f,p){if(f&&f.defaultProps){p=s({},p),f=f.defaultProps;for(var b in f)p[b]===void 0&&(p[b]=f[b]);return p}return p}var jx=Xn(null),Hx=null,Q0=null,wE=null;function SE(){wE=Q0=Hx=null}function RD(f,p,b){Be?(je(jx,p._currentValue),p._currentValue=b):(je(jx,p._currentValue2),p._currentValue2=b)}function bE(f){var p=jx.current;ht(jx),Be?f._currentValue=p:f._currentValue2=p}function CE(f,p,b){for(;f!==null;){var M=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,M!==null&&(M.childLanes|=p)):M!==null&&(M.childLanes&p)!==p&&(M.childLanes|=p),f===b)break;f=f.return}}function $0(f,p){Hx=f,wE=Q0=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&p&&(Ts=!0),f.firstContext=null)}function lo(f){var p=Be?f._currentValue:f._currentValue2;if(wE!==f)if(f={context:f,memoizedValue:p,next:null},Q0===null){if(Hx===null)throw Error(o(308));Q0=f,Hx.dependencies={lanes:0,firstContext:f}}else Q0=Q0.next=f;return p}var Ba=null,$c=!1;function ME(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PD(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function Cl(f,p){return{eventTime:f,lane:p,tag:0,payload:null,callback:null,next:null}}function eu(f,p){var b=f.updateQueue;b!==null&&(b=b.shared,di!==null&&f.mode&1&&!(Ot&2)?(f=b.interleaved,f===null?(p.next=p,Ba===null?Ba=[b]:Ba.push(b)):(p.next=f.next,f.next=p),b.interleaved=p):(f=b.pending,f===null?p.next=p:(p.next=f.next,f.next=p),b.pending=p))}function Gx(f,p,b){if(p=p.updateQueue,p!==null&&(p=p.shared,(b&4194240)!==0)){var M=p.lanes;M&=f.pendingLanes,b|=M,p.lanes=b,vE(f,b)}}function ID(f,p){var b=f.updateQueue,M=f.alternate;if(M!==null&&(M=M.updateQueue,b===M)){var P=null,B=null;if(b=b.firstBaseUpdate,b!==null){do{var Y={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};B===null?P=B=Y:B=B.next=Y,b=b.next}while(b!==null);B===null?P=B=p:B=B.next=p}else P=B=p;b={baseState:M.baseState,firstBaseUpdate:P,lastBaseUpdate:B,shared:M.shared,effects:M.effects},f.updateQueue=b;return}f=b.lastBaseUpdate,f===null?b.firstBaseUpdate=p:f.next=p,b.lastBaseUpdate=p}function Vx(f,p,b,M){var P=f.updateQueue;$c=!1;var B=P.firstBaseUpdate,Y=P.lastBaseUpdate,se=P.shared.pending;if(se!==null){P.shared.pending=null;var _e=se,Oe=_e.next;_e.next=null,Y===null?B=Oe:Y.next=Oe,Y=_e;var nt=f.alternate;nt!==null&&(nt=nt.updateQueue,se=nt.lastBaseUpdate,se!==Y&&(se===null?nt.firstBaseUpdate=Oe:se.next=Oe,nt.lastBaseUpdate=_e))}if(B!==null){var Et=P.baseState;Y=0,nt=Oe=_e=null,se=B;do{var vt=se.lane,pn=se.eventTime;if((M&vt)===vt){nt!==null&&(nt=nt.next={eventTime:pn,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var ut=f,gr=se;switch(vt=p,pn=b,gr.tag){case 1:if(ut=gr.payload,typeof ut=="function"){Et=ut.call(pn,Et,vt);break e}Et=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=gr.payload,vt=typeof ut=="function"?ut.call(pn,Et,vt):ut,vt==null)break e;Et=s({},Et,vt);break e;case 2:$c=!0}}se.callback!==null&&se.lane!==0&&(f.flags|=64,vt=P.effects,vt===null?P.effects=[se]:vt.push(se))}else pn={eventTime:pn,lane:vt,tag:se.tag,payload:se.payload,callback:se.callback,next:null},nt===null?(Oe=nt=pn,_e=Et):nt=nt.next=pn,Y|=vt;if(se=se.next,se===null){if(se=P.shared.pending,se===null)break;vt=se,se=vt.next,vt.next=null,P.lastBaseUpdate=vt,P.shared.pending=null}}while(!0);if(nt===null&&(_e=Et),P.baseState=_e,P.firstBaseUpdate=Oe,P.lastBaseUpdate=nt,p=P.shared.interleaved,p!==null){P=p;do Y|=P.lane,P=P.next;while(P!==p)}else B===null&&(P.shared.lanes=0);lp|=Y,f.lanes=Y,f.memoizedState=Et}}function LD(f,p,b){if(f=p.effects,p.effects=null,f!==null)for(p=0;p<f.length;p++){var M=f[p],P=M.callback;if(P!==null){if(M.callback=null,M=b,typeof P!="function")throw Error(o(191,P));P.call(M)}}}var DD=new n.Component().refs;function EE(f,p,b,M){p=f.memoizedState,b=b(M,p),b=b==null?p:s({},p,b),f.memoizedState=b,f.lanes===0&&(f.updateQueue.baseState=b)}var Wx={isMounted:function(f){return(f=f._reactInternals)?I(f)===f:!1},enqueueSetState:function(f,p,b){f=f._reactInternals;var M=zr(),P=iu(f),B=Cl(M,P);B.payload=p,b!=null&&(B.callback=b),eu(f,B),p=po(f,P,M),p!==null&&Gx(p,f,P)},enqueueReplaceState:function(f,p,b){f=f._reactInternals;var M=zr(),P=iu(f),B=Cl(M,P);B.tag=1,B.payload=p,b!=null&&(B.callback=b),eu(f,B),p=po(f,P,M),p!==null&&Gx(p,f,P)},enqueueForceUpdate:function(f,p){f=f._reactInternals;var b=zr(),M=iu(f),P=Cl(b,M);P.tag=2,p!=null&&(P.callback=p),eu(f,P),p=po(f,M,b),p!==null&&Gx(p,f,M)}};function BD(f,p,b,M,P,B,Y){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(M,B,Y):p.prototype&&p.prototype.isPureReactComponent?!zx(b,M)||!zx(P,B):!0}function FD(f,p,b){var M=!1,P=xn,B=p.contextType;return typeof B=="object"&&B!==null?B=lo(B):(P=Bi(p)?ts:wt.current,M=p.contextTypes,B=(M=M!=null)?hi(f,P):xn),p=new p(b,B),f.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Wx,f.stateNode=p,p._reactInternals=f,M&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=P,f.__reactInternalMemoizedMaskedChildContext=B),p}function OD(f,p,b,M){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(b,M),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(b,M),p.state!==f&&Wx.enqueueReplaceState(p,p.state,null)}function TE(f,p,b,M){var P=f.stateNode;P.props=b,P.state=f.memoizedState,P.refs=DD,ME(f);var B=p.contextType;typeof B=="object"&&B!==null?P.context=lo(B):(B=Bi(p)?ts:wt.current,P.context=hi(f,B)),P.state=f.memoizedState,B=p.getDerivedStateFromProps,typeof B=="function"&&(EE(f,p,B,b),P.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(p=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),p!==P.state&&Wx.enqueueReplaceState(P,P.state,null),Vx(f,b,P,M),P.state=f.memoizedState),typeof P.componentDidMount=="function"&&(f.flags|=4194308)}var ep=[],tp=0,Xx=null,Kx=0,co=[],uo=0,Xh=null,Ml=1,El="";function Kh(f,p){ep[tp++]=Kx,ep[tp++]=Xx,Xx=f,Kx=p}function kD(f,p,b){co[uo++]=Ml,co[uo++]=El,co[uo++]=Xh,Xh=f;var M=Ml;f=El;var P=32-Cs(M)-1;M&=~(1<<P),b+=1;var B=32-Cs(p)+P;if(30<B){var Y=P-P%5;B=(M&(1<<Y)-1).toString(32),M>>=Y,P-=Y,Ml=1<<32-Cs(p)+P|b<<P|M,El=B+f}else Ml=1<<B|b<<P|M,El=f}function RE(f){f.return!==null&&(Kh(f,1),kD(f,1,0))}function PE(f){for(;f===Xx;)Xx=ep[--tp],ep[tp]=null,Kx=ep[--tp],ep[tp]=null;for(;f===Xh;)Xh=co[--uo],co[uo]=null,El=co[--uo],co[uo]=null,Ml=co[--uo],co[uo]=null}var Ms=null,Es=null,Dn=!1,kg=!1,Ko=null;function ND(f,p){var b=mo(5,null,null,0);b.elementType="DELETED",b.stateNode=p,b.return=f,p=f.deletions,p===null?(f.deletions=[b],f.flags|=16):p.push(b)}function UD(f,p){switch(f.tag){case 5:return p=Ix(p,f.type,f.pendingProps),p!==null?(f.stateNode=p,Ms=f,Es=J0(p),!0):!1;case 6:return p=Sl(p,f.pendingProps),p!==null?(f.stateNode=p,Ms=f,Es=null,!0):!1;case 13:if(p=Dg(p),p!==null){var b=Xh!==null?{id:Ml,overflow:El}:null;return f.memoizedState={dehydrated:p,treeContext:b,retryLane:1073741824},b=mo(18,null,null,0),b.stateNode=p,b.return=f,f.child=b,Ms=f,Es=null,!0}return!1;default:return!1}}function IE(f){return(f.mode&1)!==0&&(f.flags&128)===0}function LE(f){if(Dn){var p=Es;if(p){var b=p;if(!UD(f,p)){if(IE(f))throw Error(o(418));p=Qc(b);var M=Ms;p&&UD(f,p)?ND(M,b):(f.flags=f.flags&-4097|2,Dn=!1,Ms=f)}}else{if(IE(f))throw Error(o(418));f.flags=f.flags&-4097|2,Dn=!1,Ms=f}}}function zD(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;Ms=f}function Ng(f){if(!me||f!==Ms)return!1;if(!Dn)return zD(f),Dn=!0,!1;if(f.tag!==3&&(f.tag!==5||ke(f.type)&&!pe(f.type,f.memoizedProps))){var p=Es;if(p){if(IE(f)){for(f=Es;f;)f=Qc(f);throw Error(o(418))}for(;p;)ND(f,p),p=Qc(p)}}if(zD(f),f.tag===13){if(!me)throw Error(o(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));Es=H(f)}else Es=Ms?Qc(f.stateNode):null;return!0}function np(){me&&(Es=Ms=null,kg=Dn=!1)}function DE(f){Ko===null?Ko=[f]:Ko.push(f)}function Ug(f,p,b){if(f=b.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(o(309));var M=b.stateNode}if(!M)throw Error(o(147,f));var P=M,B=""+f;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===B?p.ref:(p=function(Y){var se=P.refs;se===DD&&(se=P.refs={}),Y===null?delete se[B]:se[B]=Y},p._stringRef=B,p)}if(typeof f!="string")throw Error(o(284));if(!b._owner)throw Error(o(290,f))}return f}function Yx(f,p){throw f=Object.prototype.toString.call(p),Error(o(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f))}function jD(f){var p=f._init;return p(f._payload)}function HD(f){function p(he,ae){if(f){var ve=he.deletions;ve===null?(he.deletions=[ae],he.flags|=16):ve.push(ae)}}function b(he,ae){if(!f)return null;for(;ae!==null;)p(he,ae),ae=ae.sibling;return null}function M(he,ae){for(he=new Map;ae!==null;)ae.key!==null?he.set(ae.key,ae):he.set(ae.index,ae),ae=ae.sibling;return he}function P(he,ae){return he=su(he,ae),he.index=0,he.sibling=null,he}function B(he,ae,ve){return he.index=ve,f?(ve=he.alternate,ve!==null?(ve=ve.index,ve<ae?(he.flags|=2,ae):ve):(he.flags|=2,ae)):(he.flags|=1048576,ae)}function Y(he){return f&&he.alternate===null&&(he.flags|=2),he}function se(he,ae,ve,Qe){return ae===null||ae.tag!==6?(ae=g8(ve,he.mode,Qe),ae.return=he,ae):(ae=P(ae,ve),ae.return=he,ae)}function _e(he,ae,ve,Qe){var ct=ve.type;return ct===u?nt(he,ae,ve.props.children,Qe,ve.key):ae!==null&&(ae.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===w&&jD(ct)===ae.type)?(Qe=P(ae,ve.props),Qe.ref=Ug(he,ae,ve),Qe.return=he,Qe):(Qe=CA(ve.type,ve.key,ve.props,null,he.mode,Qe),Qe.ref=Ug(he,ae,ve),Qe.return=he,Qe)}function Oe(he,ae,ve,Qe){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==ve.containerInfo||ae.stateNode.implementation!==ve.implementation?(ae=v8(ve,he.mode,Qe),ae.return=he,ae):(ae=P(ae,ve.children||[]),ae.return=he,ae)}function nt(he,ae,ve,Qe,ct){return ae===null||ae.tag!==7?(ae=ed(ve,he.mode,Qe,ct),ae.return=he,ae):(ae=P(ae,ve),ae.return=he,ae)}function Et(he,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=g8(""+ae,he.mode,ve),ae.return=he,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case l:return ve=CA(ae.type,ae.key,ae.props,null,he.mode,ve),ve.ref=Ug(he,null,ae),ve.return=he,ve;case c:return ae=v8(ae,he.mode,ve),ae.return=he,ae;case w:var Qe=ae._init;return Et(he,Qe(ae._payload),ve)}if($(ae)||E(ae))return ae=ed(ae,he.mode,ve,null),ae.return=he,ae;Yx(he,ae)}return null}function vt(he,ae,ve,Qe){var ct=ae!==null?ae.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ct!==null?null:se(he,ae,""+ve,Qe);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case l:return ve.key===ct?_e(he,ae,ve,Qe):null;case c:return ve.key===ct?Oe(he,ae,ve,Qe):null;case w:return ct=ve._init,vt(he,ae,ct(ve._payload),Qe)}if($(ve)||E(ve))return ct!==null?null:nt(he,ae,ve,Qe,null);Yx(he,ve)}return null}function pn(he,ae,ve,Qe,ct){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return he=he.get(ve)||null,se(ae,he,""+Qe,ct);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case l:return he=he.get(Qe.key===null?ve:Qe.key)||null,_e(ae,he,Qe,ct);case c:return he=he.get(Qe.key===null?ve:Qe.key)||null,Oe(ae,he,Qe,ct);case w:var Bt=Qe._init;return pn(he,ae,ve,Bt(Qe._payload),ct)}if($(Qe)||E(Qe))return he=he.get(ve)||null,nt(ae,he,Qe,ct,null);Yx(ae,Qe)}return null}function ut(he,ae,ve,Qe){for(var ct=null,Bt=null,Tt=ae,en=ae=0,ki=null;Tt!==null&&en<ve.length;en++){Tt.index>en?(ki=Tt,Tt=null):ki=Tt.sibling;var tn=vt(he,Tt,ve[en],Qe);if(tn===null){Tt===null&&(Tt=ki);break}f&&Tt&&tn.alternate===null&&p(he,Tt),ae=B(tn,ae,en),Bt===null?ct=tn:Bt.sibling=tn,Bt=tn,Tt=ki}if(en===ve.length)return b(he,Tt),Dn&&Kh(he,en),ct;if(Tt===null){for(;en<ve.length;en++)Tt=Et(he,ve[en],Qe),Tt!==null&&(ae=B(Tt,ae,en),Bt===null?ct=Tt:Bt.sibling=Tt,Bt=Tt);return Dn&&Kh(he,en),ct}for(Tt=M(he,Tt);en<ve.length;en++)ki=pn(Tt,he,en,ve[en],Qe),ki!==null&&(f&&ki.alternate!==null&&Tt.delete(ki.key===null?en:ki.key),ae=B(ki,ae,en),Bt===null?ct=ki:Bt.sibling=ki,Bt=ki);return f&&Tt.forEach(function(ou){return p(he,ou)}),Dn&&Kh(he,en),ct}function gr(he,ae,ve,Qe){var ct=E(ve);if(typeof ct!="function")throw Error(o(150));if(ve=ct.call(ve),ve==null)throw Error(o(151));for(var Bt=ct=null,Tt=ae,en=ae=0,ki=null,tn=ve.next();Tt!==null&&!tn.done;en++,tn=ve.next()){Tt.index>en?(ki=Tt,Tt=null):ki=Tt.sibling;var ou=vt(he,Tt,tn.value,Qe);if(ou===null){Tt===null&&(Tt=ki);break}f&&Tt&&ou.alternate===null&&p(he,Tt),ae=B(ou,ae,en),Bt===null?ct=ou:Bt.sibling=ou,Bt=ou,Tt=ki}if(tn.done)return b(he,Tt),Dn&&Kh(he,en),ct;if(Tt===null){for(;!tn.done;en++,tn=ve.next())tn=Et(he,tn.value,Qe),tn!==null&&(ae=B(tn,ae,en),Bt===null?ct=tn:Bt.sibling=tn,Bt=tn);return Dn&&Kh(he,en),ct}for(Tt=M(he,Tt);!tn.done;en++,tn=ve.next())tn=pn(Tt,he,en,tn.value,Qe),tn!==null&&(f&&tn.alternate!==null&&Tt.delete(tn.key===null?en:tn.key),ae=B(tn,ae,en),Bt===null?ct=tn:Bt.sibling=tn,Bt=tn);return f&&Tt.forEach(function(HQ){return p(he,HQ)}),Dn&&Kh(he,en),ct}function go(he,ae,ve,Qe){if(typeof ve=="object"&&ve!==null&&ve.type===u&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case l:e:{for(var ct=ve.key,Bt=ae;Bt!==null;){if(Bt.key===ct){if(ct=ve.type,ct===u){if(Bt.tag===7){b(he,Bt.sibling),ae=P(Bt,ve.props.children),ae.return=he,he=ae;break e}}else if(Bt.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===w&&jD(ct)===Bt.type){b(he,Bt.sibling),ae=P(Bt,ve.props),ae.ref=Ug(he,Bt,ve),ae.return=he,he=ae;break e}b(he,Bt);break}else p(he,Bt);Bt=Bt.sibling}ve.type===u?(ae=ed(ve.props.children,he.mode,Qe,ve.key),ae.return=he,he=ae):(Qe=CA(ve.type,ve.key,ve.props,null,he.mode,Qe),Qe.ref=Ug(he,ae,ve),Qe.return=he,he=Qe)}return Y(he);case c:e:{for(Bt=ve.key;ae!==null;){if(ae.key===Bt)if(ae.tag===4&&ae.stateNode.containerInfo===ve.containerInfo&&ae.stateNode.implementation===ve.implementation){b(he,ae.sibling),ae=P(ae,ve.children||[]),ae.return=he,he=ae;break e}else{b(he,ae);break}else p(he,ae);ae=ae.sibling}ae=v8(ve,he.mode,Qe),ae.return=he,he=ae}return Y(he);case w:return Bt=ve._init,go(he,ae,Bt(ve._payload),Qe)}if($(ve))return ut(he,ae,ve,Qe);if(E(ve))return gr(he,ae,ve,Qe);Yx(he,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"?(ve=""+ve,ae!==null&&ae.tag===6?(b(he,ae.sibling),ae=P(ae,ve),ae.return=he,he=ae):(b(he,ae),ae=g8(ve,he.mode,Qe),ae.return=he,he=ae),Y(he)):b(he,ae)}return go}var ip=HD(!0),GD=HD(!1),zg={},ho=Xn(zg),jg=Xn(zg),rp=Xn(zg);function Fa(f){if(f===zg)throw Error(o(174));return f}function BE(f,p){je(rp,p),je(jg,f),je(ho,zg),f=ee(p),ht(ho),je(ho,f)}function sp(){ht(ho),ht(jg),ht(rp)}function VD(f){var p=Fa(rp.current),b=Fa(ho.current);p=k(b,f.type,p),b!==p&&(je(jg,f),je(ho,p))}function FE(f){jg.current===f&&(ht(ho),ht(jg))}var kn=Xn(0);function Jx(f){for(var p=f;p!==null;){if(p.tag===13){var b=p.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||Bg(b)||K0(b)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var OE=[];function kE(){for(var f=0;f<OE.length;f++){var p=OE[f];Be?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}OE.length=0}var qx=a.ReactCurrentDispatcher,fo=a.ReactCurrentBatchConfig,op=0,Kn=null,fr=null,Oi=null,Zx=!1,Hg=!1,Gg=0,fQ=0;function pr(){throw Error(o(321))}function NE(f,p){if(p===null)return!1;for(var b=0;b<p.length&&b<f.length;b++)if(!La(f[b],p[b]))return!1;return!0}function UE(f,p,b,M,P,B){if(op=B,Kn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,qx.current=f===null||f.memoizedState===null?vQ:yQ,f=b(M,P),Hg){B=0;do{if(Hg=!1,Gg=0,25<=B)throw Error(o(301));B+=1,Oi=fr=null,p.updateQueue=null,qx.current=_Q,f=b(M,P)}while(Hg)}if(qx.current=nA,p=fr!==null&&fr.next!==null,op=0,Oi=fr=Kn=null,Zx=!1,p)throw Error(o(300));return f}function zE(){var f=Gg!==0;return Gg=0,f}function Tl(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oi===null?Kn.memoizedState=Oi=f:Oi=Oi.next=f,Oi}function Oa(){if(fr===null){var f=Kn.alternate;f=f!==null?f.memoizedState:null}else f=fr.next;var p=Oi===null?Kn.memoizedState:Oi.next;if(p!==null)Oi=p,fr=f;else{if(f===null)throw Error(o(310));fr=f,f={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},Oi===null?Kn.memoizedState=Oi=f:Oi=Oi.next=f}return Oi}function Yh(f,p){return typeof p=="function"?p(f):p}function Qx(f){var p=Oa(),b=p.queue;if(b===null)throw Error(o(311));b.lastRenderedReducer=f;var M=fr,P=M.baseQueue,B=b.pending;if(B!==null){if(P!==null){var Y=P.next;P.next=B.next,B.next=Y}M.baseQueue=P=B,b.pending=null}if(P!==null){B=P.next,M=M.baseState;var se=Y=null,_e=null,Oe=B;do{var nt=Oe.lane;if((op&nt)===nt)_e!==null&&(_e=_e.next={lane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),M=Oe.hasEagerState?Oe.eagerState:f(M,Oe.action);else{var Et={lane:nt,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null};_e===null?(se=_e=Et,Y=M):_e=_e.next=Et,Kn.lanes|=nt,lp|=nt}Oe=Oe.next}while(Oe!==null&&Oe!==B);_e===null?Y=M:_e.next=se,La(M,p.memoizedState)||(Ts=!0),p.memoizedState=M,p.baseState=Y,p.baseQueue=_e,b.lastRenderedState=M}if(f=b.interleaved,f!==null){P=f;do B=P.lane,Kn.lanes|=B,lp|=B,P=P.next;while(P!==f)}else P===null&&(b.lanes=0);return[p.memoizedState,b.dispatch]}function $x(f){var p=Oa(),b=p.queue;if(b===null)throw Error(o(311));b.lastRenderedReducer=f;var M=b.dispatch,P=b.pending,B=p.memoizedState;if(P!==null){b.pending=null;var Y=P=P.next;do B=f(B,Y.action),Y=Y.next;while(Y!==P);La(B,p.memoizedState)||(Ts=!0),p.memoizedState=B,p.baseQueue===null&&(p.baseState=B),b.lastRenderedState=B}return[B,M]}function WD(){}function XD(f,p){var b=Kn,M=Oa(),P=p(),B=!La(M.memoizedState,P);if(B&&(M.memoizedState=P,Ts=!0),M=M.queue,Wg(JD.bind(null,b,M,f),[f]),M.getSnapshot!==p||B||Oi!==null&&Oi.memoizedState.tag&1){if(b.flags|=2048,Vg(9,YD.bind(null,b,M,P,p),void 0,null),di===null)throw Error(o(349));op&30||KD(b,p,P)}return P}function KD(f,p,b){f.flags|=16384,f={getSnapshot:p,value:b},p=Kn.updateQueue,p===null?(p={lastEffect:null,stores:null},Kn.updateQueue=p,p.stores=[f]):(b=p.stores,b===null?p.stores=[f]:b.push(f))}function YD(f,p,b,M){p.value=b,p.getSnapshot=M,qD(p)&&po(f,1,-1)}function JD(f,p,b){return b(function(){qD(p)&&po(f,1,-1)})}function qD(f){var p=f.getSnapshot;f=f.value;try{var b=p();return!La(f,b)}catch{return!0}}function jE(f){var p=Tl();return typeof f=="function"&&(f=f()),p.memoizedState=p.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yh,lastRenderedState:f},p.queue=f,f=f.dispatch=gQ.bind(null,Kn,f),[p.memoizedState,f]}function Vg(f,p,b,M){return f={tag:f,create:p,destroy:b,deps:M,next:null},p=Kn.updateQueue,p===null?(p={lastEffect:null,stores:null},Kn.updateQueue=p,p.lastEffect=f.next=f):(b=p.lastEffect,b===null?p.lastEffect=f.next=f:(M=b.next,b.next=f,f.next=M,p.lastEffect=f)),f}function ZD(){return Oa().memoizedState}function eA(f,p,b,M){var P=Tl();Kn.flags|=f,P.memoizedState=Vg(1|p,b,void 0,M===void 0?null:M)}function tA(f,p,b,M){var P=Oa();M=M===void 0?null:M;var B=void 0;if(fr!==null){var Y=fr.memoizedState;if(B=Y.destroy,M!==null&&NE(M,Y.deps)){P.memoizedState=Vg(p,b,B,M);return}}Kn.flags|=f,P.memoizedState=Vg(1|p,b,B,M)}function HE(f,p){return eA(8390656,8,f,p)}function Wg(f,p){return tA(2048,8,f,p)}function QD(f,p){return tA(4,2,f,p)}function $D(f,p){return tA(4,4,f,p)}function eB(f,p){if(typeof p=="function")return f=f(),p(f),function(){p(null)};if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function tB(f,p,b){return b=b!=null?b.concat([f]):null,tA(4,4,eB.bind(null,p,f),b)}function GE(){}function nB(f,p){var b=Oa();p=p===void 0?null:p;var M=b.memoizedState;return M!==null&&p!==null&&NE(p,M[1])?M[0]:(b.memoizedState=[f,p],f)}function iB(f,p){var b=Oa();p=p===void 0?null:p;var M=b.memoizedState;return M!==null&&p!==null&&NE(p,M[1])?M[0]:(f=f(),b.memoizedState=[f,p],f)}function pQ(f,p){var b=$t;$t=b!==0&&4>b?b:4,f(!0);var M=fo.transition;fo.transition={};try{f(!1),p()}finally{$t=b,fo.transition=M}}function rB(){return Oa().memoizedState}function mQ(f,p,b){var M=iu(f);b={lane:M,action:b,hasEagerState:!1,eagerState:null,next:null},sB(f)?oB(p,b):(aB(f,p,b),b=zr(),f=po(f,M,b),f!==null&&lB(f,p,M))}function gQ(f,p,b){var M=iu(f),P={lane:M,action:b,hasEagerState:!1,eagerState:null,next:null};if(sB(f))oB(p,P);else{aB(f,p,P);var B=f.alternate;if(f.lanes===0&&(B===null||B.lanes===0)&&(B=p.lastRenderedReducer,B!==null))try{var Y=p.lastRenderedState,se=B(Y,b);if(P.hasEagerState=!0,P.eagerState=se,La(se,Y))return}catch{}finally{}b=zr(),f=po(f,M,b),f!==null&&lB(f,p,M)}}function sB(f){var p=f.alternate;return f===Kn||p!==null&&p===Kn}function oB(f,p){Hg=Zx=!0;var b=f.pending;b===null?p.next=p:(p.next=b.next,b.next=p),f.pending=p}function aB(f,p,b){di!==null&&f.mode&1&&!(Ot&2)?(f=p.interleaved,f===null?(b.next=b,Ba===null?Ba=[p]:Ba.push(p)):(b.next=f.next,f.next=b),p.interleaved=b):(f=p.pending,f===null?b.next=b:(b.next=f.next,f.next=b),p.pending=b)}function lB(f,p,b){if(b&4194240){var M=p.lanes;M&=f.pendingLanes,b|=M,p.lanes=b,vE(f,b)}}var nA={readContext:lo,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},vQ={readContext:lo,useCallback:function(f,p){return Tl().memoizedState=[f,p===void 0?null:p],f},useContext:lo,useEffect:HE,useImperativeHandle:function(f,p,b){return b=b!=null?b.concat([f]):null,eA(4194308,4,eB.bind(null,p,f),b)},useLayoutEffect:function(f,p){return eA(4194308,4,f,p)},useInsertionEffect:function(f,p){return eA(4,2,f,p)},useMemo:function(f,p){var b=Tl();return p=p===void 0?null:p,f=f(),b.memoizedState=[f,p],f},useReducer:function(f,p,b){var M=Tl();return p=b!==void 0?b(p):p,M.memoizedState=M.baseState=p,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:p},M.queue=f,f=f.dispatch=mQ.bind(null,Kn,f),[M.memoizedState,f]},useRef:function(f){var p=Tl();return f={current:f},p.memoizedState=f},useState:jE,useDebugValue:GE,useDeferredValue:function(f){var p=jE(f),b=p[0],M=p[1];return HE(function(){var P=fo.transition;fo.transition={};try{M(f)}finally{fo.transition=P}},[f]),b},useTransition:function(){var f=jE(!1),p=f[0];return f=pQ.bind(null,f[1]),Tl().memoizedState=f,[p,f]},useMutableSource:function(){},useSyncExternalStore:function(f,p,b){var M=Kn,P=Tl();if(Dn){if(b===void 0)throw Error(o(407));b=b()}else{if(b=p(),di===null)throw Error(o(349));op&30||KD(M,p,b)}P.memoizedState=b;var B={value:b,getSnapshot:p};return P.queue=B,HE(JD.bind(null,M,B,f),[f]),M.flags|=2048,Vg(9,YD.bind(null,M,B,b,p),void 0,null),b},useId:function(){var f=Tl(),p=di.identifierPrefix;if(Dn){var b=El,M=Ml;b=(M&~(1<<32-Cs(M)-1)).toString(32)+b,p=":"+p+"R"+b,b=Gg++,0<b&&(p+="H"+b.toString(32)),p+=":"}else b=fQ++,p=":"+p+"r"+b.toString(32)+":";return f.memoizedState=p},unstable_isNewReconciler:!1},yQ={readContext:lo,useCallback:nB,useContext:lo,useEffect:Wg,useImperativeHandle:tB,useInsertionEffect:QD,useLayoutEffect:$D,useMemo:iB,useReducer:Qx,useRef:ZD,useState:function(){return Qx(Yh)},useDebugValue:GE,useDeferredValue:function(f){var p=Qx(Yh),b=p[0],M=p[1];return Wg(function(){var P=fo.transition;fo.transition={};try{M(f)}finally{fo.transition=P}},[f]),b},useTransition:function(){var f=Qx(Yh)[0],p=Oa().memoizedState;return[f,p]},useMutableSource:WD,useSyncExternalStore:XD,useId:rB,unstable_isNewReconciler:!1},_Q={readContext:lo,useCallback:nB,useContext:lo,useEffect:Wg,useImperativeHandle:tB,useInsertionEffect:QD,useLayoutEffect:$D,useMemo:iB,useReducer:$x,useRef:ZD,useState:function(){return $x(Yh)},useDebugValue:GE,useDeferredValue:function(f){var p=$x(Yh),b=p[0],M=p[1];return Wg(function(){var P=fo.transition;fo.transition={};try{M(f)}finally{fo.transition=P}},[f]),b},useTransition:function(){var f=$x(Yh)[0],p=Oa().memoizedState;return[f,p]},useMutableSource:WD,useSyncExternalStore:XD,useId:rB,unstable_isNewReconciler:!1};function VE(f,p){try{var b="",M=p;do b+=dQ(M),M=M.return;while(M);var P=b}catch(B){P=`
Error generating stack: `+B.message+`
`+B.stack}return{value:f,source:p,stack:P}}function WE(f,p){try{console.error(p.value)}catch(b){setTimeout(function(){throw b})}}var xQ=typeof WeakMap=="function"?WeakMap:Map;function cB(f,p,b){b=Cl(-1,b),b.tag=3,b.payload={element:null};var M=p.value;return b.callback=function(){yA||(yA=!0,c8=M),WE(f,p)},b}function uB(f,p,b){b=Cl(-1,b),b.tag=3;var M=f.type.getDerivedStateFromError;if(typeof M=="function"){var P=p.value;b.payload=function(){return M(P)},b.callback=function(){WE(f,p)}}var B=f.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(b.callback=function(){WE(f,p),typeof M!="function"&&(tu===null?tu=new Set([this]):tu.add(this));var Y=p.stack;this.componentDidCatch(p.value,{componentStack:Y!==null?Y:""})}),b}function hB(f,p,b){var M=f.pingCache;if(M===null){M=f.pingCache=new xQ;var P=new Set;M.set(p,P)}else P=M.get(p),P===void 0&&(P=new Set,M.set(p,P));P.has(b)||(P.add(b),f=BQ.bind(null,f,p,b),p.then(f,f))}function dB(f){do{var p;if((p=f.tag===13)&&(p=f.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return f;f=f.return}while(f!==null);return null}function fB(f,p,b,M,P){return f.mode&1?(f.flags|=65536,f.lanes=P,f):(f===p?f.flags|=65536:(f.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(p=Cl(-1,1),p.tag=2,eu(b,p))),b.lanes|=1),f)}function ka(f){f.flags|=4}function pB(f,p){if(f!==null&&f.child===p.child)return!0;if(p.flags&16)return!1;for(f=p.child;f!==null;){if(f.flags&12854||f.subtreeFlags&12854)return!1;f=f.sibling}return!0}var Xg,Kg,iA,rA;if(He)Xg=function(f,p){for(var b=p.child;b!==null;){if(b.tag===5||b.tag===6)le(f,b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},Kg=function(){},iA=function(f,p,b,M,P){if(f=f.memoizedProps,f!==M){var B=p.stateNode,Y=Fa(ho.current);b=re(B,b,f,M,P,Y),(p.updateQueue=b)&&ka(p)}},rA=function(f,p,b,M){b!==M&&ka(p)};else if(G){Xg=function(f,p,b,M){for(var P=p.child;P!==null;){if(P.tag===5){var B=P.stateNode;b&&M&&(B=Li(B,P.type,P.memoizedProps,P)),le(f,B)}else if(P.tag===6)B=P.stateNode,b&&M&&(B=Di(B,P.memoizedProps,P)),le(f,B);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)B=P.child,B!==null&&(B.return=P),Xg(f,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===p)break;for(;P.sibling===null;){if(P.return===null||P.return===p)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};var mB=function(f,p,b,M){for(var P=p.child;P!==null;){if(P.tag===5){var B=P.stateNode;b&&M&&(B=Li(B,P.type,P.memoizedProps,P)),Kt(f,B)}else if(P.tag===6)B=P.stateNode,b&&M&&(B=Di(B,P.memoizedProps,P)),Kt(f,B);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)B=P.child,B!==null&&(B.return=P),mB(f,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===p)break;for(;P.sibling===null;){if(P.return===null||P.return===p)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};Kg=function(f,p){var b=p.stateNode;if(!pB(f,p)){f=b.containerInfo;var M=Ct(f);mB(M,p,!1,!1),b.pendingChildren=M,ka(p),Mn(f,M)}},iA=function(f,p,b,M,P){var B=f.stateNode,Y=f.memoizedProps;if((f=pB(f,p))&&Y===M)p.stateNode=B;else{var se=p.stateNode,_e=Fa(ho.current),Oe=null;Y!==M&&(Oe=re(se,b,Y,M,P,_e)),f&&Oe===null?p.stateNode=B:(B=gt(B,Oe,b,Y,M,p,f,se),ye(B,b,M,P,_e)&&ka(p),p.stateNode=B,f?ka(p):Xg(B,p,!1,!1))}},rA=function(f,p,b,M){b!==M?(f=Fa(rp.current),b=Fa(ho.current),p.stateNode=Me(M,f,b,p),ka(p)):p.stateNode=f.stateNode}}else Kg=function(){},iA=function(){},rA=function(){};function Yg(f,p){if(!Dn)switch(f.tailMode){case"hidden":p=f.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?f.tail=null:b.sibling=null;break;case"collapsed":b=f.tail;for(var M=null;b!==null;)b.alternate!==null&&(M=b),b=b.sibling;M===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:M.sibling=null}}function mr(f){var p=f.alternate!==null&&f.alternate.child===f.child,b=0,M=0;if(p)for(var P=f.child;P!==null;)b|=P.lanes|P.childLanes,M|=P.subtreeFlags&14680064,M|=P.flags&14680064,P.return=f,P=P.sibling;else for(P=f.child;P!==null;)b|=P.lanes|P.childLanes,M|=P.subtreeFlags,M|=P.flags,P.return=f,P=P.sibling;return f.subtreeFlags|=M,f.childLanes=b,p}function AQ(f,p,b){var M=p.pendingProps;switch(PE(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mr(p),null;case 1:return Bi(p.type)&&En(),mr(p),null;case 3:return M=p.stateNode,sp(),ht(An),ht(wt),kE(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(f===null||f.child===null)&&(Ng(p)?ka(p):f===null||f.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,Ko!==null&&(d8(Ko),Ko=null))),Kg(f,p),mr(p),null;case 5:FE(p),b=Fa(rp.current);var P=p.type;if(f!==null&&p.stateNode!=null)iA(f,p,P,M,b),f.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!M){if(p.stateNode===null)throw Error(o(166));return mr(p),null}if(f=Fa(ho.current),Ng(p)){if(!me)throw Error(o(175));f=dE(p.stateNode,p.type,p.memoizedProps,b,f,p,!kg),p.updateQueue=f,f!==null&&ka(p)}else{var B=ne(P,M,b,f,p);Xg(B,p,!1,!1),p.stateNode=B,ye(B,P,M,b,f)&&ka(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return mr(p),null;case 6:if(f&&p.stateNode!=null)rA(f,p,f.memoizedProps,M);else{if(typeof M!="string"&&p.stateNode===null)throw Error(o(166));if(f=Fa(rp.current),b=Fa(ho.current),Ng(p)){if(!me)throw Error(o(176));if(f=p.stateNode,M=p.memoizedProps,(b=fE(f,M,p,!kg))&&(P=Ms,P!==null))switch(B=(P.mode&1)!==0,P.tag){case 3:$e(P.stateNode.containerInfo,f,M,B);break;case 5:st(P.type,P.memoizedProps,P.stateNode,f,M,B)}b&&ka(p)}else p.stateNode=Me(M,f,b,p)}return mr(p),null;case 13:if(ht(kn),M=p.memoizedState,Dn&&Es!==null&&p.mode&1&&!(p.flags&128)){for(f=Es;f;)f=Qc(f);return np(),p.flags|=98560,p}if(M!==null&&M.dehydrated!==null){if(M=Ng(p),f===null){if(!M)throw Error(o(318));if(!me)throw Error(o(344));if(f=p.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));pE(f,p)}else np(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return mr(p),null}return Ko!==null&&(d8(Ko),Ko=null),p.flags&128?(p.lanes=b,p):(M=M!==null,b=!1,f===null?Ng(p):b=f.memoizedState!==null,M&&!b&&(p.child.flags|=8192,p.mode&1&&(f===null||kn.current&1?xi===0&&(xi=3):p8())),p.updateQueue!==null&&(p.flags|=4),mr(p),null);case 4:return sp(),Kg(f,p),f===null&&Ie(p.stateNode.containerInfo),mr(p),null;case 10:return bE(p.type._context),mr(p),null;case 17:return Bi(p.type)&&En(),mr(p),null;case 19:if(ht(kn),P=p.memoizedState,P===null)return mr(p),null;if(M=(p.flags&128)!==0,B=P.rendering,B===null)if(M)Yg(P,!1);else{if(xi!==0||f!==null&&f.flags&128)for(f=p.child;f!==null;){if(B=Jx(f),B!==null){for(p.flags|=128,Yg(P,!1),f=B.updateQueue,f!==null&&(p.updateQueue=f,p.flags|=4),p.subtreeFlags=0,f=b,M=p.child;M!==null;)b=M,P=f,b.flags&=14680066,B=b.alternate,B===null?(b.childLanes=0,b.lanes=P,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=B.childLanes,b.lanes=B.lanes,b.child=B.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=B.memoizedProps,b.memoizedState=B.memoizedState,b.updateQueue=B.updateQueue,b.type=B.type,P=B.dependencies,b.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext}),M=M.sibling;return je(kn,kn.current&1|2),p.child}f=f.sibling}P.tail!==null&&Fi()>l8&&(p.flags|=128,M=!0,Yg(P,!1),p.lanes=4194304)}else{if(!M)if(f=Jx(B),f!==null){if(p.flags|=128,M=!0,f=f.updateQueue,f!==null&&(p.updateQueue=f,p.flags|=4),Yg(P,!0),P.tail===null&&P.tailMode==="hidden"&&!B.alternate&&!Dn)return mr(p),null}else 2*Fi()-P.renderingStartTime>l8&&b!==1073741824&&(p.flags|=128,M=!0,Yg(P,!1),p.lanes=4194304);P.isBackwards?(B.sibling=p.child,p.child=B):(f=P.last,f!==null?f.sibling=B:p.child=B,P.last=B)}return P.tail!==null?(p=P.tail,P.rendering=p,P.tail=p.sibling,P.renderingStartTime=Fi(),p.sibling=null,f=kn.current,je(kn,M?f&1|2:f&1),p):(mr(p),null);case 22:case 23:return f8(),M=p.memoizedState!==null,f!==null&&f.memoizedState!==null!==M&&(p.flags|=8192),M&&p.mode&1?Rs&1073741824&&(mr(p),He&&p.subtreeFlags&6&&(p.flags|=8192)):mr(p),null;case 24:return null;case 25:return null}throw Error(o(156,p.tag))}var wQ=a.ReactCurrentOwner,Ts=!1;function Ur(f,p,b,M){p.child=f===null?GD(p,null,b,M):ip(p,f.child,b,M)}function gB(f,p,b,M,P){b=b.render;var B=p.ref;return $0(p,P),M=UE(f,p,b,M,B,P),b=zE(),f!==null&&!Ts?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~P,Rl(f,p,P)):(Dn&&b&&RE(p),p.flags|=1,Ur(f,p,M,P),p.child)}function vB(f,p,b,M,P){if(f===null){var B=b.type;return typeof B=="function"&&!m8(B)&&B.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(p.tag=15,p.type=B,yB(f,p,B,M,P)):(f=CA(b.type,null,M,p,p.mode,P),f.ref=p.ref,f.return=p,p.child=f)}if(B=f.child,!(f.lanes&P)){var Y=B.memoizedProps;if(b=b.compare,b=b!==null?b:zx,b(Y,M)&&f.ref===p.ref)return Rl(f,p,P)}return p.flags|=1,f=su(B,M),f.ref=p.ref,f.return=p,p.child=f}function yB(f,p,b,M,P){if(f!==null&&zx(f.memoizedProps,M)&&f.ref===p.ref)if(Ts=!1,(f.lanes&P)!==0)f.flags&131072&&(Ts=!0);else return p.lanes=f.lanes,Rl(f,p,P);return XE(f,p,b,M,P)}function _B(f,p,b){var M=p.pendingProps,P=M.children,B=f!==null?f.memoizedState:null;if(M.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},je(ap,Rs),Rs|=b;else if(b&1073741824)p.memoizedState={baseLanes:0,cachePool:null},M=B!==null?B.baseLanes:b,je(ap,Rs),Rs|=M;else return f=B!==null?B.baseLanes|b:b,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:f,cachePool:null},p.updateQueue=null,je(ap,Rs),Rs|=f,null;else B!==null?(M=B.baseLanes|b,p.memoizedState=null):M=b,je(ap,Rs),Rs|=M;return Ur(f,p,P,b),p.child}function xB(f,p){var b=p.ref;(f===null&&b!==null||f!==null&&f.ref!==b)&&(p.flags|=512,p.flags|=2097152)}function XE(f,p,b,M,P){var B=Bi(b)?ts:wt.current;return B=hi(p,B),$0(p,P),b=UE(f,p,b,M,B,P),M=zE(),f!==null&&!Ts?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~P,Rl(f,p,P)):(Dn&&M&&RE(p),p.flags|=1,Ur(f,p,b,P),p.child)}function AB(f,p,b,M,P){if(Bi(b)){var B=!0;qi(p)}else B=!1;if($0(p,P),p.stateNode===null)f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),FD(p,b,M),TE(p,b,M,P),M=!0;else if(f===null){var Y=p.stateNode,se=p.memoizedProps;Y.props=se;var _e=Y.context,Oe=b.contextType;typeof Oe=="object"&&Oe!==null?Oe=lo(Oe):(Oe=Bi(b)?ts:wt.current,Oe=hi(p,Oe));var nt=b.getDerivedStateFromProps,Et=typeof nt=="function"||typeof Y.getSnapshotBeforeUpdate=="function";Et||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(se!==M||_e!==Oe)&&OD(p,Y,M,Oe),$c=!1;var vt=p.memoizedState;Y.state=vt,Vx(p,M,Y,P),_e=p.memoizedState,se!==M||vt!==_e||An.current||$c?(typeof nt=="function"&&(EE(p,b,nt,M),_e=p.memoizedState),(se=$c||BD(p,b,se,M,vt,_e,Oe))?(Et||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(p.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=M,p.memoizedState=_e),Y.props=M,Y.state=_e,Y.context=Oe,M=se):(typeof Y.componentDidMount=="function"&&(p.flags|=4194308),M=!1)}else{Y=p.stateNode,PD(f,p),se=p.memoizedProps,Oe=p.type===p.elementType?se:Xo(p.type,se),Y.props=Oe,Et=p.pendingProps,vt=Y.context,_e=b.contextType,typeof _e=="object"&&_e!==null?_e=lo(_e):(_e=Bi(b)?ts:wt.current,_e=hi(p,_e));var pn=b.getDerivedStateFromProps;(nt=typeof pn=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(se!==Et||vt!==_e)&&OD(p,Y,M,_e),$c=!1,vt=p.memoizedState,Y.state=vt,Vx(p,M,Y,P);var ut=p.memoizedState;se!==Et||vt!==ut||An.current||$c?(typeof pn=="function"&&(EE(p,b,pn,M),ut=p.memoizedState),(Oe=$c||BD(p,b,Oe,M,vt,ut,_e)||!1)?(nt||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(M,ut,_e),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(M,ut,_e)),typeof Y.componentDidUpdate=="function"&&(p.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof Y.componentDidUpdate!="function"||se===f.memoizedProps&&vt===f.memoizedState||(p.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||se===f.memoizedProps&&vt===f.memoizedState||(p.flags|=1024),p.memoizedProps=M,p.memoizedState=ut),Y.props=M,Y.state=ut,Y.context=_e,M=Oe):(typeof Y.componentDidUpdate!="function"||se===f.memoizedProps&&vt===f.memoizedState||(p.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||se===f.memoizedProps&&vt===f.memoizedState||(p.flags|=1024),M=!1)}return KE(f,p,b,M,B,P)}function KE(f,p,b,M,P,B){xB(f,p);var Y=(p.flags&128)!==0;if(!M&&!Y)return P&&Z0(p,b,!1),Rl(f,p,B);M=p.stateNode,wQ.current=p;var se=Y&&typeof b.getDerivedStateFromError!="function"?null:M.render();return p.flags|=1,f!==null&&Y?(p.child=ip(p,f.child,null,B),p.child=ip(p,null,se,B)):Ur(f,p,se,B),p.memoizedState=M.state,P&&Z0(p,b,!0),p.child}function wB(f){var p=f.stateNode;p.pendingContext?Wo(f,p.pendingContext,p.pendingContext!==p.context):p.context&&Wo(f,p.context,!1),BE(f,p.containerInfo)}function SB(f,p,b,M,P){return np(),DE(P),p.flags|=256,Ur(f,p,b,M),p.child}var sA={dehydrated:null,treeContext:null,retryLane:0};function oA(f){return{baseLanes:f,cachePool:null}}function bB(f,p,b){var M=p.pendingProps,P=kn.current,B=!1,Y=(p.flags&128)!==0,se;if((se=Y)||(se=f!==null&&f.memoizedState===null?!1:(P&2)!==0),se?(B=!0,p.flags&=-129):(f===null||f.memoizedState!==null)&&(P|=1),je(kn,P&1),f===null)return LE(p),f=p.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(p.mode&1?K0(f)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(P=M.children,f=M.fallback,B?(M=p.mode,B=p.child,P={mode:"hidden",children:P},!(M&1)&&B!==null?(B.childLanes=0,B.pendingProps=P):B=MA(P,M,0,null),f=ed(f,M,b,null),B.return=p,f.return=p,B.sibling=f,p.child=B,p.child.memoizedState=oA(b),p.memoizedState=sA,f):YE(p,P));if(P=f.memoizedState,P!==null){if(se=P.dehydrated,se!==null){if(Y)return p.flags&256?(p.flags&=-257,aA(f,p,b,Error(o(422)))):p.memoizedState!==null?(p.child=f.child,p.flags|=128,null):(B=M.fallback,P=p.mode,M=MA({mode:"visible",children:M.children},P,0,null),B=ed(B,P,b,null),B.flags|=2,M.return=p,B.return=p,M.sibling=B,p.child=M,p.mode&1&&ip(p,f.child,null,b),p.child.memoizedState=oA(b),p.memoizedState=sA,B);if(!(p.mode&1))p=aA(f,p,b,null);else if(K0(se))p=aA(f,p,b,Error(o(419)));else if(M=(b&f.childLanes)!==0,Ts||M){if(M=di,M!==null){switch(b&-b){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}M=B&(M.suspendedLanes|b)?0:B,M!==0&&M!==P.retryLane&&(P.retryLane=M,po(f,M,-1))}p8(),p=aA(f,p,b,Error(o(421)))}else Bg(se)?(p.flags|=128,p.child=f.child,p=FQ.bind(null,f),Y0(se,p),p=null):(b=P.treeContext,me&&(Es=Dx(se),Ms=p,Dn=!0,Ko=null,kg=!1,b!==null&&(co[uo++]=Ml,co[uo++]=El,co[uo++]=Xh,Ml=b.id,El=b.overflow,Xh=p)),p=YE(p,p.pendingProps.children),p.flags|=4096);return p}return B?(M=MB(f,p,M.children,M.fallback,b),B=p.child,P=f.child.memoizedState,B.memoizedState=P===null?oA(b):{baseLanes:P.baseLanes|b,cachePool:null},B.childLanes=f.childLanes&~b,p.memoizedState=sA,M):(b=CB(f,p,M.children,b),p.memoizedState=null,b)}return B?(M=MB(f,p,M.children,M.fallback,b),B=p.child,P=f.child.memoizedState,B.memoizedState=P===null?oA(b):{baseLanes:P.baseLanes|b,cachePool:null},B.childLanes=f.childLanes&~b,p.memoizedState=sA,M):(b=CB(f,p,M.children,b),p.memoizedState=null,b)}function YE(f,p){return p=MA({mode:"visible",children:p},f.mode,0,null),p.return=f,f.child=p}function CB(f,p,b,M){var P=f.child;return f=P.sibling,b=su(P,{mode:"visible",children:b}),!(p.mode&1)&&(b.lanes=M),b.return=p,b.sibling=null,f!==null&&(M=p.deletions,M===null?(p.deletions=[f],p.flags|=16):M.push(f)),p.child=b}function MB(f,p,b,M,P){var B=p.mode;f=f.child;var Y=f.sibling,se={mode:"hidden",children:b};return!(B&1)&&p.child!==f?(b=p.child,b.childLanes=0,b.pendingProps=se,p.deletions=null):(b=su(f,se),b.subtreeFlags=f.subtreeFlags&14680064),Y!==null?M=su(Y,M):(M=ed(M,B,P,null),M.flags|=2),M.return=p,b.return=p,b.sibling=M,p.child=b,M}function aA(f,p,b,M){return M!==null&&DE(M),ip(p,f.child,null,b),f=YE(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function EB(f,p,b){f.lanes|=p;var M=f.alternate;M!==null&&(M.lanes|=p),CE(f.return,p,b)}function JE(f,p,b,M,P){var B=f.memoizedState;B===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:M,tail:b,tailMode:P}:(B.isBackwards=p,B.rendering=null,B.renderingStartTime=0,B.last=M,B.tail=b,B.tailMode=P)}function TB(f,p,b){var M=p.pendingProps,P=M.revealOrder,B=M.tail;if(Ur(f,p,M.children,b),M=kn.current,M&2)M=M&1|2,p.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&EB(f,b,p);else if(f.tag===19)EB(f,b,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}M&=1}if(je(kn,M),!(p.mode&1))p.memoizedState=null;else switch(P){case"forwards":for(b=p.child,P=null;b!==null;)f=b.alternate,f!==null&&Jx(f)===null&&(P=b),b=b.sibling;b=P,b===null?(P=p.child,p.child=null):(P=b.sibling,b.sibling=null),JE(p,!1,P,b,B);break;case"backwards":for(b=null,P=p.child,p.child=null;P!==null;){if(f=P.alternate,f!==null&&Jx(f)===null){p.child=P;break}f=P.sibling,P.sibling=b,b=P,P=f}JE(p,!0,b,null,B);break;case"together":JE(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Rl(f,p,b){if(f!==null&&(p.dependencies=f.dependencies),lp|=p.lanes,!(b&p.childLanes))return null;if(f!==null&&p.child!==f.child)throw Error(o(153));if(p.child!==null){for(f=p.child,b=su(f,f.pendingProps),p.child=b,b.return=p;f.sibling!==null;)f=f.sibling,b=b.sibling=su(f,f.pendingProps),b.return=p;b.sibling=null}return p.child}function SQ(f,p,b){switch(p.tag){case 3:wB(p),np();break;case 5:VD(p);break;case 1:Bi(p.type)&&qi(p);break;case 4:BE(p,p.stateNode.containerInfo);break;case 10:RD(p,p.type._context,p.memoizedProps.value);break;case 13:var M=p.memoizedState;if(M!==null)return M.dehydrated!==null?(je(kn,kn.current&1),p.flags|=128,null):b&p.child.childLanes?bB(f,p,b):(je(kn,kn.current&1),f=Rl(f,p,b),f!==null?f.sibling:null);je(kn,kn.current&1);break;case 19:if(M=(b&p.childLanes)!==0,f.flags&128){if(M)return TB(f,p,b);p.flags|=128}var P=p.memoizedState;if(P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),je(kn,kn.current),M)break;return null;case 22:case 23:return p.lanes=0,_B(f,p,b)}return Rl(f,p,b)}function bQ(f,p){switch(PE(p),p.tag){case 1:return Bi(p.type)&&En(),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return sp(),ht(An),ht(wt),kE(),f=p.flags,f&65536&&!(f&128)?(p.flags=f&-65537|128,p):null;case 5:return FE(p),null;case 13:if(ht(kn),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(o(340));np()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return ht(kn),null;case 4:return sp(),null;case 10:return bE(p.type._context),null;case 22:case 23:return f8(),null;case 24:return null;default:return null}}var lA=!1,Jh=!1,CQ=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function cA(f,p){var b=f.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(M){rs(f,p,M)}else b.current=null}function qE(f,p,b){try{b()}catch(M){rs(f,p,M)}}var RB=!1;function MQ(f,p){for(Z(f.containerInfo),Ye=p;Ye!==null;)if(f=Ye,p=f.child,(f.subtreeFlags&1028)!==0&&p!==null)p.return=f,Ye=p;else for(;Ye!==null;){f=Ye;try{var b=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var M=b.memoizedProps,P=b.memoizedState,B=f.stateNode,Y=B.getSnapshotBeforeUpdate(f.elementType===f.type?M:Xo(f.type,M),P);B.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:He&&ze(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(se){rs(f,f.return,se)}if(p=f.sibling,p!==null){p.return=f.return,Ye=p;break}Ye=f.return}return b=RB,RB=!1,b}function qh(f,p,b){var M=p.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var P=M=M.next;do{if((P.tag&f)===f){var B=P.destroy;P.destroy=void 0,B!==void 0&&qE(p,b,B)}P=P.next}while(P!==M)}}function Jg(f,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var b=p=p.next;do{if((b.tag&f)===f){var M=b.create;b.destroy=M()}b=b.next}while(b!==p)}}function ZE(f){var p=f.ref;if(p!==null){var b=f.stateNode;switch(f.tag){case 5:f=Q(b);break;default:f=b}typeof p=="function"?p(f):p.current=f}}function PB(f,p,b){if(Ia&&typeof Ia.onCommitFiberUnmount=="function")try{Ia.onCommitFiberUnmount(Nx,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(f=p.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var M=f=f.next;do{var P=M,B=P.destroy;P=P.tag,B!==void 0&&(P&2||P&4)&&qE(p,b,B),M=M.next}while(M!==f)}break;case 1:if(cA(p,b),f=p.stateNode,typeof f.componentWillUnmount=="function")try{f.props=p.memoizedProps,f.state=p.memoizedState,f.componentWillUnmount()}catch(Y){rs(p,b,Y)}break;case 5:cA(p,b);break;case 4:He?OB(f,p,b):G&&G&&(p=p.stateNode.containerInfo,b=Ct(p),Ft(p,b))}}function IB(f,p,b){for(var M=p;;)if(PB(f,M,b),M.child===null||He&&M.tag===4){if(M===p)break;for(;M.sibling===null;){if(M.return===null||M.return===p)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function LB(f){var p=f.alternate;p!==null&&(f.alternate=null,LB(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&Je(p)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function DB(f){return f.tag===5||f.tag===3||f.tag===4}function BB(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||DB(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function FB(f){if(He){e:{for(var p=f.return;p!==null;){if(DB(p))break e;p=p.return}throw Error(o(160))}var b=p;switch(b.tag){case 5:p=b.stateNode,b.flags&32&&(qe(p),b.flags&=-33),b=BB(f),$E(f,b,p);break;case 3:case 4:p=b.stateNode.containerInfo,b=BB(f),QE(f,b,p);break;default:throw Error(o(161))}}}function QE(f,p,b){var M=f.tag;if(M===5||M===6)f=f.stateNode,p?et(b,f,p):yt(b,f);else if(M!==4&&(f=f.child,f!==null))for(QE(f,p,b),f=f.sibling;f!==null;)QE(f,p,b),f=f.sibling}function $E(f,p,b){var M=f.tag;if(M===5||M===6)f=f.stateNode,p?_t(b,f,p):Xe(b,f);else if(M!==4&&(f=f.child,f!==null))for($E(f,p,b),f=f.sibling;f!==null;)$E(f,p,b),f=f.sibling}function OB(f,p,b){for(var M=p,P=!1,B,Y;;){if(!P){P=M.return;e:for(;;){if(P===null)throw Error(o(160));switch(B=P.stateNode,P.tag){case 5:Y=!1;break e;case 3:B=B.containerInfo,Y=!0;break e;case 4:B=B.containerInfo,Y=!0;break e}P=P.return}P=!0}if(M.tag===5||M.tag===6)IB(f,M,b),Y?be(B,M.stateNode):ie(B,M.stateNode);else if(M.tag===18)Y?ce(B,M.stateNode):fe(B,M.stateNode);else if(M.tag===4){if(M.child!==null){B=M.stateNode.containerInfo,Y=!0,M.child.return=M,M=M.child;continue}}else if(PB(f,M,b),M.child!==null){M.child.return=M,M=M.child;continue}if(M===p)break;for(;M.sibling===null;){if(M.return===null||M.return===p)return;M=M.return,M.tag===4&&(P=!1)}M.sibling.return=M.return,M=M.sibling}}function e8(f,p){if(He){switch(p.tag){case 0:case 11:case 14:case 15:qh(3,p,p.return),Jg(3,p),qh(5,p,p.return);return;case 1:return;case 5:var b=p.stateNode;if(b!=null){var M=p.memoizedProps;f=f!==null?f.memoizedProps:M;var P=p.type,B=p.updateQueue;p.updateQueue=null,B!==null&&kt(b,B,P,f,M,p)}return;case 6:if(p.stateNode===null)throw Error(o(162));b=p.memoizedProps,De(p.stateNode,f!==null?f.memoizedProps:b,b);return;case 3:me&&f!==null&&f.memoizedState.isDehydrated&&oe(p.stateNode.containerInfo);return;case 12:return;case 13:uA(p);return;case 19:uA(p);return;case 17:return}throw Error(o(163))}switch(p.tag){case 0:case 11:case 14:case 15:qh(3,p,p.return),Jg(3,p),qh(5,p,p.return);return;case 12:return;case 13:uA(p);return;case 19:uA(p);return;case 3:me&&f!==null&&f.memoizedState.isDehydrated&&oe(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(G){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,Ft(p.containerInfo,p.pendingChildren);break e}throw Error(o(163))}}function uA(f){var p=f.updateQueue;if(p!==null){f.updateQueue=null;var b=f.stateNode;b===null&&(b=f.stateNode=new CQ),p.forEach(function(M){var P=OQ.bind(null,f,M);b.has(M)||(b.add(M),M.then(P,P))})}}function EQ(f,p){for(Ye=p;Ye!==null;){p=Ye;var b=p.deletions;if(b!==null)for(var M=0;M<b.length;M++){var P=b[M];try{var B=f;He?OB(B,P,p):IB(B,P,p);var Y=P.alternate;Y!==null&&(Y.return=null),P.return=null}catch(ct){rs(P,p,ct)}}if(b=p.child,p.subtreeFlags&12854&&b!==null)b.return=p,Ye=b;else for(;Ye!==null;){p=Ye;try{var se=p.flags;if(se&32&&He&&qe(p.stateNode),se&512){var _e=p.alternate;if(_e!==null){var Oe=_e.ref;Oe!==null&&(typeof Oe=="function"?Oe(null):Oe.current=null)}}if(se&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var nt=p.alternate;(nt===null||nt.memoizedState===null)&&(a8=Fi())}break;case 22:var Et=p.memoizedState!==null,vt=p.alternate,pn=vt!==null&&vt.memoizedState!==null;if(b=p,He){e:if(M=b,P=Et,B=null,He)for(var ut=M;;){if(ut.tag===5){if(B===null){B=ut;var gr=ut.stateNode;P?te(gr):Se(ut.stateNode,ut.memoizedProps)}}else if(ut.tag===6){if(B===null){var go=ut.stateNode;P?Pe(go):Ce(go,ut.memoizedProps)}}else if((ut.tag!==22&&ut.tag!==23||ut.memoizedState===null||ut===M)&&ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===M)break;for(;ut.sibling===null;){if(ut.return===null||ut.return===M)break e;B===ut&&(B=null),ut=ut.return}B===ut&&(B=null),ut.sibling.return=ut.return,ut=ut.sibling}}if(Et&&!pn&&b.mode&1){Ye=b;for(var he=b.child;he!==null;){for(b=Ye=he;Ye!==null;){M=Ye;var ae=M.child;switch(M.tag){case 0:case 11:case 14:case 15:qh(4,M,M.return);break;case 1:cA(M,M.return);var ve=M.stateNode;if(typeof ve.componentWillUnmount=="function"){var Qe=M.return;try{ve.props=M.memoizedProps,ve.state=M.memoizedState,ve.componentWillUnmount()}catch(ct){rs(M,Qe,ct)}}break;case 5:cA(M,M.return);break;case 22:if(M.memoizedState!==null){UB(b);continue}}ae!==null?(ae.return=M,Ye=ae):UB(b)}he=he.sibling}}}switch(se&4102){case 2:FB(p),p.flags&=-3;break;case 6:FB(p),p.flags&=-3,e8(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,e8(p.alternate,p);break;case 4:e8(p.alternate,p)}}catch(ct){rs(p,p.return,ct)}if(b=p.sibling,b!==null){b.return=p.return,Ye=b;break}Ye=p.return}}}function TQ(f,p,b){Ye=f,kB(f)}function kB(f,p,b){for(var M=(f.mode&1)!==0;Ye!==null;){var P=Ye,B=P.child;if(P.tag===22&&M){var Y=P.memoizedState!==null||lA;if(!Y){var se=P.alternate,_e=se!==null&&se.memoizedState!==null||Jh;se=lA;var Oe=Jh;if(lA=Y,(Jh=_e)&&!Oe)for(Ye=P;Ye!==null;)Y=Ye,_e=Y.child,Y.tag===22&&Y.memoizedState!==null?zB(P):_e!==null?(_e.return=Y,Ye=_e):zB(P);for(;B!==null;)Ye=B,kB(B),B=B.sibling;Ye=P,lA=se,Jh=Oe}NB(f)}else P.subtreeFlags&8772&&B!==null?(B.return=P,Ye=B):NB(f)}}function NB(f){for(;Ye!==null;){var p=Ye;if(p.flags&8772){var b=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:Jh||Jg(5,p);break;case 1:var M=p.stateNode;if(p.flags&4&&!Jh)if(b===null)M.componentDidMount();else{var P=p.elementType===p.type?b.memoizedProps:Xo(p.type,b.memoizedProps);M.componentDidUpdate(P,b.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var B=p.updateQueue;B!==null&&LD(p,B,M);break;case 3:var Y=p.updateQueue;if(Y!==null){if(b=null,p.child!==null)switch(p.child.tag){case 5:b=Q(p.child.stateNode);break;case 1:b=p.child.stateNode}LD(p,Y,b)}break;case 5:var se=p.stateNode;b===null&&p.flags&4&&Ze(se,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(me&&p.memoizedState===null){var _e=p.alternate;if(_e!==null){var Oe=_e.memoizedState;if(Oe!==null){var nt=Oe.dehydrated;nt!==null&&de(nt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Jh||p.flags&512&&ZE(p)}catch(Et){rs(p,p.return,Et)}}if(p===f){Ye=null;break}if(b=p.sibling,b!==null){b.return=p.return,Ye=b;break}Ye=p.return}}function UB(f){for(;Ye!==null;){var p=Ye;if(p===f){Ye=null;break}var b=p.sibling;if(b!==null){b.return=p.return,Ye=b;break}Ye=p.return}}function zB(f){for(;Ye!==null;){var p=Ye;try{switch(p.tag){case 0:case 11:case 15:var b=p.return;try{Jg(4,p)}catch(_e){rs(p,b,_e)}break;case 1:var M=p.stateNode;if(typeof M.componentDidMount=="function"){var P=p.return;try{M.componentDidMount()}catch(_e){rs(p,P,_e)}}var B=p.return;try{ZE(p)}catch(_e){rs(p,B,_e)}break;case 5:var Y=p.return;try{ZE(p)}catch(_e){rs(p,Y,_e)}}}catch(_e){rs(p,p.return,_e)}if(p===f){Ye=null;break}var se=p.sibling;if(se!==null){se.return=p.return,Ye=se;break}Ye=p.return}}var hA=0,dA=1,fA=2,pA=3,mA=4;if(typeof Symbol=="function"&&Symbol.for){var qg=Symbol.for;hA=qg("selector.component"),dA=qg("selector.has_pseudo_class"),fA=qg("selector.role"),pA=qg("selector.test_id"),mA=qg("selector.text")}function t8(f){var p=Ae(f);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(o(364));return p}if(f=U(f),f===null)throw Error(o(362));return f.stateNode.current}function n8(f,p){switch(p.$$typeof){case hA:if(f.type===p.value)return!0;break;case dA:e:{p=p.value,f=[f,0];for(var b=0;b<f.length;){var M=f[b++],P=f[b++],B=p[P];if(M.tag!==5||!Ee(M)){for(;B!=null&&n8(M,B);)P++,B=p[P];if(P===p.length){p=!0;break e}else for(M=M.child;M!==null;)f.push(M,P),M=M.sibling}}p=!1}return p;case fA:if(f.tag===5&&Re(f.stateNode,p.value))return!0;break;case mA:if((f.tag===5||f.tag===6)&&(f=Te(f),f!==null&&0<=f.indexOf(p.value)))return!0;break;case pA:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function i8(f){switch(f.$$typeof){case hA:return"<"+(R(f.value)||"Unknown")+">";case dA:return":has("+(i8(f)||"")+")";case fA:return'[role="'+f.value+'"]';case mA:return'"'+f.value+'"';case pA:return'[data-testname="'+f.value+'"]';default:throw Error(o(365))}}function jB(f,p){var b=[];f=[f,0];for(var M=0;M<f.length;){var P=f[M++],B=f[M++],Y=p[B];if(P.tag!==5||!Ee(P)){for(;Y!=null&&n8(P,Y);)B++,Y=p[B];if(B===p.length)b.push(P);else for(P=P.child;P!==null;)f.push(P,B),P=P.sibling}}return b}function r8(f,p){if(!J)throw Error(o(363));f=t8(f),f=jB(f,p),p=[],f=Array.from(f);for(var b=0;b<f.length;){var M=f[b++];if(M.tag===5)Ee(M)||p.push(M.stateNode);else for(M=M.child;M!==null;)f.push(M),M=M.sibling}return p}var RQ=Math.ceil,gA=a.ReactCurrentDispatcher,s8=a.ReactCurrentOwner,ii=a.ReactCurrentBatchConfig,Ot=0,di=null,fi=null,Zi=0,Rs=0,ap=Xn(0),xi=0,Zg=null,lp=0,vA=0,o8=0,Qg=null,ns=null,a8=0,l8=1/0;function cp(){l8=Fi()+500}var yA=!1,c8=null,tu=null,_A=!1,nu=null,xA=0,$g=0,u8=null,AA=-1,wA=0;function zr(){return Ot&6?Fi():AA!==-1?AA:AA=Fi()}function iu(f){return f.mode&1?Ot&2&&Zi!==0?Zi&-Zi:hQ.transition!==null?(wA===0&&(f=Fx,Fx<<=1,!(Fx&4194240)&&(Fx=64),wA=f),wA):(f=$t,f!==0?f:ge()):1}function po(f,p,b){if(50<$g)throw $g=0,u8=null,Error(o(185));var M=SA(f,p);return M===null?null:(Og(M,p,b),(!(Ot&2)||M!==di)&&(M===di&&(!(Ot&2)&&(vA|=p),xi===4&&ru(M,Zi)),is(M,b),p===1&&Ot===0&&!(f.mode&1)&&(cp(),Ux&&Da())),M)}function SA(f,p){f.lanes|=p;var b=f.alternate;for(b!==null&&(b.lanes|=p),b=f,f=f.return;f!==null;)f.childLanes|=p,b=f.alternate,b!==null&&(b.childLanes|=p),b=f,f=f.return;return b.tag===3?b.stateNode:null}function is(f,p){var b=f.callbackNode;nQ(f,p);var M=kx(f,f===di?Zi:0);if(M===0)b!==null&&ED(b),f.callbackNode=null,f.callbackPriority=0;else if(p=M&-M,f.callbackPriority!==p){if(b!=null&&ED(b),p===1)f.tag===0?uQ(GB.bind(null,f)):TD(GB.bind(null,f)),Ue?Ke(function(){Ot===0&&Da()}):yE(_E,Da),b=null;else{switch(MD(M)){case 1:b=_E;break;case 4:b=oQ;break;case 16:b=xE;break;case 536870912:b=aQ;break;default:b=xE}b=QB(b,HB.bind(null,f))}f.callbackPriority=p,f.callbackNode=b}}function HB(f,p){if(AA=-1,wA=0,Ot&6)throw Error(o(327));var b=f.callbackNode;if($h()&&f.callbackNode!==b)return null;var M=kx(f,f===di?Zi:0);if(M===0)return null;if(M&30||M&f.expiredLanes||p)p=bA(f,M);else{p=M;var P=Ot;Ot|=2;var B=XB();(di!==f||Zi!==p)&&(cp(),Zh(f,p));do try{LQ();break}catch(se){WB(f,se)}while(!0);SE(),gA.current=B,Ot=P,fi!==null?p=0:(di=null,Zi=0,p=xi)}if(p!==0){if(p===2&&(P=mE(f),P!==0&&(M=P,p=h8(f,P))),p===1)throw b=Zg,Zh(f,0),ru(f,M),is(f,Fi()),b;if(p===6)ru(f,M);else{if(P=f.current.alternate,!(M&30)&&!PQ(P)&&(p=bA(f,M),p===2&&(B=mE(f),B!==0&&(M=B,p=h8(f,B))),p===1))throw b=Zg,Zh(f,0),ru(f,M),is(f,Fi()),b;switch(f.finishedWork=P,f.finishedLanes=M,p){case 0:case 1:throw Error(o(345));case 2:Qh(f,ns);break;case 3:if(ru(f,M),(M&130023424)===M&&(p=a8+500-Fi(),10<p)){if(kx(f,0)!==0)break;if(P=f.suspendedLanes,(P&M)!==M){zr(),f.pingedLanes|=f.suspendedLanes&P;break}f.timeoutHandle=xe(Qh.bind(null,f,ns),p);break}Qh(f,ns);break;case 4:if(ru(f,M),(M&4194240)===M)break;for(p=f.eventTimes,P=-1;0<M;){var Y=31-Cs(M);B=1<<Y,Y=p[Y],Y>P&&(P=Y),M&=~B}if(M=P,M=Fi()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*RQ(M/1960))-M,10<M){f.timeoutHandle=xe(Qh.bind(null,f,ns),M);break}Qh(f,ns);break;case 5:Qh(f,ns);break;default:throw Error(o(329))}}}return is(f,Fi()),f.callbackNode===b?HB.bind(null,f):null}function h8(f,p){var b=Qg;return f.current.memoizedState.isDehydrated&&(Zh(f,p).flags|=256),f=bA(f,p),f!==2&&(p=ns,ns=b,p!==null&&d8(p)),f}function d8(f){ns===null?ns=f:ns.push.apply(ns,f)}function PQ(f){for(var p=f;;){if(p.flags&16384){var b=p.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var M=0;M<b.length;M++){var P=b[M],B=P.getSnapshot;P=P.value;try{if(!La(B(),P))return!1}catch{return!1}}}if(b=p.child,p.subtreeFlags&16384&&b!==null)b.return=p,p=b;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function ru(f,p){for(p&=~o8,p&=~vA,f.suspendedLanes|=p,f.pingedLanes&=~p,f=f.expirationTimes;0<p;){var b=31-Cs(p),M=1<<b;f[b]=-1,p&=~M}}function GB(f){if(Ot&6)throw Error(o(327));$h();var p=kx(f,0);if(!(p&1))return is(f,Fi()),null;var b=bA(f,p);if(f.tag!==0&&b===2){var M=mE(f);M!==0&&(p=M,b=h8(f,M))}if(b===1)throw b=Zg,Zh(f,0),ru(f,p),is(f,Fi()),b;if(b===6)throw Error(o(345));return f.finishedWork=f.current.alternate,f.finishedLanes=p,Qh(f,ns),is(f,Fi()),null}function VB(f){nu!==null&&nu.tag===0&&!(Ot&6)&&$h();var p=Ot;Ot|=1;var b=ii.transition,M=$t;try{if(ii.transition=null,$t=1,f)return f()}finally{$t=M,ii.transition=b,Ot=p,!(Ot&6)&&Da()}}function f8(){Rs=ap.current,ht(ap)}function Zh(f,p){f.finishedWork=null,f.finishedLanes=0;var b=f.timeoutHandle;if(b!==rt&&(f.timeoutHandle=rt,We(b)),fi!==null)for(b=fi.return;b!==null;){var M=b;switch(PE(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&En();break;case 3:sp(),ht(An),ht(wt),kE();break;case 5:FE(M);break;case 4:sp();break;case 13:ht(kn);break;case 19:ht(kn);break;case 10:bE(M.type._context);break;case 22:case 23:f8()}b=b.return}if(di=f,fi=f=su(f.current,null),Zi=Rs=p,xi=0,Zg=null,o8=vA=lp=0,ns=Qg=null,Ba!==null){for(p=0;p<Ba.length;p++)if(b=Ba[p],M=b.interleaved,M!==null){b.interleaved=null;var P=M.next,B=b.pending;if(B!==null){var Y=B.next;B.next=P,M.next=Y}b.pending=M}Ba=null}return f}function WB(f,p){do{var b=fi;try{if(SE(),qx.current=nA,Zx){for(var M=Kn.memoizedState;M!==null;){var P=M.queue;P!==null&&(P.pending=null),M=M.next}Zx=!1}if(op=0,Oi=fr=Kn=null,Hg=!1,Gg=0,s8.current=null,b===null||b.return===null){xi=1,Zg=p,fi=null;break}e:{var B=f,Y=b.return,se=b,_e=p;if(p=Zi,se.flags|=32768,_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var Oe=_e,nt=se,Et=nt.tag;if(!(nt.mode&1)&&(Et===0||Et===11||Et===15)){var vt=nt.alternate;vt?(nt.updateQueue=vt.updateQueue,nt.memoizedState=vt.memoizedState,nt.lanes=vt.lanes):(nt.updateQueue=null,nt.memoizedState=null)}var pn=dB(Y);if(pn!==null){pn.flags&=-257,fB(pn,Y,se,B,p),pn.mode&1&&hB(B,Oe,p),p=pn,_e=Oe;var ut=p.updateQueue;if(ut===null){var gr=new Set;gr.add(_e),p.updateQueue=gr}else ut.add(_e);break e}else{if(!(p&1)){hB(B,Oe,p),p8();break e}_e=Error(o(426))}}else if(Dn&&se.mode&1){var go=dB(Y);if(go!==null){!(go.flags&65536)&&(go.flags|=256),fB(go,Y,se,B,p),DE(_e);break e}}B=_e,xi!==4&&(xi=2),Qg===null?Qg=[B]:Qg.push(B),_e=VE(_e,se),se=Y;do{switch(se.tag){case 3:se.flags|=65536,p&=-p,se.lanes|=p;var he=cB(se,_e,p);ID(se,he);break e;case 1:B=_e;var ae=se.type,ve=se.stateNode;if(!(se.flags&128)&&(typeof ae.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&(tu===null||!tu.has(ve)))){se.flags|=65536,p&=-p,se.lanes|=p;var Qe=uB(se,B,p);ID(se,Qe);break e}}se=se.return}while(se!==null)}YB(b)}catch(ct){p=ct,fi===b&&b!==null&&(fi=b=b.return);continue}break}while(!0)}function XB(){var f=gA.current;return gA.current=nA,f===null?nA:f}function p8(){(xi===0||xi===3||xi===2)&&(xi=4),di===null||!(lp&268435455)&&!(vA&268435455)||ru(di,Zi)}function bA(f,p){var b=Ot;Ot|=2;var M=XB();di===f&&Zi===p||Zh(f,p);do try{IQ();break}catch(P){WB(f,P)}while(!0);if(SE(),Ot=b,gA.current=M,fi!==null)throw Error(o(261));return di=null,Zi=0,xi}function IQ(){for(;fi!==null;)KB(fi)}function LQ(){for(;fi!==null&&!rQ();)KB(fi)}function KB(f){var p=ZB(f.alternate,f,Rs);f.memoizedProps=f.pendingProps,p===null?YB(f):fi=p,s8.current=null}function YB(f){var p=f;do{var b=p.alternate;if(f=p.return,p.flags&32768){if(b=bQ(b,p),b!==null){b.flags&=32767,fi=b;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{xi=6,fi=null;return}}else if(b=AQ(b,p,Rs),b!==null){fi=b;return}if(p=p.sibling,p!==null){fi=p;return}fi=p=f}while(p!==null);xi===0&&(xi=5)}function Qh(f,p){var b=$t,M=ii.transition;try{ii.transition=null,$t=1,DQ(f,p,b)}finally{ii.transition=M,$t=b}return null}function DQ(f,p,b){do $h();while(nu!==null);if(Ot&6)throw Error(o(327));var M=f.finishedWork,P=f.finishedLanes;if(M===null)return null;if(f.finishedWork=null,f.finishedLanes=0,M===f.current)throw Error(o(177));f.callbackNode=null,f.callbackPriority=0;var B=M.lanes|M.childLanes;if(iQ(f,B),f===di&&(fi=di=null,Zi=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||_A||(_A=!0,QB(xE,function(){return $h(),null})),B=(M.flags&15990)!==0,M.subtreeFlags&15990||B){B=ii.transition,ii.transition=null;var Y=$t;$t=1;var se=Ot;Ot|=4,s8.current=null,MQ(f,M),EQ(f,M),K(f.containerInfo),f.current=M,TQ(M),sQ(),Ot=se,$t=Y,ii.transition=B}else f.current=M;if(_A&&(_A=!1,nu=f,xA=P),B=f.pendingLanes,B===0&&(tu=null),lQ(M.stateNode),is(f,Fi()),p!==null)for(b=f.onRecoverableError,M=0;M<p.length;M++)b(p[M]);if(yA)throw yA=!1,f=c8,c8=null,f;return xA&1&&f.tag!==0&&$h(),B=f.pendingLanes,B&1?f===u8?$g++:($g=0,u8=f):$g=0,Da(),null}function $h(){if(nu!==null){var f=MD(xA),p=ii.transition,b=$t;try{if(ii.transition=null,$t=16>f?16:f,nu===null)var M=!1;else{if(f=nu,nu=null,xA=0,Ot&6)throw Error(o(331));var P=Ot;for(Ot|=4,Ye=f.current;Ye!==null;){var B=Ye,Y=B.child;if(Ye.flags&16){var se=B.deletions;if(se!==null){for(var _e=0;_e<se.length;_e++){var Oe=se[_e];for(Ye=Oe;Ye!==null;){var nt=Ye;switch(nt.tag){case 0:case 11:case 15:qh(8,nt,B)}var Et=nt.child;if(Et!==null)Et.return=nt,Ye=Et;else for(;Ye!==null;){nt=Ye;var vt=nt.sibling,pn=nt.return;if(LB(nt),nt===Oe){Ye=null;break}if(vt!==null){vt.return=pn,Ye=vt;break}Ye=pn}}}var ut=B.alternate;if(ut!==null){var gr=ut.child;if(gr!==null){ut.child=null;do{var go=gr.sibling;gr.sibling=null,gr=go}while(gr!==null)}}Ye=B}}if(B.subtreeFlags&2064&&Y!==null)Y.return=B,Ye=Y;else e:for(;Ye!==null;){if(B=Ye,B.flags&2048)switch(B.tag){case 0:case 11:case 15:qh(9,B,B.return)}var he=B.sibling;if(he!==null){he.return=B.return,Ye=he;break e}Ye=B.return}}var ae=f.current;for(Ye=ae;Ye!==null;){Y=Ye;var ve=Y.child;if(Y.subtreeFlags&2064&&ve!==null)ve.return=Y,Ye=ve;else e:for(Y=ae;Ye!==null;){if(se=Ye,se.flags&2048)try{switch(se.tag){case 0:case 11:case 15:Jg(9,se)}}catch(ct){rs(se,se.return,ct)}if(se===Y){Ye=null;break e}var Qe=se.sibling;if(Qe!==null){Qe.return=se.return,Ye=Qe;break e}Ye=se.return}}if(Ot=P,Da(),Ia&&typeof Ia.onPostCommitFiberRoot=="function")try{Ia.onPostCommitFiberRoot(Nx,f)}catch{}M=!0}return M}finally{$t=b,ii.transition=p}}return!1}function JB(f,p,b){p=VE(b,p),p=cB(f,p,1),eu(f,p),p=zr(),f=SA(f,1),f!==null&&(Og(f,1,p),is(f,p))}function rs(f,p,b){if(f.tag===3)JB(f,f,b);else for(;p!==null;){if(p.tag===3){JB(p,f,b);break}else if(p.tag===1){var M=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(tu===null||!tu.has(M))){f=VE(b,f),f=uB(p,f,1),eu(p,f),f=zr(),p=SA(p,1),p!==null&&(Og(p,1,f),is(p,f));break}}p=p.return}}function BQ(f,p,b){var M=f.pingCache;M!==null&&M.delete(p),p=zr(),f.pingedLanes|=f.suspendedLanes&b,di===f&&(Zi&b)===b&&(xi===4||xi===3&&(Zi&130023424)===Zi&&500>Fi()-a8?Zh(f,0):o8|=b),is(f,p)}function qB(f,p){p===0&&(f.mode&1?(p=Ox,Ox<<=1,!(Ox&130023424)&&(Ox=4194304)):p=1);var b=zr();f=SA(f,p),f!==null&&(Og(f,p,b),is(f,b))}function FQ(f){var p=f.memoizedState,b=0;p!==null&&(b=p.retryLane),qB(f,b)}function OQ(f,p){var b=0;switch(f.tag){case 13:var M=f.stateNode,P=f.memoizedState;P!==null&&(b=P.retryLane);break;case 19:M=f.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(p),qB(f,b)}var ZB;ZB=function(f,p,b){if(f!==null)if(f.memoizedProps!==p.pendingProps||An.current)Ts=!0;else{if(!(f.lanes&b)&&!(p.flags&128))return Ts=!1,SQ(f,p,b);Ts=!!(f.flags&131072)}else Ts=!1,Dn&&p.flags&1048576&&kD(p,Kx,p.index);switch(p.lanes=0,p.tag){case 2:var M=p.type;f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),f=p.pendingProps;var P=hi(p,wt.current);$0(p,b),P=UE(null,p,M,f,P,b);var B=zE();return p.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Bi(M)?(B=!0,qi(p)):B=!1,p.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,ME(p),P.updater=Wx,p.stateNode=P,P._reactInternals=p,TE(p,M,f,b),p=KE(null,p,M,!0,B,b)):(p.tag=0,Dn&&B&&RE(p),Ur(null,p,P,b),p=p.child),p;case 16:M=p.elementType;e:{switch(f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),f=p.pendingProps,P=M._init,M=P(M._payload),p.type=M,P=p.tag=NQ(M),f=Xo(M,f),P){case 0:p=XE(null,p,M,f,b);break e;case 1:p=AB(null,p,M,f,b);break e;case 11:p=gB(null,p,M,f,b);break e;case 14:p=vB(null,p,M,Xo(M.type,f),b);break e}throw Error(o(306,M,""))}return p;case 0:return M=p.type,P=p.pendingProps,P=p.elementType===M?P:Xo(M,P),XE(f,p,M,P,b);case 1:return M=p.type,P=p.pendingProps,P=p.elementType===M?P:Xo(M,P),AB(f,p,M,P,b);case 3:e:{if(wB(p),f===null)throw Error(o(387));M=p.pendingProps,B=p.memoizedState,P=B.element,PD(f,p),Vx(p,M,null,b);var Y=p.memoizedState;if(M=Y.element,me&&B.isDehydrated)if(B={element:M,isDehydrated:!1,cache:Y.cache,transitions:Y.transitions},p.updateQueue.baseState=B,p.memoizedState=B,p.flags&256){P=Error(o(423)),p=SB(f,p,M,b,P);break e}else if(M!==P){P=Error(o(424)),p=SB(f,p,M,b,P);break e}else for(me&&(Es=Lx(p.stateNode.containerInfo),Ms=p,Dn=!0,Ko=null,kg=!1),b=GD(p,null,M,b),p.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(np(),M===P){p=Rl(f,p,b);break e}Ur(f,p,M,b)}p=p.child}return p;case 5:return VD(p),f===null&&LE(p),M=p.type,P=p.pendingProps,B=f!==null?f.memoizedProps:null,Y=P.children,pe(M,P)?Y=null:B!==null&&pe(M,B)&&(p.flags|=32),xB(f,p),Ur(f,p,Y,b),p.child;case 6:return f===null&&LE(p),null;case 13:return bB(f,p,b);case 4:return BE(p,p.stateNode.containerInfo),M=p.pendingProps,f===null?p.child=ip(p,null,M,b):Ur(f,p,M,b),p.child;case 11:return M=p.type,P=p.pendingProps,P=p.elementType===M?P:Xo(M,P),gB(f,p,M,P,b);case 7:return Ur(f,p,p.pendingProps,b),p.child;case 8:return Ur(f,p,p.pendingProps.children,b),p.child;case 12:return Ur(f,p,p.pendingProps.children,b),p.child;case 10:e:{if(M=p.type._context,P=p.pendingProps,B=p.memoizedProps,Y=P.value,RD(p,M,Y),B!==null)if(La(B.value,Y)){if(B.children===P.children&&!An.current){p=Rl(f,p,b);break e}}else for(B=p.child,B!==null&&(B.return=p);B!==null;){var se=B.dependencies;if(se!==null){Y=B.child;for(var _e=se.firstContext;_e!==null;){if(_e.context===M){if(B.tag===1){_e=Cl(-1,b&-b),_e.tag=2;var Oe=B.updateQueue;if(Oe!==null){Oe=Oe.shared;var nt=Oe.pending;nt===null?_e.next=_e:(_e.next=nt.next,nt.next=_e),Oe.pending=_e}}B.lanes|=b,_e=B.alternate,_e!==null&&(_e.lanes|=b),CE(B.return,b,p),se.lanes|=b;break}_e=_e.next}}else if(B.tag===10)Y=B.type===p.type?null:B.child;else if(B.tag===18){if(Y=B.return,Y===null)throw Error(o(341));Y.lanes|=b,se=Y.alternate,se!==null&&(se.lanes|=b),CE(Y,b,p),Y=B.sibling}else Y=B.child;if(Y!==null)Y.return=B;else for(Y=B;Y!==null;){if(Y===p){Y=null;break}if(B=Y.sibling,B!==null){B.return=Y.return,Y=B;break}Y=Y.return}B=Y}Ur(f,p,P.children,b),p=p.child}return p;case 9:return P=p.type,M=p.pendingProps.children,$0(p,b),P=lo(P),M=M(P),p.flags|=1,Ur(f,p,M,b),p.child;case 14:return M=p.type,P=Xo(M,p.pendingProps),P=Xo(M.type,P),vB(f,p,M,P,b);case 15:return yB(f,p,p.type,p.pendingProps,b);case 17:return M=p.type,P=p.pendingProps,P=p.elementType===M?P:Xo(M,P),f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,Bi(M)?(f=!0,qi(p)):f=!1,$0(p,b),FD(p,M,P),TE(p,M,P,b),KE(null,p,M,!0,f,b);case 19:return TB(f,p,b);case 22:return _B(f,p,b)}throw Error(o(156,p.tag))};function QB(f,p){return yE(f,p)}function kQ(f,p,b,M){this.tag=f,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mo(f,p,b,M){return new kQ(f,p,b,M)}function m8(f){return f=f.prototype,!(!f||!f.isReactComponent)}function NQ(f){if(typeof f=="function")return m8(f)?1:0;if(f!=null){if(f=f.$$typeof,f===y)return 11;if(f===A)return 14}return 2}function su(f,p){var b=f.alternate;return b===null?(b=mo(f.tag,p,f.key,f.mode),b.elementType=f.elementType,b.type=f.type,b.stateNode=f.stateNode,b.alternate=f,f.alternate=b):(b.pendingProps=p,b.type=f.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=f.flags&14680064,b.childLanes=f.childLanes,b.lanes=f.lanes,b.child=f.child,b.memoizedProps=f.memoizedProps,b.memoizedState=f.memoizedState,b.updateQueue=f.updateQueue,p=f.dependencies,b.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},b.sibling=f.sibling,b.index=f.index,b.ref=f.ref,b}function CA(f,p,b,M,P,B){var Y=2;if(M=f,typeof f=="function")m8(f)&&(Y=1);else if(typeof f=="string")Y=5;else e:switch(f){case u:return ed(b.children,P,B,p);case h:Y=8,P|=8;break;case d:return f=mo(12,b,p,P|2),f.elementType=d,f.lanes=B,f;case _:return f=mo(13,b,p,P),f.elementType=_,f.lanes=B,f;case v:return f=mo(19,b,p,P),f.elementType=v,f.lanes=B,f;case C:return MA(b,P,B,p);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case m:Y=10;break e;case g:Y=9;break e;case y:Y=11;break e;case A:Y=14;break e;case w:Y=16,M=null;break e}throw Error(o(130,f==null?f:typeof f,""))}return p=mo(Y,b,p,P),p.elementType=f,p.type=M,p.lanes=B,p}function ed(f,p,b,M){return f=mo(7,f,M,p),f.lanes=b,f}function MA(f,p,b,M){return f=mo(22,f,M,p),f.elementType=C,f.lanes=b,f.stateNode={},f}function g8(f,p,b){return f=mo(6,f,null,p),f.lanes=b,f}function v8(f,p,b){return p=mo(4,f.children!==null?f.children:[],f.key,p),p.lanes=b,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}function UQ(f,p,b,M,P){this.tag=p,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=rt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gE(0),this.expirationTimes=gE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gE(0),this.identifierPrefix=M,this.onRecoverableError=P,me&&(this.mutableSourceEagerHydrationData=null)}function $B(f,p,b,M,P,B,Y,se,_e){return f=new UQ(f,p,b,se,_e),p===1?(p=1,B===!0&&(p|=8)):p=0,B=mo(3,null,null,p),f.current=B,B.stateNode=f,B.memoizedState={element:M,isDehydrated:b,cache:null,transitions:null},ME(B),f}function eF(f){if(!f)return xn;f=f._reactInternals;e:{if(I(f)!==f||f.tag!==1)throw Error(o(170));var p=f;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Bi(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(o(171))}if(f.tag===1){var b=f.type;if(Bi(b))return q0(f,b,p)}return p}function tF(f){var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(o(188)):(f=Object.keys(f).join(","),Error(o(268,f)));return f=X(p),f===null?null:f.stateNode}function nF(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var b=f.retryLane;f.retryLane=b!==0&&b<p?b:p}}function y8(f,p){nF(f,p),(f=f.alternate)&&nF(f,p)}function zQ(f){return f=X(f),f===null?null:f.stateNode}function jQ(){return null}return t.attemptContinuousHydration=function(f){if(f.tag===13){var p=zr();po(f,134217728,p),y8(f,134217728)}},t.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var p=zr(),b=iu(f);po(f,b,p),y8(f,b)}},t.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var p=f.stateNode;if(p.current.memoizedState.isDehydrated){var b=Fg(p.pendingLanes);b!==0&&(vE(p,b|1),is(p,Fi()),!(Ot&6)&&(cp(),Da()))}break;case 13:var M=zr();VB(function(){return po(f,1,M)}),y8(f,1)}},t.batchedUpdates=function(f,p){var b=Ot;Ot|=1;try{return f(p)}finally{Ot=b,Ot===0&&(cp(),Ux&&Da())}},t.createComponentSelector=function(f){return{$$typeof:hA,value:f}},t.createContainer=function(f,p,b,M,P,B,Y){return $B(f,p,!1,null,b,M,P,B,Y)},t.createHasPseudoClassSelector=function(f){return{$$typeof:dA,value:f}},t.createHydrationContainer=function(f,p,b,M,P,B,Y,se,_e){return f=$B(b,M,!0,f,P,B,Y,se,_e),f.context=eF(null),b=f.current,M=zr(),P=iu(b),B=Cl(M,P),B.callback=p??null,eu(b,B),f.current.lanes=P,Og(f,P,M),is(f,M),f},t.createPortal=function(f,p,b){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:M==null?null:""+M,children:f,containerInfo:p,implementation:b}},t.createRoleSelector=function(f){return{$$typeof:fA,value:f}},t.createTestNameSelector=function(f){return{$$typeof:pA,value:f}},t.createTextSelector=function(f){return{$$typeof:mA,value:f}},t.deferredUpdates=function(f){var p=$t,b=ii.transition;try{return ii.transition=null,$t=16,f()}finally{$t=p,ii.transition=b}},t.discreteUpdates=function(f,p,b,M,P){var B=$t,Y=ii.transition;try{return ii.transition=null,$t=1,f(p,b,M,P)}finally{$t=B,ii.transition=Y,Ot===0&&cp()}},t.findAllNodes=r8,t.findBoundingRects=function(f,p){if(!J)throw Error(o(363));p=r8(f,p),f=[];for(var b=0;b<p.length;b++)f.push(ue(p[b]));for(p=f.length-1;0<p;p--){b=f[p];for(var M=b.x,P=M+b.width,B=b.y,Y=B+b.height,se=p-1;0<=se;se--)if(p!==se){var _e=f[se],Oe=_e.x,nt=Oe+_e.width,Et=_e.y,vt=Et+_e.height;if(M>=Oe&&B>=Et&&P<=nt&&Y<=vt){f.splice(p,1);break}else if(M!==Oe||b.width!==_e.width||vt<B||Et>Y){if(!(B!==Et||b.height!==_e.height||nt<M||Oe>P)){Oe>M&&(_e.width+=Oe-M,_e.x=M),nt<P&&(_e.width=P-Oe),f.splice(p,1);break}}else{Et>B&&(_e.height+=Et-B,_e.y=B),vt<Y&&(_e.height=Y-Et),f.splice(p,1);break}}}return f},t.findHostInstance=tF,t.findHostInstanceWithNoPortals=function(f){return f=O(f),f=f!==null?q(f):null,f===null?null:f.stateNode},t.findHostInstanceWithWarning=function(f){return tF(f)},t.flushControlled=function(f){var p=Ot;Ot|=1;var b=ii.transition,M=$t;try{ii.transition=null,$t=1,f()}finally{$t=M,ii.transition=b,Ot=p,Ot===0&&(cp(),Da())}},t.flushPassiveEffects=$h,t.flushSync=VB,t.focusWithin=function(f,p){if(!J)throw Error(o(363));for(f=t8(f),p=jB(f,p),p=Array.from(p),f=0;f<p.length;){var b=p[f++];if(!Ee(b)){if(b.tag===5&&ot(b.stateNode))return!0;for(b=b.child;b!==null;)p.push(b),b=b.sibling}}return!1},t.getCurrentUpdatePriority=function(){return $t},t.getFindAllNodesFailureDescription=function(f,p){if(!J)throw Error(o(363));var b=0,M=[];f=[t8(f),0];for(var P=0;P<f.length;){var B=f[P++],Y=f[P++],se=p[Y];if((B.tag!==5||!Ee(B))&&(n8(B,se)&&(M.push(i8(se)),Y++,Y>b&&(b=Y)),Y<p.length))for(B=B.child;B!==null;)f.push(B,Y),B=B.sibling}if(b<p.length){for(f=[];b<p.length;b++)f.push(i8(p[b]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},t.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return Q(f.child.stateNode);default:return f.child.stateNode}},t.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:zQ,findFiberByHostInstance:f.findFiberByHostInstance||jQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)f=!0;else{try{Nx=p.inject(f),Ia=p}catch{}f=!!p.checkDCE}}return f},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(f,p,b,M){if(!J)throw Error(o(363));f=r8(f,p);var P=Le(f,b,M).disconnect;return{disconnect:function(){P()}}},t.registerMutableSourceForHydration=function(f,p){var b=p._getVersion;b=b(p._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[p,b]:f.mutableSourceEagerHydrationData.push(p,b)},t.runWithPriority=function(f,p){var b=$t;try{return $t=f,p()}finally{$t=b}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(f,p,b,M){var P=p.current,B=zr(),Y=iu(P);return b=eF(b),p.context===null?p.context=b:p.pendingContext=b,p=Cl(B,Y),p.payload={element:f},M=M===void 0?null:M,M!==null&&(p.callback=M),eu(P,p),f=po(P,Y,B),f!==null&&Gx(f,P,Y),Y},t};VW.exports=Phe;var Ihe=VW.exports;const Lhe=L0(Ihe);var WW={exports:{}},XW={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function e(k,Z){var K=k.length;k.push(Z);e:for(;0<K;){var ne=K-1>>>1,le=k[ne];if(0<r(le,Z))k[ne]=Z,k[K]=le,K=ne;else break e}}function t(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var Z=k[0],K=k.pop();if(K!==Z){k[0]=K;e:for(var ne=0,le=k.length,ye=le>>>1;ne<ye;){var re=2*(ne+1)-1,pe=k[re],Me=re+1,xe=k[Me];if(0>r(pe,K))Me<le&&0>r(xe,pe)?(k[ne]=xe,k[Me]=K,ne=Me):(k[ne]=pe,k[re]=K,ne=re);else if(Me<le&&0>r(xe,K))k[ne]=xe,k[Me]=K,ne=Me;else break e}}return Z}function r(k,Z){var K=k.sortIndex-Z.sortIndex;return K!==0?K:k.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();i.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,m=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(k){for(var Z=t(c);Z!==null;){if(Z.callback===null)n(c);else if(Z.startTime<=k)n(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=t(c)}}function C(k){if(y=!1,w(k),!g)if(t(l)!==null)g=!0,Q(T);else{var Z=t(c);Z!==null&&ee(C,Z.startTime-k)}}function T(k,Z){g=!1,y&&(y=!1,v(D),D=-1),m=!0;var K=d;try{for(w(Z),h=t(l);h!==null&&(!(h.expirationTime>Z)||k&&!O());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,d=h.priorityLevel;var le=ne(h.expirationTime<=Z);Z=i.unstable_now(),typeof le=="function"?h.callback=le:h===t(l)&&n(l),w(Z)}else n(l);h=t(l)}if(h!==null)var ye=!0;else{var re=t(c);re!==null&&ee(C,re.startTime-Z),ye=!1}return ye}finally{h=null,d=K,m=!1}}var E=!1,R=null,D=-1,I=5,L=-1;function O(){return!(i.unstable_now()-L<I)}function X(){if(R!==null){var k=i.unstable_now();L=k;var Z=!0;try{Z=R(!0,k)}finally{Z?W():(E=!1,R=null)}}else E=!1}var W;if(typeof A=="function")W=function(){A(X)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,$=q.port2;q.port1.onmessage=X,W=function(){$.postMessage(null)}}else W=function(){_(X,0)};function Q(k){R=k,E||(E=!0,W())}function ee(k,Z){D=_(function(){k(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(k){k.callback=null},i.unstable_continueExecution=function(){g||m||(g=!0,Q(T))},i.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<k?Math.floor(1e3/k):5},i.unstable_getCurrentPriorityLevel=function(){return d},i.unstable_getFirstCallbackNode=function(){return t(l)},i.unstable_next=function(k){switch(d){case 1:case 2:case 3:var Z=3;break;default:Z=d}var K=d;d=Z;try{return k()}finally{d=K}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(k,Z){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var K=d;d=k;try{return Z()}finally{d=K}},i.unstable_scheduleCallback=function(k,Z,K){var ne=i.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,k){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=K+le,k={id:u++,callback:Z,priorityLevel:k,startTime:K,expirationTime:le,sortIndex:-1},K>ne?(k.sortIndex=K,e(c,k),t(l)===null&&k===t(c)&&(y?(v(D),D=-1):y=!0,ee(C,K-ne))):(k.sortIndex=le,e(l,k),g||m||(g=!0,Q(T))),k},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(k){var Z=d;return function(){var K=d;d=Z;try{return k.apply(this,arguments)}finally{d=K}}}})(XW);WW.exports=XW;var tN=WW.exports;const Dhe=i=>typeof i=="object"&&typeof i.then=="function",Gd=[];function KW(i,e,t=(n,r)=>n===r){if(i===e)return!0;if(!i||!e)return!1;const n=i.length;if(e.length!==n)return!1;for(let r=0;r<n;r++)if(!t(i[r],e[r]))return!1;return!0}function YW(i,e=null,t=!1,n={}){e===null&&(e=[i]);for(const s of Gd)if(KW(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return n.lifespan&&n.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,n.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:n.equal,remove:()=>{const s=Gd.indexOf(r);s!==-1&&Gd.splice(s,1)},promise:(Dhe(i)?i:i(...e)).then(s=>{r.response=s,n.lifespan&&n.lifespan>0&&(r.timeout=setTimeout(r.remove,n.lifespan))}).catch(s=>r.error=s)};if(Gd.push(r),!t)throw r.promise}const JW=(i,e,t)=>YW(i,e,!1,t),Bhe=(i,e,t)=>void YW(i,e,!0,t),Fhe=i=>{if(i===void 0||i.length===0)Gd.splice(0,Gd.length);else{const e=Gd.find(t=>KW(i,t.keys,t.equal));e&&e.remove()}},HI={},Ohe=i=>void Object.assign(HI,i);function khe(i,e){function t(u,{args:h=[],attach:d,...m},g){let y=`${u[0].toUpperCase()}${u.slice(1)}`,_;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=m.object;_=Fp(v,{type:u,root:g,attach:d,primitive:!0})}else{const v=HI[y];if(!v)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");_=Fp(new v(...h),{type:u,root:g,attach:d,memoizedProps:{args:h}})}return _.__r3f.attach===void 0&&(_ instanceof Pt?_.__r3f.attach="geometry":_ instanceof _i&&(_.__r3f.attach="material")),y!=="inject"&&k6(_,m),_}function n(u,h){let d=!1;if(h){var m,g;(m=h.__r3f)!=null&&m.attach?O6(u,h,h.__r3f.attach):h.isObject3D&&u.isObject3D&&(u.add(h),d=!0),d||(g=u.__r3f)==null||g.objects.push(h),h.__r3f||Fp(h,{}),h.__r3f.parent=u,j9(h),Op(h)}}function r(u,h,d){let m=!1;if(h){var g,y;if((g=h.__r3f)!=null&&g.attach)O6(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){h.parent=u,h.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:h});const _=u.children.filter(A=>A!==h),v=_.indexOf(d);u.children=[..._.slice(0,v),h,..._.slice(v)],m=!0}m||(y=u.__r3f)==null||y.objects.push(h),h.__r3f||Fp(h,{}),h.__r3f.parent=u,j9(h),Op(h)}}function s(u,h,d=!1){u&&[...u].forEach(m=>o(h,m,d))}function o(u,h,d){if(h){var m,g,y;if(h.__r3f&&(h.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(C=>C!==h)),(g=h.__r3f)!=null&&g.attach)oN(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){var _;u.remove(h),(_=h.__r3f)!=null&&_.root&&Xhe(_S(h),h)}const A=(y=h.__r3f)==null?void 0:y.primitive,w=!A&&(d===void 0?h.dispose!==null:d);if(!A){var v;s((v=h.__r3f)==null?void 0:v.objects,h,w),s(h.children,h,w)}if(delete h.__r3f,w&&h.dispose&&h.type!=="Scene"){const C=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?tN.unstable_scheduleCallback(tN.unstable_IdlePriority,C):C()}Op(u)}}function a(u,h,d,m){var g;const y=(g=u.__r3f)==null?void 0:g.parent;if(!y)return;const _=t(h,d,u.__r3f.root);if(u.children){for(const v of u.children)v.__r3f&&n(_,v);u.children=u.children.filter(v=>!v.__r3f)}u.__r3f.objects.forEach(v=>n(_,v)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(y,u),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),n(y,_),_.raycast&&_.__r3f.eventCount&&_S(_).getState().internal.interaction.push(_),[m,m.alternate].forEach(v=>{v!==null&&(v.stateNode=_,v.ref&&(typeof v.ref=="function"?v.ref(_):v.ref.current=_))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Lhe({createInstance:t,removeChild:o,appendChild:n,appendInitialChild:n,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,h)=>{if(!h)return;const d=u.getState().scene;d.__r3f&&(d.__r3f.root=u,n(d,h))},removeChildFromContainer:(u,h)=>{h&&o(u.getState().scene,h)},insertInContainerBefore:(u,h,d)=>{if(!h||!d)return;const m=u.getState().scene;m.__r3f&&r(m,h,d)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var h;return!!((h=u==null?void 0:u.__r3f)!=null?h:{}).handlers},prepareUpdate(u,h,d,m){var g;if(((g=u==null?void 0:u.__r3f)!=null?g:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:_=[],children:v,...A}=m,{args:w=[],children:C,...T}=d;if(!Array.isArray(_))throw new Error("R3F: the args prop must be an array!");if(_.some((R,D)=>R!==w[D]))return[!0];const E=nX(u,A,T,!0);return E.changes.length?[!1,E]:null}},commitUpdate(u,[h,d],m,g,y,_){h?a(u,m,y,_):k6(u,d)},commitMount(u,h,d,m){var g;const y=(g=u.__r3f)!=null?g:{};u.raycast&&y.handlers&&y.eventCount&&_S(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Fp(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var h;const{attach:d,parent:m}=(h=u.__r3f)!=null?h:{};d&&m&&oN(m,u,d),u.isObject3D&&(u.visible=!1),Op(u)},unhideInstance(u,h){var d;const{attach:m,parent:g}=(d=u.__r3f)!=null?d:{};m&&g&&O6(g,u,m),(u.isObject3D&&h.visible==null||h.visible)&&(u.visible=!0),Op(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():sm.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Sn.fun(performance.now)?performance.now:Sn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Sn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Sn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:k6}}var nN,iN;const F6=i=>"colorSpace"in i||"outputColorSpace"in i,qW=()=>{var i;return(i=HI.ColorManagement)!=null?i:null},ZW=i=>i&&i.isOrthographicCamera,Nhe=i=>i&&i.hasOwnProperty("current"),mx=typeof window<"u"&&((nN=window.document)!=null&&nN.createElement||((iN=window.navigator)==null?void 0:iN.product)==="ReactNative")?N.useLayoutEffect:N.useEffect;function QW(i){const e=N.useRef(i);return mx(()=>void(e.current=i),[i]),e}function Uhe({set:i}){return mx(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}class $W extends N.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}$W.getDerivedStateFromError=()=>({error:!0});const eX="__default",rN=new Map,zhe=i=>i&&!!i.memoized&&!!i.changes;function tX(i){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],t),i[1]):i}const w1=i=>{var e;return(e=i.__r3f)==null?void 0:e.root.getState()};function _S(i){let e=i.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Sn={obj:i=>i===Object(i)&&!Sn.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,arr:i=>Array.isArray(i),equ(i,e,{arrays:t="shallow",objects:n="reference",strict:r=!0}={}){if(typeof i!=typeof e||!!i!=!!e)return!1;if(Sn.str(i)||Sn.num(i)||Sn.boo(i))return i===e;const s=Sn.obj(i);if(s&&n==="reference")return i===e;const o=Sn.arr(i);if(o&&t==="reference")return i===e;if((o||s)&&i===e)return!0;let a;for(a in i)if(!(a in e))return!1;if(s&&t==="shallow"&&n==="shallow"){for(a in r?e:i)if(!Sn.equ(i[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:i)if(i[a]!==e[a])return!1;if(Sn.und(a)){if(o&&i.length===0&&e.length===0||s&&Object.keys(i).length===0&&Object.keys(e).length===0)return!0;if(i!==e)return!1}return!0}};function jhe(i){const e={nodes:{},materials:{}};return i&&i.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function Hhe(i){i.dispose&&i.type!=="Scene"&&i.dispose();for(const e in i)e.dispose==null||e.dispose(),delete i[e]}function Fp(i,e){const t=i;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},i}function z9(i,e){let t=i;if(e.includes("-")){const n=e.split("-"),r=n.pop();return t=n.reduce((s,o)=>s[o],i),{target:t,key:r}}else return{target:t,key:e}}const sN=/-\d+$/;function O6(i,e,t){if(Sn.str(t)){if(sN.test(t)){const s=t.replace(sN,""),{target:o,key:a}=z9(i,s);Array.isArray(o[a])||(o[a]=[])}const{target:n,key:r}=z9(i,t);e.__r3f.previousAttach=n[r],n[r]=e}else e.__r3f.previousAttach=t(i,e)}function oN(i,e,t){var n,r;if(Sn.str(t)){const{target:s,key:o}=z9(i,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(n=e.__r3f)==null||n.previousAttach==null||n.previousAttach(i,e);(r=e.__r3f)==null||delete r.previousAttach}function nX(i,{children:e,key:t,ref:n,...r},{children:s,key:o,ref:a,...l}={},c=!1){const u=i.__r3f,h=Object.entries(r),d=[];if(c){const g=Object.keys(l);for(let y=0;y<g.length;y++)r.hasOwnProperty(g[y])||h.unshift([g[y],eX+"remove"])}h.forEach(([g,y])=>{var _;if((_=i.__r3f)!=null&&_.primitive&&g==="object"||Sn.equ(y,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return d.push([g,y,!0,[]]);let v=[];g.includes("-")&&(v=g.split("-")),d.push([g,y,!1,v]);for(const A in r){const w=r[A];A.startsWith(`${g}-`)&&d.push([A,w,!1,A.split("-")])}});const m={...r};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(m.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(m.attach=u.memoizedProps.attach),{memoized:m,changes:d}}const Ghe=typeof process<"u"&&!1;function k6(i,e){var t;const n=i.__r3f,r=n==null?void 0:n.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=zhe(e)?e:nX(i,e),l=n==null?void 0:n.eventCount;i.__r3f&&(i.__r3f.memoizedProps=o);for(let u=0;u<a.length;u++){let[h,d,m,g]=a[u];if(F6(i)){const A="srgb",w="srgb-linear";h==="encoding"?(h="colorSpace",d=d===3001?A:w):h==="outputEncoding"&&(h="outputColorSpace",d=d===3001?A:w)}let y=i,_=y[h];if(g.length&&(_=g.reduce((v,A)=>v[A],i),!(_&&_.set))){const[v,...A]=g.reverse();y=A.reverse().reduce((w,C)=>w[C],i),h=v}if(d===eX+"remove")if(y.constructor){let v=rN.get(y.constructor);v||(v=new y.constructor,rN.set(y.constructor,v)),d=v[h]}else d=0;if(m&&n)d?n.handlers[h]=d:delete n.handlers[h],n.eventCount=Object.keys(n.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof o0)){if(Array.isArray(d))_.fromArray?_.fromArray(d):_.set(...d);else if(_.copy&&d&&d.constructor&&(Ghe?_.constructor.name===d.constructor.name:_.constructor===d.constructor))_.copy(d);else if(d!==void 0){const v=_ instanceof Ge;!v&&_.setScalar?_.setScalar(d):_ instanceof o0&&d instanceof o0?_.mask=d.mask:_.set(d),!qW()&&s&&!s.linear&&v&&_.convertSRGBToLinear()}}else if(y[h]=d,y[h]instanceof Ln&&y[h].format===Pr&&y[h].type===Ca&&s){const v=y[h];F6(v)&&F6(s.gl)?v.colorSpace=s.gl.outputColorSpace:v.encoding=s.gl.outputEncoding}Op(i)}if(n&&n.parent&&i.raycast&&l!==n.eventCount){const u=_S(i).getState().internal,h=u.interaction.indexOf(i);h>-1&&u.interaction.splice(h,1),n.eventCount&&u.interaction.push(i)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=i.__r3f)!=null&&t.parent&&j9(i),i}function Op(i){var e,t;const n=(e=i.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();n&&n.internal.frames===0&&n.invalidate()}function j9(i){i.onUpdate==null||i.onUpdate(i)}function Vhe(i,e){i.manual||(ZW(i)?(i.left=e.width/-2,i.right=e.width/2,i.top=e.height/2,i.bottom=e.height/-2):i.aspect=e.width/e.height,i.updateProjectionMatrix(),i.updateMatrixWorld())}function Ow(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function Whe(){var i;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return sm.DefaultEventPriority;switch((i=e.event)==null?void 0:i.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return sm.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return sm.ContinuousEventPriority;default:return sm.DefaultEventPriority}}function iX(i,e,t,n){const r=t.get(e);r&&(t.delete(e),t.size===0&&(i.delete(n),r.target.releasePointerCapture(n)))}function Xhe(i,e){const{internal:t}=i.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,r)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((n,r)=>{iX(t.capturedMap,e,n,r)})}function Khe(i){function e(l){const{internal:c}=i.getState(),u=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+h*h))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+u]}))}function n(l,c){const u=i.getState(),h=new Set,d=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let v=0;v<m.length;v++){const A=w1(m[v]);A&&(A.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function g(v){const A=w1(v);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var w;A.events.compute==null||A.events.compute(l,A,(w=A.previousRoot)==null?void 0:w.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(v,!0):[]}let y=m.flatMap(g).sort((v,A)=>{const w=w1(v.object),C=w1(A.object);return!w||!C?v.distance-A.distance:C.events.priority-w.events.priority||v.distance-A.distance}).filter(v=>{const A=Ow(v);return h.has(A)?!1:(h.add(A),!0)});u.events.filter&&(y=u.events.filter(y,u));for(const v of y){let A=v.object;for(;A;){var _;(_=A.__r3f)!=null&&_.eventCount&&d.push({...v,eventObject:A}),A=A.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let v of u.internal.capturedMap.get(l.pointerId).values())h.has(Ow(v.intersection))||d.push(v.intersection);return d}function r(l,c,u,h){const d=i.getState();if(l.length){const m={stopped:!1};for(const g of l){const y=w1(g.object)||d,{raycaster:_,pointer:v,camera:A,internal:w}=y,C=new V(v.x,v.y,0).unproject(A),T=L=>{var O,X;return(O=(X=w.capturedMap.get(L))==null?void 0:X.has(g.eventObject))!=null?O:!1},E=L=>{const O={intersection:g,target:c.target};w.capturedMap.has(L)?w.capturedMap.get(L).set(g.eventObject,O):w.capturedMap.set(L,new Map([[g.eventObject,O]])),c.target.setPointerCapture(L)},R=L=>{const O=w.capturedMap.get(L);O&&iX(w.capturedMap,g.eventObject,O,L)};let D={};for(let L in c){let O=c[L];typeof O!="function"&&(D[L]=O)}let I={...g,...D,pointer:v,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:C,ray:_.ray,camera:A,stopPropagation(){const L="pointerId"in c&&w.capturedMap.get(c.pointerId);if((!L||L.has(g.eventObject))&&(I.stopped=m.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(O=>O.eventObject===g.eventObject))){const O=l.slice(0,l.indexOf(g));s([...O,g])}},target:{hasPointerCapture:T,setPointerCapture:E,releasePointerCapture:R},currentTarget:{hasPointerCapture:T,setPointerCapture:E,releasePointerCapture:R},nativeEvent:c};if(h(I),m.stopped===!0)break}}return l}function s(l){const{internal:c}=i.getState();for(const u of c.hovered.values())if(!l.length||!l.find(h=>h.object===u.object&&h.index===u.index&&h.instanceId===u.instanceId)){const d=u.eventObject.__r3f,m=d==null?void 0:d.handlers;if(c.hovered.delete(Ow(u)),d!=null&&d.eventCount){const g={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,c){for(let u=0;u<c.length;u++){const h=c[u].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=i.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:h,internal:d}=i.getState();d.lastEvent.current=u;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=n(u,m?t:void 0),v=g?e(u):0;l==="onPointerDown"&&(d.initialClick=[u.offsetX,u.offsetY],d.initialHits=_.map(w=>w.eventObject)),g&&!_.length&&v<=2&&(o(u,d.interaction),h&&h(u)),m&&s(_);function A(w){const C=w.eventObject,T=C.__r3f,E=T==null?void 0:T.handlers;if(T!=null&&T.eventCount)if(m){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const R=Ow(w),D=d.hovered.get(R);D?D.stopped&&w.stopPropagation():(d.hovered.set(R,w),E.onPointerOver==null||E.onPointerOver(w),E.onPointerEnter==null||E.onPointerEnter(w))}E.onPointerMove==null||E.onPointerMove(w)}else{const R=E[l];R?(!g||d.initialHits.includes(C))&&(o(u,d.interaction.filter(D=>!d.initialHits.includes(D))),R(w)):g&&d.initialHits.includes(C)&&o(u,d.interaction.filter(D=>!d.initialHits.includes(D)))}}r(_,u,v,A)}}return{handlePointer:a}}const rX=i=>!!(i!=null&&i.render),sX=N.createContext(null),Yhe=(i,e)=>{const t=GW((a,l)=>{const c=new V,u=new V,h=new V;function d(v=l().camera,A=u,w=l().size){const{width:C,height:T,top:E,left:R}=w,D=C/T;A instanceof V?h.copy(A):h.set(...A);const I=v.getWorldPosition(c).distanceTo(h);if(ZW(v))return{width:C/v.zoom,height:T/v.zoom,top:E,left:R,factor:1,distance:I,aspect:D};{const L=v.fov*Math.PI/180,O=2*Math.tan(L/2)*I,X=O*(C/T);return{width:X,height:O,top:E,left:R,factor:C/X,distance:I,aspect:D}}}let m;const g=v=>a(A=>({performance:{...A.performance,current:v}})),y=new we;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>i(l(),v),advance:(v,A)=>e(v,A,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new kI,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=l();m&&clearTimeout(m),v.performance.current!==v.performance.min&&g(v.performance.min),m=setTimeout(()=>g(l().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:v=>a(A=>({...A,events:{...A.events,...v}})),setSize:(v,A,w,C,T)=>{const E=l().camera,R={width:v,height:A,top:C||0,left:T||0,updateStyle:w};a(D=>({size:R,viewport:{...D.viewport,...d(E,u,R)}}))},setDpr:v=>a(A=>{const w=tX(v);return{viewport:{...A.viewport,dpr:w,initialDpr:A.viewport.initialDpr||w}}}),setFrameloop:(v="always")=>{const A=l().clock;A.stop(),A.elapsedTime=0,v!=="never"&&(A.start(),A.elapsedTime=0),a(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:N.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,A,w)=>{const C=l().internal;return C.priority=C.priority+(A>0?1:0),C.subscribers.push({ref:v,priority:A,store:w}),C.subscribers=C.subscribers.sort((T,E)=>T.priority-E.priority),()=>{const T=l().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(A>0?1:0),T.subscribers=T.subscribers.filter(E=>E.ref!==v))}}}}}),n=t.getState();let r=n.size,s=n.viewport.dpr,o=n.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:h}=t.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==s){var d;r=l,s=c.dpr,Vhe(a,l),u.setPixelRatio(c.dpr);const m=(d=l.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>i(a)),t};function Jhe(i,e){const t={callback:i};return e.add(t),()=>void e.delete(t)}let kw,oX=new Set,qhe=new Set,Zhe=new Set;const Qhe=i=>Jhe(i,oX);function N6(i,e){if(i.size)for(const{callback:t}of i.values())t(e)}function S1(i,e){switch(i){case"before":return N6(oX,e);case"after":return N6(qhe,e);case"tail":return N6(Zhe,e)}}let U6,z6;function j6(i,e,t){let n=e.clock.getDelta();for(e.frameloop==="never"&&typeof i=="number"&&(n=i-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=i),U6=e.internal.subscribers,kw=0;kw<U6.length;kw++)z6=U6[kw],z6.ref.current(z6.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function $he(i){let e=!1,t=!1,n,r,s;function o(c){r=requestAnimationFrame(o),e=!0,n=0,S1("before",c),t=!0;for(const h of i.values()){var u;s=h.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((u=s.gl.xr)!=null&&u.isPresenting)&&(n+=j6(c,s))}if(t=!1,S1("after",c),n===0)return S1("tail",c),e=!1,cancelAnimationFrame(r)}function a(c,u=1){var h;if(!c)return i.forEach(d=>a(d.store.getState(),u));(h=c.gl.xr)!=null&&h.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,u=!0,h,d){if(u&&S1("before",c),h)j6(c,h,d);else for(const m of i.values())j6(c,m.store.getState());u&&S1("after",c)}return{loop:o,invalidate:a,advance:l}}function aX(){const i=N.useContext(sX);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function na(i=t=>t,e){return aX()(i,e)}function Pg(i,e=0){const t=aX(),n=t.getState().internal.subscribe,r=QW(i);return mx(()=>n(r,e,t),[e,n,t]),null}const aN=new WeakMap;function lX(i,e){return function(t,...n){let r=aN.get(t);return r||(r=new t,aN.set(t,r)),i&&i(r),Promise.all(n.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,jhe(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function gx(i,e,t,n){const r=Array.isArray(e)?e:[e],s=JW(lX(t,n),[i,...r],{equal:Sn.equ});return Array.isArray(e)?s:s[0]}gx.preload=function(i,e,t){const n=Array.isArray(e)?e:[e];return Bhe(lX(t),[i,...n])};gx.clear=function(i,e){const t=Array.isArray(e)?e:[e];return Fhe([i,...t])};const hg=new Map,{invalidate:lN,advance:cN}=$he(hg),{reconciler:o4,applyProps:Cd}=khe(hg,Whe),Lp={objects:"shallow",strict:!1},ede=(i,e)=>{const t=typeof i=="function"?i(e):i;return rX(t)?t:new ZV({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...i})};function tde(i,e){const t=typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement;if(e){const{width:n,height:r,top:s,left:o,updateStyle:a=t}=e;return{width:n,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:n,height:r,top:s,left:o}=i.parentElement.getBoundingClientRect();return{width:n,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function nde(i){const e=hg.get(i),t=e==null?void 0:e.fiber,n=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=n||Yhe(lN,cN),o=t||o4.createContainer(s,sm.ConcurrentRoot,null,!1,null,"",r,null);e||hg.set(i,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:h,size:d,scene:m,events:g,onCreated:y,shadows:_=!1,linear:v=!1,flat:A=!1,legacy:w=!1,orthographic:C=!1,frameloop:T="always",dpr:E=[1,2],performance:R,raycaster:D,camera:I,onPointerMissed:L}=u,O=s.getState(),X=O.gl;O.gl||O.set({gl:X=ede(h,i)});let W=O.raycaster;W||O.set({raycaster:W=new UW});const{params:q,...$}=D||{};if(Sn.equ($,W,Lp)||Cd(W,{...$}),Sn.equ(q,W.params,Lp)||Cd(W,{params:{...W.params,...q}}),!O.camera||O.camera===c&&!Sn.equ(c,I,Lp)){c=I;const K=I instanceof ox,ne=K?I:C?new Oo(0,0,0,0,.1,1e3):new Pn(75,0,.1,1e3);K||(ne.position.z=5,I&&(Cd(ne,I),("aspect"in I||"left"in I||"right"in I||"bottom"in I||"top"in I)&&(ne.manual=!0,ne.updateProjectionMatrix())),!O.camera&&!(I!=null&&I.rotation)&&ne.lookAt(0,0,0)),O.set({camera:ne}),W.camera=ne}if(!O.scene){let K;m instanceof n4?K=m:(K=new n4,m&&Cd(K,m)),O.set({scene:Fp(K)})}if(!O.xr){var Q;const K=(ye,re)=>{const pe=s.getState();pe.frameloop!=="never"&&cN(ye,!0,pe,re)},ne=()=>{const ye=s.getState();ye.gl.xr.enabled=ye.gl.xr.isPresenting,ye.gl.xr.setAnimationLoop(ye.gl.xr.isPresenting?K:null),ye.gl.xr.isPresenting||lN(ye)},le={connect(){const ye=s.getState().gl;ye.xr.addEventListener("sessionstart",ne),ye.xr.addEventListener("sessionend",ne)},disconnect(){const ye=s.getState().gl;ye.xr.removeEventListener("sessionstart",ne),ye.xr.removeEventListener("sessionend",ne)}};typeof((Q=X.xr)==null?void 0:Q.addEventListener)=="function"&&le.connect(),O.set({xr:le})}if(X.shadowMap){const K=X.shadowMap.enabled,ne=X.shadowMap.type;if(X.shadowMap.enabled=!!_,Sn.boo(_))X.shadowMap.type=pv;else if(Sn.str(_)){var ee;const le={basic:UG,percentage:jC,soft:pv,variance:ta};X.shadowMap.type=(ee=le[_])!=null?ee:pv}else Sn.obj(_)&&Object.assign(X.shadowMap,_);(K!==X.shadowMap.enabled||ne!==X.shadowMap.type)&&(X.shadowMap.needsUpdate=!0)}const k=qW();k&&("enabled"in k?k.enabled=!w:"legacyMode"in k&&(k.legacyMode=w)),l||Cd(X,{outputEncoding:v?3e3:3001,toneMapping:A?pl:q7}),O.legacy!==w&&O.set(()=>({legacy:w})),O.linear!==v&&O.set(()=>({linear:v})),O.flat!==A&&O.set(()=>({flat:A})),h&&!Sn.fun(h)&&!rX(h)&&!Sn.equ(h,X,Lp)&&Cd(X,h),g&&!O.events.handlers&&O.set({events:g(s)});const Z=tde(i,d);return Sn.equ(Z,O.size,Lp)||O.setSize(Z.width,Z.height,Z.updateStyle,Z.top,Z.left),E&&O.viewport.dpr!==tX(E)&&O.setDpr(E),O.frameloop!==T&&O.setFrameloop(T),O.onPointerMissed||O.set({onPointerMissed:L}),R&&!Sn.equ(R,O.performance,Lp)&&O.set(K=>({performance:{...K.performance,...R}})),a=y,l=!0,this},render(u){return l||this.configure(),o4.updateContainer(S.jsx(ide,{store:s,children:u,onCreated:a,rootElement:i}),o,null,()=>{}),s},unmount(){cX(i)}}}function ide({store:i,children:e,onCreated:t,rootElement:n}){return mx(()=>{const r=i.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),i.getState().events.connected||r.events.connect==null||r.events.connect(n)},[]),S.jsx(sX.Provider,{value:i,children:e})}function cX(i,e){const t=hg.get(i),n=t==null?void 0:t.fiber;if(n){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),o4.updateContainer(null,n,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),Hhe(r),hg.delete(i)}catch{}},500)})}}o4.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:N.version});function H9(i,e,t){var n,r,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?n=setTimeout(l,e-u):(n=null,t||(a=i.apply(s,r),s=r=null))}var c=function(){s=this,r=arguments,o=Date.now();var u=t&&!n;return n||(n=setTimeout(l,e)),u&&(a=i.apply(s,r),s=r=null),a};return c.clear=function(){n&&(clearTimeout(n),n=null)},c.flush=function(){n&&(a=i.apply(s,r),s=r=null,clearTimeout(n),n=null)},c}H9.debounce=H9;var rde=H9;const uN=L0(rde);function sde(i){let{debounce:e,scroll:t,polyfill:n,offsetSize:r}=i===void 0?{debounce:0,scroll:!1,offsetSize:!1}:i;const s=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=N.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=N.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,h=N.useRef(!1);N.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[d,m,g]=N.useMemo(()=>{const A=()=>{if(!l.current.element)return;const{left:w,top:C,width:T,height:E,bottom:R,right:D,x:I,y:L}=l.current.element.getBoundingClientRect(),O={left:w,top:C,width:T,height:E,bottom:R,right:D,x:I,y:L};l.current.element instanceof HTMLElement&&r&&(O.height=l.current.element.offsetHeight,O.width=l.current.element.offsetWidth),Object.freeze(O),h.current&&!cde(l.current.lastBounds,O)&&a(l.current.lastBounds=O)};return[A,u?uN(A,u):A,c?uN(A,c):A]},[a,r,c,u]);function y(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function _(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(A=>A.addEventListener("scroll",g,{capture:!0,passive:!0})))}const v=A=>{!A||A===l.current.element||(y(),l.current.element=A,l.current.scrollContainers=uX(A),_())};return ade(g,!!t),ode(m),N.useEffect(()=>{y(),_()},[t,g,m]),N.useEffect(()=>y,[]),[v,o,d]}function ode(i){N.useEffect(()=>{const e=i;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[i])}function ade(i,e){N.useEffect(()=>{if(e){const t=i;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[i,e])}function uX(i){const e=[];if(!i||i===document.body)return e;const{overflow:t,overflowX:n,overflowY:r}=window.getComputedStyle(i);return[t,n,r].some(s=>s==="auto"||s==="scroll")&&e.push(i),[...e,...uX(i.parentElement)]}const lde=["x","y","top","bottom","left","right","width","height"],cde=(i,e)=>lde.every(t=>i[t]===e[t]);var ude=Object.defineProperty,hde=Object.defineProperties,dde=Object.getOwnPropertyDescriptors,hN=Object.getOwnPropertySymbols,fde=Object.prototype.hasOwnProperty,pde=Object.prototype.propertyIsEnumerable,dN=(i,e,t)=>e in i?ude(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,fN=(i,e)=>{for(var t in e||(e={}))fde.call(e,t)&&dN(i,t,e[t]);if(hN)for(var t of hN(e))pde.call(e,t)&&dN(i,t,e[t]);return i},mde=(i,e)=>hde(i,dde(e)),pN,mN;typeof window<"u"&&((pN=window.document)!=null&&pN.createElement||((mN=window.navigator)==null?void 0:mN.product)==="ReactNative")?N.useLayoutEffect:N.useEffect;function hX(i,e,t){if(!i)return;if(t(i)===!0)return i;let n=i.child;for(;n;){const r=hX(n,e,t);if(r)return r;n=n.sibling}}function dX(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const gN=console.error;console.error=function(){const i=[...arguments].join("");if(i!=null&&i.startsWith("Warning:")&&i.includes("useContext")){console.error=gN;return}return gN.apply(this,arguments)};const GI=dX(N.createContext(null));class fX extends N.Component{render(){return N.createElement(GI.Provider,{value:this._reactInternals},this.props.children)}}function gde(){const i=N.useContext(GI);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=N.useId();return N.useMemo(()=>{for(const n of[i,i==null?void 0:i.alternate]){if(!n)continue;const r=hX(n,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[i,e])}function vde(){const i=gde(),[e]=N.useState(()=>new Map);e.clear();let t=i;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==GI&&!e.has(r)&&e.set(r,N.useContext(dX(r)))}t=t.return}return e}function yde(){const i=vde();return N.useMemo(()=>Array.from(i.keys()).reduce((e,t)=>n=>N.createElement(e,null,N.createElement(t.Provider,mde(fN({},n),{value:i.get(t)}))),e=>N.createElement(fX,fN({},e))),[i])}const H6={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function _de(i){const{handlePointer:e}=Khe(i);return{priority:1,enabled:!0,compute(t,n,r){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(H6).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:r}=i.getState();(t=r.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;const{set:r,events:s}=i.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((n=s.handlers)!=null?n:[]).forEach(([o,a])=>{const[l,c]=H6[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:n}=i.getState();if(n.connected){var r;Object.entries((r=n.handlers)!=null?r:[]).forEach(([s,o])=>{if(n&&n.connected instanceof HTMLElement){const[a]=H6[s];n.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const xde=N.forwardRef(function({children:e,fallback:t,resize:n,style:r,gl:s,events:o=_de,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:h,legacy:d,orthographic:m,frameloop:g,dpr:y,performance:_,raycaster:v,camera:A,scene:w,onPointerMissed:C,onCreated:T,...E},R){N.useMemo(()=>Ohe(jW),[]);const D=yde(),[I,L]=sde({scroll:!0,debounce:{scroll:50,resize:0},...n}),O=N.useRef(null),X=N.useRef(null);N.useImperativeHandle(R,()=>O.current);const W=QW(C),[q,$]=N.useState(!1),[Q,ee]=N.useState(!1);if(q)throw q;if(Q)throw Q;const k=N.useRef(null);mx(()=>{const K=O.current;L.width>0&&L.height>0&&K&&(k.current||(k.current=nde(K)),k.current.configure({gl:s,events:o,shadows:c,linear:u,flat:h,legacy:d,orthographic:m,frameloop:g,dpr:y,performance:_,raycaster:v,camera:A,scene:w,size:L,onPointerMissed:(...ne)=>W.current==null?void 0:W.current(...ne),onCreated:ne=>{ne.events.connect==null||ne.events.connect(a?Nhe(a)?a.current:a:X.current),l&&ne.setEvents({compute:(le,ye)=>{const re=le[l+"X"],pe=le[l+"Y"];ye.pointer.set(re/ye.size.width*2-1,-(pe/ye.size.height)*2+1),ye.raycaster.setFromCamera(ye.pointer,ye.camera)}}),T==null||T(ne)}}),k.current.render(S.jsx(D,{children:S.jsx($W,{set:ee,children:S.jsx(N.Suspense,{fallback:S.jsx(Uhe,{set:$}),children:e})})})))}),N.useEffect(()=>{const K=O.current;if(K)return()=>cX(K)},[]);const Z=a?"none":"auto";return S.jsx("div",{ref:X,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Z,...r},...E,children:S.jsx("div",{ref:I,style:{width:"100%",height:"100%"},children:S.jsx("canvas",{ref:O,style:{display:"block"},children:t})})})}),VI=N.forwardRef(function(e,t){return S.jsx(fX,{children:S.jsx(xde,{...e,ref:t})})}),WI=N.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"}),xM=N.createContext({}),AM=N.createContext(null),XI=typeof window<"u",pX=XI?N.useLayoutEffect:N.useEffect,mX=N.createContext({strict:!1}),wM=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ade="framerAppearId",gX="data-"+wM(Ade),wde={skipAnimations:!1,useManualTiming:!1};function Sde(i){let e=new Set,t=new Set,n=!1,r=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),i()),c(o)}const l={schedule:(c,u=!1,h=!1)=>{const m=h&&n?e:t;return u&&s.add(c),m.has(c)||m.add(c),c},cancel:c=>{t.delete(c),s.delete(c)},process:c=>{if(o=c,n){r=!0;return}n=!0,[e,t]=[t,e],t.clear(),e.forEach(a),n=!1,r&&(r=!1,l.process(c))}};return l}const Nw=["read","resolveKeyframes","update","preRender","render","postRender"],bde=40;function vX(i,e){let t=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=Nw.reduce((v,A)=>(v[A]=Sde(s),v),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:d}=o,m=()=>{const v=performance.now();t=!1,r.delta=n?1e3/60:Math.max(Math.min(v-r.timestamp,bde),1),r.timestamp=v,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),u.process(r),h.process(r),d.process(r),r.isProcessing=!1,t&&e&&(n=!1,i(m))},g=()=>{t=!0,n=!0,r.isProcessing||i(m)};return{schedule:Nw.reduce((v,A)=>{const w=o[A];return v[A]=(C,T=!1,E=!1)=>(t||g(),w.schedule(C,T,E)),v},{}),cancel:v=>{for(let A=0;A<Nw.length;A++)o[Nw[A]].cancel(v)},state:r,steps:o}}const{schedule:KI,cancel:Fwe}=vX(queueMicrotask,!1);function om(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}const yX=N.createContext({});let vN=!1;function Cde(i,e,t,n,r){var s;const{visualElement:o}=N.useContext(xM),a=N.useContext(mX),l=N.useContext(AM),c=N.useContext(WI).reducedMotion,u=N.useRef();n=n||a.renderer,!u.current&&n&&(u.current=n(i,{visualState:e,parent:o,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=u.current,d=N.useContext(yX);h&&!h.projection&&r&&(h.type==="html"||h.type==="svg")&&Ede(u.current,t,r,d),N.useInsertionEffect(()=>{h&&h.update(t,l)});const m=t[gX],g=N.useRef(!!m&&!window.MotionHandoffIsComplete&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,m)));return pX(()=>{h&&(h.updateFeatures(),KI.render(h.render),g.current&&h.animationState&&h.animationState.animateChanges())}),N.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current=!1,vN||(vN=!0,queueMicrotask(Mde)))}),h}function Mde(){window.MotionHandoffIsComplete=!0}function Ede(i,e,t,n){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;i.projection=new t(i.latestValues,e["data-framer-portal-id"]?void 0:_X(i.parent)),i.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&om(a),visualElement:i,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:c})}function _X(i){if(i)return i.options.allowProjection!==!1?i.projection:_X(i.parent)}function Tde(i,e,t){return N.useCallback(n=>{n&&i.mount&&i.mount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):om(t)&&(t.current=n))},[e])}function py(i){return typeof i=="string"||Array.isArray(i)}function my(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}const YI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],JI=["initial",...YI];function SM(i){return my(i.animate)||JI.some(e=>py(i[e]))}function xX(i){return!!(SM(i)||i.variants)}function Rde(i,e){if(SM(i)){const{initial:t,animate:n}=i;return{initial:t===!1||py(t)?t:void 0,animate:py(n)?n:void 0}}return i.inherit!==!1?e:{}}function Pde(i){const{initial:e,animate:t}=Rde(i,N.useContext(xM));return N.useMemo(()=>({initial:e,animate:t}),[yN(e),yN(t)])}function yN(i){return Array.isArray(i)?i.join(" "):i}const _N={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dg={};for(const i in _N)dg[i]={isEnabled:e=>_N[i].some(t=>!!e[t])};function Ide(i){for(const e in i)dg[e]={...dg[e],...i[e]}}const qI=N.createContext({}),Lde=Symbol.for("motionComponentSymbol"),Dr=i=>i;let G9=Dr;function Dde({preloadedFeatures:i,createVisualElement:e,useRender:t,useVisualState:n,Component:r}){i&&Ide(i);function s(a,l){let c;const u={...N.useContext(WI),...a,layoutId:Bde(a)},{isStatic:h}=u,d=Pde(a),m=n(a,h);if(!h&&XI){Fde();const g=Ode(u);c=g.MeasureLayout,d.visualElement=Cde(r,m,u,e,g.ProjectionNode)}return S.jsxs(xM.Provider,{value:d,children:[c&&d.visualElement?S.jsx(c,{visualElement:d.visualElement,...u}):null,t(r,a,Tde(m,d.visualElement,l),m,h,d.visualElement)]})}const o=N.forwardRef(s);return o[Lde]=r,o}function Bde({layoutId:i}){const e=N.useContext(qI).id;return e&&i!==void 0?e+"-"+i:i}function Fde(i,e){N.useContext(mX).strict}function Ode(i){const{drag:e,layout:t}=dg;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(i)||t!=null&&t.isEnabled(i)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function kde(i){function e(n,r={}){return Dde(i(n,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(n,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const Nde=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ZI(i){return typeof i!="string"||i.includes("-")?!1:!!(Nde.indexOf(i)>-1||/[A-Z]/u.test(i))}const a4={};function Ude(i){Object.assign(a4,i)}const vx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hh=new Set(vx);function AX(i,{layout:e,layoutId:t}){return Hh.has(i)||i.startsWith("origin")||(e||t!==void 0)&&(!!a4[i]||i==="opacity")}const Ir=i=>!!(i&&i.getVelocity),wX=(i,e)=>e&&typeof i=="number"?e.transform(i):i,Ph=(i,e,t)=>t>e?e:t<i?i:t,Ig={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},Sv={...Ig,transform:i=>Ph(0,1,i)},Uw={...Ig,default:1},bv=i=>Math.round(i*1e5)/1e5,QI=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,zde=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,jde=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function yx(i){return typeof i=="string"}function Hde(i){return i==null}const _x=i=>({test:e=>yx(e)&&e.endsWith(i)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${i}`}),xu=_x("deg"),vl=_x("%"),At=_x("px"),Gde=_x("vh"),Vde=_x("vw"),xN={...vl,parse:i=>vl.parse(i)/100,transform:i=>vl.transform(i*100)},AN={...Ig,transform:Math.round},$I={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,size:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,rotate:xu,rotateX:xu,rotateY:xu,rotateZ:xu,scale:Uw,scaleX:Uw,scaleY:Uw,scaleZ:Uw,skew:xu,skewX:xu,skewY:xu,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:Sv,originX:xN,originY:xN,originZ:At,zIndex:AN,backgroundPositionX:At,backgroundPositionY:At,fillOpacity:Sv,strokeOpacity:Sv,numOctaves:AN},Wde={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Xde=vx.length;function Kde(i,e,t){let n="",r=!0;for(let s=0;s<Xde;s++){const o=vx[s],a=i[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||t){const c=wX(a,$I[o]);if(!l){r=!1;const u=Wde[o]||o;n+=`${u}(${c}) `}t&&(e[o]=c)}}return n=n.trim(),t?n=t(e,r?"":n):r&&(n="none"),n}const SX=i=>e=>typeof e=="string"&&e.startsWith(i),bX=SX("--"),Yde=SX("var(--"),eL=i=>Yde(i)?Jde.test(i.split("/*")[0].trim()):!1,Jde=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function tL(i,e,t){const{style:n,vars:r,transformOrigin:s}=i;let o=!1,a=!1;for(const l in e){const c=e[l];if(Hh.has(l)){o=!0;continue}else if(bX(l)){r[l]=c;continue}else{const u=wX(c,$I[l]);l.startsWith("origin")?(a=!0,s[l]=u):n[l]=u}}if(e.transform||(o||t?n.transform=Kde(e,i.transform,t):n.transform&&(n.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;n.transformOrigin=`${l} ${c} ${u}`}}const nL=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function CX(i,e,t){for(const n in e)!Ir(e[n])&&!AX(n,t)&&(i[n]=e[n])}function qde({transformTemplate:i},e){return N.useMemo(()=>{const t=nL();return tL(t,e,i),Object.assign({},t.vars,t.style)},[e])}function Zde(i,e){const t=i.style||{},n={};return CX(n,t,i),Object.assign(n,qde(i,e)),n}function Qde(i,e){const t={},n=Zde(i,e);return i.drag&&i.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(t.tabIndex=0),t.style=n,t}const $de=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function l4(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||$de.has(i)}let MX=i=>!l4(i);function efe(i){i&&(MX=e=>e.startsWith("on")?!l4(e):i(e))}try{efe(require("@emotion/is-prop-valid").default)}catch{}function tfe(i,e,t){const n={};for(const r in i)r==="values"&&typeof i.values=="object"||(MX(r)||t===!0&&l4(r)||!e&&!l4(r)||i.draggable&&r.startsWith("onDrag"))&&(n[r]=i[r]);return n}function wN(i,e,t){return typeof i=="string"?i:At.transform(e+t*i)}function nfe(i,e,t){const n=wN(e,i.x,i.width),r=wN(t,i.y,i.height);return`${n} ${r}`}const ife={offset:"stroke-dashoffset",array:"stroke-dasharray"},rfe={offset:"strokeDashoffset",array:"strokeDasharray"};function sfe(i,e,t=1,n=0,r=!0){i.pathLength=1;const s=r?ife:rfe;i[s.offset]=At.transform(-n);const o=At.transform(e),a=At.transform(t);i[s.array]=`${o} ${a}`}function iL(i,{attrX:e,attrY:t,attrScale:n,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,h){if(tL(i,c,h),u){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:d,style:m,dimensions:g}=i;d.transform&&(g&&(m.transform=d.transform),delete d.transform),g&&(r!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=nfe(g,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(d.x=e),t!==void 0&&(d.y=t),n!==void 0&&(d.scale=n),o!==void 0&&sfe(d,o,a,l,!1)}const EX=()=>({...nL(),attrs:{}}),rL=i=>typeof i=="string"&&i.toLowerCase()==="svg";function ofe(i,e,t,n){const r=N.useMemo(()=>{const s=EX();return iL(s,e,rL(n),i.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(i.style){const s={};CX(s,i.style,i),r.style={...s,...r.style}}return r}function afe(i=!1){return(t,n,r,{latestValues:s},o)=>{const l=(ZI(t)?ofe:Qde)(n,s,o,t),c=tfe(n,typeof t=="string",i),u=t!==N.Fragment?{...c,...l,ref:r}:{},{children:h}=n,d=N.useMemo(()=>Ir(h)?h.get():h,[h]);return N.createElement(t,{...u,children:d})}}function TX(i,{style:e,vars:t},n,r){Object.assign(i.style,e,r&&r.getProjectionStyles(n));for(const s in t)i.style.setProperty(s,t[s])}const RX=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PX(i,e,t,n){TX(i,e,void 0,n);for(const r in e.attrs)i.setAttribute(RX.has(r)?r:wM(r),e.attrs[r])}function sL(i,e,t){var n;const{style:r}=i,s={};for(const o in r)(Ir(r[o])||e.style&&Ir(e.style[o])||AX(o,i)||((n=t==null?void 0:t.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(s[o]=r[o]);return t&&r&&typeof r.willChange=="string"&&(t.applyWillChange=!1),s}function IX(i,e,t){const n=sL(i,e,t);for(const r in i)if(Ir(i[r])||Ir(e[r])){const s=vx.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=i[r]}return n}function SN(i){const e=[{},{}];return i==null||i.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function oL(i,e,t,n){if(typeof e=="function"){const[r,s]=SN(n);e=e(t!==void 0?t:i.custom,r,s)}if(typeof e=="string"&&(e=i.variants&&i.variants[e]),typeof e=="function"){const[r,s]=SN(n);e=e(t!==void 0?t:i.custom,r,s)}return e}function aL(i){const e=N.useRef(null);return e.current===null&&(e.current=i()),e.current}const V9=i=>Array.isArray(i),lfe=i=>!!(i&&typeof i=="object"&&i.mix&&i.toValue),cfe=i=>V9(i)?i[i.length-1]||0:i;function xS(i){const e=Ir(i)?i.get():i;return lfe(e)?e.toValue():e}const LX=new Set(["opacity","clipPath","filter","transform"]);function DX(i){if(Hh.has(i))return"transform";if(LX.has(i))return wM(i)}function bM(i,e){i.indexOf(e)===-1&&i.push(e)}function CM(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}function ufe({applyWillChange:i=!1,scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,o,a){const l={latestValues:dfe(r,s,o,a?!1:i,e),renderState:t()};return n&&(l.mount=c=>n(r,c,l)),l}const BX=i=>(e,t)=>{const n=N.useContext(xM),r=N.useContext(AM),s=()=>ufe(i,e,n,r,t);return t?s():aL(s)};function hfe(i,e){const t=DX(e);t&&bM(i,t)}function bN(i,e,t){const n=Array.isArray(e)?e:[e];for(let r=0;r<n.length;r++){const s=oL(i,n[r]);if(s){const{transitionEnd:o,transition:a,...l}=s;t(l,o)}}}function dfe(i,e,t,n,r){var s;const o={},a=[],l=n&&((s=i.style)===null||s===void 0?void 0:s.willChange)===void 0,c=r(i,{});for(const _ in c)o[_]=xS(c[_]);let{initial:u,animate:h}=i;const d=SM(i),m=xX(i);e&&m&&!d&&i.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=t?t.initial===!1:!1;g=g||u===!1;const y=g?h:u;return y&&typeof y!="boolean"&&!my(y)&&bN(i,y,(_,v)=>{for(const A in _){let w=_[A];if(Array.isArray(w)){const C=g?w.length-1:0;w=w[C]}w!==null&&(o[A]=w)}for(const A in v)o[A]=v[A]}),l&&(h&&u!==!1&&!my(h)&&bN(i,h,_=>{for(const v in _)hfe(a,v)}),a.length&&(o.willChange=a.join(","))),o}const{schedule:cn,cancel:Kc,state:ar,steps:G6}=vX(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dr,!0),ffe={useVisualState:BX({scrapeMotionValuesFromProps:IX,createRenderState:EX,onMount:(i,e,{renderState:t,latestValues:n})=>{cn.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),cn.render(()=>{iL(t,n,rL(e.tagName),i.transformTemplate),PX(e,t)})}})},pfe={useVisualState:BX({applyWillChange:!0,scrapeMotionValuesFromProps:sL,createRenderState:nL})};function mfe(i,{forwardMotionProps:e=!1},t,n){return{...ZI(i)?ffe:pfe,preloadedFeatures:t,useRender:afe(e),createVisualElement:n,Component:i}}function Tc(i,e,t,n={passive:!0}){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t)}const FX=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1;function MM(i,e="page"){return{point:{x:i[`${e}X`],y:i[`${e}Y`]}}}const gfe=i=>e=>FX(e)&&i(e,MM(e));function Ic(i,e,t,n){return Tc(i,e,gfe(t),n)}const vfe=(i,e)=>t=>e(i(t)),Lc=(...i)=>i.reduce(vfe);function OX(i){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=i,t):!1}}const CN=OX("dragHorizontal"),MN=OX("dragVertical");function kX(i){let e=!1;if(i==="y")e=MN();else if(i==="x")e=CN();else{const t=CN(),n=MN();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}function NX(){const i=kX(!0);return i?(i(),!1):!0}class Gh{constructor(e){this.isMounted=!1,this.node=e}update(){}}function EN(i,e){const t=e?"pointerenter":"pointerleave",n=e?"onHoverStart":"onHoverEnd",r=(s,o)=>{if(s.pointerType==="touch"||NX())return;const a=i.getProps();i.animationState&&a.whileHover&&i.animationState.setActive("whileHover",e);const l=a[n];l&&cn.postRender(()=>l(s,o))};return Ic(i.current,t,r,{passive:!i.getProps()[n]})}class yfe extends Gh{mount(){this.unmount=Lc(EN(this.node,!0),EN(this.node,!1))}unmount(){}}class _fe extends Gh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lc(Tc(this.node.current,"focus",()=>this.onFocus()),Tc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const UX=(i,e)=>e?i===e?!0:UX(i,e.parentElement):!1;function V6(i,e){if(!e)return;const t=new PointerEvent("pointer"+i);e(t,MM(t))}class xfe extends Gh{constructor(){super(...arguments),this.removeStartListeners=Dr,this.removeEndListeners=Dr,this.removeAccessibleListeners=Dr,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),s=Ic(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:h}=this.node.getProps(),d=!h&&!UX(this.node.current,a.target)?u:c;d&&cn.update(()=>d(a,l))},{passive:!(n.onTap||n.onPointerUp)}),o=Ic(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Lc(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||V6("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&cn.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Tc(this.node.current,"keyup",o),V6("down",(a,l)=>{this.startPress(a,l)})},t=Tc(this.node.current,"keydown",e),n=()=>{this.isPressing&&V6("cancel",(s,o)=>this.cancelPress(s,o))},r=Tc(this.node.current,"blur",n);this.removeAccessibleListeners=Lc(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&cn.postRender(()=>n(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!NX()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&cn.postRender(()=>n(e,t))}mount(){const e=this.node.getProps(),t=Ic(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Tc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Lc(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const W9=new WeakMap,W6=new WeakMap,Afe=i=>{const e=W9.get(i.target);e&&e(i)},wfe=i=>{i.forEach(Afe)};function Sfe({root:i,...e}){const t=i||document;W6.has(t)||W6.set(t,{});const n=W6.get(t),r=JSON.stringify(e);return n[r]||(n[r]=new IntersectionObserver(wfe,{root:i,...e})),n[r]}function bfe(i,e,t){const n=Sfe(e);return W9.set(i,t),n.observe(i),()=>{W9.delete(i),n.unobserve(i)}}const Cfe={some:0,all:1};class Mfe extends Gh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:Cfe[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),d=c?u:h;d&&d(l)};return bfe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Efe(e,t))&&this.startObserver()}unmount(){}}function Efe({viewport:i={}},{viewport:e={}}={}){return t=>i[t]!==e[t]}const Tfe={inView:{Feature:Mfe},tap:{Feature:xfe},focus:{Feature:_fe},hover:{Feature:yfe}};function zX(i,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==i.length)return!1;for(let n=0;n<t;n++)if(e[n]!==i[n])return!1;return!0}function EM(i,e,t){const n=i.getProps();return oL(n,e,t!==void 0?t:n.custom,i)}const Dc=i=>i*1e3,Bc=i=>i/1e3,Rfe={type:"spring",stiffness:500,damping:25,restSpeed:10},Pfe=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),Ife={type:"keyframes",duration:.8},Lfe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Dfe=(i,{keyframes:e})=>e.length>2?Ife:Hh.has(i)?i.startsWith("scale")?Pfe(e[1]):Rfe:Lfe;function Bfe({when:i,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function lL(i,e){return i[e]||i.default||i}const Ffe=i=>i!==null;function TM(i,{repeat:e,repeatType:t="loop"},n){const r=i.filter(Ffe),s=e&&t!=="loop"&&e%2===1?0:r.length-1;return!s||n===void 0?r[s]:n}const jX=i=>/^0[^.\s]+$/u.test(i);function Ofe(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||jX(i):!0}const HX=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i),kfe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Nfe(i){const e=kfe.exec(i);if(!e)return[,];const[,t,n,r]=e;return[`--${t??n}`,r]}function GX(i,e,t=1){const[n,r]=Nfe(i);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return HX(o)?parseFloat(o):o}return eL(r)?GX(r,e,t+1):r}const Ufe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),TN=i=>i===Ig||i===At,RN=(i,e)=>parseFloat(i.split(", ")[e]),PN=(i,e)=>(t,{transform:n})=>{if(n==="none"||!n)return 0;const r=n.match(/^matrix3d\((.+)\)$/u);if(r)return RN(r[1],e);{const s=n.match(/^matrix\((.+)\)$/u);return s?RN(s[1],i):0}},zfe=new Set(["x","y","z"]),jfe=vx.filter(i=>!zfe.has(i));function Hfe(i){const e=[];return jfe.forEach(t=>{const n=i.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const fg={width:({x:i},{paddingLeft:e="0",paddingRight:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),height:({y:i},{paddingTop:e="0",paddingBottom:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),top:(i,{top:e})=>parseFloat(e),left:(i,{left:e})=>parseFloat(e),bottom:({y:i},{top:e})=>parseFloat(e)+(i.max-i.min),right:({x:i},{left:e})=>parseFloat(e)+(i.max-i.min),x:PN(4,13),y:PN(5,14)};fg.translateX=fg.x;fg.translateY=fg.y;const VX=i=>e=>e.test(i),Gfe={test:i=>i==="auto",parse:i=>i},WX=[Ig,At,vl,xu,Vde,Gde,Gfe],IN=i=>WX.find(VX(i)),l0=new Set;let X9=!1,K9=!1;function XX(){if(K9){const i=Array.from(l0).filter(n=>n.needsMeasurement),e=new Set(i.map(n=>n.element)),t=new Map;e.forEach(n=>{const r=Hfe(n);r.length&&(t.set(n,r),n.render())}),i.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const r=t.get(n);r&&r.forEach(([s,o])=>{var a;(a=n.getValue(s))===null||a===void 0||a.set(o)})}),i.forEach(n=>n.measureEndState()),i.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}K9=!1,X9=!1,l0.forEach(i=>i.complete()),l0.clear()}function KX(){l0.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(K9=!0)})}function Vfe(){KX(),XX()}class cL{constructor(e,t,n,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(l0.add(this),X9||(X9=!0,cn.read(KX),cn.resolveKeyframes(XX))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(n&&t){const l=n.readValue(t,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),l0.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,l0.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const uL=(i,e)=>t=>!!(yx(t)&&jde.test(t)&&t.startsWith(i)||e&&!Hde(t)&&Object.prototype.hasOwnProperty.call(t,e)),YX=(i,e,t)=>n=>{if(!yx(n))return n;const[r,s,o,a]=n.match(QI);return{[i]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Wfe=i=>Ph(0,255,i),X6={...Ig,transform:i=>Math.round(Wfe(i))},Vd={test:uL("rgb","red"),parse:YX("red","green","blue"),transform:({red:i,green:e,blue:t,alpha:n=1})=>"rgba("+X6.transform(i)+", "+X6.transform(e)+", "+X6.transform(t)+", "+bv(Sv.transform(n))+")"};function Xfe(i){let e="",t="",n="",r="";return i.length>5?(e=i.substring(1,3),t=i.substring(3,5),n=i.substring(5,7),r=i.substring(7,9)):(e=i.substring(1,2),t=i.substring(2,3),n=i.substring(3,4),r=i.substring(4,5),e+=e,t+=t,n+=n,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const Y9={test:uL("#"),parse:Xfe,transform:Vd.transform},am={test:uL("hsl","hue"),parse:YX("hue","saturation","lightness"),transform:({hue:i,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(i)+", "+vl.transform(bv(e))+", "+vl.transform(bv(t))+", "+bv(Sv.transform(n))+")"},Mr={test:i=>Vd.test(i)||Y9.test(i)||am.test(i),parse:i=>Vd.test(i)?Vd.parse(i):am.test(i)?am.parse(i):Y9.parse(i),transform:i=>yx(i)?i:i.hasOwnProperty("red")?Vd.transform(i):am.transform(i)};function Kfe(i){var e,t;return isNaN(i)&&yx(i)&&(((e=i.match(QI))===null||e===void 0?void 0:e.length)||0)+(((t=i.match(zde))===null||t===void 0?void 0:t.length)||0)>0}const JX="number",qX="color",Yfe="var",Jfe="var(",LN="${}",qfe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gy(i){const e=i.toString(),t=[],n={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(qfe,l=>(Mr.test(l)?(n.color.push(s),r.push(qX),t.push(Mr.parse(l))):l.startsWith(Jfe)?(n.var.push(s),r.push(Yfe),t.push(l)):(n.number.push(s),r.push(JX),t.push(parseFloat(l))),++s,LN)).split(LN);return{values:t,split:a,indexes:n,types:r}}function ZX(i){return gy(i).values}function QX(i){const{split:e,types:t}=gy(i),n=e.length;return r=>{let s="";for(let o=0;o<n;o++)if(s+=e[o],r[o]!==void 0){const a=t[o];a===JX?s+=bv(r[o]):a===qX?s+=Mr.transform(r[o]):s+=r[o]}return s}}const Zfe=i=>typeof i=="number"?0:i;function Qfe(i){const e=ZX(i);return QX(i)(e.map(Zfe))}const Ih={test:Kfe,parse:ZX,createTransformer:QX,getAnimatableNone:Qfe},$fe=new Set(["brightness","contrast","saturate","opacity"]);function e0e(i){const[e,t]=i.slice(0,-1).split("(");if(e==="drop-shadow")return i;const[n]=t.match(QI)||[];if(!n)return i;const r=t.replace(n,"");let s=$fe.has(e)?1:0;return n!==t&&(s*=100),e+"("+s+r+")"}const t0e=/\b([a-z-]*)\(.*?\)/gu,J9={...Ih,getAnimatableNone:i=>{const e=i.match(t0e);return e?e.map(e0e).join(" "):i}},n0e={...$I,color:Mr,backgroundColor:Mr,outlineColor:Mr,fill:Mr,stroke:Mr,borderColor:Mr,borderTopColor:Mr,borderRightColor:Mr,borderBottomColor:Mr,borderLeftColor:Mr,filter:J9,WebkitFilter:J9},hL=i=>n0e[i];function $X(i,e){let t=hL(i);return t!==J9&&(t=Ih),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const i0e=new Set(["auto","none","0"]);function r0e(i,e,t){let n=0,r;for(;n<i.length&&!r;){const s=i[n];typeof s=="string"&&!i0e.has(s)&&gy(s).values.length&&(r=i[n]),n++}if(r&&t)for(const s of e)i[s]=$X(t,r)}class eK extends cL{constructor(e,t,n,r,s){super(e,t,n,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),eL(c))){const u=GX(c,t.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Ufe.has(n)||e.length!==2)return;const[r,s]=e,o=IN(r),a=IN(s);if(o!==a)if(TN(o)&&TN(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)Ofe(e[r])&&n.push(r);n.length&&r0e(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fg[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=fg[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function tK(i){let e;return()=>(e===void 0&&(e=i()),e)}let AS;function s0e(){AS=void 0}const Fc={now:()=>(AS===void 0&&Fc.set(ar.isProcessing||wde.useManualTiming?ar.timestamp:performance.now()),AS),set:i=>{AS=i,queueMicrotask(s0e)}},DN=(i,e)=>e==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(Ih.test(i)||i==="0")&&!i.startsWith("url("));function o0e(i){const e=i[0];if(i.length===1)return!0;for(let t=0;t<i.length;t++)if(i[t]!==e)return!0}function a0e(i,e,t,n){const r=i[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=i[i.length-1],o=DN(r,e),a=DN(s,e);return!o||!a?!1:o0e(i)||t==="spring"&&n}const l0e=40;class nK{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Fc.now(),this.options={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>l0e?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Vfe(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Fc.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!a0e(e,n,r,s))if(o)this.options.duration=0;else{l==null||l(TM(e,this.options,t)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,t);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...u},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function iK(i,e){return e?i*(1e3/e):0}const c0e=5;function rK(i,e,t){const n=Math.max(e-c0e,0);return iK(t-i(n),e-n)}const K6=.001,u0e=.01,h0e=10,d0e=.05,f0e=1;function p0e({duration:i=800,bounce:e=.25,velocity:t=0,mass:n=1}){let r,s,o=1-e;o=Ph(d0e,f0e,o),i=Ph(u0e,h0e,Bc(i)),o<1?(r=c=>{const u=c*o,h=u*i,d=u-t,m=q9(c,o),g=Math.exp(-h);return K6-d/m*g},s=c=>{const h=c*o*i,d=h*t+t,m=Math.pow(o,2)*Math.pow(c,2)*i,g=Math.exp(-h),y=q9(Math.pow(c,2),o);return(-r(c)+K6>0?-1:1)*((d-m)*g)/y}):(r=c=>{const u=Math.exp(-c*i),h=(c-t)*i+1;return-K6+u*h},s=c=>{const u=Math.exp(-c*i),h=(t-c)*(i*i);return u*h});const a=5/i,l=g0e(r,s,a);if(i=Dc(i),isNaN(l))return{stiffness:100,damping:10,duration:i};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:o*2*Math.sqrt(n*c),duration:i}}}const m0e=12;function g0e(i,e,t){let n=t;for(let r=1;r<m0e;r++)n=n-i(n)/e(n);return n}function q9(i,e){return i*Math.sqrt(1-e*e)}const v0e=["duration","bounce"],y0e=["stiffness","damping","mass"];function BN(i,e){return e.some(t=>i[t]!==void 0)}function _0e(i){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...i};if(!BN(i,y0e)&&BN(i,v0e)){const t=p0e(i);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function sK({keyframes:i,restDelta:e,restSpeed:t,...n}){const r=i[0],s=i[i.length-1],o={done:!1,value:r},{stiffness:a,damping:l,mass:c,duration:u,velocity:h,isResolvedFromDuration:d}=_0e({...n,velocity:-Bc(n.velocity||0)}),m=h||0,g=l/(2*Math.sqrt(a*c)),y=s-r,_=Bc(Math.sqrt(a/c)),v=Math.abs(y)<5;t||(t=v?.01:2),e||(e=v?.005:.5);let A;if(g<1){const w=q9(_,g);A=C=>{const T=Math.exp(-g*_*C);return s-T*((m+g*_*y)/w*Math.sin(w*C)+y*Math.cos(w*C))}}else if(g===1)A=w=>s-Math.exp(-_*w)*(y+(m+_*y)*w);else{const w=_*Math.sqrt(g*g-1);A=C=>{const T=Math.exp(-g*_*C),E=Math.min(w*C,300);return s-T*((m+g*_*y)*Math.sinh(E)+w*y*Math.cosh(E))/w}}return{calculatedDuration:d&&u||null,next:w=>{const C=A(w);if(d)o.done=w>=u;else{let T=0;g<1&&(T=w===0?Dc(m):rK(A,w,C));const E=Math.abs(T)<=t,R=Math.abs(s-C)<=e;o.done=E&&R}return o.value=o.done?s:C,o}}}function FN({keyframes:i,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=i[0],d={done:!1,value:h},m=D=>a!==void 0&&D<a||l!==void 0&&D>l,g=D=>a===void 0?l:l===void 0||Math.abs(a-D)<Math.abs(l-D)?a:l;let y=t*e;const _=h+y,v=o===void 0?_:o(_);v!==_&&(y=v-h);const A=D=>-y*Math.exp(-D/n),w=D=>v+A(D),C=D=>{const I=A(D),L=w(D);d.done=Math.abs(I)<=c,d.value=d.done?v:L};let T,E;const R=D=>{m(d.value)&&(T=D,E=sK({keyframes:[d.value,g(d.value)],velocity:rK(w,D,d.value),damping:r,stiffness:s,restDelta:c,restSpeed:u}))};return R(0),{calculatedDuration:null,next:D=>{let I=!1;return!E&&T===void 0&&(I=!0,C(D),R(D)),T!==void 0&&D>=T?E.next(D-T):(!I&&C(D),d)}}}const oK=(i,e,t)=>(((1-3*t+3*e)*i+(3*t-6*e))*i+3*e)*i,x0e=1e-7,A0e=12;function w0e(i,e,t,n,r){let s,o,a=0;do o=e+(t-e)/2,s=oK(o,n,r)-i,s>0?t=o:e=o;while(Math.abs(s)>x0e&&++a<A0e);return o}function xx(i,e,t,n){if(i===e&&t===n)return Dr;const r=s=>w0e(s,0,1,i,t);return s=>s===0||s===1?s:oK(r(s),e,n)}const S0e=xx(.42,0,1,1),b0e=xx(0,0,.58,1),aK=xx(.42,0,.58,1),C0e=i=>Array.isArray(i)&&typeof i[0]!="number",lK=i=>e=>e<=.5?i(2*e)/2:(2-i(2*(1-e)))/2,cK=i=>e=>1-i(1-e),dL=i=>1-Math.sin(Math.acos(i)),uK=cK(dL),M0e=lK(dL),hK=xx(.33,1.53,.69,.99),fL=cK(hK),E0e=lK(fL),T0e=i=>(i*=2)<1?.5*fL(i):.5*(2-Math.pow(2,-10*(i-1))),ON={linear:Dr,easeIn:S0e,easeInOut:aK,easeOut:b0e,circIn:dL,circInOut:M0e,circOut:uK,backIn:fL,backInOut:E0e,backOut:hK,anticipate:T0e},kN=i=>{if(Array.isArray(i)){G9(i.length===4);const[e,t,n,r]=i;return xx(e,t,n,r)}else if(typeof i=="string")return G9(ON[i]!==void 0),ON[i];return i},vy=(i,e,t)=>{const n=e-i;return n===0?1:(t-i)/n},Hn=(i,e,t)=>i+(e-i)*t;function Y6(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function R0e({hue:i,saturation:e,lightness:t,alpha:n}){i/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=Y6(l,a,i+1/3),s=Y6(l,a,i),o=Y6(l,a,i-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function c4(i,e){return t=>t>0?e:i}const J6=(i,e,t)=>{const n=i*i,r=t*(e*e-n)+n;return r<0?0:Math.sqrt(r)},P0e=[Y9,Vd,am],I0e=i=>P0e.find(e=>e.test(i));function NN(i){const e=I0e(i);if(!e)return!1;let t=e.parse(i);return e===am&&(t=R0e(t)),t}const UN=(i,e)=>{const t=NN(i),n=NN(e);if(!t||!n)return c4(i,e);const r={...t};return s=>(r.red=J6(t.red,n.red,s),r.green=J6(t.green,n.green,s),r.blue=J6(t.blue,n.blue,s),r.alpha=Hn(t.alpha,n.alpha,s),Vd.transform(r))},Z9=new Set(["none","hidden"]);function L0e(i,e){return Z9.has(i)?t=>t<=0?i:e:t=>t>=1?e:i}function D0e(i,e){return t=>Hn(i,e,t)}function pL(i){return typeof i=="number"?D0e:typeof i=="string"?eL(i)?c4:Mr.test(i)?UN:O0e:Array.isArray(i)?dK:typeof i=="object"?Mr.test(i)?UN:B0e:c4}function dK(i,e){const t=[...i],n=t.length,r=i.map((s,o)=>pL(s)(s,e[o]));return s=>{for(let o=0;o<n;o++)t[o]=r[o](s);return t}}function B0e(i,e){const t={...i,...e},n={};for(const r in t)i[r]!==void 0&&e[r]!==void 0&&(n[r]=pL(i[r])(i[r],e[r]));return r=>{for(const s in n)t[s]=n[s](r);return t}}function F0e(i,e){var t;const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=i.indexes[o][r[o]],l=(t=i.values[a])!==null&&t!==void 0?t:0;n[s]=l,r[o]++}return n}const O0e=(i,e)=>{const t=Ih.createTransformer(e),n=gy(i),r=gy(e);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?Z9.has(i)&&!r.values.length||Z9.has(e)&&!n.values.length?L0e(i,e):Lc(dK(F0e(n,r),r.values),t):c4(i,e)};function fK(i,e,t){return typeof i=="number"&&typeof e=="number"&&typeof t=="number"?Hn(i,e,t):pL(i)(i,e)}function k0e(i,e,t){const n=[],r=t||fK,s=i.length-1;for(let o=0;o<s;o++){let a=r(i[o],i[o+1]);if(e){const l=Array.isArray(e)?e[o]||Dr:e;a=Lc(l,a)}n.push(a)}return n}function N0e(i,e,{clamp:t=!0,ease:n,mixer:r}={}){const s=i.length;if(G9(s===e.length),s===1)return()=>e[0];if(s===2&&i[0]===i[1])return()=>e[1];i[0]>i[s-1]&&(i=[...i].reverse(),e=[...e].reverse());const o=k0e(e,n,r),a=o.length,l=c=>{let u=0;if(a>1)for(;u<i.length-2&&!(c<i[u+1]);u++);const h=vy(i[u],i[u+1],c);return o[u](h)};return t?c=>l(Ph(i[0],i[s-1],c)):l}function U0e(i,e){const t=i[i.length-1];for(let n=1;n<=e;n++){const r=vy(0,e,n);i.push(Hn(t,1,r))}}function z0e(i){const e=[0];return U0e(e,i.length-1),e}function j0e(i,e){return i.map(t=>t*e)}function H0e(i,e){return i.map(()=>e||aK).splice(0,i.length-1)}function u4({duration:i=300,keyframes:e,times:t,ease:n="easeInOut"}){const r=C0e(n)?n.map(kN):kN(n),s={done:!1,value:e[0]},o=j0e(t&&t.length===e.length?t:z0e(e),i),a=N0e(o,e,{ease:Array.isArray(r)?r:H0e(e,r)});return{calculatedDuration:i,next:l=>(s.value=a(l),s.done=l>=i,s)}}const zN=2e4;function G0e(i){let e=0;const t=50;let n=i.next(e);for(;!n.done&&e<zN;)e+=t,n=i.next(e);return e>=zN?1/0:e}const V0e=i=>{const e=({timestamp:t})=>i(t);return{start:()=>cn.update(e,!0),stop:()=>Kc(e),now:()=>ar.isProcessing?ar.timestamp:Fc.now()}},W0e={decay:FN,inertia:FN,tween:u4,keyframes:u4,spring:sK},X0e=i=>i/100;class mL extends nK{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:t,motionValue:n,element:r,keyframes:s}=this.options,o=(r==null?void 0:r.KeyframeResolver)||cL,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,t,n,r),this.resolver.scheduleResolve()}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=W0e[t]||u4;let l,c;a!==u4&&typeof e[0]!="number"&&(l=Lc(X0e,fK(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=G0e(u));const{calculatedDuration:h}=u,d=h+r,m=d*(n+1)-r;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:d,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:n}=this;if(!n){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:h}=n;if(this.startTime===null)return s.next(0);const{delay:d,repeat:m,repeatType:g,repeatDelay:y,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-d*(this.speed>=0?1:-1),A=this.speed>=0?v<0:v>u;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let w=this.currentTime,C=s;if(m){const D=Math.min(this.currentTime,u)/h;let I=Math.floor(D),L=D%1;!L&&D>=1&&(L=1),L===1&&I--,I=Math.min(I,m+1),!!(I%2)&&(g==="reverse"?(L=1-L,y&&(L-=y/h)):g==="mirror"&&(C=o)),w=Ph(0,1,L)*h}const T=A?{done:!1,value:l[0]}:C.next(w);a&&(T.value=a(T.value));let{done:E}=T;!A&&c!==null&&(E=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return R&&r!==void 0&&(T.value=TM(l,this.options,r)),_&&_(T.value),R&&this.finish(),T}get duration(){const{resolved:e}=this;return e?Bc(e.calculatedDuration):0}get time(){return Bc(this.currentTime)}set time(e){e=Dc(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Bc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=V0e,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),t&&t();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const pK=i=>Array.isArray(i)&&typeof i[0]=="number";function mK(i){return!!(!i||typeof i=="string"&&i in gL||pK(i)||Array.isArray(i)&&i.every(mK))}const U1=([i,e,t,n])=>`cubic-bezier(${i}, ${e}, ${t}, ${n})`,gL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:U1([0,.65,.55,1]),circOut:U1([.55,0,1,.45]),backIn:U1([.31,.01,.66,-.59]),backOut:U1([.33,1.53,.69,.99])};function K0e(i){return gK(i)||gL.easeOut}function gK(i){if(i)return pK(i)?U1(i):Array.isArray(i)?i.map(K0e):gL[i]}function Y0e(i,e,t,{delay:n=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const u=gK(a);return Array.isArray(u)&&(c.easing=u),i.animate(c,{delay:n,duration:r,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const J0e=tK(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),h4=10,q0e=2e4;function Z0e(i){return i.type==="spring"||!mK(i.ease)}function Q0e(i,e){const t=new mL({...e,keyframes:i,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:i[0]};const r=[];let s=0;for(;!n.done&&s<q0e;)n=t.sample(s),r.push(n.value),s+=h4;return{times:void 0,keyframes:r,duration:s-h4,ease:"linear"}}class jN extends nK{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:s}=this.options;this.resolver=new eK(s,(o,a)=>this.onKeyframesResolved(o,a),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){var n;let{duration:r=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((n=l.owner)===null||n===void 0)&&n.current))return!1;if(Z0e(this.options)){const{onComplete:d,onUpdate:m,motionValue:g,element:y,..._}=this.options,v=Q0e(e,_);e=v.keyframes,e.length===1&&(e[1]=e[0]),r=v.duration,s=v.times,o=v.ease,a="keyframes"}const h=Y0e(l.owner.current,c,e,{...this.options,duration:r,times:s,ease:o});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(h.timeline=this.pendingTimeline,this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:d}=this.options;l.set(TM(e,this.options,t)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Bc(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Bc(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=Dc(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Dr;const{animation:n}=t;n.timeline=e,n.onfinish=null}return Dr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:s,ease:o,times:a}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:h,element:d,...m}=this.options,g=new mL({...m,keyframes:n,duration:r,type:s,ease:o,times:a,isGenerator:!0}),y=Dc(this.time);c.setWithVelocity(g.sample(y-h4).value,g.sample(y).value,h4)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:o,type:a}=e;return J0e()&&n&&LX.has(n)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}function $0e(i,e){let t;const n=()=>{const{currentTime:r}=e,o=(r===null?0:r.value)/100;t!==o&&i(o),t=o};return cn.update(n,!0),()=>Kc(n)}const epe=tK(()=>window.ScrollTimeline!==void 0);class tpe{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e){const t=this.animations.map(n=>{if(epe()&&n.attachTimeline)n.attachTimeline(e);else return n.pause(),$0e(r=>{n.time=n.duration*r},e)});return()=>{t.forEach((n,r)=>{n&&n(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const vL=(i,e,t,n={},r,s,o)=>a=>{const l=lL(n,i)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Dc(c);let h={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:i,motionValue:e,element:s?void 0:r};Bfe(l)||(h={...h,...Dfe(i,h)}),h.duration&&(h.duration=Dc(h.duration)),h.repeatDelay&&(h.repeatDelay=Dc(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const m=TM(h.keyframes,l);if(m!==void 0)return cn.update(()=>{h.onUpdate(m),h.onComplete()}),new tpe([])}return!s&&jN.supports(h)?new jN(h):new mL(h)};class yL{constructor(){this.subscriptions=[]}add(e){return bM(this.subscriptions,e),()=>CM(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const HN=30,npe=i=>!isNaN(parseFloat(i));class vK{constructor(e,t={}){this.version="11.3.31",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,r=!0)=>{const s=Fc.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Fc.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=npe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new yL);const n=this.events[e].add(t);return e==="change"?()=>{n(),cn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Fc.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>HN)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,HN);return iK(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yy(i,e){return new vK(i,e)}function ipe(i,e,t){i.hasValue(e)?i.getValue(e).set(t):i.addValue(e,yy(t))}function rpe(i,e){const t=EM(i,e);let{transitionEnd:n={},transition:r={},...s}=t||{};s={...s,...n};for(const o in s){const a=cfe(s[o]);ipe(i,o,a)}}function yK(i){return i.props[gX]}class spe extends vK{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const t=DX(e);if(!t)return;const n=this.counts.get(t)||0;this.counts.set(t,n+1),n===0&&(this.output.push(t),this.update());let r=!1;return()=>{if(r)return;r=!0;const s=this.counts.get(t)-1;this.counts.set(t,s),s===0&&(CM(this.output,t),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}function ope(i){return!!(Ir(i)&&i.add)}function Q9(i,e){var t;if(!i.applyWillChange)return;let n=i.getValue("willChange");if(!n&&!(!((t=i.props.style)===null||t===void 0)&&t.willChange)&&(n=new spe("auto"),i.addValue("willChange",n)),ope(n))return n.add(e)}function ape({protectedKeys:i,needsAnimating:e},t){const n=i.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function _K(i,e,{delay:t=0,transitionOverride:n,type:r}={}){var s;let{transition:o=i.getDefaultTransition(),transitionEnd:a,...l}=e;n&&(o=n);const c=[],u=r&&i.animationState&&i.animationState.getState()[r];for(const h in l){const d=i.getValue(h,(s=i.latestValues[h])!==null&&s!==void 0?s:null),m=l[h];if(m===void 0||u&&ape(u,h))continue;const g={delay:t,...lL(o||{},h)};let y=!1;if(window.MotionHandoffAnimation){const v=yK(i);if(v){const A=window.MotionHandoffAnimation(v,h,cn);A!==null&&(g.startTime=A,y=!0)}}d.start(vL(h,d,m,i.shouldReduceMotion&&Hh.has(h)?{type:!1}:g,i,y,Q9(i,h)));const _=d.animation;_&&c.push(_)}return a&&Promise.all(c).then(()=>{cn.update(()=>{a&&rpe(i,a)})}),c}function $9(i,e,t={}){var n;const r=EM(i,e,t.type==="exit"?(n=i.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:s=i.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const o=r?()=>Promise.all(_K(i,r,t)):()=>Promise.resolve(),a=i.variantChildren&&i.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:d}=s;return lpe(i,e,u+c,h,d,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(t.delay)])}function lpe(i,e,t=0,n=0,r=1,s){const o=[],a=(i.variantChildren.size-1)*n,l=r===1?(c=0)=>c*n:(c=0)=>a-c*n;return Array.from(i.variantChildren).sort(cpe).forEach((c,u)=>{c.notify("AnimationStart",e),o.push($9(c,e,{...s,delay:t+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function cpe(i,e){return i.sortNodePosition(e)}function upe(i,e,t={}){i.notify("AnimationStart",e);let n;if(Array.isArray(e)){const r=e.map(s=>$9(i,s,t));n=Promise.all(r)}else if(typeof e=="string")n=$9(i,e,t);else{const r=typeof e=="function"?EM(i,e,t.custom):e;n=Promise.all(_K(i,r,t))}return n.then(()=>{i.notify("AnimationComplete",e)})}const hpe=[...YI].reverse(),dpe=YI.length;function fpe(i){return e=>Promise.all(e.map(({animation:t,options:n})=>upe(i,t,n)))}function ppe(i){let e=fpe(i),t=GN(),n=!0;const r=l=>(c,u)=>{var h;const d=EM(i,u,l==="exit"?(h=i.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(d){const{transition:m,transitionEnd:g,...y}=d;c={...c,...y,...g}}return c};function s(l){e=l(i)}function o(l){const c=i.getProps(),u=i.getVariantContext(!0)||{},h=[],d=new Set;let m={},g=1/0;for(let _=0;_<dpe;_++){const v=hpe[_],A=t[v],w=c[v]!==void 0?c[v]:u[v],C=py(w),T=v===l?A.isActive:null;T===!1&&(g=_);let E=w===u[v]&&w!==c[v]&&C;if(E&&n&&i.manuallyAnimateOnMount&&(E=!1),A.protectedKeys={...m},!A.isActive&&T===null||!w&&!A.prevProp||my(w)||typeof w=="boolean")continue;let D=mpe(A.prevProp,w)||v===l&&A.isActive&&!E&&C||_>g&&C,I=!1;const L=Array.isArray(w)?w:[w];let O=L.reduce(r(v),{});T===!1&&(O={});const{prevResolvedValues:X={}}=A,W={...X,...O},q=$=>{D=!0,d.has($)&&(I=!0,d.delete($)),A.needsAnimating[$]=!0;const Q=i.getValue($);Q&&(Q.liveStyle=!1)};for(const $ in W){const Q=O[$],ee=X[$];if(m.hasOwnProperty($))continue;let k=!1;V9(Q)&&V9(ee)?k=!zX(Q,ee):k=Q!==ee,k?Q!=null?q($):d.add($):Q!==void 0&&d.has($)?q($):A.protectedKeys[$]=!0}A.prevProp=w,A.prevResolvedValues=O,A.isActive&&(m={...m,...O}),n&&i.blockInitialAnimation&&(D=!1),D&&(!E||I)&&h.push(...L.map($=>({animation:$,options:{type:v}})))}if(d.size){const _={};d.forEach(v=>{const A=i.getBaseTarget(v),w=i.getValue(v);w&&(w.liveStyle=!0),_[v]=A??null}),h.push({animation:_})}let y=!!h.length;return n&&(c.initial===!1||c.initial===c.animate)&&!i.manuallyAnimateOnMount&&(y=!1),n=!1,y?e(h):Promise.resolve()}function a(l,c){var u;if(t[l].isActive===c)return Promise.resolve();(u=i.variantChildren)===null||u===void 0||u.forEach(d=>{var m;return(m=d.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),t[l].isActive=c;const h=o(l);for(const d in t)t[d].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t,reset:()=>{t=GN(),n=!0}}}function mpe(i,e){return typeof e=="string"?e!==i:Array.isArray(e)?!zX(e,i):!1}function fd(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function GN(){return{animate:fd(!0),whileInView:fd(),whileHover:fd(),whileTap:fd(),whileDrag:fd(),whileFocus:fd(),exit:fd()}}class gpe extends Gh{constructor(e){super(e),e.animationState||(e.animationState=ppe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();my(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let vpe=0;class ype extends Gh{constructor(){super(...arguments),this.id=vpe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const _pe={animation:{Feature:gpe},exit:{Feature:ype}},VN=(i,e)=>Math.abs(i-e);function xpe(i,e){const t=VN(i.x,e.x),n=VN(i.y,e.y);return Math.sqrt(t**2+n**2)}class xK{constructor(e,t,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Z6(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,m=xpe(h.offset,{x:0,y:0})>=3;if(!d&&!m)return;const{point:g}=h,{timestamp:y}=ar;this.history.push({...g,timestamp:y});const{onStart:_,onMove:v}=this.handlers;d||(_&&_(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,d)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=q6(d,this.transformPagePoint),cn.update(this.updatePoint,!0)},this.handlePointerUp=(h,d)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Z6(h.type==="pointercancel"?this.lastMoveEventInfo:q6(d,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,_),g&&g(h,_)},!FX(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const o=MM(e),a=q6(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=ar;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=t;u&&u(e,Z6(a,this.history)),this.removeListeners=Lc(Ic(this.contextWindow,"pointermove",this.handlePointerMove),Ic(this.contextWindow,"pointerup",this.handlePointerUp),Ic(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Kc(this.updatePoint)}}function q6(i,e){return e?{point:e(i.point)}:i}function WN(i,e){return{x:i.x-e.x,y:i.y-e.y}}function Z6({point:i},e){return{point:i,delta:WN(i,AK(e)),offset:WN(i,Ape(e)),velocity:wpe(e,.1)}}function Ape(i){return i[0]}function AK(i){return i[i.length-1]}function wpe(i,e){if(i.length<2)return{x:0,y:0};let t=i.length-1,n=null;const r=AK(i);for(;t>=0&&(n=i[t],!(r.timestamp-n.timestamp>Dc(e)));)t--;if(!n)return{x:0,y:0};const s=Bc(r.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-n.x)/s,y:(r.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const wK=1e-4,Spe=1-wK,bpe=1+wK,SK=.01,Cpe=0-SK,Mpe=0+SK;function io(i){return i.max-i.min}function Epe(i,e,t){return Math.abs(i-e)<=t}function XN(i,e,t,n=.5){i.origin=n,i.originPoint=Hn(e.min,e.max,i.origin),i.scale=io(t)/io(e),i.translate=Hn(t.min,t.max,i.origin)-i.originPoint,(i.scale>=Spe&&i.scale<=bpe||isNaN(i.scale))&&(i.scale=1),(i.translate>=Cpe&&i.translate<=Mpe||isNaN(i.translate))&&(i.translate=0)}function Cv(i,e,t,n){XN(i.x,e.x,t.x,n?n.originX:void 0),XN(i.y,e.y,t.y,n?n.originY:void 0)}function KN(i,e,t){i.min=t.min+e.min,i.max=i.min+io(e)}function Tpe(i,e,t){KN(i.x,e.x,t.x),KN(i.y,e.y,t.y)}function YN(i,e,t){i.min=e.min-t.min,i.max=i.min+io(e)}function Mv(i,e,t){YN(i.x,e.x,t.x),YN(i.y,e.y,t.y)}function Rpe(i,{min:e,max:t},n){return e!==void 0&&i<e?i=n?Hn(e,i,n.min):Math.max(i,e):t!==void 0&&i>t&&(i=n?Hn(t,i,n.max):Math.min(i,t)),i}function JN(i,e,t){return{min:e!==void 0?i.min+e:void 0,max:t!==void 0?i.max+t-(i.max-i.min):void 0}}function Ppe(i,{top:e,left:t,bottom:n,right:r}){return{x:JN(i.x,t,r),y:JN(i.y,e,n)}}function qN(i,e){let t=e.min-i.min,n=e.max-i.max;return e.max-e.min<i.max-i.min&&([t,n]=[n,t]),{min:t,max:n}}function Ipe(i,e){return{x:qN(i.x,e.x),y:qN(i.y,e.y)}}function Lpe(i,e){let t=.5;const n=io(i),r=io(e);return r>n?t=vy(e.min,e.max-n,i.min):n>r&&(t=vy(i.min,i.max-r,e.min)),Ph(0,1,t)}function Dpe(i,e){const t={};return e.min!==void 0&&(t.min=e.min-i.min),e.max!==void 0&&(t.max=e.max-i.min),t}const eR=.35;function Bpe(i=eR){return i===!1?i=0:i===!0&&(i=eR),{x:ZN(i,"left","right"),y:ZN(i,"top","bottom")}}function ZN(i,e,t){return{min:QN(i,e),max:QN(i,t)}}function QN(i,e){return typeof i=="number"?i:i[e]||0}const $N=()=>({translate:0,scale:1,origin:0,originPoint:0}),lm=()=>({x:$N(),y:$N()}),eU=()=>({min:0,max:0}),oi=()=>({x:eU(),y:eU()});function xo(i){return[i("x"),i("y")]}function bK({top:i,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:i,max:n}}}function Fpe({x:i,y:e}){return{top:e.min,right:i.max,bottom:e.max,left:i.min}}function Ope(i,e){if(!e)return i;const t=e({x:i.left,y:i.top}),n=e({x:i.right,y:i.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function Q6(i){return i===void 0||i===1}function tR({scale:i,scaleX:e,scaleY:t}){return!Q6(i)||!Q6(e)||!Q6(t)}function Md(i){return tR(i)||CK(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function CK(i){return tU(i.x)||tU(i.y)}function tU(i){return i&&i!=="0%"}function d4(i,e,t){const n=i-t,r=e*n;return t+r}function nU(i,e,t,n,r){return r!==void 0&&(i=d4(i,r,n)),d4(i,t,n)+e}function nR(i,e=0,t=1,n,r){i.min=nU(i.min,e,t,n,r),i.max=nU(i.max,e,t,n,r)}function MK(i,{x:e,y:t}){nR(i.x,e.translate,e.scale,e.originPoint),nR(i.y,t.translate,t.scale,t.originPoint)}const iU=.999999999999,rU=1.0000000000001;function kpe(i,e,t,n=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&um(i,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,MK(i,o)),n&&Md(s.latestValues)&&um(i,s.latestValues))}e.x<rU&&e.x>iU&&(e.x=1),e.y<rU&&e.y>iU&&(e.y=1)}function cm(i,e){i.min=i.min+e,i.max=i.max+e}function sU(i,e,t,n,r=.5){const s=Hn(i.min,i.max,r);nR(i,e,t,s,n)}function um(i,e){sU(i.x,e.x,e.scaleX,e.scale,e.originX),sU(i.y,e.y,e.scaleY,e.scale,e.originY)}function EK(i,e){return bK(Ope(i.getBoundingClientRect(),e))}function Npe(i,e,t){const n=EK(i,t),{scroll:r}=e;return r&&(cm(n.x,r.offset.x),cm(n.y,r.offset.y)),n}const TK=({current:i})=>i?i.ownerDocument.defaultView:null,Upe=new WeakMap;class zpe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=oi(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const r=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(MM(u,"page").point)},s=(u,h)=>{var d;const{drag:m,dragPropagation:g,onDragStart:y}=this.getProps();if(m&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=kX(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xo(v=>{let A=this.getAxisMotionValue(v).get()||0;if(vl.test(A)){const{projection:w}=this.visualElement;if(w&&w.layout){const C=w.layout.layoutBox[v];C&&(A=io(C)*(parseFloat(A)/100))}}this.originPoint[v]=A}),y&&cn.postRender(()=>y(u,h)),(d=this.removeWillChange)===null||d===void 0||d.call(this),this.removeWillChange=Q9(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:d,dragDirectionLock:m,onDirectionLock:g,onDrag:y}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:_}=h;if(m&&this.currentDirection===null){this.currentDirection=jpe(_),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,_),this.updateAxis("y",h.point,_),this.visualElement.render(),y&&y(u,h)},a=(u,h)=>this.stop(u,h),l=()=>xo(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new xK(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:TK(this.visualElement)})}stop(e,t){var n;(n=this.removeWillChange)===null||n===void 0||n.call(this);const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&cn.postRender(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!zw(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=Rpe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&om(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Ppe(r.layoutBox,t):this.constraints=!1,this.elastic=Bpe(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&xo(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Dpe(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!om(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=Npe(n,r.root,this.visualElement.getTransformPagePoint());let o=Ipe(r.layout.layoutBox,s);if(t){const a=t(Fpe(o));this.hasMutatedConstraints=!!a,a&&(o=bK(a))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=xo(u=>{if(!zw(u,t,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const d=r?200:1e6,m=r?40:1e7,g={type:"inertia",velocity:n?e[u]:0,bounceStiffness:d,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(vL(e,n,0,t,this.visualElement,!1,Q9(this.visualElement,e)))}stopAnimation(){xo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xo(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){xo(t=>{const{drag:n}=this.getProps();if(!zw(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-Hn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!om(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};xo(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=Lpe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),xo(o=>{if(!zw(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Hn(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;Upe.set(this.visualElement,this);const e=this.visualElement.current,t=Ic(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();om(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),cn.read(n);const o=Tc(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(xo(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=eR,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function zw(i,e,t){return(e===!0||e===i)&&(t===null||t===i)}function jpe(i,e=10){let t=null;return Math.abs(i.y)>e?t="y":Math.abs(i.x)>e&&(t="x"),t}class Hpe extends Gh{constructor(e){super(e),this.removeGroupControls=Dr,this.removeListeners=Dr,this.controls=new zpe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dr}unmount(){this.removeGroupControls(),this.removeListeners()}}const oU=i=>(e,t)=>{i&&cn.postRender(()=>i(e,t))};class Gpe extends Gh{constructor(){super(...arguments),this.removePointerDownListener=Dr}onPointerDown(e){this.session=new xK(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TK(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:oU(e),onStart:oU(t),onMove:n,onEnd:(s,o)=>{delete this.session,r&&cn.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=Ic(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Vpe(){const i=N.useContext(AM);if(i===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:n}=i,r=N.useId();N.useEffect(()=>n(r),[]);const s=N.useCallback(()=>t&&t(r),[r,t]);return!e&&t?[!1,s]:[!0]}const wS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function aU(i,e){return e.max===e.min?0:i/(e.max-e.min)*100}const b1={correct:(i,e)=>{if(!e.target)return i;if(typeof i=="string")if(At.test(i))i=parseFloat(i);else return i;const t=aU(i,e.target.x),n=aU(i,e.target.y);return`${t}% ${n}%`}},Wpe={correct:(i,{treeScale:e,projectionDelta:t})=>{const n=i,r=Ih.parse(i);if(r.length>5)return n;const s=Ih.createTransformer(i),o=typeof r[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=Hn(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class Xpe extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;Ude(Kpe),s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),wS.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||cn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),KI.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function RK(i){const[e,t]=Vpe(),n=N.useContext(qI);return S.jsx(Xpe,{...i,layoutGroup:n,switchLayoutGroup:N.useContext(yX),isPresent:e,safeToRemove:t})}const Kpe={borderRadius:{...b1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:b1,borderTopRightRadius:b1,borderBottomLeftRadius:b1,borderBottomRightRadius:b1,boxShadow:Wpe},PK=["TopLeft","TopRight","BottomLeft","BottomRight"],Ype=PK.length,lU=i=>typeof i=="string"?parseFloat(i):i,cU=i=>typeof i=="number"||At.test(i);function Jpe(i,e,t,n,r,s){r?(i.opacity=Hn(0,t.opacity!==void 0?t.opacity:1,qpe(n)),i.opacityExit=Hn(e.opacity!==void 0?e.opacity:1,0,Zpe(n))):s&&(i.opacity=Hn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,n));for(let o=0;o<Ype;o++){const a=`border${PK[o]}Radius`;let l=uU(e,a),c=uU(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||cU(l)===cU(c)?(i[a]=Math.max(Hn(lU(l),lU(c),n),0),(vl.test(c)||vl.test(l))&&(i[a]+="%")):i[a]=c}(e.rotate||t.rotate)&&(i.rotate=Hn(e.rotate||0,t.rotate||0,n))}function uU(i,e){return i[e]!==void 0?i[e]:i.borderRadius}const qpe=IK(0,.5,uK),Zpe=IK(.5,.95,Dr);function IK(i,e,t){return n=>n<i?0:n>e?1:t(vy(i,e,n))}function hU(i,e){i.min=e.min,i.max=e.max}function yo(i,e){hU(i.x,e.x),hU(i.y,e.y)}function dU(i,e){i.translate=e.translate,i.scale=e.scale,i.originPoint=e.originPoint,i.origin=e.origin}function fU(i,e,t,n,r){return i-=e,i=d4(i,1/t,n),r!==void 0&&(i=d4(i,1/r,n)),i}function Qpe(i,e=0,t=1,n=.5,r,s=i,o=i){if(vl.test(e)&&(e=parseFloat(e),e=Hn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Hn(s.min,s.max,n);i===s&&(a-=e),i.min=fU(i.min,e,t,a,r),i.max=fU(i.max,e,t,a,r)}function pU(i,e,[t,n,r],s,o){Qpe(i,e[t],e[n],e[r],e.scale,s,o)}const $pe=["x","scaleX","originX"],eme=["y","scaleY","originY"];function mU(i,e,t,n){pU(i.x,e,$pe,t?t.x:void 0,n?n.x:void 0),pU(i.y,e,eme,t?t.y:void 0,n?n.y:void 0)}function gU(i){return i.translate===0&&i.scale===1}function LK(i){return gU(i.x)&&gU(i.y)}function vU(i,e){return i.min===e.min&&i.max===e.max}function tme(i,e){return vU(i.x,e.x)&&vU(i.y,e.y)}function yU(i,e){return Math.round(i.min)===Math.round(e.min)&&Math.round(i.max)===Math.round(e.max)}function DK(i,e){return yU(i.x,e.x)&&yU(i.y,e.y)}function _U(i){return io(i.x)/io(i.y)}function xU(i,e){return i.translate===e.translate&&i.scale===e.scale&&i.originPoint===e.originPoint}class nme{constructor(){this.members=[]}add(e){bM(this.members,e),e.scheduleRender()}remove(e){if(CM(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let n;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ime(i,e,t){let n="";const r=i.x.translate/e.x,s=i.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((r||s||o)&&(n=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:d,skewX:m,skewY:g}=t;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),h&&(n+=`rotateX(${h}deg) `),d&&(n+=`rotateY(${d}deg) `),m&&(n+=`skewX(${m}deg) `),g&&(n+=`skewY(${g}deg) `)}const a=i.x.scale*e.x,l=i.y.scale*e.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const rme=(i,e)=>i.depth-e.depth;class sme{constructor(){this.children=[],this.isDirty=!1}add(e){bM(this.children,e),this.isDirty=!0}remove(e){CM(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rme),this.isDirty=!1,this.children.forEach(e)}}function ome(i,e){const t=Fc.now(),n=({timestamp:r})=>{const s=r-t;s>=e&&(Kc(n),i(s-e))};return cn.read(n,!0),()=>Kc(n)}function ame(i){return i instanceof SVGElement&&i.tagName!=="svg"}function lme(i,e,t){const n=Ir(i)?i:yy(i);return n.start(vL("",n,e,t)),n.animation}const Ed={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},z1=typeof window<"u"&&window.MotionDebug!==void 0,$6=["","X","Y","Z"],cme={visibility:"hidden"},AU=1e3;let ume=0;function eT(i,e,t,n){const{latestValues:r}=e;r[i]&&(t[i]=r[i],e.setStaticValue(i,0),n&&(n[i]=0))}function BK(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:e}=i.options;if(!e)return;const t=yK(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:s}=i.options;window.MotionCancelOptimisedAnimation(t,"transform",cn,!(r||s))}const{parent:n}=i;n&&!n.hasCheckedOptimisedAppear&&BK(n)}function FK({attachResizeListener:i,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=ume++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,z1&&(Ed.totalNodes=Ed.resolvedTargetDeltas=Ed.recalculatedProjection=0),this.nodes.forEach(fme),this.nodes.forEach(yme),this.nodes.forEach(_me),this.nodes.forEach(pme),z1&&window.MotionDebug.record(Ed)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new sme)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new yL),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ame(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),i){let h;const d=()=>this.root.updateBlockedByResize=!1;i(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=ome(d,250),wS.hasAnimatedSinceResize&&(wS.hasAnimatedSinceResize=!1,this.nodes.forEach(SU))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||bme,{onLayoutAnimationStart:_,onLayoutAnimationComplete:v}=u.getProps(),A=!this.targetLayout||!DK(this.targetLayout,g)||m,w=!d&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||d&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const C={...lL(y,"layout"),onPlay:_,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else d||SU(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Kc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xme),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BK(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wU);return}this.isUpdating||this.nodes.forEach(gme),this.isUpdating=!1,this.nodes.forEach(vme),this.nodes.forEach(hme),this.nodes.forEach(dme),this.clearAllSnapshots();const a=Fc.now();ar.delta=Ph(0,1e3/60,a-ar.timestamp),ar.timestamp=a,ar.isProcessing=!0,G6.update.process(ar),G6.preRender.process(ar),G6.render.process(ar),ar.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,KI.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mme),this.sharedNodes.forEach(Ame)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,cn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){cn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=oi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!LK(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Md(this.latestValues)||u)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Cme(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return oi();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Mme))){const{scroll:u}=this.root;u&&(cm(l.x,u.offset.x),cm(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=oi();if(yo(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:d}=u;u!==this.root&&h&&d.layoutScroll&&(h.wasRoot&&yo(l,o),cm(l.x,h.offset.x),cm(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=oi();yo(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&um(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Md(u.latestValues)&&um(l,u.latestValues)}return Md(this.latestValues)&&um(l,this.latestValues),l}removeTransform(o){const a=oi();yo(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Md(c.latestValues))continue;tR(c.latestValues)&&c.updateSnapshot();const u=oi(),h=c.measurePageBox();yo(u,h),mU(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Md(this.latestValues)&&mU(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ar.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=ar.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=oi(),this.relativeTargetOrigin=oi(),Mv(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),yo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=oi(),this.targetWithTransforms=oi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Tpe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yo(this.target,this.layout.layoutBox),MK(this.target,this.targetDelta)):yo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=oi(),this.relativeTargetOrigin=oi(),Mv(this.relativeTargetOrigin,this.target,m.target),yo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}z1&&Ed.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||tR(this.parent.latestValues)||CK(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ar.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;yo(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,m=this.treeScale.y;kpe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=oi());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dU(this.prevProjectionDelta.x,this.projectionDelta.x),dU(this.prevProjectionDelta.y,this.projectionDelta.y)),Cv(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==m||!xU(this.projectionDelta.x,this.prevProjectionDelta.x)||!xU(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),z1&&Ed.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lm(),this.projectionDelta=lm(),this.projectionDeltaWithTransform=lm()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=lm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=oi(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=m!==g,_=this.getStack(),v=!_||_.members.length<=1,A=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(Sme));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const T=C/1e3;bU(h.x,o.x,T),bU(h.y,o.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mv(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wme(this.relativeTarget,this.relativeTargetOrigin,d,T),w&&tme(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=oi()),yo(w,this.relativeTarget)),y&&(this.animationValues=u,Jpe(u,c,this.latestValues,T,A,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Kc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=cn.update(()=>{wS.hasAnimatedSinceResize=!0,this.currentAnimation=lme(0,AU,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(AU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&OK(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||oi();const h=io(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const d=io(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}yo(a,l),um(a,u),Cv(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new nme),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&eT("z",o,c,this.animationValues);for(let u=0;u<$6.length;u++)eT(`rotate${$6[u]}`,o,c,this.animationValues),eT(`skew${$6[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return cme;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=xS(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=xS(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Md(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=ime(this.projectionDeltaWithTransform,this.treeScale,d),u&&(c.transform=u(d,c.transform));const{x:m,y:g}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:c.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in a4){if(d[y]===void 0)continue;const{correct:_,applyTo:v}=a4[y],A=c.transform==="none"?d[y]:_(d[y],h);if(v){const w=v.length;for(let C=0;C<w;C++)c[v[C]]=A}else c[y]=A}return this.options.layoutId&&(c.pointerEvents=h===this?xS(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(wU),this.root.sharedNodes.clear()}}}function hme(i){i.updateLayout()}function dme(i){var e;const t=((e=i.resumeFrom)===null||e===void 0?void 0:e.snapshot)||i.snapshot;if(i.isLead()&&i.layout&&t&&i.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=i.layout,{animationType:s}=i.options,o=t.source!==i.layout.source;s==="size"?xo(h=>{const d=o?t.measuredBox[h]:t.layoutBox[h],m=io(d);d.min=n[h].min,d.max=d.min+m}):OK(s,t.layoutBox,n)&&xo(h=>{const d=o?t.measuredBox[h]:t.layoutBox[h],m=io(n[h]);d.max=d.min+m,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[h].max=i.relativeTarget[h].min+m)});const a=lm();Cv(a,n,t.layoutBox);const l=lm();o?Cv(l,i.applyTransform(r,!0),t.measuredBox):Cv(l,n,t.layoutBox);const c=!LK(a);let u=!1;if(!i.resumeFrom){const h=i.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:m}=h;if(d&&m){const g=oi();Mv(g,t.layoutBox,d.layoutBox);const y=oi();Mv(y,n,m.layoutBox),DK(g,y)||(u=!0),h.options.layoutRoot&&(i.relativeTarget=y,i.relativeTargetOrigin=g,i.relativeParent=h)}}}i.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(i.isLead()){const{onExitComplete:n}=i.options;n&&n()}i.options.transition=void 0}function fme(i){z1&&Ed.totalNodes++,i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function pme(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function mme(i){i.clearSnapshot()}function wU(i){i.clearMeasurements()}function gme(i){i.isLayoutDirty=!1}function vme(i){const{visualElement:e}=i.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),i.resetTransform()}function SU(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function yme(i){i.resolveTargetDelta()}function _me(i){i.calcProjection()}function xme(i){i.resetSkewAndRotation()}function Ame(i){i.removeLeadSnapshot()}function bU(i,e,t){i.translate=Hn(e.translate,0,t),i.scale=Hn(e.scale,1,t),i.origin=e.origin,i.originPoint=e.originPoint}function CU(i,e,t,n){i.min=Hn(e.min,t.min,n),i.max=Hn(e.max,t.max,n)}function wme(i,e,t,n){CU(i.x,e.x,t.x,n),CU(i.y,e.y,t.y,n)}function Sme(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const bme={duration:.45,ease:[.4,0,.1,1]},MU=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),EU=MU("applewebkit/")&&!MU("chrome/")?Math.round:Dr;function TU(i){i.min=EU(i.min),i.max=EU(i.max)}function Cme(i){TU(i.x),TU(i.y)}function OK(i,e,t){return i==="position"||i==="preserve-aspect"&&!Epe(_U(e),_U(t),.2)}function Mme(i){var e;return i!==i.root&&((e=i.scroll)===null||e===void 0?void 0:e.wasRoot)}const Eme=FK({attachResizeListener:(i,e)=>Tc(i,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tT={current:void 0},kK=FK({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!tT.current){const i=new Eme({});i.mount(window),i.setOptions({layoutScroll:!0}),tT.current=i}return tT.current},resetTransform:(i,e)=>{i.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),Tme={pan:{Feature:Gpe},drag:{Feature:Hpe,ProjectionNode:kK,MeasureLayout:RK}},iR={current:null},NK={current:!1};function Rme(){if(NK.current=!0,!!XI)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),e=()=>iR.current=i.matches;i.addListener(e),e()}else iR.current=!1}function Pme(i,e,t){for(const n in e){const r=e[n],s=t[n];if(Ir(r))i.addValue(n,r);else if(Ir(s))i.addValue(n,yy(r,{owner:i}));else if(s!==r)if(i.hasValue(n)){const o=i.getValue(n);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=i.getStaticValue(n);i.addValue(n,yy(o!==void 0?o:r,{owner:i}))}}for(const n in t)e[n]===void 0&&i.removeValue(n);return e}const RU=new WeakMap,Ime=[...WX,Mr,Ih],Lme=i=>Ime.find(VX(i)),PU=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Dme=JI.length;class Bme{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cL,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,cn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=SM(t),this.isVariantNode=xX(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(const d in h){const m=h[d];l[d]!==void 0&&Ir(m)&&m.set(l[d],!1)}}mount(e){this.current=e,RU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),NK.current||Rme(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:iR.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){RU.delete(this.current),this.projection&&this.projection.unmount(),Kc(this.notifyUpdate),Kc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Hh.has(e),r=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&cn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in dg){const t=dg[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):oi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<PU.length;n++){const r=PU[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=Pme(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const t={};for(let n=0;n<Dme;n++){const r=JI[n],s=this.props[r];(py(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=yy(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(HX(r)||jX(r))?r=parseFloat(r):!Lme(r)&&Ih.test(t)&&(r=$X(e,t)),this.setBaseTarget(e,Ir(r)?r.get():r)),Ir(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=oL(this.props,n,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ir(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new yL),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class UK extends Bme{constructor(){super(...arguments),this.KeyframeResolver=eK}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}}function Fme(i){return window.getComputedStyle(i)}class Ome extends UK{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=TX}readValueFromInstance(e,t){if(Hh.has(t)){const n=hL(t);return n&&n.default||0}else{const n=Fme(e),r=(bX(t)?n.getPropertyValue(t):n[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return EK(e,t)}build(e,t,n){tL(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return sL(e,t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ir(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}class kme extends UK{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=oi}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Hh.has(t)){const n=hL(t);return n&&n.default||0}return t=RX.has(t)?t:wM(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return IX(e,t,n)}build(e,t,n){iL(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){PX(e,t,n,r)}mount(e){this.isSVGTag=rL(e.tagName),super.mount(e)}}const Nme=(i,e)=>ZI(i)?new kme(e):new Ome(e,{allowProjection:i!==N.Fragment}),Ume={layout:{ProjectionNode:kK,MeasureLayout:RK}},zme={..._pe,...Tfe,...Tme,...Ume},cr=kde((i,e)=>mfe(i,e,zme,Nme));class jme extends N.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Hme({children:i,isPresent:e}){const t=N.useId(),n=N.useRef(null),r=N.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=N.useContext(WI);return N.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=r.current;if(e||!n.current||!o||!a)return;n.current.dataset.motionPopId=t;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),S.jsx(jme,{isPresent:e,childRef:n,sizeRef:r,children:N.cloneElement(i,{ref:n})})}const Gme=({children:i,initial:e,isPresent:t,onExitComplete:n,custom:r,presenceAffectsLayout:s,mode:o})=>{const a=aL(Vme),l=N.useId(),c=N.useMemo(()=>({id:l,initial:e,isPresent:t,custom:r,onExitComplete:u=>{a.set(u,!0);for(const h of a.values())if(!h)return;n&&n()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?[Math.random()]:[t]);return N.useMemo(()=>{a.forEach((u,h)=>a.set(h,!1))},[t]),N.useEffect(()=>{!t&&!a.size&&n&&n()},[t]),o==="popLayout"&&(i=S.jsx(Hme,{isPresent:t,children:i})),S.jsx(AM.Provider,{value:c,children:i})};function Vme(){return new Map}const jw=i=>i.key||"";function IU(i){const e=[];return N.Children.forEach(i,t=>{N.isValidElement(t)&&e.push(t)}),e}const Wme=({children:i,exitBeforeEnter:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=N.useMemo(()=>IU(i),[i]),l=a.map(jw),c=N.useRef(!0),u=N.useRef(a),h=aL(()=>new Map),[d,m]=N.useState(a),[g,y]=N.useState(a);pX(()=>{c.current=!1,u.current=a;for(let A=0;A<g.length;A++){const w=jw(g[A]);l.includes(w)?h.delete(w):h.get(w)!==!0&&h.set(w,!1)}},[g,l.length,l.join("-")]);const _=[];if(a!==d){let A=[...a];for(let w=0;w<g.length;w++){const C=g[w],T=jw(C);l.includes(T)||(A.splice(w,0,C),_.push(C))}o==="wait"&&_.length&&(A=_),y(IU(A)),m(a);return}const{forceRender:v}=N.useContext(qI);return S.jsx(S.Fragment,{children:g.map(A=>{const w=jw(A),C=a===g||l.includes(w),T=()=>{if(h.has(w))h.set(w,!0);else return;let E=!0;h.forEach(R=>{R||(E=!1)}),E&&(v==null||v(),y(u.current),r&&r())};return S.jsx(Gme,{isPresent:C,initial:!c.current||n?void 0:!1,custom:C?void 0:t,presenceAffectsLayout:s,mode:o,onExitComplete:C?void 0:T,children:A},w)})})};function _y(){return _y=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},_y.apply(null,arguments)}const Ax=new V,_L=new V,Xme=new V,LU=new we;function Kme(i,e,t){const n=Ax.setFromMatrixPosition(i.matrixWorld);n.project(e);const r=t.width/2,s=t.height/2;return[n.x*r+r,-(n.y*s)+s]}function Yme(i,e){const t=Ax.setFromMatrixPosition(i.matrixWorld),n=_L.setFromMatrixPosition(e.matrixWorld),r=t.sub(n),s=e.getWorldDirection(Xme);return r.angleTo(s)>Math.PI/2}function Jme(i,e,t,n){const r=Ax.setFromMatrixPosition(i.matrixWorld),s=r.clone();s.project(e),LU.set(s.x,s.y),t.setFromCamera(LU,e);const o=t.intersectObjects(n,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function qme(i,e){if(e instanceof Oo)return e.zoom;if(e instanceof Pn){const t=Ax.setFromMatrixPosition(i.matrixWorld),n=_L.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(n);return 1/(2*Math.tan(r/2)*s)}else return 1}function Zme(i,e,t){if(e instanceof Pn||e instanceof Oo){const n=Ax.setFromMatrixPosition(i.matrixWorld),r=_L.setFromMatrixPosition(e.matrixWorld),s=n.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const rR=i=>Math.abs(i)<1e-10?0:i;function zK(i,e,t=""){let n="matrix3d(";for(let r=0;r!==16;r++)n+=rR(e[r]*i.elements[r])+(r!==15?",":")");return t+n}const Qme=(i=>e=>zK(e,i))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),$me=(i=>(e,t)=>zK(e,i(t),"translate(-50%,-50%)"))(i=>[1/i,1/i,1/i,1,-1/i,-1/i,-1/i,-1,1/i,1/i,1/i,1,1,1,1,1]);function e2e(i){return i&&typeof i=="object"&&"current"in i}const jK=N.forwardRef(({children:i,eps:e=.001,style:t,className:n,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:h,onOcclude:d,castShadow:m,receiveShadow:g,material:y,geometry:_,zIndexRange:v=[16777271,0],calculatePosition:A=Kme,as:w="div",wrapperClass:C,pointerEvents:T="auto",...E},R)=>{const{gl:D,camera:I,scene:L,size:O,raycaster:X,events:W,viewport:q}=na(),[$]=N.useState(()=>document.createElement(w)),Q=N.useRef(),ee=N.useRef(null),k=N.useRef(0),Z=N.useRef([0,0]),K=N.useRef(null),ne=N.useRef(null),le=(a==null?void 0:a.current)||W.connected||D.domElement.parentNode,ye=N.useRef(null),re=N.useRef(!1),pe=N.useMemo(()=>h&&h!=="blending"||Array.isArray(h)&&h.length&&e2e(h[0]),[h]);N.useLayoutEffect(()=>{const Be=D.domElement;h&&h==="blending"?(Be.style.zIndex=`${Math.floor(v[0]/2)}`,Be.style.position="absolute",Be.style.pointerEvents="none"):(Be.style.zIndex=null,Be.style.position=null,Be.style.pointerEvents=null)},[h]),N.useLayoutEffect(()=>{if(ee.current){const Be=Q.current=_G($);if(L.updateMatrixWorld(),u)$.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const He=A(ee.current,I,O);$.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${He[0]}px,${He[1]}px,0);transform-origin:0 0;`}return le&&(r?le.prepend($):le.appendChild($)),()=>{le&&le.removeChild($),Be.unmount()}}},[le,u]),N.useLayoutEffect(()=>{C&&($.className=C)},[C]);const Me=N.useMemo(()=>u?{position:"absolute",top:0,left:0,width:O.width,height:O.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-O.height/2,left:-O.width/2,width:O.width,height:O.height},...t},[t,s,o,O,u]),xe=N.useMemo(()=>({position:"absolute",pointerEvents:T}),[T]);N.useLayoutEffect(()=>{if(re.current=!1,u){var Be;(Be=Q.current)==null||Be.render(N.createElement("div",{ref:K,style:Me},N.createElement("div",{ref:ne,style:xe},N.createElement("div",{ref:R,className:n,style:t,children:i}))))}else{var He;(He=Q.current)==null||He.render(N.createElement("div",{ref:R,style:Me,className:n,children:i}))}});const We=N.useRef(!0);Pg(Be=>{if(ee.current){I.updateMatrixWorld(),ee.current.updateWorldMatrix(!0,!1);const He=u?Z.current:A(ee.current,I,O);if(u||Math.abs(k.current-I.zoom)>e||Math.abs(Z.current[0]-He[0])>e||Math.abs(Z.current[1]-He[1])>e){const G=Yme(ee.current,I);let me=!1;pe&&(Array.isArray(h)?me=h.map(Je=>Je.current):h!=="blending"&&(me=[L]));const Ae=We.current;if(me){const Je=Jme(ee.current,I,X,me);We.current=Je&&!G}else We.current=!G;Ae!==We.current&&(d?d(!We.current):$.style.display=We.current?"block":"none");const Ie=Math.floor(v[0]/2),ge=h?pe?[v[0],Ie]:[Ie-1,0]:v;if($.style.zIndex=`${Zme(ee.current,I,ge)}`,u){const[Je,Ue]=[O.width/2,O.height/2],Ke=I.projectionMatrix.elements[5]*Ue,{isOrthographicCamera:J,top:U,left:ue,bottom:Te,right:Ee}=I,Re=Qme(I.matrixWorldInverse),ot=J?`scale(${Ke})translate(${rR(-(Ee+ue)/2)}px,${rR((U+Te)/2)}px)`:`translateZ(${Ke}px)`;let Le=ee.current.matrixWorld;c&&(Le=I.matrixWorldInverse.clone().transpose().copyPosition(Le).scale(ee.current.scale),Le.elements[3]=Le.elements[7]=Le.elements[11]=0,Le.elements[15]=1),$.style.width=O.width+"px",$.style.height=O.height+"px",$.style.perspective=J?"":`${Ke}px`,K.current&&ne.current&&(K.current.style.transform=`${ot}${Re}translate(${Je}px,${Ue}px)`,ne.current.style.transform=$me(Le,1/((l||10)/400)))}else{const Je=l===void 0?1:qme(ee.current,I)*l;$.style.transform=`translate3d(${He[0]}px,${He[1]}px,0) scale(${Je})`}Z.current=He,k.current=I.zoom}}if(!pe&&ye.current&&!re.current)if(u){if(K.current){const He=K.current.children[0];if(He!=null&&He.clientWidth&&He!=null&&He.clientHeight){const{isOrthographicCamera:G}=I;if(G||_)E.scale&&(Array.isArray(E.scale)?E.scale instanceof V?ye.current.scale.copy(E.scale.clone().divideScalar(1)):ye.current.scale.set(1/E.scale[0],1/E.scale[1],1/E.scale[2]):ye.current.scale.setScalar(1/E.scale));else{const me=(l||10)/400,Ae=He.clientWidth*me,Ie=He.clientHeight*me;ye.current.scale.set(Ae,Ie,1)}re.current=!0}}}else{const He=$.children[0];if(He!=null&&He.clientWidth&&He!=null&&He.clientHeight){const G=1/q.factor,me=He.clientWidth*G,Ae=He.clientHeight*G;ye.current.scale.set(me,Ae,1),re.current=!0}ye.current.lookAt(Be.camera.position)}});const rt=N.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return N.createElement("group",_y({},E,{ref:ee}),h&&!pe&&N.createElement("mesh",{castShadow:m,receiveShadow:g,ref:ye},_||N.createElement("planeGeometry",null),y||N.createElement("shaderMaterial",{side:Lo,vertexShader:rt.vertexShader,fragmentShader:rt.fragmentShader})))});let C1=0;const HK=GW(i=>(rm.onStart=(e,t,n)=>{i({active:!0,item:e,loaded:t,total:n,progress:(t-C1)/(n-C1)*100})},rm.onLoad=()=>{i({active:!1})},rm.onError=e=>i(t=>({errors:[...t.errors,e]})),rm.onProgress=(e,t,n)=>{t===n&&(C1=n),i({active:!0,item:e,loaded:t,total:n,progress:(t-C1)/(n-C1)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function DU(i,e){if(e===SV)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),i;if(e===t4||e===aI){let t=i.getIndex();if(t===null){const o=[],a=i.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);i.setIndex(o),t=i.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),i}const n=t.count-2,r=[];if(t)if(e===t4)for(let o=1;o<=n;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<n;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=i.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),i}const t2e=parseInt(nx.replace(/\D+/g,""));var n2e=Object.defineProperty,i2e=(i,e,t)=>e in i?n2e(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,St=(i,e,t)=>(i2e(i,typeof e!="symbol"?e+"":e,t),t);const Hw=new N0,BU=new Xl,r2e=Math.cos(70*(Math.PI/180)),FU=(i,e)=>(i%e+e)%e;let s2e=class extends wl{constructor(e,t){super(),St(this,"object"),St(this,"domElement"),St(this,"enabled",!0),St(this,"target",new V),St(this,"minDistance",0),St(this,"maxDistance",1/0),St(this,"minZoom",0),St(this,"maxZoom",1/0),St(this,"minPolarAngle",0),St(this,"maxPolarAngle",Math.PI),St(this,"minAzimuthAngle",-1/0),St(this,"maxAzimuthAngle",1/0),St(this,"enableDamping",!1),St(this,"dampingFactor",.05),St(this,"enableZoom",!0),St(this,"zoomSpeed",1),St(this,"enableRotate",!0),St(this,"rotateSpeed",1),St(this,"enablePan",!0),St(this,"panSpeed",1),St(this,"screenSpacePanning",!0),St(this,"keyPanSpeed",7),St(this,"zoomToCursor",!1),St(this,"autoRotate",!1),St(this,"autoRotateSpeed",2),St(this,"reverseOrbit",!1),St(this,"reverseHorizontalOrbit",!1),St(this,"reverseVerticalOrbit",!1),St(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),St(this,"mouseButtons",{LEFT:Ad.ROTATE,MIDDLE:Ad.DOLLY,RIGHT:Ad.PAN}),St(this,"touches",{ONE:wd.ROTATE,TWO:wd.DOLLY_PAN}),St(this,"target0"),St(this,"position0"),St(this,"zoom0"),St(this,"_domElementKeyEvents",null),St(this,"getPolarAngle"),St(this,"getAzimuthalAngle"),St(this,"setPolarAngle"),St(this,"setAzimuthalAngle"),St(this,"getDistance"),St(this,"listenToKeyEvents"),St(this,"stopListenToKeyEvents"),St(this,"saveState"),St(this,"reset"),St(this,"update"),St(this,"connect"),St(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=ie=>{let be=FU(ie,2*Math.PI),qe=u.phi;qe<0&&(qe+=2*Math.PI),be<0&&(be+=2*Math.PI);let te=Math.abs(be-qe);2*Math.PI-te<te&&(be<qe?be+=2*Math.PI:qe+=2*Math.PI),h.phi=be-qe,n.update()},this.setAzimuthalAngle=ie=>{let be=FU(ie,2*Math.PI),qe=u.theta;qe<0&&(qe+=2*Math.PI),be<0&&(be+=2*Math.PI);let te=Math.abs(be-qe);2*Math.PI-te<te&&(be<qe?be+=2*Math.PI:qe+=2*Math.PI),h.theta=be-qe,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=ie=>{ie.addEventListener("keydown",Le),this._domElementKeyEvents=ie},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Le),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),l=a.NONE},this.update=(()=>{const ie=new V,be=new V(0,1,0),qe=new Xi().setFromUnitVectors(e.up,be),te=qe.clone().invert(),Pe=new V,Se=new Xi,Ce=2*Math.PI;return function(){const gt=n.object.position;qe.setFromUnitVectors(e.up,be),te.copy(qe).invert(),ie.copy(gt).sub(n.target),ie.applyQuaternion(qe),u.setFromVector3(ie),n.autoRotate&&l===a.NONE&&q(X()),n.enableDamping?(u.theta+=h.theta*n.dampingFactor,u.phi+=h.phi*n.dampingFactor):(u.theta+=h.theta,u.phi+=h.phi);let Ct=n.minAzimuthAngle,Kt=n.maxAzimuthAngle;isFinite(Ct)&&isFinite(Kt)&&(Ct<-Math.PI?Ct+=Ce:Ct>Math.PI&&(Ct-=Ce),Kt<-Math.PI?Kt+=Ce:Kt>Math.PI&&(Kt-=Ce),Ct<=Kt?u.theta=Math.max(Ct,Math.min(Kt,u.theta)):u.theta=u.theta>(Ct+Kt)/2?Math.max(Ct,u.theta):Math.min(Kt,u.theta)),u.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,u.phi)),u.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(m,n.dampingFactor):n.target.add(m),n.zoomToCursor&&I||n.object.isOrthographicCamera?u.radius=le(u.radius):u.radius=le(u.radius*d),ie.setFromSpherical(u),ie.applyQuaternion(te),gt.copy(n.target).add(ie),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(h.theta*=1-n.dampingFactor,h.phi*=1-n.dampingFactor,m.multiplyScalar(1-n.dampingFactor)):(h.set(0,0,0),m.set(0,0,0));let Mn=!1;if(n.zoomToCursor&&I){let Ft=null;if(n.object instanceof Pn&&n.object.isPerspectiveCamera){const Li=ie.length();Ft=le(Li*d);const Di=Li-Ft;n.object.position.addScaledVector(R,Di),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const Li=new V(D.x,D.y,0);Li.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/d)),n.object.updateProjectionMatrix(),Mn=!0;const Di=new V(D.x,D.y,0);Di.unproject(n.object),n.object.position.sub(Di).add(Li),n.object.updateMatrixWorld(),Ft=ie.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;Ft!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(Ft).add(n.object.position):(Hw.origin.copy(n.object.position),Hw.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(Hw.direction))<r2e?e.lookAt(n.target):(BU.setFromNormalAndCoplanarPoint(n.object.up,n.target),Hw.intersectPlane(BU,n.target))))}else n.object instanceof Oo&&n.object.isOrthographicCamera&&(Mn=d!==1,Mn&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/d)),n.object.updateProjectionMatrix()));return d=1,I=!1,Mn||Pe.distanceToSquared(n.object.position)>c||8*(1-Se.dot(n.object.quaternion))>c?(n.dispatchEvent(r),Pe.copy(n.object.position),Se.copy(n.object.quaternion),Mn=!1,!0):!1}})(),this.connect=ie=>{ie===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),n.domElement=ie,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",De),n.domElement.addEventListener("pointerdown",U),n.domElement.addEventListener("pointercancel",Te),n.domElement.addEventListener("wheel",ot)},this.dispose=()=>{var ie,be,qe,te,Pe,Se;n.domElement&&(n.domElement.style.touchAction="auto"),(ie=n.domElement)==null||ie.removeEventListener("contextmenu",De),(be=n.domElement)==null||be.removeEventListener("pointerdown",U),(qe=n.domElement)==null||qe.removeEventListener("pointercancel",Te),(te=n.domElement)==null||te.removeEventListener("wheel",ot),(Pe=n.domElement)==null||Pe.ownerDocument.removeEventListener("pointermove",ue),(Se=n.domElement)==null||Se.ownerDocument.removeEventListener("pointerup",Te),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",Le)};const n=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new U9,h=new U9;let d=1;const m=new V,g=new we,y=new we,_=new we,v=new we,A=new we,w=new we,C=new we,T=new we,E=new we,R=new V,D=new we;let I=!1;const L=[],O={};function X(){return 2*Math.PI/60/60*n.autoRotateSpeed}function W(){return Math.pow(.95,n.zoomSpeed)}function q(ie){n.reverseOrbit||n.reverseHorizontalOrbit?h.theta+=ie:h.theta-=ie}function $(ie){n.reverseOrbit||n.reverseVerticalOrbit?h.phi+=ie:h.phi-=ie}const Q=(()=>{const ie=new V;return function(qe,te){ie.setFromMatrixColumn(te,0),ie.multiplyScalar(-qe),m.add(ie)}})(),ee=(()=>{const ie=new V;return function(qe,te){n.screenSpacePanning===!0?ie.setFromMatrixColumn(te,1):(ie.setFromMatrixColumn(te,0),ie.crossVectors(n.object.up,ie)),ie.multiplyScalar(qe),m.add(ie)}})(),k=(()=>{const ie=new V;return function(qe,te){const Pe=n.domElement;if(Pe&&n.object instanceof Pn&&n.object.isPerspectiveCamera){const Se=n.object.position;ie.copy(Se).sub(n.target);let Ce=ie.length();Ce*=Math.tan(n.object.fov/2*Math.PI/180),Q(2*qe*Ce/Pe.clientHeight,n.object.matrix),ee(2*te*Ce/Pe.clientHeight,n.object.matrix)}else Pe&&n.object instanceof Oo&&n.object.isOrthographicCamera?(Q(qe*(n.object.right-n.object.left)/n.object.zoom/Pe.clientWidth,n.object.matrix),ee(te*(n.object.top-n.object.bottom)/n.object.zoom/Pe.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function Z(ie){n.object instanceof Pn&&n.object.isPerspectiveCamera||n.object instanceof Oo&&n.object.isOrthographicCamera?d/=ie:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function K(ie){n.object instanceof Pn&&n.object.isPerspectiveCamera||n.object instanceof Oo&&n.object.isOrthographicCamera?d*=ie:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function ne(ie){if(!n.zoomToCursor||!n.domElement)return;I=!0;const be=n.domElement.getBoundingClientRect(),qe=ie.clientX-be.left,te=ie.clientY-be.top,Pe=be.width,Se=be.height;D.x=qe/Pe*2-1,D.y=-(te/Se)*2+1,R.set(D.x,D.y,1).unproject(n.object).sub(n.object.position).normalize()}function le(ie){return Math.max(n.minDistance,Math.min(n.maxDistance,ie))}function ye(ie){g.set(ie.clientX,ie.clientY)}function re(ie){ne(ie),C.set(ie.clientX,ie.clientY)}function pe(ie){v.set(ie.clientX,ie.clientY)}function Me(ie){y.set(ie.clientX,ie.clientY),_.subVectors(y,g).multiplyScalar(n.rotateSpeed);const be=n.domElement;be&&(q(2*Math.PI*_.x/be.clientHeight),$(2*Math.PI*_.y/be.clientHeight)),g.copy(y),n.update()}function xe(ie){T.set(ie.clientX,ie.clientY),E.subVectors(T,C),E.y>0?Z(W()):E.y<0&&K(W()),C.copy(T),n.update()}function We(ie){A.set(ie.clientX,ie.clientY),w.subVectors(A,v).multiplyScalar(n.panSpeed),k(w.x,w.y),v.copy(A),n.update()}function rt(ie){ne(ie),ie.deltaY<0?K(W()):ie.deltaY>0&&Z(W()),n.update()}function Be(ie){let be=!1;switch(ie.code){case n.keys.UP:k(0,n.keyPanSpeed),be=!0;break;case n.keys.BOTTOM:k(0,-n.keyPanSpeed),be=!0;break;case n.keys.LEFT:k(n.keyPanSpeed,0),be=!0;break;case n.keys.RIGHT:k(-n.keyPanSpeed,0),be=!0;break}be&&(ie.preventDefault(),n.update())}function He(){if(L.length==1)g.set(L[0].pageX,L[0].pageY);else{const ie=.5*(L[0].pageX+L[1].pageX),be=.5*(L[0].pageY+L[1].pageY);g.set(ie,be)}}function G(){if(L.length==1)v.set(L[0].pageX,L[0].pageY);else{const ie=.5*(L[0].pageX+L[1].pageX),be=.5*(L[0].pageY+L[1].pageY);v.set(ie,be)}}function me(){const ie=L[0].pageX-L[1].pageX,be=L[0].pageY-L[1].pageY,qe=Math.sqrt(ie*ie+be*be);C.set(0,qe)}function Ae(){n.enableZoom&&me(),n.enablePan&&G()}function Ie(){n.enableZoom&&me(),n.enableRotate&&He()}function ge(ie){if(L.length==1)y.set(ie.pageX,ie.pageY);else{const qe=et(ie),te=.5*(ie.pageX+qe.x),Pe=.5*(ie.pageY+qe.y);y.set(te,Pe)}_.subVectors(y,g).multiplyScalar(n.rotateSpeed);const be=n.domElement;be&&(q(2*Math.PI*_.x/be.clientHeight),$(2*Math.PI*_.y/be.clientHeight)),g.copy(y)}function Je(ie){if(L.length==1)A.set(ie.pageX,ie.pageY);else{const be=et(ie),qe=.5*(ie.pageX+be.x),te=.5*(ie.pageY+be.y);A.set(qe,te)}w.subVectors(A,v).multiplyScalar(n.panSpeed),k(w.x,w.y),v.copy(A)}function Ue(ie){const be=et(ie),qe=ie.pageX-be.x,te=ie.pageY-be.y,Pe=Math.sqrt(qe*qe+te*te);T.set(0,Pe),E.set(0,Math.pow(T.y/C.y,n.zoomSpeed)),Z(E.y),C.copy(T)}function Ke(ie){n.enableZoom&&Ue(ie),n.enablePan&&Je(ie)}function J(ie){n.enableZoom&&Ue(ie),n.enableRotate&&ge(ie)}function U(ie){var be,qe;n.enabled!==!1&&(L.length===0&&((be=n.domElement)==null||be.ownerDocument.addEventListener("pointermove",ue),(qe=n.domElement)==null||qe.ownerDocument.addEventListener("pointerup",Te)),Ze(ie),ie.pointerType==="touch"?Xe(ie):Ee(ie))}function ue(ie){n.enabled!==!1&&(ie.pointerType==="touch"?yt(ie):Re(ie))}function Te(ie){var be,qe,te;kt(ie),L.length===0&&((be=n.domElement)==null||be.releasePointerCapture(ie.pointerId),(qe=n.domElement)==null||qe.ownerDocument.removeEventListener("pointermove",ue),(te=n.domElement)==null||te.ownerDocument.removeEventListener("pointerup",Te)),n.dispatchEvent(o),l=a.NONE}function Ee(ie){let be;switch(ie.button){case 0:be=n.mouseButtons.LEFT;break;case 1:be=n.mouseButtons.MIDDLE;break;case 2:be=n.mouseButtons.RIGHT;break;default:be=-1}switch(be){case Ad.DOLLY:if(n.enableZoom===!1)return;re(ie),l=a.DOLLY;break;case Ad.ROTATE:if(ie.ctrlKey||ie.metaKey||ie.shiftKey){if(n.enablePan===!1)return;pe(ie),l=a.PAN}else{if(n.enableRotate===!1)return;ye(ie),l=a.ROTATE}break;case Ad.PAN:if(ie.ctrlKey||ie.metaKey||ie.shiftKey){if(n.enableRotate===!1)return;ye(ie),l=a.ROTATE}else{if(n.enablePan===!1)return;pe(ie),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&n.dispatchEvent(s)}function Re(ie){if(n.enabled!==!1)switch(l){case a.ROTATE:if(n.enableRotate===!1)return;Me(ie);break;case a.DOLLY:if(n.enableZoom===!1)return;xe(ie);break;case a.PAN:if(n.enablePan===!1)return;We(ie);break}}function ot(ie){n.enabled===!1||n.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(ie.preventDefault(),n.dispatchEvent(s),rt(ie),n.dispatchEvent(o))}function Le(ie){n.enabled===!1||n.enablePan===!1||Be(ie)}function Xe(ie){switch(_t(ie),L.length){case 1:switch(n.touches.ONE){case wd.ROTATE:if(n.enableRotate===!1)return;He(),l=a.TOUCH_ROTATE;break;case wd.PAN:if(n.enablePan===!1)return;G(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(n.touches.TWO){case wd.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Ae(),l=a.TOUCH_DOLLY_PAN;break;case wd.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Ie(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&n.dispatchEvent(s)}function yt(ie){switch(_t(ie),l){case a.TOUCH_ROTATE:if(n.enableRotate===!1)return;ge(ie),n.update();break;case a.TOUCH_PAN:if(n.enablePan===!1)return;Je(ie),n.update();break;case a.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Ke(ie),n.update();break;case a.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;J(ie),n.update();break;default:l=a.NONE}}function De(ie){n.enabled!==!1&&ie.preventDefault()}function Ze(ie){L.push(ie)}function kt(ie){delete O[ie.pointerId];for(let be=0;be<L.length;be++)if(L[be].pointerId==ie.pointerId){L.splice(be,1);return}}function _t(ie){let be=O[ie.pointerId];be===void 0&&(be=new we,O[ie.pointerId]=be),be.set(ie.pageX,ie.pageY)}function et(ie){const be=ie.pointerId===L[0].pointerId?L[1]:L[0];return O[be.pointerId]}t!==void 0&&this.connect(t),this.update()}};function f4(i){if(typeof TextDecoder<"u")return new TextDecoder().decode(i);let e="";for(let t=0,n=i.length;t<n;t++)e+=String.fromCharCode(i[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Wd="srgb",Oc="srgb-linear",OU=3001,o2e=3e3;class xL extends Nr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new h2e(t)}),this.register(function(t){return new d2e(t)}),this.register(function(t){return new A2e(t)}),this.register(function(t){return new w2e(t)}),this.register(function(t){return new S2e(t)}),this.register(function(t){return new p2e(t)}),this.register(function(t){return new m2e(t)}),this.register(function(t){return new g2e(t)}),this.register(function(t){return new v2e(t)}),this.register(function(t){return new u2e(t)}),this.register(function(t){return new y2e(t)}),this.register(function(t){return new f2e(t)}),this.register(function(t){return new x2e(t)}),this.register(function(t){return new _2e(t)}),this.register(function(t){return new l2e(t)}),this.register(function(t){return new b2e(t)}),this.register(function(t){return new C2e(t)})}load(e,t,n,r){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=xh.extractUrlBase(e);o=xh.resolveURL(c,this.path)}else o=xh.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new no(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},n,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(f4(new Uint8Array(e.slice(0,4)))===GK){try{o[Ut.KHR_BINARY_GLTF]=new M2e(e)}catch(u){r&&r(u);return}s=JSON.parse(o[Ut.KHR_BINARY_GLTF].content)}else s=JSON.parse(f4(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new U2e(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);u.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],h=s.extensionsRequired||[];switch(u){case Ut.KHR_MATERIALS_UNLIT:o[u]=new c2e;break;case Ut.KHR_DRACO_MESH_COMPRESSION:o[u]=new E2e(s,this.dracoLoader);break;case Ut.KHR_TEXTURE_TRANSFORM:o[u]=new T2e;break;case Ut.KHR_MESH_QUANTIZATION:o[u]=new R2e;break;default:h.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(n,r)}parseAsync(e,t){const n=this;return new Promise(function(r,s){n.parse(e,t,r,s)})}}function a2e(){let i={};return{get:function(e){return i[e]},add:function(e,t){i[e]=t},remove:function(e){delete i[e]},removeAll:function(){i={}}}}const Ut={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class l2e{constructor(e){this.parser=e,this.name=Ut.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,r=t.length;n<r;n++){const s=t[n];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let r=t.cache.get(n);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new Ge(16777215);l.color!==void 0&&u.setRGB(l.color[0],l.color[1],l.color[2],Oc);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new FI(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new BI(u),c.distance=h;break;case"spot":c=new DI(u),c.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,zl(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(n,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,s=n.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return n._getNodeRef(t.cache,a,l)})}}class c2e{constructor(){this.name=Ut.KHR_MATERIALS_UNLIT}getMaterialType(){return Js}extendParams(e,t,n){const r=[];e.color=new Ge(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Oc),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(n.assignTexture(e,"map",s.baseColorTexture,Wd))}return Promise.all(r)}}class u2e{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class h2e{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Go}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(n.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(n.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(n.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new we(a,a)}return Promise.all(s)}}class d2e{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_DISPERSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Go}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class f2e{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Go}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(n.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(n.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class p2e{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Go}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Ge(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],Oc)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(n.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Wd)),o.sheenRoughnessTexture!==void 0&&s.push(n.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class m2e{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Go}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(n.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class g2e{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Go}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(n.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Ge().setRGB(a[0],a[1],a[2],Oc),Promise.all(s)}}class v2e{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Go}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class y2e{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Go}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(n.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Ge().setRGB(a[0],a[1],a[2],Oc),o.specularColorTexture!==void 0&&s.push(n.assignTexture(t,"specularColorMap",o.specularColorTexture,Wd)),Promise.all(s)}}class _2e{constructor(e){this.parser=e,this.name=Ut.EXT_MATERIALS_BUMP}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Go}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(n.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class x2e{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:Go}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(n.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class A2e{constructor(e){this.parser=e,this.name=Ut.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class w2e{constructor(e){this.parser=e,this.name=Ut.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=n.textureLoader;if(a.uri){const c=n.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return n.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class S2e{constructor(e){this.parser=e,this.name=Ut.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=n.textureLoader;if(a.uri){const c=n.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return n.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class b2e{constructor(e){this.name=Ut.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const r=n.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,u=r.count,h=r.byteStride,d=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,h,d,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*h);return o.decodeGltfBuffer(new Uint8Array(m),u,h,d,r.mode,r.filter),m})})}else return null}}class C2e{constructor(e){this.name=Ut.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const r=t.meshes[n.mesh];for(const c of r.primitives)if(c.mode!==wo.TRIANGLES&&c.mode!==wo.TRIANGLE_STRIP&&c.mode!==wo.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=n.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),h=u.isGroup?u.children:[u],d=c[0].count,m=[];for(const g of h){const y=new pt,_=new V,v=new Xi,A=new V(1,1,1),w=new _I(g.geometry,g.material,d);for(let C=0;C<d;C++)l.TRANSLATION&&_.fromBufferAttribute(l.TRANSLATION,C),l.ROTATION&&v.fromBufferAttribute(l.ROTATION,C),l.SCALE&&A.fromBufferAttribute(l.SCALE,C),w.setMatrixAt(C,y.compose(_,v,A));for(const C in l)if(C==="_COLOR_0"){const T=l[C];w.instanceColor=new A0(T.array,T.itemSize,T.normalized)}else C!=="TRANSLATION"&&C!=="ROTATION"&&C!=="SCALE"&&g.geometry.setAttribute(C,l[C]);zt.prototype.copy.call(w,g),this.parser.assignFinalMaterial(w),m.push(w)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}}const GK="glTF",M1=12,kU={JSON:1313821514,BIN:5130562};class M2e{constructor(e){this.name=Ut.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,M1);if(this.header={magic:f4(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==GK)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-M1,r=new DataView(e,M1);let s=0;for(;s<n;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===kU.JSON){const l=new Uint8Array(e,M1+s,o);this.content=f4(l)}else if(a===kU.BIN){const l=M1+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class E2e{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Ut.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const h=sR[u]||u.toLowerCase();a[h]=o[u]}for(const u in e.attributes){const h=sR[u]||u.toLowerCase();if(o[u]!==void 0){const d=n.accessors[e.attributes[u]],m=Sm[d.componentType];c[h]=m.name,l[h]=d.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(h,d){r.decodeDracoFile(u,function(m){for(const g in m.attributes){const y=m.attributes[g],_=l[g];_!==void 0&&(y.normalized=_)}h(m)},a,c,Oc,d)})})}}class T2e{constructor(){this.name=Ut.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class R2e{constructor(){this.name=Ut.KHR_MESH_QUANTIZATION}}class VK extends Rg{constructor(e,t,n,r){super(e,t,n,r)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=n[s+o];return t}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=r-t,h=(n-t)/u,d=h*h,m=d*h,g=e*c,y=g-c,_=-2*m+3*d,v=m-d,A=1-_,w=v-d+h;for(let C=0;C!==a;C++){const T=o[y+C+a],E=o[y+C+l]*u,R=o[g+C+a],D=o[g+C]*u;s[C]=A*T+w*E+_*R+v*D}return s}}const P2e=new Xi;class I2e extends VK{interpolate_(e,t,n,r){const s=super.interpolate_(e,t,n,r);return P2e.fromArray(s).normalize().toArray(s),s}}const wo={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Sm={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},NU={9728:Ri,9729:$n,9984:GC,9985:xm,9986:Nd,9987:Fo},UU={33071:Ys,33648:rg,10497:Th},nT={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},sR={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...t2e>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},gu={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},L2e={CUBICSPLINE:void 0,LINEAR:ag,STEP:og},iT={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function D2e(i){return i.DefaultMaterial===void 0&&(i.DefaultMaterial=new px({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:_l})),i.DefaultMaterial}function pd(i,e,t){for(const n in t.extensions)i[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function zl(i,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(i.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function B2e(i,e,t){let n=!1,r=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const h=e[c];if(h.POSITION!==void 0&&(n=!0),h.NORMAL!==void 0&&(r=!0),h.COLOR_0!==void 0&&(s=!0),n&&r&&s)break}if(!n&&!r&&!s)return Promise.resolve(i);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const h=e[c];if(n){const d=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):i.attributes.position;o.push(d)}if(r){const d=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):i.attributes.normal;a.push(d)}if(s){const d=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):i.attributes.color;l.push(d)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],h=c[1],d=c[2];return n&&(i.morphAttributes.position=u),r&&(i.morphAttributes.normal=h),s&&(i.morphAttributes.color=d),i.morphTargetsRelative=!0,i})}function F2e(i,e){if(i.updateMorphTargets(),e.weights!==void 0)for(let t=0,n=e.weights.length;t<n;t++)i.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(i.morphTargetInfluences.length===t.length){i.morphTargetDictionary={};for(let n=0,r=t.length;n<r;n++)i.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function O2e(i){let e;const t=i.extensions&&i.extensions[Ut.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+rT(t.attributes):e=i.indices+":"+rT(i.attributes)+":"+i.mode,i.targets!==void 0)for(let n=0,r=i.targets.length;n<r;n++)e+=":"+rT(i.targets[n]);return e}function rT(i){let e="";const t=Object.keys(i).sort();for(let n=0,r=t.length;n<r;n++)e+=t[n]+":"+i[t[n]]+";";return e}function oR(i){switch(i){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function k2e(i){return i.search(/\.jpe?g($|\?)/i)>0||i.search(/^data\:image\/jpeg/)===0?"image/jpeg":i.search(/\.webp($|\?)/i)>0||i.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const N2e=new pt;class U2e{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new a2e,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||n||r&&s<98?this.textureLoader=new MW(this.options.manager):this.textureLoader=new BW(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new no(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:n,userData:{}};return pd(s,a,r),zl(a,r),Promise.all(n._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(n[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const r=n.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(n,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const r=e(t[n]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&n.push(s)}return n}getDependency(e,t){const n=e+":"+t;let r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(n,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return n.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Ut.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){n.load(xh.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const r=t.byteLength||0,s=t.byteOffset||0;return n.slice(s,s+r)})}loadAccessor(e){const t=this,n=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=nT[r.type],a=Sm[r.componentType],l=r.normalized===!0,c=new a(r.count*o);return Promise.resolve(new Zt(c,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=nT[r.type],c=Sm[r.componentType],u=c.BYTES_PER_ELEMENT,h=u*l,d=r.byteOffset||0,m=r.bufferView!==void 0?n.bufferViews[r.bufferView].byteStride:void 0,g=r.normalized===!0;let y,_;if(m&&m!==h){const v=Math.floor(d/m),A="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+v+":"+r.count;let w=t.cache.get(A);w||(y=new c(a,v*m,r.count*m/u),w=new cx(y,m/u),t.cache.add(A,w)),_=new Rh(w,l,d%m/u,g)}else a===null?y=new c(r.count*l):y=new c(a,d,r.count*l),_=new Zt(y,l,g);if(r.sparse!==void 0){const v=nT.SCALAR,A=Sm[r.sparse.indices.componentType],w=r.sparse.indices.byteOffset||0,C=r.sparse.values.byteOffset||0,T=new A(o[1],w,r.sparse.count*v),E=new c(o[2],C,r.sparse.count*l);a!==null&&(_=new Zt(_.array.slice(),_.itemSize,_.normalized));for(let R=0,D=T.length;R<D;R++){const I=T[R];if(_.setX(I,E[R*l]),l>=2&&_.setY(I,E[R*l+1]),l>=3&&_.setZ(I,E[R*l+2]),l>=4&&_.setW(I,E[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _})}loadTexture(e){const t=this.json,n=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=n.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,n){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,n).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const d=(s.samplers||{})[o.sampler]||{};return u.magFilter=NU[d.magFilter]||$n,u.minFilter=NU[d.minFilter]||Fo,u.wrapS=UU[d.wrapS]||Th,u.wrapT=UU[d.wrapT]||Th,r.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const n=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=n.getDependency("bufferView",o.bufferView).then(function(h){c=!0;const d=new Blob([h],{type:o.mimeType});return l=a.createObjectURL(d),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(h){return new Promise(function(d,m){let g=d;t.isImageBitmapLoader===!0&&(g=function(y){const _=new Ln(y);_.needsUpdate=!0,d(_)}),t.load(xh.resolveURL(h,s.path),g,void 0,m)})}).then(function(h){return c===!0&&a.revokeObjectURL(l),zl(h,o),h.userData.mimeType=o.mimeType||k2e(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=u,u}assignTexture(e,t,n,r){const s=this;return this.getDependency("texture",n.index).then(function(o){if(!o)return null;if(n.texCoord!==void 0&&n.texCoord>0&&(o=o.clone(),o.channel=n.texCoord),s.extensions[Ut.KHR_TEXTURE_TRANSFORM]){const a=n.extensions!==void 0?n.extensions[Ut.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Ut.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(typeof r=="number"&&(r=r===OU?Wd:Oc),"colorSpace"in o?o.colorSpace=r:o.encoding=r===Wd?OU:o2e),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+n.uuid;let l=this.cache.get(a);l||(l=new iM,_i.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,l.sizeAttenuation=!1,this.cache.add(a,l)),n=l}else if(e.isLine){const a="LineBasicMaterial:"+n.uuid;let l=this.cache.get(a);l||(l=new kr,_i.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,this.cache.add(a,l)),n=l}if(r||s||o){let a="ClonedMaterial:"+n.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=n.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(n))),n=l}e.material=n}getMaterialType(){return px}loadMaterial(e){const t=this,n=this.json,r=this.extensions,s=n.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Ut.KHR_MATERIALS_UNLIT]){const h=r[Ut.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),c.push(h.extendParams(a,s,t))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new Ge(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const d=h.baseColorFactor;a.color.setRGB(d[0],d[1],d[2],Oc),a.opacity=d[3]}h.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",h.baseColorTexture,Wd)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Lo);const u=s.alphaMode||iT.OPAQUE;if(u===iT.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===iT.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Js&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new we(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}if(s.occlusionTexture!==void 0&&o!==Js&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Js){const h=s.emissiveFactor;a.emissive=new Ge().setRGB(h[0],h[1],h[2],Oc)}return s.emissiveTexture!==void 0&&o!==Js&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,Wd)),Promise.all(c).then(function(){const h=new o(a);return s.name&&(h.name=s.name),zl(h,s),t.associations.set(h,{materials:e}),s.extensions&&pd(r,h,s),h})}createUniqueName(e){const t=Vt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,r=this.primitiveCache;function s(a){return n[Ut.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return zU(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=O2e(c),h=r[u];if(h)o.push(h.promise);else{let d;c.extensions&&c.extensions[Ut.KHR_DRACO_MESH_COMPRESSION]?d=s(c):d=zU(new Pt,c,t),r[u]={primitive:c,promise:d},o.push(d)}}return Promise.all(o)}loadMesh(e){const t=this,n=this.json,r=this.extensions,s=n.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?D2e(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],h=[];for(let m=0,g=u.length;m<g;m++){const y=u[m],_=o[m];let v;const A=c[m];if(_.mode===wo.TRIANGLES||_.mode===wo.TRIANGLE_STRIP||_.mode===wo.TRIANGLE_FAN||_.mode===void 0)v=s.isSkinnedMesh===!0?new yI(y,A):new ci(y,A),v.isSkinnedMesh===!0&&v.normalizeSkinWeights(),_.mode===wo.TRIANGLE_STRIP?v.geometry=DU(v.geometry,aI):_.mode===wo.TRIANGLE_FAN&&(v.geometry=DU(v.geometry,t4));else if(_.mode===wo.LINES)v=new Ta(y,A);else if(_.mode===wo.LINE_STRIP)v=new Xc(y,A);else if(_.mode===wo.LINE_LOOP)v=new xI(y,A);else if(_.mode===wo.POINTS)v=new AI(y,A);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(v.geometry.morphAttributes).length>0&&F2e(v,s),v.name=t.createUniqueName(s.name||"mesh_"+e),zl(v,s),_.extensions&&pd(r,v,_),t.assignFinalMaterial(v),h.push(v)}for(let m=0,g=h.length;m<g;m++)t.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return s.extensions&&pd(r,h[0],s),h[0];const d=new Mc;s.extensions&&pd(r,d,s),t.associations.set(d,{meshes:e});for(let m=0,g=h.length;m<g;m++)d.add(h[m]);return d})}loadCamera(e){let t;const n=this.json.cameras[e],r=n[n.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?t=new Pn(BV.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):n.type==="orthographic"&&(t=new Oo(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),zl(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n=[];for(let r=0,s=t.joints.length;r<s;r++)n.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const h=o[c];if(h){a.push(h);const d=new pt;s!==null&&d.fromArray(s.array,c*16),l.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new ux(a,l)})}loadAnimation(e){const t=this.json,n=this,r=t.animations[e],s=r.name?r.name:"animation_"+e,o=[],a=[],l=[],c=[],u=[];for(let h=0,d=r.channels.length;h<d;h++){const m=r.channels[h],g=r.samplers[m.sampler],y=m.target,_=y.node,v=r.parameters!==void 0?r.parameters[g.input]:g.input,A=r.parameters!==void 0?r.parameters[g.output]:g.output;y.node!==void 0&&(o.push(this.getDependency("node",_)),a.push(this.getDependency("accessor",v)),l.push(this.getDependency("accessor",A)),c.push(g),u.push(y))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(u)]).then(function(h){const d=h[0],m=h[1],g=h[2],y=h[3],_=h[4],v=[];for(let A=0,w=d.length;A<w;A++){const C=d[A],T=m[A],E=g[A],R=y[A],D=_[A];if(C===void 0)continue;C.updateMatrix&&C.updateMatrix();const I=n._createAnimationTracks(C,T,E,R,D);if(I)for(let L=0;L<I.length;L++)v.push(I[L])}return new ug(s,void 0,v)})}createNodeMesh(e){const t=this.json,n=this,r=t.nodes[e];return r.mesh===void 0?null:n.getDependency("mesh",r.mesh).then(function(s){const o=n._getNodeRef(n.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,n=this,r=t.nodes[e],s=n._loadNodeShallow(e),o=[],a=r.children||[];for(let c=0,u=a.length;c<u;c++)o.push(n.getDependency("node",a[c]));const l=r.skin===void 0?Promise.resolve(null):n.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],h=c[1],d=c[2];d!==null&&u.traverse(function(m){m.isSkinnedMesh&&m.bind(d,N2e)});for(let m=0,g=h.length;m<g;m++)u.add(h[m]);return u})}_loadNodeShallow(e){const t=this.json,n=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new nM:c.length>1?u=new Mc:c.length===1?u=c[0]:u=new zt,u!==c[0])for(let h=0,d=c.length;h<d;h++)u.add(c[h]);if(s.name&&(u.userData.name=s.name,u.name=o),zl(u,s),s.extensions&&pd(n,u,s),s.matrix!==void 0){const h=new pt;h.fromArray(s.matrix),u.applyMatrix4(h)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return r.associations.has(u)||r.associations.set(u,{}),r.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],r=this,s=new Mc;n.name&&(s.name=r.createUniqueName(n.name)),zl(s,n),n.extensions&&pd(t,s,n);const o=n.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,h=l.length;u<h;u++)s.add(l[u]);const c=u=>{const h=new Map;for(const[d,m]of r.associations)(d instanceof _i||d instanceof Ln)&&h.set(d,m);return u.traverse(d=>{const m=r.associations.get(d);m!=null&&h.set(d,m)}),h};return r.associations=c(s),s})}_createAnimationTracks(e,t,n,r,s){const o=[],a=e.name?e.name:e.uuid,l=[];gu[s.path]===gu.weights?e.traverse(function(d){d.morphTargetInfluences&&l.push(d.name?d.name:d.uuid)}):l.push(a);let c;switch(gu[s.path]){case gu.weights:c=S0;break;case gu.rotation:c=b0;break;case gu.position:case gu.scale:c=C0;break;default:switch(n.itemSize){case 1:c=S0;break;case 2:case 3:default:c=C0;break}break}const u=r.interpolation!==void 0?L2e[r.interpolation]:ag,h=this._getArrayFromAccessor(n);for(let d=0,m=l.length;d<m;d++){const g=new c(l[d]+"."+gu[s.path],t.array,h,u);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(g),o.push(g)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const n=oR(t.constructor),r=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)r[s]=t[s]*n;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(n){const r=this instanceof b0?I2e:VK;return new r(this.times,this.values,this.getValueSize()/3,n)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function z2e(i,e,t){const n=e.attributes,r=new hr;if(n.POSITION!==void 0){const a=t.json.accessors[n.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new V(l[0],l[1],l[2]),new V(c[0],c[1],c[2])),a.normalized){const u=oR(Sm[a.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new V,l=new V;for(let c=0,u=s.length;c<u;c++){const h=s[c];if(h.POSITION!==void 0){const d=t.json.accessors[h.POSITION],m=d.min,g=d.max;if(m!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),d.normalized){const y=oR(Sm[d.componentType]);l.multiplyScalar(y)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}i.boundingBox=r;const o=new Ki;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,i.boundingSphere=o}function zU(i,e,t){const n=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){i.setAttribute(a,l)})}for(const o in n){const a=sR[o]||o.toLowerCase();a in i.attributes||r.push(s(n[o],a))}if(e.indices!==void 0&&!i.index){const o=t.getDependency("accessor",e.indices).then(function(a){i.setIndex(a)});r.push(o)}return zl(i,e),z2e(i,e,t),Promise.all(r).then(function(){return e.targets!==void 0?B2e(i,e.targets,t):i})}const sT=new WeakMap;class j2e extends Nr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,r){const s=new no(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},n,r)}decodeDracoFile(e,t,n,r){const s={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const n=JSON.stringify(t);if(sT.has(e)){const l=sT.get(e);if(l.key===n)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,u)=>{r._callbacks[s]={resolve:c,reject:u},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),sT.set(e,{key:n,promise:a}),a}_createGeometry(e){const t=new Pt;e.index&&t.setIndex(new Zt(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const r=e.attributes[n],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new Zt(o,a))}return t}_loadLibrary(e,t){const n=new no(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((r,s)=>{n.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{const r=n[0];e||(this.decoderConfig.wasmBinary=n[1]);const s=H2e.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function H2e(){let i,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":i=a.decoderConfig,e=new Promise(function(u){i.onModuleLoaded=function(h){u({draco:h})},DracoDecoderModule(i)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const h=u.draco,d=new h.Decoder,m=new h.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const g=t(h,d,m,c),y=g.attributes.map(_=>_.array.buffer);g.index&&y.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},y)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{h.destroy(m),h.destroy(d)}});break}};function t(o,a,l,c){const u=c.attributeIDs,h=c.attributeTypes;let d,m;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)d=new o.Mesh,m=a.DecodeBufferToMesh(l,d);else if(g===o.POINT_CLOUD)d=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,d);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||d.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const y={index:null,attributes:[]};for(const _ in u){const v=self[h[_]];let A,w;if(c.useUniqueIDs)w=u[_],A=a.GetAttributeByUniqueId(d,w);else{if(w=a.GetAttributeId(d,o[u[_]]),w===-1)continue;A=a.GetAttribute(d,w)}y.attributes.push(r(o,a,d,_,v,A))}return g===o.TRIANGULAR_MESH&&(y.index=n(o,a,d)),o.destroy(d),y}function n(o,a,l){const u=l.num_faces()*3,h=u*4,d=o._malloc(h);a.GetTrianglesUInt32Array(l,h,d);const m=new Uint32Array(o.HEAPF32.buffer,d,u).slice();return o._free(d),{array:m,itemSize:1}}function r(o,a,l,c,u,h){const d=h.num_components(),g=l.num_points()*d,y=g*u.BYTES_PER_ELEMENT,_=s(o,u),v=o._malloc(y);a.GetAttributeDataArrayForAllPoints(l,h,_,y,v);const A=new u(o.HEAPF32.buffer,v,g).slice();return o._free(v),{name:c,array:A,itemSize:d}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Gw;const oT=()=>{if(Gw)return Gw;const i="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),n=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=i;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(h=>{s=h.instance,s.exports.__wasm_call_ctors()});function a(h){const d=new Uint8Array(h.length);for(let g=0;g<h.length;++g){const y=h.charCodeAt(g);d[g]=y>96?y-71:y>64?y-65:y>47?y+4:y>46?63:62}let m=0;for(let g=0;g<h.length;++g)d[m++]=d[g]<60?n[d[g]]:(d[g]-60)*64+d[++g];return d.buffer.slice(0,m)}function l(h,d,m,g,y,_){const v=s.exports.sbrk,A=m+3&-4,w=v(A*g),C=v(y.length),T=new Uint8Array(s.exports.memory.buffer);T.set(y,C);const E=h(w,m,g,C,y.length);if(E===0&&_&&_(w,A,g),d.set(T.subarray(w,w+m*g)),v(w-v(0)),E!==0)throw new Error(`Malformed buffer data: ${E}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Gw={ready:o,supported:!0,decodeVertexBuffer(h,d,m,g,y){l(s.exports.meshopt_decodeVertexBuffer,h,d,m,g,s.exports[c[y]])},decodeIndexBuffer(h,d,m,g){l(s.exports.meshopt_decodeIndexBuffer,h,d,m,g)},decodeIndexSequence(h,d,m,g){l(s.exports.meshopt_decodeIndexSequence,h,d,m,g)},decodeGltfBuffer(h,d,m,g,y,_){l(s.exports[u[y]],h,d,m,g,s.exports[c[_]])}},Gw};let Vw=null,WK="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function XK(i,e,t){return n=>{t&&t(n),i&&(Vw||(Vw=new j2e),Vw.setDecoderPath(typeof i=="string"?i:WK),n.setDRACOLoader(Vw)),e&&n.setMeshoptDecoder(typeof oT=="function"?oT():oT)}}function Vo(i,e=!0,t=!0,n){return gx(xL,i,XK(e,t,n))}Vo.preload=(i,e=!0,t=!0,n)=>gx.preload(xL,i,XK(e,t,n));Vo.clear=i=>gx.clear(xL,i);Vo.setDecoderPath=i=>{WK=i};const G2e=N.forwardRef(({makeDefault:i,camera:e,regress:t,domElement:n,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},u)=>{const h=na(E=>E.invalidate),d=na(E=>E.camera),m=na(E=>E.gl),g=na(E=>E.events),y=na(E=>E.setEvents),_=na(E=>E.set),v=na(E=>E.get),A=na(E=>E.performance),w=e||d,C=n||g.connected||m.domElement,T=N.useMemo(()=>new s2e(w),[w]);return Pg(()=>{T.enabled&&T.update()},-1),N.useEffect(()=>(s&&T.connect(s===!0?C:s),T.connect(C),()=>void T.dispose()),[s,C,t,T,h]),N.useEffect(()=>{const E=I=>{h(),t&&A.regress(),o&&o(I)},R=I=>{a&&a(I)},D=I=>{l&&l(I)};return T.addEventListener("change",E),T.addEventListener("start",R),T.addEventListener("end",D),()=>{T.removeEventListener("start",R),T.removeEventListener("end",D),T.removeEventListener("change",E)}},[o,a,l,T,h,y]),N.useEffect(()=>{if(i){const E=v().controls;return _({controls:T}),()=>_({controls:E})}},[i,T]),N.createElement("primitive",_y({ref:u,object:T,enableDamping:r},c))}),V2e="modulepreload",W2e=function(i){return"/"+i},jU={},j1=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.all(t.map(a=>{if(a=W2e(a),a in jU)return;jU[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":V2e,l||(u.as="script",u.crossOrigin=""),u.href=a,o&&u.setAttribute("nonce",o),document.head.appendChild(u),l)return new Promise((h,d)=>{u.addEventListener("load",h),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})}))}return r.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var HU,GU;const X2e=typeof window<"u"&&typeof((HU=window.document)==null?void 0:HU.createElement)=="function"&&typeof((GU=window.navigator)==null?void 0:GU.userAgent)=="string";let Ww=null;async function K2e(i,e){if(X2e&&i.pathname.endsWith(".m3u8")){var t;if((t=Ww)!==null&&t!==void 0||(Ww=await j1(()=>import("./hls-CvtatKX3.js").then(n=>n.h),[])),Ww.default.isSupported())return new Ww.default({...e})}return null}function Y2e(i,{unsuspend:e="loadedmetadata",start:t=!0,crossOrigin:n="anonymous",muted:r=!0,loop:s=!0,hls:o={},...a}={}){const l=new URL(typeof i=="string"?i:"",window.location.href),c=N.useRef(null),u=N.useRef(null),h=na(m=>m.gl),d=JW(()=>new Promise(async m=>{const g=Object.assign(document.createElement("video"),{src:typeof i=="string"&&i||void 0,srcObject:i instanceof MediaStream&&i||void 0,crossOrigin:n,loop:s,muted:r,...a});if(u.current=g,typeof i=="string"){const _=c.current=await K2e(l,o);_?(_.attachMedia(g),_.on("hlsMediaAttached",()=>{_.loadSource(i)})):g.src=i}else i instanceof MediaStream&&(g.srcObject=i);const y=new nW(g);"colorSpace"in y?y.colorSpace=h.outputColorSpace:y.encoding=h.outputEncoding,g.addEventListener(e,()=>m(y))}),[i]);return N.useEffect(()=>(t&&d.image.play(),()=>{c.current&&(c.current.destroy(),c.current=null)}),[d,t]),d}function Lg(i,e){const t=N.useRef(),[n]=N.useState(()=>e?e instanceof zt?{current:e}:e:t),[r]=N.useState(()=>new NW(void 0));N.useLayoutEffect(()=>{e&&(n.current=e instanceof zt?e:e.current),r._root=n.current});const s=N.useRef({}),o=N.useMemo(()=>{const a={};return i.forEach(l=>Object.defineProperty(a,l.name,{enumerable:!0,get(){if(n.current)return s.current[l.name]||(s.current[l.name]=r.clipAction(l,n.current))},configurable:!0})),{ref:n,clips:i,actions:a,names:i.map(l=>l.name),mixer:r}},[i]);return Pg((a,l)=>r.update(l)),N.useEffect(()=>{const a=n.current;return()=>{s.current={},r.stopAllAction(),Object.values(o.actions).forEach(l=>{a&&r.uncacheAction(l,a)})}},[i]),o}const J2e=N.forwardRef(function({children:e,disable:t,disableX:n,disableY:r,disableZ:s,left:o,right:a,top:l,bottom:c,front:u,back:h,onCentered:d,precise:m=!0,cacheKey:g=0,...y},_){const v=N.useRef(null),A=N.useRef(null),w=N.useRef(null);return N.useLayoutEffect(()=>{A.current.matrixWorld.identity();const C=new hr().setFromObject(w.current,m),T=new V,E=new Ki,R=C.max.x-C.min.x,D=C.max.y-C.min.y,I=C.max.z-C.min.z;C.getCenter(T),C.getBoundingSphere(E);const L=l?D/2:c?-D/2:0,O=o?-R/2:a?R/2:0,X=u?I/2:h?-I/2:0;A.current.position.set(t||n?0:-T.x+O,t||r?0:-T.y+L,t||s?0:-T.z+X),typeof d<"u"&&d({parent:v.current.parent,container:v.current,width:R,height:D,depth:I,boundingBox:C,boundingSphere:E,center:T,verticalAlignment:L,horizontalAlignment:O,depthAlignment:X})},[g,d,l,o,u,t,n,r,s,m,a,c,h]),N.useImperativeHandle(_,()=>v.current,[]),N.createElement("group",_y({ref:v},y),N.createElement("group",{ref:A},N.createElement("group",{ref:w},e)))});var KK={exports:{}},q2e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Z2e=q2e,Q2e=Z2e;function YK(){}function JK(){}JK.resetWarningCache=YK;var $2e=function(){function i(n,r,s,o,a,l){if(l!==Q2e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}i.isRequired=i;function e(){return i}var t={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:e,element:i,elementType:i,instanceOf:e,node:i,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:JK,resetWarningCache:YK};return t.PropTypes=t,t};KK.exports=$2e();var AL=KK.exports;const ls=L0(AL),ege="/assets/sky-B0A1kvoP.glb";function tge({isRotating:i}){const e=Vo(ege),t=N.useRef();return Pg((n,r)=>{i&&(t.current.rotation.y+=.1*r)}),S.jsx("mesh",{ref:t,children:S.jsx("primitive",{object:e.scene})})}const nge="/assets/astronaut-Dibp-ojn.glb";function ige({isRotating:i,...e}){const t=N.useRef(),{nodes:n,materials:r,animations:s}=Vo(nge),{actions:o}=Lg(s,t);return N.useEffect(()=>{i?(o["metarig|metarigAction.001"].paused=!1,o["metarig|metarigAction.001"].play()):o["metarig|metarigAction.001"].paused=!0},[o,i]),S.jsx("group",{ref:t,...e,dispose:null,children:S.jsx("group",{name:"Sketchfab_Scene",children:S.jsx("group",{name:"Sketchfab_model",rotation:[-Math.PI/2,0,0],children:S.jsx("group",{name:"eac333c4ad9248fd9ae1e4dccb45a1a9fbx",rotation:[Math.PI/2,0,0],children:S.jsx("group",{name:"Object_2",children:S.jsxs("group",{name:"RootNode",children:[S.jsx("group",{name:"Astro13LowPoly001",position:[.928,16.966,-1.663],rotation:[-Math.PI/2,0,0],scale:100}),S.jsx("group",{name:"metarig",position:[-.121,-150.811,0],rotation:[-Math.PI/2,0,0],scale:145.9,children:S.jsxs("group",{name:"Object_6",children:[S.jsx("primitive",{object:n._rootJoint}),S.jsx("skinnedMesh",{name:"Object_9",geometry:n.Object_9.geometry,material:r["Default.001"],skeleton:n.Object_9.skeleton}),S.jsx("group",{name:"Object_8",position:[.928,16.966,-1.663],rotation:[-Math.PI/2,0,0],scale:100})]})})]})})})})})})}const rge="/assets/robot-DWDnJlmr.glb";function sge({isRotating:i,...e}){const t=N.useRef(),{nodes:n,materials:r,animations:s}=Vo(rge),{actions:o}=Lg(s,t);return N.useEffect(()=>{o.Animation.play()},[]),S.jsx("group",{ref:t,...e,dispose:null,children:S.jsx("group",{name:"Sketchfab_Scene",children:S.jsx("group",{name:"Sketchfab_model",rotation:[-Math.PI/2,0,0],scale:.36,children:S.jsx("group",{name:"root",children:S.jsxs("group",{name:"GLTF_SceneRootNode",rotation:[Math.PI/2,0,0],children:[S.jsxs("group",{name:"skeletom_4",position:[.78,-.015,-.222],children:[S.jsxs("group",{name:"body_0",position:[-.78,.015,.222],children:[S.jsx("mesh",{name:"Object_5",castShadow:!0,receiveShadow:!0,geometry:n.Object_5.geometry,material:r.body}),S.jsx("mesh",{name:"Object_6",castShadow:!0,receiveShadow:!0,geometry:n.Object_6.geometry,material:r.body}),S.jsx("mesh",{name:"Object_7",castShadow:!0,receiveShadow:!0,geometry:n.Object_7.geometry,material:r.body}),S.jsx("mesh",{name:"Object_8",castShadow:!0,receiveShadow:!0,geometry:n.Object_8.geometry,material:r.line})]}),S.jsx("group",{name:"Cylinder002_1",position:[-.78,1.086,.222],children:S.jsx("mesh",{name:"Object_10",castShadow:!0,receiveShadow:!0,geometry:n.Object_10.geometry,material:r.baseHead})}),S.jsx("group",{name:"Cylinder003_2",position:[-.751,1.097,.222],children:S.jsx("mesh",{name:"Object_12",castShadow:!0,receiveShadow:!0,geometry:n.Object_12.geometry,material:r.baseHead})}),S.jsx("group",{name:"Cylinder004_3",position:[-.81,1.104,.221],children:S.jsx("mesh",{name:"Object_14",castShadow:!0,receiveShadow:!0,geometry:n.Object_14.geometry,material:r.baseHead})})]}),S.jsxs("group",{name:"eye_6",position:[.816,0,-.176],children:[S.jsx("mesh",{name:"Object_16",castShadow:!0,receiveShadow:!0,geometry:n.Object_16.geometry,material:r.material}),S.jsx("mesh",{name:"Object_17",castShadow:!0,receiveShadow:!0,geometry:n.Object_17.geometry,material:r.eyeCenter})]}),S.jsxs("group",{name:"Sphere001_10",position:[0,1.277,0],children:[S.jsx("mesh",{name:"Object_19",castShadow:!0,receiveShadow:!0,geometry:n.Object_19.geometry,material:r.head}),S.jsx("group",{name:"wing1_8",position:[-.022,.017,.013],children:S.jsx("mesh",{name:"Object_21",castShadow:!0,receiveShadow:!0,geometry:n.Object_21.geometry,material:r.wings})}),S.jsx("group",{name:"wing2_9",position:[-.01,.017,.006],children:S.jsx("mesh",{name:"Object_23",castShadow:!0,receiveShadow:!0,geometry:n.Object_23.geometry,material:r.wings})})]})]})})})})})}var wL=Sx(),Xt=i=>wx(i,wL),SL=Sx();Xt.write=i=>wx(i,SL);var RM=Sx();Xt.onStart=i=>wx(i,RM);var bL=Sx();Xt.onFrame=i=>wx(i,bL);var CL=Sx();Xt.onFinish=i=>wx(i,CL);var bm=[];Xt.setTimeout=(i,e)=>{const t=Xt.now()+e,n=()=>{const s=bm.findIndex(o=>o.cancel==n);~s&&bm.splice(s,1),ah-=~s?1:0},r={time:t,handler:i,cancel:n};return bm.splice(qK(t),0,r),ah+=1,ZK(),r};var qK=i=>~(~bm.findIndex(e=>e.time>i)||~bm.length);Xt.cancel=i=>{RM.delete(i),bL.delete(i),CL.delete(i),wL.delete(i),SL.delete(i)};Xt.sync=i=>{aR=!0,Xt.batchedUpdates(i),aR=!1};Xt.throttle=i=>{let e;function t(){try{i(...e)}finally{e=null}}function n(...r){e=r,Xt.onStart(t)}return n.handler=i,n.cancel=()=>{RM.delete(t),e=null},n};var ML=typeof window<"u"?window.requestAnimationFrame:()=>{};Xt.use=i=>ML=i;Xt.now=typeof performance<"u"?()=>performance.now():Date.now;Xt.batchedUpdates=i=>i();Xt.catch=console.error;Xt.frameLoop="always";Xt.advance=()=>{Xt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):$K()};var oh=-1,ah=0,aR=!1;function wx(i,e){aR?(e.delete(i),i(0)):(e.add(i),ZK())}function ZK(){oh<0&&(oh=0,Xt.frameLoop!=="demand"&&ML(QK))}function oge(){oh=-1}function QK(){~oh&&(ML(QK),Xt.batchedUpdates($K))}function $K(){const i=oh;oh=Xt.now();const e=qK(oh);if(e&&(eY(bm.splice(0,e),t=>t.handler()),ah-=e),!ah){oge();return}RM.flush(),wL.flush(i?Math.min(64,oh-i):16.667),bL.flush(),SL.flush(),CL.flush()}function Sx(){let i=new Set,e=i;return{add(t){ah+=e==i&&!i.has(t)?1:0,i.add(t)},delete(t){return ah-=e==i&&i.has(t)?1:0,i.delete(t)},flush(t){e.size&&(i=new Set,ah-=e.size,eY(e,n=>n(t)&&i.add(n)),ah+=i.size,e=i)}}}function eY(i,e){i.forEach(t=>{try{e(t)}catch(n){Xt.catch(n)}})}var age=Object.defineProperty,lge=(i,e)=>{for(var t in e)age(i,t,{get:e[t],enumerable:!0})},pg={};lge(pg,{assign:()=>dge,colors:()=>Ah,createStringInterpolator:()=>TL,skipAnimation:()=>nY,to:()=>tY,willAdvance:()=>RL});function cge(){}var uge=(i,e,t)=>Object.defineProperty(i,e,{value:t,writable:!0,configurable:!0}),ni={arr:Array.isArray,obj:i=>!!i&&i.constructor.name==="Object",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",und:i=>i===void 0};function hge(i,e){if(ni.arr(i)){if(!ni.arr(e)||i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}return i===e}var kc=(i,e)=>i.forEach(e);function lR(i,e,t){if(ni.arr(i)){for(let n=0;n<i.length;n++)e.call(t,i[n],`${n}`);return}for(const n in i)i.hasOwnProperty(n)&&e.call(t,i[n],n)}var Xw=i=>ni.und(i)?[]:ni.arr(i)?i:[i],EL=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),TL,tY,Ah=null,nY=!1,RL=cge,dge=i=>{i.to&&(tY=i.to),i.now&&(Xt.now=i.now),i.colors!==void 0&&(Ah=i.colors),i.skipAnimation!=null&&(nY=i.skipAnimation),i.createStringInterpolator&&(TL=i.createStringInterpolator),i.requestAnimationFrame&&Xt.use(i.requestAnimationFrame),i.batchedUpdates&&(Xt.batchedUpdates=i.batchedUpdates),i.willAdvance&&(RL=i.willAdvance),i.frameLoop&&(Xt.frameLoop=i.frameLoop)},Ev=new Set,Do=[],aT=[],p4=0,PL={get idle(){return!Ev.size&&!Do.length},start(i){p4>i.priority?(Ev.add(i),Xt.onStart(fge)):(iY(i),Xt(cR))},advance:cR,sort(i){if(p4)Xt.onFrame(()=>PL.sort(i));else{const e=Do.indexOf(i);~e&&(Do.splice(e,1),rY(i))}},clear(){Do=[],Ev.clear()}};function fge(){Ev.forEach(iY),Ev.clear(),Xt(cR)}function iY(i){Do.includes(i)||rY(i)}function rY(i){Do.splice(pge(Do,e=>e.priority>i.priority),0,i)}function cR(i){const e=aT;for(let t=0;t<Do.length;t++){const n=Do[t];p4=n.priority,n.idle||(RL(n),n.advance(i),n.idle||e.push(n))}return p4=0,aT=Do,aT.length=0,Do=e,Do.length>0}function pge(i,e){const t=i.findIndex(e);return t<0?i.length:t}var mge={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Aa="[-+]?\\d*\\.?\\d+",m4=Aa+"%";function PM(...i){return"\\(\\s*("+i.join(")\\s*,\\s*(")+")\\s*\\)"}var gge=new RegExp("rgb"+PM(Aa,Aa,Aa)),vge=new RegExp("rgba"+PM(Aa,Aa,Aa,Aa)),yge=new RegExp("hsl"+PM(Aa,m4,m4)),_ge=new RegExp("hsla"+PM(Aa,m4,m4,Aa)),xge=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Age=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,wge=/^#([0-9a-fA-F]{6})$/,Sge=/^#([0-9a-fA-F]{8})$/;function bge(i){let e;return typeof i=="number"?i>>>0===i&&i>=0&&i<=4294967295?i:null:(e=wge.exec(i))?parseInt(e[1]+"ff",16)>>>0:Ah&&Ah[i]!==void 0?Ah[i]:(e=gge.exec(i))?(Dp(e[1])<<24|Dp(e[2])<<16|Dp(e[3])<<8|255)>>>0:(e=vge.exec(i))?(Dp(e[1])<<24|Dp(e[2])<<16|Dp(e[3])<<8|XU(e[4]))>>>0:(e=xge.exec(i))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=Sge.exec(i))?parseInt(e[1],16)>>>0:(e=Age.exec(i))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=yge.exec(i))?(VU(WU(e[1]),Kw(e[2]),Kw(e[3]))|255)>>>0:(e=_ge.exec(i))?(VU(WU(e[1]),Kw(e[2]),Kw(e[3]))|XU(e[4]))>>>0:null}function lT(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function VU(i,e,t){const n=t<.5?t*(1+e):t+e-t*e,r=2*t-n,s=lT(r,n,i+1/3),o=lT(r,n,i),a=lT(r,n,i-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Dp(i){const e=parseInt(i,10);return e<0?0:e>255?255:e}function WU(i){return(parseFloat(i)%360+360)%360/360}function XU(i){const e=parseFloat(i);return e<0?0:e>1?255:Math.round(e*255)}function Kw(i){const e=parseFloat(i);return e<0?0:e>100?1:e/100}function KU(i){let e=bge(i);if(e===null)return i;e=e||0;const t=(e&4278190080)>>>24,n=(e&16711680)>>>16,r=(e&65280)>>>8,s=(e&255)/255;return`rgba(${t}, ${n}, ${r}, ${s})`}var xy=(i,e,t)=>{if(ni.fun(i))return i;if(ni.arr(i))return xy({range:i,output:e,extrapolate:t});if(ni.str(i.output[0]))return TL(i);const n=i,r=n.output,s=n.range||[0,1],o=n.extrapolateLeft||n.extrapolate||"extend",a=n.extrapolateRight||n.extrapolate||"extend",l=n.easing||(c=>c);return c=>{const u=Mge(c,s);return Cge(c,s[u],s[u+1],r[u],r[u+1],l,o,a,n.map)}};function Cge(i,e,t,n,r,s,o,a,l){let c=l?l(i):i;if(c<e){if(o==="identity")return c;o==="clamp"&&(c=e)}if(c>t){if(a==="identity")return c;a==="clamp"&&(c=t)}return n===r?n:e===t?i<=e?n:r:(e===-1/0?c=-c:t===1/0?c=c-e:c=(c-e)/(t-e),c=s(c),n===-1/0?c=-c:r===1/0?c=c+n:c=c*(r-n)+n,c)}function Mge(i,e){for(var t=1;t<e.length-1&&!(e[t]>=i);++t);return t-1}var Ay=Symbol.for("FluidValue.get"),wy=Symbol.for("FluidValue.observers"),g4=i=>!!(i&&i[Ay]),v4=i=>i&&i[Ay]?i[Ay]():i;function Ege(i,e){i.eventObserved?i.eventObserved(e):i(e)}function uR(i,e){const t=i[wy];t&&t.forEach(n=>{Ege(n,e)})}var Tge=class{constructor(i){if(!i&&!(i=this.get))throw Error("Unknown getter");Rge(this,i)}},Rge=(i,e)=>oY(i,Ay,e);function sY(i,e){if(i[Ay]){let t=i[wy];t||oY(i,wy,t=new Set),t.has(e)||(t.add(e),i.observerAdded&&i.observerAdded(t.size,e))}return e}function hR(i,e){const t=i[wy];if(t&&t.has(e)){const n=t.size-1;n?t.delete(e):i[wy]=null,i.observerRemoved&&i.observerRemoved(n,e)}}var oY=(i,e,t)=>Object.defineProperty(i,e,{value:t,writable:!0,configurable:!0}),SS=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Pge=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,YU=new RegExp(`(${SS.source})(%|[a-z]+)`,"i"),Ige=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,IM=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,aY=i=>{const[e,t]=Lge(i);if(!e||EL())return i;const n=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(n)return n.trim();if(t&&t.startsWith("--")){const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);return r||i}else{if(t&&IM.test(t))return aY(t);if(t)return t}return i},Lge=i=>{const e=IM.exec(i);if(!e)return[,];const[,t,n]=e;return[t,n]},cT,Dge=(i,e,t,n,r)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(n)}, ${r})`,lY=i=>{cT||(cT=Ah?new RegExp(`(${Object.keys(Ah).join("|")})(?!\\w)`,"g"):/^\b$/);const e=i.output.map(s=>v4(s).replace(IM,aY).replace(Pge,KU).replace(cT,KU)),t=e.map(s=>s.match(SS).map(Number)),r=t[0].map((s,o)=>t.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>xy({...i,output:s}));return s=>{var l;const o=!YU.test(e[0])&&((l=e.find(c=>YU.test(c)))==null?void 0:l.replace(SS,""));let a=0;return e[0].replace(SS,()=>`${r[a++](s)}${o||""}`).replace(Ige,Dge)}},cY="react-spring: ",uY=i=>{const e=i;let t=!1;if(typeof e!="function")throw new TypeError(`${cY}once requires a function parameter`);return(...n)=>{t||(e(...n),t=!0)}},Bge=uY(console.warn);function Fge(){Bge(`${cY}The "interpolate" function is deprecated in v9 (use "to" instead)`)}uY(console.warn);function hY(i){return ni.str(i)&&(i[0]=="#"||/\d/.test(i)||!EL()&&IM.test(i)||i in(Ah||{}))}var dY=EL()?N.useEffect:N.useLayoutEffect,Oge=()=>{const i=N.useRef(!1);return dY(()=>(i.current=!0,()=>{i.current=!1}),[]),i};function kge(){const i=N.useState()[1],e=Oge();return()=>{e.current&&i(Math.random())}}function Nge(i,e){const[t]=N.useState(()=>({inputs:e,result:i()})),n=N.useRef(),r=n.current;let s=r;return s?e&&s.inputs&&Uge(e,s.inputs)||(s={inputs:e,result:i()}):s=t,N.useEffect(()=>{n.current=s,r==t&&(t.inputs=t.result=void 0)},[s]),s.result}function Uge(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}var zge=i=>N.useEffect(i,jge),jge=[],Sy=Symbol.for("Animated:node"),Hge=i=>!!i&&i[Sy]===i,IL=i=>i&&i[Sy],fY=(i,e)=>uge(i,Sy,e),LL=i=>i&&i[Sy]&&i[Sy].getPayload(),pY=class{constructor(){fY(this,this)}getPayload(){return this.payload||[]}},LM=class extends pY{constructor(i){super(),this._value=i,this.done=!0,this.durationProgress=0,ni.num(this._value)&&(this.lastPosition=this._value)}static create(i){return new LM(i)}getPayload(){return[this]}getValue(){return this._value}setValue(i,e){return ni.num(i)&&(this.lastPosition=i,e&&(i=Math.round(i/e)*e,this.done&&(this.lastPosition=i))),this._value===i?!1:(this._value=i,!0)}reset(){const{done:i}=this;this.done=!1,ni.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,i&&(this.lastVelocity=null),this.v0=null)}},DL=class extends LM{constructor(i){super(0),this._string=null,this._toString=xy({output:[i,i]})}static create(i){return new DL(i)}getValue(){const i=this._string;return i??(this._string=this._toString(this._value))}setValue(i){if(ni.str(i)){if(i==this._string)return!1;this._string=i,this._value=1}else if(super.setValue(i))this._string=null;else return!1;return!0}reset(i){i&&(this._toString=xy({output:[this.getValue(),i]})),this._value=0,super.reset()}},y4={dependencies:null},BL=class extends pY{constructor(i){super(),this.source=i,this.setValue(i)}getValue(i){const e={};return lR(this.source,(t,n)=>{Hge(t)?e[n]=t.getValue(i):g4(t)?e[n]=v4(t):i||(e[n]=t)}),e}setValue(i){this.source=i,this.payload=this._makePayload(i)}reset(){this.payload&&kc(this.payload,i=>i.reset())}_makePayload(i){if(i){const e=new Set;return lR(i,this._addToPayload,e),Array.from(e)}}_addToPayload(i){y4.dependencies&&g4(i)&&y4.dependencies.add(i);const e=LL(i);e&&kc(e,t=>this.add(t))}},mY=class extends BL{constructor(i){super(i)}static create(i){return new mY(i)}getValue(){return this.source.map(i=>i.getValue())}setValue(i){const e=this.getPayload();return i.length==e.length?e.map((t,n)=>t.setValue(i[n])).some(Boolean):(super.setValue(i.map(Gge)),!0)}};function Gge(i){return(hY(i)?DL:LM).create(i)}function Vge(i){const e=IL(i);return e?e.constructor:ni.arr(i)?mY:hY(i)?DL:LM}var JU=(i,e)=>{const t=!ni.fun(i)||i.prototype&&i.prototype.isReactComponent;return N.forwardRef((n,r)=>{const s=N.useRef(null),o=t&&N.useCallback(g=>{s.current=Kge(r,g)},[r]),[a,l]=Xge(n,e),c=kge(),u=()=>{const g=s.current;if(t&&!g)return;(g?e.applyAnimatedValues(g,a.getValue(!0)):!1)===!1&&c()},h=new Wge(u,l),d=N.useRef();dY(()=>(d.current=h,kc(l,g=>sY(g,h)),()=>{d.current&&(kc(d.current.deps,g=>hR(g,d.current)),Xt.cancel(d.current.update))})),N.useEffect(u,[]),zge(()=>()=>{const g=d.current;kc(g.deps,y=>hR(y,g))});const m=e.getComponentProps(a.getValue());return N.createElement(i,{...m,ref:o})})},Wge=class{constructor(i,e){this.update=i,this.deps=e}eventObserved(i){i.type=="change"&&Xt.write(this.update)}};function Xge(i,e){const t=new Set;return y4.dependencies=t,i.style&&(i={...i,style:e.createAnimatedStyle(i.style)}),i=new BL(i),y4.dependencies=null,[i,t]}function Kge(i,e){return i&&(ni.fun(i)?i(e):i.current=e),e}var qU=Symbol.for("AnimatedComponent"),Yge=(i,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=r=>new BL(r),getComponentProps:n=r=>r}={})=>{const r={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:n},s=o=>{const a=ZU(o)||"Anonymous";return ni.str(o)?o=s[o]||(s[o]=JU(o,r)):o=o[qU]||(o[qU]=JU(o,r)),o.displayName=`Animated(${a})`,o};return lR(i,(o,a)=>{ni.arr(i)&&(a=ZU(o)),s[a]=s(o)}),{animated:s}},ZU=i=>ni.str(i)?i:i&&ni.str(i.displayName)?i.displayName:ni.fun(i)&&i.name||null,QU=i=>i instanceof gY,Jge=1,gY=class extends Tge{constructor(){super(...arguments),this.id=Jge++,this._priority=0}get priority(){return this._priority}set priority(i){this._priority!=i&&(this._priority=i,this._onPriorityChange(i))}get(){const i=IL(this);return i&&i.getValue()}to(...i){return pg.to(this,i)}interpolate(...i){return Fge(),pg.to(this,i)}toJSON(){return this.get()}observerAdded(i){i==1&&this._attach()}observerRemoved(i){i==0&&this._detach()}_attach(){}_detach(){}_onChange(i,e=!1){uR(this,{type:"change",parent:this,value:i,idle:e})}_onPriorityChange(i){this.idle||PL.sort(this),uR(this,{type:"priority",parent:this,priority:i})}},FL=({children:i,...e})=>{const t=N.useContext(_4),n=e.pause||!!t.pause,r=e.immediate||!!t.immediate;e=Nge(()=>({pause:n,immediate:r}),[n,r]);const{Provider:s}=_4;return N.createElement(s,{value:e},i)},_4=qge(FL,{});FL.Provider=_4.Provider;FL.Consumer=_4.Consumer;function qge(i,e){return Object.assign(i,N.createContext(e)),i.Provider._context=i,i.Consumer._context=i,i}var Zge=class extends gY{constructor(i,e){super(),this.source=i,this.idle=!0,this._active=new Set,this.calc=xy(...e);const t=this._get(),n=Vge(t);fY(this,n.create(t))}advance(i){const e=this._get(),t=this.get();hge(e,t)||(IL(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&$U(this._active)&&uT(this)}_get(){const i=ni.arr(this.source)?this.source.map(v4):Xw(v4(this.source));return this.calc(...i)}_start(){this.idle&&!$U(this._active)&&(this.idle=!1,kc(LL(this),i=>{i.done=!1}),pg.skipAnimation?(Xt.batchedUpdates(()=>this.advance()),uT(this)):PL.start(this))}_attach(){let i=1;kc(Xw(this.source),e=>{g4(e)&&sY(e,this),QU(e)&&(e.idle||this._active.add(e),i=Math.max(i,e.priority+1))}),this.priority=i,this._start()}_detach(){kc(Xw(this.source),i=>{g4(i)&&hR(i,this)}),this._active.clear(),uT(this)}eventObserved(i){i.type=="change"?i.idle?this.advance():(this._active.add(i.parent),this._start()):i.type=="idle"?this._active.delete(i.parent):i.type=="priority"&&(this.priority=Xw(this.source).reduce((e,t)=>Math.max(e,(QU(t)?t.priority:0)+1),0))}};function Qge(i){return i.idle!==!1}function $U(i){return!i.size||Array.from(i).every(Qge)}function uT(i){i.idle||(i.idle=!0,kc(LL(i),e=>{e.done=!0}),uR(i,{type:"idle",parent:i}))}pg.assign({createStringInterpolator:lY,to:(i,e)=>new Zge(i,e)});var $ge=["primitive"].concat(Object.keys(jW).filter(i=>/^[A-Z]/.test(i)).map(i=>i[0].toLowerCase()+i.slice(1)));pg.assign({createStringInterpolator:lY,colors:mge,frameLoop:"demand"});Qhe(()=>{Xt.advance()});Yge($ge,{applyAnimatedValues:Cd});const e1e="/assets/earth-nVwB4TXF.glb";function t1e({isRotating:i,setIsRotating:e,setCurrentStage:t,currentFocusPoint:n,...r}){const s=N.useRef(),{gl:o,viewport:a}=na(),{nodes:l,materials:c,animations:u}=Vo(e1e),{actions:h}=Lg(u,s);N.useEffect(()=>{i?(h["Animaci��n"].paused=!1,h["Animaci��n"].play()):h["Animaci��n"].paused=!0},[h,i]);const d=N.useRef(0),m=N.useRef(0),g=.95,y=R=>{R.stopPropagation(),R.preventDefault(),e(!0);const D=event.touches?event.touches[0].clientX:event.clientX;d.current=D},_=R=>{R.stopPropagation(),R.preventDefault(),e(!1)},v=R=>{if(R.stopPropagation(),R.preventDefault(),i){const D=event.touches?event.touches[0].clientX:event.clientX,I=(D-d.current)/a.width;s.current.rotation.y+=I*.01*Math.PI,d.current=D,m.current=I*.01*Math.PI}},A=R=>{R.key==="ArrowLeft"||R.key==="ArrowDown"?(i||e(!0),s.current.rotation.y+=.008*Math.PI,m.current=.007):(R.key==="ArrowRight"||R.key==="ArrowUp")&&(i||e(!0),s.current.rotation.y-=.008*Math.PI,m.current=-.007)},w=R=>{(R.key==="ArrowLeft"||R.key==="ArrowRight"||R.key==="ArrowUp"||R.key==="ArrowDown")&&e(!1)},C=R=>{R.stopPropagation(),R.preventDefault(),e(!0);const D=R.touches?R.touches[0].clientX:R.clientX;d.current=D},T=R=>{R.stopPropagation(),R.preventDefault(),e(!1)},E=R=>{if(R.stopPropagation(),R.preventDefault(),i){const D=R.touches?R.touches[0].clientX:R.clientX,I=(D-d.current)/a.width;s.current.rotation.y+=I*.01*Math.PI,d.current=D,m.current=I*.01*Math.PI}};return N.useEffect(()=>{const R=o.domElement;return R.addEventListener("pointerdown",y),R.addEventListener("pointerup",_),R.addEventListener("pointermove",v),window.addEventListener("keydown",A),window.addEventListener("keyup",w),R.addEventListener("touchstart",C),R.addEventListener("touchend",T),R.addEventListener("touchmove",E),()=>{R.removeEventListener("pointerdown",y),R.removeEventListener("pointerup",_),R.removeEventListener("pointermove",v),window.removeEventListener("keydown",A),window.removeEventListener("keyup",w),R.removeEventListener("touchstart",C),R.removeEventListener("touchend",T),R.removeEventListener("touchmove",E)}},[o,y,_,v]),Pg(()=>{if(!i)m.current*=g,Math.abs(m.current)<.001&&(m.current=0),s.current.rotation.y+=m.current;else{const D=(s.current.rotation.y%(2*Math.PI)+2*Math.PI)%(2*Math.PI);switch(!0){case(D>=5.45&&D<=5.85):t(4);break;case(D>=.85&&D<=1.3):t(3);break;case(D>=2.4&&D<=2.6):t(2);break;case(D>=4.25&&D<=4.75):t(1);break}}}),S.jsx("group",{ref:s,...r,dispose:null,children:S.jsx("group",{name:"Sketchfab_Scene",children:S.jsx("group",{name:"Sketchfab_model",rotation:[-Math.PI/2,0,0],children:S.jsx("group",{name:"root",children:S.jsxs("group",{name:"GLTF_SceneRootNode",rotation:[Math.PI/2,0,0],children:[S.jsxs("group",{name:"Oceano_1",children:[S.jsx("mesh",{name:"Object_4",castShadow:!0,receiveShadow:!0,geometry:l.Object_4.geometry,material:c.agua}),S.jsx("group",{name:"tierra_0",scale:.996,children:S.jsx("mesh",{name:"Object_6",castShadow:!0,receiveShadow:!0,geometry:l.Object_6.geometry,material:c.tierra})})]}),S.jsx("group",{name:"barco_2",position:[.644,-.215,-.719],rotation:[-1.679,.395,.896],scale:[.015,.021,.016],children:S.jsx("mesh",{name:"Object_8",castShadow:!0,receiveShadow:!0,geometry:l.Object_8.geometry,material:c.Atlas_1})}),S.jsx("group",{name:"barco009_3",position:[.848,.333,.4],rotation:[-1.408,-.59,-1.937],scale:.01,children:S.jsx("mesh",{name:"Object_10",castShadow:!0,receiveShadow:!0,geometry:l.Object_10.geometry,material:c["Atlas.2"]})}),S.jsx("group",{name:"Armature001_10",position:[.564,.451,.62],rotation:[.708,-.369,-.737],scale:.01,children:S.jsxs("group",{name:"GLTF_created_0",children:[S.jsx("primitive",{object:l.GLTF_created_0_rootJoint}),S.jsx("skinnedMesh",{name:"Object_15",geometry:l.Object_15.geometry,material:c.ballena,skeleton:l.Object_15.skeleton}),S.jsx("group",{name:"colaBallena001_9"})]})}),S.jsx("group",{name:"Armature002_17",position:[-.846,-.218,-.378],rotation:[2.298,.497,1.648],scale:.01,children:S.jsxs("group",{name:"GLTF_created_1",children:[S.jsx("primitive",{object:l.GLTF_created_1_rootJoint}),S.jsx("skinnedMesh",{name:"Object_25",geometry:l.Object_25.geometry,material:c.ballena,skeleton:l.Object_25.skeleton}),S.jsx("group",{name:"colaBallena002_16"})]})}),S.jsx("group",{name:"Armature003_24",position:[.43,-.474,-.704],rotation:[-.216,1.029,-1.973],scale:.01,children:S.jsxs("group",{name:"GLTF_created_2",children:[S.jsx("primitive",{object:l.GLTF_created_2_rootJoint}),S.jsx("skinnedMesh",{name:"Object_35",geometry:l.Object_35.geometry,material:c.ballena,skeleton:l.Object_35.skeleton}),S.jsx("group",{name:"colaBallena003_23"})]})}),S.jsxs("group",{name:"avion003_27",position:[-.409,-1.016,.477],rotation:[-.438,0,2.792],scale:.018,children:[S.jsx("mesh",{name:"Object_42",castShadow:!0,receiveShadow:!0,geometry:l.Object_42.geometry,material:c["Atlas.2"]}),S.jsx("group",{name:"avion004_25",children:S.jsx("mesh",{name:"Object_44",castShadow:!0,receiveShadow:!0,geometry:l.Object_44.geometry,material:c["ox-logo"]})}),S.jsx("group",{name:"Cube009_26",position:[-3.44,-.807,0],rotation:[2.338,0,0],scale:[.319,.221,.221],children:S.jsx("mesh",{name:"Object_46",castShadow:!0,receiveShadow:!0,geometry:l.Object_46.geometry,material:c["Atlas.2"]})})]}),S.jsx("group",{name:"ox-logo008_28",position:[-.954,.859,.547],rotation:[2.135,.755,.825],scale:.141,children:S.jsx("mesh",{name:"Object_48",castShadow:!0,receiveShadow:!0,geometry:l.Object_48.geometry,material:c["Atlas.2"]})}),S.jsx("group",{name:"ox-logo009_29",position:[-.842,.381,-1.049],rotation:[.344,.653,.461],scale:.141,children:S.jsx("mesh",{name:"Object_50",castShadow:!0,receiveShadow:!0,geometry:l.Object_50.geometry,material:c["Atlas.2"]})}),S.jsx("group",{name:"edificio001_30",position:[.969,.299,.303],rotation:[.057,-.309,-1.25],scale:[.007,.018,.007],children:S.jsx("mesh",{name:"Object_52",castShadow:!0,receiveShadow:!0,geometry:l.Object_52.geometry,material:c["Atlas.2"]})}),S.jsx("group",{name:"avion001_31",position:[.01,.636,1.074],rotation:[1.036,0,0],scale:.018,children:S.jsx("mesh",{name:"Object_54",castShadow:!0,receiveShadow:!0,geometry:l.Object_54.geometry,material:c["ox-logo"]})}),S.jsx("group",{name:"ox-logo001_32",position:[-.954,.859,.547],rotation:[2.135,.755,.825],scale:.141,children:S.jsx("mesh",{name:"Object_56",castShadow:!0,receiveShadow:!0,geometry:l.Object_56.geometry,material:c["ox-logo"]})}),S.jsx("group",{name:"ox-logo002_33",position:[-.842,.381,-1.049],rotation:[.344,.653,.461],scale:.141,children:S.jsx("mesh",{name:"Object_58",castShadow:!0,receiveShadow:!0,geometry:l.Object_58.geometry,material:c["ox-logo"]})}),S.jsxs("group",{name:"avion002_35",position:[.01,.636,1.074],rotation:[1.036,0,0],scale:.018,children:[S.jsx("mesh",{name:"Object_60",castShadow:!0,receiveShadow:!0,geometry:l.Object_60.geometry,material:c["Atlas.2"]}),S.jsx("group",{name:"Cube001_34",position:[-3.44,-.807,0],rotation:[2.338,0,0],scale:[.319,.221,.221],children:S.jsx("mesh",{name:"Object_62",castShadow:!0,receiveShadow:!0,geometry:l.Object_62.geometry,material:c["Atlas.2"]})})]}),S.jsx("group",{name:"arbol007_36",position:[.851,.605,-.005],rotation:[.173,.354,-1.1],scale:.011,children:S.jsx("mesh",{name:"Object_64",castShadow:!0,receiveShadow:!0,geometry:l.Object_64.geometry,material:c.vegetacin})}),S.jsx("group",{name:"Icosphere004_37",position:[-.012,1.161,.6],rotation:[Math.PI/2,-1.053,Math.PI/2],scale:[.045,.035,.045],children:S.jsx("mesh",{name:"Object_66",castShadow:!0,receiveShadow:!0,geometry:l.Object_66.geometry,material:c.nube})}),S.jsx("group",{name:"nube002_38",position:[-.003,0,1.572],rotation:[2.489,-1.503,-.655],scale:[-.023,-.017,-.023],children:S.jsx("mesh",{name:"Object_68",castShadow:!0,receiveShadow:!0,geometry:l.Object_68.geometry,material:c.nube})}),S.jsx("group",{name:"Icosphere006_39",position:[1.421,.599,-.52],rotation:[-3.11,-.434,-3.05],scale:[.063,.055,.052],children:S.jsx("mesh",{name:"Object_70",castShadow:!0,receiveShadow:!0,geometry:l.Object_70.geometry,material:c.nube})}),S.jsx("group",{name:"nube003_40",position:[.587,-.527,-1.197],rotation:[.076,.992,3.078],scale:[-.018,-.013,-.018],children:S.jsx("mesh",{name:"Object_72",castShadow:!0,receiveShadow:!0,geometry:l.Object_72.geometry,material:c.nube})}),S.jsx("group",{name:"Icosphere007_41",position:[-.495,-1.3,-.305],rotation:[.594,-.483,.304],scale:[.05,.039,.05],children:S.jsx("mesh",{name:"Object_74",castShadow:!0,receiveShadow:!0,geometry:l.Object_74.geometry,material:c.nube})}),S.jsx("group",{name:"Icosphere008_42",position:[-1.436,-.22,-.172],rotation:[.518,.025,-.014],scale:[.045,.035,.045],children:S.jsx("mesh",{name:"Object_76",castShadow:!0,receiveShadow:!0,geometry:l.Object_76.geometry,material:c.nube})}),S.jsx("group",{name:"Icosphere009_43",position:[.952,.357,1.09],rotation:[2.426,.715,-2.624],scale:[.045,.035,.045],children:S.jsx("mesh",{name:"Object_78",castShadow:!0,receiveShadow:!0,geometry:l.Object_78.geometry,material:c.nube})}),S.jsx("group",{name:"nube004_44",position:[-.487,.642,-1.03],rotation:[.098,-1.134,-3.052],scale:[-.023,-.017,-.023],children:S.jsx("mesh",{name:"Object_80",castShadow:!0,receiveShadow:!0,geometry:l.Object_80.geometry,material:c.nube})}),S.jsx("group",{name:"nube005_45",position:[-1.119,-.737,.257],rotation:[.043,.22,3.129],scale:[-.023,-.017,-.023],children:S.jsx("mesh",{name:"Object_82",castShadow:!0,receiveShadow:!0,geometry:l.Object_82.geometry,material:c.nube})})]})})})})})}const n1e="/assets/keyboard-BrFtlGNW.glb";function i1e({currentAnimation:i,...e}){const t=N.useRef(),{nodes:n,materials:r,animations:s}=Vo(n1e),{actions:o}=Lg(s,t);return N.useEffect(()=>{i===1?o.Animation.play():o.Animation.stop()},[o,i]),S.jsx("group",{ref:t,...e,dispose:null,children:S.jsx("group",{name:"Sketchfab_Scene",children:S.jsx("group",{name:"Sketchfab_model",rotation:[-Math.PI/2,0,0],children:S.jsx("group",{name:"root",children:S.jsxs("group",{name:"GLTF_SceneRootNode",rotation:[Math.PI/2,0,0],children:[S.jsxs("group",{name:"Cube020_0",position:[-.063,-.008,.029],rotation:[-3.089,0,0],scale:.5,children:[S.jsx("mesh",{name:"Object_4",castShadow:!0,receiveShadow:!0,geometry:n.Object_4.geometry,material:r["switch_bottom.008"]}),S.jsx("mesh",{name:"Object_5",castShadow:!0,receiveShadow:!0,geometry:n.Object_5.geometry,material:r["switch.010"]})]}),S.jsxs("group",{name:"Cube021_1",position:[-.08,-.008,.029],rotation:[-3.089,0,0],scale:.5,children:[S.jsx("mesh",{name:"Object_7",castShadow:!0,receiveShadow:!0,geometry:n.Object_7.geometry,material:r["switch_bottom.008"]}),S.jsx("mesh",{name:"Object_8",castShadow:!0,receiveShadow:!0,geometry:n.Object_8.geometry,material:r["switch.010"]})]}),S.jsxs("group",{name:"Cube022_2",position:[-.096,-.008,.029],rotation:[-3.089,0,0],scale:.5,children:[S.jsx("mesh",{name:"Object_10",castShadow:!0,receiveShadow:!0,geometry:n.Object_10.geometry,material:r["switch_bottom.008"]}),S.jsx("mesh",{name:"Object_11",castShadow:!0,receiveShadow:!0,geometry:n.Object_11.geometry,material:r["switch.010"]})]}),S.jsxs("group",{name:"Cube023_3",position:[-.09,-.007,.014],rotation:[-3.089,0,0],scale:.5,children:[S.jsx("mesh",{name:"Object_13",castShadow:!0,receiveShadow:!0,geometry:n.Object_13.geometry,material:r["switch_bottom.008"]}),S.jsx("mesh",{name:"Object_14",castShadow:!0,receiveShadow:!0,geometry:n.Object_14.geometry,material:r["switch.010"]})]}),S.jsxs("group",{name:"Cube024_4",position:[-.092,-.007,-.001],rotation:[-3.089,0,0],scale:.5,children:[S.jsx("mesh",{name:"Object_16",castShadow:!0,receiveShadow:!0,geometry:n.Object_16.geometry,material:r["switch_bottom.008"]}),S.jsx("mesh",{name:"Object_17",castShadow:!0,receiveShadow:!0,geometry:n.Object_17.geometry,material:r["switch.010"]})]}),S.jsxs("group",{name:"Cube025_5",position:[-.094,-.006,-.016],rotation:[-3.089,0,0],scale:.5,children:[S.jsx("mesh",{name:"Object_19",castShadow:!0,receiveShadow:!0,geometry:n.Object_19.geometry,material:r["switch_bottom.008"]}),S.jsx("mesh",{name:"Object_20",castShadow:!0,receiveShadow:!0,geometry:n.Object_20.geometry,material:r["switch.010"]})]}),S.jsxs("group",{name:"Cube026_6",position:[-.097,-.005,-.03],rotation:[-3.089,0,0],scale:.5,children:[S.jsx("mesh",{name:"Object_22",castShadow:!0,receiveShadow:!0,geometry:n.Object_22.geometry,material:r["switch_bottom.008"]}),S.jsx("mesh",{name:"Object_23",castShadow:!0,receiveShadow:!0,geometry:n.Object_23.geometry,material:r["switch.010"]})]}),S.jsxs("group",{name:"Cube019_7",position:[-.077,-.006,-.016],rotation:[-3.089,0,0],scale:.5,children:[S.jsx("mesh",{name:"Object_25",castShadow:!0,receiveShadow:!0,geometry:n.Object_25.geometry,material:r["switch_bottom.008"]}),S.jsx("mesh",{name:"Object_26",castShadow:!0,receiveShadow:!0,geometry:n.Object_26.geometry,material:r["switch.010"]})]}),S.jsxs("group",{name:"Cube027_8",position:[-.072,-.007,-.001],rotation:[-3.089,0,0],scale:.5,children:[S.jsx("mesh",{name:"Object_28",castShadow:!0,receiveShadow:!0,geometry:n.Object_28.geometry,material:r["switch_bottom.008"]}),S.jsx("mesh",{name:"Object_29",castShadow:!0,receiveShadow:!0,geometry:n.Object_29.geometry,material:r["switch.010"]})]}),S.jsxs("group",{name:"Cube028_9",position:[-.067,-.007,.014],rotation:[-3.089,0,0],scale:.5,children:[S.jsx("mesh",{name:"Object_31",castShadow:!0,receiveShadow:!0,geometry:n.Object_31.geometry,material:r["switch_bottom.008"]}),S.jsx("mesh",{name:"Object_32",castShadow:!0,receiveShadow:!0,geometry:n.Object_32.geometry,material:r["switch.010"]})]}),S.jsxs("group",{name:"Cube029_10",position:[-.045,-.008,.029],rotation:[-3.089,0,0],scale:.5,children:[S.jsx("mesh",{name:"Object_34",castShadow:!0,receiveShadow:!0,geometry:n.Object_34.geometry,material:r["switch_bottom.008"]}),S.jsx("mesh",{name:"Object_35",castShadow:!0,receiveShadow:!0,geometry:n.Object_35.geometry,material:r["switch.010"]})]}),S.jsxs("group",{name:"Cube030_11",position:[.024,-.008,.029],rotation:[-3.089,0,0],scale:.5,children:[S.jsx("mesh",{name:"Object_37",castShadow:!0,receiveShadow:!0,geometry:n.Object_37.geometry,material:r["switch_bottom.008"]}),S.jsx("mesh",{name:"Object_38",castShadow:!0,receiveShadow:!0,geometry:n.Object_38.geometry,material:r["switch.010"]})]}),S.jsxs("group",{name:"Cube031_12",position:[.043,-.008,.029],rotation:[-3.089,0,0],scale:.5,children:[S.jsx("mesh",{name:"Object_40",castShadow:!0,receiveShadow:!0,geometry:n.Object_40.geometry,material:r["switch_bottom.008"]}),S.jsx("mesh",{name:"Object_41",castShadow:!0,receiveShadow:!0,geometry:n.Object_41.geometry,material:r["switch.010"]})]}),S.jsxs("group",{name:"Cube032_13",position:[.06,-.008,.029],rotation:[-3.089,0,0],scale:.5,children:[S.jsx("mesh",{name:"Object_43",castShadow:!0,receiveShadow:!0,geometry:n.Object_43.geometry,material:r["switch_bottom.008"]}),S.jsx("mesh",{name:"Object_44",castShadow:!0,receiveShadow:!0,geometry:n.Object_44.geometry,material:r["switch.010"]})]}),S.jsxs("group",{name:"Cube033_14",position:[.076,-.008,.029],rotation:[-3.089,0,0],scale:.5,children:[S.jsx("mesh",{name:"Object_46",castShadow:!0,receiveShadow:!0,geometry:n.Object_46.geometry,material:r["switch_bottom.008"]}),S.jsx("mesh",{name:"Object_47",castShadow:!0,receiveShadow:!0,geometry:n.Object_47.geometry,material:r["switch.010"]})]}),S.jsxs("group",{name:"Cube034_15",position:[.096,-.008,.029],rotation:[-3.089,0,0],scale:.5,children:[S.jsx("mesh",{name:"Object_49",castShadow:!0,receiveShadow:!0,geometry:n.Object_49.geometry,material:r["switch_bottom.008"]}),S.jsx("mesh",{name:"Object_50",castShadow:!0,receiveShadow:!0,geometry:n.Object_50.geometry,material:r["switch.010"]})]}),S.jsxs("group",{name:"Cube035_16",position:[.088,-.007,.014],rotation:[-3.089,0,0],scale:.5,children:[S.jsx("mesh",{name:"Object_52",castShadow:!0,receiveShadow:!0,geometry:n.Object_52.geometry,material:r["switch_bottom.008"]}),S.jsx("mesh",{name:"Object_53",castShadow:!0,receiveShadow:!0,geometry:n.Object_53.geometry,material:r["switch.010"]})]}),S.jsxs("group",{name:"Cube036_17",position:[.093,-.007,-.001],rotation:[-3.089,0,0],scale:.5,children:[S.jsx("mesh",{name:"Object_55",castShadow:!0,receiveShadow:!0,geometry:n.Object_55.geometry,material:r["switch_bottom.008"]}),S.jsx("mesh",{name:"Object_56",castShadow:!0,receiveShadow:!0,geometry:n.Object_56.geometry,material:r["switch.010"]})]}),S.jsxs("group",{name:"Cube037_18",position:[.097,-.006,-.016],rotation:[-3.089,0,0],scale:.5,children:[S.jsx("mesh",{name:"Object_58",castShadow:!0,receiveShadow:!0,geometry:n.Object_58.geometry,material:r["switch_bottom.008"]}),S.jsx("mesh",{name:"Object_59",castShadow:!0,receiveShadow:!0,geometry:n.Object_59.geometry,material:r["switch.010"]})]}),S.jsxs("group",{name:"Cube038_19",position:[.095,-.005,-.03],rotation:[-3.089,0,0],scale:.5,children:[S.jsx("mesh",{name:"Object_61",castShadow:!0,receiveShadow:!0,geometry:n.Object_61.geometry,material:r["switch_bottom.008"]}),S.jsx("mesh",{name:"Object_62",castShadow:!0,receiveShadow:!0,geometry:n.Object_62.geometry,material:r["switch.010"]})]}),S.jsx("group",{name:"plate_20",position:[.001,-.013,-.001],children:S.jsx("mesh",{name:"Object_64",castShadow:!0,receiveShadow:!0,geometry:n.Object_64.geometry,material:r.plate})}),S.jsx("group",{name:"Cube_21",position:[-.097,.002,-.029],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_66",castShadow:!0,receiveShadow:!0,geometry:n.Object_66.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube001_22",position:[-.072,.001,0],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_68",castShadow:!0,receiveShadow:!0,geometry:n.Object_68.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube002_23",position:[-.067,0,.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_70",castShadow:!0,receiveShadow:!0,geometry:n.Object_70.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube003_24",position:[-.095,.002,-.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_72",castShadow:!0,receiveShadow:!0,geometry:n.Object_72.geometry,material:r["keycaps.011"]})}),S.jsx("group",{name:"Cube004_25",position:[-.077,.001,-.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_74",castShadow:!0,receiveShadow:!0,geometry:n.Object_74.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube005_26",position:[-.092,.001,0],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_76",castShadow:!0,receiveShadow:!0,geometry:n.Object_76.geometry,material:r["keycaps.011"]})}),S.jsx("group",{name:"Cube006_27",position:[-.09,0,.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_78",castShadow:!0,receiveShadow:!0,geometry:n.Object_78.geometry,material:r["keycaps.011"]})}),S.jsx("group",{name:"Cube007_28",position:[-.01,0,.03],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_80",castShadow:!0,receiveShadow:!0,geometry:n.Object_80.geometry,material:r["keycaps.011"]})}),S.jsx("group",{name:"Cube008_29",position:[-.096,-.001,.03],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_82",castShadow:!0,receiveShadow:!0,geometry:n.Object_82.geometry,material:r["keycaps.011"]})}),S.jsx("group",{name:"Cube009_30",position:[-.08,-.001,.03],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_84",castShadow:!0,receiveShadow:!0,geometry:n.Object_84.geometry,material:r["keycaps.011"]})}),S.jsx("group",{name:"Cube010_31",position:[-.063,-.001,.03],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_86",castShadow:!0,receiveShadow:!0,geometry:n.Object_86.geometry,material:r["keycaps.011"]})}),S.jsx("group",{name:"Cube011_32",position:[.076,-.001,.03],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_88",castShadow:!0,receiveShadow:!0,geometry:n.Object_88.geometry,material:r["keycaps.011"]})}),S.jsx("group",{name:"Cube012_33",position:[.06,-.001,.03],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_90",castShadow:!0,receiveShadow:!0,geometry:n.Object_90.geometry,material:r["keycaps.011"]})}),S.jsx("group",{name:"Cube013_34",position:[.043,-.001,.03],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_92",castShadow:!0,receiveShadow:!0,geometry:n.Object_92.geometry,material:r["keycaps.011"]})}),S.jsx("group",{name:"Cube014_35",position:[.096,-.001,.03],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_94",castShadow:!0,receiveShadow:!0,geometry:n.Object_94.geometry,material:r["keycaps.011"]})}),S.jsx("group",{name:"Cube015_36",position:[.097,.002,-.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_96",castShadow:!0,receiveShadow:!0,geometry:n.Object_96.geometry,material:r["keycaps.011"]})}),S.jsx("group",{name:"Cube016_37",position:[.094,.003,-.029],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_98",castShadow:!0,receiveShadow:!0,geometry:n.Object_98.geometry,material:r["keycaps.011"]})}),S.jsx("group",{name:"Cube017_38",position:[.093,.001,0],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_100",castShadow:!0,receiveShadow:!0,geometry:n.Object_100.geometry,material:r["keycaps.011"]})}),S.jsx("group",{name:"Cube018_39",position:[.088,0,.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_102",castShadow:!0,receiveShadow:!0,geometry:n.Object_102.geometry,material:r["keycaps.011"]})}),S.jsx("group",{name:"Cube039_40",position:[-.083,.002,-.029],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_104",castShadow:!0,receiveShadow:!0,geometry:n.Object_104.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube040_41",position:[-.069,.002,-.029],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_106",castShadow:!0,receiveShadow:!0,geometry:n.Object_106.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube041_42",position:[-.054,.002,-.029],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_108",castShadow:!0,receiveShadow:!0,geometry:n.Object_108.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube042_43",position:[-.04,.002,-.029],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_110",castShadow:!0,receiveShadow:!0,geometry:n.Object_110.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube043_44",position:[-.026,.002,-.029],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_112",castShadow:!0,receiveShadow:!0,geometry:n.Object_112.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube044_45",position:[-.011,.002,-.029],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_114",castShadow:!0,receiveShadow:!0,geometry:n.Object_114.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube045_46",position:[.003,.002,-.029],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_116",castShadow:!0,receiveShadow:!0,geometry:n.Object_116.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube046_47",position:[.017,.002,-.029],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_118",castShadow:!0,receiveShadow:!0,geometry:n.Object_118.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube047_48",position:[.031,.002,-.029],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_120",castShadow:!0,receiveShadow:!0,geometry:n.Object_120.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube048_49",position:[.046,.002,-.029],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_122",castShadow:!0,receiveShadow:!0,geometry:n.Object_122.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube049_50",position:[.06,.002,-.029],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_124",castShadow:!0,receiveShadow:!0,geometry:n.Object_124.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube050_51",position:[.074,.002,-.029],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_126",castShadow:!0,receiveShadow:!0,geometry:n.Object_126.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube051_52",position:[-.058,.001,0],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_128",castShadow:!0,receiveShadow:!0,geometry:n.Object_128.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube052_53",position:[-.044,.001,0],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_130",castShadow:!0,receiveShadow:!0,geometry:n.Object_130.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube053_54",position:[-.029,.001,0],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_132",castShadow:!0,receiveShadow:!0,geometry:n.Object_132.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube054_55",position:[-.015,.001,0],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_134",castShadow:!0,receiveShadow:!0,geometry:n.Object_134.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube055_56",position:[-.001,.001,0],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_136",castShadow:!0,receiveShadow:!0,geometry:n.Object_136.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube056_57",position:[.014,.001,0],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_138",castShadow:!0,receiveShadow:!0,geometry:n.Object_138.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube057_58",position:[.028,.001,0],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_140",castShadow:!0,receiveShadow:!0,geometry:n.Object_140.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube058_59",position:[.042,.001,0],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_142",castShadow:!0,receiveShadow:!0,geometry:n.Object_142.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube059_60",position:[.056,.001,0],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_144",castShadow:!0,receiveShadow:!0,geometry:n.Object_144.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube060_61",position:[.071,.001,0],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_146",castShadow:!0,receiveShadow:!0,geometry:n.Object_146.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube061_62",position:[-.053,0,.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_148",castShadow:!0,receiveShadow:!0,geometry:n.Object_148.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube062_63",position:[-.039,0,.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_150",castShadow:!0,receiveShadow:!0,geometry:n.Object_150.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube063_64",position:[-.024,0,.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_152",castShadow:!0,receiveShadow:!0,geometry:n.Object_152.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube064_65",position:[-.01,0,.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_154",castShadow:!0,receiveShadow:!0,geometry:n.Object_154.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube065_66",position:[.004,0,.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_156",castShadow:!0,receiveShadow:!0,geometry:n.Object_156.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube066_67",position:[.019,0,.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_158",castShadow:!0,receiveShadow:!0,geometry:n.Object_158.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube067_68",position:[.033,0,.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_160",castShadow:!0,receiveShadow:!0,geometry:n.Object_160.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube068_69",position:[.047,0,.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_162",castShadow:!0,receiveShadow:!0,geometry:n.Object_162.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube069_70",position:[.061,0,.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_164",castShadow:!0,receiveShadow:!0,geometry:n.Object_164.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube070_71",position:[-.063,.001,-.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_166",castShadow:!0,receiveShadow:!0,geometry:n.Object_166.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube071_72",position:[-.049,.001,-.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_168",castShadow:!0,receiveShadow:!0,geometry:n.Object_168.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube072_73",position:[-.034,.001,-.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_170",castShadow:!0,receiveShadow:!0,geometry:n.Object_170.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube073_74",position:[-.02,.001,-.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_172",castShadow:!0,receiveShadow:!0,geometry:n.Object_172.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube074_75",position:[-.006,.001,-.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_174",castShadow:!0,receiveShadow:!0,geometry:n.Object_174.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube075_76",position:[.009,.001,-.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_176",castShadow:!0,receiveShadow:!0,geometry:n.Object_176.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube076_77",position:[.023,.001,-.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_178",castShadow:!0,receiveShadow:!0,geometry:n.Object_178.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube077_78",position:[.037,.001,-.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_180",castShadow:!0,receiveShadow:!0,geometry:n.Object_180.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube078_79",position:[.051,.001,-.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_182",castShadow:!0,receiveShadow:!0,geometry:n.Object_182.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube079_80",position:[.066,.001,-.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_184",castShadow:!0,receiveShadow:!0,geometry:n.Object_184.geometry,material:r["switch_bottom.008"]})}),S.jsx("group",{name:"Cube080_81",position:[.08,.001,-.015],rotation:[.052,0,0],scale:.5,children:S.jsx("mesh",{name:"Object_186",castShadow:!0,receiveShadow:!0,geometry:n.Object_186.geometry,material:r["switch_bottom.008"]})})]})})})})})}const r1e="/assets/geek-BJSxTH6s.glb";function s1e({currentAnimation:i,...e}){const t=N.useRef(),{nodes:n,materials:r,animations:s}=Vo(r1e),{actions:o}=Lg(s,t);return N.useEffect(()=>{o["mixamo.com"].play()},[]),S.jsx("group",{ref:t,...e,dispose:null,children:S.jsx("group",{name:"Sketchfab_Scene",children:S.jsx("group",{name:"Sketchfab_model",rotation:[-Math.PI/2,0,0],scale:.018,children:S.jsx("group",{name:"9e65729ec05243e58484564153430d3efbx",rotation:[Math.PI/2,0,0],children:S.jsx("group",{name:"Object_2",children:S.jsxs("group",{name:"RootNode",children:[S.jsx("group",{name:"Human_806polysMesh",scale:7.077,children:S.jsx("group",{name:"Human_806polystransform17"})}),S.jsxs("group",{name:"pCube2",children:[S.jsx("group",{name:"polySurface1",children:S.jsx("group",{name:"transform2"})}),S.jsx("group",{name:"polySurface2",position:[4.296,0,0],children:S.jsx("group",{name:"transform3"})}),S.jsx("group",{name:"transform1"})]}),S.jsx("group",{name:"pCube3",position:[0,37.675,2.884],scale:[1.669,.372,.697],children:S.jsx("group",{name:"Human_806polystransform16"})}),S.jsx("group",{name:"polySurface21",position:[-.104,0,0],scale:[.894,1,1],children:S.jsx("group",{name:"Human_806polystransform15"})}),S.jsx("group",{name:"pCube4",position:[-.854,39.023,3.079],scale:[1.149,.846,.358],children:S.jsx("group",{name:"Human_806polystransform14"})}),S.jsx("group",{name:"pCube6",position:[.844,39.023,3.079],scale:[1.149,.846,.358],children:S.jsx("group",{name:"Human_806polystransform13"})}),S.jsx("group",{name:"pCube7",position:[-.011,39.199,2.883],scale:[.7,.253,.846],children:S.jsx("group",{name:"Human_806polystransform12"})}),S.jsx("group",{name:"pCube8",position:[-.015,39.692,2.809],scale:[3.065,.299,2.42],children:S.jsx("group",{name:"Human_806polystransform11"})}),S.jsx("group",{name:"pCube9",position:[1.878,39.174,.575],scale:[.92,1.53,1.53],children:S.jsx("group",{name:"Human_806polystransform10"})}),S.jsx("group",{name:"pCube10",position:[-2.061,39.174,.575],rotation:[0,0,-Math.PI],scale:[.92,1.53,1.53],children:S.jsx("group",{name:"Human_806polystransform9"})}),S.jsx("group",{name:"pCube11",position:[-.015,41.807,.496],scale:[3.065,.453,.269],children:S.jsx("group",{name:"Human_806polystransform8"})}),S.jsx("group",{name:"pCube12",position:[-1.38,39.265,2.086],rotation:[0,.316,0],scale:[.465,.28,1.693],children:S.jsx("group",{name:"Human_806polystransform7"})}),S.jsx("group",{name:"pCube13",position:[1.306,39.265,2.078],rotation:[0,-.282,0],scale:[.465,.28,1.693],children:S.jsx("group",{name:"Human_806polystransform6"})}),S.jsx("group",{name:"pCube14",position:[.835,39.048,3.107],scale:[.263,.242,.242],children:S.jsx("group",{name:"Human_806polystransform5"})}),S.jsx("group",{name:"pCube15",position:[-.841,39.048,3.107],scale:[.263,.242,.242],children:S.jsx("group",{name:"Human_806polystransform4"})}),S.jsx("group",{name:"pCube16",position:[-.841,39.048,2.758],scale:[.263,.242,.242],children:S.jsx("group",{name:"Human_806polystransform3"})}),S.jsx("group",{name:"pCube17",position:[.835,39.048,2.758],scale:[.263,.242,.242],children:S.jsx("group",{name:"Human_806polystransform2"})}),S.jsx("group",{name:"pCube18",position:[0,35.958,-3.063],scale:[6.786,1,4.16],children:S.jsx("group",{name:"Human_806polystransform1"})}),S.jsx("group",{name:"Human_806polysMesh1",position:[0,1.501,1.385],scale:4.25}),S.jsx("group",{name:"Character1_Reference",children:S.jsxs("group",{name:"Object_46",children:[S.jsx("primitive",{object:n._rootJoint}),S.jsx("skinnedMesh",{name:"Object_49",geometry:n.Object_49.geometry,material:r.grey,skeleton:n.Object_49.skeleton}),S.jsx("skinnedMesh",{name:"Object_50",geometry:n.Object_50.geometry,material:r.Dark_grey,skeleton:n.Object_50.skeleton}),S.jsx("skinnedMesh",{name:"Object_51",geometry:n.Object_51.geometry,material:r.black,skeleton:n.Object_51.skeleton}),S.jsx("skinnedMesh",{name:"Object_52",geometry:n.Object_52.geometry,material:r.cream,skeleton:n.Object_52.skeleton}),S.jsx("skinnedMesh",{name:"Object_53",geometry:n.Object_53.geometry,material:r.Pants,skeleton:n.Object_53.skeleton}),S.jsx("skinnedMesh",{name:"Object_54",geometry:n.Object_54.geometry,material:r.blonde,skeleton:n.Object_54.skeleton}),S.jsx("skinnedMesh",{name:"Object_55",geometry:n.Object_55.geometry,material:r.white,skeleton:n.Object_55.skeleton}),S.jsx("group",{name:"Object_48",position:[0,1.501,1.385],scale:4.25})]})})]})})})})})})}const o1e="/assets/ornament-Q3ZMWN-n.glb";function a1e(i){const e=N.useRef(),{nodes:t,materials:n,animations:r}=Vo(o1e),{actions:s}=Lg(r,e);return N.useEffect(()=>{s["Take 001"].play()},[]),S.jsx("group",{ref:e,...i,dispose:null,children:S.jsx("group",{name:"Sketchfab_Scene",children:S.jsx("group",{name:"Sketchfab_model",rotation:[-Math.PI/2,0,0],children:S.jsx("group",{name:"2d608fdf438140528168b691e5ff3c48fbx",rotation:[Math.PI/2,0,0],scale:.01,children:S.jsx("group",{name:"Object_2",children:S.jsx("group",{name:"RootNode",children:S.jsxs("group",{name:"rotate",children:[S.jsx("group",{name:"quan",rotation:[Math.PI,0,0],scale:.05,children:S.jsx("mesh",{name:"quan_rotate_t_0",castShadow:!0,receiveShadow:!0,geometry:t.quan_rotate_t_0.geometry,material:n.rotate_t})}),S.jsx("group",{name:"locator1",position:[.477,5.456,5.952],rotation:[-1.483,.087,1.563],children:S.jsx("group",{name:"yuan_1",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator2",position:[.861,4.883,5.885],rotation:[-1.394,.172,1.54],children:S.jsx("group",{name:"yuan_1_1",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_1",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_1.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator3",position:[1.151,4.297,5.773],rotation:[-1.3,.253,1.502],children:S.jsx("group",{name:"yuan_1_2",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_2",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_2.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator4",position:[1.351,3.712,5.617],rotation:[-1.201,.327,1.447],children:S.jsx("group",{name:"yuan_1_3",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_3",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_3.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator5",position:[1.465,3.142,5.418],rotation:[-1.096,.393,1.376],children:S.jsx("group",{name:"yuan_1_4",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_4",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_4.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator6",position:[1.502,2.601,5.178],rotation:[-.983,.448,1.29],children:S.jsx("group",{name:"yuan_1_5",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_5",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_5.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator7",position:[1.47,2.099,4.898],rotation:[-.864,.489,1.189],children:S.jsx("group",{name:"yuan_1_6",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_6",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_6.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator8",position:[1.38,1.645,4.581],rotation:[-.74,.515,1.076],children:S.jsx("group",{name:"yuan_1_7",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_7",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_7.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator9",position:[1.246,1.246,4.229],rotation:[-.615,Math.PI/6,.955],children:S.jsx("group",{name:"yuan_1_8",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_8",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_8.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator10",position:[1.079,.905,3.845],rotation:[-.495,.515,.831],children:S.jsx("group",{name:"yuan_1_9",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_9",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_9.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator11",position:[.893,.625,3.431],rotation:[-.382,.489,.707],children:S.jsx("group",{name:"yuan_1_10",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_10",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_10.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator12",position:[.7,.404,2.991],rotation:[-.281,.448,.588],children:S.jsx("group",{name:"yuan_1_11",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_11",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_11.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator13",position:[.513,.239,2.529],rotation:[-.195,.393,.475],children:S.jsx("group",{name:"yuan_1_12",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_12",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_12.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator14",position:[.343,.125,2.047],rotation:[-.124,.327,.37],children:S.jsx("group",{name:"yuan_1_13",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_13",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_13.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator15",position:[.2,.054,1.549],rotation:[-.069,.253,.271],children:S.jsx("group",{name:"yuan_1_14",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_14",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_14.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator16",position:[.092,.016,1.039],rotation:[-.031,.172,.177],children:S.jsx("group",{name:"yuan_1_15",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_15",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_15.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator17",position:[.024,.002,.522],rotation:[-.008,.087,.088],children:S.jsx("group",{name:"yuan_1_16",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_16",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_16.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator18",children:S.jsx("group",{name:"yuan_1_17",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_17",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_17.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator19",position:[-5.456,.477,5.952],rotation:[-.783,-1.447,2.354],children:S.jsx("group",{name:"yuan_1_18",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_18",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_18.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator20",position:[-4.883,.861,5.885],rotation:[-.778,-1.325,2.349],children:S.jsx("group",{name:"yuan_1_19",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_19",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_19.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator21",position:[-4.297,1.151,5.773],rotation:[-.768,-1.203,2.339],children:S.jsx("group",{name:"yuan_1_20",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_20",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_20.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator22",position:[-3.712,1.351,5.617],rotation:[-.754,-1.082,2.325],children:S.jsx("group",{name:"yuan_1_21",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_21",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_21.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator23",position:[-3.142,1.465,5.418],rotation:[-.736,-.964,2.307],children:S.jsx("group",{name:"yuan_1_22",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_22",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_22.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator24",position:[-2.601,1.502,5.178],rotation:[-.714,-.848,2.285],children:S.jsx("group",{name:"yuan_1_23",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_23",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_23.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator25",position:[-2.099,1.47,4.898],rotation:[-.686,-.736,2.257],children:S.jsx("group",{name:"yuan_1_24",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_24",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_24.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator26",position:[-1.645,1.38,4.581],rotation:[-.654,-.627,2.224],children:S.jsx("group",{name:"yuan_1_25",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_25",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_25.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator27",position:[-1.246,1.246,4.229],rotation:[-.615,-Math.PI/6,2.186],children:S.jsx("group",{name:"yuan_1_26",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_26",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_26.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator28",position:[-.905,1.079,3.845],rotation:[-.571,-.426,2.142],children:S.jsx("group",{name:"yuan_1_27",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_27",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_27.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator29",position:[-.625,.893,3.431],rotation:[-.521,-.335,2.092],children:S.jsx("group",{name:"yuan_1_28",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_28",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_28.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator30",position:[-.404,.7,2.991],rotation:[-.464,-.253,2.034],children:S.jsx("group",{name:"yuan_1_29",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_29",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_29.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator31",position:[-.239,.513,2.529],rotation:[-.4,-.18,1.971],children:S.jsx("group",{name:"yuan_1_30",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_30",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_30.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator32",position:[-.125,.343,2.047],rotation:[-.33,-.117,1.9],children:S.jsx("group",{name:"yuan_1_31",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_31",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_31.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator33",position:[-.054,.2,1.549],rotation:[-.253,-.067,1.824],children:S.jsx("group",{name:"yuan_1_32",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_32",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_32.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator34",position:[-.016,.092,1.039],rotation:[-.172,-.03,1.743],children:S.jsx("group",{name:"yuan_1_33",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_33",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_33.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator35",position:[-.002,.024,.522],rotation:[-.087,-.008,1.658],children:S.jsx("group",{name:"yuan_1_34",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_34",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_34.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator36",rotation:[0,0,Math.PI/2],children:S.jsx("group",{name:"yuan_1_35",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_35",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_35.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator37",position:[-.477,-5.456,5.952],rotation:[1.483,-.087,-1.578],children:S.jsx("group",{name:"yuan_1_36",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_36",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_36.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator38",position:[-.861,-4.883,5.885],rotation:[1.394,-.172,-1.601],children:S.jsx("group",{name:"yuan_1_37",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_37",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_37.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator39",position:[-1.151,-4.297,5.773],rotation:[1.3,-.253,-1.64],children:S.jsx("group",{name:"yuan_1_38",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_38",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_38.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator40",position:[-1.351,-3.712,5.617],rotation:[1.201,-.327,-1.695],children:S.jsx("group",{name:"yuan_1_39",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_39",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_39.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator41",position:[-1.465,-3.142,5.418],rotation:[1.096,-.393,-1.765],children:S.jsx("group",{name:"yuan_1_40",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_40",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_40.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator42",position:[-1.502,-2.601,5.178],rotation:[.983,-.448,-1.852],children:S.jsx("group",{name:"yuan_1_41",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_41",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_41.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator43",position:[-1.47,-2.099,4.898],rotation:[.864,-.489,-1.953],children:S.jsx("group",{name:"yuan_1_42",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_42",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_42.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator44",position:[-1.38,-1.645,4.581],rotation:[.74,-.515,-2.065],children:S.jsx("group",{name:"yuan_1_43",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_43",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_43.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator45",position:[-1.246,-1.246,4.229],rotation:[.615,-Math.PI/6,-2.186],children:S.jsx("group",{name:"yuan_1_44",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_44",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_44.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator46",position:[-1.079,-.905,3.845],rotation:[.495,-.515,-2.311],children:S.jsx("group",{name:"yuan_1_45",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_45",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_45.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator47",position:[-.893,-.625,3.431],rotation:[.382,-.489,-2.434],children:S.jsx("group",{name:"yuan_1_46",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_46",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_46.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator48",position:[-.7,-.404,2.991],rotation:[.281,-.448,-2.554],children:S.jsx("group",{name:"yuan_1_47",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_47",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_47.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator49",position:[-.513,-.239,2.529],rotation:[.195,-.393,-2.666],children:S.jsx("group",{name:"yuan_1_48",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_48",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_48.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator50",position:[-.343,-.125,2.047],rotation:[.124,-.327,-2.772],children:S.jsx("group",{name:"yuan_1_49",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_49",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_49.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator51",position:[-.2,-.054,1.549],rotation:[.069,-.253,-2.871],children:S.jsx("group",{name:"yuan_1_50",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_50",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_50.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator52",position:[-.092,-.016,1.039],rotation:[.031,-.172,-2.964],children:S.jsx("group",{name:"yuan_1_51",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_51",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_51.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator53",position:[-.024,-.002,.522],rotation:[.008,-.087,-3.054],children:S.jsx("group",{name:"yuan_1_52",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_52",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_52.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator54",rotation:[0,0,Math.PI],children:S.jsx("group",{name:"yuan_1_53",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_53",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_53.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator55",position:[5.456,-.477,5.952],rotation:[.783,1.447,-.787],children:S.jsx("group",{name:"yuan_1_54",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_54",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_54.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator56",position:[4.883,-.861,5.885],rotation:[.778,1.325,-.793],children:S.jsx("group",{name:"yuan_1_55",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_55",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_55.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator57",position:[4.297,-1.151,5.773],rotation:[.768,1.203,-.803],children:S.jsx("group",{name:"yuan_1_56",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_56",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_56.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator58",position:[3.712,-1.351,5.617],rotation:[.754,1.082,-.816],children:S.jsx("group",{name:"yuan_1_57",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_57",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_57.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator59",position:[3.142,-1.465,5.418],rotation:[.736,.964,-.835],children:S.jsx("group",{name:"yuan_1_58",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_58",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_58.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator60",position:[2.601,-1.502,5.178],rotation:[.714,.848,-.857],children:S.jsx("group",{name:"yuan_1_59",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_59",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_59.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator61",position:[2.099,-1.47,4.898],rotation:[.686,.736,-.884],children:S.jsx("group",{name:"yuan_1_60",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_60",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_60.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator62",position:[1.645,-1.38,4.581],rotation:[.654,.627,-.917],children:S.jsx("group",{name:"yuan_1_61",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_61",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_61.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator63",position:[1.246,-1.246,4.229],rotation:[.615,Math.PI/6,-.955],children:S.jsx("group",{name:"yuan_1_62",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_62",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_62.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator64",position:[.905,-1.079,3.845],rotation:[.571,.426,-1],children:S.jsx("group",{name:"yuan_1_63",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_63",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_63.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator65",position:[.625,-.893,3.431],rotation:[.521,.335,-1.05],children:S.jsx("group",{name:"yuan_1_64",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_64",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_64.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator66",position:[.404,-.7,2.991],rotation:[.464,.253,-1.107],children:S.jsx("group",{name:"yuan_1_65",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_65",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_65.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator67",position:[.239,-.513,2.529],rotation:[.4,.18,-1.171],children:S.jsx("group",{name:"yuan_1_66",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_66",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_66.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator68",position:[.125,-.343,2.047],rotation:[.33,.117,-1.241],children:S.jsx("group",{name:"yuan_1_67",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_67",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_67.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator69",position:[.054,-.2,1.549],rotation:[.253,.067,-1.318],children:S.jsx("group",{name:"yuan_1_68",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_68",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_68.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator70",position:[.016,-.092,1.039],rotation:[.172,.03,-1.399],children:S.jsx("group",{name:"yuan_1_69",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_69",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_69.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator71",position:[.002,-.024,.522],rotation:[.087,.008,-1.484],children:S.jsx("group",{name:"yuan_1_70",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_70",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_70.geometry,material:n.rotate_t})})}),S.jsx("group",{name:"locator72",rotation:[0,0,-Math.PI/2],children:S.jsx("group",{name:"yuan_1_71",position:[5.986,-.008,-.012],children:S.jsx("mesh",{name:"yuan_1_rotate_t_0_71",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_71.geometry,material:n.rotate_t})})})]})})})})})})})}function jl(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function vY(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var $s={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},mg={duration:.5,overwrite:!1,delay:0},OL,Br,On,ko=1e8,bn=1/ko,dR=Math.PI*2,l1e=dR/4,c1e=0,yY=Math.sqrt,u1e=Math.cos,h1e=Math.sin,Yi=function(e){return typeof e=="string"},ei=function(e){return typeof e=="function"},Yc=function(e){return typeof e=="number"},kL=function(e){return typeof e>"u"},xl=function(e){return typeof e=="object"},_s=function(e){return e!==!1},NL=function(){return typeof window<"u"},Yw=function(e){return ei(e)||Yi(e)},_Y=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Fr=Array.isArray,fR=/(?:-?\.?\d|\.)+/gi,xY=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,hm=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,hT=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,AY=/[+-]=-?[.\d]+/,wY=/[^,'"\[\]\s]+/gi,d1e=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,zn,ja,pR,UL,ro={},x4={},SY,bY=function(e){return(x4=M0(e,ro))&&bs},zL=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},by=function(e,t){return!t&&console.warn(e)},CY=function(e,t){return e&&(ro[e]=t)&&x4&&(x4[e]=t)||ro},Cy=function(){return 0},f1e={suppressEvents:!0,isStart:!0,kill:!1},bS={suppressEvents:!0,kill:!1},p1e={suppressEvents:!0},jL={},wh=[],mR={},MY,Vs={},dT={},ez=30,CS=[],HL="",GL=function(e){var t=e[0],n,r;if(xl(t)||ei(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(r=CS.length;r--&&!CS[r].targetTest(t););n=CS[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new qY(e[r],n)))||e.splice(r,1);return e},c0=function(e){return e._gsap||GL(No(e))[0]._gsap},EY=function(e,t,n){return(n=e[t])&&ei(n)?e[t]():kL(n)&&e.getAttribute&&e.getAttribute(t)||n},xs=function(e,t){return(e=e.split(",")).forEach(t)||e},ai=function(e){return Math.round(e*1e5)/1e5||0},Vi=function(e){return Math.round(e*1e7)/1e7||0},Cm=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+r:n==="-"?e-r:n==="*"?e*r:e/r},m1e=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},A4=function(){var e=wh.length,t=wh.slice(0),n,r;for(mR={},wh.length=0,n=0;n<e;n++)r=t[n],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},TY=function(e,t,n,r){wh.length&&!Br&&A4(),e.render(t,n,Br&&t<0&&(e._initted||e._startAt)),wh.length&&!Br&&A4()},RY=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(wY).length<2?t:Yi(e)?e.trim():e},PY=function(e){return e},Ho=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},g1e=function(e){return function(t,n){for(var r in n)r in t||r==="duration"&&e||r==="ease"||(t[r]=n[r])}},M0=function(e,t){for(var n in t)e[n]=t[n];return e},tz=function i(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=xl(t[n])?i(e[n]||(e[n]={}),t[n]):t[n]);return e},w4=function(e,t){var n={},r;for(r in e)r in t||(n[r]=e[r]);return n},Tv=function(e){var t=e.parent||zn,n=e.keyframes?g1e(Fr(e.keyframes)):Ho;if(_s(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},v1e=function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0},IY=function(e,t,n,r,s){var o=e[r],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},DM=function(e,t,n,r){n===void 0&&(n="_first"),r===void 0&&(r="_last");var s=t._prev,o=t._next;s?s._next=o:e[n]===t&&(e[n]=o),o?o._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},Lh=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},u0=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},y1e=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},gR=function(e,t,n,r){return e._startAt&&(Br?e._startAt.revert(bS):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},_1e=function i(e){return!e||e._ts&&i(e.parent)},nz=function(e){return e._repeat?gg(e._tTime,e=e.duration()+e._rDelay)*e:0},gg=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},S4=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},BM=function(e){return e._end=Vi(e._start+(e._tDur/Math.abs(e._ts||e._rts||bn)||0))},FM=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Vi(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),BM(e),n._dirty||u0(n,e)),e},LY=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=S4(e.rawTime(),t),(!t._dur||bx(0,t.totalDuration(),n)-t._tTime>bn)&&t.render(n,!0)),u0(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-bn}},al=function(e,t,n,r){return t.parent&&Lh(t),t._start=Vi((Yc(n)?n:n||e!==zn?Ao(e,n,t):e._time)+t._delay),t._end=Vi(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),IY(e,t,"_first","_last",e._sort?"_start":0),vR(t)||(e._recent=t),r||LY(e,t),e._ts<0&&FM(e,e._tTime),e},DY=function(e,t){return(ro.ScrollTrigger||zL("scrollTrigger",t))&&ro.ScrollTrigger.create(t,e)},BY=function(e,t,n,r,s){if(WL(e,t,s),!e._initted)return 1;if(!n&&e._pt&&!Br&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&MY!==Xs.frame)return wh.push(e),e._lazy=[s,r],1},x1e=function i(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||i(t))},vR=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},A1e=function(e,t,n,r){var s=e.ratio,o=t<0||!t&&(!e._start&&x1e(e)&&!(!e._initted&&vR(e))||(e._ts<0||e._dp._ts<0)&&!vR(e))?0:1,a=e._rDelay,l=0,c,u,h;if(a&&e._repeat&&(l=bx(0,e._tDur,t),u=gg(l,a),e._yoyo&&u&1&&(o=1-o),u!==gg(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Br||r||e._zTime===bn||!t&&e._zTime){if(!e._initted&&BY(e,t,r,n,l))return;for(h=e._zTime,e._zTime=t||(n?bn:0),n||(n=t&&!h),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;t<0&&gR(e,t,n,!0),e._onUpdate&&!n&&qs(e,"onUpdate"),l&&e._repeat&&!n&&e.parent&&qs(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&Lh(e,1),!n&&!Br&&(qs(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},w1e=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},vg=function(e,t,n,r){var s=e._repeat,o=Vi(t)||0,a=e._tTime/e._tDur;return a&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Vi(o*(s+1)+e._rDelay*s):o,a>0&&!r&&FM(e,e._tTime=e._tDur*a),e.parent&&BM(e),n||u0(e.parent,e),e},iz=function(e){return e instanceof qr?u0(e):vg(e,e._dur)},S1e={_start:0,endTime:Cy,totalDuration:Cy},Ao=function i(e,t,n){var r=e.labels,s=e._recent||S1e,o=e.duration()>=ko?s.endTime(!1):e._dur,a,l,c;return Yi(t)&&(isNaN(t)||t in r)?(l=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:n).totalDuration()/100:1)):a<0?(t in r||(r[t]=o),r[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&n&&(l=l/100*(Fr(n)?n[0]:n).totalDuration()),a>1?i(e,t.substr(0,a-1),n)+l:o+l)):t==null?o:+t},Rv=function(e,t,n){var r=Yc(t[1]),s=(r?2:1)+(e<2?0:1),o=t[s],a,l;if(r&&(o.duration=t[1]),o.parent=n,e){for(a=o,l=n;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=_s(l.vars.inherit)&&l.parent;o.immediateRender=_s(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new vi(t[0],o,t[s+1])},Vh=function(e,t){return e||e===0?t(e):t},bx=function(e,t,n){return n<e?e:n>t?t:n},Tr=function(e,t){return!Yi(e)||!(t=d1e.exec(e))?"":t[1]},b1e=function(e,t,n){return Vh(n,function(r){return bx(e,t,r)})},yR=[].slice,FY=function(e,t){return e&&xl(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&xl(e[0]))&&!e.nodeType&&e!==ja},C1e=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(r){var s;return Yi(r)&&!t||FY(r,1)?(s=n).push.apply(s,No(r)):n.push(r)})||n},No=function(e,t,n){return On&&!t&&On.selector?On.selector(e):Yi(e)&&!n&&(pR||!yg())?yR.call((t||UL).querySelectorAll(e),0):Fr(e)?C1e(e,n):FY(e)?yR.call(e,0):e?[e]:[]},_R=function(e){return e=No(e)[0]||by("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return No(t,n.querySelectorAll?n:n===e?by("Invalid scope")||UL.createElement("div"):e)}},OY=function(e){return e.sort(function(){return .5-Math.random()})},kY=function(e){if(ei(e))return e;var t=xl(e)?e:{each:e},n=h0(t.ease),r=t.from||0,s=parseFloat(t.base)||0,o={},a=r>0&&r<1,l=isNaN(r)||a,c=t.axis,u=r,h=r;return Yi(r)?u=h={center:.5,edges:.5,end:1}[r]||0:!a&&l&&(u=r[0],h=r[1]),function(d,m,g){var y=(g||t).length,_=o[y],v,A,w,C,T,E,R,D,I;if(!_){if(I=t.grid==="auto"?0:(t.grid||[1,ko])[1],!I){for(R=-ko;R<(R=g[I++].getBoundingClientRect().left)&&I<y;);I<y&&I--}for(_=o[y]=[],v=l?Math.min(I,y)*u-.5:r%I,A=I===ko?0:l?y*h/I-.5:r/I|0,R=0,D=ko,E=0;E<y;E++)w=E%I-v,C=A-(E/I|0),_[E]=T=c?Math.abs(c==="y"?C:w):yY(w*w+C*C),T>R&&(R=T),T<D&&(D=T);r==="random"&&OY(_),_.max=R-D,_.min=D,_.v=y=(parseFloat(t.amount)||parseFloat(t.each)*(I>y?y-1:c?c==="y"?y/I:I:Math.max(I,y/I))||0)*(r==="edges"?-1:1),_.b=y<0?s-y:s,_.u=Tr(t.amount||t.each)||0,n=n&&y<0?KY(n):n}return y=(_[d]-_.min)/_.max||0,Vi(_.b+(n?n(y):y)*_.v)+_.u}},xR=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=Vi(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(Yc(n)?0:Tr(n))}},NY=function(e,t){var n=Fr(e),r,s;return!n&&xl(e)&&(r=n=e.radius||ko,e.values?(e=No(e.values),(s=!Yc(e[0]))&&(r*=r)):e=xR(e.increment)),Vh(t,n?ei(e)?function(o){return s=e(o),Math.abs(s-o)<=r?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=ko,u=0,h=e.length,d,m;h--;)s?(d=e[h].x-a,m=e[h].y-l,d=d*d+m*m):d=Math.abs(e[h]-a),d<c&&(c=d,u=h);return u=!r||c<=r?e[u]:o,s||u===o||Yc(o)?u:u+Tr(o)}:xR(e))},UY=function(e,t,n,r){return Vh(Fr(e)?!t:n===!0?!!(n=0):!r,function(){return Fr(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*r)/r})},M1e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduce(function(s,o){return o(s)},r)}},E1e=function(e,t){return function(n){return e(parseFloat(n))+(t||Tr(n))}},T1e=function(e,t,n){return jY(e,t,0,1,n)},zY=function(e,t,n){return Vh(n,function(r){return e[~~t(r)]})},R1e=function i(e,t,n){var r=t-e;return Fr(e)?zY(e,i(0,e.length),t):Vh(n,function(s){return(r+(s-e)%r)%r+e})},P1e=function i(e,t,n){var r=t-e,s=r*2;return Fr(e)?zY(e,i(0,e.length-1),t):Vh(n,function(o){return o=(s+(o-e)%s)%s||0,e+(o>r?s-o:o)})},My=function(e){for(var t=0,n="",r,s,o,a;~(r=e.indexOf("random(",t));)o=e.indexOf(")",r),a=e.charAt(r+7)==="[",s=e.substr(r+7,o-r-7).match(a?wY:fR),n+=e.substr(t,r-t)+UY(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return n+e.substr(t,e.length-t)},jY=function(e,t,n,r,s){var o=t-e,a=r-n;return Vh(s,function(l){return n+((l-e)/o*a||0)})},I1e=function i(e,t,n,r){var s=isNaN(e+t)?0:function(m){return(1-m)*e+m*t};if(!s){var o=Yi(e),a={},l,c,u,h,d;if(n===!0&&(r=1)&&(n=null),o)e={p:e},t={p:t};else if(Fr(e)&&!Fr(t)){for(u=[],h=e.length,d=h-2,c=1;c<h;c++)u.push(i(e[c-1],e[c]));h--,s=function(g){g*=h;var y=Math.min(d,~~g);return u[y](g-y)},n=t}else r||(e=M0(Fr(e)?[]:{},e));if(!u){for(l in t)VL.call(a,e,l,"get",t[l]);s=function(g){return YL(g,a)||(o?e.p:e)}}}return Vh(n,s)},rz=function(e,t,n){var r=e.labels,s=ko,o,a,l;for(o in r)a=r[o]-t,a<0==!!n&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},qs=function(e,t,n){var r=e.vars,s=r[t],o=On,a=e._ctx,l,c,u;if(s)return l=r[t+"Params"],c=r.callbackScope||e,n&&wh.length&&A4(),a&&(On=a),u=l?s.apply(c,l):s.call(c),On=o,u},H1=function(e){return Lh(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Br),e.progress()<1&&qs(e,"onInterrupt"),e},dm,HY=[],GY=function(e){if(e)if(e=!e.name&&e.default||e,NL()||e.headless){var t=e.name,n=ei(e),r=t&&!n&&e.init?function(){this._props=[]}:e,s={init:Cy,render:YL,add:VL,kill:K1e,modifier:X1e,rawVars:0},o={targetTest:0,get:0,getSetter:KL,aliases:{},register:0};if(yg(),e!==r){if(Vs[t])return;Ho(r,Ho(w4(e,s),o)),M0(r.prototype,M0(s,w4(e,o))),Vs[r.prop=t]=r,e.targetTest&&(CS.push(r),jL[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}CY(t,r),e.register&&e.register(bs,r,As)}else HY.push(e)},vn=255,G1={aqua:[0,vn,vn],lime:[0,vn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,vn],navy:[0,0,128],white:[vn,vn,vn],olive:[128,128,0],yellow:[vn,vn,0],orange:[vn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[vn,0,0],pink:[vn,192,203],cyan:[0,vn,vn],transparent:[vn,vn,vn,0]},fT=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*vn+.5|0},VY=function(e,t,n){var r=e?Yc(e)?[e>>16,e>>8&vn,e&vn]:0:G1.black,s,o,a,l,c,u,h,d,m,g;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),G1[e])r=G1[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&vn,r&vn,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&vn,e&vn]}else if(e.substr(0,3)==="hsl"){if(r=g=e.match(fR),!t)l=+r[0]%360/360,c=+r[1]/100,u=+r[2]/100,o=u<=.5?u*(c+1):u+c-u*c,s=u*2-o,r.length>3&&(r[3]*=1),r[0]=fT(l+1/3,s,o),r[1]=fT(l,s,o),r[2]=fT(l-1/3,s,o);else if(~e.indexOf("="))return r=e.match(xY),n&&r.length<4&&(r[3]=1),r}else r=e.match(fR)||G1.transparent;r=r.map(Number)}return t&&!g&&(s=r[0]/vn,o=r[1]/vn,a=r[2]/vn,h=Math.max(s,o,a),d=Math.min(s,o,a),u=(h+d)/2,h===d?l=c=0:(m=h-d,c=u>.5?m/(2-h-d):m/(h+d),l=h===s?(o-a)/m+(o<a?6:0):h===o?(a-s)/m+2:(s-o)/m+4,l*=60),r[0]=~~(l+.5),r[1]=~~(c*100+.5),r[2]=~~(u*100+.5)),n&&r.length<4&&(r[3]=1),r},WY=function(e){var t=[],n=[],r=-1;return e.split(Sh).forEach(function(s){var o=s.match(hm)||[];t.push.apply(t,o),n.push(r+=o.length+1)}),t.c=n,t},sz=function(e,t,n){var r="",s=(e+r).match(Sh),o=t?"hsla(":"rgba(",a=0,l,c,u,h;if(!s)return e;if(s=s.map(function(d){return(d=VY(d,t,1))&&o+(t?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),n&&(u=WY(e),l=n.c,l.join(r)!==u.c.join(r)))for(c=e.replace(Sh,"1").split(hm),h=c.length-1;a<h;a++)r+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:n).shift());if(!c)for(c=e.split(Sh),h=c.length-1;a<h;a++)r+=c[a]+s[a];return r+c[h]},Sh=function(){var i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in G1)i+="|"+e+"\\b";return new RegExp(i+")","gi")}(),L1e=/hsl[a]?\(/,XY=function(e){var t=e.join(" "),n;if(Sh.lastIndex=0,Sh.test(t))return n=L1e.test(t),e[1]=sz(e[1],n),e[0]=sz(e[0],n,WY(e[1])),!0},Ey,Xs=function(){var i=Date.now,e=500,t=33,n=i(),r=n,s=1e3/240,o=s,a=[],l,c,u,h,d,m,g=function y(_){var v=i()-r,A=_===!0,w,C,T,E;if((v>e||v<0)&&(n+=v-t),r+=v,T=r-n,w=T-o,(w>0||A)&&(E=++h.frame,d=T-h.time*1e3,h.time=T=T/1e3,o+=w+(w>=s?4:s-w),C=1),A||(l=c(y)),C)for(m=0;m<a.length;m++)a[m](T,d,E,_)};return h={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(_){return d/(1e3/(_||60))},wake:function(){SY&&(!pR&&NL()&&(ja=pR=window,UL=ja.document||{},ro.gsap=bs,(ja.gsapVersions||(ja.gsapVersions=[])).push(bs.version),bY(x4||ja.GreenSockGlobals||!ja.gsap&&ja||{}),HY.forEach(GY)),u=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&h.sleep(),c=u||function(_){return setTimeout(_,o-h.time*1e3+1|0)},Ey=1,g(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(l),Ey=0,c=Cy},lagSmoothing:function(_,v){e=_||1/0,t=Math.min(v||33,e)},fps:function(_){s=1e3/(_||240),o=h.time*1e3+s},add:function(_,v,A){var w=v?function(C,T,E,R){_(C,T,E,R),h.remove(w)}:_;return h.remove(_),a[A?"unshift":"push"](w),yg(),w},remove:function(_,v){~(v=a.indexOf(_))&&a.splice(v,1)&&m>=v&&m--},_listeners:a},h}(),yg=function(){return!Ey&&Xs.wake()},Gt={},D1e=/^[\d.\-M][\d.\-,\s]/,B1e=/["']/g,F1e=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),r=n[0],s=1,o=n.length,a,l,c;s<o;s++)l=n[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[r]=isNaN(c)?c.replace(B1e,"").trim():+c,r=l.substr(a+1).trim();return t},O1e=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)},k1e=function(e){var t=(e+"").split("("),n=Gt[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[F1e(t[1])]:O1e(e).split(",").map(RY)):Gt._CE&&D1e.test(e)?Gt._CE("",e):n},KY=function(e){return function(t){return 1-e(1-t)}},YY=function i(e,t){for(var n=e._first,r;n;)n instanceof qr?i(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?i(n.timeline,t):(r=n._ease,n._ease=n._yEase,n._yEase=r,n._yoyo=t)),n=n._next},h0=function(e,t){return e&&(ei(e)?e:Gt[e]||k1e(e))||t},G0=function(e,t,n,r){n===void 0&&(n=function(l){return 1-t(1-l)}),r===void 0&&(r=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:n,easeInOut:r},o;return xs(e,function(a){Gt[a]=ro[a]=s,Gt[o=a.toLowerCase()]=n;for(var l in s)Gt[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Gt[a+"."+l]=s[l]}),s},JY=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},pT=function i(e,t,n){var r=t>=1?t:1,s=(n||(e?.3:.45))/(t<1?t:1),o=s/dR*(Math.asin(1/r)||0),a=function(u){return u===1?1:r*Math.pow(2,-10*u)*h1e((u-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:JY(a);return s=dR/s,l.config=function(c,u){return i(e,c,u)},l},mT=function i(e,t){t===void 0&&(t=1.70158);var n=function(o){return o?--o*o*((t+1)*o+t)+1:0},r=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:JY(n);return r.config=function(s){return i(e,s)},r};xs("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,e){var t=e<5?e+1:e;G0(i+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});Gt.Linear.easeNone=Gt.none=Gt.Linear.easeIn;G0("Elastic",pT("in"),pT("out"),pT());(function(i,e){var t=1/e,n=2*t,r=2.5*t,s=function(a){return a<t?i*a*a:a<n?i*Math.pow(a-1.5/e,2)+.75:a<r?i*(a-=2.25/e)*a+.9375:i*Math.pow(a-2.625/e,2)+.984375};G0("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);G0("Expo",function(i){return i?Math.pow(2,10*(i-1)):0});G0("Circ",function(i){return-(yY(1-i*i)-1)});G0("Sine",function(i){return i===1?1:-u1e(i*l1e)+1});G0("Back",mT("in"),mT("out"),mT());Gt.SteppedEase=Gt.steps=ro.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,r=e+(t?0:1),s=t?1:0,o=1-bn;return function(a){return((r*bx(0,o,a)|0)+s)*n}}};mg.ease=Gt["quad.out"];xs("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return HL+=i+","+i+"Params,"});var qY=function(e,t){this.id=c1e++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:EY,this.set=t?t.getSetter:KL},Ty=function(){function i(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,vg(this,+t.duration,1,1),this.data=t.data,On&&(this._ctx=On,On.data.push(this)),Ey||Xs.wake()}var e=i.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,vg(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,r){if(yg(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(FM(this,n),!s._dp||s.parent||LY(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&al(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===bn||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),TY(this,n,r)),this},e.time=function(n,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+nz(this))%(this._dur+this._rDelay)||(n?this._dur:0),r):this._time},e.totalProgress=function(n,r){return arguments.length?this.totalTime(this.totalDuration()*n,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(n,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+nz(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,r):this._repeat?gg(this._tTime,s)+1:1},e.timeScale=function(n,r){if(!arguments.length)return this._rts===-bn?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?S4(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-bn?0:this._rts,this.totalTime(bx(-Math.abs(this._delay),this._tDur,s),r!==!1),BM(this),y1e(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(yg(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==bn&&(this._tTime-=bn)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&al(r,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(_s(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var r=this.parent||this._dp;return r?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?S4(r.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=p1e);var r=Br;return Br=n,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),Br=r,this},e.globalTime=function(n){for(var r=this,s=arguments.length?n:r.rawTime();r;)s=r._start+s/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(n):s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,iz(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var r=this._time;return this._rDelay=n,iz(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,r){return this.totalTime(Ao(this,n),_s(r))},e.restart=function(n,r){return this.play().totalTime(n?-this._delay:0,_s(r))},e.play=function(n,r){return n!=null&&this.seek(n,r),this.reversed(!1).paused(!1)},e.reverse=function(n,r){return n!=null&&this.seek(n||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(n,r){return n!=null&&this.seek(n,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-bn:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-bn,this},e.isActive=function(){var n=this.parent||this._dp,r=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=r&&s<this.endTime(!0)-bn)},e.eventCallback=function(n,r,s){var o=this.vars;return arguments.length>1?(r?(o[n]=r,s&&(o[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=r)):delete o[n],this):o[n]},e.then=function(n){var r=this;return new Promise(function(s){var o=ei(n)?n:PY,a=function(){var c=r.then;r.then=null,ei(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=c),s(o),r.then=c};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},e.kill=function(){H1(this)},i}();Ho(Ty.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-bn,_prom:0,_ps:!1,_rts:1});var qr=function(i){vY(e,i);function e(n,r){var s;return n===void 0&&(n={}),s=i.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=_s(n.sortChildren),zn&&al(n.parent||zn,jl(s),r),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&DY(jl(s),n.scrollTrigger),s}var t=e.prototype;return t.to=function(r,s,o){return Rv(0,arguments,this),this},t.from=function(r,s,o){return Rv(1,arguments,this),this},t.fromTo=function(r,s,o,a){return Rv(2,arguments,this),this},t.set=function(r,s,o){return s.duration=0,s.parent=this,Tv(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new vi(r,s,Ao(this,o),1),this},t.call=function(r,s,o){return al(this,vi.delayedCall(0,r,s),o)},t.staggerTo=function(r,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new vi(r,o,Ao(this,l)),this},t.staggerFrom=function(r,s,o,a,l,c,u){return o.runBackwards=1,Tv(o).immediateRender=_s(o.immediateRender),this.staggerTo(r,s,o,a,l,c,u)},t.staggerFromTo=function(r,s,o,a,l,c,u,h){return a.startAt=o,Tv(a).immediateRender=_s(a.immediateRender),this.staggerTo(r,s,a,l,c,u,h)},t.render=function(r,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=r<=0?0:Vi(r),h=this._zTime<0!=r<0&&(this._initted||!c),d,m,g,y,_,v,A,w,C,T,E,R;if(this!==zn&&u>l&&r>=0&&(u=l),u!==this._tTime||o||h){if(a!==this._time&&c&&(u+=this._time-a,r+=this._time-a),d=u,C=this._start,w=this._ts,v=!w,h&&(c||(a=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(E=this._yoyo,_=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(_*100+r,s,o);if(d=Vi(u%_),u===l?(y=this._repeat,d=c):(y=~~(u/_),y&&y===u/_&&(d=c,y--),d>c&&(d=c)),T=gg(this._tTime,_),!a&&this._tTime&&T!==y&&this._tTime-T*_-this._dur<=0&&(T=y),E&&y&1&&(d=c-d,R=1),y!==T&&!this._lock){var D=E&&T&1,I=D===(E&&y&1);if(y<T&&(D=!D),a=D?0:u%c?c:u,this._lock=1,this.render(a||(R?0:Vi(y*_)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&qs(this,"onRepeat"),this.vars.repeatRefresh&&!R&&(this.invalidate()._lock=1),a&&a!==this._time||v!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,I&&(this._lock=2,a=D?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!R&&this.invalidate()),this._lock=0,!this._ts&&!v)return this;YY(this,R)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(A=w1e(this,Vi(a),Vi(d)),A&&(u-=d-(d=A._start))),this._tTime=u,this._time=d,this._act=!w,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&d&&!s&&!y&&(qs(this,"onStart"),this._tTime!==u))return this;if(d>=a&&r>=0)for(m=this._first;m;){if(g=m._next,(m._act||d>=m._start)&&m._ts&&A!==m){if(m.parent!==this)return this.render(r,s,o);if(m.render(m._ts>0?(d-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(d-m._start)*m._ts,s,o),d!==this._time||!this._ts&&!v){A=0,g&&(u+=this._zTime=-bn);break}}m=g}else{m=this._last;for(var L=r<0?r:d;m;){if(g=m._prev,(m._act||L<=m._end)&&m._ts&&A!==m){if(m.parent!==this)return this.render(r,s,o);if(m.render(m._ts>0?(L-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(L-m._start)*m._ts,s,o||Br&&(m._initted||m._startAt)),d!==this._time||!this._ts&&!v){A=0,g&&(u+=this._zTime=L?-bn:bn);break}}m=g}}if(A&&!s&&(this.pause(),A.render(d>=a?0:-bn)._zTime=d>=a?1:-1,this._ts))return this._start=C,BM(this),this.render(r,s,o);this._onUpdate&&!s&&qs(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(C===this._start||Math.abs(w)!==Math.abs(this._ts))&&(this._lock||((r||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&Lh(this,1),!s&&!(r<0&&!a)&&(u||a||!l)&&(qs(this,u===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var o=this;if(Yc(s)||(s=Ao(this,s,r)),!(r instanceof Ty)){if(Fr(r))return r.forEach(function(a){return o.add(a,s)}),this;if(Yi(r))return this.addLabel(r,s);if(ei(r))r=vi.delayedCall(0,r);else return this}return this!==r?al(this,r,s):this},t.getChildren=function(r,s,o,a){r===void 0&&(r=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-ko);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof vi?s&&l.push(c):(o&&l.push(c),r&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(r){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===r)return s[o]},t.remove=function(r){return Yi(r)?this.removeLabel(r):ei(r)?this.killTweensOf(r):(DM(this,r),r===this._recent&&(this._recent=this._last),u0(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Vi(Xs.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),i.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=Ao(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,o){var a=vi.delayedCall(0,s||Cy,o);return a.data="isPause",this._hasPause=1,al(this,a,Ao(this,r))},t.removePause=function(r){var s=this._first;for(r=Ao(this,r);s;)s._start===r&&s.data==="isPause"&&Lh(s),s=s._next},t.killTweensOf=function(r,s,o){for(var a=this.getTweensOf(r,o),l=a.length;l--;)lh!==a[l]&&a[l].kill(r,s);return this},t.getTweensOf=function(r,s){for(var o=[],a=No(r),l=this._first,c=Yc(s),u;l;)l instanceof vi?m1e(l._targets,a)&&(c?(!lh||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},t.tweenTo=function(r,s){s=s||{};var o=this,a=Ao(o,r),l=s,c=l.startAt,u=l.onStart,h=l.onStartParams,d=l.immediateRender,m,g=vi.to(o,Ho({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||bn,onStart:function(){if(o.pause(),!m){var _=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());g._dur!==_&&vg(g,_,0,1).render(g._time,!0,!0),m=1}u&&u.apply(g,h||[])}},s));return d?g.render(0):g},t.tweenFromTo=function(r,s,o){return this.tweenTo(s,Ho({startAt:{time:Ao(this,r)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),rz(this,Ao(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),rz(this,Ao(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+bn)},t.shiftChildren=function(r,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=r,a._end+=r),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=r);return u0(this)},t.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return i.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),u0(this)},t.totalDuration=function(r){var s=0,o=this,a=o._last,l=ko,c,u,h;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-r:r));if(o._dirty){for(h=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,al(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!h&&!o._dp||h&&h.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;vg(o,o===zn&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(r){if(zn._ts&&(TY(zn,S4(r,zn)),MY=Xs.frame),Xs.frame>=ez){ez+=$s.autoSleep||120;var s=zn._first;if((!s||!s._ts)&&$s.autoSleep&&Xs._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Xs.sleep()}}},e}(Ty);Ho(qr.prototype,{_lock:0,_hasPause:0,_forcing:0});var N1e=function(e,t,n,r,s,o,a){var l=new As(this._pt,e,t,0,1,nJ,null,s),c=0,u=0,h,d,m,g,y,_,v,A;for(l.b=n,l.e=r,n+="",r+="",(v=~r.indexOf("random("))&&(r=My(r)),o&&(A=[n,r],o(A,e,t),n=A[0],r=A[1]),d=n.match(hT)||[];h=hT.exec(r);)g=h[0],y=r.substring(c,h.index),m?m=(m+1)%5:y.substr(-5)==="rgba("&&(m=1),g!==d[u++]&&(_=parseFloat(d[u-1])||0,l._pt={_next:l._pt,p:y||u===1?y:",",s:_,c:g.charAt(1)==="="?Cm(_,g)-_:parseFloat(g)-_,m:m&&m<4?Math.round:0},c=hT.lastIndex);return l.c=c<r.length?r.substring(c,r.length):"",l.fp=a,(AY.test(r)||v)&&(l.e=0),this._pt=l,l},VL=function(e,t,n,r,s,o,a,l,c,u){ei(r)&&(r=r(s||0,e,o));var h=e[t],d=n!=="get"?n:ei(h)?c?e[t.indexOf("set")||!ei(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():h,m=ei(h)?c?G1e:eJ:XL,g;if(Yi(r)&&(~r.indexOf("random(")&&(r=My(r)),r.charAt(1)==="="&&(g=Cm(d,r)+(Tr(d)||0),(g||g===0)&&(r=g))),!u||d!==r||AR)return!isNaN(d*r)&&r!==""?(g=new As(this._pt,e,t,+d||0,r-(d||0),typeof h=="boolean"?W1e:tJ,0,m),c&&(g.fp=c),a&&g.modifier(a,this,e),this._pt=g):(!h&&!(t in e)&&zL(t,r),N1e.call(this,e,t,d,r,m,l||$s.stringFilter,c))},U1e=function(e,t,n,r,s){if(ei(e)&&(e=Pv(e,s,t,n,r)),!xl(e)||e.style&&e.nodeType||Fr(e)||_Y(e))return Yi(e)?Pv(e,s,t,n,r):e;var o={},a;for(a in e)o[a]=Pv(e[a],s,t,n,r);return o},ZY=function(e,t,n,r,s,o){var a,l,c,u;if(Vs[e]&&(a=new Vs[e]).init(s,a.rawVars?t[e]:U1e(t[e],r,s,o,n),n,r,o)!==!1&&(n._pt=l=new As(n._pt,s,e,0,1,a.render,a,0,a.priority),n!==dm))for(c=n._ptLookup[n._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},lh,AR,WL=function i(e,t,n){var r=e.vars,s=r.ease,o=r.startAt,a=r.immediateRender,l=r.lazy,c=r.onUpdate,u=r.runBackwards,h=r.yoyoEase,d=r.keyframes,m=r.autoRevert,g=e._dur,y=e._startAt,_=e._targets,v=e.parent,A=v&&v.data==="nested"?v.vars.targets:_,w=e._overwrite==="auto"&&!OL,C=e.timeline,T,E,R,D,I,L,O,X,W,q,$,Q,ee;if(C&&(!d||!s)&&(s="none"),e._ease=h0(s,mg.ease),e._yEase=h?KY(h0(h===!0?s:h,mg.ease)):0,h&&e._yoyo&&!e._repeat&&(h=e._yEase,e._yEase=e._ease,e._ease=h),e._from=!C&&!!r.runBackwards,!C||d&&!r.stagger){if(X=_[0]?c0(_[0]).harness:0,Q=X&&r[X.prop],T=w4(r,jL),y&&(y._zTime<0&&y.progress(1),t<0&&u&&a&&!m?y.render(-1,!0):y.revert(u&&g?bS:f1e),y._lazy=0),o){if(Lh(e._startAt=vi.set(_,Ho({data:"isStart",overwrite:!1,parent:v,immediateRender:!0,lazy:!y&&_s(l),startAt:null,delay:0,onUpdate:c&&function(){return qs(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Br||!a&&!m)&&e._startAt.revert(bS),a&&g&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(u&&g&&!y){if(t&&(a=!1),R=Ho({overwrite:!1,data:"isFromStart",lazy:a&&!y&&_s(l),immediateRender:a,stagger:0,parent:v},T),Q&&(R[X.prop]=Q),Lh(e._startAt=vi.set(_,R)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Br?e._startAt.revert(bS):e._startAt.render(-1,!0)),e._zTime=t,!a)i(e._startAt,bn,bn);else if(!t)return}for(e._pt=e._ptCache=0,l=g&&_s(l)||l&&!g,E=0;E<_.length;E++){if(I=_[E],O=I._gsap||GL(_)[E]._gsap,e._ptLookup[E]=q={},mR[O.id]&&wh.length&&A4(),$=A===_?E:A.indexOf(I),X&&(W=new X).init(I,Q||T,e,$,A)!==!1&&(e._pt=D=new As(e._pt,I,W.name,0,1,W.render,W,0,W.priority),W._props.forEach(function(k){q[k]=D}),W.priority&&(L=1)),!X||Q)for(R in T)Vs[R]&&(W=ZY(R,T,e,$,I,A))?W.priority&&(L=1):q[R]=D=VL.call(e,I,R,"get",T[R],$,A,0,r.stringFilter);e._op&&e._op[E]&&e.kill(I,e._op[E]),w&&e._pt&&(lh=e,zn.killTweensOf(I,q,e.globalTime(t)),ee=!e.parent,lh=0),e._pt&&l&&(mR[O.id]=1)}L&&iJ(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!ee,d&&t<=0&&C.render(ko,!0,!0)},z1e=function(e,t,n,r,s,o,a,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[t],u,h,d,m;if(!c)for(c=e._ptCache[t]=[],d=e._ptLookup,m=e._targets.length;m--;){if(u=d[m][t],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==t&&u.fp!==t;)u=u._next;if(!u)return AR=1,e.vars[t]="+=0",WL(e,a),AR=0,l?by(t+" not eligible for reset"):1;c.push(u)}for(m=c.length;m--;)h=c[m],u=h._pt||h,u.s=(r||r===0)&&!s?r:u.s+(r||0)+o*u.c,u.c=n-u.s,h.e&&(h.e=ai(n)+Tr(h.e)),h.b&&(h.b=u.s+Tr(h.b))},j1e=function(e,t){var n=e[0]?c0(e[0]).harness:0,r=n&&n.aliases,s,o,a,l;if(!r)return t;s=M0({},t);for(o in r)if(o in s)for(l=r[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},H1e=function(e,t,n,r){var s=t.ease||r||"power1.inOut",o,a;if(Fr(t))a=n[e]||(n[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=n[o]||(n[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},Pv=function(e,t,n,r,s){return ei(e)?e.call(t,n,r,s):Yi(e)&&~e.indexOf("random(")?My(e):e},QY=HL+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",$Y={};xs(QY+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return $Y[i]=1});var vi=function(i){vY(e,i);function e(n,r,s,o){var a;typeof r=="number"&&(s.duration=r,r=s,s=null),a=i.call(this,o?r:Tv(r))||this;var l=a.vars,c=l.duration,u=l.delay,h=l.immediateRender,d=l.stagger,m=l.overwrite,g=l.keyframes,y=l.defaults,_=l.scrollTrigger,v=l.yoyoEase,A=r.parent||zn,w=(Fr(n)||_Y(n)?Yc(n[0]):"length"in r)?[n]:No(n),C,T,E,R,D,I,L,O;if(a._targets=w.length?GL(w):by("GSAP target "+n+" not found. https://gsap.com",!$s.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=m,g||d||Yw(c)||Yw(u)){if(r=a.vars,C=a.timeline=new qr({data:"nested",defaults:y||{},targets:A&&A.data==="nested"?A.vars.targets:w}),C.kill(),C.parent=C._dp=jl(a),C._start=0,d||Yw(c)||Yw(u)){if(R=w.length,L=d&&kY(d),xl(d))for(D in d)~QY.indexOf(D)&&(O||(O={}),O[D]=d[D]);for(T=0;T<R;T++)E=w4(r,$Y),E.stagger=0,v&&(E.yoyoEase=v),O&&M0(E,O),I=w[T],E.duration=+Pv(c,jl(a),T,I,w),E.delay=(+Pv(u,jl(a),T,I,w)||0)-a._delay,!d&&R===1&&E.delay&&(a._delay=u=E.delay,a._start+=u,E.delay=0),C.to(I,E,L?L(T,I,w):0),C._ease=Gt.none;C.duration()?c=u=0:a.timeline=0}else if(g){Tv(Ho(C.vars.defaults,{ease:"none"})),C._ease=h0(g.ease||r.ease||"none");var X=0,W,q,$;if(Fr(g))g.forEach(function(Q){return C.to(w,Q,">")}),C.duration();else{E={};for(D in g)D==="ease"||D==="easeEach"||H1e(D,g[D],E,g.easeEach);for(D in E)for(W=E[D].sort(function(Q,ee){return Q.t-ee.t}),X=0,T=0;T<W.length;T++)q=W[T],$={ease:q.e,duration:(q.t-(T?W[T-1].t:0))/100*c},$[D]=q.v,C.to(w,$,X),X+=$.duration;C.duration()<c&&C.to({},{duration:c-C.duration()})}}c||a.duration(c=C.duration())}else a.timeline=0;return m===!0&&!OL&&(lh=jl(a),zn.killTweensOf(w),lh=0),al(A,jl(a),s),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(h||!c&&!g&&a._start===Vi(A._time)&&_s(h)&&_1e(jl(a))&&A.data!=="nested")&&(a._tTime=-bn,a.render(Math.max(0,-u)||0)),_&&DY(jl(a),_),a}var t=e.prototype;return t.render=function(r,s,o){var a=this._time,l=this._tDur,c=this._dur,u=r<0,h=r>l-bn&&!u?l:r<bn?0:r,d,m,g,y,_,v,A,w,C;if(!c)A1e(this,r,s,o);else if(h!==this._tTime||!r||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(d=h,w=this.timeline,this._repeat){if(y=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(y*100+r,s,o);if(d=Vi(h%y),h===l?(g=this._repeat,d=c):(g=~~(h/y),g&&g===Vi(h/y)&&(d=c,g--),d>c&&(d=c)),v=this._yoyo&&g&1,v&&(C=this._yEase,d=c-d),_=gg(this._tTime,y),d===a&&!o&&this._initted&&g===_)return this._tTime=h,this;g!==_&&(w&&this._yEase&&YY(w,v),this.vars.repeatRefresh&&!v&&!this._lock&&this._time!==y&&this._initted&&(this._lock=o=1,this.render(Vi(y*g),!0).invalidate()._lock=0))}if(!this._initted){if(BY(this,u?r:d,o,s,h))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&g!==_))return this;if(c!==this._dur)return this.render(r,s,o)}if(this._tTime=h,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=A=(C||this._ease)(d/c),this._from&&(this.ratio=A=1-A),d&&!a&&!s&&!g&&(qs(this,"onStart"),this._tTime!==h))return this;for(m=this._pt;m;)m.r(A,m.d),m=m._next;w&&w.render(r<0?r:w._dur*w._ease(d/this._dur),s,o)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(u&&gR(this,r,s,o),qs(this,"onUpdate")),this._repeat&&g!==_&&this.vars.onRepeat&&!s&&this.parent&&qs(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(u&&!this._onUpdate&&gR(this,r,!0,!0),(r||!c)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&Lh(this,1),!s&&!(u&&!a)&&(h||a||v)&&(qs(this,h===l?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),i.prototype.invalidate.call(this,r)},t.resetTo=function(r,s,o,a,l){Ey||Xs.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||WL(this,c),u=this._ease(c/this._dur),z1e(this,r,s,o,a,u,c,l)?this.resetTo(r,s,o,a,1):(FM(this,0),this.parent||IY(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?H1(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,lh&&lh.vars.overwrite!==!0)._first||H1(this),this.parent&&o!==this.timeline.totalDuration()&&vg(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=r?No(r):a,c=this._ptLookup,u=this._pt,h,d,m,g,y,_,v;if((!s||s==="all")&&v1e(a,l))return s==="all"&&(this._pt=0),H1(this);for(h=this._op=this._op||[],s!=="all"&&(Yi(s)&&(y={},xs(s,function(A){return y[A]=1}),s=y),s=j1e(a,s)),v=a.length;v--;)if(~l.indexOf(a[v])){d=c[v],s==="all"?(h[v]=s,g=d,m={}):(m=h[v]=h[v]||{},g=s);for(y in g)_=d&&d[y],_&&((!("kill"in _.d)||_.d.kill(y)===!0)&&DM(this,_,"_pt"),delete d[y]),m!=="all"&&(m[y]=1)}return this._initted&&!this._pt&&u&&H1(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return Rv(1,arguments)},e.delayedCall=function(r,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(r,s,o){return Rv(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,o){return zn.killTweensOf(r,s,o)},e}(Ty);Ho(vi.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});xs("staggerTo,staggerFrom,staggerFromTo",function(i){vi[i]=function(){var e=new qr,t=yR.call(arguments,0);return t.splice(i==="staggerFromTo"?5:4,0,0),e[i].apply(e,t)}});var XL=function(e,t,n){return e[t]=n},eJ=function(e,t,n){return e[t](n)},G1e=function(e,t,n,r){return e[t](r.fp,n)},V1e=function(e,t,n){return e.setAttribute(t,n)},KL=function(e,t){return ei(e[t])?eJ:kL(e[t])&&e.setAttribute?V1e:XL},tJ=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},W1e=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},nJ=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},YL=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},X1e=function(e,t,n,r){for(var s=this._pt,o;s;)o=s._next,s.p===r&&s.modifier(e,t,n),s=o},K1e=function(e){for(var t=this._pt,n,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?DM(this,t,"_pt"):t.dep||(n=1),t=r;return!n},Y1e=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},iJ=function(e){for(var t=e._pt,n,r,s,o;t;){for(n=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:o)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:o=t,t=n}e._pt=s},As=function(){function i(t,n,r,s,o,a,l,c,u){this.t=n,this.s=s,this.c=o,this.p=r,this.r=a||tJ,this.d=l||this,this.set=c||XL,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=i.prototype;return e.modifier=function(n,r,s){this.mSet=this.mSet||this.set,this.set=Y1e,this.m=n,this.mt=s,this.tween=r},i}();xs(HL+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return jL[i]=1});ro.TweenMax=ro.TweenLite=vi;ro.TimelineLite=ro.TimelineMax=qr;zn=new qr({sortChildren:!1,defaults:mg,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});$s.stringFilter=XY;var d0=[],MS={},J1e=[],oz=0,q1e=0,gT=function(e){return(MS[e]||J1e).map(function(t){return t()})},wR=function(){var e=Date.now(),t=[];e-oz>2&&(gT("matchMediaInit"),d0.forEach(function(n){var r=n.queries,s=n.conditions,o,a,l,c;for(a in r)o=ja.matchMedia(r[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(n.revert(),l&&t.push(n))}),gT("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(r){return n.add(null,r)})}),oz=e,gT("matchMedia"))},rJ=function(){function i(t,n){this.selector=n&&_R(n),this.data=[],this._r=[],this.isReverted=!1,this.id=q1e++,t&&this.add(t)}var e=i.prototype;return e.add=function(n,r,s){ei(n)&&(s=r,r=n,n=ei);var o=this,a=function(){var c=On,u=o.selector,h;return c&&c!==o&&c.data.push(o),s&&(o.selector=_R(s)),On=o,h=r.apply(o,arguments),ei(h)&&o._r.push(h),On=c,o.selector=u,o.isReverted=!1,h};return o.last=a,n===ei?a(o,function(l){return o.add(null,l)}):n?o[n]=a:a},e.ignore=function(n){var r=On;On=null,n(this),On=r},e.getTweens=function(){var n=[];return this.data.forEach(function(r){return r instanceof i?n.push.apply(n,r.getTweens()):r instanceof vi&&!(r.parent&&r.parent.data==="nested")&&n.push(r)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,r){var s=this;if(n?function(){for(var a=s.getTweens(),l=s.data.length,c;l--;)c=s.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(u){return a.splice(a.indexOf(u),1)}));for(a.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,h){return h.g-u.g||-1/0}).forEach(function(u){return u.t.revert(n)}),l=s.data.length;l--;)c=s.data[l],c instanceof qr?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof vi)&&c.revert&&c.revert(n);s._r.forEach(function(u){return u(n,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),r)for(var o=d0.length;o--;)d0[o].id===this.id&&d0.splice(o,1)},e.revert=function(n){this.kill(n||{})},i}(),Z1e=function(){function i(t){this.contexts=[],this.scope=t,On&&On.data.push(this)}var e=i.prototype;return e.add=function(n,r,s){xl(n)||(n={matches:n});var o=new rJ(0,s||this.scope),a=o.conditions={},l,c,u;On&&!o.selector&&(o.selector=On.selector),this.contexts.push(o),r=o.add("onMatch",r),o.queries=n;for(c in n)c==="all"?u=1:(l=ja.matchMedia(n[c]),l&&(d0.indexOf(o)<0&&d0.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(wR):l.addEventListener("change",wR)));return u&&r(o,function(h){return o.add(null,h)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(r){return r.kill(n,!0)})},i}(),b4={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(r){return GY(r)})},timeline:function(e){return new qr(e)},getTweensOf:function(e,t){return zn.getTweensOf(e,t)},getProperty:function(e,t,n,r){Yi(e)&&(e=No(e)[0]);var s=c0(e||{}).get,o=n?PY:RY;return n==="native"&&(n=""),e&&(t?o((Vs[t]&&Vs[t].get||s)(e,t,n,r)):function(a,l,c){return o((Vs[a]&&Vs[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,n){if(e=No(e),e.length>1){var r=e.map(function(u){return bs.quickSetter(u,t,n)}),s=r.length;return function(u){for(var h=s;h--;)r[h](u)}}e=e[0]||{};var o=Vs[t],a=c0(e),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(u){var h=new o;dm._pt=0,h.init(e,n?u+n:u,dm,0,[e]),h.render(1,h),dm._pt&&YL(1,dm)}:a.set(e,l);return o?c:function(u){return c(e,l,n?u+n:u,a,1)}},quickTo:function(e,t,n){var r,s=bs.to(e,M0((r={},r[t]="+=0.1",r.paused=!0,r),n||{})),o=function(l,c,u){return s.resetTo(t,l,c,u)};return o.tween=s,o},isTweening:function(e){return zn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=h0(e.ease,mg.ease)),tz(mg,e||{})},config:function(e){return tz($s,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,s=e.defaults,o=e.extendTimeline;(r||"").split(",").forEach(function(a){return a&&!Vs[a]&&!ro[a]&&by(t+" effect requires "+a+" plugin.")}),dT[t]=function(a,l,c){return n(No(a),Ho(l||{},s),c)},o&&(qr.prototype[t]=function(a,l,c){return this.add(dT[t](a,xl(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){Gt[e]=h0(t)},parseEase:function(e,t){return arguments.length?h0(e,t):Gt},getById:function(e){return zn.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new qr(e),r,s;for(n.smoothChildTiming=_s(e.smoothChildTiming),zn.remove(n),n._dp=0,n._time=n._tTime=zn._time,r=zn._first;r;)s=r._next,(t||!(!r._dur&&r instanceof vi&&r.vars.onComplete===r._targets[0]))&&al(n,r,r._start-r._delay),r=s;return al(zn,n,0),n},context:function(e,t){return e?new rJ(e,t):On},matchMedia:function(e){return new Z1e(e)},matchMediaRefresh:function(){return d0.forEach(function(e){var t=e.conditions,n,r;for(r in t)t[r]&&(t[r]=!1,n=1);n&&e.revert()})||wR()},addEventListener:function(e,t){var n=MS[e]||(MS[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=MS[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:R1e,wrapYoyo:P1e,distribute:kY,random:UY,snap:NY,normalize:T1e,getUnit:Tr,clamp:b1e,splitColor:VY,toArray:No,selector:_R,mapRange:jY,pipe:M1e,unitize:E1e,interpolate:I1e,shuffle:OY},install:bY,effects:dT,ticker:Xs,updateRoot:qr.updateRoot,plugins:Vs,globalTimeline:zn,core:{PropTween:As,globals:CY,Tween:vi,Timeline:qr,Animation:Ty,getCache:c0,_removeLinkedListItem:DM,reverting:function(){return Br},context:function(e){return e&&On&&(On.data.push(e),e._ctx=On),On},suppressOverwrites:function(e){return OL=e}}};xs("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return b4[i]=vi[i]});Xs.add(qr.updateRoot);dm=b4.to({},{duration:0});var Q1e=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},$1e=function(e,t){var n=e._targets,r,s,o;for(r in t)for(s=n.length;s--;)o=e._ptLookup[s][r],o&&(o=o.d)&&(o._pt&&(o=Q1e(o,r)),o&&o.modifier&&o.modifier(t[r],e,n[s],r))},vT=function(e,t){return{name:e,rawVars:1,init:function(r,s,o){o._onInit=function(a){var l,c;if(Yi(s)&&(l={},xs(s,function(u){return l[u]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}$1e(a,s)}}}},bs=b4.registerPlugin({name:"attr",init:function(e,t,n,r,s){var o,a,l;this.tween=n;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],r,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var n=t._pt;n;)Br?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},vT("roundProps",xR),vT("modifiers"),vT("snap",NY))||b4;vi.version=qr.version=bs.version="3.12.5";SY=1;NL()&&yg();Gt.Power0;Gt.Power1;Gt.Power2;Gt.Power3;Gt.Power4;Gt.Linear;Gt.Quad;Gt.Cubic;Gt.Quart;Gt.Quint;Gt.Strong;Gt.Elastic;Gt.Back;Gt.SteppedEase;Gt.Bounce;Gt.Sine;Gt.Expo;Gt.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var az,ch,Mm,JL,Xd,lz,qL,eve=function(){return typeof window<"u"},Jc={},Td=180/Math.PI,Em=Math.PI/180,Bp=Math.atan2,cz=1e8,ZL=/([A-Z])/g,tve=/(left|right|width|margin|padding|x)/i,nve=/[\s,\(]\S/,ul={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},SR=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},ive=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},rve=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},sve=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},sJ=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},oJ=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},ove=function(e,t,n){return e.style[t]=n},ave=function(e,t,n){return e.style.setProperty(t,n)},lve=function(e,t,n){return e._gsap[t]=n},cve=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},uve=function(e,t,n,r,s){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(s,o)},hve=function(e,t,n,r,s){var o=e._gsap;o[t]=n,o.renderTransform(s,o)},Gn="transform",ws=Gn+"Origin",dve=function i(e,t){var n=this,r=this.target,s=r.style,o=r._gsap;if(e in Jc&&s){if(this.tfm=this.tfm||{},e!=="transform")e=ul[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return n.tfm[a]=Kl(r,a)}):this.tfm[e]=o.x?o[e]:Kl(r,e),e===ws&&(this.tfm.zOrigin=o.zOrigin);else return ul.transform.split(",").forEach(function(a){return i.call(n,a,t)});if(this.props.indexOf(Gn)>=0)return;o.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(ws,t,"")),e=Gn}(s||t)&&this.props.push(e,t,s[e])},aJ=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},fve=function(){var e=this.props,t=this.target,n=t.style,r=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(ZL,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)r[o]=this.tfm[o];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=qL(),(!s||!s.isStart)&&!n[Gn]&&(aJ(n),r.zOrigin&&n[ws]&&(n[ws]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},lJ=function(e,t){var n={target:e,props:[],revert:fve,save:dve};return e._gsap||bs.core.getCache(e),t&&t.split(",").forEach(function(r){return n.save(r)}),n},cJ,bR=function(e,t){var n=ch.createElementNS?ch.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):ch.createElement(e);return n&&n.style?n:ch.createElement(e)},yl=function i(e,t,n){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(ZL,"-$1").toLowerCase())||r.getPropertyValue(t)||!n&&i(e,_g(t)||t,1)||""},uz="O,Moz,ms,Ms,Webkit".split(","),_g=function(e,t,n){var r=t||Xd,s=r.style,o=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(uz[o]+e in s););return o<0?null:(o===3?"ms":o>=0?uz[o]:"")+e},CR=function(){eve()&&window.document&&(az=window,ch=az.document,Mm=ch.documentElement,Xd=bR("div")||{style:{}},bR("div"),Gn=_g(Gn),ws=Gn+"Origin",Xd.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",cJ=!!_g("perspective"),qL=bs.core.reverting,JL=1)},yT=function i(e){var t=bR("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,r=this.nextSibling,s=this.style.cssText,o;if(Mm.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=i}catch{}else this._gsapBBox&&(o=this._gsapBBox());return n&&(r?n.insertBefore(this,r):n.appendChild(this)),Mm.removeChild(t),this.style.cssText=s,o},hz=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},uJ=function(e){var t;try{t=e.getBBox()}catch{t=yT.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===yT||(t=yT.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+hz(e,["x","cx","x1"])||0,y:+hz(e,["y","cy","y1"])||0,width:0,height:0}:t},hJ=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&uJ(e))},E0=function(e,t){if(t){var n=e.style,r;t in Jc&&t!==ws&&(t=Gn),n.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(r==="--"?t:t.replace(ZL,"-$1").toLowerCase())):n.removeAttribute(t)}},uh=function(e,t,n,r,s,o){var a=new As(e._pt,t,n,0,1,o?oJ:sJ);return e._pt=a,a.b=r,a.e=s,e._props.push(n),a},dz={deg:1,rad:1,turn:1},pve={grid:1,flex:1},Dh=function i(e,t,n,r){var s=parseFloat(n)||0,o=(n+"").trim().substr((s+"").length)||"px",a=Xd.style,l=tve.test(t),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),h=100,d=r==="px",m=r==="%",g,y,_,v;if(r===o||!s||dz[r]||dz[o])return s;if(o!=="px"&&!d&&(s=i(e,t,n,"px")),v=e.getCTM&&hJ(e),(m||o==="%")&&(Jc[t]||~t.indexOf("adius")))return g=v?e.getBBox()[l?"width":"height"]:e[u],ai(m?s/g*h:s/100*g);if(a[l?"width":"height"]=h+(d?o:r),y=~t.indexOf("adius")||r==="em"&&e.appendChild&&!c?e:e.parentNode,v&&(y=(e.ownerSVGElement||{}).parentNode),(!y||y===ch||!y.appendChild)&&(y=ch.body),_=y._gsap,_&&m&&_.width&&l&&_.time===Xs.time&&!_.uncache)return ai(s/_.width*h);if(m&&(t==="height"||t==="width")){var A=e.style[t];e.style[t]=h+r,g=e[u],A?e.style[t]=A:E0(e,t)}else(m||o==="%")&&!pve[yl(y,"display")]&&(a.position=yl(e,"position")),y===e&&(a.position="static"),y.appendChild(Xd),g=Xd[u],y.removeChild(Xd),a.position="absolute";return l&&m&&(_=c0(y),_.time=Xs.time,_.width=y[u]),ai(d?g*s/h:g&&s?h/g*s:0)},Kl=function(e,t,n,r){var s;return JL||CR(),t in ul&&t!=="transform"&&(t=ul[t],~t.indexOf(",")&&(t=t.split(",")[0])),Jc[t]&&t!=="transform"?(s=Py(e,r),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:M4(yl(e,ws))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=C4[t]&&C4[t](e,t,n)||yl(e,t)||EY(e,t)||(t==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?Dh(e,t,s,n)+n:s},mve=function(e,t,n,r){if(!n||n==="none"){var s=_g(t,e,1),o=s&&yl(e,s,1);o&&o!==n?(t=s,n=o):t==="borderColor"&&(n=yl(e,"borderTopColor"))}var a=new As(this._pt,e.style,t,0,1,nJ),l=0,c=0,u,h,d,m,g,y,_,v,A,w,C,T;if(a.b=n,a.e=r,n+="",r+="",r==="auto"&&(y=e.style[t],e.style[t]=r,r=yl(e,t)||r,y?e.style[t]=y:E0(e,t)),u=[n,r],XY(u),n=u[0],r=u[1],d=n.match(hm)||[],T=r.match(hm)||[],T.length){for(;h=hm.exec(r);)_=h[0],A=r.substring(l,h.index),g?g=(g+1)%5:(A.substr(-5)==="rgba("||A.substr(-5)==="hsla(")&&(g=1),_!==(y=d[c++]||"")&&(m=parseFloat(y)||0,C=y.substr((m+"").length),_.charAt(1)==="="&&(_=Cm(m,_)+C),v=parseFloat(_),w=_.substr((v+"").length),l=hm.lastIndex-w.length,w||(w=w||$s.units[t]||C,l===r.length&&(r+=w,a.e+=w)),C!==w&&(m=Dh(e,t,y,w)||0),a._pt={_next:a._pt,p:A||c===1?A:",",s:m,c:v-m,m:g&&g<4||t==="zIndex"?Math.round:0});a.c=l<r.length?r.substring(l,r.length):""}else a.r=t==="display"&&r==="none"?oJ:sJ;return AY.test(r)&&(a.e=0),this._pt=a,a},fz={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},gve=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return(n==="top"||n==="bottom"||r==="left"||r==="right")&&(e=n,n=r,r=e),t[0]=fz[n]||n,t[1]=fz[r]||r,t.join(" ")},vve=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,r=n.style,s=t.u,o=n._gsap,a,l,c;if(s==="all"||s===!0)r.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],Jc[a]&&(l=1,a=a==="transformOrigin"?ws:Gn),E0(n,a);l&&(E0(n,Gn),o&&(o.svg&&n.removeAttribute("transform"),Py(n,1),o.uncache=1,aJ(r)))}},C4={clearProps:function(e,t,n,r,s){if(s.data!=="isFromStart"){var o=e._pt=new As(e._pt,t,n,0,0,vve);return o.u=r,o.pr=-10,o.tween=s,e._props.push(n),1}}},Ry=[1,0,0,1,0,0],dJ={},fJ=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},pz=function(e){var t=yl(e,Gn);return fJ(t)?Ry:t.substr(7).match(xY).map(ai)},QL=function(e,t){var n=e._gsap||c0(e),r=e.style,s=pz(e),o,a,l,c;return n.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?Ry:s):(s===Ry&&!e.offsetParent&&e!==Mm&&!n.svg&&(l=r.display,r.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextElementSibling,Mm.appendChild(e)),s=pz(e),l?r.display=l:E0(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Mm.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},MR=function(e,t,n,r,s,o){var a=e._gsap,l=s||QL(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,h=a.xOffset||0,d=a.yOffset||0,m=l[0],g=l[1],y=l[2],_=l[3],v=l[4],A=l[5],w=t.split(" "),C=parseFloat(w[0])||0,T=parseFloat(w[1])||0,E,R,D,I;n?l!==Ry&&(R=m*_-g*y)&&(D=C*(_/R)+T*(-y/R)+(y*A-_*v)/R,I=C*(-g/R)+T*(m/R)-(m*A-g*v)/R,C=D,T=I):(E=uJ(e),C=E.x+(~w[0].indexOf("%")?C/100*E.width:C),T=E.y+(~(w[1]||w[0]).indexOf("%")?T/100*E.height:T)),r||r!==!1&&a.smooth?(v=C-c,A=T-u,a.xOffset=h+(v*m+A*y)-v,a.yOffset=d+(v*g+A*_)-A):a.xOffset=a.yOffset=0,a.xOrigin=C,a.yOrigin=T,a.smooth=!!r,a.origin=t,a.originIsAbsolute=!!n,e.style[ws]="0px 0px",o&&(uh(o,a,"xOrigin",c,C),uh(o,a,"yOrigin",u,T),uh(o,a,"xOffset",h,a.xOffset),uh(o,a,"yOffset",d,a.yOffset)),e.setAttribute("data-svg-origin",C+" "+T)},Py=function(e,t){var n=e._gsap||new qY(e);if("x"in n&&!t&&!n.uncache)return n;var r=e.style,s=n.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=yl(e,ws)||"0",u,h,d,m,g,y,_,v,A,w,C,T,E,R,D,I,L,O,X,W,q,$,Q,ee,k,Z,K,ne,le,ye,re,pe;return u=h=d=y=_=v=A=w=C=0,m=g=1,n.svg=!!(e.getCTM&&hJ(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(r[Gn]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Gn]!=="none"?l[Gn]:"")),r.scale=r.rotate=r.translate="none"),R=QL(e,n.svg),n.svg&&(n.uncache?(k=e.getBBox(),c=n.xOrigin-k.x+"px "+(n.yOrigin-k.y)+"px",ee=""):ee=!t&&e.getAttribute("data-svg-origin"),MR(e,ee||c,!!ee||n.originIsAbsolute,n.smooth!==!1,R)),T=n.xOrigin||0,E=n.yOrigin||0,R!==Ry&&(O=R[0],X=R[1],W=R[2],q=R[3],u=$=R[4],h=Q=R[5],R.length===6?(m=Math.sqrt(O*O+X*X),g=Math.sqrt(q*q+W*W),y=O||X?Bp(X,O)*Td:0,A=W||q?Bp(W,q)*Td+y:0,A&&(g*=Math.abs(Math.cos(A*Em))),n.svg&&(u-=T-(T*O+E*W),h-=E-(T*X+E*q))):(pe=R[6],ye=R[7],K=R[8],ne=R[9],le=R[10],re=R[11],u=R[12],h=R[13],d=R[14],D=Bp(pe,le),_=D*Td,D&&(I=Math.cos(-D),L=Math.sin(-D),ee=$*I+K*L,k=Q*I+ne*L,Z=pe*I+le*L,K=$*-L+K*I,ne=Q*-L+ne*I,le=pe*-L+le*I,re=ye*-L+re*I,$=ee,Q=k,pe=Z),D=Bp(-W,le),v=D*Td,D&&(I=Math.cos(-D),L=Math.sin(-D),ee=O*I-K*L,k=X*I-ne*L,Z=W*I-le*L,re=q*L+re*I,O=ee,X=k,W=Z),D=Bp(X,O),y=D*Td,D&&(I=Math.cos(D),L=Math.sin(D),ee=O*I+X*L,k=$*I+Q*L,X=X*I-O*L,Q=Q*I-$*L,O=ee,$=k),_&&Math.abs(_)+Math.abs(y)>359.9&&(_=y=0,v=180-v),m=ai(Math.sqrt(O*O+X*X+W*W)),g=ai(Math.sqrt(Q*Q+pe*pe)),D=Bp($,Q),A=Math.abs(D)>2e-4?D*Td:0,C=re?1/(re<0?-re:re):0),n.svg&&(ee=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!fJ(yl(e,Gn)),ee&&e.setAttribute("transform",ee))),Math.abs(A)>90&&Math.abs(A)<270&&(s?(m*=-1,A+=y<=0?180:-180,y+=y<=0?180:-180):(g*=-1,A+=A<=0?180:-180)),t=t||n.uncache,n.x=u-((n.xPercent=u&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=h-((n.yPercent=h&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=d+o,n.scaleX=ai(m),n.scaleY=ai(g),n.rotation=ai(y)+a,n.rotationX=ai(_)+a,n.rotationY=ai(v)+a,n.skewX=A+a,n.skewY=w+a,n.transformPerspective=C+o,(n.zOrigin=parseFloat(c.split(" ")[2])||!t&&n.zOrigin||0)&&(r[ws]=M4(c)),n.xOffset=n.yOffset=0,n.force3D=$s.force3D,n.renderTransform=n.svg?_ve:cJ?pJ:yve,n.uncache=0,n},M4=function(e){return(e=e.split(" "))[0]+" "+e[1]},_T=function(e,t,n){var r=Tr(t);return ai(parseFloat(t)+parseFloat(Dh(e,"x",n+"px",r)))+r},yve=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,pJ(e,t)},md="0deg",E1="0px",gd=") ",pJ=function(e,t){var n=t||this,r=n.xPercent,s=n.yPercent,o=n.x,a=n.y,l=n.z,c=n.rotation,u=n.rotationY,h=n.rotationX,d=n.skewX,m=n.skewY,g=n.scaleX,y=n.scaleY,_=n.transformPerspective,v=n.force3D,A=n.target,w=n.zOrigin,C="",T=v==="auto"&&e&&e!==1||v===!0;if(w&&(h!==md||u!==md)){var E=parseFloat(u)*Em,R=Math.sin(E),D=Math.cos(E),I;E=parseFloat(h)*Em,I=Math.cos(E),o=_T(A,o,R*I*-w),a=_T(A,a,-Math.sin(E)*-w),l=_T(A,l,D*I*-w+w)}_!==E1&&(C+="perspective("+_+gd),(r||s)&&(C+="translate("+r+"%, "+s+"%) "),(T||o!==E1||a!==E1||l!==E1)&&(C+=l!==E1||T?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+gd),c!==md&&(C+="rotate("+c+gd),u!==md&&(C+="rotateY("+u+gd),h!==md&&(C+="rotateX("+h+gd),(d!==md||m!==md)&&(C+="skew("+d+", "+m+gd),(g!==1||y!==1)&&(C+="scale("+g+", "+y+gd),A.style[Gn]=C||"translate(0, 0)"},_ve=function(e,t){var n=t||this,r=n.xPercent,s=n.yPercent,o=n.x,a=n.y,l=n.rotation,c=n.skewX,u=n.skewY,h=n.scaleX,d=n.scaleY,m=n.target,g=n.xOrigin,y=n.yOrigin,_=n.xOffset,v=n.yOffset,A=n.forceCSS,w=parseFloat(o),C=parseFloat(a),T,E,R,D,I;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=Em,c*=Em,T=Math.cos(l)*h,E=Math.sin(l)*h,R=Math.sin(l-c)*-d,D=Math.cos(l-c)*d,c&&(u*=Em,I=Math.tan(c-u),I=Math.sqrt(1+I*I),R*=I,D*=I,u&&(I=Math.tan(u),I=Math.sqrt(1+I*I),T*=I,E*=I)),T=ai(T),E=ai(E),R=ai(R),D=ai(D)):(T=h,D=d,E=R=0),(w&&!~(o+"").indexOf("px")||C&&!~(a+"").indexOf("px"))&&(w=Dh(m,"x",o,"px"),C=Dh(m,"y",a,"px")),(g||y||_||v)&&(w=ai(w+g-(g*T+y*R)+_),C=ai(C+y-(g*E+y*D)+v)),(r||s)&&(I=m.getBBox(),w=ai(w+r/100*I.width),C=ai(C+s/100*I.height)),I="matrix("+T+","+E+","+R+","+D+","+w+","+C+")",m.setAttribute("transform",I),A&&(m.style[Gn]=I)},xve=function(e,t,n,r,s){var o=360,a=Yi(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Td:1),c=l-r,u=r+c+"deg",h,d;return a&&(h=s.split("_")[1],h==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),h==="cw"&&c<0?c=(c+o*cz)%o-~~(c/o)*o:h==="ccw"&&c>0&&(c=(c-o*cz)%o-~~(c/o)*o)),e._pt=d=new As(e._pt,t,n,r,c,ive),d.e=u,d.u="deg",e._props.push(n),d},mz=function(e,t){for(var n in t)e[n]=t[n];return e},Ave=function(e,t,n){var r=mz({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=n.style,a,l,c,u,h,d,m,g;r.svg?(c=n.getAttribute("transform"),n.setAttribute("transform",""),o[Gn]=t,a=Py(n,1),E0(n,Gn),n.setAttribute("transform",c)):(c=getComputedStyle(n)[Gn],o[Gn]=t,a=Py(n,1),o[Gn]=c);for(l in Jc)c=r[l],u=a[l],c!==u&&s.indexOf(l)<0&&(m=Tr(c),g=Tr(u),h=m!==g?Dh(n,l,c,g):parseFloat(c),d=parseFloat(u),e._pt=new As(e._pt,a,l,h,d-h,SR),e._pt.u=g||0,e._props.push(l));mz(a,r)};xs("padding,margin,Width,Radius",function(i,e){var t="Top",n="Right",r="Bottom",s="Left",o=(e<3?[t,n,r,s]:[t+s,t+n,r+n,r+s]).map(function(a){return e<2?i+a:"border"+a+i});C4[e>1?"border"+i:i]=function(a,l,c,u,h){var d,m;if(arguments.length<4)return d=o.map(function(g){return Kl(a,g,c)}),m=d.join(" "),m.split(d[0]).length===5?d[0]:m;d=(u+"").split(" "),m={},o.forEach(function(g,y){return m[g]=d[y]=d[y]||d[(y-1)/2|0]}),a.init(l,m,h)}});var mJ={name:"css",register:CR,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,s){var o=this._props,a=e.style,l=n.vars.startAt,c,u,h,d,m,g,y,_,v,A,w,C,T,E,R,D;JL||CR(),this.styles=this.styles||lJ(e),D=this.styles.props,this.tween=n;for(y in t)if(y!=="autoRound"&&(u=t[y],!(Vs[y]&&ZY(y,t,n,r,e,s)))){if(m=typeof u,g=C4[y],m==="function"&&(u=u.call(n,r,e,s),m=typeof u),m==="string"&&~u.indexOf("random(")&&(u=My(u)),g)g(this,e,y,u,n)&&(R=1);else if(y.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(y)+"").trim(),u+="",Sh.lastIndex=0,Sh.test(c)||(_=Tr(c),v=Tr(u)),v?_!==v&&(c=Dh(e,y,c,v)+v):_&&(u+=_),this.add(a,"setProperty",c,u,r,s,0,0,y),o.push(y),D.push(y,0,a[y]);else if(m!=="undefined"){if(l&&y in l?(c=typeof l[y]=="function"?l[y].call(n,r,e,s):l[y],Yi(c)&&~c.indexOf("random(")&&(c=My(c)),Tr(c+"")||c==="auto"||(c+=$s.units[y]||Tr(Kl(e,y))||""),(c+"").charAt(1)==="="&&(c=Kl(e,y))):c=Kl(e,y),d=parseFloat(c),A=m==="string"&&u.charAt(1)==="="&&u.substr(0,2),A&&(u=u.substr(2)),h=parseFloat(u),y in ul&&(y==="autoAlpha"&&(d===1&&Kl(e,"visibility")==="hidden"&&h&&(d=0),D.push("visibility",0,a.visibility),uh(this,a,"visibility",d?"inherit":"hidden",h?"inherit":"hidden",!h)),y!=="scale"&&y!=="transform"&&(y=ul[y],~y.indexOf(",")&&(y=y.split(",")[0]))),w=y in Jc,w){if(this.styles.save(y),C||(T=e._gsap,T.renderTransform&&!t.parseTransform||Py(e,t.parseTransform),E=t.smoothOrigin!==!1&&T.smooth,C=this._pt=new As(this._pt,a,Gn,0,1,T.renderTransform,T,0,-1),C.dep=1),y==="scale")this._pt=new As(this._pt,T,"scaleY",T.scaleY,(A?Cm(T.scaleY,A+h):h)-T.scaleY||0,SR),this._pt.u=0,o.push("scaleY",y),y+="X";else if(y==="transformOrigin"){D.push(ws,0,a[ws]),u=gve(u),T.svg?MR(e,u,0,E,0,this):(v=parseFloat(u.split(" ")[2])||0,v!==T.zOrigin&&uh(this,T,"zOrigin",T.zOrigin,v),uh(this,a,y,M4(c),M4(u)));continue}else if(y==="svgOrigin"){MR(e,u,1,E,0,this);continue}else if(y in dJ){xve(this,T,y,d,A?Cm(d,A+u):u);continue}else if(y==="smoothOrigin"){uh(this,T,"smooth",T.smooth,u);continue}else if(y==="force3D"){T[y]=u;continue}else if(y==="transform"){Ave(this,u,e);continue}}else y in a||(y=_g(y)||y);if(w||(h||h===0)&&(d||d===0)&&!nve.test(u)&&y in a)_=(c+"").substr((d+"").length),h||(h=0),v=Tr(u)||(y in $s.units?$s.units[y]:_),_!==v&&(d=Dh(e,y,c,v)),this._pt=new As(this._pt,w?T:a,y,d,(A?Cm(d,A+h):h)-d,!w&&(v==="px"||y==="zIndex")&&t.autoRound!==!1?sve:SR),this._pt.u=v||0,_!==v&&v!=="%"&&(this._pt.b=c,this._pt.r=rve);else if(y in a)mve.call(this,e,y,c,A?A+u:u);else if(y in e)this.add(e,y,c||e[y],A?A+u:u,r,s);else if(y!=="parseTransform"){zL(y,u);continue}w||(y in a?D.push(y,0,a[y]):D.push(y,1,c||e[y])),o.push(y)}}R&&iJ(this)},render:function(e,t){if(t.tween._time||!qL())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:Kl,aliases:ul,getSetter:function(e,t,n){var r=ul[t];return r&&r.indexOf(",")<0&&(t=r),t in Jc&&t!==ws&&(e._gsap.x||Kl(e,"x"))?n&&lz===n?t==="scale"?cve:lve:(lz=n||{})&&(t==="scale"?uve:hve):e.style&&!kL(e.style[t])?ove:~t.indexOf("-")?ave:KL(e,t)},core:{_removeProperty:E0,_getMatrix:QL}};bs.utils.checkPrefix=_g;bs.core.getStyleSaver=lJ;(function(i,e,t,n){var r=xs(i+","+e+","+t,function(s){Jc[s]=1});xs(e,function(s){$s.units[s]="deg",dJ[s]=1}),ul[r[13]]=i+","+e,xs(n,function(s){var o=s.split(":");ul[o[1]]=r[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");xs("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){$s.units[i]="px"});bs.registerPlugin(mJ);var OM=bs.registerPlugin(mJ)||bs;OM.core.Tween;/*!
 * @gsap/react 2.1.1
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/let gz=typeof window<"u"?N.useLayoutEffect:N.useEffect,vz=i=>i&&!Array.isArray(i)&&typeof i=="object",Jw=[],wve={},gJ=OM;const kM=(i,e=Jw)=>{let t=wve;vz(i)?(t=i,i=null,e="dependencies"in t?t.dependencies:Jw):vz(e)&&(t=e,e="dependencies"in t?t.dependencies:Jw),i&&typeof i!="function"&&console.warn("First parameter must be a function or config object");const{scope:n,revertOnUpdate:r}=t,s=N.useRef(!1),o=N.useRef(gJ.context(()=>{},n)),a=N.useRef(c=>o.current.add(null,c)),l=e&&e.length&&!r;return gz(()=>{if(i&&o.current.add(i,n),!l||!s.current)return()=>o.current.revert()},e),l&&gz(()=>(s.current=!0,()=>o.current.revert()),Jw),{context:o.current,contextSafe:a.current}};kM.register=i=>{gJ=i};kM.headless=!0;const Sve="/assets/computer-BSCTtrbD.glb",ER="/assets/portfolio-DL7atkyF.mp4",bve="/assets/zettelkasten-C6amqKo5.mp4",Cve="/assets/gameofgenerals-1seJgRuy.mp4",Mve="/assets/vimsmartq-wS_xHpiS.mp4",Eve="/assets/weddinginvitation-CZUB5ik2.mp4",T1={placeholder:ER,zettelkasten:bve,gameofgenerals:Cve,vimsmartq:Mve,portfolio:ER,weddinginvitation:Eve};function Tve({texture:i,...e}){const t=N.useRef(),{nodes:n,materials:r}=Vo(Sve),s=Y2e(i||ER);return N.useEffect(()=>{s&&(s.flipY=!1)},[s]),kM(()=>{OM.from(t.current.rotation,{y:Math.PI/2,duration:1,ease:"power3.out"})},[s]),S.jsx("group",{ref:t,...e,dispose:null,children:S.jsxs("group",{name:"Scene",children:[S.jsx("mesh",{name:"monitor-screen",castShadow:!0,receiveShadow:!0,geometry:n["monitor-screen"].geometry,material:n["monitor-screen"].material,position:[.127,1.831,.511],rotation:[1.571,-.005,.031],scale:[.661,.608,.401],children:S.jsx("meshBasicMaterial",{map:s})}),S.jsxs("group",{name:"RootNode",position:[0,1.093,0],rotation:[-Math.PI/2,0,-.033],scale:.045,children:[S.jsx("group",{name:"Screen001",position:[5.658,1.643,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen002",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen003",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen004",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen005",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen006",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen007",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen008",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen009",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen010",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen011",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen012",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen013",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen014",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen015",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen016",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen017",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen018",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen019",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen020",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen021",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen022",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen023",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen024",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen025",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen026",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen027",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen028",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen029",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen030",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen031",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen032",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen033",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen034",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen035",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen036",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen037",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen038",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen039",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen040",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen041",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen042",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen043",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen044",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen045",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen046",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen047",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen048",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen049",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen050",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen051",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen052",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen053",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen054",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen055",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen056",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen057",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen058",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen059",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen060",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen061",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen062",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen063",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen064",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen065",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen066",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen067",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen068",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen069",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen070",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen071",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen072",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen073",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen074",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen075",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen076",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen077",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen078",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen079",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen080",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen081",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen082",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen083",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen084",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen085",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen086",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen087",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen088",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen089",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen090",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen091",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen092",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen093",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen094",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen095",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen096",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen097",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen098",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen099",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen100",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen101",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen102",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen103",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen104",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen105",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen106",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen107",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen108",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen109",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen110",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen111",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen112",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen113",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen114",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen115",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen116",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen117",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen118",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen119",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen120",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen121",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen122",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen123",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen124",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen125",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen126",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen127",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen128",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen129",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen130",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen131",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen132",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen133",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen134",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen135",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen136",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen137",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen138",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen139",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen140",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen141",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen142",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen143",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen144",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen145",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen146",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen147",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Screen148",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),S.jsx("group",{name:"Tower-light-007",position:[16.089,-3.47,-14.495],rotation:[Math.PI/2,0,0],scale:.963}),S.jsx("group",{name:"Tower-light-008",position:[15.155,-3.47,-14.495],rotation:[Math.PI/2,0,0],scale:.963})]}),S.jsxs("group",{name:"Monitor-B-_computer_0",position:[.266,1.132,.051],rotation:[0,-.033,0],scale:[.042,.045,.045],children:[S.jsx("mesh",{name:"Monitor-B-_computer_0_1",castShadow:!0,receiveShadow:!0,geometry:n["Monitor-B-_computer_0_1"].geometry,material:r.computer}),S.jsx("mesh",{name:"Monitor-B-_computer_0_2",castShadow:!0,receiveShadow:!0,geometry:n["Monitor-B-_computer_0_2"].geometry,material:r.base__0}),S.jsx("mesh",{name:"Monitor-B-_computer_0_3",castShadow:!0,receiveShadow:!0,geometry:n["Monitor-B-_computer_0_3"].geometry,material:r.Material_36}),S.jsx("mesh",{name:"Monitor-B-_computer_0_4",castShadow:!0,receiveShadow:!0,geometry:n["Monitor-B-_computer_0_4"].geometry,material:r.Material_35}),S.jsx("mesh",{name:"Monitor-B-_computer_0_5",castShadow:!0,receiveShadow:!0,geometry:n["Monitor-B-_computer_0_5"].geometry,material:r.Material_34}),S.jsx("mesh",{name:"Monitor-B-_computer_0_6",castShadow:!0,receiveShadow:!0,geometry:n["Monitor-B-_computer_0_6"].geometry,material:r.keys}),S.jsx("mesh",{name:"Monitor-B-_computer_0_7",castShadow:!0,receiveShadow:!0,geometry:n["Monitor-B-_computer_0_7"].geometry,material:r.keys2}),S.jsx("mesh",{name:"Monitor-B-_computer_0_8",castShadow:!0,receiveShadow:!0,geometry:n["Monitor-B-_computer_0_8"].geometry,material:r.Material_37})]})]})})}const Rve="/assets/space-TjTMhvAo.glb";function Pve({isRotating:i,...e}){const t=N.useRef(),n=Vo(Rve);return Pg((r,s)=>{i&&(t.current.rotation.y+=.1*s)}),S.jsx("mesh",{...e,ref:t,children:S.jsx("primitive",{object:n.scene})})}const Ive="/assets/ucsd-BaflDVBD.png",Lve="/assets/ucsd_1_1-BhWS658w.png",Dve="/assets/ucsd_1_2-j2gSOmWP.png",Bve="/assets/ucsd_1_3-zOtvZL89.png",Fve="/assets/ucsd_2-CNpDNF6G.png",Ove="/assets/ucsd_3_1-C1d46vp_.png",kve="/assets/ucsd_3_2-tgSyD7uS.png",Nve="/assets/ucsd_4_1-LwB-seoR.png",Uve="/assets/ucsd_4_2-CDH2qDVr.png",zve="/assets/trustthink-CC-DWfjc.png",Hr={ucsd:Ive,ucsd_1_1:Lve,ucsd_1_2:Dve,ucsd_1_3:Bve,ucsd_2:Fve,ucsd_3_1:Ove,ucsd_3_2:kve,ucsd_4_1:Nve,ucsd_4_2:Uve,trustthink:zve},jve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAABOCAYAAAB7VKutAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA+FSURBVHgB3VxtbxzVFT7nzux6bSfNmhJeShHL934Iv6DOL8BI0BK1VdaoqCotwkYQ3utdCMSEFK8raJGqyhveJSgxKq36LfsP8C8g26ofWhVqAw62d2fu6bnvd5wtJXZixz7OeGfGs3fufea8POfcO0GIpPfsq3VEPA6UHwGCKm9LRLRUwryJjeku7HNB9YsaC9UsXTvHIIyDtH8hAvWjj4lWGKRW6dmHmrCPRYPRP/nKeR7wuD4jLQj8z2wWHamv7kLev6v8wokl2IeCvefZNEgu6PGrgWsAyPxVaQcZYBRqJPVFvI/tXIrm8Oz+Mh3BQBwHcNpgNwhguGPy5wmkzOsIvfPrJ16cgn0k2H9+fplNoGqUwQ5eaYDRBa8NYDWEnOlYreGruiTg6PDsE13Y4yJ4sFWtFSD9oAn187cmIv3F/jqnSaBNqwZZfmHt0ecX1h4/VYM9LEL/9j5CRuZiBm1MJNfgmHP20+/ba6SsU693fnWqUYc9Kth77mXyLkLKCBjepPSHXmusuehfUsLA70rqcig+OtxqdGEPidGMEEetqyCIULD7VlMK2uHMKZiO+ZE1SfmF1YeemVubatRgj4gIzlBuiiYxQMZ/EMVRRhrTccfOZKQFRrWX51N5n03nwSfrsAdE6I5jrBWRr3Ca4AGK/wb6mKyfMThJo2vGjLoItIggOyjl9z//+YlrPgynLqQi2SGqSBKFUn0sYw3wcUT/Rh9VaIX3zvLn4gGRLmGrsQJ7TFKwqu4oeCGcktUWvS8tMFZLKIDAv+dHIG3tRQBiSfVgZeASgVcoIJz6e06hP1Hnb1J9doRMJ/da1PhfksaDJ4r9Rhi8OQj+QnsJhPnRMyf3FR0vhFaTz9voIsPgPZlwQtA88NL+AkJJGvsHigaPCiYJIZO1fkKSnD9w5oUG7EMR2gFAUQt0uJSOR1Cg6SC7o6PlBlxlobmpajb3cB12WESg2SHnwEtIlwGMr5rGxtWPGDjd4jAtuvnc9IVsbqoOOySBdGGkGZZ1eqZpUvX26OlTi7BDUpo+08HR0a44cGghf/3UAr1z9TNi4TNQCk4SL3GcGpyzsMOCpdEmVIbVg6hThh/TG6dm4CoKbszMWLZVZJ5xCZD3uyMvvng77IKs/r65PDJUrhrN1f3pYt6fxMlGB66wiBBDyHMJ5z+IXEYKH8IuyXBl6KwHwvivGqXp+fzNkwu0cGVNR6BPxqSbOAB3cwSTrpOgDuySCEFLMMBsURWTkv75fOGZK8Z3hEvO/M0oqllYKSF1YbdEQEd/qj4ihlxJH1MN03ROvt64QO9sv26CF3/6C0q+cyjkJ2SzUlubUH4kTcQdueyvwPqlDVQAVrDV2la4pUajyk1XL2n7tiGAcsLF6v7H5oz1Y6zPur/uIdo0glOEthDQxGNby5Xwi3smCSslSG9lH6WMxjvRsLmKOPnKOYTyH59PCOrDv3l1S9Gmd/JXxzOJLbbMqqq1uvZV4+XvVkCMJAChtmi0Q2uzAiQPx6p/Zr9LKJrpjxptuEwRqBrYyKB/4TOgXgYYOVLXqVDys/6EN3RbylRl7FADtiiScIrnblgrct2eUX/Q98g+24iOYZM5OyBsUommqsRnaiizhfzNZy7bdIRWL3WfTEL2jxUNSHBWob6pQRBQsFkcrkB6882QjFW7sEUhlCuQuMFydxK09xIg17gq38+9GRQAQXOdrbkaID1hVH/mqCOzC/T2U3P0zuO1b9KXVD9l2wxmOfT+tgzJt0cgqQ7psxp8Lt3p8Sv0pZlXwYMH+Zrr1BUrpbw/DVuVLJmUadZIBN6m8iF9P2EfhrrdVzkkh9JxTwzRw2h013TQHRnN9hqkzXkKJE5kbz3OpjPb/rqu4JfH7iPVgJTkSZYScWgIksMjutHhU/MIuyj5G01jBUpsT4zGotEIz55luIas9sS0AXGRr5/GY7PdQfcRFlgDMIab5Svr0O9ykMgJdlvkl5nXAC0mVzI8yPu3GAhboozPKZ0hOcHad4HeOjEz6D7COS3lSLUZojZdjbiy194ny7DbIi9aPxaTQu9ssfAQtUYIoTXHYED+GrTXc9RpyLdPXMjeebQe3wcv/vg+IirmJiFsGltMbrppMhmtGLMZKZuHoIs/OQiZraQPPrmtbHbt1NPj3FjNjDwqNea2kyAX0luGQAwnBX9goQpEUSQhyqh2BIYI6HmJ+771MQgNPHamacD4ySSRi+0U+IMDRhw4COkN1xuQ+DocLbGDZaqVmG7qJ6BW9Tzw2JacaO+lZ+bYX03pm8rY/u1nLrXDZicK6eGyHRRCMfQPAAcjIOL2YorgzqCYTu493RIWeqtCJnqQ/Uy+dRBKN14fZtKUnqxucAj+AvL/rPvrGZIJ2KJwGXFC8xUXuXQ0gaABiVFxuZqB62vQDhf2EYp+wxEzgs05jb6mEA7UvfMZOteoap4hBNo2gm2JA6OQKCD4RwgIfENtzEnkZ2uQfbIC8vMNBdbWs1qBHzoASJhw6h6MG7QOlyo1WMuM6vsyJUaD3QRKPEvo2gsL1mCTRlVhffUIfnX8PuMZYvNIEkhvuUWDo0yDz2mbgiwzzbk2lcpmsDT6yunt+YzTT9Z5jDVDLKSek1Gfwl8hZzTtYFNJrittsv1ocC6kbh5sbDKOPrioY7/H45zGryYnyfgXO1WQ8A1vuhGMOhhwKqdO7irP2Jh9xHu7Uq1ix+gGSsFHbAbBA0AmRMba7ThI4C3Tl/iM5KYbmJcm3mRiR7NrImwH1aKZvlV37VcoDDCux7gRRqZW8CGGVQegeJ8tdElof2HzDjE2xnXH1DvRzbXR3ZPAKeRaFp6qtp3Q/ziR9ABJpzUyaocCyzRAd/FYq5OS8+LlMojqoRDeIhDWn3jivEvXTR/cWgxN47sCZXO41erCFmRtrlFLkv4Mh9Baweb1AzMaQHl48vQVg8G+wwgGP4BuP1Z/3BQ5rCl50AzQfLX2iSnaL6WHD9uMT6/zNNFDkJkxkDTulyhAVCi2np5yrPGZo7AFyf/+6QJ9qzSeMH/Bsig6O7vWA/2aD5a+ixQYkS1RcIYehIKTRNic6Gk2KqGZ/rDV1mBoTTnEGpGmENZfUNDETYRGt2+fhqc+gqqwRcn+dbFG/zRzuziUapYpRtmJD3PXUtT7umbinKZ6CD2+thxrQm4AySWE0mAcRsF8j7Ny6PUBLvbYK/e7Ymx4Wkz+zkfCFNlZikPVaKLZNRA2nae49RixM7JPkLZRPed25/nXnO7+eo+5BAP0qbmfXzTHdp1UUs1DkkoCQ59XoHxD2bBfRcpSWw1TuKxtWJRzAw5/0kZfF7B0bcQUpZppBi18uF0oV2L/CQ5bI6N+LZbPSXKTGOgnBgnXQLkIs76ui55xLfRK1ECXJ+pVqKxr7fJN2x1+VFXMs4/JrixkxgqV61IYvbUcmSoYc3X5B1nN9mvMwKYN1ElzmMTWYndQP1IcHbGwWBOEMOvu1muUcrlSnh1cA7gSMraon9BAQJcn7jnSh7B0Sg06u5hbG0a/jMIbs9NgaSbPrU/ktnG69OtzbfgasSTPzrJ7VI1qqgKxunkP5RHYJcltNitszVUBknE5EME6tUuWXCkNyfUnaupO82me315++YP2/7uXXcbkbIMM2XK2So746dcvdmzSeZOMO5+lVV93iCBnHyDKIoRiJdL5OH3U4QubrA2db3qjVNsaBs4C9hijY5Y7eduVlTocT+4kVTkHKGTP+RqzxpI9IgcAmQV3iM3ymfdbcJki4oXx7seUzCImx6raf/qRcdhh+ffE3eN6oT4aX0Z2ps/UlXy2aJmm1ub50kE2iS0AocRQObeKD4PzcWbjwgvlnDmCnerbIUFBx5Xqo/GVPtdS/ZMboY9s2h0+aJbOvN+BbYhwdc/C4O05jAspCONrj0+Nww7J8j33sNOmutOKwHnA+Aw9nyLVQtxpBuHodoFQ4pckOBbrwpc5jipQDFSCtECNqS2zzW8qyxMTVX7651zEMA/GThe56JFTOz2QbdkkBknqGKaS4KSiY8c+DeOs9TdAmcvWJ42+iZTFDI+6BgXWC8YkgJbYnU6PvfenDrwHV1RExFaiDbzzxDjt0xQ5n+qf+OUMXCVZ/sHd3DZO+T5Z7WTKsIJD0LzhL3++4+a/ftSBqyAifmuANlem1R5KP8nsfAmH3sbGiQeuOCCfH7t7ju/TcG8quIKzmgkTKO44/MFHDbiKgvnJxwisj3DcnnK7Sphsiq4jmuX4NkfQXJ/kUp7gXcOzr3VhG7Jcv7eG/WyB/cC4qRLY91ty2ZVSTB5eXOzADgiDcYIKi+ddPTECRGuMm2bka1WMN+CRBQUa3Omzw63LA4XqE9VVWX4oZ9PTb1C6+V6gFZnT/HXf48yysbhjbypg/tyjjly4LkZaAT6NtlVyHrhbQex8qimtqXxAvfzL0JytQLaErfbAQdAUA7BaOYIZMbOEupSy6jJkU2WDDrc2Ofbu4MzyagqD8Yh5HG6myr9RYJ2pJM/53ZMzS6mtFtkyYfz+qzSmtKR4ALKqc957dvi1dmf1/mMtvv4hPW4FgG7WfpfLh1KIybE3t88XtippIFvWD5gdQB9VtMOEQkKkHJsDCGKnG2kU0BHt+wQuVX7bnlRXSKKqyj7NaiRVWlTFFtAv78iybI21P9jVl3fSuPCLITGDS9Y8gFUcMKaip/ysNrljTd4sOdLmhLRUKa0edd8X9k0Fk4XqnU4OKWvDu124BiQtPPEC14iIjqUa0mqO0wlUU/8yLHOyAFiyBl1Msru4quSfttUY1WZXCJoe/cMfd6ssMFAKZqLEV4co0HTyi0P0Fb7I4i9QRW0ZSnAmVMvOUKv4xLWvwXz+gMwb2F7cVZMYJJGZUNACV9Rx58AXeSC8umU1ICJt8YYDbtbPelNj1yAITuxsDBVYKA46RxFN91MIFijUzjGsuKPYsQa5loFQkvr3STCYQ4Gex5EljiZmx++beR7yIRkF7DmxWSuYQW8ymfhvVIgyIZtEoykdQvEhc4oltAlMBlkX9pjYShdFDjMCIpphi6vPZjJX/dNa1Sy99HoD9oGkQAMGHznQgu37NVeOe2C7dPpsA/aJqKriSpGFukpXpBFxxHB1UtJr3Jqwj0QwP1iKB+oIFsX8wzPTEClQvR412+7CPhIhkc76oo4MaXtsPm45oV76COa/pkqGxR2wz0TrQfbUz87zIMcL/zlIIbJIRza7XJeeLM2+2YF9KDqaJKWNu/J+eo53x+ESrdAfapZqPp1tN2AfS4E1Z0/eXwf1n5ipiWapF6B0mW5/mKJo7Tf/MEj+C8bKxh+BDdKiAAAAAElFTkSuQmCC",Hve="/assets/project-logo2-DzaBx5ja.png",Gve="/assets/project-logo3-CR9KjQEa.png",Vve="/assets/project-logo4-C_XSescM.png",Wve="/assets/project-logo5-CDpsVGmD.png",Xve="/assets/spotlightorange-LG-n0ZG3.png",Kve="/assets/spotlightgreen-DzjoSo52.png",Yve="/assets/spotlightblue-DwukE5au.png",Jve="/assets/spotlightviolet-DQ8tWyWs.png",R1={project_logo1:jve,project_logo2:Hve,project_logo3:Gve,project_logo4:Vve,project_logo5:Wve,spotlightorange:Xve,spotlightgreen:Kve,spotlightblue:Yve,spotlightviolet:Jve},yz=[{name:"Web Development",description:"I specialize in frontend development using React.js, Next.js, and Redux. I have experience with backend development using Node.js and Express."},{name:"Object-Oriented Programming",description:"I have experience with object-oriented programming languages such as Java, C++, and Python. I have worked on projects using design patterns such as MVC and Singleton."},{name:"RESTful APIs",description:"I have experience with RESTful APIs and have worked on projects using tools such as Postman. I have also worked with databases such as MongoDB, MySQL, and InfluxDB."},{name:"Agile Project Management",description:"I have experience with Agile project management methodologies such as Scrum and Kanban. I have worked on projects using tools such as Jira and Trello."},{name:"MVC Design Pattern",description:"I have experience with the Model-View-Controller design pattern and have worked on projects using frameworks such as Spring and Django."},{name:"Computer Networking",description:"I have experience with computer networking concepts such as TCP/IP, OSI model, and routing protocols. I have worked on projects using tools such as GNS3 and Wireshark."},{name:"Unit Testing",description:"I have experience with unit testing frameworks such as Jest and JUnit. I have worked on projects using test-driven development (TDD) and behavior-driven development (BDD)."},{name:"Data Visualization",description:"I have experience with data visualization libraries such as D3.js and Three.js. I have also worked with databases such as MongoDB, MySQL, and InfluxDB."},{name:"Software Engineering",description:"I have experience with software engineering principles and practices. I have worked on projects using Java, C++, and Python."},{name:"DevOps",description:"I have experience with DevOps tools such as Docker and Postman. I have also worked with REST APIs and Raspberry Pi."},{name:"Scripting",description:"I have experience with scripting languages such as Bash and Python. I have worked on projects using tools such as Vim and Neovim."}],qve=[{imageUrl:Ne.reactjs,name:"React.js",type:"Frontend"},{imageUrl:Ne.redux,name:"Redux",type:"State Management"},{imageUrl:Ne.vite,name:"Vite",type:"Frontend"},{imageUrl:Ne.nextjs,name:"Next.js",type:"Frontend"},{imageUrl:Ne.html,name:"HTML",type:"Frontend"},{imageUrl:Ne.css,name:"CSS",type:"Frontend"},{imageUrl:Ne.javascript,name:"JavaScript",type:"Frontend"},{imageUrl:Ne.typescript,name:"TypeScript",type:"Frontend"},{imageUrl:Ne.sass,name:"Sass",type:"Frontend"},{imageUrl:Ne.tailwindcss,name:"Tailwind CSS",type:"Frontend"},{imageUrl:Ne.bootstrap,name:"Bootstrap",type:"Frontend"},{imageUrl:Ne.mui,name:"Material-UI",type:"Frontend"},{imageUrl:Ne.jquery,name:"jQuery",type:"Frontend"},{imageUrl:Ne.threejs,name:"Three.js",type:"Frontend"},{imageUrl:Ne.d3js,name:"D3.js",type:"Frontend"},{imageUrl:Ne.framermotion,name:"Motion",type:"Frontend"},{imageUrl:Ne.nodejs,name:"Node.js",type:"Backend"},{imageUrl:Ne.neo4j,name:"Neo4j",type:"Database"},{imageUrl:Ne.influxdb,name:"InfluxDB",type:"Database"},{imageUrl:Ne.mysql,name:"MySQL",type:"Database"},{imageUrl:Ne.mongodb,name:"MongoDB",type:"Database"},{imageUrl:Ne.express,name:"Express",type:"Backend"},{imageUrl:Ne.restapi,name:"REST API",type:"API"},{imageUrl:Ne.postman,name:"Postman",type:"API Testing"},{imageUrl:Ne.github,name:"GitHub",type:"Version Control"},{imageUrl:Ne.git,name:"Git",type:"Version Control"},{imageUrl:Ne.python,name:"Python",type:"Programming"},{imageUrl:Ne.cpp,name:"C++",type:"Programming"},{imageUrl:Ne.c,name:"C",type:"Programming"},{imageUrl:Ne.java,name:"Java",type:"Programming"},{imageUrl:Ne.linux,name:"Linux/Unix",type:"Operating System"},{imageUrl:Ne.vim,name:"Vim",type:"Text Editor"},{imageUrl:Ne.neovim,name:"Neovim",type:"Text Editor"},{imageUrl:Ne.docker,name:"Docker",type:"DevOps"},{imageUrl:Ne.gns3,name:"GNS3",type:"Networking"},{imageUrl:Ne.rpi,name:"Raspberry Pi",type:"Hardware"}],ss={yellow:{light:"#fcff97",dark:"#ffffba"},lightBlue:{light:"#9ac5f3",dark:"#c4efff"}},Zve=[{main:!0,title:"Software Engineer Intern",company_name:"UCSD DERConnect",url:"https://sites.google.com/ucsd.edu/derconnect/home",icon:Hr.ucsd,iconBgLight:ss.yellow.light,iconBgDark:ss.yellow.dark,date:"Aug 2022 - July 2024",points:[],gallery:[],tags:[{path:Ne.reactjs,name:"React.js"},{path:Ne.mui,name:"Material-UI"},{path:Ne.neo4j,name:"Neo4j"},{path:Ne.docker,name:"Docker"},{path:Ne.influxdb,name:"InfluxDB"},{path:Ne.mongodb,name:"MongoDB"},{path:Ne.express,name:"Express"},{path:Ne.python,name:"Python"}]},{main:!1,title:"Software Engineer Intern",company_name:"UCSD DERConnect",url:"https://sites.google.com/ucsd.edu/derconnect/home",icon:Hr.ucsd,iconBgLight:ss.yellow.light,iconBgDark:ss.yellow.dark,date:"Aug 2022 - December 2022",points:["Spearheaded development of internal web app for university-wide smart plug device management, improving operational efficiency by 50%"],gallery:[{imageUrl:Hr.ucsd_1_1,description:"UCSD DERConnect internal web app dashboard"},{imageUrl:Hr.ucsd_1_2,description:"UCSD DERConnect internal web app dashboard"},{imageUrl:Hr.ucsd_1_3,description:"UCSD DERConnect internal web app dashboard"}],tags:[]},{main:!1,title:"Software Engineer Intern",company_name:"UCSD DERConnect",url:"https://sites.google.com/ucsd.edu/derconnect/home",icon:Hr.ucsd,iconBgLight:ss.yellow.light,iconBgDark:ss.yellow.dark,date:"January 2023 - May 2023",points:["Optimized website database operations, resulting in a 6000% increase in service API data throughput"],gallery:[{imageUrl:Hr.ucsd_2,description:"UCSD DERConnect internal web app backend API endpoints"}],tags:[]},{main:!1,title:"Software Engineer Intern",company_name:"UCSD DERConnect",url:"https://sites.google.com/ucsd.edu/derconnect/home",icon:Hr.ucsd,iconBgLight:ss.yellow.light,iconBgDark:ss.yellow.dark,date:"June 2023 - September 2023 ",points:["Engineered automation solutions for QR code generation and dynamic CSV creation, saving 100+ hours of manual labor"],gallery:[{imageUrl:Hr.ucsd_3_1,description:"UCSD DERConnect Smart Plugs QR code design template"},{imageUrl:Hr.ucsd_3_2,description:"UCSD DERConnect Smart Plugs QR code generation Python code snippet"}],tags:[]},{main:!1,title:"Software Engineer Intern",company_name:"UCSD DERConnect",url:"https://sites.google.com/ucsd.edu/derconnect/home",icon:Hr.ucsd,iconBgLight:ss.yellow.light,iconBgDark:ss.yellow.dark,date:"January 2024 - April 2024",points:["Implemented comprehensive test automation strategies, significantly enhancing software reliability and reducing bug detection time"],gallery:[],tags:[]},{main:!1,title:"Software Engineer Intern",company_name:"UCSD DERConnect",icon:Hr.ucsd,iconBgLight:ss.yellow.light,iconBgDark:ss.yellow.dark,date:"March 2024 - July 2024",points:["Authored technical documentation for internal web app backend API endpoints, significanlty enhancing team collaboration and knowledge sharing"],gallery:[{imageUrl:Hr.ucsd_4_1,description:""},{imageUrl:Hr.ucsd_4_2,description:""}],tags:[]},{main:!0,title:"Junior Software Systems Engineer",company_name:"TrustThink",url:"https://www.trustthink.net/about",icon:Hr.trustthink,iconBgLight:ss.lightBlue.light,iconBgDark:ss.lightBlue.dark,date:"July 2024 - Present",points:["Architected scalable global network topology simulation using Docker and GNS3, reducing setup time by 70%","Developed testbed for dynamic discovery of encryptor devices, enhancing real-world network simulations","Engineered SNMP protocol emulation for encryptor devices, enabling testbed operational management and monitoring","Spearheaded as one of the lead research engineers of operational management and dynamic discovery approaches for End Cryptographic Units (ECU) or High Assurance Devices (HAD)."],gallery:[],tags:[{path:Ne.gns3,name:"GNS3"},{path:Ne.python,name:"Python"},{path:Ne.docker,name:"Docker"},{path:Ne.git,name:"Git"}]}],vJ=[{name:"Resume",iconUrl:Ne.blueresume,link:"/resume"},{name:"Contact",iconUrl:Ne.contact,link:"/contact"},{name:"GitHub",iconUrl:Ne.bluegithub,link:"https://github.com/marklcrns"},{name:"LinkedIn",iconUrl:Ne.linkedin,link:"https://www.linkedin.com/in/marklucernas/"}],yJ=[{title:"MarkLucernas.com - Personal Portfolio Web App",desc:"My personal portfolio web app showcasing my professional experiences, projects, skills, and more. If you are wondering, you guessed right! You are currently on my portfolio web app... Webception.",subdesc:"This portfolio web app is built using React.js framework utilizing Three.js for the 3D rendering and animations, and much more!",href:"https://marklucernas.com/",texture:T1.portfolio,iconUrl:Ne.portfolio,theme:"red",spotlight:R1.spotlightorange,tags:[{name:"React.js",path:Ne.reactjs},{name:"Vite",path:Ne.vite},{name:"Tailwind CSS",path:Ne.tailwindcss},{name:"Three.js",path:Ne.threejs},{name:"Framer Motion",path:Ne.framermotion}]},{title:"MarkLucernas.dev - Zettelkasten Blog Web App",desc:"A Zettelkasten inspired blog weg app with over 100+ educational blog posts I authored. It features an interactive 3D neuron-like force-directed graph for visualizing blog post back and forward links, mimicking the spirit of a Zettelkasten notes organization.",subdesc:"Built in interactive 3D neuron-like force-directed graph for visualizing blog post connections using Three.js with integrated RSS feed support and Disqus-powered comment sections to enhance user engagement. ",href:"https://marklucernas.dev/",texture:T1.zettelkasten,iconUrl:Ne.neuron,theme:"yellow",spotlight:R1.spotlightorange,tags:[{name:"HTML",path:Ne.html},{name:"CSS",path:Ne.css},{name:"JavaScript",path:Ne.javascript},{name:"Three.js",path:Ne.threejs},{name:"RSS",path:Ne.rss},{name:"Disqus",path:Ne.disqus}]},{title:"We're Getting Married! - Wedding Invitation Web App",desc:"Wedding Invitation Web App for my own wedding 🙂. It features animations of a wedding invitation card, levering Google Sheets API to manage guest list, and a beautiful landing page showcasing the bride and groom's journey as a couple.",subdesc:"Implemented custom animations, transitions, wedding event count-down timer, dynamic gallery, vertical timeline, and more to create an engaging user experience. Integrated with Google Sheets as Dababase for the guests registration form.",href:"http://marklucernas.com/wedding-invitation/",texture:T1.weddinginvitation,iconUrl:Ne.rings,theme:"yellow",spotlight:R1.spotlightorange,tags:[{name:"HTML",path:Ne.html},{name:"Sass",path:Ne.sass},{name:"JavaScript",path:Ne.javascript},{name:"jQuery",path:Ne.jquery},{name:"Gulp",path:Ne.gulp},{name:"Google Sheets",path:Ne.googlesheets}]},{title:"Game of Generals - Cross-platform Board Game",desc:"A cross-platform board game that is inpspired by the classic board game that originated from the Philippines called 'Salpakan', more commonly known as 'Generals'. I created this board game as a tribute to my childhood memories playing this game with my friends in school during recess.",subdesc:"Architected a cross-platform board game written in Java using libGDX and MVC design pattern. Engineered an AI adversarial player using a custom Minimax-derived algorithm. Implemented local networking support via Socket Programming for multiplayer functionality.",href:"https://github.com/marklcrns/Generals-2.0",texture:T1.gameofgenerals,iconUrl:Ne.tank,theme:"blue",spotlight:R1.spotlightblue,tags:[{name:"Java",path:Ne.java},{name:"Gradle",path:Ne.gradle},{name:"libGDX",path:Ne.libgdx}]},{title:"Vim Smart-Q - A Vim/Neovim Plugin",desc:"A Vim text editor plugin loved by hundreds of developers to extend and simplify its basic 'quit' functionality. It addresses the infamous 'How do I exit Vim?' by offering an intuitive solution which accelerates learning of Vim or making developer's life easier without reinventing the wheel.",subdesc:"Developed a Vim/Neovim plugin purely written in VimScript, enhancing the basic 'quit' functionality with a smarter and more intuitive behavior. The plugin is designed to be lightweight, easy to install, and compatible with most Vim/Neovim configurations and integrates well with popular plugins such as Zen-mode, Goyo, diffview.nvim, and more.",href:"https://github.com/marklcrns/vim-smartq",texture:T1.vimsmartq,iconUrl:Ne.vimwhite,theme:"green",spotlight:R1.spotlightgreen,tags:[{name:"Vim",path:Ne.vim},{name:"Neovim",path:Ne.neovim},{name:"Bash",path:Ne.bash}]}],Qve=[{iconUrl:Ne.noodles,theme:"yellow",name:"Full Stack Fortune Telling Web App",description:"Led frontend development team to create a top-rated web UI design in UCSD Spring 2023 cohort. Managed full-stack development, resulting in project recognition as one of the leading initiatives.",link:"https://github.com/cse110-sp23-group15/cse110-sp23-group15"},{iconUrl:Ne.wizard,theme:"blue",name:"The Wizard Game",description:"Led the development of a Java top-down shooter game's logic and world-building design and enforced object-oriented design. Improve in-game performance, giving the UI animation a 2X boost in frame rate by optimizing input events and pre-fetching resources behind a loading screen.",link:"https://github.com/MiramarCISC/CISC191-SUM20-A"},{iconUrl:Ne.router,theme:"black",name:"Layer 3 Router Simulation",description:"Implemented a functional router device simulating Internet routing protocols in a controlled network topology. Enhanced layer 3 packet handling with support for Ethernet frames, ARP, IP forwarding, and ICMP. Code is not available publicly, please proceed to the link below to request access.",link:"/contact"},{iconUrl:Ne.box,theme:"black",name:"Ez Install Unix Package Manager",description:"Developed a Unix/FreeBSD package installer written purely in Bash for portability. Simplifies the user experience by providing a single command interface for all package, reduces the learning curve for new Unix/Linux users by abstracting away distribution-specific package managers installations",link:"https://github.com/marklcrns/ez-install"}],$ve=i=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",id:"keyboard-arrow",...i},N.createElement("path",{d:"M63.51 32.53H43.87a.49.49 0 0 0-.49.49v19.63c0 .28.22.5.49.5h19.64c.27 0 .49-.22.49-.5V33.03a.5.5 0 0 0-.49-.5zM61.25 50.4H46.13V35.28h15.12V50.4zM41.82 32.53H22.18a.49.49 0 0 0-.49.49v19.63c0 .28.22.5.49.5h19.64c.27 0 .49-.22.49-.5V33.03a.5.5 0 0 0-.49-.5zM39.56 50.4H24.44V35.28h15.12V50.4zm2.26-39.55H22.18a.49.49 0 0 0-.49.49v19.63c0 .28.22.5.49.5h19.64c.27 0 .49-.22.49-.5V11.34c0-.28-.22-.49-.49-.49zm-2.26 17.87H24.44V13.59h15.12v15.13zm-19.43 3.81H.49a.5.5 0 0 0-.49.5v19.63c0 .28.22.5.49.5h19.64c.27 0 .49-.22.49-.5V33.03a.5.5 0 0 0-.49-.5zM17.88 50.4H2.75V35.28h15.13V50.4z"}),N.createElement("path",{d:"M49.09 44.47h4.57v.87a.662.662 0 0 0 .66.67c.13 0 .26-.04.37-.11l3.79-2.51c.19-.12.3-.33.3-.55 0-.23-.11-.43-.3-.56l-3.79-2.51a.687.687 0 0 0-.68-.03c-.22.12-.35.35-.35.59v.88h-4.57a.49.49 0 0 0-.49.49v2.27c0 .29.22.5.49.5zm-17.64 3.16c.12.18.33.29.55.29.22 0 .43-.11.56-.29l2.5-3.79a.66.66 0 0 0 .03-.69.666.666 0 0 0-.58-.35h-.88v-4.56a.49.49 0 0 0-.49-.49h-2.28a.49.49 0 0 0-.49.49v4.56h-.88c-.24 0-.46.14-.58.35a.66.66 0 0 0 .03.69l2.51 3.79zM29.5 21.18h.87v4.56c0 .28.22.5.49.5h2.28c.27 0 .49-.22.49-.5v-4.56h.88c.24 0 .47-.13.58-.35.12-.22.11-.48-.03-.68l-2.5-3.79v-.01c-.25-.37-.86-.37-1.11.01l-2.51 3.79c-.14.2-.15.46-.03.68.12.23.34.35.59.35zM9.31 45.9c.11.07.24.11.37.11a.662.662 0 0 0 .66-.67v-.87h4.57c.27 0 .49-.22.49-.5V41.7a.49.49 0 0 0-.49-.49h-4.57v-.88c0-.25-.13-.47-.34-.59a.707.707 0 0 0-.69.03l-3.79 2.51c-.19.13-.3.33-.3.56 0 .22.11.43.3.55l3.79 2.51z"})),eye=500,tye=({theme:i})=>{const[e,t]=N.useState(1),[n,r]=N.useState(!1),[s,o]=N.useState(eye);N.useEffect(()=>{if(n)o(0);else{const A=setTimeout(()=>{o(500)},500);return()=>clearTimeout(A)}},[n]);const a=()=>{let A,w,C;return window.innerWidth<768?(A=[1.08,1.08,1.08],w=[0,0,1],C=[.1,4.7077,0]):(A=[1.4,1.4,1.4],w=[0,0,1],C=[.1,4.7077,0]),[A,w,C]},[l,c,u]=a(),h=()=>{let A,w,C;return window.innerWidth<768?(A=[.0018,.0018,.0018],w=[.14,-.8,3],C=[.7,20.7,-1.2]):(A=[.0025,.0025,.0025],w=[.25,-1.03,3],C=[.7,20.7,-1.2]),[A,w,C]},[d,m,g]=h(),y=()=>{let A,w;return window.innerWidth<768?(A=[.3,.3,.3],w=[0,0,4.5]):(A=[.4,.4,.4],w=[0,0,4.5]),[A,w]},[_,v]=y();return S.jsxs(cr.section,{className:"w-full h-screen relative",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.25}},transition:{duration:1.5,ease:"easeOut"},children:[S.jsx("div",{className:"absolute top-20 md:top-28 left-0 right-0 z-10 flex items-center justify-center",children:e&&S.jsx(N_e,{currentStage:e})}),S.jsx(VI,{className:`w-full h-screen bg-transparent ${n?"cursor-grabbing":"cursor-grab"}`,camera:{near:.1,far:1e3},children:S.jsxs(N.Suspense,{fallback:S.jsx(zJ,{}),children:[i==="light"&&S.jsxs(S.Fragment,{children:[S.jsx("directionalLight",{position:[1,1.2,.8],intensity:4}),S.jsx("ambientLight",{intensity:.3}),S.jsx("hemisphereLight",{skyColor:"#b1e1ff",groundColor:"#000000",intensity:.3}),S.jsx(tge,{isRotating:n})]}),i==="dark"&&S.jsxs(S.Fragment,{children:[S.jsx("ambientLight",{intensity:.21}),S.jsx("hemisphereLight",{skyColor:"#6626a2",groundColor:"#6626a2",intensity:.008}),S.jsx("pointLight",{position:[0,0,4.5],intensity:.9,color:"#6626a2"}),S.jsx("pointLight",{position:[.6,-1.02,3],intensity:2.1}),S.jsx(Pve,{isRotating:n,position:[-.48,0,0],scale:[3,3,3]})]}),S.jsx(t1e,{isRotating:n,setIsRotating:r,setCurrentStage:t,position:c,rotation:u,scale:l}),S.jsx(ige,{isRotating:n,position:m,rotation:g,scale:d}),!n&&s===500&&S.jsx(a1e,{isRotating:n,position:v,rotation:[0,0,0],scale:_})]})}),S.jsx("div",{className:"absolute bottom-14 left-20 right-20 z-10 flex items-center justify-center",children:S.jsxs("p",{className:"sm:text-md md:text-lg leading-relaxed text-muted",children:["Use",S.jsx($ve,{fill:"currentColor",alt:"arrow keys",className:"inline-block w-6 h-6 align-text-bottom mx-1.5"}),"to fly left and right. Mouse or touch gestures work too!"]})}),S.jsxs("div",{className:"absolute bottom-0 z-10 flex items-center justify-between w-full",children:[S.jsx("div",{className:"mx-1",children:S.jsxs("p",{className:"text-sm text-base",children:["Site broken?"," ",S.jsx("a",{href:"/plain",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-secondary",children:"Old site"})]})}),S.jsx("div",{className:"flex gap-3 justify-center items-center px-2 py-1 rounded-lg",children:vJ.map(A=>S.jsx(fl,{to:A.link,target:"_blank",children:S.jsx("img",{src:A.iconUrl,alt:A.name,className:"w-6 h-6 object-contain"})},A.name))})]})]})};var NM={},_J={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(i){(function(){var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=r(s,n(a)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=r(o,a));return o}function r(s,o){return o?s?s+" "+o:s+o:s}i.exports?(t.default=t,i.exports=t):window.classNames=t})()})(_J);var xJ=_J.exports;NM.__esModule=!0;NM.default=void 0;var nye=$L(N),vu=$L(AL),iye=$L(xJ);function $L(i){return i&&i.__esModule?i:{default:i}}const AJ=({animate:i=!0,className:e="",layout:t="2-columns",lineColor:n="#FFF",children:r})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",n),nye.default.createElement("div",{className:(0,iye.default)(e,"vertical-timeline",{"vertical-timeline--animate":i,"vertical-timeline--two-columns":t==="2-columns","vertical-timeline--one-column-left":t==="1-column"||t==="1-column-left","vertical-timeline--one-column-right":t==="1-column-right"})},r));AJ.propTypes={children:vu.default.oneOfType([vu.default.arrayOf(vu.default.node),vu.default.node]).isRequired,className:vu.default.string,animate:vu.default.bool,layout:vu.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:vu.default.string};var rye=AJ;NM.default=rye;var UM={};function TR(){return TR=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},TR.apply(this,arguments)}function sye(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,RR(i,e)}function RR(i,e){return RR=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},RR(i,e)}function oye(i,e){if(i==null)return{};var t={},n=Object.keys(i),r,s;for(s=0;s<n.length;s++)r=n[s],!(e.indexOf(r)>=0)&&(t[r]=i[r]);return t}var PR=new Map,qw=new WeakMap,_z=0,wJ=void 0;function aye(i){wJ=i}function lye(i){return i?(qw.has(i)||(_z+=1,qw.set(i,_z.toString())),qw.get(i)):"0"}function cye(i){return Object.keys(i).sort().filter(function(e){return i[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?lye(i.root):i[e])}).toString()}function uye(i){var e=cye(i),t=PR.get(e);if(!t){var n=new Map,r,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,c=a.isIntersecting&&r.some(function(u){return a.intersectionRatio>=u});i.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=n.get(a.target))==null||l.forEach(function(u){u(c,a)})})},i);r=s.thresholds||(Array.isArray(i.threshold)?i.threshold:[i.threshold||0]),t={id:e,observer:s,elements:n},PR.set(e,t)}return t}function eD(i,e,t,n){if(t===void 0&&(t={}),n===void 0&&(n=wJ),typeof window.IntersectionObserver>"u"&&n!==void 0){var r=i.getBoundingClientRect();return e(n,{isIntersecting:n,target:i,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var s=uye(t),o=s.id,a=s.observer,l=s.elements,c=l.get(i)||[];return l.has(i)||l.set(i,c),c.push(e),a.observe(i),function(){c.splice(c.indexOf(e),1),c.length===0&&(l.delete(i),a.unobserve(i)),l.size===0&&(a.disconnect(),PR.delete(o))}}var hye=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function xz(i){return typeof i.children!="function"}var E4=function(i){sye(e,i);function e(n){var r;return r=i.call(this,n)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(s){r.node&&(r.unobserve(),!s&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=s||null,r.observeNode()},r.handleChange=function(s,o){s&&r.props.triggerOnce&&r.unobserve(),xz(r.props)||r.setState({inView:s,entry:o}),r.props.onChange&&r.props.onChange(s,o)},r.state={inView:!!n.initialInView,entry:void 0},r}var t=e.prototype;return t.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,s=r.threshold,o=r.root,a=r.rootMargin,l=r.trackVisibility,c=r.delay,u=r.fallbackInView;this._unobserveCb=eD(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:l,delay:c},u)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!xz(this.props)){var r=this.state,s=r.inView,o=r.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,l=a.children,c=a.as,u=oye(a,hye);return N.createElement(c||"div",TR({ref:this.handleNode},u),l)},e}(N.Component);E4.displayName="InView";E4.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function dye(i){var e=i===void 0?{}:i,t=e.threshold,n=e.delay,r=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,c=e.initialInView,u=e.fallbackInView,h=N.useRef(),d=N.useState({inView:!!c}),m=d[0],g=d[1],y=N.useCallback(function(v){h.current!==void 0&&(h.current(),h.current=void 0),!l&&v&&(h.current=eD(v,function(A,w){g({inView:A,entry:w}),w.isIntersecting&&a&&h.current&&(h.current(),h.current=void 0)},{root:o,rootMargin:s,threshold:t,trackVisibility:r,delay:n},u))},[Array.isArray(t)?t.toString():t,o,s,a,l,r,u,n]);N.useEffect(function(){!h.current&&m.entry&&!a&&!l&&g({inView:!!c})});var _=[y,m.inView,m.entry];return _.ref=_[0],_.inView=_[1],_.entry=_[2],_}const fye=Object.freeze(Object.defineProperty({__proto__:null,InView:E4,default:E4,defaultFallbackInView:aye,observe:eD,useInView:dye},Symbol.toStringTag,{value:"Module"})),pye=XQ(fye);UM.__esModule=!0;UM.default=void 0;var yu=tD(N),Bn=tD(AL),Zw=tD(xJ),mye=pye;function tD(i){return i&&i.__esModule?i:{default:i}}const SJ=({children:i="",className:e="",contentArrowStyle:t=null,contentStyle:n=null,date:r="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:c=null,iconStyle:u=null,id:h="",position:d="",style:m=null,textClassName:g="",intersectionObserverProps:y={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:_=!1})=>yu.default.createElement(mye.InView,y,({inView:v,ref:A})=>yu.default.createElement("div",{ref:A,id:h,className:(0,Zw.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":d==="left","vertical-timeline-element--right":d==="right","vertical-timeline-element--no-children":i===""}),style:m},yu.default.createElement(yu.default.Fragment,null,yu.default.createElement("span",{style:u,onClick:l,className:(0,Zw.default)(a,"vertical-timeline-element-icon",{"bounce-in":v||_,"is-hidden":!(v||_)})},o),yu.default.createElement("div",{style:n,onClick:c,className:(0,Zw.default)(g,"vertical-timeline-element-content",{"bounce-in":v||_,"is-hidden":!(v||_)})},yu.default.createElement("div",{style:t,className:"vertical-timeline-element-content-arrow"}),i,yu.default.createElement("span",{className:(0,Zw.default)(s,"vertical-timeline-element-date")},r)))));SJ.propTypes={children:Bn.default.oneOfType([Bn.default.arrayOf(Bn.default.node),Bn.default.node]),className:Bn.default.string,contentArrowStyle:Bn.default.shape({}),contentStyle:Bn.default.shape({}),date:Bn.default.node,dateClassName:Bn.default.string,icon:Bn.default.element,iconClassName:Bn.default.string,iconStyle:Bn.default.shape({}),iconOnClick:Bn.default.func,onTimelineElementClick:Bn.default.func,id:Bn.default.string,position:Bn.default.string,style:Bn.default.shape({}),textClassName:Bn.default.string,visible:Bn.default.bool,intersectionObserverProps:Bn.default.shape({root:Bn.default.object,rootMargin:Bn.default.string,threshold:Bn.default.number,triggerOnce:Bn.default.bool})};var gye=SJ;UM.default=gye;var Az={VerticalTimeline:NM.default,VerticalTimelineElement:UM.default};function vye(){return rn.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-unzoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},rn.createElement("path",{d:"M 14.144531 1.148438 L 9 6.292969 L 9 3 L 8 3 L 8 8 L 13 8 L 13 7 L 9.707031 7 L 14.855469 1.851563 Z M 8 8 L 3 8 L 3 9 L 6.292969 9 L 1.148438 14.144531 L 1.851563 14.855469 L 7 9.707031 L 7 13 L 8 13 Z"}))}function yye(){return rn.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-zoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},rn.createElement("path",{d:"M 9 1 L 9 2 L 12.292969 2 L 2 12.292969 L 2 9 L 1 9 L 1 14 L 6 14 L 6 13 L 2.707031 13 L 13 2.707031 L 13 6 L 14 6 L 14 1 Z"}))}const T4=(i,e)=>{var t,n;return i===((n=(t=e==null?void 0:e.tagName)==null?void 0:t.toUpperCase)==null?void 0:n.call(t))},nD=i=>T4("DIV",i)||T4("SPAN",i),R4=i=>T4("IMG",i),wz=i=>i.complete&&i.naturalHeight!==0,ES=i=>T4("SVG",i),bJ=({height:i,offset:e,width:t})=>Math.min((window.innerWidth-e*2)/t,(window.innerHeight-e*2)/i),_ye=({containerHeight:i,containerWidth:e,offset:t,targetHeight:n,targetWidth:r})=>{const s=bJ({height:n,offset:t,width:r}),o=r>n?r/e:n/i;return s>1?o:s*o},f0=({containerHeight:i,containerWidth:e,hasScalableSrc:t,offset:n,targetHeight:r,targetWidth:s})=>!i||!e?1:!t&&r&&s?_ye({containerHeight:i,containerWidth:e,offset:n,targetHeight:r,targetWidth:s}):bJ({height:i,offset:n,width:e}),xye=/url(?:\(['"]?)(.*?)(?:['"]?\))/,Sz=i=>{var e;if(i){if(R4(i))return i.currentSrc;if(nD(i)){const t=window.getComputedStyle(i).backgroundImage;if(t)return(e=xye.exec(t))==null?void 0:e[1]}}},Aye=i=>{if(i)return R4(i)?i.alt??void 0:i.getAttribute("aria-label")??void 0},wye=({containerHeight:i,containerLeft:e,containerTop:t,containerWidth:n,hasScalableSrc:r,offset:s,targetHeight:o,targetWidth:a})=>{const l=f0({containerHeight:i,containerWidth:n,hasScalableSrc:r,offset:s,targetHeight:o,targetWidth:a});return{top:t,left:e,width:n*l,height:i*l,transform:`translate(0,0) scale(${1/l})`}},Eo=({position:i,relativeNum:e})=>{const t=parseFloat(i);return i.endsWith("%")?e*t/100:t},Sye=({containerHeight:i,containerLeft:e,containerTop:t,containerWidth:n,hasScalableSrc:r,objectFit:s,objectPosition:o,offset:a,targetHeight:l,targetWidth:c})=>{if(s==="scale-down"&&(c<=n&&l<=i?s="none":s="contain"),s==="cover"||s==="contain"){const u=n/c,h=i/l,d=s==="cover"?Math.max(u,h):Math.min(u,h),[m="50%",g="50%"]=o.split(" "),y=Eo({position:m,relativeNum:n-c*d}),_=Eo({position:g,relativeNum:i-l*d}),v=f0({containerHeight:l*d,containerWidth:c*d,hasScalableSrc:r,offset:a,targetHeight:l,targetWidth:c});return{top:t+_,left:e+y,width:c*d*v,height:l*d*v,transform:`translate(0,0) scale(${1/v})`}}else if(s==="none"){const[u="50%",h="50%"]=o.split(" "),d=Eo({position:u,relativeNum:n-c}),m=Eo({position:h,relativeNum:i-l}),g=f0({containerHeight:l,containerWidth:c,hasScalableSrc:r,offset:a,targetHeight:l,targetWidth:c});return{top:t+m,left:e+d,width:c*g,height:l*g,transform:`translate(0,0) scale(${1/g})`}}else if(s==="fill"){const u=n/c,h=i/l,d=Math.max(u,h),m=f0({containerHeight:l*d,containerWidth:c*d,hasScalableSrc:r,offset:a,targetHeight:l,targetWidth:c});return{width:n*m,height:i*m,transform:`translate(0,0) scale(${1/m})`}}else return{}},bye=({backgroundPosition:i,backgroundSize:e,containerHeight:t,containerLeft:n,containerTop:r,containerWidth:s,hasScalableSrc:o,offset:a,targetHeight:l,targetWidth:c})=>{if(e==="cover"||e==="contain"){const u=s/c,h=t/l,d=e==="cover"?Math.max(u,h):Math.min(u,h),[m="50%",g="50%"]=i.split(" "),y=Eo({position:m,relativeNum:s-c*d}),_=Eo({position:g,relativeNum:t-l*d}),v=f0({containerHeight:l*d,containerWidth:c*d,hasScalableSrc:o,offset:a,targetHeight:l,targetWidth:c});return{top:r+_,left:n+y,width:c*d*v,height:l*d*v,transform:`translate(0,0) scale(${1/v})`}}else if(e==="auto"){const[u="50%",h="50%"]=i.split(" "),d=Eo({position:u,relativeNum:s-c}),m=Eo({position:h,relativeNum:t-l}),g=f0({containerHeight:l,containerWidth:c,hasScalableSrc:o,offset:a,targetHeight:l,targetWidth:c});return{top:r+m,left:n+d,width:c*g,height:l*g,transform:`translate(0,0) scale(${1/g})`}}else{const[u="50%",h="50%"]=e.split(" "),d=Eo({position:u,relativeNum:s}),m=Eo({position:h,relativeNum:t}),g=d/c,y=m/l,_=Math.min(g,y),[v="50%",A="50%"]=i.split(" "),w=Eo({position:v,relativeNum:s-c*_}),C=Eo({position:A,relativeNum:t-l*_}),T=f0({containerHeight:l*_,containerWidth:c*_,hasScalableSrc:o,offset:a,targetHeight:l,targetWidth:c});return{top:r+C,left:n+w,width:c*_*T,height:l*_*T,transform:`translate(0,0) scale(${1/T})`}}},Cye=/\.svg$/i,Mye=({hasZoomImg:i,imgSrc:e,isSvg:t,isZoomed:n,loadedImgEl:r,offset:s,shouldRefresh:o,targetEl:a})=>{var v;const l=t||((v=e==null?void 0:e.slice)==null?void 0:v.call(e,0,18))==="data:image/svg+xml"||i||!!(e&&Cye.test(e)),c=a.getBoundingClientRect(),u=window.getComputedStyle(a),h=r!=null&&nD(a),d=r!=null&&!h,m=wye({containerHeight:c.height,containerLeft:c.left,containerTop:c.top,containerWidth:c.width,hasScalableSrc:l,offset:s,targetHeight:(r==null?void 0:r.naturalHeight)||c.height,targetWidth:(r==null?void 0:r.naturalWidth)||c.width}),g=d?Sye({containerHeight:c.height,containerLeft:c.left,containerTop:c.top,containerWidth:c.width,hasScalableSrc:l,objectFit:u.objectFit,objectPosition:u.objectPosition,offset:s,targetHeight:(r==null?void 0:r.naturalHeight)||c.height,targetWidth:(r==null?void 0:r.naturalWidth)||c.width}):void 0,y=h?bye({backgroundPosition:u.backgroundPosition,backgroundSize:u.backgroundSize,containerHeight:c.height,containerLeft:c.left,containerTop:c.top,containerWidth:c.width,hasScalableSrc:l,offset:s,targetHeight:(r==null?void 0:r.naturalHeight)||c.height,targetWidth:(r==null?void 0:r.naturalWidth)||c.width}):void 0,_=Object.assign({},m,g,y);if(n){const A=window.innerWidth/2,w=window.innerHeight/2,C=parseFloat(String(_.left||0))+parseFloat(String(_.width||0))/2,T=parseFloat(String(_.top||0))+parseFloat(String(_.height||0))/2,E=A-C,R=w-T;o&&(_.transitionDuration="0.01ms"),_.transform=`translate(${E}px,${R}px) scale(1)`}return _},xT=i=>{if(!i)return{};if(ES(i)){const e=i.parentElement,t=i.getBoundingClientRect();if(e){const n=e.getBoundingClientRect();return{height:t.height,left:n.left-t.left,top:n.top-t.top,width:t.width}}else return{height:t.height,left:t.left,width:t.width,top:t.top}}else return{height:i.offsetHeight,left:i.offsetLeft,width:i.offsetWidth,top:i.offsetTop}},Eye=i=>{const e="-zoom",t=["clip-path","fill","mask","marker-start","marker-mid","marker-end"],n=new Map;if(i.hasAttribute("id")){const r=i.id,s=r+e;n.set(r,s),i.id=s}i.querySelectorAll("[id]").forEach(r=>{const s=r.id,o=s+e;n.set(s,o),r.id=o}),n.forEach((r,s)=>{const o=`url(#${s})`,a=`url(#${r})`,l=t.map(c=>`[${c}="${o}"]`).join(", ");i.querySelectorAll(l).forEach(c=>{t.forEach(u=>{c.getAttribute(u)===o&&c.setAttribute(u,a)})})}),i.querySelectorAll("style").forEach(r=>{n.forEach((s,o)=>{r.textContent&&(r.textContent=r.textContent.replaceAll(`#${o}`,`#${s}`))})})},Tye=["img","svg",'[role="img"]',"[data-zoom]"].map(i=>`${i}:not([aria-hidden="true"])`).join(","),bz={overflow:"",width:""};function Rye(i){return rn.createElement(CJ,{...i})}class CJ extends rn.Component{constructor(){super(...arguments),this.state={id:"",isZoomImgLoaded:!1,loadedImgEl:void 0,modalState:"UNLOADED",shouldRefresh:!1,styleGhost:{}},this.refContent=rn.createRef(),this.refDialog=rn.createRef(),this.refModalContent=rn.createRef(),this.refModalImg=rn.createRef(),this.refWrap=rn.createRef(),this.imgEl=null,this.isScaling=!1,this.prevBodyAttrs=bz,this.styleModalImg={},this.handleModalStateChange=e=>{var n,r,s,o;const{modalState:t}=this.state;e!=="LOADING"&&t==="LOADING"?(this.loadZoomImg(),window.addEventListener("resize",this.handleResize,{passive:!0}),window.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),window.addEventListener("touchmove",this.handleTouchMove,{passive:!0}),window.addEventListener("touchend",this.handleTouchEnd,{passive:!0}),window.addEventListener("touchcancel",this.handleTouchCancel,{passive:!0}),document.addEventListener("keydown",this.handleKeyDown,!0)):e!=="LOADED"&&t==="LOADED"?window.addEventListener("wheel",this.handleWheel,{passive:!0}):e!=="UNLOADING"&&t==="UNLOADING"?(this.ensureImgTransitionEnd(),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),document.removeEventListener("keydown",this.handleKeyDown,!0)):e!=="UNLOADED"&&t==="UNLOADED"&&(this.bodyScrollEnable(),window.removeEventListener("resize",this.handleResize),(r=(n=this.refModalImg.current)==null?void 0:n.removeEventListener)==null||r.call(n,"transitionend",this.handleImgTransitionEnd),(o=(s=this.refDialog.current)==null?void 0:s.close)==null||o.call(s))},this.getDialogContainer=()=>{let e=document.querySelector("[data-rmiz-portal]");return e==null&&(e=document.createElement("div"),e.setAttribute("data-rmiz-portal",""),document.body.appendChild(e)),e},this.setId=()=>{const e=()=>Math.random().toString(16).slice(-4);this.setState({id:e()+e()+e()})},this.setAndTrackImg=()=>{var t,n;const e=this.refContent.current;e&&(this.imgEl=e.querySelector(Tye),this.imgEl?((n=(t=this.contentNotFoundChangeObserver)==null?void 0:t.disconnect)==null||n.call(t),this.imgEl.addEventListener("load",this.handleImgLoad),this.imgEl.addEventListener("click",this.handleZoom),this.state.loadedImgEl||this.handleImgLoad(),this.imgElResizeObserver=new ResizeObserver(r=>{const s=r[0];s!=null&&s.target&&(this.imgEl=s.target,this.setState({styleGhost:xT(this.imgEl)}))}),this.imgElResizeObserver.observe(this.imgEl),this.contentChangeObserver||(this.contentChangeObserver=new MutationObserver(()=>{this.setState({styleGhost:xT(this.imgEl)})}),this.contentChangeObserver.observe(e,{attributes:!0,childList:!0,subtree:!0}))):this.contentNotFoundChangeObserver||(this.contentNotFoundChangeObserver=new MutationObserver(this.setAndTrackImg),this.contentNotFoundChangeObserver.observe(e,{childList:!0,subtree:!0})))},this.handleIfZoomChanged=e=>{const{isZoomed:t}=this.props;!e&&t?this.zoom():e&&!t&&this.unzoom()},this.handleImgLoad=()=>{const e=Sz(this.imgEl);if(!e)return;const t=new Image;R4(this.imgEl)&&(t.sizes=this.imgEl.sizes,t.srcset=this.imgEl.srcset),t.src=e;const n=()=>{this.setState({loadedImgEl:t,styleGhost:xT(this.imgEl)})};t.decode().then(n).catch(()=>{if(wz(t)){n();return}t.onload=n})},this.handleZoom=()=>{var e,t;this.hasImage()&&((t=(e=this.props).onZoomChange)==null||t.call(e,!0))},this.handleUnzoom=()=>{var e,t;(t=(e=this.props).onZoomChange)==null||t.call(e,!1)},this.handleDialogCancel=e=>{e.preventDefault()},this.handleDialogClick=e=>{(e.target===this.refModalContent.current||e.target===this.refModalImg.current)&&this.handleUnzoom()},this.handleKeyDown=e=>{(e.key==="Escape"||e.keyCode===27)&&(e.preventDefault(),e.stopPropagation(),this.handleUnzoom())},this.handleWheel=e=>{e.ctrlKey||(e.stopPropagation(),queueMicrotask(()=>{this.handleUnzoom()}))},this.handleTouchStart=e=>{if(e.touches.length>1){this.isScaling=!0;return}e.changedTouches.length===1&&e.changedTouches[0]&&(this.touchYStart=e.changedTouches[0].screenY)},this.handleTouchMove=e=>{var n;const t=((n=window.visualViewport)==null?void 0:n.scale)??1;if(this.props.canSwipeToUnzoom&&!this.isScaling&&t<=1&&this.touchYStart!=null&&e.changedTouches[0]){this.touchYEnd=e.changedTouches[0].screenY;const r=Math.max(this.touchYStart,this.touchYEnd),s=Math.min(this.touchYStart,this.touchYEnd);Math.abs(r-s)>this.props.swipeToUnzoomThreshold&&(this.touchYStart=void 0,this.touchYEnd=void 0,this.handleUnzoom())}},this.handleTouchEnd=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleTouchCancel=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleResize=()=>{this.setState({shouldRefresh:!0})},this.hasImage=()=>this.imgEl&&(this.state.loadedImgEl||ES(this.imgEl))&&window.getComputedStyle(this.imgEl).display!=="none",this.zoom=()=>{var e,t,n,r;this.bodyScrollDisable(),(t=(e=this.refDialog.current)==null?void 0:e.showModal)==null||t.call(e),(r=(n=this.refModalImg.current)==null?void 0:n.addEventListener)==null||r.call(n,"transitionend",this.handleImgTransitionEnd),this.setState({modalState:"LOADING"})},this.unzoom=()=>{this.setState({modalState:"UNLOADING"})},this.handleImgTransitionEnd=()=>{clearTimeout(this.timeoutTransitionEnd),this.state.modalState==="LOADING"?this.setState({modalState:"LOADED"}):this.state.modalState==="UNLOADING"&&this.setState({shouldRefresh:!1,modalState:"UNLOADED"})},this.ensureImgTransitionEnd=()=>{if(this.refModalImg.current){const e=window.getComputedStyle(this.refModalImg.current).transitionDuration,t=parseFloat(e);if(t){const n=t*(e.endsWith("ms")?1:1e3)+50;this.timeoutTransitionEnd=setTimeout(this.handleImgTransitionEnd,n)}}},this.bodyScrollDisable=()=>{this.prevBodyAttrs={overflow:document.body.style.overflow,width:document.body.style.width};const e=document.body.clientWidth;document.body.style.overflow="hidden",document.body.style.width=`${e}px`},this.bodyScrollEnable=()=>{document.body.style.width=this.prevBodyAttrs.width,document.body.style.overflow=this.prevBodyAttrs.overflow,this.prevBodyAttrs=bz},this.loadZoomImg=()=>{const{props:{zoomImg:e}}=this,t=e==null?void 0:e.src;if(t){const n=new Image;n.sizes=(e==null?void 0:e.sizes)??"",n.srcset=(e==null?void 0:e.srcSet)??"",n.src=t;const r=()=>{this.setState({isZoomImgLoaded:!0})};n.decode().then(r).catch(()=>{if(wz(n)){r();return}n.onload=r})}},this.UNSAFE_handleSvg=()=>{var r,s,o,a,l;const{imgEl:e,refModalImg:t,styleModalImg:n}=this;if(ES(e)){const c=e.cloneNode(!0);Eye(c),c.style.width=`${n.width||0}px`,c.style.height=`${n.height||0}px`,c.addEventListener("click",this.handleUnzoom),(o=(s=(r=t.current)==null?void 0:r.firstChild)==null?void 0:s.remove)==null||o.call(s),(l=(a=t.current)==null?void 0:a.appendChild)==null||l.call(a,c)}}}render(){const{handleDialogCancel:e,handleDialogClick:t,handleUnzoom:n,handleZoom:r,imgEl:s,props:{a11yNameButtonUnzoom:o,a11yNameButtonZoom:a,children:l,classDialog:c,IconUnzoom:u,IconZoom:h,isZoomed:d,wrapElement:m,ZoomContent:g,zoomImg:y,zoomMargin:_},refContent:v,refDialog:A,refModalContent:w,refModalImg:C,refWrap:T,state:{id:E,isZoomImgLoaded:R,loadedImgEl:D,modalState:I,shouldRefresh:L,styleGhost:O}}=this,X=`rmiz-modal-${E}`,W=`rmiz-modal-img-${E}`,q=nD(s),$=R4(s),Q=ES(s),ee=Aye(s),k=Sz(s),Z=$?s.sizes:void 0,K=$?s.srcset:void 0,ne=!!(y!=null&&y.src),le=this.hasImage(),ye=ee?`${a}: ${ee}`:a,re=I==="LOADING"||I==="LOADED",pe=le?"found":"not-found",Me=I==="UNLOADED"||I==="UNLOADING"?"hidden":"visible",xe={visibility:I==="UNLOADED"?"visible":"hidden"};this.styleModalImg=le?Mye({hasZoomImg:ne,imgSrc:k,isSvg:Q,isZoomed:d&&re,loadedImgEl:D,offset:_,shouldRefresh:L,targetEl:s}):{};let We=null;if(le){const rt=$||q?rn.createElement("img",{alt:ee,sizes:Z,src:k,srcSet:K,...R&&I==="LOADED"?y:{},"data-rmiz-modal-img":"",height:this.styleModalImg.height||void 0,id:W,ref:C,style:this.styleModalImg,width:this.styleModalImg.width||void 0}):Q?rn.createElement("div",{"data-rmiz-modal-img":!0,ref:C,style:this.styleModalImg}):null,Be=rn.createElement("button",{"aria-label":o,"data-rmiz-btn-unzoom":"",onClick:n,type:"button"},rn.createElement(u,null));We=g?rn.createElement(g,{buttonUnzoom:Be,modalState:I,img:rt,onUnzoom:n}):rn.createElement(rn.Fragment,null,rt,Be)}return rn.createElement(m,{"aria-owns":X,"data-rmiz":"",ref:T},rn.createElement(m,{"data-rmiz-content":pe,ref:v,style:xe},l),le&&rn.createElement(m,{"data-rmiz-ghost":"",style:O},rn.createElement("button",{"aria-label":ye,"data-rmiz-btn-zoom":"",onClick:r,type:"button"},rn.createElement(h,null))),le&&_te.createPortal(rn.createElement("dialog",{"aria-labelledby":W,"aria-modal":"true",className:c,"data-rmiz-modal":"",id:X,onClick:t,onClose:n,onCancel:e,ref:A,role:"dialog"},rn.createElement("div",{"data-rmiz-modal-overlay":Me}),rn.createElement("div",{"data-rmiz-modal-content":"",ref:w},We)),this.getDialogContainer()))}componentDidMount(){this.setId(),this.setAndTrackImg(),this.handleImgLoad(),this.UNSAFE_handleSvg()}componentWillUnmount(){var e,t,n,r,s,o,a,l,c,u,h,d;this.state.modalState!=="UNLOADED"&&this.bodyScrollEnable(),(t=(e=this.contentChangeObserver)==null?void 0:e.disconnect)==null||t.call(e),(r=(n=this.contentNotFoundChangeObserver)==null?void 0:n.disconnect)==null||r.call(n),(o=(s=this.imgElResizeObserver)==null?void 0:s.disconnect)==null||o.call(s),(l=(a=this.imgEl)==null?void 0:a.removeEventListener)==null||l.call(a,"load",this.handleImgLoad),(u=(c=this.imgEl)==null?void 0:c.removeEventListener)==null||u.call(c,"click",this.handleZoom),(d=(h=this.refModalImg.current)==null?void 0:h.removeEventListener)==null||d.call(h,"transitionend",this.handleImgTransitionEnd),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),window.removeEventListener("resize",this.handleResize),document.removeEventListener("keydown",this.handleKeyDown,!0)}componentDidUpdate(e,t){this.handleModalStateChange(t.modalState),this.UNSAFE_handleSvg(),this.handleIfZoomChanged(e.isZoomed)}}CJ.defaultProps={a11yNameButtonUnzoom:"Minimize image",a11yNameButtonZoom:"Expand image",canSwipeToUnzoom:!0,IconUnzoom:vye,IconZoom:yye,swipeToUnzoomThreshold:10,wrapElement:"div",zoomMargin:0};function Pye(i){const[e,t]=rn.useState(!1);return rn.createElement(Rye,{...i,isZoomed:e,onZoomChange:t})}var MJ={};function Iye(i){if(typeof window>"u")return;const e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=i,document.head.appendChild(e),i}Object.defineProperty(MJ,"__esModule",{value:!0});var Jn=N;function Lye(i){return i&&typeof i=="object"&&"default"in i?i:{default:i}}var _u=Lye(Jn);Iye(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const Dye=Jn.forwardRef(function({style:e={},className:t="",autoFill:n=!1,play:r=!0,pauseOnHover:s=!1,pauseOnClick:o=!1,direction:a="left",speed:l=50,delay:c=0,loop:u=0,gradient:h=!1,gradientColor:d="white",gradientWidth:m=200,onFinish:g,onCycleComplete:y,onMount:_,children:v},A){const[w,C]=Jn.useState(0),[T,E]=Jn.useState(0),[R,D]=Jn.useState(1),[I,L]=Jn.useState(!1),O=Jn.useRef(null),X=A||O,W=Jn.useRef(null),q=Jn.useCallback(()=>{if(W.current&&X.current){const ne=X.current.getBoundingClientRect(),le=W.current.getBoundingClientRect();let ye=ne.width,re=le.width;(a==="up"||a==="down")&&(ye=ne.height,re=le.height),D(n&&ye&&re&&re<ye?Math.ceil(ye/re):1),C(ye),E(re)}},[n,X,a]);Jn.useEffect(()=>{if(I&&(q(),W.current&&X.current)){const ne=new ResizeObserver(()=>q());return ne.observe(X.current),ne.observe(W.current),()=>{ne&&ne.disconnect()}}},[q,X,I]),Jn.useEffect(()=>{q()},[q,v]),Jn.useEffect(()=>{L(!0)},[]),Jn.useEffect(()=>{typeof _=="function"&&_()},[]);const $=Jn.useMemo(()=>n?T*R/l:T<w?w/l:T/l,[n,w,T,R,l]),Q=Jn.useMemo(()=>Object.assign(Object.assign({},e),{"--pause-on-hover":!r||s?"paused":"running","--pause-on-click":!r||s&&!o||o?"paused":"running","--width":a==="up"||a==="down"?"100vh":"100%","--transform":a==="up"?"rotate(-90deg)":a==="down"?"rotate(90deg)":"none"}),[e,r,s,o,a]),ee=Jn.useMemo(()=>({"--gradient-color":d,"--gradient-width":typeof m=="number"?`${m}px`:m}),[d,m]),k=Jn.useMemo(()=>({"--play":r?"running":"paused","--direction":a==="left"?"normal":"reverse","--duration":`${$}s`,"--delay":`${c}s`,"--iteration-count":u?`${u}`:"infinite","--min-width":n?"auto":"100%"}),[r,a,$,c,u,n]),Z=Jn.useMemo(()=>({"--transform":a==="up"?"rotate(90deg)":a==="down"?"rotate(-90deg)":"none"}),[a]),K=Jn.useCallback(ne=>[...Array(Number.isFinite(ne)&&ne>=0?ne:0)].map((le,ye)=>_u.default.createElement(Jn.Fragment,{key:ye},Jn.Children.map(v,re=>_u.default.createElement("div",{style:Z,className:"rfm-child"},re)))),[Z,v]);return I?_u.default.createElement("div",{ref:X,style:Q,className:"rfm-marquee-container "+t},h&&_u.default.createElement("div",{style:ee,className:"rfm-overlay"}),_u.default.createElement("div",{className:"rfm-marquee",style:k,onAnimationIteration:y,onAnimationEnd:g},_u.default.createElement("div",{className:"rfm-initial-child-container",ref:W},Jn.Children.map(v,ne=>_u.default.createElement("div",{style:Z,className:"rfm-child"},ne))),K(R-1)),_u.default.createElement("div",{className:"rfm-marquee",style:k},K(R))):null});var Bye=MJ.default=Dye;function zM(i,e,t,n){return new(t||(t=Promise))(function(r,s){function o(c){try{l(n.next(c))}catch(u){s(u)}}function a(c){try{l(n.throw(c))}catch(u){s(u)}}function l(c){var u;c.done?r(c.value):(u=c.value,u instanceof t?u:new t(function(h){h(u)})).then(o,a)}l((n=n.apply(i,[])).next())})}function bh(i,e){var t,n,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&u[0]?n.return:u[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,u[1])).done)return r;switch(n=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!((r=r.length>0&&r[r.length-1])||u[0]!==6&&u[0]!==2)){o=0;continue}if(u[0]===3&&(!r||u[1]>r[0]&&u[1]<r[3])){o.label=u[1];break}if(u[0]===6&&o.label<r[1]){o.label=r[1],r=u;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(u);break}r[2]&&o.ops.pop(),o.trys.pop();continue}u=e.call(i,o)}catch(h){u=[6,h],n=0}finally{t=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([l,c])}}}function IR(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xa(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n,r,s=t.call(i),o=[];try{for(;(e===void 0||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(a){r={error:a}}finally{try{n&&!n.done&&(t=s.return)&&t.call(s)}finally{if(r)throw r.error}}return o}function ll(i,e,t){if(arguments.length===2)for(var n,r=0,s=e.length;r<s;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return i.concat(n||Array.prototype.slice.call(e))}function Cz(i,e,t,n,r){for(var s=[],o=5;o<arguments.length;o++)s[o-5]=arguments[o];return zM(this,void 0,void 0,function(){var a,l,c,u,h,d;return bh(this,function(m){switch(m.label){case 0:m.trys.push([0,12,13,14]),a=IR(s),l=a.next(),m.label=1;case 1:if(l.done)return[3,11];switch(c=l.value,typeof c){case"string":return[3,2];case"number":return[3,4];case"function":return[3,6]}return[3,8];case 2:return[4,Fye(i,e,c,t,n,r)];case 3:return m.sent(),[3,10];case 4:return[4,EJ(c)];case 5:return m.sent(),[3,10];case 6:return[4,c.apply(void 0,ll([i,e,t,n,r],xa(s),!1))];case 7:return m.sent(),[3,10];case 8:return[4,c];case 9:m.sent(),m.label=10;case 10:return l=a.next(),[3,1];case 11:return[3,14];case 12:return u=m.sent(),h={error:u},[3,14];case 13:try{l&&!l.done&&(d=a.return)&&d.call(a)}finally{if(h)throw h.error}return[7];case 14:return[2]}})})}function Fye(i,e,t,n,r,s){return zM(this,void 0,void 0,function(){var o,a;return bh(this,function(l){switch(l.label){case 0:return o=i.textContent||"",a=function(c,u){var h=xa(u).slice(0);return ll(ll([],xa(c),!1),[NaN],!1).findIndex(function(d,m){return h[m]!==d})}(o,t),[4,Oye(i,ll(ll([],xa(Nye(o,e,a)),!1),xa(kye(t,e,a)),!1),n,r,s)];case 1:return l.sent(),[2]}})})}function EJ(i){return zM(this,void 0,void 0,function(){return bh(this,function(e){switch(e.label){case 0:return[4,new Promise(function(t){return setTimeout(t,i)})];case 1:return e.sent(),[2]}})})}function Oye(i,e,t,n,r){return zM(this,void 0,void 0,function(){var s,o,a,l,c,u,h,d,m,g,y,_,v;return bh(this,function(A){switch(A.label){case 0:if(s=e,r){for(o=0,a=1;a<e.length;a++)if(l=xa([e[a-1],e[a]],2),c=l[0],(u=l[1]).length>c.length||u===""){o=a;break}s=e.slice(o,e.length)}A.label=1;case 1:A.trys.push([1,6,7,8]),h=IR(function(w){var C,T,E,R,D,I,L;return bh(this,function(O){switch(O.label){case 0:C=function(X){return bh(this,function(W){switch(W.label){case 0:return[4,{op:function(q){return requestAnimationFrame(function(){return q.textContent=X})},opCode:function(q){var $=q.textContent||"";return X===""||$.length>X.length?"DELETE":"WRITING"}}];case 1:return W.sent(),[2]}})},O.label=1;case 1:O.trys.push([1,6,7,8]),T=IR(w),E=T.next(),O.label=2;case 2:return E.done?[3,5]:(R=E.value,[5,C(R)]);case 3:O.sent(),O.label=4;case 4:return E=T.next(),[3,2];case 5:return[3,8];case 6:return D=O.sent(),I={error:D},[3,8];case 7:try{E&&!E.done&&(L=T.return)&&L.call(T)}finally{if(I)throw I.error}return[7];case 8:return[2]}})}(s)),d=h.next(),A.label=2;case 2:return d.done?[3,5]:(m=d.value,g=m.opCode(i)==="WRITING"?t+t*(Math.random()-.5):n+n*(Math.random()-.5),m.op(i),[4,EJ(g)]);case 3:A.sent(),A.label=4;case 4:return d=h.next(),[3,2];case 5:return[3,8];case 6:return y=A.sent(),_={error:y},[3,8];case 7:try{d&&!d.done&&(v=h.return)&&v.call(h)}finally{if(_)throw _.error}return[7];case 8:return[2]}})})}function kye(i,e,t){var n,r;return t===void 0&&(t=0),bh(this,function(s){switch(s.label){case 0:n=e(i),r=n.length,s.label=1;case 1:return t<r?[4,n.slice(0,++t).join("")]:[3,3];case 2:return s.sent(),[3,1];case 3:return[2]}})}function Nye(i,e,t){var n,r;return t===void 0&&(t=0),bh(this,function(s){switch(s.label){case 0:n=e(i),r=n.length,s.label=1;case 1:return r>t?[4,n.slice(0,--r).join("")]:[3,3];case 2:return s.sent(),[3,1];case 3:return[2]}})}var Uye="index-module_type__E-SaG";(function(i,e){e===void 0&&(e={});var t=e.insertAt;if(typeof document<"u"){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i))}})(`.index-module_type__E-SaG::after {
  content: '|';
  animation: index-module_cursor__PQg0P 1.1s infinite step-start;
}

@keyframes index-module_cursor__PQg0P {
  50% {
    opacity: 0;
  }
}
`);var zye=N.memo(N.forwardRef(function(i,e){var t=i.sequence,n=i.repeat,r=i.className,s=i.speed,o=s===void 0?40:s,a=i.deletionSpeed,l=i.omitDeletionAnimation,c=l!==void 0&&l,u=i.preRenderFirstString,h=u!==void 0&&u,d=i.wrapper,m=d===void 0?"span":d,g=i.splitter,y=g===void 0?function(K){return ll([],xa(K),!1)}:g,_=i.cursor,v=_===void 0||_,A=i.style,w=function(K,ne){var le={};for(var ye in K)Object.prototype.hasOwnProperty.call(K,ye)&&ne.indexOf(ye)<0&&(le[ye]=K[ye]);if(K!=null&&typeof Object.getOwnPropertySymbols=="function"){var re=0;for(ye=Object.getOwnPropertySymbols(K);re<ye.length;re++)ne.indexOf(ye[re])<0&&Object.prototype.propertyIsEnumerable.call(K,ye[re])&&(le[ye[re]]=K[ye[re]])}return le}(i,["sequence","repeat","className","speed","deletionSpeed","omitDeletionAnimation","preRenderFirstString","wrapper","splitter","cursor","style"]),C=w["aria-label"],T=w["aria-hidden"],E=w.role;a||(a=o);var R=new Array(2).fill(40);[o,a].forEach(function(K,ne){switch(typeof K){case"number":R[ne]=Math.abs(K-100);break;case"object":var le=K.type,ye=K.value;if(typeof ye!="number")break;le==="keyStrokeDelayInMs"&&(R[ne]=ye)}});var D,I,L,O,X,W,q=R[0],$=R[1],Q=function(K,ne){ne===void 0&&(ne=null);var le=N.useRef(ne);return N.useEffect(function(){K&&(typeof K=="function"?K(le.current):K.current=le.current)},[K]),le}(e),ee=Uye;D=r?"".concat(v?ee+" ":"").concat(r):v?ee:"",I=N.useRef(function(){var K,ne=t;n===1/0?K=Cz:typeof n=="number"&&(ne=Array(1+n).fill(t).flat());var le=K?ll(ll([],xa(ne),!1),[K],!1):ll([],xa(ne),!1);return Cz.apply(void 0,ll([Q.current,y,q,$,c],xa(le),!1)),function(){Q.current}}),L=N.useRef(),O=N.useRef(!1),X=N.useRef(!1),W=xa(N.useState(0),2)[1],O.current&&(X.current=!0),N.useEffect(function(){return O.current||(L.current=I.current(),O.current=!0),W(function(K){return K+1}),function(){X.current&&L.current&&L.current()}},[]);var k=m,Z=h?t.find(function(K){return typeof K=="string"})||"":null;return rn.createElement(k,{"aria-hidden":T,"aria-label":C,role:E,style:A,className:D,children:C?rn.createElement("span",{"aria-hidden":"true",ref:Q,children:Z}):Z,ref:C?void 0:Q})}),function(i,e){return!0});const iD=i=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",id:"up-right-arrow",...i},N.createElement("path",{d:"M25.74 7.83v-.17l-.06-.2a1.18 1.18 0 0 0-.11-.19.8.8 0 0 0-.08-.16 1.92 1.92 0 0 0-.55-.55 1.29 1.29 0 0 0-.16-.09l-.19-.1-.2-.06h-.17a2.58 2.58 0 0 0-.39 0H9.64a2 2 0 0 0 0 4H19L6.81 22.36a2 2 0 1 0 2.83 2.83l12.14-12.14v9.31a2 2 0 0 0 4 0V8.22a2.58 2.58 0 0 0-.04-.39Z"})),jye=({theme:i})=>S.jsxs(cr.section,{animate:{y:"0%"},initial:{y:"100%"},exit:{opacity:0,transition:{duration:.25}},transition:{type:"spring",bounce:.2,duration:2},className:"max-container",children:[S.jsx("div",{className:"overflow-hidden",children:S.jsxs(cr.h1,{animate:{y:"0%"},initial:{y:"100%"},transition:{delay:1.75,type:"spring",bounce:.5,duration:1.5},className:"head-text",children:["Hello, I'm"," ",S.jsxs("span",{className:"blue-gradient_text font-semibold drop-shadow",children:[" ","Mark"]})," ",S.jsx("span",{className:"waving-hand",children:"👋"})]})}),S.jsx("div",{className:"overflow-hidden",children:S.jsx(cr.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.5,ease:"easeOut"},className:"text-base-300 mt-2 leading-relaxed",children:"Software Engineer based in California, specializing in Full-stack development and Computer Networking through hands-on learning and building applications."})}),S.jsxs("div",{className:"py-10 flex flex-col",children:[S.jsx("h3",{className:"subhead-text",children:"My Skills"}),window.innerWidth>768?S.jsx("div",{className:"mt-8 text-base-300",children:S.jsx(zye,{sequence:yz.map(e=>["I like "+e.name,500]).flat(),wrapper:"span",speed:70,deletionSpeed:60,style:{fontSize:"1.6em",display:"inline-block"},repeat:1/0})}):S.jsx("div",{className:"mt-8",children:S.jsx(Bye,{gradient:!0,gradientColor:i==="dark"?"rgba(42, 43, 47, 0.7)":"rgba(245, 246, 249, 0.7)",gradientWidth:50,speed:120,children:yz.map(e=>S.jsx("span",{className:"text-base-300 text-center ml-5",style:{fontSize:"1.5em"},children:e.name},e.name))})}),S.jsx("div",{className:"mt-16 flex flex-wrap gap-6 md:gap-8 justify-center",children:qve.map(e=>S.jsxs("div",{className:"block-container w-20 h-10 md:h-20",children:[S.jsx("div",{className:"btn-back rounded-xl"}),S.jsxs("div",{className:"btn-front rounded-xl flex flex-col items-center justify-center",children:[S.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-1/2 h-1/2 object-contain"}),S.jsx("p",{className:"text-base-200 text-xs font-medium mt-1",children:e.name})]})]},e.name))})]}),S.jsxs("div",{className:"py-16",children:[S.jsx("h3",{className:"subhead-text",children:"Work Experience."}),S.jsx("div",{className:"mt-5 flex flex-col gap-3 text-base-300",children:S.jsx("p",{children:"I've worked with all sorts of companies, leveling up my skills and teaming up with smart people. Here's the rundown:"})}),S.jsx("div",{className:"mt-12 flex",children:S.jsx(Az.VerticalTimeline,{lineColor:i==="dark"?"#313237":"#ffffff",children:Zve.map((e,t)=>S.jsxs(Az.VerticalTimelineElement,{date:e.date,dateClassName:"text-muted",iconStyle:{background:i==="dark"?e.iconBgDark:e.iconBgLight,color:i==="dark"?"#313237":"#ffffff"},icon:S.jsx("div",{className:"flex justify-center items-center w-full h-full",children:S.jsx("a",{className:"w-[70%] h-[70%] object-contain",href:e.url,target:"_blank",rel:"noreferrer",children:S.jsx("img",{src:e.icon,alt:e.company_name})})}),contentArrowStyle:{borderRight:"7px solid "+(e.main?i==="dark"?e.iconBgDark:e.iconBgLight:i==="dark"?"#313237":"#ffffff")},contentStyle:{background:e.main?i==="dark"?e.iconBgDark:e.iconBgLight:i==="dark"?"#313237":"#ffffff",borderTop:"6px",borderStyle:"solid",borderTopColor:i==="dark"?e.iconBgDark:e.iconBgLight,boxShadow:"none"},children:[S.jsx("h3",{className:"text-xl font-poppins font-semibold "+(e.main?"text-black":"text-base"),children:e.title}),S.jsx("div",{className:"font-medium"+(e.main?" text-black-500":" text-base"),style:{margin:0},children:S.jsx("div",{className:"flex items-center gap-2",children:S.jsxs(fl,{to:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:["Company: ",e.company_name,S.jsx(iD,{fill:"currentColor",alt:"Go to Project Icon",className:"w-4 h-4 object-contain"})]})})}),S.jsx("div",{className:"mt-3",children:S.jsx("div",{className:"flex flex-wrap items-center gap-2",children:e.tags.map((n,r)=>S.jsx("div",{className:"tech-logo",children:S.jsx("img",{src:n.path,alt:n.name})},r))})}),S.jsx("ul",{className:"my-5 list-disc ml-5 space-y-2",children:e.points.map((n,r)=>S.jsx("li",{className:"font-normal pl-1 text-sm"+(e.main?" text-black-500":" text-base"),children:n},`experience-point-${r}`))}),S.jsx("div",{className:"flex gap-2",children:e.gallery.map(({imageUrl:n,description:r},s)=>S.jsx(Pye,{children:S.jsx("img",{src:n,alt:r,className:"object-cover rounded-lg cursor-pointer shadow-lg"})},`experience-gallery-${s}`))})]},`experience.company_name-${t}`))})})]}),S.jsx("hr",{className:"border-base-500/20"}),S.jsx(uD,{})]}),Mz=yJ.length,Hye=({...i})=>{const[e,t]=N.useState(0),n=s=>{t(o=>s==="previous"?o===0?Mz-1:o-1:o===Mz-1?0:o+1)};kM(()=>{OM.fromTo(".animatedText",{opacity:0},{opacity:1,duration:1,stagger:.2,ease:"power2.inOut"})},[e]);const r=yJ[e];return S.jsxs("section",{className:"c-space my-20",children:[S.jsx("p",{className:"subhead-text",children:"✨ Highlights"}),S.jsxs("div",{className:"grid lg:grid-cols-2 grid-cols-1 mt-12 gap-5 w-full",children:[S.jsx("div",{className:"border border-base/20 bg-base-inverted rounded-lg h-96 md:h-full cursor-grab",children:S.jsxs(VI,{children:[S.jsx("ambientLight",{intensity:5}),S.jsx("directionalLight",{position:[10,10,5]}),S.jsx(J2e,{children:S.jsx(N.Suspense,{fallback:S.jsx(B_e,{}),children:S.jsx(Tve,{scale:2.2,position:[-.5,-3.2,0],rotation:[0,.3,0],texture:r.texture})})}),S.jsx(G2e,{maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/4})]})}),S.jsxs("div",{className:"flex flex-col gap-5 relative sm:p-10 py-10 px-5 shadow-2xl shadow-shadow",children:[S.jsx("div",{className:"absolute top-0 right-0",children:S.jsx("img",{src:r.spotlight,alt:"spotlight",className:"w-full h-400 object-cover rounded-xl"})}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"block-container w-12 h-12",children:[S.jsx("div",{className:`btn-back rounded-xl btn-back-${r.theme}`}),S.jsx("div",{className:"btn-front rounded-xl flex justify-center items-center",children:S.jsx("img",{src:r.iconUrl,alt:"threads",className:"w-1/2 h-1/2 object-contain"})})]}),S.jsxs("div",{className:"flex items-center gap-8 z-10",children:[S.jsx("button",{className:"arrow-btn-left",onClick:()=>n("previous"),children:S.jsx("img",{src:IG,alt:"left arrow"})}),S.jsx("button",{className:"arrow-btn-right",onClick:()=>n("next"),children:S.jsx("img",{src:LG,alt:"right arrow"})})]})]}),S.jsx("div",{className:"flex items-center gap-1 font-poppins z-10",children:S.jsxs(fl,{to:r.href,target:"_blank",rel:"noopener noreferrer",className:"flex items-center font-semibold text-secondary gap-2",children:["Go to Project",S.jsx(iD,{fill:"currentColor",alt:"Go to Project Icon",className:"w-4 h-4 object-contain"})]})}),S.jsxs("div",{className:"flex flex-col gap-5 my-2",children:[S.jsx("p",{className:"text-base-100 text-2xl font-semibold animatedText",children:r.title}),S.jsx("p",{className:"text-base-300 animatedText",children:r.desc}),S.jsx("p",{className:"text-base-300 animatedText",children:r.subdesc})]}),S.jsx("div",{className:"flex items-center justify-between flex-wrap gap-5 animatedText",children:S.jsx("div",{className:"flex flex-wrap items-center gap-1",children:r.tags.map((s,o)=>S.jsx("div",{className:"tech-logo",children:S.jsx("img",{src:s.path,alt:s.name})},o))})})]})]})]})},Gye=()=>S.jsxs(cr.section,{animate:{y:"0%"},initial:{y:"100%"},exit:{opacity:0,transition:{duration:.25}},transition:{type:"spring",bounce:.2,duration:2},className:"max-container",children:[S.jsx("div",{className:"overflow-hidden",children:S.jsxs(cr.h1,{animate:{y:"0%"},initial:{y:"100%"},transition:{delay:1.75,type:"spring",bounce:.5,duration:1.5},className:"head-text",children:["My"," ",S.jsx("span",{className:"blue-gradient_text drop-shadow font-semibold",children:"Projects"})]})}),S.jsx("div",{className:"overflow-hidden",children:S.jsx(cr.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.5,ease:"easeOut"},className:"text-base-300 mt-2 leading-relaxed",children:"Welcome to my project showcase! This collection highlights my journey as a software engineer, featuring web apps like Zettelkasten Blog and Fortune Telling, game development with Game of Generals, networking projects such as router simulation, and developer tools like Ez-Install."})}),S.jsx(Hye,{}),S.jsxs("section",{className:"c-space my-20",children:[S.jsx("p",{className:"subhead-text",children:"Notable Projects"}),S.jsx("div",{className:"flex flex-wrap my-20 gap-16 justify-center items-center",children:Qve.map(i=>S.jsxs("div",{className:"lg:w-[400px] w-full",children:[S.jsxs("div",{className:"block-container w-12 h-12",children:[S.jsx("div",{className:`btn-back rounded-xl btn-back-${i.theme}`}),S.jsx("div",{className:"btn-front rounded-xl flex justify-center items-center",children:S.jsx("img",{src:i.iconUrl,alt:"threads",className:"w-1/2 h-1/2 object-contain"})})]}),S.jsxs("div",{className:"mt-5 flex flex-col",children:[S.jsx("h4",{className:"text-base-100 text-2xl font-poppins font-semibold",children:i.name}),S.jsx("p",{className:"mt-2 text-base-300",children:i.description}),S.jsx("div",{className:"mt-5 flex items-center gap-1 font-poppins",children:S.jsxs(fl,{to:i.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center font-semibold text-secondary gap-2",children:["Go to Project",S.jsx(iD,{fill:"currentColor",alt:"Go to Project Icon",className:"w-4 h-4 object-contain"})]})})]})]},i.name))})]}),S.jsx("hr",{className:"border-base-500/20"}),S.jsx(uD,{})]});class Cx{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const Vye=()=>{if(!(typeof localStorage>"u"))return{get:i=>Promise.resolve(localStorage.getItem(i)),set:(i,e)=>Promise.resolve(localStorage.setItem(i,e)),remove:i=>Promise.resolve(localStorage.removeItem(i))}},lr={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:Vye()},rD=i=>i?typeof i=="string"?{publicKey:i}:i.toString()==="[object Object]"?i:{}:{},Wye=(i,e="https://api.emailjs.com")=>{if(!i)return;const t=rD(i);lr.publicKey=t.publicKey,lr.blockHeadless=t.blockHeadless,lr.storageProvider=t.storageProvider,lr.blockList=t.blockList,lr.limitRate=t.limitRate,lr.origin=t.origin||e},TJ=async(i,e,t={})=>{const n=await fetch(lr.origin+i,{method:"POST",headers:t,body:e}),r=await n.text(),s=new Cx(n.status,r);if(n.ok)return s;throw s},RJ=(i,e,t)=>{if(!i||typeof i!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Xye=i=>{if(i&&i.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},PJ=i=>i.webdriver||!i.languages||i.languages.length===0,IJ=()=>new Cx(451,"Unavailable For Headless Browser"),Kye=(i,e)=>{if(!Array.isArray(i))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},Yye=i=>{var e;return!((e=i.list)!=null&&e.length)||!i.watchVariable},Jye=(i,e)=>i instanceof FormData?i.get(e):i[e],LJ=(i,e)=>{if(Yye(i))return!1;Kye(i.list,i.watchVariable);const t=Jye(e,i.watchVariable);return typeof t!="string"?!1:i.list.includes(t)},DJ=()=>new Cx(403,"Forbidden"),qye=(i,e)=>{if(typeof i!="number"||i<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},Zye=async(i,e,t)=>{const n=Number(await t.get(i)||0);return e-Date.now()+n},BJ=async(i,e,t)=>{if(!e.throttle||!t)return!1;qye(e.throttle,e.id);const n=e.id||i;return await Zye(n,e.throttle,t)>0?!0:(await t.set(n,Date.now().toString()),!1)},FJ=()=>new Cx(429,"Too Many Requests"),Qye=async(i,e,t,n)=>{const r=rD(n),s=r.publicKey||lr.publicKey,o=r.blockHeadless||lr.blockHeadless,a=r.storageProvider||lr.storageProvider,l={...lr.blockList,...r.blockList},c={...lr.limitRate,...r.limitRate};return o&&PJ(navigator)?Promise.reject(IJ()):(RJ(s,i,e),Xye(t),t&&LJ(l,t)?Promise.reject(DJ()):await BJ(location.pathname,c,a)?Promise.reject(FJ()):TJ("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:i,template_id:e,template_params:t}),{"Content-type":"application/json"}))},$ye=i=>{if(!i||i.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},e_e=i=>typeof i=="string"?document.querySelector(i):i,t_e=async(i,e,t,n)=>{const r=rD(n),s=r.publicKey||lr.publicKey,o=r.blockHeadless||lr.blockHeadless,a=lr.storageProvider||r.storageProvider,l={...lr.blockList,...r.blockList},c={...lr.limitRate,...r.limitRate};if(o&&PJ(navigator))return Promise.reject(IJ());const u=e_e(t);RJ(s,i,e),$ye(u);const h=new FormData(u);return LJ(l,h)?Promise.reject(DJ()):await BJ(location.pathname,c,a)?Promise.reject(FJ()):(h.append("lib_version","4.4.1"),h.append("service_id",i),h.append("template_id",e),h.append("user_id",s),TJ("/api/v1.0/email/send-form",h))},n_e={init:Wye,send:Qye,sendForm:t_e,EmailJSResponseStatus:Cx},i_e=()=>{const[i,e]=N.useState({show:!1,text:"",type:"danger"});return{alert:i,showAlert:({text:r,type:s="danger"})=>e({show:!0,text:r,type:s}),hideAlert:()=>e({show:!1,text:"",type:"danger"})}};var r_e=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function LR(){return LR=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},LR.apply(this,arguments)}function s_e(i,e){if(i==null)return{};var t={},n=Object.keys(i),r,s;for(s=0;s<n.length;s++)r=n[s],!(e.indexOf(r)>=0)&&(t[r]=i[r]);return t}function Qw(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function o_e(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,DR(i,e)}function DR(i,e){return DR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},DR(i,e)}var jM=function(i){o_e(e,i);function e(){var n;return n=i.call(this)||this,n.handleExpired=n.handleExpired.bind(Qw(n)),n.handleErrored=n.handleErrored.bind(Qw(n)),n.handleChange=n.handleChange.bind(Qw(n)),n.handleRecaptchaRef=n.handleRecaptchaRef.bind(Qw(n)),n}var t=e.prototype;return t.getCaptchaFunction=function(r){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[r]:this.props.grecaptcha[r]:null},t.getValue=function(){var r=this.getCaptchaFunction("getResponse");return r&&this._widgetId!==void 0?r(this._widgetId):null},t.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},t.execute=function(){var r=this.getCaptchaFunction("execute");if(r&&this._widgetId!==void 0)return r(this._widgetId);this._executeRequested=!0},t.executeAsync=function(){var r=this;return new Promise(function(s,o){r.executionResolve=s,r.executionReject=o,r.execute()})},t.reset=function(){var r=this.getCaptchaFunction("reset");r&&this._widgetId!==void 0&&r(this._widgetId)},t.forceReset=function(){var r=this.getCaptchaFunction("reset");r&&r()},t.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},t.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},t.handleChange=function(r){this.props.onChange&&this.props.onChange(r),this.executionResolve&&(this.executionResolve(r),delete this.executionReject,delete this.executionResolve)},t.explicitRender=function(){var r=this.getCaptchaFunction("render");if(r&&this._widgetId===void 0){var s=document.createElement("div");this._widgetId=r(s,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(s)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},t.componentDidMount=function(){this.explicitRender()},t.componentDidUpdate=function(){this.explicitRender()},t.handleRecaptchaRef=function(r){this.captcha=r},t.render=function(){var r=this.props;r.sitekey,r.onChange,r.theme,r.type,r.tabindex,r.onExpired,r.onErrored,r.size,r.stoken,r.grecaptcha,r.badge,r.hl,r.isolated;var s=s_e(r,r_e);return N.createElement("div",LR({},s,{ref:this.handleRecaptchaRef}))},e}(N.Component);jM.displayName="ReCAPTCHA";jM.propTypes={sitekey:ls.string.isRequired,onChange:ls.func,grecaptcha:ls.object,theme:ls.oneOf(["dark","light"]),type:ls.oneOf(["image","audio"]),tabindex:ls.number,onExpired:ls.func,onErrored:ls.func,size:ls.oneOf(["compact","normal","invisible"]),stoken:ls.string,hl:ls.string,badge:ls.oneOf(["bottomright","bottomleft","inline"]),isolated:ls.bool};jM.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var OJ={exports:{}},hn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ji=typeof Symbol=="function"&&Symbol.for,sD=Ji?Symbol.for("react.element"):60103,oD=Ji?Symbol.for("react.portal"):60106,HM=Ji?Symbol.for("react.fragment"):60107,GM=Ji?Symbol.for("react.strict_mode"):60108,VM=Ji?Symbol.for("react.profiler"):60114,WM=Ji?Symbol.for("react.provider"):60109,XM=Ji?Symbol.for("react.context"):60110,aD=Ji?Symbol.for("react.async_mode"):60111,KM=Ji?Symbol.for("react.concurrent_mode"):60111,YM=Ji?Symbol.for("react.forward_ref"):60112,JM=Ji?Symbol.for("react.suspense"):60113,a_e=Ji?Symbol.for("react.suspense_list"):60120,qM=Ji?Symbol.for("react.memo"):60115,ZM=Ji?Symbol.for("react.lazy"):60116,l_e=Ji?Symbol.for("react.block"):60121,c_e=Ji?Symbol.for("react.fundamental"):60117,u_e=Ji?Symbol.for("react.responder"):60118,h_e=Ji?Symbol.for("react.scope"):60119;function ao(i){if(typeof i=="object"&&i!==null){var e=i.$$typeof;switch(e){case sD:switch(i=i.type,i){case aD:case KM:case HM:case VM:case GM:case JM:return i;default:switch(i=i&&i.$$typeof,i){case XM:case YM:case ZM:case qM:case WM:return i;default:return e}}case oD:return e}}}function kJ(i){return ao(i)===KM}hn.AsyncMode=aD;hn.ConcurrentMode=KM;hn.ContextConsumer=XM;hn.ContextProvider=WM;hn.Element=sD;hn.ForwardRef=YM;hn.Fragment=HM;hn.Lazy=ZM;hn.Memo=qM;hn.Portal=oD;hn.Profiler=VM;hn.StrictMode=GM;hn.Suspense=JM;hn.isAsyncMode=function(i){return kJ(i)||ao(i)===aD};hn.isConcurrentMode=kJ;hn.isContextConsumer=function(i){return ao(i)===XM};hn.isContextProvider=function(i){return ao(i)===WM};hn.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===sD};hn.isForwardRef=function(i){return ao(i)===YM};hn.isFragment=function(i){return ao(i)===HM};hn.isLazy=function(i){return ao(i)===ZM};hn.isMemo=function(i){return ao(i)===qM};hn.isPortal=function(i){return ao(i)===oD};hn.isProfiler=function(i){return ao(i)===VM};hn.isStrictMode=function(i){return ao(i)===GM};hn.isSuspense=function(i){return ao(i)===JM};hn.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===HM||i===KM||i===VM||i===GM||i===JM||i===a_e||typeof i=="object"&&i!==null&&(i.$$typeof===ZM||i.$$typeof===qM||i.$$typeof===WM||i.$$typeof===XM||i.$$typeof===YM||i.$$typeof===c_e||i.$$typeof===u_e||i.$$typeof===h_e||i.$$typeof===l_e)};hn.typeOf=ao;OJ.exports=hn;var d_e=OJ.exports,lD=d_e,f_e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},p_e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},m_e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},NJ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},cD={};cD[lD.ForwardRef]=m_e;cD[lD.Memo]=NJ;function Ez(i){return lD.isMemo(i)?NJ:cD[i.$$typeof]||f_e}var g_e=Object.defineProperty,v_e=Object.getOwnPropertyNames,Tz=Object.getOwnPropertySymbols,y_e=Object.getOwnPropertyDescriptor,__e=Object.getPrototypeOf,Rz=Object.prototype;function UJ(i,e,t){if(typeof e!="string"){if(Rz){var n=__e(e);n&&n!==Rz&&UJ(i,n,t)}var r=v_e(e);Tz&&(r=r.concat(Tz(e)));for(var s=Ez(i),o=Ez(e),a=0;a<r.length;++a){var l=r[a];if(!p_e[l]&&!(t&&t[l])&&!(o&&o[l])&&!(s&&s[l])){var c=y_e(e,l);try{g_e(i,l,c)}catch{}}}}return i}var x_e=UJ;const A_e=L0(x_e);function BR(){return BR=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},BR.apply(this,arguments)}function w_e(i,e){if(i==null)return{};var t={},n=Object.keys(i),r,s;for(s=0;s<n.length;s++)r=n[s],!(e.indexOf(r)>=0)&&(t[r]=i[r]);return t}function S_e(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}var Qo={},b_e=0;function C_e(i,e){return e=e||{},function(n){var r=n.displayName||n.name||"Component",s=function(a){S_e(l,a);function l(u,h){var d;return d=a.call(this,u,h)||this,d.state={},d.__scriptURL="",d}var c=l.prototype;return c.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+b_e++),this.__scriptLoaderID},c.setupScriptURL=function(){return this.__scriptURL=typeof i=="function"?i():i,this.__scriptURL},c.asyncScriptLoaderHandleLoad=function(h){var d=this;this.setState(h,function(){return d.props.asyncScriptOnLoad&&d.props.asyncScriptOnLoad(d.state)})},c.asyncScriptLoaderTriggerOnScriptLoaded=function(){var h=Qo[this.__scriptURL];if(!h||!h.loaded)throw new Error("Script is not loaded.");for(var d in h.observers)h.observers[d](h);delete window[e.callbackName]},c.componentDidMount=function(){var h=this,d=this.setupScriptURL(),m=this.asyncScriptLoaderGetScriptLoaderID(),g=e,y=g.globalName,_=g.callbackName,v=g.scriptId;if(y&&typeof window[y]<"u"&&(Qo[d]={loaded:!0,observers:{}}),Qo[d]){var A=Qo[d];if(A&&(A.loaded||A.errored)){this.asyncScriptLoaderHandleLoad(A);return}A.observers[m]=function(R){return h.asyncScriptLoaderHandleLoad(R)};return}var w={};w[m]=function(R){return h.asyncScriptLoaderHandleLoad(R)},Qo[d]={loaded:!1,observers:w};var C=document.createElement("script");C.src=d,C.async=!0;for(var T in e.attributes)C.setAttribute(T,e.attributes[T]);v&&(C.id=v);var E=function(D){if(Qo[d]){var I=Qo[d],L=I.observers;for(var O in L)D(L[O])&&delete L[O]}};_&&typeof window<"u"&&(window[_]=function(){return h.asyncScriptLoaderTriggerOnScriptLoaded()}),C.onload=function(){var R=Qo[d];R&&(R.loaded=!0,E(function(D){return _?!1:(D(R),!0)}))},C.onerror=function(){var R=Qo[d];R&&(R.errored=!0,E(function(D){return D(R),!0}))},document.body.appendChild(C)},c.componentWillUnmount=function(){var h=this.__scriptURL;if(e.removeOnUnmount===!0)for(var d=document.getElementsByTagName("script"),m=0;m<d.length;m+=1)d[m].src.indexOf(h)>-1&&d[m].parentNode&&d[m].parentNode.removeChild(d[m]);var g=Qo[h];g&&(delete g.observers[this.asyncScriptLoaderGetScriptLoaderID()],e.removeOnUnmount===!0&&delete Qo[h])},c.render=function(){var h=e.globalName,d=this.props;d.asyncScriptOnLoad;var m=d.forwardedRef,g=w_e(d,["asyncScriptOnLoad","forwardedRef"]);return h&&typeof window<"u"&&(g[h]=typeof window[h]<"u"?window[h]:void 0),g.ref=m,N.createElement(n,g)},l}(N.Component),o=N.forwardRef(function(a,l){return N.createElement(s,BR({},a,{forwardedRef:l}))});return o.displayName="AsyncScriptLoader("+r+")",o.propTypes={asyncScriptOnLoad:ls.func},A_e(o,n)}}var FR="onloadcallback",M_e="grecaptcha";function OR(){return typeof window<"u"&&window.recaptchaOptions||{}}function E_e(){var i=OR(),e=i.useRecaptchaNet?"recaptcha.net":"www.google.com";return i.enterprise?"https://"+e+"/recaptcha/enterprise.js?onload="+FR+"&render=explicit":"https://"+e+"/recaptcha/api.js?onload="+FR+"&render=explicit"}const T_e=C_e(E_e,{callbackName:FR,globalName:M_e,attributes:OR().nonce?{nonce:OR().nonce}:{}})(jM),R_e=({theme:i})=>{const e=N.useRef(),t=N.useRef(),[n,r]=N.useState({name:"",email:"",subject:"",message:""}),{alert:s,showAlert:o,hideAlert:a}=i_e(),[l,c]=N.useState(!1),[u,h]=N.useState(0),d=({target:{name:X,value:W}})=>{r({...n,[X]:W})},m=()=>h(1),g=()=>h(0),y=X=>{X.preventDefault(),c(!0),h(2);const W=t.current.getValue();if(!W){c(!1),h(3),o({show:!0,text:"Please verify that you are not a robot 🤖",type:"danger"});return}n_e.send("service_4susg22","template_mpnbw9r",{from_name:n.name,to_name:"Mark Lucernas",from_email:n.email,subject:n.subject,message:n.message,"g-recaptcha-response":W},"9GnKmQVYO8Mr2j2Dp").then(()=>{c(!1),o({show:!0,text:"Thank you for your message 😃",type:"success"}),setTimeout(()=>{a(!1),h(0),r({name:"",email:"",subject:"",message:""}),t.current.reset()},[3e3])},q=>{c(!1),console.error(q),h(0),o({show:!0,text:"I didn't receive your message 😢",type:"danger"}),t.current.reset()})},_=()=>{let X,W,q;return window.innerWidth<768?(X=[30,30,30],W=[0,1.5,0],q=[1.2,0,0]):(X=[15.7,15.7,15.7],W=[.4,1.3,0],q=[1,1,-.5]),[X,W,q]},[v,A,w]=_(),C=()=>{let X,W,q;return window.innerWidth<768?(X=[1.2,1.2,1.2],W=[0,-.8,0],q=[0,0,0]):(X=[1,1,1],W=[.5,-.8,0],q=[0,-.282,0]),[X,W,q]},[T,E,R]=C(),D=()=>{let X,W,q;return window.innerWidth<768?(X=[2.5,2.5,2.5],W=[0,1.2,0],q=[0,-1,0]):(X=[1.5,1.5,1.5],W=[.2,1.5,0],q=[0,-1,0]),[X,W,q]},[I,L,O]=D();return S.jsxs(cr.section,{className:"relative flex lg:flex-row flex-col max-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.25}},transition:{duration:2,ease:"easeOut"},children:[s.show&&S.jsx(D_e,{...s}),S.jsxs("div",{className:"flex-1 min-w-[50%] flex flex-col overflow-hidden",children:[S.jsx("div",{className:"overflow-hidden",children:S.jsx(cr.h1,{animate:{y:"0%"},initial:{y:"100%"},transition:{delay:.75,type:"spring",bounce:.5,duration:1.5},className:"head-text",children:"Get in Touch"})}),S.jsxs(cr.form,{animate:{x:"0%"},initial:{x:"100%"},transition:{delay:.25,duration:.5},ref:e,onSubmit:y,className:"w-full flex flex-col gap-7 mt-14",children:[S.jsxs("label",{className:"text-base-300 font-semibold",children:["Name",S.jsx("input",{type:"text",name:"name",className:"input",placeholder:"John",required:!0,value:n.name,onChange:d,onFocus:m,onBlur:g})]}),S.jsxs("label",{className:"text-base-300 font-semibold",children:["Email",S.jsx("input",{type:"email",name:"email",className:"input",placeholder:"John@gmail.com",required:!0,value:n.email,onChange:d,onFocus:m,onBlur:g})]}),S.jsxs("label",{className:"text-base-300 font-semibold",children:["Subject (Optional)",S.jsx("input",{type:"text",name:"subject",className:"input",placeholder:"Let's get in touch!",value:n.subject,onChange:d,onFocus:m,onBlur:g})]}),S.jsxs("label",{className:"text-base-300 font-semibold",children:["Your Message",S.jsx("textarea",{name:"message",rows:"4",className:"textarea",placeholder:"Write your thoughts here...",required:!0,value:n.message,onChange:d,onFocus:m,onBlur:g})]}),S.jsx(T_e,{ref:t,sitekey:"6LfqLU4hAAAAACNJchilzIXxauELLGjTANI-NmSg",theme:i==="dark"?"dark":"light"}),S.jsx("button",{type:"submit",disabled:l,className:"btn",onFocus:m,onBlur:g,children:l?"Sending...":"Submit"})]})]}),S.jsx("div",{className:"lg:w-1/2 w-full lg:h-auto md:h-[550px] h-[350px]",children:S.jsxs(VI,{camera:{position:[0,0,5],fov:75,near:.1,far:1e3},children:[S.jsx("directionalLight",{position:[1,1,1],intensity:2.5}),S.jsx("ambientLight",{intensity:1}),S.jsx("pointLight",{position:[5,10,0],intensity:2}),S.jsx("spotLight",{position:[10,10,10],angle:.15,penumbra:1,intensity:2}),S.jsxs(N.Suspense,{fallback:S.jsx(zJ,{}),children:[(u===0||u===1)&&S.jsx(i1e,{currentAnimation:u,position:A,scale:v,rotation:w}),u===2&&S.jsx(s1e,{position:E,scale:T,rotation:R}),u===3&&S.jsx(sge,{position:L,scale:I,rotation:O})]})]})})]})},P_e="/assets/resume--WhgmjNV.pdf",I_e=()=>S.jsxs(cr.section,{className:"max-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.25}},transition:{duration:1,ease:"easeOut"},children:[S.jsxs("h1",{className:"head-text",children:["My"," ",S.jsx("span",{className:"blue-gradient_text drop-shadow font-semibold",children:"Resume"})]}),S.jsx("div",{className:"mt-10",children:S.jsx(Swe,{title:"Latest CV/Résumé",path:P_e,downloadFilename:"MarkLucernas_Resume.pdf"})}),S.jsx("hr",{className:"border-base-500/20"}),S.jsx(uD,{})]});function L_e({theme:i}){const e=k0();return S.jsxs(Wme,{children:[S.jsx(Ewe,{}),S.jsxs(gO,{location:e,children:[S.jsx(xd,{path:"/",element:S.jsx(tye,{theme:i})}),S.jsx(xd,{path:"/*",element:S.jsxs(S.Fragment,{children:[S.jsxs(gO,{children:[S.jsx(xd,{path:"/about",element:S.jsx(jye,{theme:i})}),S.jsx(xd,{path:"/projects",element:S.jsx(Gye,{})}),S.jsx(xd,{path:"/contact",element:S.jsx(R_e,{theme:i})}),S.jsx(xd,{path:"/resume",element:S.jsx(I_e,{})})]}),S.jsx(k_e,{})]})})]},e.pathname)]})}const uD=()=>S.jsxs("section",{className:"cta",children:[S.jsxs("p",{className:"cta-text text-primary",children:["Have a project in mind? ",S.jsx("br",{className:"sm:block hidden"}),"Let’s build something together!"]}),S.jsx(fl,{to:"/contact",className:"btn",children:"Contact"})]}),D_e=({type:i,text:e})=>S.jsx("div",{className:"fixed top-10 left-0 right-0 flex justify-center items-center z-50",children:S.jsxs("div",{className:`p-2 ${i==="danger"?"bg-red-700":"bg-blue-700"} items-center text-indigo-100 leading-none lg:rounded-full flex lg:inline-flex opacity-90`,role:"alert",children:[S.jsx("p",{className:`flex rounded-full ${i==="danger"?"bg-red-500":"bg-blue-500"} uppercase px-2 py-1 text-xs font-semibold mr-3`,children:i==="danger"?"Failed":"Success"}),S.jsx("p",{className:"mr-2 text-left",children:e})]})}),zJ=()=>{const{progress:i}=HK();return S.jsxs(jK,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[S.jsx("span",{className:"canvas-loader"}),S.jsx("div",{className:"flex justify-center items-center",children:S.jsx("div",{className:"flex justify-center items-center w-20 h-20 border-2 border-opacity-20 border-blue-500 border-t-blue-500 rounded-full animate-bounce",children:S.jsx("p",{style:{fontSize:18,color:"rgb(var(--color-base))",fontWeight:600},children:i!==0?`${i.toFixed(2)}%`:"Loading..."})})})]})},B_e=()=>{const{progress:i}=HK();return S.jsxs(jK,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[S.jsx("span",{className:"canvas-loader"}),S.jsx("p",{style:{fontSize:20,color:"rgb(var(--color-base))",fontWeight:600,marginTop:40},children:i!==0?`${i.toFixed(2)}%`:"Loading..."})]})},F_e=i=>N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:60,height:60,viewBox:"0 0 15.875 15.875",id:"resume",...i},N.createElement("path",{d:"M 6.6503906 1.0273438 C 6.1102961 1.0273438 5.6757813 1.4618662 5.6757812 2.0019531 L 5.6757812 58.001953 C 5.6757812 58.54204 6.1102961 58.976563 6.6503906 58.976562 L 53.150391 58.976562 C 53.690489 58.976562 54.125 58.54204 54.125 58.001953 L 54.125 20.490234 L 34.904297 1.0273438 L 6.6503906 1.0273438 z M 34.904297 4.3535156 L 50.839844 20.490234 L 35.685547 20.490234 C 35.28628 20.490234 34.904297 20.181201 34.904297 19.693359 L 34.904297 4.3535156 z M 20.640625 8.1933594 C 24.546732 8.1933594 27.734375 11.381033 27.734375 15.287109 C 27.734339 17.072539 26.707271 18.573212 25.519531 19.871094 C 27.447065 20.882055 29.088441 22.39545 30.095703 24.425781 C 31.270706 26.794226 31.942453 29.477548 32.273438 31.757812 C 32.36011 32.35999 31.893539 32.899407 31.285156 32.900391 L 10.171875 32.900391 C 9.563492 32.899407 9.0969198 32.35999 9.1835938 31.757812 C 9.5151522 29.489241 10.146196 26.802763 11.279297 24.433594 C 12.248718 22.406656 13.865648 20.899547 15.783203 19.886719 C 14.583939 18.588591 13.547622 17.080555 13.544922 15.287109 C 13.544922 11.381033 16.734549 8.1933594 20.640625 8.1933594 z M 20.640625 10.195312 C 17.815438 10.195313 15.546875 12.461922 15.546875 15.287109 C 15.549218 16.844864 16.265344 18.316397 17.488281 19.28125 C 18.105977 19.774575 17.934136 20.755734 17.185547 21.009766 C 15.445109 21.598714 14.082467 23.201005 13.080078 25.296875 C 12.247652 27.037374 11.83103 29.041994 11.486328 30.900391 L 29.955078 30.900391 C 29.603036 29.051222 29.166768 27.054124 28.302734 25.3125 C 27.261744 23.214184 25.851529 21.594593 24.109375 21.001953 C 23.363445 20.74401 23.196256 19.764128 23.814453 19.273438 C 25.030522 18.306601 25.73239 16.840713 25.732422 15.287109 C 25.732422 12.461922 23.465856 10.195312 20.640625 10.195312 z M 35.861328 25.017578 C 35.866538 25.017537 35.871753 25.017537 35.876953 25.017578 L 48.027344 25.017578 C 48.772311 25.017578 49.40625 25.645961 49.40625 26.390625 L 49.40625 30.257812 C 49.40625 31.002417 48.77219 31.638672 48.027344 31.638672 L 35.580078 31.638672 C 34.835113 31.638671 34.207031 31.002477 34.207031 30.257812 L 34.207031 26.574219 C 34.207031 26.178455 34.373978 25.699857 34.724609 25.400391 C 35.075241 25.100928 35.494238 25.017578 35.861328 25.017578 z M 36.208984 27.017578 L 36.208984 29.638672 L 47.40625 29.638672 L 47.40625 27.017578 L 36.208984 27.017578 z M 12.933594 36.238281 L 25.71875 36.238281 C 26.463715 36.238281 27.091796 36.872523 27.091797 37.617188 L 27.091797 41.486328 C 27.091797 42.230937 26.463594 42.859375 25.71875 42.859375 L 12.652344 42.859375 C 11.907379 42.859375 11.279297 42.232207 11.279297 41.486328 L 11.279297 37.802734 C 11.279297 36.895567 11.835594 36.316311 12.933594 36.238281 z M 32.369141 36.238281 L 48.027344 36.238281 C 48.772311 36.238281 49.40625 36.872523 49.40625 37.617188 L 49.40625 41.486328 C 49.40625 42.230937 48.77219 42.859375 48.027344 42.859375 L 32.089844 42.859375 C 31.344878 42.859375 30.716797 42.230993 30.716797 41.486328 L 30.716797 37.802734 C 30.716797 36.731104 31.124144 36.238281 32.369141 36.238281 z M 13.279297 38.238281 L 13.279297 40.859375 L 25.091797 40.859375 L 25.091797 38.238281 L 13.279297 38.238281 z M 32.716797 38.238281 L 32.716797 40.859375 L 47.40625 40.859375 L 47.40625 38.238281 L 32.716797 38.238281 z M 12.933594 45.988281 L 25.71875 45.988281 C 26.463715 45.988281 27.091796 46.624475 27.091797 47.369141 L 27.091797 51.238281 C 27.091797 51.982886 26.463594 52.611328 25.71875 52.611328 L 12.652344 52.611328 C 11.907379 52.611328 11.279297 51.984156 11.279297 51.238281 L 11.279297 47.554688 C 11.279297 46.596606 11.836079 46.067941 12.933594 45.988281 z M 34.523438 45.988281 L 47.634766 45.988281 C 48.379729 45.988281 49.007812 46.624475 49.007812 47.369141 L 49.007812 51.238281 C 49.007812 51.982886 48.379608 52.611328 47.634766 52.611328 L 34.576172 52.611328 C 33.831207 52.611328 33.197266 51.984156 33.197266 51.238281 L 33.197266 47.554688 C 33.197266 46.387931 33.71233 46.046721 34.523438 45.988281 z M 13.279297 47.990234 L 13.279297 50.609375 L 25.091797 50.609375 L 25.091797 47.990234 L 13.279297 47.990234 z M 35.197266 47.990234 L 35.197266 50.609375 L 47.007812 50.609375 L 47.007812 47.990234 L 35.197266 47.990234 z ",transform:"scale(.26458)"})),O_e=({theme:i,setTheme:e})=>{const t=()=>{localStorage.setItem("theme","dark"),document.querySelector("body").setAttribute("data-theme","dark")},n=()=>{document.querySelector("body").setAttribute("data-theme","light"),localStorage.setItem("theme","light")};switch(i){case"dark":t();break;case"light":n();break;default:n()}const r=s=>{s.target.checked?(e("dark"),t()):(e("light"),n())};return S.jsxs("header",{className:"header",children:[S.jsx(l1,{to:"/",className:"w-10 h-10 rounded-lg bg-base-inverted items-center justify-center flex font-bold shadow-md shadow-shadow",children:S.jsx("p",{className:"blue-gradient_text",children:"ML"})}),S.jsxs("nav",{className:"flex items-center text-sm gap-2 md:text-lg md:gap-4 lg:text-lg lg:gap-5 font-medium",children:[S.jsx(l1,{to:"/about",className:({isActive:s})=>s?"text-primary":"text-base-100",children:"About"}),S.jsx(l1,{to:"/projects",className:({isActive:s})=>s?"text-primary":"text-base-100",children:"Projects"}),S.jsx(l1,{to:"/contact",className:({isActive:s})=>s?"text-primary":"text-base-100",children:"Contact"}),S.jsx("div",{children:S.jsx(Mwe,{theme:i,toggleTheme:r})}),S.jsx(l1,{to:"/resume",className:({isActive:s})=>s?"text-primary":"text-base-100",children:S.jsx(F_e,{fill:"currentColor",alt:"resume",className:"w-6 h-6 object-contain"})})]})]})},k_e=()=>S.jsxs("footer",{className:"footer font-poppins",children:[S.jsx("hr",{className:"border-base-500/20"}),S.jsxs("div",{className:"footer-container text-base-100",children:[S.jsxs("p",{children:["© 2024 ",S.jsx("strong",{children:"Mark Lucernas"}),". All rights reserved."]}),S.jsx("div",{className:"flex gap-3 justify-center items-center",children:vJ.map(i=>S.jsx(fl,{to:i.link,target:"_blank",children:S.jsx("img",{src:i.iconUrl,alt:i.name,className:"w-6 h-6 object-contain"})},i.name))})]})]});cr.div.defaultProps={initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5}};cr.span.defaultProps={initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5}};const N_e=({currentStage:i})=>i===1?S.jsx(cr.div,{children:S.jsxs("h1",{className:"text-md md:text-xl leading-snug text-center neo-brutalism-blue py-4 px-8 text-base mx-5",children:["Hi, I am ",S.jsx("span",{className:"font-bold",children:"Mark"}),"!",S.jsx("br",{}),"A Software Engineer based in San Diego, CA.",S.jsx("br",{})]})}):i===2?S.jsx(cr.span,{children:S.jsxs("div",{className:"info-box",children:[S.jsxs("p",{className:"font-medium text-md md:text-xl text-center text-base",children:["I worked with many companies ",S.jsx("br",{})," and picked up many invaluable skills along the way!"]}),S.jsxs(fl,{to:"/about",className:"neo-brutalism-base neo-btn",children:["Let me introduce myself",S.jsx("img",{src:gS,alt:"arrow",className:"w-4 h-4 object-contain"})]})]})}):i===3?S.jsx(cr.div,{children:S.jsxs("div",{className:"info-box",children:[S.jsxs("p",{className:"font-medium text-center text-md md:text-xl text-base",children:["I also led multiple projects to success over the years. ",S.jsx("br",{})," Curious about the impact?"]}),S.jsxs(fl,{to:"/projects",className:"neo-brutalism-base neo-btn",children:["Visit my portfolio",S.jsx("img",{src:gS,alt:"arrow",className:"w-4 h-4 object-contain"})]})]})}):i===4?S.jsx(cr.span,{children:S.jsxs("div",{className:"info-box",children:[S.jsxs("p",{className:"font-medium text-md md:text-xl text-center text-base",children:["Need a project done or looking for a motivated developer? ",S.jsx("br",{})," I'm only a few keystrokes away"]}),S.jsxs(fl,{to:"/contact",className:"neo-brutalism-base neo-btn",children:["Let's talk",S.jsx("img",{src:gS,alt:"arrow",className:"w-4 h-4 object-contain"})]})]})}):null;function U_e(i,e,t){N.useEffect(()=>{if(!i||!("ResizeObserver"in window))return;const n=new ResizeObserver(t);return n.observe(i,e),()=>{n.disconnect()}},[i,e,t])}var Iv={};Iv.d=(i,e)=>{for(var t in e)Iv.o(e,t)&&!Iv.o(i,t)&&Object.defineProperty(i,t,{enumerable:!0,get:e[t]})};Iv.o=(i,e)=>Object.prototype.hasOwnProperty.call(i,e);var bt=globalThis.pdfjsLib={};Iv.d(bt,{AbortException:()=>W0,AnnotationEditorLayer:()=>XP,AnnotationEditorParamsType:()=>Mt,AnnotationEditorType:()=>Wt,AnnotationEditorUIManager:()=>R0,AnnotationLayer:()=>kxe,AnnotationMode:()=>Ru,CMapCompressionType:()=>NR,ColorPicker:()=>O4,DOMSVGFactory:()=>fD,DrawLayer:()=>qP,FeatureTest:()=>ms,GlobalWorkerOptions:()=>Nc,ImageKind:()=>TS,InvalidPDFException:()=>HJ,MissingPDFException:()=>V0,OPS:()=>ia,Outliner:()=>EP,PDFDataRangeTransport:()=>kq,PDFDateString:()=>JJ,PDFWorker:()=>Rm,PasswordResponses:()=>G_e,PermissionFlag:()=>H_e,PixelsPerInch:()=>Bh,RenderingCancelledException:()=>pD,TextLayer:()=>B4,UnexpectedResponseException:()=>tE,Util:()=>lt,VerbosityLevel:()=>QM,XfaLayer:()=>Uq,build:()=>vxe,createValidAbsoluteUrl:()=>K_e,fetchData:()=>oE,getDocument:()=>lxe,getFilenameFromUrl:()=>i3e,getPdfFilenameFromUrl:()=>r3e,getXfaPageViewport:()=>s3e,isDataScheme:()=>mD,isPdfFile:()=>gD,noContextMenu:()=>Ss,normalizeUnicode:()=>$_e,renderTextLayer:()=>$3e,setLayerDimensions:()=>T0,shadow:()=>Jt,updateTextLayer:()=>exe,version:()=>gxe});const Lr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),jJ=[1,0,0,1,0,0],kR=[.001,0,0,.001,0,0],z_e=1e7,AT=1.35,To={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Ru={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},j_e="pdfjs_internal_editor_",Wt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Mt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},H_e={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},wr={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},TS={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ai={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},P1={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},QM={ERRORS:0,WARNINGS:1,INFOS:5},NR={NONE:0,BINARY:1},ia={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},G_e={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let $M=QM.WARNINGS;function V_e(i){Number.isInteger(i)&&($M=i)}function W_e(){return $M}function eE(i){$M>=QM.INFOS&&console.log(`Info: ${i}`)}function Nt(i){$M>=QM.WARNINGS&&console.log(`Warning: ${i}`)}function fn(i){throw new Error(i)}function Ei(i,e){i||fn(e)}function X_e(i){switch(i==null?void 0:i.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function K_e(i,e=null,t=null){if(!i)return null;try{if(t&&typeof i=="string"){if(t.addDefaultProtocol&&i.startsWith("www.")){const r=i.match(/\./g);(r==null?void 0:r.length)>=2&&(i=`http://${i}`)}if(t.tryConvertEncoding)try{i=Q_e(i)}catch{}}const n=e?new URL(i,e):new URL(i);if(X_e(n))return n}catch{}return null}function Jt(i,e,t,n=!1){return Object.defineProperty(i,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Wh=function(){function e(t,n){this.constructor===e&&fn("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class UR extends Wh{constructor(e,t){super(e,"PasswordException"),this.code=t}}class zR extends Wh{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class HJ extends Wh{constructor(e){super(e,"InvalidPDFException")}}class V0 extends Wh{constructor(e){super(e,"MissingPDFException")}}class tE extends Wh{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class Y_e extends Wh{constructor(e){super(e,"FormatError")}}class W0 extends Wh{constructor(e){super(e,"AbortException")}}function GJ(i){(typeof i!="object"||(i==null?void 0:i.length)===void 0)&&fn("Invalid argument for bytesToString");const e=i.length,t=8192;if(e<t)return String.fromCharCode.apply(null,i);const n=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),o=i.subarray(r,s);n.push(String.fromCharCode.apply(null,o))}return n.join("")}function nE(i){typeof i!="string"&&fn("Invalid argument for stringToBytes");const e=i.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=i.charCodeAt(n)&255;return t}function J_e(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function hD(i){const e=Object.create(null);for(const[t,n]of i)e[t]=n;return e}function q_e(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function Z_e(){try{return new Function(""),!0}catch{return!1}}class ms{static get isLittleEndian(){return Jt(this,"isLittleEndian",q_e())}static get isEvalSupported(){return Jt(this,"isEvalSupported",Z_e())}static get isOffscreenCanvasSupported(){return Jt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Jt(this,"platform",{isMac:navigator.platform.includes("Mac")}):Jt(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return Jt(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const wT=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));var Lm,RS,Ly,jR;class lt{static makeHexColor(e,t,n){return`#${wT[e]}${wT[t]}${wT[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const n=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[n,r]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[r,s]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],s[0],o[0]),Math.min(n[1],r[1],s[1],o[1]),Math.max(n[0],r[0],s[0],o[0]),Math.max(n[1],r[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(n+o)/2,l=Math.sqrt((n+o)**2-4*(n*o-s*r))/2,c=a+l||1,u=a-l||1;return[Math.sqrt(c),Math.sqrt(u)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[n,s,r,o]}static bezierBoundingBox(e,t,n,r,s,o,a,l,c){return c?(c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,l)):c=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],j(this,Ly,jR).call(this,e,n,s,a,t,r,o,l,3*(-e+3*(n-s)+a),6*(e-2*n+s),3*(n-e),c),j(this,Ly,jR).call(this,e,n,s,a,t,r,o,l,3*(-t+3*(r-o)+l),6*(t-2*r+o),3*(r-t),c),c}}Lm=new WeakSet,RS=function(e,t,n,r,s,o,a,l,c,u){if(c<=0||c>=1)return;const h=1-c,d=c*c,m=d*c,g=h*(h*(h*e+3*c*t)+3*d*n)+m*r,y=h*(h*(h*s+3*c*o)+3*d*a)+m*l;u[0]=Math.min(u[0],g),u[1]=Math.min(u[1],y),u[2]=Math.max(u[2],g),u[3]=Math.max(u[3],y)},Ly=new WeakSet,jR=function(e,t,n,r,s,o,a,l,c,u,h,d){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&j(this,Lm,RS).call(this,e,t,n,r,s,o,a,l,-h/u,d);return}const m=u**2-4*h*c;if(m<0)return;const g=Math.sqrt(m),y=2*c;j(this,Lm,RS).call(this,e,t,n,r,s,o,a,l,(-u+g)/y,d),j(this,Lm,RS).call(this,e,t,n,r,s,o,a,l,(-u-g)/y,d)},F(lt,Lm),F(lt,Ly);function Q_e(i){return decodeURIComponent(escape(i))}let ST=null,Pz=null;function $_e(i){return ST||(ST=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Pz=new Map([["ﬅ","ſt"]])),i.replaceAll(ST,(e,t,n)=>t?t.normalize("NFKC"):Pz.get(n))}function e3e(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const i=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(i);else for(let e=0;e<32;e++)i[e]=Math.floor(Math.random()*255);return GJ(i)}const VJ="pdfjs_internal_id_",Ol={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class iE{constructor(){this.constructor===iE&&fn("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,r,s){return"none"}destroy(e=!1){}}var Dy;const wD=class wD{constructor({enableHWA:e=!1}={}){F(this,Dy,!1);this.constructor===wD&&fn("Cannot initialize BaseCanvasFactory."),z(this,Dy,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!x(this,Dy)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){fn("Abstract method `_createCanvas` called.")}};Dy=new WeakMap;let P4=wD;class rE{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===rE&&fn("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),n=this.isCompressed?NR.BINARY:NR.NONE;return this._fetchData(t,n).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){fn("Abstract method `_fetchData` called.")}}class sE{constructor({baseUrl:e=null}){this.constructor===sE&&fn("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){fn("Abstract method `_fetchData` called.")}}class dD{constructor(){this.constructor===dD&&fn("Cannot initialize BaseSVGFactory.")}create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){fn("Abstract method `_createSVG` called.")}}const Nl="http://www.w3.org/2000/svg",Dd=class Dd{};Rt(Dd,"CSS",96),Rt(Dd,"PDF",72),Rt(Dd,"PDF_TO_CSS_UNITS",Dd.CSS/Dd.PDF);let Bh=Dd;var Kd,Ha,Jl,cs,N4,Yd,zi,Sr,Pu,kp,Iu,Np,Dm,PS,U4,WJ,By,HR,Lu,Up,Jd,V1,qd,W1,Fy,GR,Zd,X1;class t3e extends iE{constructor({docId:t,ownerDocument:n=globalThis.document}={}){super();F(this,zi);F(this,Pu);F(this,Iu);F(this,Dm);F(this,U4);F(this,By);F(this,Lu);F(this,Jd);F(this,qd);F(this,Fy);F(this,Zd);F(this,Kd,void 0);F(this,Ha,void 0);F(this,Jl,void 0);F(this,cs,void 0);F(this,N4,void 0);F(this,Yd,0);z(this,Jl,t),z(this,cs,n)}addFilter(t){if(!t)return"none";let n=x(this,zi,Sr).get(t);if(n)return n;const[r,s,o]=j(this,Dm,PS).call(this,t),a=t.length===1?r:`${r}${s}${o}`;if(n=x(this,zi,Sr).get(a),n)return x(this,zi,Sr).set(t,n),n;const l=`g_${x(this,Jl)}_transfer_map_${Ps(this,Yd)._++}`,c=`url(#${l})`;x(this,zi,Sr).set(t,c),x(this,zi,Sr).set(a,c);const u=j(this,Lu,Up).call(this,l);return j(this,qd,W1).call(this,r,s,o,u),c}addHCMFilter(t,n){var g;const r=`${t}-${n}`,s="base";let o=x(this,Pu,kp).get(s);if((o==null?void 0:o.key)===r||(o?((g=o.filter)==null||g.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},x(this,Pu,kp).set(s,o)),!t||!n))return o.url;const a=j(this,Zd,X1).call(this,t);t=lt.makeHexColor(...a);const l=j(this,Zd,X1).call(this,n);if(n=lt.makeHexColor(...l),x(this,Iu,Np).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return o.url;const c=new Array(256);for(let y=0;y<=255;y++){const _=y/255;c[y]=_<=.03928?_/12.92:((_+.055)/1.055)**2.4}const u=c.join(","),h=`g_${x(this,Jl)}_hcm_filter`,d=o.filter=j(this,Lu,Up).call(this,h);j(this,qd,W1).call(this,u,u,u,d),j(this,By,HR).call(this,d);const m=(y,_)=>{const v=a[y]/255,A=l[y]/255,w=new Array(_+1);for(let C=0;C<=_;C++)w[C]=v+C/_*(A-v);return w.join(",")};return j(this,qd,W1).call(this,m(0,5),m(1,5),m(2,5),d),o.url=`url(#${h})`,o.url}addAlphaFilter(t){let n=x(this,zi,Sr).get(t);if(n)return n;const[r]=j(this,Dm,PS).call(this,[t]),s=`alpha_${r}`;if(n=x(this,zi,Sr).get(s),n)return x(this,zi,Sr).set(t,n),n;const o=`g_${x(this,Jl)}_alpha_map_${Ps(this,Yd)._++}`,a=`url(#${o})`;x(this,zi,Sr).set(t,a),x(this,zi,Sr).set(s,a);const l=j(this,Lu,Up).call(this,o);return j(this,Fy,GR).call(this,r,l),a}addLuminosityFilter(t){let n=x(this,zi,Sr).get(t||"luminosity");if(n)return n;let r,s;if(t?([r]=j(this,Dm,PS).call(this,[t]),s=`luminosity_${r}`):s="luminosity",n=x(this,zi,Sr).get(s),n)return x(this,zi,Sr).set(t,n),n;const o=`g_${x(this,Jl)}_luminosity_map_${Ps(this,Yd)._++}`,a=`url(#${o})`;x(this,zi,Sr).set(t,a),x(this,zi,Sr).set(s,a);const l=j(this,Lu,Up).call(this,o);return j(this,U4,WJ).call(this,l),t&&j(this,Fy,GR).call(this,r,l),a}addHighlightHCMFilter(t,n,r,s,o){var A;const a=`${n}-${r}-${s}-${o}`;let l=x(this,Pu,kp).get(t);if((l==null?void 0:l.key)===a||(l?((A=l.filter)==null||A.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},x(this,Pu,kp).set(t,l)),!n||!r))return l.url;const[c,u]=[n,r].map(j(this,Zd,X1).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[m,g]=[s,o].map(j(this,Zd,X1).bind(this));d<h&&([h,d,m,g]=[d,h,g,m]),x(this,Iu,Np).style.color="";const y=(w,C,T)=>{const E=new Array(256),R=(d-h)/T,D=w/255,I=(C-w)/(255*T);let L=0;for(let O=0;O<=T;O++){const X=Math.round(h+O*R),W=D+O*I;for(let q=L;q<=X;q++)E[q]=W;L=X+1}for(let O=L;O<256;O++)E[O]=E[L-1];return E.join(",")},_=`g_${x(this,Jl)}_hcm_${t}_filter`,v=l.filter=j(this,Lu,Up).call(this,_);return j(this,By,HR).call(this,v),j(this,qd,W1).call(this,y(m[0],g[0],5),y(m[1],g[1],5),y(m[2],g[2],5),v),l.url=`url(#${_})`,l.url}destroy(t=!1){t&&x(this,Pu,kp).size!==0||(x(this,Ha)&&(x(this,Ha).parentNode.parentNode.remove(),z(this,Ha,null)),x(this,Kd)&&(x(this,Kd).clear(),z(this,Kd,null)),z(this,Yd,0))}}Kd=new WeakMap,Ha=new WeakMap,Jl=new WeakMap,cs=new WeakMap,N4=new WeakMap,Yd=new WeakMap,zi=new WeakSet,Sr=function(){return x(this,Kd)||z(this,Kd,new Map)},Pu=new WeakSet,kp=function(){return x(this,N4)||z(this,N4,new Map)},Iu=new WeakSet,Np=function(){if(!x(this,Ha)){const t=x(this,cs).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=x(this,cs).createElementNS(Nl,"svg");r.setAttribute("width",0),r.setAttribute("height",0),z(this,Ha,x(this,cs).createElementNS(Nl,"defs")),t.append(r),r.append(x(this,Ha)),x(this,cs).body.append(t)}return x(this,Ha)},Dm=new WeakSet,PS=function(t){if(t.length===1){const c=t[0],u=new Array(256);for(let d=0;d<256;d++)u[d]=c[d]/255;const h=u.join(",");return[h,h,h]}const[n,r,s]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let c=0;c<256;c++)o[c]=n[c]/255,a[c]=r[c]/255,l[c]=s[c]/255;return[o.join(","),a.join(","),l.join(",")]},U4=new WeakSet,WJ=function(t){const n=x(this,cs).createElementNS(Nl,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},By=new WeakSet,HR=function(t){const n=x(this,cs).createElementNS(Nl,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},Lu=new WeakSet,Up=function(t){const n=x(this,cs).createElementNS(Nl,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),x(this,Iu,Np).append(n),n},Jd=new WeakSet,V1=function(t,n,r){const s=x(this,cs).createElementNS(Nl,n);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),t.append(s)},qd=new WeakSet,W1=function(t,n,r,s){const o=x(this,cs).createElementNS(Nl,"feComponentTransfer");s.append(o),j(this,Jd,V1).call(this,o,"feFuncR",t),j(this,Jd,V1).call(this,o,"feFuncG",n),j(this,Jd,V1).call(this,o,"feFuncB",r)},Fy=new WeakSet,GR=function(t,n){const r=x(this,cs).createElementNS(Nl,"feComponentTransfer");n.append(r),j(this,Jd,V1).call(this,r,"feFuncA",t)},Zd=new WeakSet,X1=function(t){return x(this,Iu,Np).style.color=t,vD(getComputedStyle(x(this,Iu,Np)).getPropertyValue("color"))};class n3e extends P4{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}async function oE(i,e="text"){if(K1(i,document.baseURI)){const t=await fetch(i);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const r=new XMLHttpRequest;r.open("GET",i,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class XJ extends rE{_fetchData(e,t){return oE(e,this.isCompressed?"arraybuffer":"text").then(n=>({cMapData:n instanceof ArrayBuffer?new Uint8Array(n):nE(n),compressionType:t}))}}class KJ extends sE{_fetchData(e){return oE(e,"arraybuffer").then(t=>new Uint8Array(t))}}class fD extends dD{_createSVG(e){return document.createElementNS(Nl,e)}}class Mx{constructor({viewBox:e,scale:t,rotation:n,offsetX:r=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=r,this.offsetY=s;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,u,h,d;switch(n%=360,n<0&&(n+=360),n){case 180:c=-1,u=0,h=0,d=1;break;case 90:c=0,u=1,h=1,d=0;break;case 270:c=0,u=-1,h=-1,d=0;break;case 0:c=1,u=0,h=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,d=-d);let m,g,y,_;c===0?(m=Math.abs(l-e[1])*t+r,g=Math.abs(a-e[0])*t+s,y=(e[3]-e[1])*t,_=(e[2]-e[0])*t):(m=Math.abs(a-e[0])*t+r,g=Math.abs(l-e[1])*t+s,y=(e[2]-e[0])*t,_=(e[3]-e[1])*t),this.transform=[c*t,u*t,h*t,d*t,m-c*t*a-h*t*l,g-u*t*a-d*t*l],this.width=y,this.height=_}get rawDims(){const{viewBox:e}=this;return Jt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new Mx({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){return lt.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=lt.applyTransform([e[0],e[1]],this.transform),n=lt.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return lt.applyInverseTransform([e,t],this.transform)}}class pD extends Wh{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function mD(i){const e=i.length;let t=0;for(;t<e&&i[t].trim()==="";)t++;return i.substring(t,t+5).toLowerCase()==="data:"}function gD(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function i3e(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function r3e(i,e="document.pdf"){if(typeof i!="string")return e;if(mD(i))return Nt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=t.exec(i);let s=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=n.exec(decodeURIComponent(s))[0]}catch{}return s||e}class Iz{constructor(){Rt(this,"started",Object.create(null));Rt(this,"times",[])}time(e){e in this.started&&Nt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Nt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-r}ms
`);return e.join("")}}function K1(i,e){try{const{protocol:t}=e?new URL(i,e):new URL(i);return t==="http:"||t==="https:"}catch{return!1}}function Ss(i){i.preventDefault()}function YJ(i){console.log("Deprecated API usage: "+i)}let Lz;class JJ{static toDateObject(e){if(!e||typeof e!="string")return null;Lz||(Lz=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=Lz.exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(o+=u,a+=h):c==="+"&&(o-=u,a-=h),new Date(Date.UTC(n,r,s,o,a,l))}}function s3e(i,{scale:e=1,rotation:t=0}){const{width:n,height:r}=i.attributes.style,s=[0,0,parseInt(n),parseInt(r)];return new Mx({viewBox:s,scale:e,rotation:t})}function vD(i){if(i.startsWith("#")){const e=parseInt(i.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(e=>parseInt(e)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Nt(`Not a valid color format: "${i}"`),[0,0,0])}function o3e(i){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of i.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;i.set(t,vD(n))}e.remove()}function Nn(i){const{a:e,b:t,c:n,d:r,e:s,f:o}=i.getTransform();return[e,t,n,r,s,o]}function kl(i){const{a:e,b:t,c:n,d:r,e:s,f:o}=i.getTransform().invertSelf();return[e,t,n,r,s,o]}function T0(i,e,t=!1,n=!0){if(e instanceof Mx){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:o}=i,a=ms.isCSSRoundSupported,l=`var(--scale-factor) * ${r}px`,c=`var(--scale-factor) * ${s}px`,u=a?`round(${l}, 1px)`:`calc(${l})`,h=a?`round(${c}, 1px)`:`calc(${c})`;!t||e.rotation%180===0?(o.width=u,o.height=h):(o.width=h,o.height=u)}n&&i.setAttribute("data-main-rotation",e.rotation)}var Qd,$d,Fs,ef,z4,qJ,j4,ZJ,H4,QJ,Bm,IS,G4,$J,Oy,WR;const V4=class V4{constructor(e){F(this,j4);F(this,H4);F(this,Bm);F(this,G4);F(this,Oy);F(this,Qd,null);F(this,$d,null);F(this,Fs,void 0);F(this,ef,null);z(this,Fs,e)}render(){const e=z(this,Qd,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=x(this,Fs)._uiManager._signal;e.addEventListener("contextmenu",Ss,{signal:t}),e.addEventListener("pointerdown",j(V4,z4,qJ),{signal:t});const n=z(this,ef,document.createElement("div"));n.className="buttons",e.append(n);const r=x(this,Fs).toolbarPosition;if(r){const{style:s}=e,o=x(this,Fs)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return j(this,G4,$J).call(this),e}hide(){var e;x(this,Qd).classList.add("hidden"),(e=x(this,$d))==null||e.hideDropdown()}show(){x(this,Qd).classList.remove("hidden")}addAltTextButton(e){j(this,Bm,IS).call(this,e),x(this,ef).prepend(e,x(this,Oy,WR))}addColorPicker(e){z(this,$d,e);const t=e.renderButton();j(this,Bm,IS).call(this,t),x(this,ef).prepend(t,x(this,Oy,WR))}remove(){var e;x(this,Qd).remove(),(e=x(this,$d))==null||e.destroy(),z(this,$d,null)}};Qd=new WeakMap,$d=new WeakMap,Fs=new WeakMap,ef=new WeakMap,z4=new WeakSet,qJ=function(e){e.stopPropagation()},j4=new WeakSet,ZJ=function(e){x(this,Fs)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},H4=new WeakSet,QJ=function(e){x(this,Fs)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Bm=new WeakSet,IS=function(e){const t=x(this,Fs)._uiManager._signal;e.addEventListener("focusin",j(this,j4,ZJ).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",j(this,H4,QJ).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ss,{signal:t})},G4=new WeakSet,$J=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${x(this,Fs).editorType}-button`),j(this,Bm,IS).call(this,e),e.addEventListener("click",t=>{x(this,Fs)._uiManager.delete()},{signal:x(this,Fs)._uiManager._signal}),x(this,ef).append(e)},Oy=new WeakSet,WR=function(){const e=document.createElement("div");return e.className="divider",e},F(V4,z4);let VR=V4;var ky,tf,nf,W4,eq,X4,tq,K4,nq;class a3e{constructor(e){F(this,W4);F(this,X4);F(this,K4);F(this,ky,null);F(this,tf,null);F(this,nf,void 0);z(this,nf,e)}show(e,t,n){const[r,s]=j(this,X4,tq).call(this,t,n),{style:o}=x(this,tf)||z(this,tf,j(this,W4,eq).call(this));e.append(x(this,tf)),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){x(this,tf).remove()}}ky=new WeakMap,tf=new WeakMap,nf=new WeakMap,W4=new WeakSet,eq=function(){const e=z(this,tf,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ss,{signal:x(this,nf)._signal});const t=z(this,ky,document.createElement("div"));return t.className="buttons",e.append(t),j(this,K4,nq).call(this),e},X4=new WeakSet,tq=function(e,t){let n=0,r=0;for(const s of e){const o=s.y+s.height;if(o<n)continue;const a=s.x+(t?s.width:0);if(o>n){r=a,n=o;continue}t?a>r&&(r=a):a<r&&(r=a)}return[t?1-r:r,n]},K4=new WeakSet,nq=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=x(this,nf)._signal;e.addEventListener("contextmenu",Ss,{signal:n}),e.addEventListener("click",()=>{x(this,nf).highlightSelection("floating_button")},{signal:n}),x(this,ky).append(e)};function I4(i,e,t){for(const n of t)e.addEventListener(n,i[n].bind(i))}function l3e(i){return Math.round(Math.min(255,Math.max(1,255*i))).toString(16).padStart(2,"0")}var Y4;class c3e{constructor(){F(this,Y4,0)}get id(){return`${j_e}${Ps(this,Y4)._++}`}}Y4=new WeakMap;var Ny,J4,So,Uy,KR;const SD=class SD{constructor(){F(this,Uy);F(this,Ny,e3e());F(this,J4,0);F(this,So,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Jt(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:n,size:r,type:s}=e;return j(this,Uy,KR).call(this,`${t}_${n}_${r}_${s}`,e)}async getFromUrl(e){return j(this,Uy,KR).call(this,e,e)}async getFromId(e){x(this,So)||z(this,So,new Map);const t=x(this,So).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=x(this,So).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){x(this,So)||z(this,So,new Map);const t=x(this,So).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${x(this,Ny)}_`)}};Ny=new WeakMap,J4=new WeakMap,So=new WeakMap,Uy=new WeakSet,KR=async function(e,t){x(this,So)||z(this,So,new Map);let n=x(this,So).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${x(this,Ny)}_${Ps(this,J4)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(n.url=t,r=await oE(t,"blob")):r=n.file=t,r.type==="image/svg+xml"){const s=SD._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,u)=>{a.onload=()=>{n.bitmap=a,n.isSvg=!0,c()},o.onload=async()=>{const h=n.svgUrl=o.result;a.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=o.onerror=u});o.readAsDataURL(r),await l}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){console.error(r),n=null}return x(this,So).set(e,n),n&&x(this,So).set(n.id,n),n};let XR=SD;var ji,Du,zy,Hi;class u3e{constructor(e=128){F(this,ji,[]);F(this,Du,!1);F(this,zy,void 0);F(this,Hi,-1);z(this,zy,e)}add({cmd:e,undo:t,post:n,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(r&&e(),x(this,Du))return;const l={cmd:e,undo:t,post:n,type:s};if(x(this,Hi)===-1){x(this,ji).length>0&&(x(this,ji).length=0),z(this,Hi,0),x(this,ji).push(l);return}if(o&&x(this,ji)[x(this,Hi)].type===s){a&&(l.undo=x(this,ji)[x(this,Hi)].undo),x(this,ji)[x(this,Hi)]=l;return}const c=x(this,Hi)+1;c===x(this,zy)?x(this,ji).splice(0,1):(z(this,Hi,c),c<x(this,ji).length&&x(this,ji).splice(c)),x(this,ji).push(l)}undo(){if(x(this,Hi)===-1)return;z(this,Du,!0);const{undo:e,post:t}=x(this,ji)[x(this,Hi)];e(),t==null||t(),z(this,Du,!1),z(this,Hi,x(this,Hi)-1)}redo(){if(x(this,Hi)<x(this,ji).length-1){z(this,Hi,x(this,Hi)+1),z(this,Du,!0);const{cmd:e,post:t}=x(this,ji)[x(this,Hi)];e(),t==null||t(),z(this,Du,!1)}}hasSomethingToUndo(){return x(this,Hi)!==-1}hasSomethingToRedo(){return x(this,Hi)<x(this,ji).length-1}destroy(){z(this,ji,null)}}ji=new WeakMap,Du=new WeakMap,zy=new WeakMap,Hi=new WeakMap;var q4,iq;class Ex{constructor(e){F(this,q4);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=ms.platform;for(const[n,r,s={}]of e)for(const o of n){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(j(this,q4,iq).call(this,t));if(!n)return;const{callback:r,options:{bubbles:s=!1,args:o=[],checker:a=null}}=n;a&&!a(e,t)||(r.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}q4=new WeakSet,iq=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Z4=class Z4{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return o3e(e),Jt(this,"_colors",e)}convert(e){const t=vD(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every((s,o)=>s===t[o]))return Z4._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?lt.makeHexColor(...t):e}};Rt(Z4,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let YR=Z4;var Fm,Os,wi,$i,Om,ql,km,ra,Nm,rf,Ga,sa,sf,jy,Hy,Va,Um,Bu,Wa,Q4,Fu,Gy,of,Vy,zm,er,an,Zl,af,Wy,Xy,Ky,Yy,Jy,qy,Zy,Qy,$y,e_,t_,n_,i_,Ou,Xa,Ql,r_,jm,LS,$4,rq,eb,sq,Hm,DS,tb,oq,nb,aq,ib,lq,s_,JR,rb,cq,o_,qR,a_,ZR,sb,uq,tr,Gr,Ka,Au,ob,hq,ab,dq,l_,QR,lb,fq,lf,Y1,c_,$R;const fm=class fm{constructor(e,t,n,r,s,o,a,l,c){F(this,jm);F(this,$4);F(this,eb);F(this,Hm);F(this,tb);F(this,nb);F(this,ib);F(this,s_);F(this,rb);F(this,o_);F(this,a_);F(this,sb);F(this,tr);F(this,Ka);F(this,ob);F(this,ab);F(this,l_);F(this,lb);F(this,lf);F(this,c_);F(this,Fm,new AbortController);F(this,Os,null);F(this,wi,new Map);F(this,$i,new Map);F(this,Om,null);F(this,ql,null);F(this,km,null);F(this,ra,new u3e);F(this,Nm,0);F(this,rf,new Set);F(this,Ga,null);F(this,sa,null);F(this,sf,new Set);F(this,jy,!1);F(this,Hy,null);F(this,Va,null);F(this,Um,null);F(this,Bu,!1);F(this,Wa,null);F(this,Q4,new c3e);F(this,Fu,!1);F(this,Gy,!1);F(this,of,null);F(this,Vy,null);F(this,zm,null);F(this,er,Wt.NONE);F(this,an,new Set);F(this,Zl,null);F(this,af,null);F(this,Wy,null);F(this,Xy,this.blur.bind(this));F(this,Ky,this.focus.bind(this));F(this,Yy,this.copy.bind(this));F(this,Jy,this.cut.bind(this));F(this,qy,this.paste.bind(this));F(this,Zy,this.keydown.bind(this));F(this,Qy,this.keyup.bind(this));F(this,$y,this.onEditingAction.bind(this));F(this,e_,this.onPageChanging.bind(this));F(this,t_,this.onScaleChanging.bind(this));F(this,n_,this.onRotationChanging.bind(this));F(this,i_,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});F(this,Ou,[0,0]);F(this,Xa,null);F(this,Ql,null);F(this,r_,null);this._signal=x(this,Fm).signal,z(this,Ql,e),z(this,r_,t),z(this,Om,n),this._eventBus=r,this._eventBus._on("editingaction",x(this,$y)),this._eventBus._on("pagechanging",x(this,e_)),this._eventBus._on("scalechanging",x(this,t_)),this._eventBus._on("rotationchanging",x(this,n_)),j(this,tb,oq).call(this),j(this,sb,uq).call(this),j(this,s_,JR).call(this),z(this,ql,s.annotationStorage),z(this,Hy,s.filterFactory),z(this,af,o),z(this,Um,a||null),z(this,jy,l),z(this,zm,c||null),this.viewParameters={realScale:Bh.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=fm.prototype,t=o=>x(o,Ql).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),n=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Jt(this,"_keyboardManager",new Ex([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&x(o,Ql).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&x(o,Ql).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,n;(e=x(this,Fm))==null||e.abort(),z(this,Fm,null),this._signal=null,this._eventBus._off("editingaction",x(this,$y)),this._eventBus._off("pagechanging",x(this,e_)),this._eventBus._off("scalechanging",x(this,t_)),this._eventBus._off("rotationchanging",x(this,n_));for(const r of x(this,$i).values())r.destroy();x(this,$i).clear(),x(this,wi).clear(),x(this,sf).clear(),z(this,Os,null),x(this,an).clear(),x(this,ra).destroy(),(t=x(this,Om))==null||t.destroy(),(n=x(this,Wa))==null||n.hide(),z(this,Wa,null),x(this,Va)&&(clearTimeout(x(this,Va)),z(this,Va,null)),x(this,Xa)&&(clearTimeout(x(this,Xa)),z(this,Xa,null))}async mlGuess(e){var t;return((t=x(this,zm))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!x(this,zm)}get hcmFilter(){return Jt(this,"hcmFilter",x(this,af)?x(this,Hy).addHCMFilter(x(this,af).foreground,x(this,af).background):"none")}get direction(){return Jt(this,"direction",getComputedStyle(x(this,Ql)).direction)}get highlightColors(){return Jt(this,"highlightColors",x(this,Um)?new Map(x(this,Um).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Jt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){z(this,Vy,e)}editAltText(e){var t;(t=x(this,Om))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){z(this,Nm,e-1)}focusMainContainer(){x(this,Ql).focus()}findParent(e,t){for(const n of x(this,$i).values()){const{x:r,y:s,width:o,height:a}=n.div.getBoundingClientRect();if(e>=r&&e<=r+o&&t>=s&&t<=s+a)return n}return null}disableUserSelect(e=!1){x(this,r_).classList.toggle("noUserSelect",e)}addShouldRescale(e){x(this,sf).add(e)}removeShouldRescale(e){x(this,sf).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Bh.PDF_TO_CSS_UNITS;for(const t of x(this,sf))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:o}=t,a=t.toString(),c=j(this,jm,LS).call(this,t).closest(".textLayer"),u=this.getSelectionBoxes(c);if(u){t.empty(),x(this,er)===Wt.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Wt.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const h of x(this,$i).values())if(h.hasTextLayer(c)){h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:u,anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:o,text:a});break}}}addToAnnotationStorage(e){!e.isEmpty()&&x(this,ql)&&!x(this,ql).has(e.id)&&x(this,ql).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,x(this,Bu)&&(z(this,Bu,!1),j(this,Hm,DS).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of x(this,an))if(t.div.contains(e)){z(this,of,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!x(this,of))return;const[e,t]=x(this,of);z(this,of,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){j(this,s_,JR).call(this),j(this,o_,qR).call(this)}removeEditListeners(){j(this,rb,cq).call(this),j(this,a_,ZR).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of x(this,sa))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of x(this,sa))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=x(this,Os))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of x(this,an)){const s=r.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of x(this,sa))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){Nt(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const l of n){const c=r.deserialize(l);if(!c)return;s.push(c)}const o=()=>{for(const l of s)j(this,l_,QR).call(this,l);j(this,c_,$R).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){Nt(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),x(this,er)!==Wt.NONE&&!this.isEditorHandlingKeyboard&&fm._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,x(this,Bu)&&(z(this,Bu,!1),j(this,Hm,DS).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(j(this,nb,aq).call(this),j(this,o_,qR).call(this),j(this,tr,Gr).call(this,{isEditing:x(this,er)!==Wt.NONE,isEmpty:j(this,lf,Y1).call(this),hasSomethingToUndo:x(this,ra).hasSomethingToUndo(),hasSomethingToRedo:x(this,ra).hasSomethingToRedo(),hasSelectedEditor:!1})):(j(this,ib,lq).call(this),j(this,a_,ZR).call(this),j(this,tr,Gr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!x(this,sa)){z(this,sa,e);for(const t of x(this,sa))j(this,Ka,Au).call(this,t.defaultPropertiesToUpdate)}}getId(){return x(this,Q4).id}get currentLayer(){return x(this,$i).get(x(this,Nm))}getLayer(e){return x(this,$i).get(e)}get currentPageIndex(){return x(this,Nm)}addLayer(e){x(this,$i).set(e.pageIndex,e),x(this,Fu)?e.enable():e.disable()}removeLayer(e){x(this,$i).delete(e.pageIndex)}updateMode(e,t=null,n=!1){if(x(this,er)!==e){if(z(this,er,e),e===Wt.NONE){this.setEditingState(!1),j(this,ab,dq).call(this);return}this.setEditingState(!0),j(this,ob,hq).call(this),this.unselectAll();for(const r of x(this,$i).values())r.updateMode(e);if(!t&&n){this.addNewEditorFromKeyboard();return}if(t){for(const r of x(this,wi).values())if(r.annotationElementId===t){this.setSelected(r),r.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==x(this,er)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(x(this,sa)){switch(e){case Mt.CREATE:this.currentLayer.addNewEditor();return;case Mt.HIGHLIGHT_DEFAULT_COLOR:(n=x(this,Vy))==null||n.updateColor(t);break;case Mt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(x(this,Wy)||z(this,Wy,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of x(this,an))r.updateParams(e,t);for(const r of x(this,sa))r.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var s;for(const o of x(this,wi).values())o.editorType===e&&o.show(t);(((s=x(this,Wy))==null?void 0:s.get(Mt.HIGHLIGHT_SHOW_ALL))??!0)!==t&&j(this,Ka,Au).call(this,[[Mt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(x(this,Gy)!==e){z(this,Gy,e);for(const t of x(this,$i).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of x(this,wi).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return x(this,wi).get(e)}addEditor(e){x(this,wi).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(x(this,Va)&&clearTimeout(x(this,Va)),z(this,Va,setTimeout(()=>{this.focusMainContainer(),z(this,Va,null)},0))),x(this,wi).delete(e.id),this.unselect(e),(!e.annotationElementId||!x(this,rf).has(e.annotationElementId))&&((t=x(this,ql))==null||t.remove(e.id))}addDeletedAnnotationElement(e){x(this,rf).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return x(this,rf).has(e)}removeDeletedAnnotationElement(e){x(this,rf).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){x(this,Os)!==e&&(z(this,Os,e),e&&j(this,Ka,Au).call(this,e.propertiesToUpdate))}updateUI(e){x(this,lb,fq)===e&&j(this,Ka,Au).call(this,e.propertiesToUpdate)}toggleSelected(e){if(x(this,an).has(e)){x(this,an).delete(e),e.unselect(),j(this,tr,Gr).call(this,{hasSelectedEditor:this.hasSelection});return}x(this,an).add(e),e.select(),j(this,Ka,Au).call(this,e.propertiesToUpdate),j(this,tr,Gr).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of x(this,an))t!==e&&t.unselect();x(this,an).clear(),x(this,an).add(e),e.select(),j(this,Ka,Au).call(this,e.propertiesToUpdate),j(this,tr,Gr).call(this,{hasSelectedEditor:!0})}isSelected(e){return x(this,an).has(e)}get firstSelectedEditor(){return x(this,an).values().next().value}unselect(e){e.unselect(),x(this,an).delete(e),j(this,tr,Gr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return x(this,an).size!==0}get isEnterHandled(){return x(this,an).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){x(this,ra).undo(),j(this,tr,Gr).call(this,{hasSomethingToUndo:x(this,ra).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:j(this,lf,Y1).call(this)})}redo(){x(this,ra).redo(),j(this,tr,Gr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:x(this,ra).hasSomethingToRedo(),isEmpty:j(this,lf,Y1).call(this)})}addCommands(e){x(this,ra).add(e),j(this,tr,Gr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:j(this,lf,Y1).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...x(this,an)],t=()=>{for(const r of e)r.remove()},n=()=>{for(const r of e)j(this,l_,QR).call(this,r)};this.addCommands({cmd:t,undo:n,mustExec:!0})}commitOrRemove(){var e;(e=x(this,Os))==null||e.commitOrRemove()}hasSomethingToControl(){return x(this,Os)||this.hasSelection}selectAll(){for(const e of x(this,an))e.commit();j(this,c_,$R).call(this,x(this,wi).values())}unselectAll(){if(!(x(this,Os)&&(x(this,Os).commitOrRemove(),x(this,er)!==Wt.NONE))&&this.hasSelection){for(const e of x(this,an))e.unselect();x(this,an).clear(),j(this,tr,Gr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;x(this,Ou)[0]+=e,x(this,Ou)[1]+=t;const[r,s]=x(this,Ou),o=[...x(this,an)],a=1e3;x(this,Xa)&&clearTimeout(x(this,Xa)),z(this,Xa,setTimeout(()=>{z(this,Xa,null),x(this,Ou)[0]=x(this,Ou)[1]=0,this.addCommands({cmd:()=>{for(const l of o)x(this,wi).has(l.id)&&l.translateInPage(r,s)},undo:()=>{for(const l of o)x(this,wi).has(l.id)&&l.translateInPage(-r,-s)},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),z(this,Ga,new Map);for(const e of x(this,an))x(this,Ga).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!x(this,Ga))return!1;this.disableUserSelect(!1);const e=x(this,Ga);z(this,Ga,null);let t=!1;for(const[{x:r,y:s,pageIndex:o},a]of e)a.newX=r,a.newY=s,a.newPageIndex=o,t||(t=r!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const n=(r,s,o,a)=>{if(x(this,wi).has(r.id)){const l=x(this,$i).get(a);l?r._setParentAndPosition(l,s,o):(r.pageIndex=a,r.x=s,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:o,newPageIndex:a}]of e)n(r,s,o,a)},undo:()=>{for(const[r,{savedX:s,savedY:o,savedPageIndex:a}]of e)n(r,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(x(this,Ga))for(const n of x(this,Ga).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||x(this,an).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return x(this,Os)===e}getActive(){return x(this,Os)}getMode(){return x(this,er)}get imageManager(){return Jt(this,"imageManager",new XR)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,u=t.rangeCount;c<u;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:n,y:r,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,u,h,d)=>({x:(u-r)/o,y:1-(c+h-n)/s,width:d/o,height:h/s});break;case"180":a=(c,u,h,d)=>({x:1-(c+h-n)/s,y:1-(u+d-r)/o,width:h/s,height:d/o});break;case"270":a=(c,u,h,d)=>({x:1-(u+d-r)/o,y:(c-n)/s,width:d/o,height:h/s});break;default:a=(c,u,h,d)=>({x:(c-n)/s,y:(u-r)/o,width:h/s,height:d/o});break}const l=[];for(let c=0,u=t.rangeCount;c<u;c++){const h=t.getRangeAt(c);if(!h.collapsed)for(const{x:d,y:m,width:g,height:y}of h.getClientRects())g===0||y===0||l.push(a(d,m,g,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(x(this,km)||z(this,km,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=x(this,km))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=x(this,km))==null?void 0:r.get(e.data.id);if(!t)return;const n=x(this,ql).getRawValue(t);n&&(x(this,er)===Wt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};Fm=new WeakMap,Os=new WeakMap,wi=new WeakMap,$i=new WeakMap,Om=new WeakMap,ql=new WeakMap,km=new WeakMap,ra=new WeakMap,Nm=new WeakMap,rf=new WeakMap,Ga=new WeakMap,sa=new WeakMap,sf=new WeakMap,jy=new WeakMap,Hy=new WeakMap,Va=new WeakMap,Um=new WeakMap,Bu=new WeakMap,Wa=new WeakMap,Q4=new WeakMap,Fu=new WeakMap,Gy=new WeakMap,of=new WeakMap,Vy=new WeakMap,zm=new WeakMap,er=new WeakMap,an=new WeakMap,Zl=new WeakMap,af=new WeakMap,Wy=new WeakMap,Xy=new WeakMap,Ky=new WeakMap,Yy=new WeakMap,Jy=new WeakMap,qy=new WeakMap,Zy=new WeakMap,Qy=new WeakMap,$y=new WeakMap,e_=new WeakMap,t_=new WeakMap,n_=new WeakMap,i_=new WeakMap,Ou=new WeakMap,Xa=new WeakMap,Ql=new WeakMap,r_=new WeakMap,jm=new WeakSet,LS=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},$4=new WeakSet,rq=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=j(this,jm,LS).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(x(this,Wa)||z(this,Wa,new a3e(this)),x(this,Wa).show(n,r,this.direction==="ltr"))},eb=new WeakSet,sq=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){x(this,Zl)&&((s=x(this,Wa))==null||s.hide(),z(this,Zl,null),j(this,tr,Gr).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===x(this,Zl))return;if(!j(this,jm,LS).call(this,e).closest(".textLayer")){x(this,Zl)&&((o=x(this,Wa))==null||o.hide(),z(this,Zl,null),j(this,tr,Gr).call(this,{hasSelectedText:!1}));return}if((a=x(this,Wa))==null||a.hide(),z(this,Zl,t),j(this,tr,Gr).call(this,{hasSelectedText:!0}),!(x(this,er)!==Wt.HIGHLIGHT&&x(this,er)!==Wt.NONE)&&(x(this,er)===Wt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),z(this,Bu,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=this._signal,c=u=>{u.type==="pointerup"&&u.button!==0||(window.removeEventListener("pointerup",c),window.removeEventListener("blur",c),u.type==="pointerup"&&j(this,Hm,DS).call(this,"main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}},Hm=new WeakSet,DS=function(e=""){x(this,er)===Wt.HIGHLIGHT?this.highlightSelection(e):x(this,jy)&&j(this,$4,rq).call(this)},tb=new WeakSet,oq=function(){document.addEventListener("selectionchange",j(this,eb,sq).bind(this),{signal:this._signal})},nb=new WeakSet,aq=function(){const e=this._signal;window.addEventListener("focus",x(this,Ky),{signal:e}),window.addEventListener("blur",x(this,Xy),{signal:e})},ib=new WeakSet,lq=function(){window.removeEventListener("focus",x(this,Ky)),window.removeEventListener("blur",x(this,Xy))},s_=new WeakSet,JR=function(){const e=this._signal;window.addEventListener("keydown",x(this,Zy),{signal:e}),window.addEventListener("keyup",x(this,Qy),{signal:e})},rb=new WeakSet,cq=function(){window.removeEventListener("keydown",x(this,Zy)),window.removeEventListener("keyup",x(this,Qy))},o_=new WeakSet,qR=function(){const e=this._signal;document.addEventListener("copy",x(this,Yy),{signal:e}),document.addEventListener("cut",x(this,Jy),{signal:e}),document.addEventListener("paste",x(this,qy),{signal:e})},a_=new WeakSet,ZR=function(){document.removeEventListener("copy",x(this,Yy)),document.removeEventListener("cut",x(this,Jy)),document.removeEventListener("paste",x(this,qy))},sb=new WeakSet,uq=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},tr=new WeakSet,Gr=function(e){Object.entries(e).some(([n,r])=>x(this,i_)[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(x(this,i_),e)}),x(this,er)===Wt.HIGHLIGHT&&e.hasSelectedEditor===!1&&j(this,Ka,Au).call(this,[[Mt.HIGHLIGHT_FREE,!0]]))},Ka=new WeakSet,Au=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},ob=new WeakSet,hq=function(){if(!x(this,Fu)){z(this,Fu,!0);for(const e of x(this,$i).values())e.enable();for(const e of x(this,wi).values())e.enable()}},ab=new WeakSet,dq=function(){if(this.unselectAll(),x(this,Fu)){z(this,Fu,!1);for(const e of x(this,$i).values())e.disable();for(const e of x(this,wi).values())e.disable()}},l_=new WeakSet,QR=function(e){const t=x(this,$i).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},lb=new WeakSet,fq=function(){let e=null;for(e of x(this,an));return e},lf=new WeakSet,Y1=function(){if(x(this,wi).size===0)return!0;if(x(this,wi).size===1)for(const e of x(this,wi).values())return e.isEmpty();return!1},c_=new WeakSet,$R=function(e){for(const t of x(this,an))t.unselect();x(this,an).clear();for(const t of e)t.isEmpty()||(x(this,an).add(t),t.select());j(this,tr,Gr).call(this,{hasSelectedEditor:this.hasSelection})},Rt(fm,"TRANSLATE_SMALL",1),Rt(fm,"TRANSLATE_BIG",10);let R0=fm;var $l,ec,oa,tc,ks,Gm,aa,u_,eP;const Hl=class Hl{constructor(e){F(this,u_);F(this,$l,"");F(this,ec,!1);F(this,oa,null);F(this,tc,null);F(this,ks,null);F(this,Gm,!1);F(this,aa,null);z(this,aa,e)}static initialize(e){Hl._l10nPromise||(Hl._l10nPromise=e)}async render(){const e=z(this,oa,document.createElement("button"));e.className="altText";const t=await Hl._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const n=x(this,aa)._uiManager._signal;e.addEventListener("contextmenu",Ss,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const r=s=>{s.preventDefault(),x(this,aa)._uiManager.editAltText(x(this,aa))};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(z(this,Gm,!0),r(s))},{signal:n}),await j(this,u_,eP).call(this),e}finish(){x(this,oa)&&(x(this,oa).focus({focusVisible:x(this,Gm)}),z(this,Gm,!1))}isEmpty(){return!x(this,$l)&&!x(this,ec)}get data(){return{altText:x(this,$l),decorative:x(this,ec)}}set data({altText:e,decorative:t}){x(this,$l)===e&&x(this,ec)===t||(z(this,$l,e),z(this,ec,t),j(this,u_,eP).call(this))}toggle(e=!1){x(this,oa)&&(!e&&x(this,ks)&&(clearTimeout(x(this,ks)),z(this,ks,null)),x(this,oa).disabled=!e)}destroy(){var e;(e=x(this,oa))==null||e.remove(),z(this,oa,null),z(this,tc,null)}};$l=new WeakMap,ec=new WeakMap,oa=new WeakMap,tc=new WeakMap,ks=new WeakMap,Gm=new WeakMap,aa=new WeakMap,u_=new WeakSet,eP=async function(){var r;const e=x(this,oa);if(!e)return;if(!x(this,$l)&&!x(this,ec)){e.classList.remove("done"),(r=x(this,tc))==null||r.remove();return}e.classList.add("done"),Hl._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let t=x(this,tc);if(!t){z(this,tc,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const s=t.id=`alt-text-tooltip-${x(this,aa).id}`;e.setAttribute("aria-describedby",s);const o=100,a=x(this,aa)._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(x(this,ks)),z(this,ks,null)},{once:!0}),e.addEventListener("mouseenter",()=>{z(this,ks,setTimeout(()=>{z(this,ks,null),x(this,tc).classList.add("show"),x(this,aa)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:a}),e.addEventListener("mouseleave",()=>{var l;x(this,ks)&&(clearTimeout(x(this,ks)),z(this,ks,null)),(l=x(this,tc))==null||l.classList.remove("show")},{signal:a})}t.innerText=x(this,ec)?await Hl._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):x(this,$l),t.parentNode||e.append(t);const n=x(this,aa).getImageForAltText();n==null||n.setAttribute("aria-describedby",t.id)},Rt(Hl,"_l10nPromise",null);let L4=Hl;var cf,la,br,Vm,uf,nr,hf,Wm,Xm,Cr,h_,df,ku,d_,ff,nc,Ya,Km,Ym,bo,f_,cb,p_,tP,m_,nP,g_,iP,ub,pq,hb,mq,v_,rP,y_,sP,__,oP,db,gq,fb,vq,pb,yq,mb,_q,x_,aP,pf,J1;const mn=class mn{constructor(e){F(this,p_);F(this,g_);F(this,ub);F(this,hb);F(this,v_);F(this,y_);F(this,__);F(this,db);F(this,fb);F(this,pb);F(this,mb);F(this,x_);F(this,pf);F(this,cf,null);F(this,la,null);F(this,br,null);F(this,Vm,!1);F(this,uf,!1);F(this,nr,null);F(this,hf,null);F(this,Wm,this.focusin.bind(this));F(this,Xm,this.focusout.bind(this));F(this,Cr,null);F(this,h_,"");F(this,df,!1);F(this,ku,null);F(this,d_,!1);F(this,ff,!1);F(this,nc,!1);F(this,Ya,null);F(this,Km,0);F(this,Ym,0);F(this,bo,null);Rt(this,"_initialOptions",Object.create(null));Rt(this,"_isVisible",!0);Rt(this,"_uiManager",null);Rt(this,"_focusEventsAllowed",!0);Rt(this,"_l10nPromise",null);F(this,f_,!1);F(this,cb,mn._zIndex++);this.constructor===mn&&fn("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=mn.prototype._resizeWithKeyboard,t=R0.TRANSLATE_SMALL,n=R0.TRANSLATE_BIG;return Jt(this,"_resizerKeyboardManager",new Ex([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],mn.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Jt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new h3e({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,n){if(mn._l10nPromise||(mn._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))]))),n!=null&&n.strings)for(const s of n.strings)mn._l10nPromise.set(s,e.get(s));if(mn._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);mn._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){fn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return x(this,f_)}set _isDraggable(e){var t;z(this,f_,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=x(this,cb)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):j(this,pf,J1).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(x(this,df)?z(this,df,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[s,o]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/s,this.y=(t+r)/o,this.fixAndSetPosition()}translate(e,t){j(this,p_,tP).call(this,this.parentDimensions,e,t)}translateInPage(e,t){x(this,ku)||z(this,ku,[this.x,this.y]),j(this,p_,tP).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){x(this,ku)||z(this,ku,[this.x,this.y]);const[n,r]=this.parentDimensions;if(this.x+=e/n,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!x(this,ku)&&(x(this,ku)[0]!==this.x||x(this,ku)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=mn,r=n/e,s=n/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,n]=this.pageDimensions;let{x:r,y:s,width:o,height:a}=this;if(o*=t,a*=n,r*=t,s*=n,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-o,r)),s=Math.max(0,Math.min(n-a,s));break;case 90:r=Math.max(0,Math.min(t-a,r)),s=Math.min(n,Math.max(o,s));break;case 180:r=Math.min(t,Math.max(o,r)),s=Math.min(n,Math.max(a,s));break;case 270:r=Math.min(t,Math.max(a,r)),s=Math.max(0,Math.min(n-o,s));break}this.x=r/=t,this.y=s/=n;const[l,c]=this.getBaseTranslation();r+=l,s+=c;const{style:u}=this.div;u.left=`${(100*r).toFixed(2)}%`,u.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return j(n=mn,m_,nP).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return j(n=mn,m_,nP).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this,r=t*e,s=n*e;return ms.isCSSRoundSupported?[Math.round(r),Math.round(s)]:[r,s]}setDims(e,t){const[n,r]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,x(this,uf)||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),s=!x(this,uf)&&t.endsWith("%");if(r&&s)return;const[o,a]=this.parentDimensions;r||(e.width=`${(100*parseFloat(n)/o).toFixed(2)}%`),!x(this,uf)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=x(this,br))==null||e.finish()}async addEditToolbar(){return x(this,Cr)||x(this,ff)?x(this,Cr):(z(this,Cr,new VR(this)),this.div.append(x(this,Cr).render()),x(this,br)&&x(this,Cr).addAltTextButton(await x(this,br).render()),x(this,Cr))}removeEditToolbar(){var e;x(this,Cr)&&(x(this,Cr).remove(),z(this,Cr,null),(e=x(this,br))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){x(this,br)||(L4.initialize(mn._l10nPromise),z(this,br,new L4(this)),x(this,cf)&&(x(this,br).data=x(this,cf),z(this,cf,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=x(this,br))==null?void 0:e.data}set altTextData(e){x(this,br)&&(x(this,br).data=e)}hasAltText(){var e;return!((e=x(this,br))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=x(this,Vm)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",x(this,Wm),{signal:e}),this.div.addEventListener("focusout",x(this,Xm),{signal:e});const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),I4(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=ms.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(z(this,df,!0),this._isDraggable){j(this,db,gq).call(this,e);return}j(this,__,oP).call(this,e)}moveInDOM(){x(this,Ya)&&clearTimeout(x(this,Ya)),z(this,Ya,setTimeout(()=>{var e;z(this,Ya,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t,n=this.rotation){const r=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/r,u=t/r,h=this.x*s,d=this.y*o,m=this.width*s,g=this.height*o;switch(n){case 0:return[h+c+a,o-d-u-g+l,h+c+m+a,o-d-u+l];case 90:return[h+u+a,o-d+c+l,h+u+g+a,o-d+c+m+l];case 180:return[h-c-m+a,o-d+u+l,h-c+a,o-d+u+g+l];case 270:return[h-u-g+a,o-d-c-m+l,h-u+a,o-d-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,s,o]=e,a=s-n,l=o-r;switch(this.rotation){case 0:return[n,t-o,a,l];case 90:return[n,t-r,l,a];case 180:return[s,t-r,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){z(this,ff,!0)}disableEditMode(){z(this,ff,!1)}isInEditMode(){return x(this,ff)}shouldGetKeyboardEvents(){return x(this,nc)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,n;const e=this._uiManager._signal;(t=this.div)==null||t.addEventListener("focusin",x(this,Wm),{signal:e}),(n=this.div)==null||n.addEventListener("focusout",x(this,Xm),{signal:e})}rotate(e){}serialize(e=!1,t=null){fn("An editor must be serializable")}static deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});r.rotation=e.rotation,z(r,cf,e.accessibilityData);const[s,o]=r.pageDimensions,[a,l,c,u]=r.getRectInCurrentCoords(e.rect,o);return r.x=a/s,r.y=l/o,r.width=c/s,r.height=u/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",x(this,Wm)),this.div.removeEventListener("focusout",x(this,Xm)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),x(this,Ya)&&(clearTimeout(x(this,Ya)),z(this,Ya,null)),j(this,pf,J1).call(this),this.removeEditToolbar(),x(this,bo)){for(const e of x(this,bo).values())clearTimeout(e);z(this,bo,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(j(this,ub,pq).call(this),x(this,nr).classList.remove("hidden"),I4(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),z(this,hf,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=x(this,nr).children;if(!x(this,la)){z(this,la,Array.from(t));const o=j(this,fb,vq).bind(this),a=j(this,pb,yq).bind(this),l=this._uiManager._signal;for(const c of x(this,la)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",j(this,mb,_q).bind(this,u),{signal:l}),mn._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(h=>c.setAttribute("aria-label",h))}}const n=x(this,la)[0];let r=0;for(const o of t){if(o===n)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(x(this,la).length/4);if(s!==r){if(s<r)for(let a=0;a<r-s;a++)x(this,nr).append(x(this,nr).firstChild);else if(s>r)for(let a=0;a<s-r;a++)x(this,nr).firstChild.before(x(this,nr).lastChild);let o=0;for(const a of t){const c=x(this,la)[o++].getAttribute("data-resizer-name");mn._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(u=>a.setAttribute("aria-label",u))}}j(this,x_,aP).call(this,0),z(this,nc,!0),x(this,nr).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){x(this,nc)&&j(this,y_,sP).call(this,x(this,h_),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){j(this,pf,J1).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!x(this,Cr)){this.addEditToolbar().then(()=>{var n,r;(n=this.div)!=null&&n.classList.contains("selectedEditor")&&((r=x(this,Cr))==null||r.show())});return}(t=x(this,Cr))==null||t.show()}unselect(){var e,t,n,r;(e=x(this,nr))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=x(this,Cr))==null||r.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return x(this,d_)}set isEditing(e){z(this,d_,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){z(this,uf,!0);const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){x(this,bo)||z(this,bo,new Map);const{action:n}=e;let r=x(this,bo).get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),x(this,bo).delete(n),x(this,bo).size===0&&z(this,bo,null)},mn._telemetryTimeout),x(this,bo).set(n,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),z(this,Vm,!1)}disable(){this.div&&(this.div.tabIndex=-1),z(this,Vm,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};cf=new WeakMap,la=new WeakMap,br=new WeakMap,Vm=new WeakMap,uf=new WeakMap,nr=new WeakMap,hf=new WeakMap,Wm=new WeakMap,Xm=new WeakMap,Cr=new WeakMap,h_=new WeakMap,df=new WeakMap,ku=new WeakMap,d_=new WeakMap,ff=new WeakMap,nc=new WeakMap,Ya=new WeakMap,Km=new WeakMap,Ym=new WeakMap,bo=new WeakMap,f_=new WeakMap,cb=new WeakMap,p_=new WeakSet,tP=function([e,t],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/e,this.y+=r/t,this.fixAndSetPosition()},m_=new WeakSet,nP=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},g_=new WeakSet,iP=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},ub=new WeakSet,pq=function(){if(x(this,nr))return;z(this,nr,document.createElement("div")),x(this,nr).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const r=document.createElement("div");x(this,nr).append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",j(this,hb,mq).bind(this,n),{signal:t}),r.addEventListener("contextmenu",Ss,{signal:t}),r.tabIndex=-1}this.div.prepend(x(this,nr))},hb=new WeakSet,mq=function(e,t){var y;t.preventDefault();const{isMac:n}=ms.platform;if(t.button!==0||t.ctrlKey&&n)return;(y=x(this,br))==null||y.toggle(!1);const r=j(this,y_,sP).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const o=this._uiManager._signal,a={passive:!0,capture:!0,signal:o};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",r,a),window.addEventListener("contextmenu",Ss,{signal:o});const l=this.x,c=this.y,u=this.width,h=this.height,d=this.parent.div.style.cursor,m=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const g=()=>{var _;this.parent.togglePointerEvents(!0),(_=x(this,br))==null||_.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",g),window.removeEventListener("blur",g),window.removeEventListener("pointermove",r,a),window.removeEventListener("contextmenu",Ss),this.parent.div.style.cursor=d,this.div.style.cursor=m,j(this,v_,rP).call(this,l,c,u,h)};window.addEventListener("pointerup",g,{signal:o}),window.addEventListener("blur",g,{signal:o})},v_=new WeakSet,rP=function(e,t,n,r){const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===n&&l===r||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=o;const[c,u]=this.parentDimensions;this.setDims(c*a,u*l),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=r,this.x=e,this.y=t;const[c,u]=this.parentDimensions;this.setDims(c*n,u*r),this.fixAndSetPosition()},mustExec:!0})},y_=new WeakSet,sP=function(e,t){const[n,r]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=mn.MIN_SIZE/n,u=mn.MIN_SIZE/r,h=ee=>Math.round(ee*1e4)/1e4,d=j(this,g_,iP).call(this,this.rotation),m=(ee,k)=>[d[0]*ee+d[2]*k,d[1]*ee+d[3]*k],g=j(this,g_,iP).call(this,360-this.rotation),y=(ee,k)=>[g[0]*ee+g[2]*k,g[1]*ee+g[3]*k];let _,v,A=!1,w=!1;switch(e){case"topLeft":A=!0,_=(ee,k)=>[0,0],v=(ee,k)=>[ee,k];break;case"topMiddle":_=(ee,k)=>[ee/2,0],v=(ee,k)=>[ee/2,k];break;case"topRight":A=!0,_=(ee,k)=>[ee,0],v=(ee,k)=>[0,k];break;case"middleRight":w=!0,_=(ee,k)=>[ee,k/2],v=(ee,k)=>[0,k/2];break;case"bottomRight":A=!0,_=(ee,k)=>[ee,k],v=(ee,k)=>[0,0];break;case"bottomMiddle":_=(ee,k)=>[ee/2,k],v=(ee,k)=>[ee/2,0];break;case"bottomLeft":A=!0,_=(ee,k)=>[0,k],v=(ee,k)=>[ee,0];break;case"middleLeft":w=!0,_=(ee,k)=>[0,k/2],v=(ee,k)=>[ee,k/2];break}const C=_(a,l),T=v(a,l);let E=m(...T);const R=h(s+E[0]),D=h(o+E[1]);let I=1,L=1,[O,X]=this.screenToPageTranslation(t.movementX,t.movementY);if([O,X]=y(O/n,X/r),A){const ee=Math.hypot(a,l);I=L=Math.max(Math.min(Math.hypot(T[0]-C[0]-O,T[1]-C[1]-X)/ee,1/a,1/l),c/a,u/l)}else w?I=Math.max(c,Math.min(1,Math.abs(T[0]-C[0]-O)))/a:L=Math.max(u,Math.min(1,Math.abs(T[1]-C[1]-X)))/l;const W=h(a*I),q=h(l*L);E=m(...v(W,q));const $=R-E[0],Q=D-E[1];this.width=W,this.height=q,this.x=$,this.y=Q,this.setDims(n*W,r*q),this.fixAndSetPosition()},__=new WeakSet,oP=function(e){const{isMac:t}=ms.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},db=new WeakSet,gq=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let n,r;const s=this._uiManager._signal;t&&(this.div.classList.add("moving"),n={passive:!0,capture:!0,signal:s},z(this,Km,e.clientX),z(this,Ym,e.clientY),r=a=>{const{clientX:l,clientY:c}=a,[u,h]=this.screenToPageTranslation(l-x(this,Km),c-x(this,Ym));z(this,Km,l),z(this,Ym,c),this._uiManager.dragSelectedEditors(u,h)},window.addEventListener("pointermove",r,n));const o=()=>{window.removeEventListener("pointerup",o),window.removeEventListener("blur",o),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",r,n)),z(this,df,!1),this._uiManager.endDragSession()||j(this,__,oP).call(this,e)};window.addEventListener("pointerup",o,{signal:s}),window.addEventListener("blur",o,{signal:s})},fb=new WeakSet,vq=function(e){mn._resizerKeyboardManager.exec(this,e)},pb=new WeakSet,yq=function(e){var t;x(this,nc)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==x(this,nr)&&j(this,pf,J1).call(this)},mb=new WeakSet,_q=function(e){z(this,h_,x(this,nc)?e:"")},x_=new WeakSet,aP=function(e){if(x(this,la))for(const t of x(this,la))t.tabIndex=e},pf=new WeakSet,J1=function(){if(z(this,nc,!1),j(this,x_,aP).call(this,-1),x(this,hf)){const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=x(this,hf);j(this,v_,rP).call(this,e,t,n,r),z(this,hf,null)}},F(mn,m_),Rt(mn,"_borderLineWidth",-1),Rt(mn,"_colorManager",new YR),Rt(mn,"_zIndex",1),Rt(mn,"_telemetryTimeout",1e3);let ln=mn;class h3e extends ln{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const Dz=3285377520,_o=4294901760,Ua=65535;class xq{constructor(e){this.h1=e?e&4294967295:Dz,this.h2=e?e&4294967295:Dz}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let y=0,_=e.length;y<_;y++){const v=e.charCodeAt(y);v<=255?t[n++]=v:(t[n++]=v>>>8,t[n++]=v&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,s=n-r*4,o=new Uint32Array(t.buffer,0,r);let a=0,l=0,c=this.h1,u=this.h2;const h=3432918353,d=461845907,m=h&Ua,g=d&Ua;for(let y=0;y<r;y++)y&1?(a=o[y],a=a*h&_o|a*m&Ua,a=a<<15|a>>>17,a=a*d&_o|a*g&Ua,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[y],l=l*h&_o|l*m&Ua,l=l<<15|l>>>17,l=l*d&_o|l*g&Ua,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(a=0,s){case 3:a^=t[r*4+2]<<16;case 2:a^=t[r*4+1]<<8;case 1:a^=t[r*4],a=a*h&_o|a*m&Ua,a=a<<15|a>>>17,a=a*d&_o|a*g&Ua,r&1?c^=a:u^=a}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&_o|e*36045&Ua,t=t*4283543511&_o|((t<<16|e>>>16)*2950163797&_o)>>>16,e^=t>>>1,e=e*444984403&_o|e*60499&Ua,t=t*3301882366&_o|((t<<16|e>>>16)*3120437893&_o)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const lP=Object.freeze({map:null,hash:"",transfer:void 0});var mf,ir,gb,Aq;class yD{constructor(){F(this,gb);F(this,mf,!1);F(this,ir,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=x(this,ir).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return x(this,ir).get(e)}remove(e){if(x(this,ir).delete(e),x(this,ir).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of x(this,ir).values())if(t instanceof ln)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=x(this,ir).get(e);let r=!1;if(n!==void 0)for(const[s,o]of Object.entries(t))n[s]!==o&&(r=!0,n[s]=o);else r=!0,x(this,ir).set(e,t);r&&j(this,gb,Aq).call(this),t instanceof ln&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return x(this,ir).has(e)}getAll(){return x(this,ir).size>0?hD(x(this,ir)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return x(this,ir).size}resetModified(){x(this,mf)&&(z(this,mf,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new wq(this)}get serializable(){if(x(this,ir).size===0)return lP;const e=new Map,t=new xq,n=[],r=Object.create(null);let s=!1;for(const[o,a]of x(this,ir)){const l=a instanceof ln?a.serialize(!1,r):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&n.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:lP}get editorStats(){let e=null;const t=new Map;for(const n of x(this,ir).values()){if(!(n instanceof ln))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:s}=r;t.has(s)||t.set(s,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(r)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[n,r]of t)e[n]=r.computeTelemetryFinalData(e[n]);return e}}mf=new WeakMap,ir=new WeakMap,gb=new WeakSet,Aq=function(){x(this,mf)||(z(this,mf,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var A_;class wq extends yD{constructor(t){super();F(this,A_,void 0);const{map:n,hash:r,transfer:s}=t.serializable,o=structuredClone(n,s?{transfer:s}:null);z(this,A_,{map:o,hash:r,transfer:s})}get print(){fn("Should not call PrintAnnotationStorage.print")}get serializable(){return x(this,A_)}}A_=new WeakMap;var Jm;class d3e{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){F(this,Jm,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),x(this,Jm).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||x(this,Jm).has(e.loadedName))){if(Ei(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:r,style:s}=e,o=new FontFace(n,r,s);this.addNativeFontFace(o);try{await o.load(),x(this,Jm).add(n),t==null||t(e)}catch{Nt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}fn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw Nt(`Failed to load font '${n.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Jt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Lr||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Jt(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Ei(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:t,callback:e};return n.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Jt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(C,T){return C.charCodeAt(T)<<24|C.charCodeAt(T+1)<<16|C.charCodeAt(T+2)<<8|C.charCodeAt(T+3)&255}function r(C,T,E,R){const D=C.substring(0,T),I=C.substring(T+E);return D+R+I}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function u(C,T){if(++c>30){Nt("Load test font never loaded."),T();return}if(l.font="30px "+C,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(u.bind(null,C,T))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=r(d,976,h.length,h);const g=16,y=1482184792;let _=n(d,g);for(s=0,o=h.length-3;s<o;s+=4)_=_-y+n(h,s)|0;s<h.length&&(_=_-y+n(h+"XXX",s)|0),d=r(d,g,4,J_e(_));const v=`url(data:font/opentype;base64,${btoa(d)});`,A=`@font-face {font-family:"${h}";src:${v}}`;this.insertRule(A);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const C of[e.loadedName,h]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=C,w.append(T)}this._document.body.append(w),u(h,()=>{w.remove(),t.complete()})}}Jm=new WeakMap;class f3e{constructor(e,{disableFontFace:t=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=t===!0,this._inspectFont=n}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=GJ(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(r=this._inspectFont)==null||r.call(this,this,t),n}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(s){Nt(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[t]=function(s,o){};const r=[];for(let s=0,o=n.length;s<o;)switch(n[s++]){case Ol.BEZIER_CURVE_TO:{const[a,l,c,u,h,d]=n.slice(s,s+6);r.push(m=>m.bezierCurveTo(a,l,c,u,h,d)),s+=6}break;case Ol.MOVE_TO:{const[a,l]=n.slice(s,s+2);r.push(c=>c.moveTo(a,l)),s+=2}break;case Ol.LINE_TO:{const[a,l]=n.slice(s,s+2);r.push(c=>c.lineTo(a,l)),s+=2}break;case Ol.QUADRATIC_CURVE_TO:{const[a,l,c,u]=n.slice(s,s+4);r.push(h=>h.quadraticCurveTo(a,l,c,u)),s+=4}break;case Ol.RESTORE:r.push(a=>a.restore());break;case Ol.SAVE:r.push(a=>a.save());break;case Ol.SCALE:Ei(r.length===2,"Scale command is only valid at the third position.");break;case Ol.TRANSFORM:{const[a,l,c,u,h,d]=n.slice(s,s+6);r.push(m=>m.transform(a,l,c,u,h,d)),s+=6}break;case Ol.TRANSLATE:{const[a,l]=n.slice(s,s+2);r.push(c=>c.translate(a,l)),s+=2}break}return this.compiledGlyphs[t]=function(o,a){r[0](o),r[1](o),o.scale(a,-a);for(let l=2,c=r.length;l<c;l++)r[l](o)}}}if(Lr){var cP=Promise.withResolvers(),Lv=null;(async()=>{const e=await j1(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await j1(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await j1(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await j1(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:e,http:t,https:n,url:r,canvas:s,path2d:o}))})().then(e=>{Lv=e,cP.resolve()},e=>{Nt(`loadPackages: ${e}`),Lv=new Map,cP.resolve()})}class Al{static get promise(){return cP.promise}static get(e){return Lv==null?void 0:Lv.get(e)}}const Sq=function(i){return Al.get("fs").promises.readFile(i).then(t=>new Uint8Array(t))};class p3e extends iE{}class m3e extends P4{_createCanvas(e,t){return Al.get("canvas").createCanvas(e,t)}}class g3e extends rE{_fetchData(e,t){return Sq(e).then(n=>({cMapData:n,compressionType:t}))}}class v3e extends sE{_fetchData(e){return Sq(e)}}const Yr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function uP(i,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,n),i.clip(r)}class Tx{constructor(){this.constructor===Tx&&fn("Cannot initialize BaseShadingPattern.")}getPattern(){fn("Abstract method `getPattern` called.")}}class y3e extends Tx{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,r){let s;if(r===Yr.STROKE||r===Yr.FILL){const o=t.current.getClippedPathBoundingBox(r,Nn(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,l,!0),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),n=lt.transform(n,[1,0,0,1,o[0],o[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),uP(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(n);s.setTransform(h)}else uP(e,this._bbox),s=this._createGradient(e);return s}}function bT(i,e,t,n,r,s,o,a){const l=e.coords,c=e.colors,u=i.data,h=i.width*4;let d;l[t+1]>l[n+1]&&(d=t,t=n,n=d,d=s,s=o,o=d),l[n+1]>l[r+1]&&(d=n,n=r,r=d,d=o,o=a,a=d),l[t+1]>l[n+1]&&(d=t,t=n,n=d,d=s,s=o,o=d);const m=(l[t]+e.offsetX)*e.scaleX,g=(l[t+1]+e.offsetY)*e.scaleY,y=(l[n]+e.offsetX)*e.scaleX,_=(l[n+1]+e.offsetY)*e.scaleY,v=(l[r]+e.offsetX)*e.scaleX,A=(l[r+1]+e.offsetY)*e.scaleY;if(g>=A)return;const w=c[s],C=c[s+1],T=c[s+2],E=c[o],R=c[o+1],D=c[o+2],I=c[a],L=c[a+1],O=c[a+2],X=Math.round(g),W=Math.round(A);let q,$,Q,ee,k,Z,K,ne;for(let le=X;le<=W;le++){if(le<_){const xe=le<g?0:(g-le)/(g-_);q=m-(m-y)*xe,$=w-(w-E)*xe,Q=C-(C-R)*xe,ee=T-(T-D)*xe}else{let xe;le>A?xe=1:_===A?xe=0:xe=(_-le)/(_-A),q=y-(y-v)*xe,$=E-(E-I)*xe,Q=R-(R-L)*xe,ee=D-(D-O)*xe}let ye;le<g?ye=0:le>A?ye=1:ye=(g-le)/(g-A),k=m-(m-v)*ye,Z=w-(w-I)*ye,K=C-(C-L)*ye,ne=T-(T-O)*ye;const re=Math.round(Math.min(q,k)),pe=Math.round(Math.max(q,k));let Me=h*le+re*4;for(let xe=re;xe<=pe;xe++)ye=(q-xe)/(q-k),ye<0?ye=0:ye>1&&(ye=1),u[Me++]=$-($-Z)*ye|0,u[Me++]=Q-(Q-K)*ye|0,u[Me++]=ee-(ee-ne)*ye|0,u[Me++]=255}}function _3e(i,e,t){const n=e.coords,r=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(n.length/a)-1,c=a-1;for(s=0;s<l;s++){let u=s*a;for(let h=0;h<c;h++,u++)bT(i,t,n[u],n[u+1],n[u+a],r[u],r[u+1],r[u+a]),bT(i,t,n[u+a+1],n[u+1],n[u+a],r[u+a+1],r[u+1],r[u+a])}break;case"triangles":for(s=0,o=n.length;s<o;s+=3)bT(i,t,n[s],n[s+1],n[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class x3e extends Tx{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),d=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),m=c/h,g=u/d,y={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/m,scaleY:1/g},_=h+2*2,v=d+2*2,A=n.getCanvas("mesh",_,v,!1),w=A.context,C=w.createImageData(h,d);if(t){const E=C.data;for(let R=0,D=E.length;R<D;R+=4)E[R]=t[0],E[R+1]=t[1],E[R+2]=t[2],E[R+3]=255}for(const E of this._figures)_3e(C,E,y);return w.putImageData(C,2,2),{canvas:A.canvas,offsetX:a-2*m,offsetY:l-2*g,scaleX:m,scaleY:g}}getPattern(e,t,n,r){uP(e,this._bbox);let s;if(r===Yr.SHADING)s=lt.singularValueDecompose2dScale(Nn(e));else if(s=lt.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=lt.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,r===Yr.SHADING?null:this._background,t.cachedCanvases);return r!==Yr.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class A3e extends Tx{getPattern(){return"hotpink"}}function w3e(i){switch(i[0]){case"RadialAxial":return new y3e(i);case"Mesh":return new x3e(i);case"Dummy":return new A3e}throw new Error(`Unknown IR type: ${i[0]}`)}const Bz={COLORED:1,UNCOLORED:2},vb=class vb{constructor(e,t,n,r,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,n=this.bbox,r=this.xstep,s=this.ystep,o=this.paintType,a=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;eE("TilingType: "+a);const u=n[0],h=n[1],d=n[2],m=n[3],g=lt.singularValueDecompose2dScale(this.matrix),y=lt.singularValueDecompose2dScale(this.baseTransform),_=[g[0]*y[0],g[1]*y[1]],v=this.getSizeAndScale(r,this.ctx.canvas.width,_[0]),A=this.getSizeAndScale(s,this.ctx.canvas.height,_[1]),w=e.cachedCanvases.getCanvas("pattern",v.size,A.size,!0),C=w.context,T=c.createCanvasGraphics(C);T.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(T,o,l);let E=u,R=h,D=d,I=m;return u<0&&(E=0,D+=Math.abs(u)),h<0&&(R=0,I+=Math.abs(h)),C.translate(-(v.scale*E),-(A.scale*R)),T.transform(v.scale,0,0,A.scale,0,0),C.save(),this.clipBbox(T,E,R,D,I),T.baseTransform=Nn(T.ctx),T.executeOperatorList(t),T.endDrawing(),{canvas:w.canvas,scaleX:v.scale,scaleY:A.scale,offsetX:E,offsetY:R}}getSizeAndScale(e,t,n){e=Math.abs(e);const r=Math.max(vb.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=r?s=r:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,r,s){const o=r-t,a=s-n;e.ctx.rect(t,n,o,a),e.current.updateRectMinMax(Nn(e.ctx),[t,n,r,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,s=e.current;switch(t){case Bz.COLORED:const o=this.ctx;r.fillStyle=o.fillStyle,r.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case Bz.UNCOLORED:const a=lt.makeHexColor(n[0],n[1],n[2]);r.fillStyle=a,r.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new Y_e(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,r){let s=n;r!==Yr.SHADING&&(s=lt.transform(s,t.baseTransform),this.matrix&&(s=lt.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};Rt(vb,"MAX_PATTERN_SIZE",3e3);let hP=vb;function S3e({src:i,srcPos:e=0,dest:t,width:n,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=ms.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],u=n>>3,h=n&7,d=i.length;t=new Uint32Array(t.buffer);let m=0;for(let g=0;g<r;g++){for(const _=e+u;e<_;e++){const v=e<d?i[e]:255;t[m++]=v&128?c:l,t[m++]=v&64?c:l,t[m++]=v&32?c:l,t[m++]=v&16?c:l,t[m++]=v&8?c:l,t[m++]=v&4?c:l,t[m++]=v&2?c:l,t[m++]=v&1?c:l}if(h===0)continue;const y=e<d?i[e++]:255;for(let _=0;_<h;_++)t[m++]=y&1<<7-_?c:l}return{srcPos:e,destPos:m}}const Fz=16,Oz=100,b3e=15,kz=10,Nz=1e3,hs=16;function C3e(i,e){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){e.save(),this.__originalSave()},i.restore=function(){e.restore(),this.__originalRestore()},i.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},i.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},i.transform=function(n,r,s,o,a,l){e.transform(n,r,s,o,a,l),this.__originalTransform(n,r,s,o,a,l)},i.setTransform=function(n,r,s,o,a,l){e.setTransform(n,r,s,o,a,l),this.__originalSetTransform(n,r,s,o,a,l)},i.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},i.rotate=function(n){e.rotate(n),this.__originalRotate(n)},i.clip=function(n){e.clip(n),this.__originalClip(n)},i.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},i.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},i.bezierCurveTo=function(t,n,r,s,o,a){e.bezierCurveTo(t,n,r,s,o,a),this.__originalBezierCurveTo(t,n,r,s,o,a)},i.rect=function(t,n,r,s){e.rect(t,n,r,s),this.__originalRect(t,n,r,s)},i.closePath=function(){e.closePath(),this.__originalClosePath()},i.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class M3e{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function $w(i,e,t,n,r,s,o,a,l,c){const[u,h,d,m,g,y]=Nn(i);if(h===0&&d===0){const A=o*u+g,w=Math.round(A),C=a*m+y,T=Math.round(C),E=(o+l)*u+g,R=Math.abs(Math.round(E)-w)||1,D=(a+c)*m+y,I=Math.abs(Math.round(D)-T)||1;return i.setTransform(Math.sign(u),0,0,Math.sign(m),w,T),i.drawImage(e,t,n,r,s,0,0,R,I),i.setTransform(u,h,d,m,g,y),[R,I]}if(u===0&&m===0){const A=a*d+g,w=Math.round(A),C=o*h+y,T=Math.round(C),E=(a+c)*d+g,R=Math.abs(Math.round(E)-w)||1,D=(o+l)*h+y,I=Math.abs(Math.round(D)-T)||1;return i.setTransform(0,Math.sign(h),Math.sign(d),0,w,T),i.drawImage(e,t,n,r,s,0,0,I,R),i.setTransform(u,h,d,m,g,y),[I,R]}i.drawImage(e,t,n,r,s,o,a,l,c);const _=Math.hypot(u,h),v=Math.hypot(d,m);return[_*l,v*c]}function E3e(i){const{width:e,height:t}=i;if(e>Nz||t>Nz)return null;const n=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(t+1)),a,l,c;const u=e+7&-8;let h=new Uint8Array(u*t),d=0;for(const v of i.data){let A=128;for(;A>0;)h[d++]=v&A?0:255,A>>=1}let m=0;for(d=0,h[d]!==0&&(o[0]=1,++m),l=1;l<e;l++)h[d]!==h[d+1]&&(o[l]=h[d]?2:1,++m),d++;for(h[d]!==0&&(o[l]=2,++m),a=1;a<t;a++){d=a*u,c=a*s,h[d-u]!==h[d]&&(o[c]=h[d]?1:8,++m);let v=(h[d]?4:0)+(h[d-u]?8:0);for(l=1;l<e;l++)v=(v>>2)+(h[d+1]?4:0)+(h[d-u+1]?8:0),r[v]&&(o[c+l]=r[v],++m),d++;if(h[d-u]!==h[d]&&(o[c+l]=h[d]?2:4,++m),m>n)return null}for(d=u*(t-1),c=a*s,h[d]!==0&&(o[c]=8,++m),l=1;l<e;l++)h[d]!==h[d+1]&&(o[c+l]=h[d]?4:8,++m),d++;if(h[d]!==0&&(o[c+l]=4,++m),m>n)return null;const g=new Int32Array([0,s,-1,0,-s,0,0,0,1]),y=new Path2D;for(a=0;m&&a<=t;a++){let v=a*s;const A=v+e;for(;v<A&&!o[v];)v++;if(v===A)continue;y.moveTo(v%s,a);const w=v;let C=o[v];do{const T=g[C];do v+=T;while(!o[v]);const E=o[v];E!==5&&E!==10?(C=E,o[v]=0):(C=E&51*C>>4,o[v]&=C>>2|C<<2),y.lineTo(v%s,v/s|0),o[v]||--m}while(w!==v);--a}return h=null,o=null,function(v){v.save(),v.scale(1/e,-1/t),v.translate(0,-t),v.fill(y),v.beginPath(),v.restore()}}class Uz{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=jJ,this.textMatrixScale=1,this.fontMatrix=kR,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=wr.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=lt.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=lt.applyTransform(t,e),r=lt.applyTransform(t.slice(2),e),s=lt.applyTransform([t[0],t[3]],e),o=lt.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],r[0],s[0],o[0]),this.minY=Math.min(this.minY,n[1],r[1],s[1],o[1]),this.maxX=Math.max(this.maxX,n[0],r[0],s[0],o[0]),this.maxY=Math.max(this.maxY,n[1],r[1],s[1],o[1])}updateScalingPathMinMax(e,t){lt.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,r,s,o,a,l,c,u){const h=lt.bezierBoundingBox(t,n,r,s,o,a,l,c,u);u||this.updateRectMinMax(e,h)}getPathBoundingBox(e=Yr.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===Yr.STROKE){t||fn("Stroke bounding box must include transform.");const r=lt.singularValueDecompose2dScale(t),s=r[0]*this.lineWidth/2,o=r[1]*this.lineWidth/2;n[0]-=s,n[1]-=o,n[2]+=s,n[3]+=o}return n}updateClipFromPath(){const e=lt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Yr.FILL,t=null){return lt.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function zz(i,e){if(typeof ImageData<"u"&&e instanceof ImageData){i.putImageData(e,0,0);return}const t=e.height,n=e.width,r=t%hs,s=(t-r)/hs,o=r===0?s:s+1,a=i.createImageData(n,hs);let l=0,c;const u=e.data,h=a.data;let d,m,g,y;if(e.kind===TS.GRAYSCALE_1BPP){const _=u.byteLength,v=new Uint32Array(h.buffer,0,h.byteLength>>2),A=v.length,w=n+7>>3,C=4294967295,T=ms.isLittleEndian?4278190080:255;for(d=0;d<o;d++){for(g=d<s?hs:r,c=0,m=0;m<g;m++){const E=_-l;let R=0;const D=E>w?n:E*8-7,I=D&-8;let L=0,O=0;for(;R<I;R+=8)O=u[l++],v[c++]=O&128?C:T,v[c++]=O&64?C:T,v[c++]=O&32?C:T,v[c++]=O&16?C:T,v[c++]=O&8?C:T,v[c++]=O&4?C:T,v[c++]=O&2?C:T,v[c++]=O&1?C:T;for(;R<D;R++)L===0&&(O=u[l++],L=128),v[c++]=O&L?C:T,L>>=1}for(;c<A;)v[c++]=0;i.putImageData(a,0,d*hs)}}else if(e.kind===TS.RGBA_32BPP){for(m=0,y=n*hs*4,d=0;d<s;d++)h.set(u.subarray(l,l+y)),l+=y,i.putImageData(a,0,m),m+=hs;d<o&&(y=n*r*4,h.set(u.subarray(l,l+y)),i.putImageData(a,0,m))}else if(e.kind===TS.RGB_24BPP)for(g=hs,y=n*g,d=0;d<o;d++){for(d>=s&&(g=r,y=n*g),c=0,m=y;m--;)h[c++]=u[l++],h[c++]=u[l++],h[c++]=u[l++],h[c++]=255;i.putImageData(a,0,d*hs)}else throw new Error(`bad image kind: ${e.kind}`)}function jz(i,e){if(e.bitmap){i.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,r=t%hs,s=(t-r)/hs,o=r===0?s:s+1,a=i.createImageData(n,hs);let l=0;const c=e.data,u=a.data;for(let h=0;h<o;h++){const d=h<s?hs:r;({srcPos:l}=S3e({src:c,srcPos:l,dest:u,width:n,height:d,nonBlackColor:0})),i.putImageData(a,0,h*hs)}}function I1(i,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)i[n]!==void 0&&(e[n]=i[n]);i.setLineDash!==void 0&&(e.setLineDash(i.getLineDash()),e.lineDashOffset=i.lineDashOffset)}function eS(i){if(i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0),!Lr){const{filter:e}=i;e!=="none"&&e!==""&&(i.filter="none")}}function Hz(i,e){if(e)return!0;const t=lt.singularValueDecompose2dScale(i);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Bh.PDF_TO_CSS_UNITS);return t[0]<=n&&t[1]<=n}const T3e=["butt","round","square"],R3e=["miter","round","bevel"],P3e={},Gz={};var w_,dP,S_,fP;const bD=class bD{constructor(e,t,n,r,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){F(this,w_);F(this,S_);this.ctx=e,this.current=new Uz(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new M3e(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:r=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,n){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Nn(this.compositeCtx))}this.ctx.save(),eS(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Nn(this.ctx)}executeOperatorList(e,t,n,r){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const c=l-a>kz&&typeof n=="function",u=c?Date.now()+b3e:0;let h=0;const d=this.commonObjs,m=this.objs;let g;for(;;){if(r!==void 0&&a===r.nextBreakPoint)return r.breakIt(a,n),a;if(g=o[a],g!==ia.dependency)this[g].apply(this,s[a]);else for(const y of s[a]){const _=y.startsWith("g_")?d:m;if(!_.has(y))return _.get(y,n),a}if(a++,a===l)return a;if(c&&++h>kz){if(Date.now()>u)return n(),a;h=0}}}endDrawing(){j(this,w_,dP).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),j(this,S_,fP).call(this)}_scaleImage(e,t){const n=e.width,r=e.height;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=n,l=r,c="prescale1",u,h;for(;s>2&&a>1||o>2&&l>1;){let d=a,m=l;s>2&&a>1&&(d=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/d),o>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/m),u=this.cachedCanvases.getCanvas(c,d,m),h=u.context,h.clearRect(0,0,d,m),h.drawImage(e,0,0,a,l,0,0,d,m),e=u.canvas,a=d,l=m,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:r}=e,s=this.current.fillColor,o=this.current.patternFill,a=Nn(t);let l,c,u,h;if((e.bitmap||e.data)&&e.count>1){const D=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(D),l||(l=new Map,this._cachedBitmapsMap.set(D,l));const I=l.get(c);if(I&&!o){const L=Math.round(Math.min(a[0],a[2])+a[4]),O=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:I,offsetX:L,offsetY:O}}u=I}u||(h=this.cachedCanvases.getCanvas("maskCanvas",n,r),jz(h.context,e));let d=lt.transform(a,[1/n,0,0,-1/r,0,0]);d=lt.transform(d,[1,0,0,1,0,-r]);const[m,g,y,_]=lt.getAxialAlignedBoundingBox([0,0,n,r],d),v=Math.round(y-m)||1,A=Math.round(_-g)||1,w=this.cachedCanvases.getCanvas("fillCanvas",v,A),C=w.context,T=m,E=g;C.translate(-T,-E),C.transform(...d),u||(u=this._scaleImage(h.canvas,kl(C)),u=u.img,l&&o&&l.set(c,u)),C.imageSmoothingEnabled=Hz(Nn(C),e.interpolate),$w(C,u,0,0,u.width,u.height,0,0,n,r),C.globalCompositeOperation="source-in";const R=lt.transform(kl(C),[1,0,0,1,-T,-E]);return C.fillStyle=o?s.getPattern(t,this,R,Yr.FILL):s,C.fillRect(0,0,n,r),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,w.canvas)),{canvas:w.canvas,offsetX:Math.round(T),offsetY:Math.round(E)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=T3e[e]}setLineJoin(e){this.ctx.lineJoin=R3e[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const s=this.ctx;s.setTransform(...Nn(this.suspendedCtx)),I1(this.suspendedCtx,s),C3e(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),I1(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,r){const s=r[0],o=r[1],a=r[2]-s,l=r[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,n,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,r,s,o,a,l,c,u,h){let d=e.canvas,m=l-u,g=c-h;if(o){if(m<0||g<0||m+n>d.width||g+r>d.height){const _=this.cachedCanvases.getCanvas("maskExtension",n,r),v=_.context;v.drawImage(d,-m,-g),o.some(A=>A!==0)&&(v.globalCompositeOperation="destination-atop",v.fillStyle=lt.makeHexColor(...o),v.fillRect(0,0,n,r),v.globalCompositeOperation="source-over"),d=_.canvas,m=g=0}else if(o.some(_=>_!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const _=new Path2D;_.rect(m,g,n,r),e.clip(_),e.globalCompositeOperation="destination-atop",e.fillStyle=lt.makeHexColor(...o),e.fillRect(m,g,n,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const y=new Path2D;y.rect(l,c,n,r),t.clip(y),t.globalCompositeOperation="destination-in",t.drawImage(d,m,g,n,r,l,c,n,r),t.restore()}save(){this.inSMaskMode?(I1(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),I1(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,r,s,o){this.ctx.transform(e,t,n,r,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const r=this.ctx,s=this.current;let o=s.x,a=s.y,l,c;const u=Nn(r),h=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,d=h?n.slice(0):null;for(let m=0,g=0,y=e.length;m<y;m++)switch(e[m]|0){case ia.rectangle:o=t[g++],a=t[g++];const _=t[g++],v=t[g++],A=o+_,w=a+v;r.moveTo(o,a),_===0||v===0?r.lineTo(A,w):(r.lineTo(A,a),r.lineTo(A,w),r.lineTo(o,w)),h||s.updateRectMinMax(u,[o,a,A,w]),r.closePath();break;case ia.moveTo:o=t[g++],a=t[g++],r.moveTo(o,a),h||s.updatePathMinMax(u,o,a);break;case ia.lineTo:o=t[g++],a=t[g++],r.lineTo(o,a),h||s.updatePathMinMax(u,o,a);break;case ia.curveTo:l=o,c=a,o=t[g+4],a=t[g+5],r.bezierCurveTo(t[g],t[g+1],t[g+2],t[g+3],o,a),s.updateCurvePathMinMax(u,l,c,t[g],t[g+1],t[g+2],t[g+3],o,a,d),g+=6;break;case ia.curveTo2:l=o,c=a,r.bezierCurveTo(o,a,t[g],t[g+1],t[g+2],t[g+3]),s.updateCurvePathMinMax(u,l,c,o,a,t[g],t[g+1],t[g+2],t[g+3],d),o=t[g+2],a=t[g+3],g+=4;break;case ia.curveTo3:l=o,c=a,o=t[g+2],a=t[g+3],r.bezierCurveTo(t[g],t[g+1],o,a,o,a),s.updateCurvePathMinMax(u,l,c,t[g],t[g+1],o,a,o,a,d),g+=4;break;case ia.closePath:r.closePath();break}h&&s.updateScalingPathMinMax(u,d),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(t.save(),t.strokeStyle=n.getPattern(t,this,kl(t),Yr.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;let s=!1;r&&(t.save(),t.fillStyle=n.getPattern(t,this,kl(t),Yr.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=P3e}eoClip(){this.pendingClip=Gz}beginText(){this.current.textMatrix=jJ,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var u;const n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=n.fontMatrix||kR,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Nt("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const s=n.loadedName||"sans-serif",o=((u=n.systemFontInfo)==null?void 0:u.css)||`"${s}", ${n.fallbackName}`;let a="normal";n.black?a="900":n.bold&&(a="bold");const l=n.italic?"italic":"normal";let c=t;t<Fz?c=Fz:t>Oz&&(c=Oz),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,r,s,o){this.current.textMatrix=[e,t,n,r,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,r){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,u=l&wr.FILL_STROKE_MASK,h=!!(l&wr.ADD_TO_PATH_FLAG),d=o.patternFill&&!a.missingFile;let m;(a.disableFontFace||h||d)&&(m=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||d?(s.save(),s.translate(t,n),s.beginPath(),m(s,c),r&&s.setTransform(...r),(u===wr.FILL||u===wr.FILL_STROKE)&&s.fill(),(u===wr.STROKE||u===wr.FILL_STROKE)&&s.stroke(),s.restore()):((u===wr.FILL||u===wr.FILL_STROKE)&&s.fillText(e,t,n),(u===wr.STROKE||u===wr.FILL_STROKE)&&s.strokeText(e,t,n)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Nn(s),x:t,y:n,fontSize:c,addToPath:m})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return Jt(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,u=t.textHScale*c,h=e.length,d=n.vertical,m=d?1:-1,g=n.defaultVMetrics,y=r*t.fontMatrix[0],_=t.textRenderingMode===wr.FILL&&!n.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),c>0?s.scale(u,-1):s.scale(u,1);let v;if(t.patternFill){s.save();const E=t.fillColor.getPattern(s,this,kl(s),Yr.FILL);v=Nn(s),s.restore(),s.fillStyle=E}let A=t.lineWidth;const w=t.textMatrixScale;if(w===0||A===0){const E=t.textRenderingMode&wr.FILL_STROKE_MASK;(E===wr.STROKE||E===wr.FILL_STROKE)&&(A=this.getSinglePixelWidth())}else A/=w;if(o!==1&&(s.scale(o,o),A/=o),s.lineWidth=A,n.isInvalidPDFjsFont){const E=[];let R=0;for(const D of e)E.push(D.unicode),R+=D.width;s.fillText(E.join(""),0,0),t.x+=R*y*u,s.restore(),this.compose();return}let C=0,T;for(T=0;T<h;++T){const E=e[T];if(typeof E=="number"){C+=m*E*r/1e3;continue}let R=!1;const D=(E.isSpace?l:0)+a,I=E.fontChar,L=E.accent;let O,X,W=E.width;if(d){const $=E.vmetric||g,Q=-(E.vmetric?$[1]:W*.5)*y,ee=$[2]*y;W=$?-$[0]:W,O=Q/o,X=(C+ee)/o}else O=C/o,X=0;if(n.remeasure&&W>0){const $=s.measureText(I).width*1e3/r*o;if(W<$&&this.isFontSubpixelAAEnabled){const Q=W/$;R=!0,s.save(),s.scale(Q,1),O/=Q}else W!==$&&(O+=(W-$)/2e3*r/o)}if(this.contentVisible&&(E.isInFont||n.missingFile)){if(_&&!L)s.fillText(I,O,X);else if(this.paintChar(I,O,X,v),L){const $=O+r*L.offset.x/o,Q=X-r*L.offset.y/o;this.paintChar(L.fontChar,$,Q,v)}}const q=d?W*y-D*c:W*y+D*c;C+=q,R&&s.restore()}d?t.y-=C:t.x+=C*u,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,s=n.fontSize,o=n.fontDirection,a=r.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,u=n.textHScale*o,h=n.fontMatrix||kR,d=e.length,m=n.textRenderingMode===wr.INVISIBLE;let g,y,_,v;if(!(m||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(u,o),g=0;g<d;++g){if(y=e[g],typeof y=="number"){v=a*y*s/1e3,this.ctx.translate(v,0),n.x+=v*u;continue}const A=(y.isSpace?c:0)+l,w=r.charProcOperatorList[y.operatorListId];if(!w){Nt(`Type3 character "${y.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=y,this.save(),t.scale(s,s),t.transform(...h),this.executeOperatorList(w),this.restore()),_=lt.applyTransform([y.width,0],h)[0]*s+A,t.translate(_,0),n.x+=_*u}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,s,o){this.ctx.rect(n,r,s-n,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=e[1],r=this.baseTransform||Nn(this.ctx),s={createCanvasGraphics:o=>new bD(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new hP(e,n,this.ctx,s,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){const r=lt.makeHexColor(e,t,n);this.ctx.strokeStyle=r,this.current.strokeColor=r}setFillRGBColor(e,t,n){const r=lt.makeHexColor(e,t,n);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=w3e(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,kl(t),Yr.SHADING);const r=kl(t);if(r){const{width:s,height:o}=t.canvas,[a,l,c,u]=lt.getAxialAlignedBoundingBox([0,0,s,o],r);this.ctx.fillRect(a,l,c-a,u-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){fn("Should not call beginInlineImage")}beginImageData(){fn("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Nn(this.ctx),t)){const n=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],n,r),this.current.updateRectMinMax(Nn(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||eE("TODO: Support non-isolated groups."),e.knockout&&Nt("Knockout groups not supported.");const n=Nn(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=lt.getAxialAlignedBoundingBox(e.bbox,Nn(t));const s=[0,0,t.canvas.width,t.canvas.height];r=lt.intersect(r,s)||[0,0,0,0];const o=Math.floor(r[0]),a=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-o,1),c=Math.max(Math.ceil(r[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(u,l,c),d=h.context;d.translate(-o,-a),d.transform(...n),e.smask?this.smaskStack.push({canvas:h.canvas,context:d,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),I1(t,d),this.ctx=d,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Nn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const s=lt.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,n,r,s){if(j(this,w_,dP).call(this),eS(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[l,c]=lt.singularValueDecompose2dScale(Nn(this.ctx)),{viewportScale:u}=this,h=Math.ceil(o*this.outputScaleX*u),d=Math.ceil(a*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(h,d);const{canvas:m,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),eS(this.ctx)}else eS(this.ctx),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.endPath()}this.current=new Uz(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),j(this,S_,fP).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=E3e(e)),r.compiled)){r.compiled(n);return}const s=this._createMaskCanvas(e),o=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(o,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,r=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=Nn(a);a.transform(t,n,r,s,0,0);const c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,h=o.length;u<h;u+=2){const d=lt.transform(l,[t,n,r,s,o[u],o[u+1]]),[m,g]=lt.applyTransform([0,0],d);a.drawImage(c.canvas,m,g)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:c}=s,u=this.cachedCanvases.getCanvas("maskCanvas",a,l),h=u.context;h.save();const d=this.getObject(o,s);jz(h,d),h.globalCompositeOperation="source-in",h.fillStyle=r?n.getPattern(h,this,kl(t),Yr.FILL):n,h.fillRect(0,0,a,l),h.restore(),t.save(),t.transform(...c),t.scale(1,-1),$w(t,u.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Nt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){Nt("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let c=0,u=r.length;c<u;c+=2)l.push({transform:[t,0,0,n,r[c],r[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,r=this.ctx;if(this.save(),!Lr){const{filter:a}=r;a!=="none"&&a!==""&&(r.filter="none")}r.scale(1/t,-1/n);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,n).context;zz(l,e),s=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(s,kl(r));r.imageSmoothingEnabled=Hz(Nn(r),e.interpolate),$w(r,o.img,0,0,o.paintWidth,o.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;zz(l,e),r=this.applyTransferMapsToCanvas(l)}for(const s of t)n.save(),n.transform(...s.transform),n.scale(1,-1),$w(n,r,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===Gz?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Nn(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:s}=this.ctx.getTransform();let o,a;if(n===0&&r===0){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(e===0)o=a=1/l;else{const u=l*e;o=a=u<1?1/u:1}else if(e===0)o=1/l,a=1/c;else{const u=l*e,h=c*e;o=u<1?1/u:1,a=h<1?1/h:1}}else{const l=Math.abs(t*s-n*r),c=Math.hypot(t,n),u=Math.hypot(r,s);if(e===0)o=u/l,a=c/l;else{const h=e*l;o=u>h?u/h:1,a=c>h?c/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[r,s]=this.getScaleForStroking();if(t.lineWidth=n||1,r===1&&s===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(r,s),o.length>0){const a=Math.max(r,s);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};w_=new WeakSet,dP=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},S_=new WeakSet,fP=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Tm=bD;for(const i in ia)Tm.prototype[i]!==void 0&&(Tm.prototype[ia[i]]=Tm.prototype[i]);var b_,C_;class Nc{static get workerPort(){return x(this,b_)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");z(this,b_,e)}static get workerSrc(){return x(this,C_)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");z(this,C_,e)}}b_=new WeakMap,C_=new WeakMap,F(Nc,b_,null),F(Nc,C_,"");const tS={UNKNOWN:0,DATA:1,ERROR:2},mi={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ds(i){switch(i instanceof Error||typeof i=="object"&&i!==null||fn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new W0(i.message);case"MissingPDFException":return new V0(i.message);case"PasswordException":return new UR(i.message,i.code);case"UnexpectedResponseException":return new tE(i.message,i.status);case"UnknownErrorException":return new zR(i.message,i.details);default:return new zR(i.message,i.toString())}}var yb,bq,_b,Cq,qm,BS;class q1{constructor(e,t,n){F(this,yb);F(this,_b);F(this,qm);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=r=>{const s=r.data;if(s.targetName!==this.sourceName)return;if(s.stream){j(this,_b,Cq).call(this,s);return}if(s.callback){const a=s.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],s.callback===tS.DATA)l.resolve(s.data);else if(s.callback===tS.ERROR)l.reject(Ds(s.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[s.action];if(!o)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const a=this.sourceName,l=s.sourceName;new Promise(function(c){c(o(s.data))}).then(function(c){n.postMessage({sourceName:a,targetName:l,callback:tS.DATA,callbackId:s.callbackId,data:c})},function(c){n.postMessage({sourceName:a,targetName:l,callback:tS.ERROR,callbackId:s.callbackId,reason:Ds(c)})});return}if(s.streamId){j(this,yb,bq).call(this,s);return}o(s.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,n,r){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:c.desiredSize},r),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:o,targetName:a,stream:mi.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{Ei(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:mi.CANCEL,streamId:s,reason:Ds(c)}),u.promise}},n)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}yb=new WeakSet,bq=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(c,u=1,h){if(this.isCancelled)return;const d=this.desiredSize;this.desiredSize-=u,d>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:r,stream:mi.ENQUEUE,streamId:t,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:mi.CLOSE,streamId:t}),delete o.streamSinks[t])},error(c){Ei(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:mi.ERROR,streamId:t,reason:Ds(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(c){c(a(e.data,l))}).then(function(){s.postMessage({sourceName:n,targetName:r,stream:mi.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:n,targetName:r,stream:mi.START_COMPLETE,streamId:t,reason:Ds(c)})})},_b=new WeakSet,Cq=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case mi.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Ds(e.reason));break;case mi.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Ds(e.reason));break;case mi.PULL:if(!a){s.postMessage({sourceName:n,targetName:r,stream:mi.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var c;l((c=a.onPull)==null?void 0:c.call(a))}).then(function(){s.postMessage({sourceName:n,targetName:r,stream:mi.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:n,targetName:r,stream:mi.PULL_COMPLETE,streamId:t,reason:Ds(l)})});break;case mi.ENQUEUE:if(Ei(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case mi.CLOSE:if(Ei(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),j(this,qm,BS).call(this,o,t);break;case mi.ERROR:Ei(o,"error should have stream controller"),o.controller.error(Ds(e.reason)),j(this,qm,BS).call(this,o,t);break;case mi.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Ds(e.reason)),j(this,qm,BS).call(this,o,t);break;case mi.CANCEL:if(!a)break;new Promise(function(l){var c;l((c=a.onCancel)==null?void 0:c.call(a,Ds(e.reason)))}).then(function(){s.postMessage({sourceName:n,targetName:r,stream:mi.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:n,targetName:r,stream:mi.CANCEL_COMPLETE,streamId:t,reason:Ds(l)})}),a.sinkCapability.reject(Ds(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},qm=new WeakSet,BS=async function(e,t){var n,r,s;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var gf,M_;class I3e{constructor({parsedData:e,rawData:t}){F(this,gf,void 0);F(this,M_,void 0);z(this,gf,e),z(this,M_,t)}getRaw(){return x(this,M_)}get(e){return x(this,gf).get(e)??null}getAll(){return hD(x(this,gf))}has(e){return x(this,gf).has(e)}}gf=new WeakMap,M_=new WeakMap;const wu=Symbol("INTERNAL");var E_,T_,R_,Zm;class L3e{constructor(e,{name:t,intent:n,usage:r}){F(this,E_,!1);F(this,T_,!1);F(this,R_,!1);F(this,Zm,!0);z(this,E_,!!(e&To.DISPLAY)),z(this,T_,!!(e&To.PRINT)),this.name=t,this.intent=n,this.usage=r}get visible(){if(x(this,R_))return x(this,Zm);if(!x(this,Zm))return!1;const{print:e,view:t}=this.usage;return x(this,E_)?(t==null?void 0:t.viewState)!=="OFF":x(this,T_)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==wu&&fn("Internal method `_setVisible` called."),z(this,R_,n),z(this,Zm,t)}}E_=new WeakMap,T_=new WeakMap,R_=new WeakMap,Zm=new WeakMap;var Nu,dn,Qm,$m,P_,pP;class D3e{constructor(e,t=To.DISPLAY){F(this,P_);F(this,Nu,null);F(this,dn,new Map);F(this,Qm,null);F(this,$m,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,z(this,$m,e.order);for(const n of e.groups)x(this,dn).set(n.id,new L3e(t,n));if(e.baseState==="OFF")for(const n of x(this,dn).values())n._setVisible(wu,!1);for(const n of e.on)x(this,dn).get(n)._setVisible(wu,!0);for(const n of e.off)x(this,dn).get(n)._setVisible(wu,!1);z(this,Qm,this.getHash())}}isVisible(e){if(x(this,dn).size===0)return!0;if(!e)return eE("Optional content group not defined."),!0;if(e.type==="OCG")return x(this,dn).has(e.id)?x(this,dn).get(e.id).visible:(Nt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return j(this,P_,pP).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!x(this,dn).has(t))return Nt(`Optional content group not found: ${t}`),!0;if(x(this,dn).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!x(this,dn).has(t))return Nt(`Optional content group not found: ${t}`),!0;if(!x(this,dn).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!x(this,dn).has(t))return Nt(`Optional content group not found: ${t}`),!0;if(!x(this,dn).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!x(this,dn).has(t))return Nt(`Optional content group not found: ${t}`),!0;if(x(this,dn).get(t).visible)return!1}return!0}return Nt(`Unknown optional content policy ${e.policy}.`),!0}return Nt(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const n=x(this,dn).get(e);if(!n){Nt(`Optional content group not found: ${e}`);return}n._setVisible(wu,!!t,!0),z(this,Nu,null)}setOCGState({state:e,preserveRB:t}){let n;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const s=x(this,dn).get(r);if(s)switch(n){case"ON":s._setVisible(wu,!0);break;case"OFF":s._setVisible(wu,!1);break;case"Toggle":s._setVisible(wu,!s.visible);break}}z(this,Nu,null)}get hasInitialVisibility(){return x(this,Qm)===null||this.getHash()===x(this,Qm)}getOrder(){return x(this,dn).size?x(this,$m)?x(this,$m).slice():[...x(this,dn).keys()]:null}getGroups(){return x(this,dn).size>0?hD(x(this,dn)):null}getGroup(e){return x(this,dn).get(e)||null}getHash(){if(x(this,Nu)!==null)return x(this,Nu);const e=new xq;for(const[t,n]of x(this,dn))e.update(`${t}:${n.visible}`);return z(this,Nu,e.hexdigest())}}Nu=new WeakMap,dn=new WeakMap,Qm=new WeakMap,$m=new WeakMap,P_=new WeakSet,pP=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const s=e[r];let o;if(Array.isArray(s))o=j(this,P_,pP).call(this,s);else if(x(this,dn).has(s))o=x(this,dn).get(s).visible;else return Nt(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return n==="And"};class B3e{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Ei(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});Ei(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,r,s;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ei(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new F3e(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new O3e(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class F3e{constructor(e,t,n=!1,r=null){this._stream=e,this._done=n||!1,this._filename=gD(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class O3e{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function k3e(i){let e=!0,t=n("filename\\*","i").exec(i);if(t){t=t[1];let u=a(t);return u=unescape(u),u=l(u),u=c(u),s(u)}if(t=o(i),t){const u=c(t);return s(u)}if(t=n("filename","i").exec(i),t){t=t[1];let u=a(t);return u=c(u),s(u)}function n(u,h){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function r(u,h){if(u){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const d=new TextDecoder(u,{fatal:!0}),m=nE(h);h=d.decode(m),e=!1}catch{}}return h}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=r("utf-8",u),e&&(u=r("iso-8859-1",u))),u}function o(u){const h=[];let d;const m=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(d=m.exec(u))!==null;){let[,y,_,v]=d;if(y=parseInt(y,10),y in h){if(y===0)break;continue}h[y]=[_,v]}const g=[];for(let y=0;y<h.length&&y in h;++y){let[_,v]=h[y];v=a(v),_&&(v=unescape(v),y===0&&(v=l(v))),g.push(v)}return g.join("")}function a(u){if(u.startsWith('"')){const h=u.slice(1).split('\\"');for(let d=0;d<h.length;++d){const m=h[d].indexOf('"');m!==-1&&(h[d]=h[d].slice(0,m),h.length=d+1),h[d]=h[d].replaceAll(/\\(.)/g,"$1")}u=h.join('"')}return u}function l(u){const h=u.indexOf("'");if(h===-1)return u;const d=u.slice(0,h),g=u.slice(h+1).replace(/^[^']*'/,"");return r(d,g)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,d,m,g){if(m==="q"||m==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,_){return String.fromCharCode(parseInt(_,16))}),r(d,g);try{g=atob(g)}catch{}return r(d,g)})}return""}function _D({getResponseHeader:i,isHttp:e,rangeChunkSize:t,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(i("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||n||!e||i("Accept-Ranges")!=="bytes"||(i("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function xD(i){const e=i("Content-Disposition");if(e){let t=k3e(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(gD(t))return t}return null}function aE(i,e){return i===404||i===0&&e.startsWith("file:")?new V0('Missing PDF "'+e+'".'):new tE(`Unexpected server response (${i}) while retrieving PDF "${e}".`,i)}function Mq(i){return i===200||i===206}function Eq(i,e,t){return{method:"GET",headers:i,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Tq(i){const e=new Headers;for(const t in i){const n=i[t];n!==void 0&&e.append(t,n)}return e}function Rq(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(Nt(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class Vz{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ei(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new N3e(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new U3e(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class N3e{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=Tq(this._stream.httpHeaders);const n=t.url;fetch(n,Eq(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!Mq(r.status))throw aE(r.status,n);this._reader=r.body.getReader(),this._headersCapability.resolve();const s=l=>r.headers.get(l),{allowRangeRequests:o,suggestedLength:a}=_D({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=xD(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new W0("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Rq(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class U3e{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController,this._headers=Tq(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${n-1}`);const s=r.url;fetch(s,Eq(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!Mq(o.status))throw aE(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:Rq(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const CT=200,MT=206;function z3e(i){const e=i.response;return typeof e!="string"?e:nE(e).buffer}class j3e{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const r={begin:e,end:t};for(const s in n)r[s]=n[s];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const o=this.httpHeaders[s];o!==void 0&&t.setRequestHeader(s,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=MT):r.expectedStatus=CT,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var r;const n=this.pendingRequests[e];n&&((r=n.onProgress)==null||r.call(n,t))}onStateChange(e,t){var l,c,u;const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(l=n.onError)==null||l.call(n,r.status);return}const s=r.status||CT;if(!(s===CT&&n.expectedStatus===MT)&&s!==n.expectedStatus){(c=n.onError)==null||c.call(n,r.status);return}const a=z3e(r);if(s===MT){const h=r.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);n.onDone({begin:parseInt(d[1],10),chunk:a})}else a?n.onDone({begin:0,chunk:a}):(u=n.onError)==null||u.call(n,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class H3e{constructor(e){this._source=e,this._manager=new j3e(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ei(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new G3e(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new V3e(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class G3e{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=o=>t.getResponseHeader(o),{allowRangeRequests:r,suggestedLength:s}=_D({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=xD(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=aE(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class V3e{constructor(e,t,n){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=aE(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Pq=/^file:\/\/\/[a-zA-Z]:\//;function W3e(i){const e=Al.get("url"),t=e.parse(i);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(i)?e.parse(`file:///${i}`):(t.host||(t.protocol="file:"),t)}class X3e{constructor(e){this.source=e,this.url=W3e(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ei(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new J3e(this):new K3e(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new q3e(this,e,t):new Y3e(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Iq{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new W0("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Lq{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function D4(i,e){return{protocol:i.protocol,auth:i.auth,host:i.hostname,port:i.port,path:i.path,method:"GET",headers:e}}class K3e extends Iq{constructor(e){super(e);const t=n=>{if(n.statusCode===404){const a=new V0(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(n);const r=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=_D({getResponseHeader:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=xD(r)};if(this._request=null,this._url.protocol==="http:"){const n=Al.get("http");this._request=n.request(D4(this._url,e.httpHeaders),t)}else{const n=Al.get("https");this._request=n.request(D4(this._url,e.httpHeaders),t)}this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}}class Y3e extends Lq{constructor(e,t,n){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const o=e.httpHeaders[s];o!==void 0&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const r=s=>{if(s.statusCode===404){const o=new V0(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=Al.get("http");this._request=s.request(D4(this._url,this._httpHeaders),r)}else{const s=Al.get("https");this._request=s.request(D4(this._url,this._httpHeaders),r)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class J3e extends Iq{constructor(e){super(e);let t=decodeURIComponent(this._url.path);Pq.test(this._url.href)&&(t=t.replace(/^\//,""));const n=Al.get("fs");n.promises.lstat(t).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(t)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new V0(`Missing PDF "${t}".`)),this._storedError=r,this._headersCapability.reject(r)})}}class q3e extends Lq{constructor(e,t,n){super(e);let r=decodeURIComponent(this._url.path);Pq.test(this._url.href)&&(r=r.replace(/^\//,""));const s=Al.get("fs");this._setReadableStream(s.createReadStream(r,{start:t,end:n-1}))}}const Z3e=1e5,os=30,Q3e=.8;var rj,Uu,us,I_,L_,vf,ic,D_,B_,yf,e2,t2,zu,n2,F_,i2,_f,O_,k_,gi,xf,Af,ju,r2,xb,Dq,Ab,Bq,N_,mP,s2,FS,wb,Fq,Sb,Oq;let B4=(gi=class{constructor({textContentSource:e,container:t,viewport:n}){F(this,xb);F(this,Ab);F(this,N_);F(this,Uu,Promise.withResolvers());F(this,us,null);F(this,I_,!1);F(this,L_,!!((rj=globalThis.FontInspector)!=null&&rj.enabled));F(this,vf,null);F(this,ic,null);F(this,D_,0);F(this,B_,0);F(this,yf,null);F(this,e2,null);F(this,t2,0);F(this,zu,0);F(this,n2,Object.create(null));F(this,F_,[]);F(this,i2,null);F(this,_f,[]);F(this,O_,new WeakMap);F(this,k_,null);var l;if(e instanceof ReadableStream)z(this,i2,e);else if(typeof e=="object")z(this,i2,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');z(this,us,z(this,e2,t)),z(this,zu,n.scale*(globalThis.devicePixelRatio||1)),z(this,t2,n.rotation),z(this,ic,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:o,pageY:a}=n.rawDims;z(this,k_,[1,0,0,-1,-o,a+s]),z(this,B_,r),z(this,D_,s),j(l=gi,wb,Fq).call(l),T0(t,n),x(this,Uu).promise.catch(()=>{}).then(()=>{x(gi,r2).delete(this),z(this,ic,null),z(this,n2,null)})}render(){const e=()=>{x(this,yf).read().then(({value:t,done:n})=>{if(n){x(this,Uu).resolve();return}x(this,vf)??z(this,vf,t.lang),Object.assign(x(this,n2),t.styles),j(this,xb,Dq).call(this,t.items),e()},x(this,Uu).reject)};return z(this,yf,x(this,i2).getReader()),x(gi,r2).add(this),e(),x(this,Uu).promise}update({viewport:e,onBefore:t=null}){var s;const n=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==x(this,t2)&&(t==null||t(),z(this,t2,r),T0(x(this,e2),{rotation:r})),n!==x(this,zu)){t==null||t(),z(this,zu,n);const o={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:j(s=gi,s2,FS).call(s,x(this,vf))};for(const a of x(this,_f))o.properties=x(this,O_).get(a),o.div=a,j(this,N_,mP).call(this,o)}}cancel(){var t;const e=new W0("TextLayer task cancelled.");(t=x(this,yf))==null||t.cancel(e).catch(()=>{}),z(this,yf,null),x(this,Uu).reject(e)}get textDivs(){return x(this,_f)}get textContentItemsStr(){return x(this,F_)}static cleanup(){if(!(x(this,r2).size>0)){x(this,xf).clear();for(const{canvas:e}of x(this,Af).values())e.remove();x(this,Af).clear()}}},Uu=new WeakMap,us=new WeakMap,I_=new WeakMap,L_=new WeakMap,vf=new WeakMap,ic=new WeakMap,D_=new WeakMap,B_=new WeakMap,yf=new WeakMap,e2=new WeakMap,t2=new WeakMap,zu=new WeakMap,n2=new WeakMap,F_=new WeakMap,i2=new WeakMap,_f=new WeakMap,O_=new WeakMap,k_=new WeakMap,xf=new WeakMap,Af=new WeakMap,ju=new WeakMap,r2=new WeakMap,xb=new WeakSet,Dq=function(e){var r,s;if(x(this,I_))return;(s=x(this,ic)).ctx??(s.ctx=j(r=gi,s2,FS).call(r,x(this,vf)));const t=x(this,_f),n=x(this,F_);for(const o of e){if(t.length>Z3e){Nt("Ignoring additional textDivs for performance reasons."),z(this,I_,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=x(this,us);z(this,us,document.createElement("span")),x(this,us).classList.add("markedContent"),o.id!==null&&x(this,us).setAttribute("id",`${o.id}`),a.append(x(this,us))}else o.type==="endMarkedContent"&&z(this,us,x(this,us).parentNode);continue}n.push(o.str),j(this,Ab,Bq).call(this,o)}},Ab=new WeakSet,Bq=function(e){var y;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};x(this,_f).push(t);const r=lt.transform(x(this,k_),e.transform);let s=Math.atan2(r[1],r[0]);const o=x(this,n2)[e.fontName];o.vertical&&(s+=Math.PI/2);const a=x(this,L_)&&o.fontSubstitution||o.fontFamily,l=Math.hypot(r[2],r[3]),c=l*j(y=gi,Sb,Oq).call(y,a,x(this,vf));let u,h;s===0?(u=r[4],h=r[5]-c):(u=r[4]+c*Math.sin(s),h=r[5]-c*Math.cos(s));const d="calc(var(--scale-factor)*",m=t.style;x(this,us)===x(this,e2)?(m.left=`${(100*u/x(this,B_)).toFixed(2)}%`,m.top=`${(100*h/x(this,D_)).toFixed(2)}%`):(m.left=`${d}${u.toFixed(2)}px)`,m.top=`${d}${h.toFixed(2)}px)`),m.fontSize=`${d}${(x(gi,ju)*l).toFixed(2)}px)`,m.fontFamily=a,n.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,x(this,L_)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const _=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);_!==v&&Math.max(_,v)/Math.min(_,v)>1.5&&(g=!0)}if(g&&(n.canvasWidth=o.vertical?e.height:e.width),x(this,O_).set(t,n),x(this,ic).div=t,x(this,ic).properties=n,j(this,N_,mP).call(this,x(this,ic)),n.hasText&&x(this,us).append(t),n.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),x(this,us).append(_)}},N_=new WeakSet,mP=function(e){const{div:t,properties:n,ctx:r,prevFontSize:s,prevFontFamily:o}=e,{style:a}=t;let l="";if(x(gi,ju)>1&&(l=`scale(${1/x(gi,ju)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:c}=a,{canvasWidth:u,fontSize:h}=n;(s!==h||o!==c)&&(r.font=`${h*x(this,zu)}px ${c}`,e.prevFontSize=h,e.prevFontFamily=c);const{width:d}=r.measureText(t.textContent);d>0&&(l=`scaleX(${u*x(this,zu)/d}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(a.transform=l)},s2=new WeakSet,FS=function(e=null){let t=x(this,Af).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),x(this,Af).set(e,t)}return t},wb=new WeakSet,Fq=function(){if(x(this,ju)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),z(this,ju,e.getBoundingClientRect().height),e.remove()},Sb=new WeakSet,Oq=function(e,t){const n=x(this,xf).get(e);if(n)return n;const r=j(this,s2,FS).call(this,t),s=r.font;r.canvas.width=r.canvas.height=os,r.font=`${os}px ${e}`;const o=r.measureText("");let a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);if(a){const h=a/(a+l);return x(this,xf).set(e,h),r.canvas.width=r.canvas.height=0,r.font=s,h}r.strokeStyle="red",r.clearRect(0,0,os,os),r.strokeText("g",0,0);let c=r.getImageData(0,0,os,os).data;l=0;for(let h=c.length-1-3;h>=0;h-=4)if(c[h]>0){l=Math.ceil(h/4/os);break}r.clearRect(0,0,os,os),r.strokeText("A",0,os),c=r.getImageData(0,0,os,os).data,a=0;for(let h=0,d=c.length;h<d;h+=4)if(c[h]>0){a=os-Math.floor(h/4/os);break}r.canvas.width=r.canvas.height=0,r.font=s;const u=a?a/(a+l):Q3e;return x(this,xf).set(e,u),u},F(gi,s2),F(gi,wb),F(gi,Sb),F(gi,xf,new Map),F(gi,Af,new Map),F(gi,ju,null),F(gi,r2,new Set),gi);function $3e(){YJ("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:i,container:e,viewport:t,...n}=arguments[0],r=Object.keys(n);r.length>0&&Nt("Ignoring `renderTextLayer` parameters: "+r.join(", "));const s=new B4({textContentSource:i,container:e,viewport:t}),{textDivs:o,textContentItemsStr:a}=s;return{promise:s.render(),textDivs:o,textContentItemsStr:a}}function exe(){YJ("`updateTextLayer`, please use `TextLayer` instead.")}class Iy{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function r(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(Iy.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const c of s.children)r(c)}return r(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const txe=65536,nxe=100,ixe=5e3,rxe=Lr?m3e:n3e,sxe=Lr?g3e:XJ,oxe=Lr?p3e:t3e,axe=Lr?v3e:KJ;function lxe(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const e=new gP,{docId:t}=e,n=i.url?cxe(i.url):null,r=i.data?uxe(i.data):null,s=i.httpHeaders||null,o=i.withCredentials===!0,a=i.password??null,l=i.range instanceof kq?i.range:null,c=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:txe;let u=i.worker instanceof Rm?i.worker:null;const h=i.verbosity,d=typeof i.docBaseUrl=="string"&&!mD(i.docBaseUrl)?i.docBaseUrl:null,m=typeof i.cMapUrl=="string"?i.cMapUrl:null,g=i.cMapPacked!==!1,y=i.CMapReaderFactory||sxe,_=typeof i.standardFontDataUrl=="string"?i.standardFontDataUrl:null,v=i.StandardFontDataFactory||axe,A=i.stopAtErrors!==!0,w=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,C=i.isEvalSupported!==!1,T=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!Lr,E=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,R=typeof i.disableFontFace=="boolean"?i.disableFontFace:Lr,D=i.fontExtraProperties===!0,I=i.enableXfa===!0,L=i.ownerDocument||globalThis.document,O=i.disableRange===!0,X=i.disableStream===!0,W=i.disableAutoFetch===!0,q=i.pdfBug===!0,$=i.enableHWA===!0,Q=l?l.length:i.length??NaN,ee=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!Lr&&!R,k=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:y===XJ&&v===KJ&&m&&_&&K1(m,document.baseURI)&&K1(_,document.baseURI),Z=i.canvasFactory||new rxe({ownerDocument:L,enableHWA:$}),K=i.filterFactory||new oxe({docId:t,ownerDocument:L}),ne=null;V_e(h);const le={canvasFactory:Z,filterFactory:K};if(k||(le.cMapReaderFactory=new y({baseUrl:m,isCompressed:g}),le.standardFontDataFactory=new v({baseUrl:_})),!u){const pe={verbosity:h,port:Nc.workerPort};u=pe.port?Rm.fromPort(pe):new Rm(pe),e._worker=u}const ye={docId:t,apiVersion:"4.4.168",data:r,password:a,disableAutoFetch:W,rangeChunkSize:c,length:Q,docBaseUrl:d,enableXfa:I,evaluatorOptions:{maxImageSize:w,disableFontFace:R,ignoreErrors:A,isEvalSupported:C,isOffscreenCanvasSupported:T,canvasMaxAreaInBytes:E,fontExtraProperties:D,useSystemFonts:ee,cMapUrl:k?m:null,standardFontDataUrl:k?_:null}},re={disableFontFace:R,fontExtraProperties:D,ownerDocument:L,pdfBug:q,styleElement:ne,loadingParams:{disableAutoFetch:W,enableXfa:I}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const pe=u.messageHandler.sendWithPromise("GetDocRequest",ye,r?[r.buffer]:null);let Me;if(l)Me=new B3e(l,{disableRange:O,disableStream:X});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");Me=(We=>Lr?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&K1(We.url)?new Vz(We):new X3e(We):K1(We.url)?new Vz(We):new H3e(We))({url:n,length:Q,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:O,disableStream:X})}return pe.then(xe=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const We=new q1(t,xe,u.port),rt=new pxe(We,e,Me,re,le);e._transport=rt,We.send("Ready",null)})}).catch(e._capability.reject),e}function cxe(i){if(i instanceof URL)return i.href;try{return new URL(i,window.location).href}catch{if(Lr&&typeof i=="string")return i}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function uxe(i){if(Lr&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return nE(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i==null?void 0:i.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Wz(i){return typeof i=="object"&&Number.isInteger(i==null?void 0:i.num)&&i.num>=0&&Number.isInteger(i==null?void 0:i.gen)&&i.gen>=0}var bb;const Cb=class Cb{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Ps(Cb,bb)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,n;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(r){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};bb=new WeakMap,F(Cb,bb,0);let gP=Cb,kq=class{constructor(e,t,n=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){fn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class hxe{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Jt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Hu,rc,Gu,zp,o2,OS;class dxe{constructor(e,t,n,r=!1){F(this,Gu);F(this,o2);F(this,Hu,null);F(this,rc,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new Iz:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new Nq,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:s=!1}={}){return new Mx({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Jt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:r=Ru.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null}){var w,C;(w=this._stats)==null||w.time("Overall");const h=this._transport.getRenderingIntent(n,r,u),{renderingIntent:d,cacheKey:m}=h;z(this,rc,!1),j(this,o2,OS).call(this),a||(a=this._transport.getOptionalContentConfig(d));let g=this._intentStates.get(m);g||(g=Object.create(null),this._intentStates.set(m,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const y=!!(d&To.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(C=this._stats)==null||C.time("Page Request"),this._pumpOperatorList(h));const _=T=>{var E;g.renderTasks.delete(v),(this._maybeCleanupAfterRender||y)&&z(this,rc,!0),j(this,Gu,zp).call(this,!y),T?(v.capability.reject(T),this._abortOperatorList({intentState:g,reason:T instanceof Error?T:new Error(T)})):v.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(E=globalThis.Stats)!=null&&E.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},v=new yP({callback:_,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:c});(g.renderTasks||(g.renderTasks=new Set)).add(v);const A=v.task;return Promise.all([g.displayReadyCapability.promise,a]).then(([T,E])=>{var R;if(this.destroyed){_();return}if((R=this._stats)==null||R.time("Rendering"),!(E.renderingIntent&d))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");v.initializeGraphics({transparency:T,optionalContentConfig:E}),v.operatorListChanged()}).catch(_),A}getOperatorList({intent:e="display",annotationMode:t=Ru.ENABLE,printAnnotationStorage:n=null}={}){var l;function r(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))}const s=this._transport.getRenderingIntent(e,t,n,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let a;return o.opListReadCapability||(a=Object.create(null),a.operatorListChanged=r,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Iy.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,r){function s(){o.read().then(function({value:l,done:c}){if(c){n(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},r)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),z(this,rc,!1),j(this,o2,OS).call(this),Promise.all(e)}cleanup(e=!1){z(this,rc,!0);const t=j(this,Gu,zp).call(this,!1);return e&&t&&this._stats&&(this._stats=new Iz),t}_startRenderPage(e,t){var r,s;const n=this._intentStates.get(t);n&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=n.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&j(this,Gu,zp).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n}){const{map:r,transfer:s}=n,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r},s).getReader(),l=this._intentStates.get(t);l.streamReader=a;const c=()=>{a.read().then(({value:u,done:h})=>{if(h){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(u,l),c())},u=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const h of l.renderTasks)h.operatorListChanged();j(this,Gu,zp).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(u);else if(l.opListReadCapability)l.opListReadCapability.reject(u);else throw u}})};c()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof pD){let r=nxe;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new W0(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Hu=new WeakMap,rc=new WeakMap,Gu=new WeakSet,zp=function(e=!1){if(j(this,o2,OS).call(this),!x(this,rc)||this.destroyed)return!1;if(e)return z(this,Hu,setTimeout(()=>{z(this,Hu,null),j(this,Gu,zp).call(this,!1)},ixe)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),z(this,rc,!1),!0},o2=new WeakSet,OS=function(){x(this,Hu)&&(clearTimeout(x(this,Hu)),z(this,Hu,null))};var wf,Mb;class fxe{constructor(){F(this,wf,new Set);F(this,Mb,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};x(this,Mb).then(()=>{for(const r of x(this,wf))r.call(this,n)})}addEventListener(e,t){x(this,wf).add(t)}removeEventListener(e,t){x(this,wf).delete(t)}terminate(){x(this,wf).clear()}}wf=new WeakMap,Mb=new WeakMap;const Yl={isWorkerDisabled:!1,fakeWorkerId:0};Lr&&(Yl.isWorkerDisabled=!0,Nc.workerSrc||(Nc.workerSrc="./pdf.worker.mjs")),Yl.isSameOrigin=function(i,e){let t;try{if(t=new URL(i),!t.origin||t.origin==="null")return!1}catch{return!1}const n=new URL(e,t);return t.origin===n.origin},Yl.createCDNWrapper=function(i){const e=`await import("${i}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var Sf,a2,kS,l2,NS;const Bs=class Bs{constructor({name:e=null,port:t=null,verbosity:n=W_e()}={}){F(this,a2);var r;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((r=x(Bs,Sf))!=null&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(x(Bs,Sf)||z(Bs,Sf,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Lr?Promise.all([Al.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new q1("main","worker",e),this._messageHandler.on("ready",function(){}),j(this,a2,kS).call(this)}_initialize(){if(Yl.isWorkerDisabled||x(Bs,l2,NS)){this._setupFakeWorker();return}let{workerSrc:e}=Bs;try{Yl.isSameOrigin(window.location.href,e)||(e=Yl.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new q1("main","worker",t),r=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||r()},{signal:s.signal}),n.on("test",a=>{if(s.abort(),this.destroyed||!a){r();return}this._messageHandler=n,this._port=t,this._webWorker=t,j(this,a2,kS).call(this)}),n.on("ready",a=>{if(s.abort(),this.destroyed){r();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;n.send("test",a,[a.buffer])};o();return}catch{eE("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Yl.isWorkerDisabled||(Nt("Setting up fake worker."),Yl.isWorkerDisabled=!0),Bs._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new fxe;this._port=t;const n=`fake${Yl.fakeWorkerId++}`,r=new q1(n+"_worker",n,t);e.setup(r,t),this._messageHandler=new q1(n,n+"_worker",t),j(this,a2,kS).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=x(Bs,Sf))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(n=x(this,Sf))==null?void 0:n.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Bs(e)}static get workerSrc(){if(Nc.workerSrc)return Nc.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Jt(this,"_setupFakeWorkerGlobal",(async()=>x(this,l2,NS)?x(this,l2,NS):(await import(this.workerSrc)).WorkerMessageHandler)())}};Sf=new WeakMap,a2=new WeakSet,kS=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},l2=new WeakSet,NS=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},F(Bs,l2),F(Bs,Sf,void 0);let Rm=Bs;var sc,Ja,c2,u2,qa,bf,Z1;class pxe{constructor(e,t,n,r,s){F(this,bf);F(this,sc,new Map);F(this,Ja,new Map);F(this,c2,new Map);F(this,u2,new Map);F(this,qa,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Nq,this.fontLoader=new d3e({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Jt(this,"annotationStorage",new yD)}getRenderingIntent(e,t=Ru.ENABLE,n=null,r=!1){let s=To.DISPLAY,o=lP;switch(e){case"any":s=To.ANY;break;case"display":break;case"print":s=To.PRINT;break;default:Nt(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case Ru.DISABLE:s+=To.ANNOTATIONS_DISABLE;break;case Ru.ENABLE:break;case Ru.ENABLE_FORMS:s+=To.ANNOTATIONS_FORMS;break;case Ru.ENABLE_STORAGE:s+=To.ANNOTATIONS_STORAGE,o=(s&To.PRINT&&n instanceof wq?n:this.annotationStorage).serializable;break;default:Nt(`getRenderingIntent - invalid annotationMode: ${t}`)}return r&&(s+=To.OPLIST),{renderingIntent:s,cacheKey:`${s}_${o.hash}`,annotationStorageSerializable:o}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=x(this,qa))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of x(this,Ja).values())e.push(r._destroy());x(this,Ja).clear(),x(this,c2).clear(),x(this,u2).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),x(this,sc).clear(),this.filterFactory.destroy(),B4.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new W0("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,r)=>{Ei(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}Ei(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",n=>{const r=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var o;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),s.onProgress=a=>{var l;(l=t.onProgress)==null||l.call(t,{loaded:a.loaded,total:a.total})}),r.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},r.reject),r.promise}),e.on("GetRangeReader",(n,r)=>{Ei(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){r.close();return}Ei(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new hxe(n,this))}),e.on("DocException",function(n){let r;switch(n.name){case"PasswordException":r=new UR(n.message,n.code);break;case"InvalidPDFException":r=new HJ(n.message);break;case"MissingPDFException":r=new V0(n.message);break;case"UnexpectedResponseException":r=new tE(n.message,n.status);break;case"UnknownErrorException":r=new zR(n.message,n.details);break;default:fn("DocException - expected a valid Error.")}t._capability.reject(r)}),e.on("PasswordRequest",n=>{if(z(this,qa,Promise.withResolvers()),t.onPassword){const r=s=>{s instanceof Error?x(this,qa).reject(s):x(this,qa).resolve({password:s})};try{t.onPassword(r,n.code)}catch(s){x(this,qa).reject(s)}}else x(this,qa).reject(new UR(n.message,n.code));return x(this,qa).promise}),e.on("DataLoaded",n=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;x(this,Ja).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,r,s])=>{var o;if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in s){const m=s.error;Nt(`Error during font loading: ${m}`),this.commonObjs.resolve(n,m);break}const u=c&&((o=globalThis.FontInspector)!=null&&o.enabled)?(m,g)=>globalThis.FontInspector.fontAdded(m,g):null,h=new f3e(s,{disableFontFace:a,inspectFont:u});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!l&&h.data&&(h.data=null),this.commonObjs.resolve(n,h)});break;case"CopyLocalImage":const{imageRef:d}=s;Ei(d,"The imageRef must be defined.");for(const m of x(this,Ja).values())for(const[,g]of m.objs)if((g==null?void 0:g.ref)===d)return g.dataLen?(this.commonObjs.resolve(n,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([n,r,s,o])=>{var l;if(this.destroyed)return;const a=x(this,Ja).get(r);if(!a.objs.has(n)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":a.objs.resolve(n,o),(o==null?void 0:o.dataLen)>z_e&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(n,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Nt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=x(this,c2).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&x(this,u2).set(s.refStr,e);const o=new dxe(t,s,this,this._params.pdfBug);return x(this,Ja).set(t,o),o});return x(this,c2).set(t,r),r}getPageIndex(e){return Wz(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return j(this,bf,Z1).call(this,"GetFieldObjects")}hasJSActions(){return j(this,bf,Z1).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return j(this,bf,Z1).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return j(this,bf,Z1).call(this,"GetOptionalContentConfig").then(t=>new D3e(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=x(this,sc).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,o;return{info:r[0],metadata:r[1]?new I3e(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return x(this,sc).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of x(this,Ja).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),x(this,sc).clear(),this.filterFactory.destroy(!0),B4.cleanup()}}cachedPageNumber(e){if(!Wz(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return x(this,u2).get(t)??null}}sc=new WeakMap,Ja=new WeakMap,c2=new WeakMap,u2=new WeakMap,qa=new WeakMap,bf=new WeakSet,Z1=function(e,t=null){const n=x(this,sc).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return x(this,sc).set(e,r),r};const nS=Symbol("INITIAL_DATA");var ca,U_,vP;class Nq{constructor(){F(this,U_);F(this,ca,Object.create(null))}get(e,t=null){if(t){const r=j(this,U_,vP).call(this,e);return r.promise.then(()=>t(r.data)),null}const n=x(this,ca)[e];if(!n||n.data===nS)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=x(this,ca)[e];return!!t&&t.data!==nS}resolve(e,t=null){const n=j(this,U_,vP).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in x(this,ca)){const{data:n}=x(this,ca)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}z(this,ca,Object.create(null))}*[Symbol.iterator](){for(const e in x(this,ca)){const{data:t}=x(this,ca)[e];t!==nS&&(yield[e,t])}}}ca=new WeakMap,U_=new WeakSet,vP=function(e){var t;return(t=x(this,ca))[e]||(t[e]={...Promise.withResolvers(),data:nS})};var Vu;class mxe{constructor(e){F(this,Vu,null);z(this,Vu,e),this.onContinue=null}get promise(){return x(this,Vu).capability.promise}cancel(e=0){x(this,Vu).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=x(this,Vu).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=x(this,Vu);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Vu=new WeakMap;var Wu,Cf;const Bd=class Bd{constructor({callback:e,params:t,objs:n,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:h=!1,pageColors:d=null}){F(this,Wu,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new mxe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(x(Bd,Cf).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");x(Bd,Cf).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:s,background:o}=this.params;this.gfx=new Tm(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),x(this,Wu)&&(window.cancelAnimationFrame(x(this,Wu)),z(this,Wu,null)),x(Bd,Cf).delete(this._canvas),this.callback(e||new pD(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?z(this,Wu,window.requestAnimationFrame(()=>{z(this,Wu,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),x(Bd,Cf).delete(this._canvas),this.callback())))}};Wu=new WeakMap,Cf=new WeakMap,F(Bd,Cf,new WeakSet);let yP=Bd;const gxe="4.4.168",vxe="19fbc8998";function Xz(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function L1(i){return Math.max(0,Math.min(255,255*i))}class Kz{static CMYK_G([e,t,n,r]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=L1(e),[e,e,e]}static G_HTML([e]){const t=Xz(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(L1)}static RGB_HTML(e){return`#${e.map(Xz).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,n+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,n,r]){return[L1(1-Math.min(1,e+r)),L1(1-Math.min(1,n+r)),L1(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const r=1-e,s=1-t,o=1-n,a=Math.min(r,s,o);return["CMYK",r,s,o,a]}}class Uq{static setupStorage(e,t,n,r,s){const o=r.getValue(t,{value:null});switch(n.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(o.value===n.attributes.xfaOn?e.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{r.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of n.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:r,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),n&&o.dataId&&this.setupStorage(e,o.dataId,t,n)}static render(e){var h,d;const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,s=e.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:n});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=m}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(r.children.length===0){if(r.value){const m=document.createTextNode(r.value);o.append(m),a&&Iy.shouldBuildText(r.name)&&c.push(m)}return{textDivs:c}}const u=[[r,-1,o]];for(;u.length>0;){const[m,g,y]=u.at(-1);if(g+1===m.children.length){u.pop();continue}const _=m.children[++u.at(-1)[1]];if(_===null)continue;const{name:v}=_;if(v==="#text"){const w=document.createTextNode(_.value);c.push(w),y.append(w);continue}const A=(h=_==null?void 0:_.attributes)!=null&&h.xmlns?document.createElementNS(_.attributes.xmlns,v):document.createElement(v);if(y.append(A),_.attributes&&this.setAttributes({html:A,element:_,storage:t,intent:s,linkService:n}),((d=_.children)==null?void 0:d.length)>0)u.push([_,-1,A]);else if(_.value){const w=document.createTextNode(_.value);a&&Iy.shouldBuildText(v)&&c.push(w),A.append(w)}}for(const m of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Rx=1e3,yxe=9,P0=new WeakSet;function Uc(i){return{width:i[2]-i[0],height:i[3]-i[1]}}class _xe{static create(e){switch(e.data.annotationType){case Ai.LINK:return new zq(e);case Ai.TEXT:return new xxe(e);case Ai.WIDGET:switch(e.data.fieldType){case"Tx":return new Axe(e);case"Btn":return e.data.radioButton?new Gq(e):e.data.checkBox?new Sxe(e):new bxe(e);case"Ch":return new Cxe(e);case"Sig":return new wxe(e)}return new X0(e);case Ai.POPUP:return new xP(e);case Ai.FREETEXT:return new Yq(e);case Ai.LINE:return new Exe(e);case Ai.SQUARE:return new Txe(e);case Ai.CIRCLE:return new Rxe(e);case Ai.POLYLINE:return new Jq(e);case Ai.CARET:return new Ixe(e);case Ai.INK:return new qq(e);case Ai.POLYGON:return new Pxe(e);case Ai.HIGHLIGHT:return new Lxe(e);case Ai.UNDERLINE:return new Dxe(e);case Ai.SQUIGGLY:return new Bxe(e);case Ai.STRIKEOUT:return new Fxe(e);case Ai.STAMP:return new Zq(e);case Ai.FILEATTACHMENT:return new Oxe(e);default:return new ui(e)}}}var Mf,h2,d2,z_,_P;const CD=class CD{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){F(this,z_);F(this,Mf,null);F(this,h2,!1);F(this,d2,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e!=null&&e.str||t!=null&&t.str||n!=null&&n.str)}get hasPopupData(){return CD._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;x(this,Mf)||z(this,Mf,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&j(this,z_,_P).call(this,t),(n=x(this,d2))==null||n.popup.updateEdited(e)}resetEdited(){var e;x(this,Mf)&&(j(this,z_,_P).call(this,x(this,Mf).rect),(e=x(this,d2))==null||e.popup.resetEdited(),z(this,Mf,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof X0||(s.tabIndex=Rx);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof xP){const{rotation:y}=t;return!t.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:a,height:l}=Uc(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const y=t.borderStyle.horizontalCornerRadius,_=t.borderStyle.verticalCornerRadius;if(y>0||_>0){const A=`calc(${y}px * var(--scale-factor)) / calc(${_}px * var(--scale-factor))`;o.borderRadius=A}else if(this instanceof Gq){const A=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=A}switch(t.borderStyle.style){case P1.SOLID:o.borderStyle="solid";break;case P1.DASHED:o.borderStyle="dashed";break;case P1.BEVELED:Nt("Unimplemented border style: beveled");break;case P1.INSET:Nt("Unimplemented border style: inset");break;case P1.UNDERLINE:o.borderBottomStyle="solid";break}const v=t.borderColor||null;v?(z(this,h2,!0),o.borderColor=lt.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):o.borderWidth=0}const c=lt.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:u,pageHeight:h,pageX:d,pageY:m}=r.rawDims;o.left=`${100*(c[0]-d)/u}%`,o.top=`${100*(c[1]-m)/h}%`;const{rotation:g}=t;return t.hasOwnCanvas||g===0?(o.width=`${100*a/u}%`,o.height=`${100*l/h}%`):this.setRotation(g,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:o}=Uc(this.data.rect);let a,l;e%180===0?(a=100*s/n,l=100*o/r):(a=100*o/n,l=100*s/r),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,r)=>{const s=r.detail[t],o=s[0],a=s.slice(1);r.target.style[n]=Kz[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[n]:Kz[`${o}_rgb`](a)})};return Jt(this,"_commonActions",{display:t=>{const{display:n}=t.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||n[r];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,s]of Object.entries(t)){const o=n[r];if(o){const a={detail:{[r]:s},target:e};o(a),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,s]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,_,v,A]=e.subarray(2,6);if(r===y&&s===_&&t===v&&n===A)return}const{style:o}=this.container;let a;if(x(this,h2)){const{borderColor:y,borderWidth:_}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${_}">`],this.container.classList.add("hasBorder")}const l=r-t,c=s-n,{svgFactory:u}=this,h=u.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const d=u.createElement("defs");h.append(d);const m=u.createElement("clipPath"),g=`clippath_${this.data.id}`;m.setAttribute("id",g),m.setAttribute("clipPathUnits","objectBoundingBox"),d.append(m);for(let y=2,_=e.length;y<_;y+=8){const v=e[y],A=e[y+1],w=e[y+2],C=e[y+3],T=u.createElement("rect"),E=(w-t)/l,R=(s-A)/c,D=(v-w)/l,I=(A-C)/c;T.setAttribute("x",E),T.setAttribute("y",R),T.setAttribute("width",D),T.setAttribute("height",I),m.append(T),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${E}" y="${R}" width="${D}" height="${I}"/>`)}x(this,h2)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(h),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const n=z(this,d2,new xP({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){fn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:o,exportValues:a}of r){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!P0.has(c)){Nt(`_getElementsByName - element not allowed: ${o}`);continue}n.push({id:o,exportValue:l,domElement:c})}return n}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==t&&P0.has(r)&&n.push({id:o,exportValue:s,domElement:r})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Mf=new WeakMap,h2=new WeakMap,d2=new WeakMap,z_=new WeakSet,_P=function(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;n==null||n.splice(0,4,...e);const{width:c,height:u}=Uc(e);t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,r===0?(t.width=`${100*c/s}%`,t.height=`${100*u/o}%`):this.setRotation(r)};let ui=CD;var oc,Rd,Eb,jq,Tb,Hq;class zq extends ui{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});F(this,oc);F(this,Eb);F(this,Tb);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let s=!1;return t.url?(n.addLinkAttributes(r,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(r,t.action),s=!0):t.attachment?(j(this,Eb,jq).call(this,r,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(j(this,Tb,Hq).call(this,r,t.setOCGState),s=!0):t.dest?(this._bindLink(r,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),s=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(r),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&j(this,oc,Rd).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),j(this,oc,Rd).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(n.actions)){const o=r.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),j(this,oc,Rd).call(this)}_bindResetFormAction(t,n){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),j(this,oc,Rd).call(this),!this._fieldObjects){Nt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var h;r==null||r();const{fields:s,refs:o,include:a}=n,l=[];if(s.length!==0||o.length!==0){const d=new Set(o);for(const m of s){const g=this._fieldObjects[m]||[];for(const{id:y}of g)d.add(y)}for(const m of Object.values(this._fieldObjects))for(const g of m)d.has(g.id)===a&&l.push(g)}else for(const d of Object.values(this._fieldObjects))l.push(...d);const c=this.annotationStorage,u=[];for(const d of l){const{id:m}=d;switch(u.push(m),d.type){case"text":{const y=d.defaultValue||"";c.setValue(m,{value:y});break}case"checkbox":case"radiobutton":{const y=d.defaultValue===d.exportValues;c.setValue(m,{value:y});break}case"combobox":case"listbox":{const y=d.defaultValue||"";c.setValue(m,{value:y});break}default:continue}const g=document.querySelector(`[data-element-id="${m}"]`);if(g){if(!P0.has(g)){Nt(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}oc=new WeakSet,Rd=function(){this.container.setAttribute("data-internal-link","")},Eb=new WeakSet,jq=function(t,n,r=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(n.content,n.filename,r),!1},j(this,oc,Rd).call(this)},Tb=new WeakSet,Hq=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),j(this,oc,Rd).call(this)};class xxe extends ui{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class X0 extends ui{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return ms.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,s){n.includes("mouse")?e.addEventListener(n,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(n,o=>{var a;if(n==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}}))})}_setEventListeners(e,t,n,r){var s,o,a;for(const[l,c]of n)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,r),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":lt.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||yxe,s=e.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),u=Math.round(c/(AT*r))||1,h=c/u;o=Math.min(r,l(h/AT))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(r,l(c/AT))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=lt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Axe extends X0{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,r){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=n),s.setValue(o.id,{[r]:n})}render(){var r,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=o.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??a,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",c??a),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),P0.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=Rx,this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",d=>{e.setValue(t,{value:d.target.value}),this.setPropertyOnSiblings(n,"value",d.target.value,"value"),u.formattedValue=null}),n.addEventListener("resetform",d=>{const m=this.data.defaultFieldValue??"";n.value=u.userValue=m,u.formattedValue=null});let h=d=>{const{formattedValue:m}=u;m!=null&&(d.target.value=m),d.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",m=>{var y;if(u.focused)return;const{target:g}=m;u.userValue&&(g.value=u.userValue),u.lastCommittedValue=g.value,u.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(u.focused=!0)}),n.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const g={value(y){u.userValue=y.detail.value??"",e.setValue(t,{value:u.userValue.toString()}),y.target.value=u.userValue},formattedValue(y){const{formattedValue:_}=y.detail;u.formattedValue=_,_!=null&&y.target!==document.activeElement&&(y.target.value=_),e.setValue(t,{formattedValue:_})},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{var w;const{charLimit:_}=y.detail,{target:v}=y;if(_===0){v.removeAttribute("maxLength");return}v.setAttribute("maxLength",_);let A=u.userValue;!A||A.length<=_||(A=A.slice(0,_),v.value=u.userValue=A,e.setValue(t,{value:A}),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:1,selStart:v.selectionStart,selEnd:v.selectionEnd}}))}};this._dispatchEventFromSandbox(g,m)}),n.addEventListener("keydown",m=>{var _;u.commitKey=1;let g=-1;if(m.key==="Escape"?g=0:m.key==="Enter"&&!this.data.multiLine?g=2:m.key==="Tab"&&(u.commitKey=3),g===-1)return;const{value:y}=m.target;u.lastCommittedValue!==y&&(u.lastCommittedValue=y,u.userValue=y,(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:g,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const d=h;h=null,n.addEventListener("blur",m=>{var y,_;if(!u.focused||!m.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(u.focused=!1);const{value:g}=m.target;u.userValue=g,u.lastCommittedValue!==g&&((_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:u.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}})),d(m)}),(s=this.data.actions)!=null&&s.Keystroke&&n.addEventListener("beforeinput",m=>{var T;u.lastCommittedValue=null;const{data:g,target:y}=m,{value:_,selectionStart:v,selectionEnd:A}=y;let w=v,C=A;switch(m.inputType){case"deleteWordBackward":{const E=_.substring(0,v).match(/\w*[^\w]*$/);E&&(w-=E[0].length);break}case"deleteWordForward":{const E=_.substring(v).match(/^[^\w]*\w*/);E&&(C+=E[0].length);break}case"deleteContentBackward":v===A&&(w-=1);break;case"deleteContentForward":v===A&&(C+=1);break}m.preventDefault(),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,change:g||"",willCommit:!1,selStart:w,selEnd:C}})}),this._setEventListeners(n,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(h&&n.addEventListener("blur",h),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${m}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class wxe extends X0{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Sxe extends X0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return P0.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=Rx,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,n)){const u=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(n,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Gq extends X0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const o of this._getElementsByName(t.fieldName,n))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(P0.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=Rx,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,n))e.setValue(c.id,{value:!1});e.setValue(n,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const u=o===c.detail.value;for(const h of this._getElementsByName(c.target.name)){const d=u&&h.id===n;h.domElement&&(h.domElement.checked=d),e.setValue(h.id,{value:d})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class bxe extends zq{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class Cxe extends X0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");P0.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Rx;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",u=>{const h=this.data.defaultFieldValue;for(const d of r.options)d.selected=d.value===h});for(const u of this.data.options){const h=document.createElement("option");h.textContent=u.displayValue,h.value=u.exportValue,n.value.includes(u.exportValue)&&(h.setAttribute("selected",!0),s=!1),r.append(h)}let o=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),r.prepend(u),o=()=>{u.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const a=u=>{const h=u?"value":"textContent",{options:d,multiple:m}=r;return m?Array.prototype.filter.call(d,g=>g.selected).map(g=>g[h]):d.selectedIndex===-1?null:d[d.selectedIndex][h]};let l=a(!1);const c=u=>{const h=u.target.options;return Array.prototype.map.call(h,d=>({displayValue:d.textContent,exportValue:d.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",u=>{const h={value(d){o==null||o();const m=d.detail.value,g=new Set(Array.isArray(m)?m:[m]);for(const y of r.options)y.selected=g.has(y.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(d){r.multiple=!0},remove(d){const m=r.options,g=d.detail.remove;m[g].selected=!1,r.remove(g),m.length>0&&Array.prototype.findIndex.call(m,_=>_.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:a(!0),items:c(d)}),l=a(!1)},clear(d){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(d){const{index:m,displayValue:g,exportValue:y}=d.detail.insert,_=r.children[m],v=document.createElement("option");v.textContent=g,v.value=y,_?_.before(v):r.append(v),e.setValue(t,{value:a(!0),items:c(d)}),l=a(!1)},items(d){const{items:m}=d.detail;for(;r.length!==0;)r.remove(0);for(const g of m){const{displayValue:y,exportValue:_}=g,v=document.createElement("option");v.textContent=y,v.value=_,r.append(v)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(d)}),l=a(!1)},indices(d){const m=new Set(d.detail.indices);for(const g of d.target.options)g.selected=m.has(g.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(d){d.target.disabled=!d.detail.editable}};this._dispatchEventFromSandbox(h,u)}),r.addEventListener("input",u=>{var m;const h=a(!0),d=a(!1);e.setValue(t,{value:h}),u.preventDefault(),(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:d,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):r.addEventListener("input",function(u){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class xP extends ui{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:ui._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new Mxe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${VJ}${n}`).join(",")),this.container}}var f2,Rb,Pb,p2,Ef,qn,ac,Tf,j_,H_,m2,lc,ua,cc,G_,uc,V_,Rf,Pf,g2,US,W_,AP,Ib,Vq,Lb,Wq,Db,Xq,Bb,Kq,v2,zS,y2,jS,X_,wP;class Mxe{constructor({container:e,color:t,elements:n,titleObj:r,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:u,open:h}){F(this,g2);F(this,W_);F(this,Ib);F(this,Lb);F(this,Db);F(this,Bb);F(this,v2);F(this,y2);F(this,X_);F(this,f2,j(this,Db,Xq).bind(this));F(this,Rb,j(this,X_,wP).bind(this));F(this,Pb,j(this,y2,jS).bind(this));F(this,p2,j(this,v2,zS).bind(this));F(this,Ef,null);F(this,qn,null);F(this,ac,null);F(this,Tf,null);F(this,j_,null);F(this,H_,null);F(this,m2,null);F(this,lc,!1);F(this,ua,null);F(this,cc,null);F(this,G_,null);F(this,uc,null);F(this,V_,null);F(this,Rf,null);F(this,Pf,!1);var d;z(this,qn,e),z(this,V_,r),z(this,ac,o),z(this,uc,a),z(this,H_,l),z(this,Ef,t),z(this,G_,c),z(this,m2,u),z(this,j_,n),z(this,Tf,JJ.toDateObject(s)),this.trigger=n.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",x(this,p2)),m.addEventListener("mouseenter",x(this,Pb)),m.addEventListener("mouseleave",x(this,Rb)),m.classList.add("popupTriggerArea");for(const m of n)(d=m.container)==null||d.addEventListener("keydown",x(this,f2));x(this,qn).hidden=!0,h&&j(this,v2,zS).call(this)}render(){if(x(this,ua))return;const e=z(this,ua,document.createElement("div"));if(e.className="popup",x(this,Ef)){const s=e.style.outlineColor=lt.makeHexColor(...x(this,Ef));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=lt.makeHexColor(...x(this,Ef).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=x(this,V_),e.append(t),x(this,Tf)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:x(this,Tf).toLocaleDateString(),time:x(this,Tf).toLocaleTimeString()})),t.append(s)}const r=x(this,g2,US);if(r)Uq.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(x(this,ac));e.append(s)}x(this,qn).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let s=0,o=r.length;s<o;++s){const a=r[s];n.append(document.createTextNode(a)),s<o-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;x(this,Rf)||z(this,Rf,{contentsObj:x(this,ac),richText:x(this,uc)}),e&&z(this,cc,null),t&&(z(this,uc,j(this,Lb,Wq).call(this,t)),z(this,ac,null)),(n=x(this,ua))==null||n.remove(),z(this,ua,null)}resetEdited(){var e;x(this,Rf)&&({contentsObj:Ps(this,ac)._,richText:Ps(this,uc)._}=x(this,Rf),z(this,Rf,null),(e=x(this,ua))==null||e.remove(),z(this,ua,null),z(this,cc,null))}forceHide(){z(this,Pf,this.isVisible),x(this,Pf)&&(x(this,qn).hidden=!0)}maybeShow(){x(this,Pf)&&(x(this,ua)||j(this,y2,jS).call(this),z(this,Pf,!1),x(this,qn).hidden=!1)}get isVisible(){return x(this,qn).hidden===!1}}f2=new WeakMap,Rb=new WeakMap,Pb=new WeakMap,p2=new WeakMap,Ef=new WeakMap,qn=new WeakMap,ac=new WeakMap,Tf=new WeakMap,j_=new WeakMap,H_=new WeakMap,m2=new WeakMap,lc=new WeakMap,ua=new WeakMap,cc=new WeakMap,G_=new WeakMap,uc=new WeakMap,V_=new WeakMap,Rf=new WeakMap,Pf=new WeakMap,g2=new WeakSet,US=function(){const e=x(this,uc),t=x(this,ac);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&x(this,uc).html||null},W_=new WeakSet,AP=function(){var e,t,n;return((n=(t=(e=x(this,g2,US))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},Ib=new WeakSet,Vq=function(){var e,t,n;return((n=(t=(e=x(this,g2,US))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},Lb=new WeakSet,Wq=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:x(this,Ib,Vq),fontSize:x(this,W_,AP)?`calc(${x(this,W_,AP)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return n},Db=new WeakSet,Xq=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&x(this,lc))&&j(this,v2,zS).call(this)},Bb=new WeakSet,Kq=function(){if(x(this,cc)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:s}}}=x(this,H_);let o=!!x(this,m2),a=o?x(this,m2):x(this,G_);for(const g of x(this,j_))if(!a||lt.intersect(g.data.rect,a)!==null){a=g.data.rect,o=!0;break}const l=lt.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),u=o?a[2]-a[0]+5:0,h=l[0]+u,d=l[1];z(this,cc,[100*(h-r)/t,100*(d-s)/n]);const{style:m}=x(this,qn);m.left=`${x(this,cc)[0]}%`,m.top=`${x(this,cc)[1]}%`},v2=new WeakSet,zS=function(){z(this,lc,!x(this,lc)),x(this,lc)?(j(this,y2,jS).call(this),x(this,qn).addEventListener("click",x(this,p2)),x(this,qn).addEventListener("keydown",x(this,f2))):(j(this,X_,wP).call(this),x(this,qn).removeEventListener("click",x(this,p2)),x(this,qn).removeEventListener("keydown",x(this,f2)))},y2=new WeakSet,jS=function(){x(this,ua)||this.render(),this.isVisible?x(this,lc)&&x(this,qn).classList.add("focused"):(j(this,Bb,Kq).call(this),x(this,qn).hidden=!1,x(this,qn).style.zIndex=parseInt(x(this,qn).style.zIndex)+1e3)},X_=new WeakSet,wP=function(){x(this,qn).classList.remove("focused"),!(x(this,lc)||!this.isVisible)&&(x(this,qn).hidden=!0,x(this,qn).style.zIndex=parseInt(x(this,qn).style.zIndex)-1e3)};class Yq extends ui{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Wt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var K_;class Exe extends ui{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,K_,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:r}=Uc(t.rect),s=this.svgFactory.create(n,r,!0),o=z(this,K_,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,K_)}addHighlightArea(){this.container.classList.add("highlightArea")}}K_=new WeakMap;var Y_;class Txe extends ui{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,Y_,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:r}=Uc(t.rect),s=this.svgFactory.create(n,r,!0),o=t.borderStyle.width,a=z(this,Y_,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",n-o),a.setAttribute("height",r-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,Y_)}addHighlightArea(){this.container.classList.add("highlightArea")}}Y_=new WeakMap;var J_;class Rxe extends ui{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,J_,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:r}=Uc(t.rect),s=this.svgFactory.create(n,r,!0),o=t.borderStyle.width,a=z(this,J_,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",n/2),a.setAttribute("cy",r/2),a.setAttribute("rx",n/2-o/2),a.setAttribute("ry",r/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,J_)}addHighlightArea(){this.container.classList.add("highlightArea")}}J_=new WeakMap;var q_;class Jq extends ui{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,q_,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:r,popupRef:s}}=this;if(!n)return this.container;const{width:o,height:a}=Uc(t),l=this.svgFactory.create(o,a,!0);let c=[];for(let h=0,d=n.length;h<d;h+=2){const m=n[h]-t[0],g=t[3]-n[h+1];c.push(`${m},${g}`)}c=c.join(" ");const u=z(this,q_,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",r.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,q_)}addHighlightArea(){this.container.classList.add("highlightArea")}}q_=new WeakMap;class Pxe extends Jq{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ixe extends ui{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Z_;class qq extends ui{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,Z_,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Wt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:n,borderStyle:r,popupRef:s}}=this,{width:o,height:a}=Uc(t),l=this.svgFactory.create(o,a,!0);for(const c of n){let u=[];for(let d=0,m=c.length;d<m;d+=2){const g=c[d]-t[0],y=t[3]-c[d+1];u.push(`${g},${y}`)}u=u.join(" ");const h=this.svgFactory.createElement(this.svgElementName);x(this,Z_).push(h),h.setAttribute("points",u),h.setAttribute("stroke-width",r.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),!s&&this.hasPopupData&&this._createPopup(),l.append(h)}return this.container.append(l),this.container}getElementsToTriggerPopup(){return x(this,Z_)}addHighlightArea(){this.container.classList.add("highlightArea")}}Z_=new WeakMap;class Lxe extends ui{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Dxe extends ui{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Bxe extends ui{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Fxe extends ui{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Zq extends ui{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Q_,$_,SP;class Oxe extends ui{constructor(t){var r;super(t,{isRenderable:!0});F(this,$_);F(this,Q_,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",j(this,$_,SP).bind(this)),z(this,Q_,r);const{isMac:s}=ms.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&j(this,$_,SP).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return x(this,Q_)}addHighlightArea(){this.container.classList.add("highlightArea")}}Q_=new WeakMap,$_=new WeakSet,SP=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var e3,If,_2,Fb,Qq,t3,bP,sj;let kxe=(sj=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:r,page:s,viewport:o}){F(this,Fb);F(this,t3);F(this,e3,null);F(this,If,null);F(this,_2,new Map);this.div=e,z(this,e3,t),z(this,If,n),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r}async render(e){var o;const{annotations:t}=e,n=this.div;T0(n,this.viewport);const r=new Map,s={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new fD,annotationStorage:e.annotationStorage||new yD,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===Ai.POPUP;if(l){const h=r.get(a.id);if(!h)continue;s.elements=h}else{const{width:h,height:d}=Uc(a.rect);if(h<=0||d<=0)continue}s.data=a;const c=_xe.create(s);if(!c.isRenderable)continue;if(!l&&a.popupRef){const h=r.get(a.popupRef);h?h.push(c):r.set(a.popupRef,[c])}const u=c.render();a.hidden&&(u.style.visibility="hidden"),j(this,Fb,Qq).call(this,u,a.id),c.annotationEditorType>0&&(x(this,_2).set(c.data.id,c),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(c))}j(this,t3,bP).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,T0(t,{rotation:e.rotation}),j(this,t3,bP).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(x(this,_2).values())}getEditableAnnotation(e){return x(this,_2).get(e)}},e3=new WeakMap,If=new WeakMap,_2=new WeakMap,Fb=new WeakSet,Qq=function(e,t){var r;const n=e.firstChild||e;n.id=`${VJ}${t}`,this.div.append(e),(r=x(this,e3))==null||r.moveElementInDOM(this.div,e,n,!1)},t3=new WeakSet,bP=function(){if(!x(this,If))return;const e=this.div;for(const[t,n]of x(this,If)){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):r.append(n)}x(this,If).clear()},sj);const iS=/\r\n?|\n/g;var n3,i3,r3,s3,o3,ha,Ns,a3,Us,x2,Ob,$q,kb,eZ,Nb,tZ,A2,HS,w2,GS,S2,VS,Ub,nZ,l3,MP,zb,iZ;const gn=class gn extends ln{constructor(t){super({...t,name:"freeTextEditor"});F(this,Ob);F(this,kb);F(this,Nb);F(this,A2);F(this,S2);F(this,Ub);F(this,zb);F(this,n3,this.editorDivBlur.bind(this));F(this,i3,this.editorDivFocus.bind(this));F(this,r3,this.editorDivInput.bind(this));F(this,s3,this.editorDivKeydown.bind(this));F(this,o3,this.editorDivPaste.bind(this));F(this,ha,void 0);F(this,Ns,"");F(this,a3,`${this.id}-editor`);F(this,Us,void 0);F(this,x2,null);z(this,ha,t.color||gn._defaultColor||ln._defaultLineColor),z(this,Us,t.fontSize||gn._defaultFontSize)}static get _keyboardManager(){const t=gn.prototype,n=o=>o.isEmpty(),r=R0.TRANSLATE_SMALL,s=R0.TRANSLATE_BIG;return Jt(this,"_keyboardManager",new Ex([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:n}]]))}static initialize(t,n){ln.initialize(t,n,{strings:["pdfjs-free-text-default-content"]});const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case Mt.FREETEXT_SIZE:gn._defaultFontSize=n;break;case Mt.FREETEXT_COLOR:gn._defaultColor=n;break}}updateParams(t,n){switch(t){case Mt.FREETEXT_SIZE:j(this,Ob,$q).call(this,n);break;case Mt.FREETEXT_COLOR:j(this,kb,eZ).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Mt.FREETEXT_SIZE,gn._defaultFontSize],[Mt.FREETEXT_COLOR,gn._defaultColor||ln._defaultLineColor]]}get propertiesToUpdate(){return[[Mt.FREETEXT_SIZE,x(this,Us)],[Mt.FREETEXT_COLOR,x(this,ha)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-gn._internalPadding*t,-(gn._internalPadding+x(this,Us))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Wt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",x(this,s3),{signal:t}),this.editorDiv.addEventListener("focus",x(this,i3),{signal:t}),this.editorDiv.addEventListener("blur",x(this,n3),{signal:t}),this.editorDiv.addEventListener("input",x(this,r3),{signal:t}),this.editorDiv.addEventListener("paste",x(this,o3),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",x(this,a3)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",x(this,s3)),this.editorDiv.removeEventListener("focus",x(this,i3)),this.editorDiv.removeEventListener("blur",x(this,n3)),this.editorDiv.removeEventListener("input",x(this,r3)),this.editorDiv.removeEventListener("paste",x(this,o3)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=x(this,Ns),n=z(this,Ns,j(this,Nb,tZ).call(this).trimEnd());if(t===n)return;const r=s=>{if(z(this,Ns,s),!s){this.remove();return}j(this,S2,VS).call(this),this._uiManager.rebuild(this),j(this,A2,HS).call(this)};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(t)},mustExec:!1}),j(this,A2,HS).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){gn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",x(this,a3)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),ln._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var o;return(o=this.editorDiv)==null?void 0:o.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${x(this,Us)}px * var(--scale-factor))`,r.color=x(this,ha),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),I4(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=x(this,x2);let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,h]=this.pageDimensions,[d,m]=this.pageTranslation;let g,y;switch(this.rotation){case 0:g=t+(a[0]-d)/u,y=n+this.height-(a[1]-m)/h;break;case 90:g=t+(a[0]-d)/u,y=n-(a[1]-m)/h,[l,c]=[c,-l];break;case 180:g=t-this.width+(a[0]-d)/u,y=n-(a[1]-m)/h,[l,c]=[-l,-c];break;case 270:g=t+(a[0]-d-this.height*h)/u,y=n+(a[1]-m-this.width*u)/h,[l,c]=[-c,l];break}this.setAt(g*s,y*o,l,c)}else this.setAt(t*s,n*o,this.width*s,this.height*o);j(this,S2,VS).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var g,y,_;const n=t.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const s=j(g=gn,l3,MP).call(g,n.getData("text")||"").replaceAll(iS,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:c}=a,u=[],h=[];if(l.nodeType===Node.TEXT_NODE){const v=l.parentElement;if(h.push(l.nodeValue.slice(c).replaceAll(iS,"")),v!==this.editorDiv){let A=u;for(const w of this.editorDiv.childNodes){if(w===v){A=h;continue}A.push(j(y=gn,w2,GS).call(y,w))}}u.push(l.nodeValue.slice(0,c).replaceAll(iS,""))}else if(l===this.editorDiv){let v=u,A=0;for(const w of this.editorDiv.childNodes)A++===c&&(v=h),v.push(j(_=gn,w2,GS).call(_,w))}z(this,Ns,`${u.join(`
`)}${s}${h.join(`
`)}`),j(this,S2,VS).call(this);const d=new Range;let m=u.reduce((v,A)=>v+A.length,0);for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const A=v.nodeValue.length;if(m<=A){d.setStart(v,m),d.setEnd(v,m);break}m-=A}o.removeAllRanges(),o.addRange(d)}get contentDiv(){return this.editorDiv}static deserialize(t,n,r){var a;let s=null;if(t instanceof Yq){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:h,id:d},textContent:m,textPosition:g,parent:{page:{pageNumber:y}}}=t;if(!m||m.length===0)return null;s=t={annotationType:Wt.FREETEXT,color:Array.from(c),fontSize:l,value:m.join(`
`),position:g,pageIndex:y-1,rect:u.slice(0),rotation:h,id:d,deleted:!1}}const o=super.deserialize(t,n,r);return z(o,Us,t.fontSize),z(o,ha,lt.makeHexColor(...t.color)),z(o,Ns,j(a=gn,l3,MP).call(a,t.value)),o.annotationElementId=t.id||null,z(o,x2,s),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const n=gn._internalPadding*this.parentScale,r=this.getRect(n,n),s=ln._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:x(this,ha)),o={annotationType:Wt.FREETEXT,color:s,fontSize:x(this,Us),value:j(this,Ub,nZ).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!j(this,zb,iZ).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:r}=n;r.fontSize=`calc(${x(this,Us)}px * var(--scale-factor))`,r.color=x(this,ha),n.replaceChildren();for(const o of x(this,Ns).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),n.append(a)}const s=gn._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:x(this,Ns)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};n3=new WeakMap,i3=new WeakMap,r3=new WeakMap,s3=new WeakMap,o3=new WeakMap,ha=new WeakMap,Ns=new WeakMap,a3=new WeakMap,Us=new WeakMap,x2=new WeakMap,Ob=new WeakSet,$q=function(t){const n=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-x(this,Us))*this.parentScale),z(this,Us,s),j(this,A2,HS).call(this)},r=x(this,Us);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},kb=new WeakSet,eZ=function(t){const n=s=>{z(this,ha,this.editorDiv.style.color=s)},r=x(this,ha);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Nb=new WeakSet,tZ=function(){var n;const t=[];this.editorDiv.normalize();for(const r of this.editorDiv.childNodes)t.push(j(n=gn,w2,GS).call(n,r));return t.join(`
`)},A2=new WeakSet,HS=function(){const[t,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),r=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/n):(this.width=r.height/t,this.height=r.width/n),this.fixAndSetPosition()},w2=new WeakSet,GS=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(iS,"")},S2=new WeakSet,VS=function(){if(this.editorDiv.replaceChildren(),!!x(this,Ns))for(const t of x(this,Ns).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},Ub=new WeakSet,nZ=function(){return x(this,Ns).replaceAll(" "," ")},l3=new WeakSet,MP=function(t){return t.replaceAll(" "," ")},zb=new WeakSet,iZ=function(t){const{value:n,fontSize:r,color:s,pageIndex:o}=x(this,x2);return this._hasBeenMoved||t.value!==n||t.fontSize!==r||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==o},F(gn,w2),F(gn,l3),Rt(gn,"_freeTextDefaultContent",""),Rt(gn,"_internalPadding",0),Rt(gn,"_defaultColor",null),Rt(gn,"_defaultFontSize",10),Rt(gn,"_type","freetext"),Rt(gn,"_editorType",Wt.FREETEXT);let CP=gn;var c3,Xu,da,jb,rZ,b2,WS,Hb,sZ,Gb,oZ,u3,TP;class EP{constructor(e,t=0,n=0,r=!0){F(this,jb);F(this,b2);F(this,Hb);F(this,Gb);F(this,u3);F(this,c3,void 0);F(this,Xu,[]);F(this,da,[]);let s=1/0,o=-1/0,a=1/0,l=-1/0;const u=10**-4;for(const{x:v,y:A,width:w,height:C}of e){const T=Math.floor((v-t)/u)*u,E=Math.ceil((v+w+t)/u)*u,R=Math.floor((A-t)/u)*u,D=Math.ceil((A+C+t)/u)*u,I=[T,R,D,!0],L=[E,R,D,!1];x(this,Xu).push(I,L),s=Math.min(s,T),o=Math.max(o,E),a=Math.min(a,R),l=Math.max(l,D)}const h=o-s+2*n,d=l-a+2*n,m=s-n,g=a-n,y=x(this,Xu).at(r?-1:-2),_=[y[0],y[2]];for(const v of x(this,Xu)){const[A,w,C]=v;v[0]=(A-m)/h,v[1]=(w-g)/d,v[2]=(C-g)/d}z(this,c3,{x:m,y:g,width:h,height:d,lastPoint:_})}getOutlines(){x(this,Xu).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of x(this,Xu))t[3]?(e.push(...j(this,u3,TP).call(this,t)),j(this,Hb,sZ).call(this,t)):(j(this,Gb,oZ).call(this,t),e.push(...j(this,u3,TP).call(this,t)));return j(this,jb,rZ).call(this,e)}}c3=new WeakMap,Xu=new WeakMap,da=new WeakMap,jb=new WeakSet,rZ=function(e){const t=[],n=new Set;for(const o of e){const[a,l,c]=o;t.push([a,l,o],[a,c,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],c=t[o+1][2];l.push(c),c.push(l),n.add(l),n.add(c)}const r=[];let s;for(;n.size>0;){const o=n.values().next().value;let[a,l,c,u,h]=o;n.delete(o);let d=a,m=l;for(s=[a,c],r.push(s);;){let g;if(n.has(u))g=u;else if(n.has(h))g=h;else break;n.delete(g),[a,l,c,u,h]=g,d!==a&&(s.push(d,m,a,m===l?l:c),d=a),m=m===l?c:l}s.push(d,m)}return new Nxe(r,x(this,c3))},b2=new WeakSet,WS=function(e){const t=x(this,da);let n=0,r=t.length-1;for(;n<=r;){const s=n+r>>1,o=t[s][0];if(o===e)return s;o<e?n=s+1:r=s-1}return r+1},Hb=new WeakSet,sZ=function([,e,t]){const n=j(this,b2,WS).call(this,e);x(this,da).splice(n,0,[e,t])},Gb=new WeakSet,oZ=function([,e,t]){const n=j(this,b2,WS).call(this,e);for(let r=n;r<x(this,da).length;r++){const[s,o]=x(this,da)[r];if(s!==e)break;if(s===e&&o===t){x(this,da).splice(r,1);return}}for(let r=n-1;r>=0;r--){const[s,o]=x(this,da)[r];if(s!==e)break;if(s===e&&o===t){x(this,da).splice(r,1);return}}},u3=new WeakSet,TP=function(e){const[t,n,r]=e,s=[[t,n,r]],o=j(this,b2,WS).call(this,r);for(let a=0;a<o;a++){const[l,c]=x(this,da)[a];for(let u=0,h=s.length;u<h;u++){const[,d,m]=s[u];if(!(c<=d||m<=l)){if(d>=l){if(m>c)s[u][1]=c;else{if(h===1)return[];s.splice(u,1),u--,h--}continue}s[u][2]=l,m>c&&s.push([t,c,m])}}}return s};class aZ{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof PP}}var h3,C2;class Nxe extends aZ{constructor(t,n){super();F(this,h3,void 0);F(this,C2,void 0);z(this,C2,t),z(this,h3,n)}toSVGPath(){const t=[];for(const n of x(this,C2)){let[r,s]=n;t.push(`M${r} ${s}`);for(let o=2;o<n.length;o+=2){const a=n[o],l=n[o+1];a===r?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),r=a)}t.push("Z")}return t.join(" ")}serialize([t,n,r,s],o){const a=[],l=r-t,c=s-n;for(const u of x(this,C2)){const h=new Array(u.length);for(let d=0;d<u.length;d+=2)h[d]=t+u[d]*l,h[d+1]=s-u[d+1]*c;a.push(h)}return a}get box(){return x(this,h3)}}h3=new WeakMap,C2=new WeakMap;var Za,hc,M2,E2,Qa,Ht,Lf,Df,d3,f3,T2,R2,Ku,p3,Vb,Wb,m3,RP;const Gl=class Gl{constructor({x:e,y:t},n,r,s,o,a=0){F(this,m3);F(this,Za,void 0);F(this,hc,[]);F(this,M2,void 0);F(this,E2,void 0);F(this,Qa,[]);F(this,Ht,new Float64Array(18));F(this,Lf,void 0);F(this,Df,void 0);F(this,d3,void 0);F(this,f3,void 0);F(this,T2,void 0);F(this,R2,void 0);F(this,Ku,[]);z(this,Za,n),z(this,R2,s*r),z(this,E2,o),x(this,Ht).set([NaN,NaN,NaN,NaN,e,t],6),z(this,M2,a),z(this,f3,x(Gl,p3)*r),z(this,d3,x(Gl,Wb)*r),z(this,T2,r),x(this,Ku).push(e,t)}get free(){return!0}isEmpty(){return isNaN(x(this,Ht)[8])}add({x:e,y:t}){var I;z(this,Lf,e),z(this,Df,t);const[n,r,s,o]=x(this,Za);let[a,l,c,u]=x(this,Ht).subarray(8,12);const h=e-c,d=t-u,m=Math.hypot(h,d);if(m<x(this,d3))return!1;const g=m-x(this,f3),y=g/m,_=y*h,v=y*d;let A=a,w=l;a=c,l=u,c+=_,u+=v,(I=x(this,Ku))==null||I.push(e,t);const C=-v/g,T=_/g,E=C*x(this,R2),R=T*x(this,R2);return x(this,Ht).set(x(this,Ht).subarray(2,8),0),x(this,Ht).set([c+E,u+R],4),x(this,Ht).set(x(this,Ht).subarray(14,18),12),x(this,Ht).set([c-E,u-R],16),isNaN(x(this,Ht)[6])?(x(this,Qa).length===0&&(x(this,Ht).set([a+E,l+R],2),x(this,Qa).push(NaN,NaN,NaN,NaN,(a+E-n)/s,(l+R-r)/o),x(this,Ht).set([a-E,l-R],14),x(this,hc).push(NaN,NaN,NaN,NaN,(a-E-n)/s,(l-R-r)/o)),x(this,Ht).set([A,w,a,l,c,u],6),!this.isEmpty()):(x(this,Ht).set([A,w,a,l,c,u],6),Math.abs(Math.atan2(w-l,A-a)-Math.atan2(v,_))<Math.PI/2?([a,l,c,u]=x(this,Ht).subarray(2,6),x(this,Qa).push(NaN,NaN,NaN,NaN,((a+c)/2-n)/s,((l+u)/2-r)/o),[a,l,A,w]=x(this,Ht).subarray(14,18),x(this,hc).push(NaN,NaN,NaN,NaN,((A+a)/2-n)/s,((w+l)/2-r)/o),!0):([A,w,a,l,c,u]=x(this,Ht).subarray(0,6),x(this,Qa).push(((A+5*a)/6-n)/s,((w+5*l)/6-r)/o,((5*a+c)/6-n)/s,((5*l+u)/6-r)/o,((a+c)/2-n)/s,((l+u)/2-r)/o),[c,u,a,l,A,w]=x(this,Ht).subarray(12,18),x(this,hc).push(((A+5*a)/6-n)/s,((w+5*l)/6-r)/o,((5*a+c)/6-n)/s,((5*l+u)/6-r)/o,((a+c)/2-n)/s,((l+u)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=x(this,Qa),t=x(this,hc),n=x(this,Ht).subarray(4,6),r=x(this,Ht).subarray(16,18),[s,o,a,l]=x(this,Za),[c,u,h,d]=j(this,m3,RP).call(this);if(isNaN(x(this,Ht)[6])&&!this.isEmpty())return`M${(x(this,Ht)[2]-s)/a} ${(x(this,Ht)[3]-o)/l} L${(x(this,Ht)[4]-s)/a} ${(x(this,Ht)[5]-o)/l} L${c} ${u} L${h} ${d} L${(x(this,Ht)[16]-s)/a} ${(x(this,Ht)[17]-o)/l} L${(x(this,Ht)[14]-s)/a} ${(x(this,Ht)[15]-o)/l} Z`;const m=[];m.push(`M${e[4]} ${e[5]}`);for(let g=6;g<e.length;g+=6)isNaN(e[g])?m.push(`L${e[g+4]} ${e[g+5]}`):m.push(`C${e[g]} ${e[g+1]} ${e[g+2]} ${e[g+3]} ${e[g+4]} ${e[g+5]}`);m.push(`L${(n[0]-s)/a} ${(n[1]-o)/l} L${c} ${u} L${h} ${d} L${(r[0]-s)/a} ${(r[1]-o)/l}`);for(let g=t.length-6;g>=6;g-=6)isNaN(t[g])?m.push(`L${t[g+4]} ${t[g+5]}`):m.push(`C${t[g]} ${t[g+1]} ${t[g+2]} ${t[g+3]} ${t[g+4]} ${t[g+5]}`);return m.push(`L${t[4]} ${t[5]} Z`),m.join(" ")}getOutlines(){var v;const e=x(this,Qa),t=x(this,hc),n=x(this,Ht),r=n.subarray(4,6),s=n.subarray(16,18),[o,a,l,c]=x(this,Za),u=new Float64Array((((v=x(this,Ku))==null?void 0:v.length)??0)+2);for(let A=0,w=u.length-2;A<w;A+=2)u[A]=(x(this,Ku)[A]-o)/l,u[A+1]=(x(this,Ku)[A+1]-a)/c;u[u.length-2]=(x(this,Lf)-o)/l,u[u.length-1]=(x(this,Df)-a)/c;const[h,d,m,g]=j(this,m3,RP).call(this);if(isNaN(n[6])&&!this.isEmpty()){const A=new Float64Array(36);return A.set([NaN,NaN,NaN,NaN,(n[2]-o)/l,(n[3]-a)/c,NaN,NaN,NaN,NaN,(n[4]-o)/l,(n[5]-a)/c,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,m,g,NaN,NaN,NaN,NaN,(n[16]-o)/l,(n[17]-a)/c,NaN,NaN,NaN,NaN,(n[14]-o)/l,(n[15]-a)/c],0),new PP(A,u,x(this,Za),x(this,T2),x(this,M2),x(this,E2))}const y=new Float64Array(x(this,Qa).length+24+x(this,hc).length);let _=e.length;for(let A=0;A<_;A+=2){if(isNaN(e[A])){y[A]=y[A+1]=NaN;continue}y[A]=e[A],y[A+1]=e[A+1]}y.set([NaN,NaN,NaN,NaN,(r[0]-o)/l,(r[1]-a)/c,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,m,g,NaN,NaN,NaN,NaN,(s[0]-o)/l,(s[1]-a)/c],_),_+=24;for(let A=t.length-6;A>=6;A-=6)for(let w=0;w<6;w+=2){if(isNaN(t[A+w])){y[_]=y[_+1]=NaN,_+=2;continue}y[_]=t[A+w],y[_+1]=t[A+w+1],_+=2}return y.set([NaN,NaN,NaN,NaN,t[4],t[5]],_),new PP(y,u,x(this,Za),x(this,T2),x(this,M2),x(this,E2))}};Za=new WeakMap,hc=new WeakMap,M2=new WeakMap,E2=new WeakMap,Qa=new WeakMap,Ht=new WeakMap,Lf=new WeakMap,Df=new WeakMap,d3=new WeakMap,f3=new WeakMap,T2=new WeakMap,R2=new WeakMap,Ku=new WeakMap,p3=new WeakMap,Vb=new WeakMap,Wb=new WeakMap,m3=new WeakSet,RP=function(){const e=x(this,Ht).subarray(4,6),t=x(this,Ht).subarray(16,18),[n,r,s,o]=x(this,Za);return[(x(this,Lf)+(e[0]-t[0])/2-n)/s,(x(this,Df)+(e[1]-t[1])/2-r)/o,(x(this,Lf)+(t[0]-e[0])/2-n)/s,(x(this,Df)+(t[1]-e[1])/2-r)/o]},F(Gl,p3,8),F(Gl,Vb,2),F(Gl,Wb,x(Gl,p3)+x(Gl,Vb));let F4=Gl;var P2,Bf,dc,g3,zs,v3,si,Ff,Q1,Of,$1,Xb,lZ;class PP extends aZ{constructor(t,n,r,s,o,a){super();F(this,Ff);F(this,Of);F(this,Xb);F(this,P2,void 0);F(this,Bf,null);F(this,dc,void 0);F(this,g3,void 0);F(this,zs,void 0);F(this,v3,void 0);F(this,si,void 0);z(this,si,t),z(this,zs,n),z(this,P2,r),z(this,v3,s),z(this,dc,o),z(this,g3,a),j(this,Xb,lZ).call(this,a);const{x:l,y:c,width:u,height:h}=x(this,Bf);for(let d=0,m=t.length;d<m;d+=2)t[d]=(t[d]-l)/u,t[d+1]=(t[d+1]-c)/h;for(let d=0,m=n.length;d<m;d+=2)n[d]=(n[d]-l)/u,n[d+1]=(n[d+1]-c)/h}toSVGPath(){const t=[`M${x(this,si)[4]} ${x(this,si)[5]}`];for(let n=6,r=x(this,si).length;n<r;n+=6){if(isNaN(x(this,si)[n])){t.push(`L${x(this,si)[n+4]} ${x(this,si)[n+5]}`);continue}t.push(`C${x(this,si)[n]} ${x(this,si)[n+1]} ${x(this,si)[n+2]} ${x(this,si)[n+3]} ${x(this,si)[n+4]} ${x(this,si)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,r,s],o){const a=r-t,l=s-n;let c,u;switch(o){case 0:c=j(this,Ff,Q1).call(this,x(this,si),t,s,a,-l),u=j(this,Ff,Q1).call(this,x(this,zs),t,s,a,-l);break;case 90:c=j(this,Of,$1).call(this,x(this,si),t,n,a,l),u=j(this,Of,$1).call(this,x(this,zs),t,n,a,l);break;case 180:c=j(this,Ff,Q1).call(this,x(this,si),r,n,-a,l),u=j(this,Ff,Q1).call(this,x(this,zs),r,n,-a,l);break;case 270:c=j(this,Of,$1).call(this,x(this,si),r,s,-a,-l),u=j(this,Of,$1).call(this,x(this,zs),r,s,-a,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return x(this,Bf)}getNewOutline(t,n){const{x:r,y:s,width:o,height:a}=x(this,Bf),[l,c,u,h]=x(this,P2),d=o*u,m=a*h,g=r*u+l,y=s*h+c,_=new F4({x:x(this,zs)[0]*d+g,y:x(this,zs)[1]*m+y},x(this,P2),x(this,v3),t,x(this,g3),n??x(this,dc));for(let v=2;v<x(this,zs).length;v+=2)_.add({x:x(this,zs)[v]*d+g,y:x(this,zs)[v+1]*m+y});return _.getOutlines()}}P2=new WeakMap,Bf=new WeakMap,dc=new WeakMap,g3=new WeakMap,zs=new WeakMap,v3=new WeakMap,si=new WeakMap,Ff=new WeakSet,Q1=function(t,n,r,s,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=n+t[l]*s,a[l+1]=r+t[l+1]*o;return a},Of=new WeakSet,$1=function(t,n,r,s,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=n+t[l+1]*s,a[l+1]=r+t[l]*o;return a},Xb=new WeakSet,lZ=function(t){const n=x(this,si);let r=n[4],s=n[5],o=r,a=s,l=r,c=s,u=r,h=s;const d=t?Math.max:Math.min;for(let v=6,A=n.length;v<A;v+=6){if(isNaN(n[v]))o=Math.min(o,n[v+4]),a=Math.min(a,n[v+5]),l=Math.max(l,n[v+4]),c=Math.max(c,n[v+5]),h<n[v+5]?(u=n[v+4],h=n[v+5]):h===n[v+5]&&(u=d(u,n[v+4]));else{const w=lt.bezierBoundingBox(r,s,...n.slice(v,v+6));o=Math.min(o,w[0]),a=Math.min(a,w[1]),l=Math.max(l,w[2]),c=Math.max(c,w[3]),h<w[3]?(u=w[2],h=w[3]):h===w[3]&&(u=d(u,w[2]))}r=n[v+4],s=n[v+5]}const m=o-x(this,dc),g=a-x(this,dc),y=l-o+2*x(this,dc),_=c-a+2*x(this,dc);z(this,Bf,{x:m,y:g,width:y,height:_,lastPoint:[u,h]})};var y3,_3,fa,kf,I2,Si,x3,L2,A3,w3,pa,D2,S3,IP,b3,LP,Kb,cZ,fc,Pd,Yb,uZ,$a,Su;const Vl=class Vl{constructor({editor:e=null,uiManager:t=null}){F(this,S3);F(this,b3);F(this,Kb);F(this,fc);F(this,Yb);F(this,$a);F(this,y3,j(this,Kb,cZ).bind(this));F(this,_3,j(this,Yb,uZ).bind(this));F(this,fa,null);F(this,kf,null);F(this,I2,void 0);F(this,Si,null);F(this,x3,!1);F(this,L2,!1);F(this,A3,null);F(this,w3,void 0);F(this,pa,null);F(this,D2,void 0);var n;e?(z(this,L2,!1),z(this,D2,Mt.HIGHLIGHT_COLOR),z(this,A3,e)):(z(this,L2,!0),z(this,D2,Mt.HIGHLIGHT_DEFAULT_COLOR)),z(this,pa,(e==null?void 0:e._uiManager)||t),z(this,w3,x(this,pa)._eventBus),z(this,I2,(e==null?void 0:e.color)||((n=x(this,pa))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Jt(this,"_keyboardManager",new Ex([[["Escape","mac+Escape"],Vl.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Vl.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Vl.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Vl.prototype._moveToPrevious],[["Home","mac+Home"],Vl.prototype._moveToBeginning],[["End","mac+End"],Vl.prototype._moveToEnd]]))}renderButton(){const e=z(this,fa,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=x(this,pa)._signal;e.addEventListener("click",j(this,fc,Pd).bind(this),{signal:t}),e.addEventListener("keydown",x(this,y3),{signal:t});const n=z(this,kf,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=x(this,I2),e.append(n),e}renderMainDropdown(){const e=z(this,Si,j(this,S3,IP).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===x(this,fa)){j(this,fc,Pd).call(this,e);return}const t=e.target.getAttribute("data-color");t&&j(this,b3,LP).call(this,t,e)}_moveToNext(e){var t,n;if(!x(this,$a,Su)){j(this,fc,Pd).call(this,e);return}if(e.target===x(this,fa)){(t=x(this,Si).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=x(this,Si))==null?void 0:t.firstChild)||e.target===x(this,fa)){x(this,$a,Su)&&this._hideDropdownFromKeyboard();return}x(this,$a,Su)||j(this,fc,Pd).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!x(this,$a,Su)){j(this,fc,Pd).call(this,e);return}(t=x(this,Si).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!x(this,$a,Su)){j(this,fc,Pd).call(this,e);return}(t=x(this,Si).lastChild)==null||t.focus()}hideDropdown(){var e;(e=x(this,Si))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",x(this,_3))}_hideDropdownFromKeyboard(){var e;if(!x(this,L2)){if(!x(this,$a,Su)){(e=x(this,A3))==null||e.unselect();return}this.hideDropdown(),x(this,fa).focus({preventScroll:!0,focusVisible:x(this,x3)})}}updateColor(e){if(x(this,kf)&&(x(this,kf).style.backgroundColor=e),!x(this,Si))return;const t=x(this,pa).highlightColors.values();for(const n of x(this,Si).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=x(this,fa))==null||e.remove(),z(this,fa,null),z(this,kf,null),(t=x(this,Si))==null||t.remove(),z(this,Si,null)}};y3=new WeakMap,_3=new WeakMap,fa=new WeakMap,kf=new WeakMap,I2=new WeakMap,Si=new WeakMap,x3=new WeakMap,L2=new WeakMap,A3=new WeakMap,w3=new WeakMap,pa=new WeakMap,D2=new WeakMap,S3=new WeakSet,IP=function(){const e=document.createElement("div"),t=x(this,pa)._signal;e.addEventListener("contextmenu",Ss,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of x(this,pa).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=n,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${n}`);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=r,s.setAttribute("aria-selected",r===x(this,I2)),s.addEventListener("click",j(this,b3,LP).bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",x(this,y3),{signal:t}),e},b3=new WeakSet,LP=function(e,t){t.stopPropagation(),x(this,w3).dispatch("switchannotationeditorparams",{source:this,type:x(this,D2),value:e})},Kb=new WeakSet,cZ=function(e){Vl._keyboardManager.exec(this,e)},fc=new WeakSet,Pd=function(e){if(x(this,$a,Su)){this.hideDropdown();return}if(z(this,x3,e.detail===0),window.addEventListener("pointerdown",x(this,_3),{signal:x(this,pa)._signal}),x(this,Si)){x(this,Si).classList.remove("hidden");return}const t=z(this,Si,j(this,S3,IP).call(this));x(this,fa).append(t)},Yb=new WeakSet,uZ=function(e){var t;(t=x(this,Si))!=null&&t.contains(e.target)||this.hideDropdown()},$a=new WeakSet,Su=function(){return x(this,Si)&&!x(this,Si).classList.contains("hidden")};let O4=Vl;var B2,C3,Yu,Nf,F2,Co,M3,E3,Uf,ma,Wr,js,Jb,O2,zf,bi,k2,el,T3,R3,DP,P3,BP,qb,hZ,Zb,dZ,Qb,fZ,I3,FP,jf,ev,Ju,jp,$b,pZ,N2,XS,Hf,tv,eC,mZ,tC,gZ,nC,vZ,iC,yZ;const Yt=class Yt extends ln{constructor(t){super({...t,name:"highlightEditor"});F(this,R3);F(this,P3);F(this,qb);F(this,Zb);F(this,Qb);F(this,I3);F(this,jf);F(this,$b);F(this,N2);F(this,Hf);F(this,eC);F(this,tC);F(this,B2,null);F(this,C3,0);F(this,Yu,void 0);F(this,Nf,null);F(this,F2,null);F(this,Co,null);F(this,M3,null);F(this,E3,0);F(this,Uf,null);F(this,ma,null);F(this,Wr,null);F(this,js,!1);F(this,Jb,j(this,$b,pZ).bind(this));F(this,O2,null);F(this,zf,void 0);F(this,bi,null);F(this,k2,"");F(this,el,void 0);F(this,T3,"");this.color=t.color||Yt._defaultColor,z(this,el,t.thickness||Yt._defaultThickness),z(this,zf,t.opacity||Yt._defaultOpacity),z(this,Yu,t.boxes||null),z(this,T3,t.methodOfCreation||""),z(this,k2,t.text||""),this._isDraggable=!1,t.highlightId>-1?(z(this,js,!0),j(this,P3,BP).call(this,t),j(this,jf,ev).call(this)):(z(this,B2,t.anchorNode),z(this,C3,t.anchorOffset),z(this,M3,t.focusNode),z(this,E3,t.focusOffset),j(this,R3,DP).call(this),j(this,jf,ev).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Yt.prototype;return Jt(this,"_keyboardManager",new Ex([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:x(this,js)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:x(this,el),methodOfCreation:x(this,T3)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var r;ln.initialize(t,n),Yt._defaultColor||(Yt._defaultColor=((r=n.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case Mt.HIGHLIGHT_DEFAULT_COLOR:Yt._defaultColor=n;break;case Mt.HIGHLIGHT_THICKNESS:Yt._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return x(this,O2)}updateParams(t,n){switch(t){case Mt.HIGHLIGHT_COLOR:j(this,qb,hZ).call(this,n);break;case Mt.HIGHLIGHT_THICKNESS:j(this,Zb,dZ).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Mt.HIGHLIGHT_DEFAULT_COLOR,Yt._defaultColor],[Mt.HIGHLIGHT_THICKNESS,Yt._defaultThickness]]}get propertiesToUpdate(){return[[Mt.HIGHLIGHT_COLOR,this.color||Yt._defaultColor],[Mt.HIGHLIGHT_THICKNESS,x(this,el)||Yt._defaultThickness],[Mt.HIGHLIGHT_FREE,x(this,js)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(z(this,F2,new O4({editor:this})),t.addColorPicker(x(this,F2))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(j(this,Hf,tv).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,j(this,Hf,tv).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){j(this,I3,FP).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(j(this,jf,ev).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let n=!1;this.parent&&!t?j(this,I3,FP).call(this):t&&(j(this,jf,ev).call(this,t),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var s,o,a;const{drawLayer:n}=this.parent;let r;x(this,js)?(t=(t-this.rotation+360)%360,r=j(s=Yt,Ju,jp).call(s,x(this,ma).box,t)):r=j(o=Yt,Ju,jp).call(o,this,t),n.rotate(x(this,Wr),t),n.rotate(x(this,bi),t),n.updateBox(x(this,Wr),r),n.updateBox(x(this,bi),j(a=Yt,Ju,jp).call(a,x(this,Co).box,t))}render(){if(this.div)return this.div;const t=super.render();x(this,k2)&&(t.setAttribute("aria-label",x(this,k2)),t.setAttribute("role","mark")),x(this,js)?t.classList.add("free"):this.div.addEventListener("keydown",x(this,Jb),{signal:this._uiManager._signal});const n=z(this,Uf,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=x(this,Nf);const[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),I4(this,x(this,Uf),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(x(this,bi),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(x(this,bi),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:j(this,N2,XS).call(this,!0);break;case 1:case 3:j(this,N2,XS).call(this,!1);break}}select(){var t,n;super.select(),x(this,bi)&&((t=this.parent)==null||t.drawLayer.removeClass(x(this,bi),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(x(this,bi),"selected"))}unselect(){var t;super.unselect(),x(this,bi)&&((t=this.parent)==null||t.drawLayer.removeClass(x(this,bi),"selected"),x(this,js)||j(this,N2,XS).call(this,!1))}get _mustFixPosition(){return!x(this,js)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(x(this,Wr),t),this.parent.drawLayer.show(x(this,bi),t))}static startHighlighting(t,n,{target:r,x:s,y:o}){const{x:a,y:l,width:c,height:u}=r.getBoundingClientRect(),h=_=>{j(this,nC,vZ).call(this,t,_)},d=t._signal,m={capture:!0,passive:!1,signal:d},g=_=>{_.preventDefault(),_.stopPropagation()},y=_=>{r.removeEventListener("pointermove",h),window.removeEventListener("blur",y),window.removeEventListener("pointerup",y),window.removeEventListener("pointerdown",g,m),window.removeEventListener("contextmenu",Ss),j(this,iC,yZ).call(this,t,_)};window.addEventListener("blur",y,{signal:d}),window.addEventListener("pointerup",y,{signal:d}),window.addEventListener("pointerdown",g,m),window.addEventListener("contextmenu",Ss,{signal:d}),r.addEventListener("pointermove",h,{signal:d}),this._freeHighlight=new F4({x:s,y:o},[a,l,c,u],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,n,r){var y;const s=super.deserialize(t,n,r),{rect:[o,a,l,c],color:u,quadPoints:h}=t;s.color=lt.makeHexColor(...u),z(s,zf,t.opacity);const[d,m]=s.pageDimensions;s.width=(l-o)/d,s.height=(c-a)/m;const g=z(s,Yu,[]);for(let _=0;_<h.length;_+=8)g.push({x:(h[4]-l)/d,y:(c-(1-h[_+5]))/m,width:(h[_+2]-h[_])/d,height:(h[_+5]-h[_+1])/m});return j(y=s,R3,DP).call(y),s}serialize(t=!1){if(this.isEmpty()||t)return null;const n=this.getRect(0,0),r=ln._colorManager.convert(this.color);return{annotationType:Wt.HIGHLIGHT,color:r,opacity:x(this,zf),thickness:x(this,el),quadPoints:j(this,eC,mZ).call(this),outlines:j(this,tC,gZ).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:j(this,Hf,tv).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};B2=new WeakMap,C3=new WeakMap,Yu=new WeakMap,Nf=new WeakMap,F2=new WeakMap,Co=new WeakMap,M3=new WeakMap,E3=new WeakMap,Uf=new WeakMap,ma=new WeakMap,Wr=new WeakMap,js=new WeakMap,Jb=new WeakMap,O2=new WeakMap,zf=new WeakMap,bi=new WeakMap,k2=new WeakMap,el=new WeakMap,T3=new WeakMap,R3=new WeakSet,DP=function(){const t=new EP(x(this,Yu),.001);z(this,ma,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=x(this,ma).box;const n=new EP(x(this,Yu),.0025,.001,this._uiManager.direction==="ltr");z(this,Co,n.getOutlines());const{lastPoint:r}=x(this,Co).box;z(this,O2,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},P3=new WeakSet,BP=function({highlightOutlines:t,highlightId:n,clipPathId:r}){var h,d;if(z(this,ma,t),z(this,Co,t.getNewOutline(x(this,el)/2+1.5,.0025)),n>=0)z(this,Wr,n),z(this,Nf,r),this.parent.drawLayer.finalizeLine(n,t),z(this,bi,this.parent.drawLayer.highlightOutline(x(this,Co)));else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(x(this,Wr),t),this.parent.drawLayer.updateBox(x(this,Wr),j(h=Yt,Ju,jp).call(h,x(this,ma).box,(m-this.rotation+360)%360)),this.parent.drawLayer.updateLine(x(this,bi),x(this,Co)),this.parent.drawLayer.updateBox(x(this,bi),j(d=Yt,Ju,jp).call(d,x(this,Co).box,m))}const{x:o,y:a,width:l,height:c}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=c;break;case 90:{const[m,g]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*g/m,this.height=c*m/g;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=c;break;case 270:{const[m,g]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*g/m,this.height=c*m/g;break}}const{lastPoint:u}=x(this,Co).box;z(this,O2,[(u[0]-o)/l,(u[1]-a)/c])},qb=new WeakSet,hZ=function(t){const n=s=>{var o,a;this.color=s,(o=this.parent)==null||o.drawLayer.changeColor(x(this,Wr),s),(a=x(this,F2))==null||a.updateColor(s)},r=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},Zb=new WeakSet,dZ=function(t){const n=x(this,el),r=s=>{z(this,el,s),j(this,Qb,fZ).call(this,s)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},Qb=new WeakSet,fZ=function(t){if(!x(this,js))return;j(this,P3,BP).call(this,{highlightOutlines:x(this,ma).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)},I3=new WeakSet,FP=function(){x(this,Wr)===null||!this.parent||(this.parent.drawLayer.remove(x(this,Wr)),z(this,Wr,null),this.parent.drawLayer.remove(x(this,bi)),z(this,bi,null))},jf=new WeakSet,ev=function(t=this.parent){x(this,Wr)===null&&({id:Ps(this,Wr)._,clipPathId:Ps(this,Nf)._}=t.drawLayer.highlight(x(this,ma),this.color,x(this,zf)),z(this,bi,t.drawLayer.highlightOutline(x(this,Co))),x(this,Uf)&&(x(this,Uf).style.clipPath=x(this,Nf)))},Ju=new WeakSet,jp=function({x:t,y:n,width:r,height:s},o){switch(o){case 90:return{x:1-n-s,y:t,width:s,height:r};case 180:return{x:1-t-r,y:1-n-s,width:r,height:s};case 270:return{x:n,y:1-t-r,width:s,height:r}}return{x:t,y:n,width:r,height:s}},$b=new WeakSet,pZ=function(t){Yt._keyboardManager.exec(this,t)},N2=new WeakSet,XS=function(t){if(!x(this,B2))return;const n=window.getSelection();t?n.setPosition(x(this,B2),x(this,C3)):n.setPosition(x(this,M3),x(this,E3))},Hf=new WeakSet,tv=function(){return x(this,js)?this.rotation:0},eC=new WeakSet,mZ=function(){if(x(this,js))return null;const[t,n]=this.pageDimensions,r=x(this,Yu),s=new Float32Array(r.length*8);let o=0;for(const{x:a,y:l,width:c,height:u}of r){const h=a*t,d=(1-l-u)*n;s[o]=s[o+4]=h,s[o+1]=s[o+3]=d,s[o+2]=s[o+6]=h+c*t,s[o+5]=s[o+7]=d+u*n,o+=8}return s},tC=new WeakSet,gZ=function(t){return x(this,ma).serialize(t,j(this,Hf,tv).call(this))},nC=new WeakSet,vZ=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},iC=new WeakSet,yZ=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},F(Yt,Ju),F(Yt,nC),F(Yt,iC),Rt(Yt,"_defaultColor",null),Rt(Yt,"_defaultOpacity",1),Rt(Yt,"_defaultThickness",12),Rt(Yt,"_l10nPromise"),Rt(Yt,"_type","highlight"),Rt(Yt,"_editorType",Wt.HIGHLIGHT),Rt(Yt,"_freeHighlightId",-1),Rt(Yt,"_freeHighlight",null),Rt(Yt,"_freeHighlightClipId","");let k4=Yt;var Gf,Vf,L3,D3,B3,Wf,tl,pc,Mo,Xf,Kf,mc,Yf,Jf,qu,rC,_Z,sC,xZ,oC,AZ,aC,wZ,F3,kP,lC,SZ,O3,NP,cC,bZ,uC,CZ,hC,MZ,dC,EZ,fC,TZ,gc,Id,k3,UP,U2,KS,z2,YS,Zu,Hp,N3,zP,j2,JS,pC,RZ,U3,jP,mC,PZ,gC,IZ,z3,HP,H2,qS,qf,nv;const Rn=class Rn extends ln{constructor(t){super({...t,name:"inkEditor"});F(this,rC);F(this,sC);F(this,oC);F(this,aC);F(this,F3);F(this,lC);F(this,O3);F(this,cC);F(this,uC);F(this,hC);F(this,dC);F(this,fC);F(this,gc);F(this,k3);F(this,U2);F(this,z2);F(this,Zu);F(this,N3);F(this,j2);F(this,gC);F(this,z3);F(this,H2);F(this,qf);F(this,Gf,0);F(this,Vf,0);F(this,L3,this.canvasPointermove.bind(this));F(this,D3,this.canvasPointerleave.bind(this));F(this,B3,this.canvasPointerup.bind(this));F(this,Wf,this.canvasPointerdown.bind(this));F(this,tl,null);F(this,pc,new Path2D);F(this,Mo,!1);F(this,Xf,!1);F(this,Kf,!1);F(this,mc,null);F(this,Yf,0);F(this,Jf,0);F(this,qu,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,n){ln.initialize(t,n)}static updateDefaultParams(t,n){switch(t){case Mt.INK_THICKNESS:Rn._defaultThickness=n;break;case Mt.INK_COLOR:Rn._defaultColor=n;break;case Mt.INK_OPACITY:Rn._defaultOpacity=n/100;break}}updateParams(t,n){switch(t){case Mt.INK_THICKNESS:j(this,rC,_Z).call(this,n);break;case Mt.INK_COLOR:j(this,sC,xZ).call(this,n);break;case Mt.INK_OPACITY:j(this,oC,AZ).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Mt.INK_THICKNESS,Rn._defaultThickness],[Mt.INK_COLOR,Rn._defaultColor||ln._defaultLineColor],[Mt.INK_OPACITY,Math.round(Rn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Mt.INK_THICKNESS,this.thickness||Rn._defaultThickness],[Mt.INK_COLOR,this.color||Rn._defaultColor||ln._defaultLineColor],[Mt.INK_OPACITY,Math.round(100*(this.opacity??Rn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(j(this,U2,KS).call(this),j(this,z2,YS).call(this)),this.isAttachedToDOM||(this.parent.add(this),j(this,Zu,Hp).call(this)),j(this,qf,nv).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,x(this,tl)&&(clearTimeout(x(this,tl)),z(this,tl,null)),(t=x(this,mc))==null||t.disconnect(),z(this,mc,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,n]=this.parentDimensions,r=this.width*t,s=this.height*n;this.setDimensions(r,s)}enableEditMode(){x(this,Mo)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",x(this,Wf),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",x(this,Wf)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){x(this,Mo)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),z(this,Mo,!0),this.div.classList.add("disabled"),j(this,qf,nv).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||x(this,Mo)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),j(this,lC,SZ).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),j(this,O3,NP).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),j(this,k3,UP).call(this,t)}canvasPointerleave(t){j(this,k3,UP).call(this,t)}get isResizable(){return!this.isEmpty()&&x(this,Mo)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,s,o,a]=j(this,aC,wZ).call(this);if(this.setAt(r,s,0,0),this.setDims(o,a),j(this,U2,KS).call(this),this.width){const[l,c]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*c),this.setAt(t*l,n*c,this.width*l,this.height*c),z(this,Kf,!0),j(this,Zu,Hp).call(this),this.setDims(this.width*l,this.height*c),j(this,gc,Id).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return j(this,z2,YS).call(this),this.div}setDimensions(t,n){const r=Math.round(t),s=Math.round(n);if(x(this,Yf)===r&&x(this,Jf)===s)return;z(this,Yf,r),z(this,Jf,s),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=t/o,this.height=n/a,this.fixAndSetPosition(),x(this,Mo)&&j(this,N3,zP).call(this,t,n),j(this,Zu,Hp).call(this),j(this,gc,Id).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,n,r){var _,v,A;if(t instanceof qq)return null;const s=super.deserialize(t,n,r);s.thickness=t.thickness,s.color=lt.makeHexColor(...t.color),s.opacity=t.opacity;const[o,a]=s.pageDimensions,l=s.width*o,c=s.height*a,u=s.parentScale,h=t.thickness/2;z(s,Mo,!0),z(s,Yf,Math.round(l)),z(s,Jf,Math.round(c));const{paths:d,rect:m,rotation:g}=t;for(let{bezier:w}of d){w=j(_=Rn,mC,PZ).call(_,w,m,g);const C=[];s.paths.push(C);let T=u*(w[0]-h),E=u*(w[1]-h);for(let D=2,I=w.length;D<I;D+=6){const L=u*(w[D]-h),O=u*(w[D+1]-h),X=u*(w[D+2]-h),W=u*(w[D+3]-h),q=u*(w[D+4]-h),$=u*(w[D+5]-h);C.push([[T,E],[L,O],[X,W],[q,$]]),T=q,E=$}const R=j(this,pC,RZ).call(this,C);s.bezierPath2D.push(R)}const y=j(v=s,z3,HP).call(v);return z(s,Vf,Math.max(ln.MIN_SIZE,y[2]-y[0])),z(s,Gf,Math.max(ln.MIN_SIZE,y[3]-y[1])),j(A=s,N3,zP).call(A,l,c),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),n=ln._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Wt.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:j(this,gC,IZ).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Gf=new WeakMap,Vf=new WeakMap,L3=new WeakMap,D3=new WeakMap,B3=new WeakMap,Wf=new WeakMap,tl=new WeakMap,pc=new WeakMap,Mo=new WeakMap,Xf=new WeakMap,Kf=new WeakMap,mc=new WeakMap,Yf=new WeakMap,Jf=new WeakMap,qu=new WeakMap,rC=new WeakSet,_Z=function(t){const n=s=>{this.thickness=s,j(this,qf,nv).call(this)},r=this.thickness;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},sC=new WeakSet,xZ=function(t){const n=s=>{this.color=s,j(this,gc,Id).call(this)},r=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},oC=new WeakSet,AZ=function(t){const n=s=>{this.opacity=s,j(this,gc,Id).call(this)};t/=100;const r=this.opacity;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},aC=new WeakSet,wZ=function(){const{parentRotation:t,parentDimensions:[n,r]}=this;switch(t){case 90:return[0,r,r,n];case 180:return[n,r,n,r];case 270:return[n,0,r,n];default:return[0,0,n,r]}},F3=new WeakSet,kP=function(){const{ctx:t,color:n,opacity:r,thickness:s,parentScale:o,scaleFactor:a}=this;t.lineWidth=s*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${n}${l3e(r)}`},lC=new WeakSet,SZ=function(t,n){const r=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Ss,{signal:r}),this.canvas.addEventListener("pointerleave",x(this,D3),{signal:r}),this.canvas.addEventListener("pointermove",x(this,L3),{signal:r}),this.canvas.addEventListener("pointerup",x(this,B3),{signal:r}),this.canvas.removeEventListener("pointerdown",x(this,Wf)),this.isEditing=!0,x(this,Kf)||(z(this,Kf,!0),j(this,Zu,Hp).call(this),this.thickness||(this.thickness=Rn._defaultThickness),this.color||(this.color=Rn._defaultColor||ln._defaultLineColor),this.opacity??(this.opacity=Rn._defaultOpacity)),this.currentPath.push([t,n]),z(this,Xf,!1),j(this,F3,kP).call(this),z(this,qu,()=>{j(this,hC,MZ).call(this),x(this,qu)&&window.requestAnimationFrame(x(this,qu))}),window.requestAnimationFrame(x(this,qu))},O3=new WeakSet,NP=function(t,n){const[r,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===r&&n===s)return;const o=this.currentPath;let a=x(this,pc);if(o.push([t,n]),z(this,Xf,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(t,n);return}o.length===3&&(z(this,pc,a=new Path2D),a.moveTo(...o[0])),j(this,dC,EZ).call(this,a,...o.at(-3),...o.at(-2),t,n)},cC=new WeakSet,bZ=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);x(this,pc).lineTo(...t)},uC=new WeakSet,CZ=function(t,n){z(this,qu,null),t=Math.min(Math.max(t,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),j(this,O3,NP).call(this,t,n),j(this,cC,bZ).call(this);let r;if(this.currentPath.length!==1)r=j(this,fC,TZ).call(this);else{const c=[t,n];r=[[c,c.slice(),c.slice(),c]]}const s=x(this,pc),o=this.currentPath;this.currentPath=[],z(this,pc,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(r),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(j(this,U2,KS).call(this),j(this,z2,YS).call(this)),j(this,qf,nv).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},hC=new WeakSet,MZ=function(){if(!x(this,Xf))return;z(this,Xf,!1);const t=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),r=n.map(a=>a[0]),s=n.map(a=>a[1]);Math.min(...r)-t,Math.max(...r)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(x(this,pc)),o.restore()},dC=new WeakSet,EZ=function(t,n,r,s,o,a,l){const c=(n+s)/2,u=(r+o)/2,h=(s+a)/2,d=(o+l)/2;t.bezierCurveTo(c+2*(s-c)/3,u+2*(o-u)/3,h+2*(s-h)/3,d+2*(o-d)/3,h,d)},fC=new WeakSet,TZ=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const n=[];let r,[s,o]=t[0];for(r=1;r<t.length-2;r++){const[m,g]=t[r],[y,_]=t[r+1],v=(m+y)/2,A=(g+_)/2,w=[s+2*(m-s)/3,o+2*(g-o)/3],C=[v+2*(m-v)/3,A+2*(g-A)/3];n.push([[s,o],w,C,[v,A]]),[s,o]=[v,A]}const[a,l]=t[r],[c,u]=t[r+1],h=[s+2*(a-s)/3,o+2*(l-o)/3],d=[c+2*(a-c)/3,u+2*(l-u)/3];return n.push([[s,o],h,d,[c,u]]),n},gc=new WeakSet,Id=function(){if(this.isEmpty()){j(this,j2,JS).call(this);return}j(this,F3,kP).call(this);const{canvas:t,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),j(this,j2,JS).call(this);for(const r of this.bezierPath2D)n.stroke(r)},k3=new WeakSet,UP=function(t){this.canvas.removeEventListener("pointerleave",x(this,D3)),this.canvas.removeEventListener("pointermove",x(this,L3)),this.canvas.removeEventListener("pointerup",x(this,B3)),this.canvas.addEventListener("pointerdown",x(this,Wf),{signal:this._uiManager._signal}),x(this,tl)&&clearTimeout(x(this,tl)),z(this,tl,setTimeout(()=>{z(this,tl,null),this.canvas.removeEventListener("contextmenu",Ss)},10)),j(this,uC,CZ).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},U2=new WeakSet,KS=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},z2=new WeakSet,YS=function(){z(this,mc,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),x(this,mc).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=x(this,mc))==null||t.disconnect(),z(this,mc,null)},{once:!0})},Zu=new WeakSet,Hp=function(){if(!x(this,Kf))return;const[t,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*n),j(this,j2,JS).call(this)},N3=new WeakSet,zP=function(t,n){const r=j(this,H2,qS).call(this),s=(t-r)/x(this,Vf),o=(n-r)/x(this,Gf);this.scaleFactor=Math.min(s,o)},j2=new WeakSet,JS=function(){const t=j(this,H2,qS).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},pC=new WeakSet,RZ=function(t){const n=new Path2D;for(let r=0,s=t.length;r<s;r++){const[o,a,l,c]=t[r];r===0&&n.moveTo(...o),n.bezierCurveTo(a[0],a[1],l[0],l[1],c[0],c[1])}return n},U3=new WeakSet,jP=function(t,n,r){const[s,o,a,l]=n;switch(r){case 0:for(let c=0,u=t.length;c<u;c+=2)t[c]+=s,t[c+1]=l-t[c+1];break;case 90:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=t[c+1]+s,t[c+1]=h+o}break;case 180:for(let c=0,u=t.length;c<u;c+=2)t[c]=a-t[c],t[c+1]+=o;break;case 270:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=a-t[c+1],t[c+1]=l-h}break;default:throw new Error("Invalid rotation")}return t},mC=new WeakSet,PZ=function(t,n,r){const[s,o,a,l]=n;switch(r){case 0:for(let c=0,u=t.length;c<u;c+=2)t[c]-=s,t[c+1]=l-t[c+1];break;case 90:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=t[c+1]-o,t[c+1]=h-s}break;case 180:for(let c=0,u=t.length;c<u;c+=2)t[c]=a-t[c],t[c+1]-=o;break;case 270:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=l-t[c+1],t[c+1]=a-h}break;default:throw new Error("Invalid rotation")}return t},gC=new WeakSet,IZ=function(t,n,r,s){var u,h;const o=[],a=this.thickness/2,l=t*n+a,c=t*r+a;for(const d of this.paths){const m=[],g=[];for(let y=0,_=d.length;y<_;y++){const[v,A,w,C]=d[y];if(v[0]===C[0]&&v[1]===C[1]&&_===1){const W=t*v[0]+l,q=t*v[1]+c;m.push(W,q),g.push(W,q);break}const T=t*v[0]+l,E=t*v[1]+c,R=t*A[0]+l,D=t*A[1]+c,I=t*w[0]+l,L=t*w[1]+c,O=t*C[0]+l,X=t*C[1]+c;y===0&&(m.push(T,E),g.push(T,E)),m.push(R,D,I,L,O,X),g.push(R,D),y===_-1&&g.push(O,X)}o.push({bezier:j(u=Rn,U3,jP).call(u,m,s,this.rotation),points:j(h=Rn,U3,jP).call(h,g,s,this.rotation)})}return o},z3=new WeakSet,HP=function(){let t=1/0,n=-1/0,r=1/0,s=-1/0;for(const o of this.paths)for(const[a,l,c,u]of o){const h=lt.bezierBoundingBox(...a,...l,...c,...u);t=Math.min(t,h[0]),r=Math.min(r,h[1]),n=Math.max(n,h[2]),s=Math.max(s,h[3])}return[t,r,n,s]},H2=new WeakSet,qS=function(){return x(this,Mo)?Math.ceil(this.thickness*this.parentScale):0},qf=new WeakSet,nv=function(t=!1){if(this.isEmpty())return;if(!x(this,Mo)){j(this,gc,Id).call(this);return}const n=j(this,z3,HP).call(this),r=j(this,H2,qS).call(this);z(this,Vf,Math.max(ln.MIN_SIZE,n[2]-n[0])),z(this,Gf,Math.max(ln.MIN_SIZE,n[3]-n[1]));const s=Math.ceil(r+x(this,Vf)*this.scaleFactor),o=Math.ceil(r+x(this,Gf)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=s/a,this.height=o/l,this.setAspectRatio(s,o);const c=this.translationX,u=this.translationY;this.translationX=-n[0],this.translationY=-n[1],j(this,Zu,Hp).call(this),j(this,gc,Id).call(this),z(this,Yf,s),z(this,Jf,o),this.setDims(s,o);const h=t?r/this.scaleFactor/2:0;this.translate(c-this.translationX-h,u-this.translationY-h)},F(Rn,pC),F(Rn,U3),F(Rn,mC),Rt(Rn,"_defaultColor",null),Rt(Rn,"_defaultOpacity",1),Rt(Rn,"_defaultThickness",1),Rt(Rn,"_type","ink"),Rt(Rn,"_editorType",Wt.INK);let OP=Rn;var rr,sr,Qu,vc,$u,G2,nl,yc,il,ga,j3,Zf,iv,Qf,rv,V2,ZS,H3,VP,vC,LZ,yC,DZ,G3,WP,W2,QS,_C,BZ;const Dv=class Dv extends ln{constructor(t){super({...t,name:"stampEditor"});F(this,Zf);F(this,Qf);F(this,V2);F(this,H3);F(this,vC);F(this,yC);F(this,G3);F(this,W2);F(this,_C);F(this,rr,null);F(this,sr,null);F(this,Qu,null);F(this,vc,null);F(this,$u,null);F(this,G2,"");F(this,nl,null);F(this,yc,null);F(this,il,null);F(this,ga,!1);F(this,j3,!1);z(this,vc,t.bitmapUrl),z(this,$u,t.bitmapFile)}static initialize(t,n){ln.initialize(t,n)}static get supportedTypes(){return Jt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Jt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(Wt.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,n;x(this,sr)&&(z(this,rr,null),this._uiManager.imageManager.deleteId(x(this,sr)),(t=x(this,nl))==null||t.remove(),z(this,nl,null),(n=x(this,yc))==null||n.disconnect(),z(this,yc,null),x(this,il)&&(clearTimeout(x(this,il)),z(this,il,null))),super.remove()}rebuild(){if(!this.parent){x(this,sr)&&j(this,V2,ZS).call(this);return}super.rebuild(),this.div!==null&&(x(this,sr)&&x(this,nl)===null&&j(this,V2,ZS).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(x(this,Qu)||x(this,rr)||x(this,vc)||x(this,$u)||x(this,sr))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),x(this,rr)?j(this,H3,VP).call(this):j(this,V2,ZS).call(this),this.width){const[r,s]=this.parentDimensions;this.setAt(t*r,n*s,this.width*r,this.height*s)}return this.div}getImageForAltText(){return x(this,nl)}static deserialize(t,n,r){if(t instanceof Zq)return null;const s=super.deserialize(t,n,r),{rect:o,bitmapUrl:a,bitmapId:l,isSvg:c,accessibilityData:u}=t;l&&r.imageManager.isValidId(l)?z(s,sr,l):z(s,vc,a),z(s,ga,c);const[h,d]=s.pageDimensions;return s.width=(o[2]-o[0])/h,s.height=(o[3]-o[1])/d,u&&(s.altTextData=u),s}serialize(t=!1,n=null){if(this.isEmpty())return null;const r={annotationType:Wt.STAMP,bitmapId:x(this,sr),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:x(this,ga),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=j(this,W2,QS).call(this,!0),r.accessibilityData=this.altTextData,r;const{decorative:s,altText:o}=this.altTextData;if(!s&&o&&(r.accessibilityData={type:"Figure",alt:o}),n===null)return r;n.stamps||(n.stamps=new Map);const a=x(this,ga)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(x(this,sr)))n.stamps.set(x(this,sr),{area:a,serialized:r}),r.bitmap=j(this,W2,QS).call(this,!1);else if(x(this,ga)){const l=n.stamps.get(x(this,sr));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=j(this,W2,QS).call(this,!1))}return r}};rr=new WeakMap,sr=new WeakMap,Qu=new WeakMap,vc=new WeakMap,$u=new WeakMap,G2=new WeakMap,nl=new WeakMap,yc=new WeakMap,il=new WeakMap,ga=new WeakMap,j3=new WeakMap,Zf=new WeakSet,iv=function(t,n=!1){if(!t){this.remove();return}z(this,rr,t.bitmap),n||(z(this,sr,t.id),z(this,ga,t.isSvg)),t.file&&z(this,G2,t.file.name),j(this,H3,VP).call(this)},Qf=new WeakSet,rv=function(){z(this,Qu,null),this._uiManager.enableWaiting(!1),x(this,nl)&&this.div.focus()},V2=new WeakSet,ZS=function(){if(x(this,sr)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(x(this,sr)).then(r=>j(this,Zf,iv).call(this,r,!0)).finally(()=>j(this,Qf,rv).call(this));return}if(x(this,vc)){const r=x(this,vc);z(this,vc,null),this._uiManager.enableWaiting(!0),z(this,Qu,this._uiManager.imageManager.getFromUrl(r).then(s=>j(this,Zf,iv).call(this,s)).finally(()=>j(this,Qf,rv).call(this)));return}if(x(this,$u)){const r=x(this,$u);z(this,$u,null),this._uiManager.enableWaiting(!0),z(this,Qu,this._uiManager.imageManager.getFromFile(r).then(s=>j(this,Zf,iv).call(this,s)).finally(()=>j(this,Qf,rv).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Dv.supportedTypesStr;const n=this._uiManager._signal;z(this,Qu,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);j(this,Zf,iv).call(this,s)}r()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>j(this,Qf,rv).call(this))),t.click()},H3=new WeakSet,VP=function(){const{div:t}=this;let{width:n,height:r}=x(this,rr);const[s,o]=this.pageDimensions,a=.75;if(this.width)n=this.width*s,r=this.height*o;else if(n>a*s||r>a*o){const h=Math.min(a*s/n,a*o/r);n*=h,r*=h}const[l,c]=this.parentDimensions;this.setDims(n*l/s,r*c/o),this._uiManager.enableWaiting(!1);const u=z(this,nl,document.createElement("canvas"));t.append(u),t.hidden=!1,j(this,G3,WP).call(this,n,r),j(this,_C,BZ).call(this),x(this,j3)||(this.parent.addUndoableEditor(this),z(this,j3,!0)),this._reportTelemetry({action:"inserted_image"}),x(this,G2)&&u.setAttribute("aria-label",x(this,G2))},vC=new WeakSet,LZ=function(t,n){var a;const[r,s]=this.parentDimensions;this.width=t/r,this.height=n/s,this.setDims(t,n),(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,x(this,il)!==null&&clearTimeout(x(this,il)),z(this,il,setTimeout(()=>{z(this,il,null),j(this,G3,WP).call(this,t,n)},200))},yC=new WeakSet,DZ=function(t,n){const{width:r,height:s}=x(this,rr);let o=r,a=s,l=x(this,rr);for(;o>2*t||a>2*n;){const c=o,u=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*n&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(o,a);h.getContext("2d").drawImage(l,0,0,c,u,0,0,o,a),l=h.transferToImageBitmap()}return l},G3=new WeakSet,WP=function(t,n){t=Math.ceil(t),n=Math.ceil(n);const r=x(this,nl);if(!r||r.width===t&&r.height===n)return;r.width=t,r.height=n;const s=x(this,ga)?x(this,rr):j(this,yC,DZ).call(this,t,n);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(t,n).getContext("2d");l.drawImage(s,0,0,s.width,s.height,0,0,t,n),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,t,n).data,width:t,height:n,channels:4}}).then(c=>{const u=(c==null?void 0:c.output)||"";this.parent&&u&&!this.hasAltText()&&(this.altTextData={altText:u,decorative:!1})})}const o=r.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(s,0,0,s.width,s.height,0,0,t,n)},W2=new WeakSet,QS=function(t){if(t){if(x(this,ga)){const s=this._uiManager.imageManager.getSvgUrl(x(this,sr));if(s)return s}const n=document.createElement("canvas");return{width:n.width,height:n.height}=x(this,rr),n.getContext("2d").drawImage(x(this,rr),0,0),n.toDataURL()}if(x(this,ga)){const[n,r]=this.pageDimensions,s=Math.round(this.width*n*Bh.PDF_TO_CSS_UNITS),o=Math.round(this.height*r*Bh.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(x(this,rr),0,0,x(this,rr).width,x(this,rr).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(x(this,rr))},_C=new WeakSet,BZ=function(){this._uiManager._signal&&(z(this,yc,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&j(this,vC,LZ).call(this,n.width,n.height)})),x(this,yc).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=x(this,yc))==null||t.disconnect(),z(this,yc,null)},{once:!0}))},Rt(Dv,"_type","stamp"),Rt(Dv,"_editorType",Wt.STAMP);let GP=Dv;var $f,X2,rl,e0,_c,xc,Ac,Hs,eh,K2,Y2,Xr,dt,th,xC,FZ,V3,KP,W3,YP,X3,JP,J2,$S;const $o=class $o{constructor({uiManager:e,pageIndex:t,div:n,accessibilityManager:r,annotationLayer:s,drawLayer:o,textLayer:a,viewport:l,l10n:c}){F(this,xC);F(this,V3);F(this,W3);F(this,X3);F(this,J2);F(this,$f,void 0);F(this,X2,!1);F(this,rl,null);F(this,e0,null);F(this,_c,null);F(this,xc,null);F(this,Ac,null);F(this,Hs,new Map);F(this,eh,!1);F(this,K2,!1);F(this,Y2,!1);F(this,Xr,null);F(this,dt,void 0);const u=[...x($o,th).values()];if(!$o._initialized){$o._initialized=!0;for(const h of u)h.initialize(c,e)}e.registerEditorTypes(u),z(this,dt,e),this.pageIndex=t,this.div=n,z(this,$f,r),z(this,rl,s),this.viewport=l,z(this,Xr,a),this.drawLayer=o,x(this,dt).addLayer(this)}get isEmpty(){return x(this,Hs).size===0}get isInvisible(){return this.isEmpty&&x(this,dt).getMode()===Wt.NONE}updateToolbar(e){x(this,dt).updateToolbar(e)}updateMode(e=x(this,dt).getMode()){switch(j(this,J2,$S).call(this),e){case Wt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Wt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Wt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of x($o,th).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=x(this,Xr))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(x(this,dt).getMode()!==Wt.INK)return;if(!e){for(const n of x(this,Hs).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){x(this,dt).setEditingState(e)}addCommands(e){x(this,dt).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=x(this,rl))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of x(this,Hs).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(x(this,dt).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!x(this,rl))return;const t=x(this,rl).getEditableAnnotations();for(const n of t){if(n.hide(),x(this,dt).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const r=this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;z(this,Y2,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of x(this,Hs).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(r=this.getEditableAnnotation(s.annotationElementId))==null||r.show(),s.remove()}if(x(this,rl)){const s=x(this,rl).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(x(this,dt).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(x(this,dt).addChangedExistingAnnotation(l),l.renderAnnotationElement(o),l.show(!1)),o.show()}}j(this,J2,$S).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const s of x($o,th).values())n.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),z(this,Y2,!1)}getEditableAnnotation(e){var t;return((t=x(this,rl))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){x(this,dt).getActive()!==e&&x(this,dt).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=x(this,Xr))!=null&&e.div&&!x(this,xc)&&(z(this,xc,j(this,xC,FZ).bind(this)),x(this,Xr).div.addEventListener("pointerdown",x(this,xc),{signal:x(this,dt)._signal}),x(this,Xr).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=x(this,Xr))!=null&&e.div&&x(this,xc)&&(x(this,Xr).div.removeEventListener("pointerdown",x(this,xc)),z(this,xc,null),x(this,Xr).div.classList.remove("highlighting"))}enableClick(){if(x(this,_c))return;const e=x(this,dt)._signal;z(this,_c,this.pointerdown.bind(this)),z(this,e0,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",x(this,_c),{signal:e}),this.div.addEventListener("pointerup",x(this,e0),{signal:e})}disableClick(){x(this,_c)&&(this.div.removeEventListener("pointerdown",x(this,_c)),this.div.removeEventListener("pointerup",x(this,e0)),z(this,_c,null),z(this,e0,null))}attach(e){x(this,Hs).set(e.id,e);const{annotationElementId:t}=e;t&&x(this,dt).isDeletedAnnotationElement(t)&&x(this,dt).removeDeletedAnnotationElement(e)}detach(e){var t;x(this,Hs).delete(e.id),(t=x(this,$f))==null||t.removePointerInTextLayer(e.contentDiv),!x(this,Y2)&&e.annotationElementId&&x(this,dt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),x(this,dt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,x(this,K2)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(x(this,dt).addDeletedAnnotationElement(e.annotationElementId),ln.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),x(this,dt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),x(this,dt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!x(this,Ac)&&(e._focusEventsAllowed=!1,z(this,Ac,setTimeout(()=>{z(this,Ac,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:x(this,dt)._signal}),t.focus())},0))),e._structTreeParentId=(n=x(this,$f))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return x(this,dt).getId()}get _signal(){return x(this,dt)._signal}canCreateNewEmptyEditor(){var e;return(e=x(this,V3,KP))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){x(this,dt).updateToolbar(e),x(this,dt).updateMode(e);const{offsetX:n,offsetY:r}=j(this,X3,JP).call(this),s=this.getNextId(),o=j(this,W3,YP).call(this,{parent:this,id:s,x:n,y:r,uiManager:x(this,dt),isCentered:!0,...t});o&&this.add(o)}deserialize(e){var t;return((t=x($o,th).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,x(this,dt)))||null}createAndAddNewEditor(e,t,n={}){const r=this.getNextId(),s=j(this,W3,YP).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:x(this,dt),isCentered:t,...n});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(j(this,X3,JP).call(this),!0)}setSelected(e){x(this,dt).setSelected(e)}toggleSelected(e){x(this,dt).toggleSelected(e)}isSelected(e){return x(this,dt).isSelected(e)}unselect(e){x(this,dt).unselect(e)}pointerup(e){const{isMac:t}=ms.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&x(this,eh)){if(z(this,eh,!1),!x(this,X2)){z(this,X2,!0);return}if(x(this,dt).getMode()===Wt.STAMP){x(this,dt).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(x(this,dt).getMode()===Wt.HIGHLIGHT&&this.enableTextSelection(),x(this,eh)){z(this,eh,!1);return}const{isMac:t}=ms.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;z(this,eh,!0);const n=x(this,dt).getActive();z(this,X2,!n||n.isEmpty())}findNewParent(e,t,n){const r=x(this,dt).findParent(t,n);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,t;((e=x(this,dt).getActive())==null?void 0:e.parent)===this&&(x(this,dt).commitOrRemove(),x(this,dt).setActiveEditor(null)),x(this,Ac)&&(clearTimeout(x(this,Ac)),z(this,Ac,null));for(const n of x(this,Hs).values())(t=x(this,$f))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,x(this,Hs).clear(),x(this,dt).removeLayer(this)}render({viewport:e}){this.viewport=e,T0(this.div,e);for(const t of x(this,dt).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){x(this,dt).commitOrRemove(),j(this,J2,$S).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,T0(this.div,{rotation:n}),t!==n)for(const r of x(this,Hs).values())r.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return x(this,dt).viewParameters.realScale}};$f=new WeakMap,X2=new WeakMap,rl=new WeakMap,e0=new WeakMap,_c=new WeakMap,xc=new WeakMap,Ac=new WeakMap,Hs=new WeakMap,eh=new WeakMap,K2=new WeakMap,Y2=new WeakMap,Xr=new WeakMap,dt=new WeakMap,th=new WeakMap,xC=new WeakSet,FZ=function(e){if(x(this,dt).unselectAll(),e.target===x(this,Xr).div){const{isMac:t}=ms.platform;if(e.button!==0||e.ctrlKey&&t)return;x(this,dt).showAllEditors("highlight",!0,!0),x(this,Xr).div.classList.add("free"),k4.startHighlighting(this,x(this,dt).direction==="ltr",e),x(this,Xr).div.addEventListener("pointerup",()=>{x(this,Xr).div.classList.remove("free")},{once:!0,signal:x(this,dt)._signal}),e.preventDefault()}},V3=new WeakSet,KP=function(){return x($o,th).get(x(this,dt).getMode())},W3=new WeakSet,YP=function(e){const t=x(this,V3,KP);return t?new t.prototype.constructor(e):null},X3=new WeakSet,JP=function(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+n),l=Math.min(window.innerHeight,t+r),c=(s+a)/2-e,u=(o+l)/2-t,[h,d]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:h,offsetY:d}},J2=new WeakSet,$S=function(){z(this,K2,!0);for(const e of x(this,Hs).values())e.isEmpty()&&e.remove();z(this,K2,!1)},Rt($o,"_initialized",!1),F($o,th,new Map([CP,OP,GP,k4].map(e=>[e._editorType,e])));let XP=$o;var sl,K3,Ci,nh,Y3,ZP,J3,QP,AC,OZ;const Qi=class Qi{constructor({pageIndex:e}){F(this,J3);F(this,AC);F(this,sl,null);F(this,K3,0);F(this,Ci,new Map);F(this,nh,new Map);this.pageIndex=e}setParent(e){if(!x(this,sl)){z(this,sl,e);return}if(x(this,sl)!==e){if(x(this,Ci).size>0)for(const t of x(this,Ci).values())t.remove(),e.append(t);z(this,sl,e)}}static get _svgFactory(){return Jt(this,"_svgFactory",new fD)}highlight(e,t,n,r=!1){const s=Ps(this,K3)._++,o=j(this,J3,QP).call(this,e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");const a=Qi._svgFactory.createElement("defs");o.append(a);const l=Qi._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),r&&x(this,nh).set(s,l);const u=j(this,AC,OZ).call(this,a,c),h=Qi._svgFactory.createElement("use");return o.append(h),o.setAttribute("fill",t),o.setAttribute("fill-opacity",n),h.setAttribute("href",`#${c}`),x(this,Ci).set(s,o),{id:s,clipPathId:`url(#${u})`}}highlightOutline(e){const t=Ps(this,K3)._++,n=j(this,J3,QP).call(this,e.box);n.classList.add("highlightOutline");const r=Qi._svgFactory.createElement("defs");n.append(r);const s=Qi._svgFactory.createElement("path");r.append(s);const o=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){n.classList.add("free");const u=Qi._svgFactory.createElement("mask");r.append(u),a=`mask_p${this.pageIndex}_${t}`,u.setAttribute("id",a),u.setAttribute("maskUnits","objectBoundingBox");const h=Qi._svgFactory.createElement("rect");u.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const d=Qi._svgFactory.createElement("use");u.append(d),d.setAttribute("href",`#${o}`),d.setAttribute("stroke","none"),d.setAttribute("fill","black"),d.setAttribute("fill-rule","nonzero"),d.classList.add("mask")}const l=Qi._svgFactory.createElement("use");n.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const c=l.cloneNode();return n.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),x(this,Ci).set(t,n),t}finalizeLine(e,t){const n=x(this,nh).get(e);x(this,nh).delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){x(this,Ci).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),x(this,nh).delete(e)}updatePath(e,t){x(this,nh).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var n;j(n=Qi,Y3,ZP).call(n,x(this,Ci).get(e),t)}show(e,t){x(this,Ci).get(e).classList.toggle("hidden",!t)}rotate(e,t){x(this,Ci).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){x(this,Ci).get(e).setAttribute("fill",t)}changeOpacity(e,t){x(this,Ci).get(e).setAttribute("fill-opacity",t)}addClass(e,t){x(this,Ci).get(e).classList.add(t)}removeClass(e,t){x(this,Ci).get(e).classList.remove(t)}remove(e){x(this,sl)!==null&&(x(this,Ci).get(e).remove(),x(this,Ci).delete(e))}destroy(){z(this,sl,null);for(const e of x(this,Ci).values())e.remove();x(this,Ci).clear()}};sl=new WeakMap,K3=new WeakMap,Ci=new WeakMap,nh=new WeakMap,Y3=new WeakSet,ZP=function(e,{x:t=0,y:n=0,width:r=1,height:s=1}={}){const{style:o}=e;o.top=`${100*n}%`,o.left=`${100*t}%`,o.width=`${100*r}%`,o.height=`${100*s}%`},J3=new WeakSet,QP=function(e){var n;const t=Qi._svgFactory.create(1,1,!0);return x(this,sl).append(t),t.setAttribute("aria-hidden",!0),j(n=Qi,Y3,ZP).call(n,t,e),t},AC=new WeakSet,OZ=function(e,t){const n=Qi._svgFactory.createElement("clipPath");e.append(n);const r=`clip_${t}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const s=Qi._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r},F(Qi,Y3);let qP=Qi;var Uxe=bt.AbortException,zxe=bt.AnnotationEditorLayer,jxe=bt.AnnotationEditorParamsType,Hxe=bt.AnnotationEditorType,Gxe=bt.AnnotationEditorUIManager,kZ=bt.AnnotationLayer,NZ=bt.AnnotationMode,Vxe=bt.CMapCompressionType,Wxe=bt.ColorPicker,Xxe=bt.DOMSVGFactory,Kxe=bt.DrawLayer,Yxe=bt.FeatureTest,AD=bt.GlobalWorkerOptions,Jxe=bt.ImageKind,qxe=bt.InvalidPDFException,Zxe=bt.MissingPDFException,Qxe=bt.OPS,$xe=bt.Outliner,eAe=bt.PDFDataRangeTransport,tAe=bt.PDFDateString,nAe=bt.PDFWorker,iAe=bt.PasswordResponses,rAe=bt.PermissionFlag,sAe=bt.PixelsPerInch,oAe=bt.RenderingCancelledException,UZ=bt.TextLayer,aAe=bt.UnexpectedResponseException,lAe=bt.Util,cAe=bt.VerbosityLevel,uAe=bt.XfaLayer,hAe=bt.build,dAe=bt.createValidAbsoluteUrl,fAe=bt.fetchData,zZ=bt.getDocument,pAe=bt.getFilenameFromUrl,mAe=bt.getPdfFilenameFromUrl,gAe=bt.getXfaPageViewport,vAe=bt.isDataScheme,yAe=bt.isPdfFile,_Ae=bt.noContextMenu,xAe=bt.normalizeUnicode,AAe=bt.renderTextLayer,wAe=bt.setLayerDimensions,SAe=bt.shadow,bAe=bt.updateTextLayer,CAe=bt.version;const MAe=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Uxe,AnnotationEditorLayer:zxe,AnnotationEditorParamsType:jxe,AnnotationEditorType:Hxe,AnnotationEditorUIManager:Gxe,AnnotationLayer:kZ,AnnotationMode:NZ,CMapCompressionType:Vxe,ColorPicker:Wxe,DOMSVGFactory:Xxe,DrawLayer:Kxe,FeatureTest:Yxe,GlobalWorkerOptions:AD,ImageKind:Jxe,InvalidPDFException:qxe,MissingPDFException:Zxe,OPS:Qxe,Outliner:$xe,PDFDataRangeTransport:eAe,PDFDateString:tAe,PDFWorker:nAe,PasswordResponses:iAe,PermissionFlag:rAe,PixelsPerInch:sAe,RenderingCancelledException:oAe,TextLayer:UZ,UnexpectedResponseException:aAe,Util:lAe,VerbosityLevel:cAe,XfaLayer:uAe,build:hAe,createValidAbsoluteUrl:dAe,fetchData:fAe,getDocument:zZ,getFilenameFromUrl:pAe,getPdfFilenameFromUrl:mAe,getXfaPageViewport:gAe,isDataScheme:vAe,isPdfFile:yAe,noContextMenu:_Ae,normalizeUnicode:xAe,renderTextLayer:AAe,setLayerDimensions:wAe,shadow:SAe,updateTextLayer:bAe,version:CAe},Symbol.toStringTag,{value:"Module"}));var Ui=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,s;n<r;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return i.concat(s||Array.prototype.slice.call(e))},EAe=["onCopy","onCut","onPaste"],TAe=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],RAe=["onFocus","onBlur"],PAe=["onInput","onInvalid","onReset","onSubmit"],IAe=["onLoad","onError"],LAe=["onKeyDown","onKeyPress","onKeyUp"],DAe=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],BAe=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],FAe=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],OAe=["onSelect"],kAe=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],NAe=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],UAe=["onScroll"],zAe=["onWheel"],jAe=["onAnimationStart","onAnimationEnd","onAnimationIteration"],HAe=["onTransitionEnd"],GAe=["onToggle"],VAe=["onChange"],WAe=Ui(Ui(Ui(Ui(Ui(Ui(Ui(Ui(Ui(Ui(Ui(Ui(Ui(Ui(Ui(Ui(Ui(Ui([],EAe,!0),TAe,!0),RAe,!0),PAe,!0),IAe,!0),LAe,!0),DAe,!0),BAe,!0),FAe,!0),OAe,!0),kAe,!0),NAe,!0),UAe,!0),zAe,!0),jAe,!0),HAe,!0),VAe,!0),GAe,!0);function jZ(i,e){var t={};return WAe.forEach(function(n){var r=i[n];r&&(e?t[n]=function(s){return r(s,e(n))}:t[n]=r)}),t}function Px(i){var e=!1,t=new Promise(function(n,r){i.then(function(s){return!e&&n(s)}).catch(function(s){return!e&&r(s)})});return{promise:t,cancel:function(){e=!0}}}function HZ(i){var e,t,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var r=i.length;for(e=0;e<r;e++)i[e]&&(t=HZ(i[e]))&&(n&&(n+=" "),n+=t)}else for(t in i)i[t]&&(n&&(n+=" "),n+=t);return n}function lE(){for(var i,e,t=0,n="",r=arguments.length;t<r;t++)(i=arguments[t])&&(e=HZ(i))&&(n&&(n+=" "),n+=e);return n}var XAe="Invariant failed";function yn(i,e){if(!i)throw new Error(XAe)}var KAe=function(){},YAe=KAe;const Rr=L0(YAe);var Yz=Object.prototype.hasOwnProperty;function Jz(i,e,t){for(t of i.keys())if(Pm(t,e))return t}function Pm(i,e){var t,n,r;if(i===e)return!0;if(i&&e&&(t=i.constructor)===e.constructor){if(t===Date)return i.getTime()===e.getTime();if(t===RegExp)return i.toString()===e.toString();if(t===Array){if((n=i.length)===e.length)for(;n--&&Pm(i[n],e[n]););return n===-1}if(t===Set){if(i.size!==e.size)return!1;for(n of i)if(r=n,r&&typeof r=="object"&&(r=Jz(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(i.size!==e.size)return!1;for(n of i)if(r=n[0],r&&typeof r=="object"&&(r=Jz(e,r),!r)||!Pm(n[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)i=new Uint8Array(i),e=new Uint8Array(e);else if(t===DataView){if((n=i.byteLength)===e.byteLength)for(;n--&&i.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(i)){if((n=i.byteLength)===e.byteLength)for(;n--&&i[n]===e[n];);return n===-1}if(!t||typeof i=="object"){n=0;for(t in i)if(Yz.call(i,t)&&++n&&!Yz.call(e,t)||!(t in e)||!Pm(i[t],e[t]))return!1;return Object.keys(e).length===n}}return i!==i&&e!==e}const GZ=N.createContext(null);function Im({children:i,type:e}){return S.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:i})}const JAe="noopener noreferrer nofollow";class qAe{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return yn(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){yn(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{yn(this.pdfDocument),yn(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{yn(Array.isArray(t));const n=t[0];new Promise(r=>{yn(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(s=>{r(s)}).catch(()=>{yn(!1)}):typeof n=="number"?r(n):yn(!1)}).then(r=>{const s=r+1;yn(this.pdfViewer),yn(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;yn(this.pdfViewer),yn(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||JAe,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const qz={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},cE=typeof document<"u",VZ=cE&&window.location.protocol==="file:";function ZAe(i){return typeof i<"u"}function vd(i){return ZAe(i)&&i!==null}function QAe(i){return typeof i=="string"}function $Ae(i){return i instanceof ArrayBuffer}function ewe(i){return yn(cE),i instanceof Blob}function $P(i){return QAe(i)&&/^data:/.test(i)}function Zz(i){yn($P(i));const[e="",t=""]=i.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function twe(){return cE&&window.devicePixelRatio||1}const WZ="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Qz(){Rr(!VZ,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${WZ}`)}function nwe(){Rr(!VZ,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${WZ}`)}function I0(i){i!=null&&i.cancel&&i.cancel()}function e7(i,e){return Object.defineProperty(i,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.view[3]},configurable:!0}),i}function iwe(i){return i.name==="RenderingCancelledException"}function rwe(i){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:s}=r.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(i)})}function swe(i,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function xg(){return N.useReducer(swe,{value:void 0,error:void 0})}var owe=function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((n=n.apply(i,e||[])).next())})},$z=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const{PDFDataRangeTransport:awe}=MAe,lwe=(i,e)=>{switch(e){case qz.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");i(t);break}case qz.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");i(t);break}}};function ej(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const cwe=N.forwardRef(function(e,t){var{children:n,className:r,error:s="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:a,file:l,inputRef:c,imageResourcesPath:u,loading:h="Loading PDF…",noData:d="No PDF file specified.",onItemClick:m,onLoadError:g,onLoadProgress:y,onLoadSuccess:_,onPassword:v=lwe,onSourceError:A,onSourceSuccess:w,options:C,renderMode:T,rotate:E}=e,R=$z(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[D,I]=xg(),{value:L,error:O}=D,[X,W]=xg(),{value:q,error:$}=X,Q=N.useRef(new qAe),ee=N.useRef([]),k=N.useRef(void 0),Z=N.useRef(void 0);l&&l!==k.current&&ej(l)&&(Rr(!Pm(l,k.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),k.current=l),C&&C!==Z.current&&(Rr(!Pm(C,Z.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Z.current=C);const K=N.useRef({scrollPageIntoView:me=>{const{dest:Ae,pageNumber:Ie,pageIndex:ge=Ie-1}=me;if(m){m({dest:Ae,pageIndex:ge,pageNumber:Ie});return}const Je=ee.current[ge];if(Je){Je.scrollIntoView();return}Rr(!1,`An internal link leading to page ${Ie} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});N.useImperativeHandle(t,()=>({linkService:Q,pages:ee,viewer:K}),[]);function ne(){w&&w()}function le(){O&&(Rr(!1,O.toString()),A&&A(O))}function ye(){I({type:"RESET"})}N.useEffect(ye,[l,I]);const re=N.useCallback(()=>owe(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return $P(l)?{data:Zz(l)}:(Qz(),{url:l});if(l instanceof awe)return{range:l};if($Ae(l))return{data:l};if(cE&&ewe(l))return{data:yield rwe(l)};if(yn(typeof l=="object"),yn(ej(l)),"url"in l&&typeof l.url=="string"){if($P(l.url)){const{url:me}=l,Ae=$z(l,["url"]),Ie=Zz(me);return Object.assign({data:Ie},Ae)}Qz()}return l}),[l]);N.useEffect(()=>{const me=Px(re());return me.promise.then(Ae=>{I({type:"RESOLVE",value:Ae})}).catch(Ae=>{I({type:"REJECT",error:Ae})}),()=>{I0(me)}},[re,I]),N.useEffect(()=>{if(!(typeof L>"u")){if(L===!1){le();return}ne()}},[L]);function pe(){q&&(_&&_(q),ee.current=new Array(q.numPages),Q.current.setDocument(q))}function Me(){$&&(Rr(!1,$.toString()),g&&g($))}N.useEffect(function(){W({type:"RESET"})},[W,L]),N.useEffect(function(){if(!L)return;const Ae=Object.assign(Object.assign({},L),C),Ie=zZ(Ae);y&&(Ie.onProgress=y),v&&(Ie.onPassword=v);const ge=Ie;return ge.promise.then(Je=>{W({type:"RESOLVE",value:Je})}).catch(Je=>{ge.destroyed||W({type:"REJECT",error:Je})}),()=>{ge.destroy()}},[C,W,L]),N.useEffect(()=>{if(!(typeof q>"u")){if(q===!1){Me();return}pe()}},[q]),N.useEffect(function(){Q.current.setViewer(K.current),Q.current.setExternalLinkRel(o),Q.current.setExternalLinkTarget(a)},[o,a]);const xe=N.useCallback((me,Ae)=>{ee.current[me]=Ae},[]),We=N.useCallback(me=>{delete ee.current[me]},[]),rt=N.useMemo(()=>({imageResourcesPath:u,linkService:Q.current,onItemClick:m,pdf:q,registerPage:xe,renderMode:T,rotate:E,unregisterPage:We}),[u,m,q,xe,T,E,We]),Be=N.useMemo(()=>jZ(R,()=>q),[R,q]);function He(){return S.jsx(GZ.Provider,{value:rt,children:n})}function G(){return l?q==null?S.jsx(Im,{type:"loading",children:typeof h=="function"?h():h}):q===!1?S.jsx(Im,{type:"error",children:typeof s=="function"?s():s}):He():S.jsx(Im,{type:"no-data",children:typeof d=="function"?d():d})}return S.jsx("div",Object.assign({className:lE("react-pdf__Document",r),ref:c,style:{"--scale-factor":"1"}},Be,{children:G()}))});function XZ(){return N.useContext(GZ)}function KZ(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var t=i.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(s){t.forEach(function(o){typeof o=="function"?o(s):o&&(o.current=s)})}}const YZ=N.createContext(null),JZ={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},uwe=/^H(\d+)$/;function hwe(i){return i in JZ}function uE(i){return"children"in i}function qZ(i){return uE(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function dwe(i){const e={};if(uE(i)){const{role:t}=i,n=t.match(uwe);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(hwe(t)){const r=JZ[t];r&&(e.role=r)}}return e}function ZZ(i){const e={};if(uE(i)){if(i.alt!==void 0&&(e["aria-label"]=i.alt),i.lang!==void 0&&(e.lang=i.lang),qZ(i)){const[t]=i.children;if(t){const n=ZZ(t);return Object.assign(Object.assign({},e),n)}}}else"id"in i&&(e["aria-owns"]=i.id);return e}function fwe(i){return i?Object.assign(Object.assign({},dwe(i)),ZZ(i)):null}function QZ({className:i,node:e}){const t=N.useMemo(()=>fwe(e),[e]),n=N.useMemo(()=>!uE(e)||qZ(e)?null:e.children.map((r,s)=>S.jsx(QZ,{node:r},s)),[e]);return S.jsx("span",Object.assign({className:i},t,{children:n}))}function hE(){return N.useContext(YZ)}function pwe(){const i=hE();yn(i);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=i,[n,r]=xg(),{value:s,error:o}=n,{customTextRenderer:a,page:l}=i;function c(){s&&t&&t(s)}function u(){o&&(Rr(!1,o.toString()),e&&e(o))}return N.useEffect(function(){r({type:"RESET"})},[r,l]),N.useEffect(function(){if(a||!l)return;const d=Px(l.getStructTree()),m=d;return d.promise.then(g=>{r({type:"RESOLVE",value:g})}).catch(g=>{r({type:"REJECT",error:g})}),()=>I0(m)},[a,l,r]),N.useEffect(()=>{if(s!==void 0){if(s===!1){u();return}c()}},[s]),s?S.jsx(QZ,{className:"react-pdf__Page__structTree structTree",node:s}):null}const tj=NZ;function mwe(i){const e=hE();yn(e);const t=Object.assign(Object.assign({},e),i),{_className:n,canvasBackground:r,devicePixelRatio:s=twe(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:c,renderTextLayer:u,rotate:h,scale:d}=t,{canvasRef:m}=i;yn(l);const g=N.useRef(null);function y(){l&&a&&a(e7(l,d))}function _(C){iwe(C)||(Rr(!1,C.toString()),o&&o(C))}const v=N.useMemo(()=>l.getViewport({scale:d*s,rotation:h}),[s,l,h,d]),A=N.useMemo(()=>l.getViewport({scale:d,rotation:h}),[l,h,d]);N.useEffect(function(){if(!l)return;l.cleanup();const{current:T}=g;if(!T)return;T.width=v.width,T.height=v.height,T.style.width=`${Math.floor(A.width)}px`,T.style.height=`${Math.floor(A.height)}px`,T.style.visibility="hidden";const E={annotationMode:c?tj.ENABLE_FORMS:tj.ENABLE,canvasContext:T.getContext("2d",{alpha:!1}),viewport:v};r&&(E.background=r);const R=l.render(E),D=R;return R.promise.then(()=>{T.style.visibility="",y()}).catch(_),()=>I0(D)},[r,l,c,v,A]);const w=N.useCallback(()=>{const{current:C}=g;C&&(C.width=0,C.height=0)},[]);return N.useEffect(()=>w,[w]),S.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:KZ(m,g),style:{display:"block",userSelect:"none"},children:u?S.jsx(pwe,{}):null})}function gwe(i){return"str"in i}function vwe(){const i=hE();yn(i);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:r,onRenderTextLayerSuccess:s,page:o,pageIndex:a,pageNumber:l,rotate:c,scale:u}=i;yn(o);const[h,d]=xg(),{value:m,error:g}=h,y=N.useRef(null),_=N.useRef(void 0);Rr(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function v(){m&&n&&n(m)}function A(){g&&(Rr(!1,g.toString()),t&&t(g))}N.useEffect(function(){d({type:"RESET"})},[o,d]),N.useEffect(function(){if(!o)return;const I=Px(o.getTextContent()),L=I;return I.promise.then(O=>{d({type:"RESOLVE",value:O})}).catch(O=>{d({type:"REJECT",error:O})}),()=>I0(L)},[o,d]),N.useEffect(()=>{if(m!==void 0){if(m===!1){A();return}v()}},[m]);const w=N.useCallback(()=>{s&&s()},[s]),C=N.useCallback(D=>{Rr(!1,D.toString()),r&&r(D)},[r]);function T(){const D=_.current;D&&D.classList.add("active")}function E(){const D=_.current;D&&D.classList.remove("active")}const R=N.useMemo(()=>o.getViewport({scale:u,rotation:c}),[o,c,u]);return N.useLayoutEffect(function(){if(!o||!m)return;const{current:I}=y;if(!I)return;I.innerHTML="";const L=o.streamTextContent({includeMarkedContent:!0}),O={container:I,textContentSource:L,viewport:R},X=new UZ(O),W=X;return X.render().then(()=>{const q=document.createElement("div");q.className="endOfContent",I.append(q),_.current=q;const $=I.querySelectorAll('[role="presentation"]');if(e){let Q=0;m.items.forEach((ee,k)=>{if(!gwe(ee))return;const Z=$[Q];if(!Z)return;const K=e(Object.assign({pageIndex:a,pageNumber:l,itemIndex:k},ee));Z.innerHTML=K,Q+=ee.str&&ee.hasEOL?2:1})}w()}).catch(C),()=>I0(W)},[e,C,w,o,a,l,m,R]),S.jsx("div",{className:lE("react-pdf__Page__textContent","textLayer"),onMouseUp:E,onMouseDown:T,ref:y})}function ywe(){const i=XZ(),e=hE();yn(e);const t=Object.assign(Object.assign({},i),e),{imageResourcesPath:n,linkService:r,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:c,pdf:u,renderForms:h,rotate:d,scale:m=1}=t;yn(u),yn(c),yn(r);const[g,y]=xg(),{value:_,error:v}=g,A=N.useRef(null);Rr(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function w(){_&&o&&o(_)}function C(){v&&(Rr(!1,v.toString()),s&&s(v))}N.useEffect(function(){y({type:"RESET"})},[y,c]),N.useEffect(function(){if(!c)return;const I=Px(c.getAnnotations()),L=I;return I.promise.then(O=>{y({type:"RESOLVE",value:O})}).catch(O=>{y({type:"REJECT",error:O})}),()=>{I0(L)}},[y,c]),N.useEffect(()=>{if(_!==void 0){if(_===!1){C();return}w()}},[_]);function T(){l&&l()}function E(D){Rr(!1,`${D}`),a&&a(D)}const R=N.useMemo(()=>c.getViewport({scale:m,rotation:d}),[c,d,m]);return N.useEffect(function(){if(!u||!c||!r||!_)return;const{current:I}=A;if(!I)return;const L=R.clone({dontFlip:!0}),O={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:I,l10n:null,page:c,viewport:L},X={annotations:_,annotationStorage:u.annotationStorage,div:I,imageResourcesPath:n,linkService:r,page:c,renderForms:h,viewport:L};I.innerHTML="";try{new kZ(O).render(X),T()}catch(W){E(W)}return()=>{}},[_,n,r,c,u,h,R]),S.jsx("div",{className:lE("react-pdf__Page__annotations","annotationLayer"),ref:A})}var _we=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const nj=1;function xwe(i){const e=XZ(),t=Object.assign(Object.assign({},e),i),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:s,canvasRef:o,children:a,className:l,customRenderer:c,customTextRenderer:u,devicePixelRatio:h,error:d="Failed to load the page.",height:m,inputRef:g,loading:y="Loading page…",noData:_="No page specified.",onGetAnnotationsError:v,onGetAnnotationsSuccess:A,onGetStructTreeError:w,onGetStructTreeSuccess:C,onGetTextError:T,onGetTextSuccess:E,onLoadError:R,onLoadSuccess:D,onRenderAnnotationLayerError:I,onRenderAnnotationLayerSuccess:L,onRenderError:O,onRenderSuccess:X,onRenderTextLayerError:W,onRenderTextLayerSuccess:q,pageIndex:$,pageNumber:Q,pdf:ee,registerPage:k,renderAnnotationLayer:Z=!0,renderForms:K=!1,renderMode:ne="canvas",renderTextLayer:le=!0,rotate:ye,scale:re=nj,unregisterPage:pe,width:Me}=t,xe=_we(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[We,rt]=xg(),{value:Be,error:He}=We,G=N.useRef(null);yn(ee);const me=vd(Q)?Q-1:$??null,Ae=Q??(vd($)?$+1:null),Ie=ye??(Be?Be.rotate:null),ge=N.useMemo(()=>{if(!Be)return null;let Le=1;const Xe=re??nj;if(Me||m){const yt=Be.getViewport({scale:1,rotation:Ie});Me?Le=Me/yt.width:m&&(Le=m/yt.height)}return Xe*Le},[m,Be,Ie,re,Me]);N.useEffect(function(){return()=>{vd(me)&&r&&pe&&pe(me)}},[r,ee,me,pe]);function Je(){if(D){if(!Be||!ge)return;D(e7(Be,ge))}if(r&&k){if(!vd(me)||!G.current)return;k(me,G.current)}}function Ue(){He&&(Rr(!1,He.toString()),R&&R(He))}N.useEffect(function(){rt({type:"RESET"})},[rt,ee,me]),N.useEffect(function(){if(!ee||!Ae)return;const Xe=Px(ee.getPage(Ae)),yt=Xe;return Xe.promise.then(De=>{rt({type:"RESOLVE",value:De})}).catch(De=>{rt({type:"REJECT",error:De})}),()=>I0(yt)},[rt,ee,Ae]),N.useEffect(()=>{if(Be!==void 0){if(Be===!1){Ue();return}Je()}},[Be,ge]);const Ke=N.useMemo(()=>Be&&vd(me)&&Ae&&vd(Ie)&&vd(ge)?{_className:n,canvasBackground:s,customTextRenderer:u,devicePixelRatio:h,onGetAnnotationsError:v,onGetAnnotationsSuccess:A,onGetStructTreeError:w,onGetStructTreeSuccess:C,onGetTextError:T,onGetTextSuccess:E,onRenderAnnotationLayerError:I,onRenderAnnotationLayerSuccess:L,onRenderError:O,onRenderSuccess:X,onRenderTextLayerError:W,onRenderTextLayerSuccess:q,page:Be,pageIndex:me,pageNumber:Ae,renderForms:K,renderTextLayer:le,rotate:Ie,scale:ge}:null,[n,s,u,h,v,A,w,C,T,E,I,L,O,X,W,q,Be,me,Ae,K,le,Ie,ge]),J=N.useMemo(()=>jZ(xe,()=>Be&&(ge?e7(Be,ge):void 0)),[xe,Be,ge]),U=`${me}@${ge}/${Ie}`;function ue(){switch(ne){case"custom":return yn(c),S.jsx(c,{},`${U}_custom`);case"none":return null;case"canvas":default:return S.jsx(mwe,{canvasRef:o},`${U}_canvas`)}}function Te(){return le?S.jsx(vwe,{},`${U}_text`):null}function Ee(){return Z?S.jsx(ywe,{},`${U}_annotations`):null}function Re(){return S.jsxs(YZ.Provider,{value:Ke,children:[ue(),Te(),Ee(),a]})}function ot(){return Ae?ee===null||Be===void 0||Be===null?S.jsx(Im,{type:"loading",children:typeof y=="function"?y():y}):ee===!1||Be===!1?S.jsx(Im,{type:"error",children:typeof d=="function"?d():d}):Re():S.jsx(Im,{type:"no-data",children:typeof _=="function"?_():_})}return S.jsx("div",Object.assign({className:lE(n,l),"data-page-number":Ae,ref:KZ(g,G),style:{"--scale-factor":`${ge}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},J,{children:ot()}))}nwe();AD.workerSrc="pdf.worker.mjs";AD.workerSrc=new URL("/assets/pdf.worker.min-DGf6LXVo.mjs",import.meta.url).toString();const Awe={cMapUrl:"/cmaps/",standardFontDataUrl:"/standard_fonts/"},wwe={},ij=1e3,Swe=({title:i,path:e,downloadFilename:t})=>{const[n,r]=N.useState(),[s,o]=N.useState(null),[a,l]=N.useState(),c=N.useCallback(d=>{const[m]=d;m&&l(m.contentRect.width)},[]);U_e(s,wwe,c);function u({numPages:d}){r(d)}function h(){const d=s;d.requestFullscreen?d.requestFullscreen():d.webkitRequestFullscreen?d.webkitRequestFullscreen():d.mozRequestFullScreen?d.mozRequestFullScreen():d.msRequestFullscreen&&d.msRequestFullscreen()}return S.jsxs("div",{className:"PDFViewer",children:[S.jsxs("header",{className:"flex justify-between items-center ",children:[S.jsx("h1",{children:i}),S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("a",{href:e,download:t,children:S.jsx("img",{src:FG,alt:"download icon",className:"w-4 h-4 object-contain"})}),S.jsx("button",{onClick:h,children:S.jsx("img",{src:OG,alt:"enlarge icon",className:"w-5 h-5 object-contain"})})]})]}),S.jsx("div",{className:"PDFViewer__container",children:S.jsx("div",{className:"PDFViewer__container__document",ref:o,children:S.jsx(cwe,{file:e,onLoadSuccess:u,options:Awe,children:Array.from(new Array(n),(d,m)=>S.jsx(xwe,{pageNumber:m+1,width:a?Math.min(a,ij):ij},`page_${m+1}`))})})})]})},bwe=i=>N.createElement("svg",{className:"sun",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 496 496",style:{enableBackground:"new 0 0 496 496"},xmlSpace:"preserve",...i},N.createElement("rect",{x:152.994,y:58.921,transform:"matrix(0.3827 0.9239 -0.9239 0.3827 168.6176 -118.5145)",width:40.001,height:16}),N.createElement("rect",{x:46.9,y:164.979,transform:"matrix(0.9239 0.3827 -0.3827 0.9239 71.29 -12.4346)",width:40.001,height:16}),N.createElement("rect",{x:46.947,y:315.048,transform:"matrix(0.9239 -0.3827 0.3827 0.9239 -118.531 50.2116)",width:40.001,height:16}),N.createElement("rect",{x:164.966,y:409.112,transform:"matrix(-0.9238 -0.3828 0.3828 -0.9238 168.4872 891.7491)",width:16,height:39.999}),N.createElement("rect",{x:303.031,y:421.036,transform:"matrix(-0.3827 -0.9239 0.9239 -0.3827 50.2758 891.6655)",width:40.001,height:16}),N.createElement("rect",{x:409.088,y:315.018,transform:"matrix(-0.9239 -0.3827 0.3827 -0.9239 701.898 785.6559)",width:40.001,height:16}),N.createElement("rect",{x:409.054,y:165.011,transform:"matrix(-0.9239 0.3827 -0.3827 -0.9239 891.6585 168.6574)",width:40.001,height:16}),N.createElement("rect",{x:315.001,y:46.895,transform:"matrix(0.9238 0.3828 -0.3828 0.9238 50.212 -118.5529)",width:16,height:39.999}),N.createElement("path",{d:"M248,88c-88.224,0-160,71.776-160,160s71.776,160,160,160s160-71.776,160-160S336.224,88,248,88z M248,392 c-79.4,0-144-64.6-144-144s64.6-144,144-144s144,64.6,144,144S327.4,392,248,392z"}),N.createElement("rect",{x:240,width:16,height:72}),N.createElement("rect",{x:62.097,y:90.096,transform:"matrix(0.7071 0.7071 -0.7071 0.7071 98.0963 -40.6334)",width:71.999,height:16}),N.createElement("rect",{y:240,width:72,height:16}),N.createElement("rect",{x:90.091,y:361.915,transform:"matrix(-0.7071 -0.7071 0.7071 -0.7071 -113.9157 748.643)",width:16,height:71.999}),N.createElement("rect",{x:240,y:424,width:16,height:72}),N.createElement("rect",{x:361.881,y:389.915,transform:"matrix(-0.7071 -0.7071 0.7071 -0.7071 397.8562 960.6281)",width:71.999,height:16}),N.createElement("rect",{x:424,y:240,width:72,height:16}),N.createElement("rect",{x:389.911,y:62.091,transform:"matrix(0.7071 0.7071 -0.7071 0.7071 185.9067 -252.6357)",width:16,height:71.999})),Cwe=i=>N.createElement("svg",{className:"moon",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 49.739 49.739",style:{enableBackground:"new 0 0 49.739 49.739"},xmlSpace:"preserve",...i},N.createElement("path",{d:"M25.068,48.889c-9.173,0-18.017-5.06-22.396-13.804C-3.373,23.008,1.164,8.467,13.003,1.979l2.061-1.129l-0.615,2.268        c-1.479,5.459-0.899,11.25,1.633,16.306c2.75,5.493,7.476,9.587,13.305,11.526c5.831,1.939,12.065,1.492,17.559-1.258v0        c0.25-0.125,0.492-0.258,0.734-0.391l2.061-1.13l-0.585,2.252c-1.863,6.873-6.577,12.639-12.933,15.822        C32.639,48.039,28.825,48.888,25.068,48.889z M12.002,4.936c-9.413,6.428-12.756,18.837-7.54,29.253        c5.678,11.34,19.522,15.945,30.864,10.268c5.154-2.582,9.136-7.012,11.181-12.357c-5.632,2.427-11.882,2.702-17.752,0.748        c-6.337-2.108-11.473-6.557-14.463-12.528C11.899,15.541,11.11,10.16,12.002,4.936z"})),Mwe=({toggleTheme:i,theme:e})=>S.jsxs("div",{className:"dark_mode",children:[S.jsx("input",{className:"dark_mode_input",type:"checkbox",id:"darkmode-toggle",onChange:i,defaultChecked:e==="dark"}),S.jsxs("label",{className:"dark_mode_label",htmlFor:"darkmode-toggle",children:[S.jsx(bwe,{alt:"light mode"}),S.jsx(Cwe,{alt:"dark mode"})]})]}),Ewe=()=>{const{pathname:i}=k0();N.useEffect(()=>{window.scrollTo(0,0)},[i])},Twe="light",Rwe=()=>{const[i,e]=N.useState(localStorage.getItem("theme")||Twe),[t,n]=N.useState(!1),r=N.useRef(new Audio(Rie));return r.current.volume=.4,r.current.loop=!0,N.useEffect(()=>(t&&r.current.play(),()=>{r.current.pause()}),[t]),S.jsx("main",{className:"bg-slate-300/20",children:S.jsxs(fne,{children:[S.jsx(O_e,{theme:i,setTheme:e}),S.jsx(L_e,{theme:i}),S.jsx("div",{className:"music-toggle",children:S.jsx("img",{src:t?BG:DG,alt:"jukebox",onClick:()=>n(!t),className:"w-6 h-6 md:w-8 md:h-8 cursor-pointer object-contain z-30"})})]})})};ET.createRoot(document.getElementById("root")).render(S.jsx(Rwe,{}));export{Iwe as c,L0 as g};
