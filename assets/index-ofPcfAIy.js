var jQ=Object.defineProperty;var HQ=(i,e,t)=>e in i?jQ(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var Rt=(i,e,t)=>(HQ(i,typeof e!="symbol"?e+"":e,t),t),p8=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)};var x=(i,e,t)=>(p8(i,e,"read from private field"),t?t.call(i):e.get(i)),F=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},z=(i,e,t,n)=>(p8(i,e,"write to private field"),n?n.call(i,t):e.set(i,t),t);var Es=(i,e,t,n)=>({set _(r){z(i,e,r,t)},get _(){return x(i,e,n)}}),j=(i,e,t)=>(p8(i,e,"access private method"),t);function GQ(i,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in i)){const s=Object.getOwnPropertyDescriptor(n,r);s&&Object.defineProperty(i,r,s.get?s:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var cSe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function R0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function VQ(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var r=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return i[n]}})}),t}var ej={exports:{}},xC={},tj={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y3=Symbol.for("react.element"),WQ=Symbol.for("react.portal"),XQ=Symbol.for("react.fragment"),KQ=Symbol.for("react.strict_mode"),YQ=Symbol.for("react.profiler"),JQ=Symbol.for("react.provider"),qQ=Symbol.for("react.context"),ZQ=Symbol.for("react.forward_ref"),QQ=Symbol.for("react.suspense"),$Q=Symbol.for("react.memo"),e$=Symbol.for("react.lazy"),QB=Symbol.iterator;function t$(i){return i===null||typeof i!="object"?null:(i=QB&&i[QB]||i["@@iterator"],typeof i=="function"?i:null)}var nj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ij=Object.assign,rj={};function _g(i,e,t){this.props=i,this.context=e,this.refs=rj,this.updater=t||nj}_g.prototype.isReactComponent={};_g.prototype.setState=function(i,e){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,e,"setState")};_g.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function sj(){}sj.prototype=_g.prototype;function qP(i,e,t){this.props=i,this.context=e,this.refs=rj,this.updater=t||nj}var ZP=qP.prototype=new sj;ZP.constructor=qP;ij(ZP,_g.prototype);ZP.isPureReactComponent=!0;var $B=Array.isArray,oj=Object.prototype.hasOwnProperty,QP={current:null},aj={key:!0,ref:!0,__self:!0,__source:!0};function lj(i,e,t){var n,r={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)oj.call(e,n)&&!aj.hasOwnProperty(n)&&(r[n]=e[n]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(i&&i.defaultProps)for(n in a=i.defaultProps,a)r[n]===void 0&&(r[n]=a[n]);return{$$typeof:Y3,type:i,key:s,ref:o,props:r,_owner:QP.current}}function n$(i,e){return{$$typeof:Y3,type:i.type,key:e,ref:i.ref,props:i.props,_owner:i._owner}}function $P(i){return typeof i=="object"&&i!==null&&i.$$typeof===Y3}function i$(i){var e={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(t){return e[t]})}var eF=/\/+/g;function m8(i,e){return typeof i=="object"&&i!==null&&i.key!=null?i$(""+i.key):e.toString(36)}function i5(i,e,t,n,r){var s=typeof i;(s==="undefined"||s==="boolean")&&(i=null);var o=!1;if(i===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(i.$$typeof){case Y3:case WQ:o=!0}}if(o)return o=i,r=r(o),i=n===""?"."+m8(o,0):n,$B(r)?(t="",i!=null&&(t=i.replace(eF,"$&/")+"/"),i5(r,e,t,"",function(c){return c})):r!=null&&($P(r)&&(r=n$(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(eF,"$&/")+"/")+i)),e.push(r)),1;if(o=0,n=n===""?".":n+":",$B(i))for(var a=0;a<i.length;a++){s=i[a];var l=n+m8(s,a);o+=i5(s,e,t,l,r)}else if(l=t$(i),typeof l=="function")for(i=l.call(i),a=0;!(s=i.next()).done;)s=s.value,l=n+m8(s,a++),o+=i5(s,e,t,l,r);else if(s==="object")throw e=String(i),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function EA(i,e,t){if(i==null)return i;var n=[],r=0;return i5(i,n,"","",function(s){return e.call(t,s,r++)}),n}function r$(i){if(i._status===-1){var e=i._result;e=e(),e.then(function(t){(i._status===0||i._status===-1)&&(i._status=1,i._result=t)},function(t){(i._status===0||i._status===-1)&&(i._status=2,i._result=t)}),i._status===-1&&(i._status=0,i._result=e)}if(i._status===1)return i._result.default;throw i._result}var Zr={current:null},r5={transition:null},s$={ReactCurrentDispatcher:Zr,ReactCurrentBatchConfig:r5,ReactCurrentOwner:QP};function cj(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:EA,forEach:function(i,e,t){EA(i,function(){e.apply(this,arguments)},t)},count:function(i){var e=0;return EA(i,function(){e++}),e},toArray:function(i){return EA(i,function(e){return e})||[]},only:function(i){if(!$P(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};jt.Component=_g;jt.Fragment=XQ;jt.Profiler=YQ;jt.PureComponent=qP;jt.StrictMode=KQ;jt.Suspense=QQ;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s$;jt.act=cj;jt.cloneElement=function(i,e,t){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var n=ij({},i.props),r=i.key,s=i.ref,o=i._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=QP.current),e.key!==void 0&&(r=""+e.key),i.type&&i.type.defaultProps)var a=i.type.defaultProps;for(l in e)oj.call(e,l)&&!aj.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Y3,type:i.type,key:r,ref:s,props:n,_owner:o}};jt.createContext=function(i){return i={$$typeof:qQ,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:JQ,_context:i},i.Consumer=i};jt.createElement=lj;jt.createFactory=function(i){var e=lj.bind(null,i);return e.type=i,e};jt.createRef=function(){return{current:null}};jt.forwardRef=function(i){return{$$typeof:ZQ,render:i}};jt.isValidElement=$P;jt.lazy=function(i){return{$$typeof:e$,_payload:{_status:-1,_result:i},_init:r$}};jt.memo=function(i,e){return{$$typeof:$Q,type:i,compare:e===void 0?null:e}};jt.startTransition=function(i){var e=r5.transition;r5.transition={};try{i()}finally{r5.transition=e}};jt.unstable_act=cj;jt.useCallback=function(i,e){return Zr.current.useCallback(i,e)};jt.useContext=function(i){return Zr.current.useContext(i)};jt.useDebugValue=function(){};jt.useDeferredValue=function(i){return Zr.current.useDeferredValue(i)};jt.useEffect=function(i,e){return Zr.current.useEffect(i,e)};jt.useId=function(){return Zr.current.useId()};jt.useImperativeHandle=function(i,e,t){return Zr.current.useImperativeHandle(i,e,t)};jt.useInsertionEffect=function(i,e){return Zr.current.useInsertionEffect(i,e)};jt.useLayoutEffect=function(i,e){return Zr.current.useLayoutEffect(i,e)};jt.useMemo=function(i,e){return Zr.current.useMemo(i,e)};jt.useReducer=function(i,e,t){return Zr.current.useReducer(i,e,t)};jt.useRef=function(i){return Zr.current.useRef(i)};jt.useState=function(i){return Zr.current.useState(i)};jt.useSyncExternalStore=function(i,e,t){return Zr.current.useSyncExternalStore(i,e,t)};jt.useTransition=function(){return Zr.current.useTransition()};jt.version="18.3.1";tj.exports=jt;var U=tj.exports;const rn=R0(U),o$=GQ({__proto__:null,default:rn},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a$=U,l$=Symbol.for("react.element"),c$=Symbol.for("react.fragment"),u$=Object.prototype.hasOwnProperty,h$=a$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d$={key:!0,ref:!0,__self:!0,__source:!0};function uj(i,e,t){var n,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)u$.call(e,n)&&!d$.hasOwnProperty(n)&&(r[n]=e[n]);if(i&&i.defaultProps)for(n in e=i.defaultProps,e)r[n]===void 0&&(r[n]=e[n]);return{$$typeof:l$,type:i,key:s,ref:o,props:r,_owner:h$.current}}xC.Fragment=c$;xC.jsx=uj;xC.jsxs=uj;ej.exports=xC;var w=ej.exports,ST={},hj={exports:{}},no={},dj={exports:{}},fj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function e(k,q){var K=k.length;k.push(q);e:for(;0<K;){var ne=K-1>>>1,le=k[ne];if(0<r(le,q))k[ne]=q,k[K]=le,K=ne;else break e}}function t(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var q=k[0],K=k.pop();if(K!==q){k[0]=K;e:for(var ne=0,le=k.length,ye=le>>>1;ne<ye;){var re=2*(ne+1)-1,pe=k[re],Me=re+1,xe=k[Me];if(0>r(pe,K))Me<le&&0>r(xe,pe)?(k[ne]=xe,k[Me]=K,ne=Me):(k[ne]=pe,k[re]=K,ne=re);else if(Me<le&&0>r(xe,K))k[ne]=xe,k[Me]=K,ne=Me;else break e}}return q}function r(k,q){var K=k.sortIndex-q.sortIndex;return K!==0?K:k.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();i.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,m=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(k){for(var q=t(c);q!==null;){if(q.callback===null)n(c);else if(q.startTime<=k)n(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=t(c)}}function C(k){if(y=!1,S(k),!g)if(t(l)!==null)g=!0,Q(T);else{var q=t(c);q!==null&&ee(C,q.startTime-k)}}function T(k,q){g=!1,y&&(y=!1,v(D),D=-1),m=!0;var K=d;try{for(S(q),h=t(l);h!==null&&(!(h.expirationTime>q)||k&&!O());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,d=h.priorityLevel;var le=ne(h.expirationTime<=q);q=i.unstable_now(),typeof le=="function"?h.callback=le:h===t(l)&&n(l),S(q)}else n(l);h=t(l)}if(h!==null)var ye=!0;else{var re=t(c);re!==null&&ee(C,re.startTime-q),ye=!1}return ye}finally{h=null,d=K,m=!1}}var E=!1,R=null,D=-1,I=5,L=-1;function O(){return!(i.unstable_now()-L<I)}function W(){if(R!==null){var k=i.unstable_now();L=k;var q=!0;try{q=R(!0,k)}finally{q?X():(E=!1,R=null)}}else E=!1}var X;if(typeof A=="function")X=function(){A(W)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,$=Z.port2;Z.port1.onmessage=W,X=function(){$.postMessage(null)}}else X=function(){_(W,0)};function Q(k){R=k,E||(E=!0,X())}function ee(k,q){D=_(function(){k(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(k){k.callback=null},i.unstable_continueExecution=function(){g||m||(g=!0,Q(T))},i.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<k?Math.floor(1e3/k):5},i.unstable_getCurrentPriorityLevel=function(){return d},i.unstable_getFirstCallbackNode=function(){return t(l)},i.unstable_next=function(k){switch(d){case 1:case 2:case 3:var q=3;break;default:q=d}var K=d;d=q;try{return k()}finally{d=K}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(k,q){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var K=d;d=k;try{return q()}finally{d=K}},i.unstable_scheduleCallback=function(k,q,K){var ne=i.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,k){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=K+le,k={id:u++,callback:q,priorityLevel:k,startTime:K,expirationTime:le,sortIndex:-1},K>ne?(k.sortIndex=K,e(c,k),t(l)===null&&k===t(c)&&(y?(v(D),D=-1):y=!0,ee(C,K-ne))):(k.sortIndex=le,e(l,k),g||m||(g=!0,Q(T))),k},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(k){var q=d;return function(){var K=d;d=q;try{return k.apply(this,arguments)}finally{d=K}}}})(fj);dj.exports=fj;var f$=dj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p$=U,Zs=f$;function Fe(i){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+i,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+i+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pj=new Set,Lv={};function P0(i,e){Y2(i,e),Y2(i+"Capture",e)}function Y2(i,e){for(Lv[i]=e,i=0;i<e.length;i++)pj.add(e[i])}var Oc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wT=Object.prototype.hasOwnProperty,m$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tF={},nF={};function g$(i){return wT.call(nF,i)?!0:wT.call(tF,i)?!1:m$.test(i)?nF[i]=!0:(tF[i]=!0,!1)}function v$(i,e,t,n){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function y$(i,e,t,n){if(e===null||typeof e>"u"||v$(i,e,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qr(i,e,t,n,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=i,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var hr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){hr[i]=new Qr(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var e=i[0];hr[e]=new Qr(e,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){hr[i]=new Qr(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){hr[i]=new Qr(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){hr[i]=new Qr(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){hr[i]=new Qr(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){hr[i]=new Qr(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){hr[i]=new Qr(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){hr[i]=new Qr(i,5,!1,i.toLowerCase(),null,!1,!1)});var e7=/[\-:]([a-z])/g;function t7(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var e=i.replace(e7,t7);hr[e]=new Qr(e,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var e=i.replace(e7,t7);hr[e]=new Qr(e,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var e=i.replace(e7,t7);hr[e]=new Qr(e,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){hr[i]=new Qr(i,1,!1,i.toLowerCase(),null,!1,!1)});hr.xlinkHref=new Qr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){hr[i]=new Qr(i,1,!1,i.toLowerCase(),null,!0,!0)});function n7(i,e,t,n){var r=hr.hasOwnProperty(e)?hr[e]:null;(r!==null?r.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(y$(e,t,r,n)&&(t=null),n||r===null?g$(e)&&(t===null?i.removeAttribute(e):i.setAttribute(e,""+t)):r.mustUseProperty?i[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,n=r.attributeNamespace,t===null?i.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,n?i.setAttributeNS(n,e,t):i.setAttribute(e,t))))}var Xc=p$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,TA=Symbol.for("react.element"),zp=Symbol.for("react.portal"),jp=Symbol.for("react.fragment"),i7=Symbol.for("react.strict_mode"),bT=Symbol.for("react.profiler"),mj=Symbol.for("react.provider"),gj=Symbol.for("react.context"),r7=Symbol.for("react.forward_ref"),CT=Symbol.for("react.suspense"),MT=Symbol.for("react.suspense_list"),s7=Symbol.for("react.memo"),xu=Symbol.for("react.lazy"),vj=Symbol.for("react.offscreen"),iF=Symbol.iterator;function Zg(i){return i===null||typeof i!="object"?null:(i=iF&&i[iF]||i["@@iterator"],typeof i=="function"?i:null)}var Wn=Object.assign,g8;function P1(i){if(g8===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);g8=e&&e[1]||""}return`
`+g8+i}var v8=!1;function y8(i,e){if(!i||v8)return"";v8=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(i,[],e)}else{try{e.call()}catch(c){n=c}i.call(e.prototype)}else{try{throw Error()}catch(c){n=c}i()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=n.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return i.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",i.displayName)),l}while(1<=o&&0<=a);break}}}finally{v8=!1,Error.prepareStackTrace=t}return(i=i?i.displayName||i.name:"")?P1(i):""}function _$(i){switch(i.tag){case 5:return P1(i.type);case 16:return P1("Lazy");case 13:return P1("Suspense");case 19:return P1("SuspenseList");case 0:case 2:case 15:return i=y8(i.type,!1),i;case 11:return i=y8(i.type.render,!1),i;case 1:return i=y8(i.type,!0),i;default:return""}}function ET(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case jp:return"Fragment";case zp:return"Portal";case bT:return"Profiler";case i7:return"StrictMode";case CT:return"Suspense";case MT:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case gj:return(i.displayName||"Context")+".Consumer";case mj:return(i._context.displayName||"Context")+".Provider";case r7:var e=i.render;return i=i.displayName,i||(i=e.displayName||e.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case s7:return e=i.displayName||null,e!==null?e:ET(i.type)||"Memo";case xu:e=i._payload,i=i._init;try{return ET(i(e))}catch{}}return null}function x$(i){var e=i.type;switch(i.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=e.render,i=i.displayName||i.name||"",e.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ET(e);case 8:return e===i7?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sh(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function yj(i){var e=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function A$(i){var e=yj(i)?"checked":"value",t=Object.getOwnPropertyDescriptor(i.constructor.prototype,e),n=""+i[e];if(!i.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(i,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(i,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){i._valueTracker=null,delete i[e]}}}}function RA(i){i._valueTracker||(i._valueTracker=A$(i))}function _j(i){if(!i)return!1;var e=i._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return i&&(n=yj(i)?i.checked?"true":"false":i.value),i=n,i!==t?(e.setValue(i),!0):!1}function Q5(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function TT(i,e){var t=e.checked;return Wn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??i._wrapperState.initialChecked})}function rF(i,e){var t=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;t=Sh(e.value!=null?e.value:t),i._wrapperState={initialChecked:n,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xj(i,e){e=e.checked,e!=null&&n7(i,"checked",e,!1)}function RT(i,e){xj(i,e);var t=Sh(e.value),n=e.type;if(t!=null)n==="number"?(t===0&&i.value===""||i.value!=t)&&(i.value=""+t):i.value!==""+t&&(i.value=""+t);else if(n==="submit"||n==="reset"){i.removeAttribute("value");return}e.hasOwnProperty("value")?PT(i,e.type,t):e.hasOwnProperty("defaultValue")&&PT(i,e.type,Sh(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(i.defaultChecked=!!e.defaultChecked)}function sF(i,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+i._wrapperState.initialValue,t||e===i.value||(i.value=e),i.defaultValue=e}t=i.name,t!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,t!==""&&(i.name=t)}function PT(i,e,t){(e!=="number"||Q5(i.ownerDocument)!==i)&&(t==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+t&&(i.defaultValue=""+t))}var I1=Array.isArray;function dm(i,e,t,n){if(i=i.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<i.length;t++)r=e.hasOwnProperty("$"+i[t].value),i[t].selected!==r&&(i[t].selected=r),r&&n&&(i[t].defaultSelected=!0)}else{for(t=""+Sh(t),e=null,r=0;r<i.length;r++){if(i[r].value===t){i[r].selected=!0,n&&(i[r].defaultSelected=!0);return}e!==null||i[r].disabled||(e=i[r])}e!==null&&(e.selected=!0)}}function IT(i,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Fe(91));return Wn({},e,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function oF(i,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Fe(92));if(I1(t)){if(1<t.length)throw Error(Fe(93));t=t[0]}e=t}e==null&&(e=""),t=e}i._wrapperState={initialValue:Sh(t)}}function Aj(i,e){var t=Sh(e.value),n=Sh(e.defaultValue);t!=null&&(t=""+t,t!==i.value&&(i.value=t),e.defaultValue==null&&i.defaultValue!==t&&(i.defaultValue=t)),n!=null&&(i.defaultValue=""+n)}function aF(i){var e=i.textContent;e===i._wrapperState.initialValue&&e!==""&&e!==null&&(i.value=e)}function Sj(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function LT(i,e){return i==null||i==="http://www.w3.org/1999/xhtml"?Sj(e):i==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var PA,wj=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return i(e,t,n,r)})}:i}(function(i,e){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=e;else{for(PA=PA||document.createElement("div"),PA.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=PA.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;e.firstChild;)i.appendChild(e.firstChild)}});function Dv(i,e){if(e){var t=i.firstChild;if(t&&t===i.lastChild&&t.nodeType===3){t.nodeValue=e;return}}i.textContent=e}var nv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S$=["Webkit","ms","Moz","O"];Object.keys(nv).forEach(function(i){S$.forEach(function(e){e=e+i.charAt(0).toUpperCase()+i.substring(1),nv[e]=nv[i]})});function bj(i,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||nv.hasOwnProperty(i)&&nv[i]?(""+e).trim():e+"px"}function Cj(i,e){i=i.style;for(var t in e)if(e.hasOwnProperty(t)){var n=t.indexOf("--")===0,r=bj(t,e[t],n);t==="float"&&(t="cssFloat"),n?i.setProperty(t,r):i[t]=r}}var w$=Wn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function DT(i,e){if(e){if(w$[i]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Fe(137,i));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Fe(62))}}function BT(i,e){if(i.indexOf("-")===-1)return typeof e.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FT=null;function o7(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var OT=null,fm=null,pm=null;function lF(i){if(i=Z3(i)){if(typeof OT!="function")throw Error(Fe(280));var e=i.stateNode;e&&(e=CC(e),OT(i.stateNode,i.type,e))}}function Mj(i){fm?pm?pm.push(i):pm=[i]:fm=i}function Ej(){if(fm){var i=fm,e=pm;if(pm=fm=null,lF(i),e)for(i=0;i<e.length;i++)lF(e[i])}}function Tj(i,e){return i(e)}function Rj(){}var _8=!1;function Pj(i,e,t){if(_8)return i(e,t);_8=!0;try{return Tj(i,e,t)}finally{_8=!1,(fm!==null||pm!==null)&&(Rj(),Ej())}}function Bv(i,e){var t=i.stateNode;if(t===null)return null;var n=CC(t);if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(i=i.type,n=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!n;break e;default:i=!1}if(i)return null;if(t&&typeof t!="function")throw Error(Fe(231,e,typeof t));return t}var kT=!1;if(Oc)try{var Qg={};Object.defineProperty(Qg,"passive",{get:function(){kT=!0}}),window.addEventListener("test",Qg,Qg),window.removeEventListener("test",Qg,Qg)}catch{kT=!1}function b$(i,e,t,n,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var iv=!1,$5=null,ew=!1,NT=null,C$={onError:function(i){iv=!0,$5=i}};function M$(i,e,t,n,r,s,o,a,l){iv=!1,$5=null,b$.apply(C$,arguments)}function E$(i,e,t,n,r,s,o,a,l){if(M$.apply(this,arguments),iv){if(iv){var c=$5;iv=!1,$5=null}else throw Error(Fe(198));ew||(ew=!0,NT=c)}}function I0(i){var e=i,t=i;if(i.alternate)for(;e.return;)e=e.return;else{i=e;do e=i,e.flags&4098&&(t=e.return),i=e.return;while(i)}return e.tag===3?t:null}function Ij(i){if(i.tag===13){var e=i.memoizedState;if(e===null&&(i=i.alternate,i!==null&&(e=i.memoizedState)),e!==null)return e.dehydrated}return null}function cF(i){if(I0(i)!==i)throw Error(Fe(188))}function T$(i){var e=i.alternate;if(!e){if(e=I0(i),e===null)throw Error(Fe(188));return e!==i?null:i}for(var t=i,n=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(n=r.return,n!==null){t=n;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return cF(r),i;if(s===n)return cF(r),e;s=s.sibling}throw Error(Fe(188))}if(t.return!==n.return)t=r,n=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,n=s;break}if(a===n){o=!0,n=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,n=r;break}if(a===n){o=!0,n=s,t=r;break}a=a.sibling}if(!o)throw Error(Fe(189))}}if(t.alternate!==n)throw Error(Fe(190))}if(t.tag!==3)throw Error(Fe(188));return t.stateNode.current===t?i:e}function Lj(i){return i=T$(i),i!==null?Dj(i):null}function Dj(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var e=Dj(i);if(e!==null)return e;i=i.sibling}return null}var Bj=Zs.unstable_scheduleCallback,uF=Zs.unstable_cancelCallback,R$=Zs.unstable_shouldYield,P$=Zs.unstable_requestPaint,li=Zs.unstable_now,I$=Zs.unstable_getCurrentPriorityLevel,a7=Zs.unstable_ImmediatePriority,Fj=Zs.unstable_UserBlockingPriority,tw=Zs.unstable_NormalPriority,L$=Zs.unstable_LowPriority,Oj=Zs.unstable_IdlePriority,AC=null,ll=null;function D$(i){if(ll&&typeof ll.onCommitFiberRoot=="function")try{ll.onCommitFiberRoot(AC,i,void 0,(i.current.flags&128)===128)}catch{}}var ya=Math.clz32?Math.clz32:O$,B$=Math.log,F$=Math.LN2;function O$(i){return i>>>=0,i===0?32:31-(B$(i)/F$|0)|0}var IA=64,LA=4194304;function L1(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function nw(i,e){var t=i.pendingLanes;if(t===0)return 0;var n=0,r=i.suspendedLanes,s=i.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?n=L1(a):(s&=o,s!==0&&(n=L1(s)))}else o=t&~r,o!==0?n=L1(o):s!==0&&(n=L1(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&r)&&(r=n&-n,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(n&4&&(n|=t&16),e=i.entangledLanes,e!==0)for(i=i.entanglements,e&=n;0<e;)t=31-ya(e),r=1<<t,n|=i[t],e&=~r;return n}function k$(i,e){switch(i){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N$(i,e){for(var t=i.suspendedLanes,n=i.pingedLanes,r=i.expirationTimes,s=i.pendingLanes;0<s;){var o=31-ya(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&n)&&(r[o]=k$(a,e)):l<=e&&(i.expiredLanes|=a),s&=~a}}function UT(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function kj(){var i=IA;return IA<<=1,!(IA&4194240)&&(IA=64),i}function x8(i){for(var e=[],t=0;31>t;t++)e.push(i);return e}function J3(i,e,t){i.pendingLanes|=e,e!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,e=31-ya(e),i[e]=t}function U$(i,e){var t=i.pendingLanes&~e;i.pendingLanes=e,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=e,i.mutableReadLanes&=e,i.entangledLanes&=e,e=i.entanglements;var n=i.eventTimes;for(i=i.expirationTimes;0<t;){var r=31-ya(t),s=1<<r;e[r]=0,n[r]=-1,i[r]=-1,t&=~s}}function l7(i,e){var t=i.entangledLanes|=e;for(i=i.entanglements;t;){var n=31-ya(t),r=1<<n;r&e|i[n]&e&&(i[n]|=e),t&=~r}}var un=0;function Nj(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Uj,c7,zj,jj,Hj,zT=!1,DA=[],ah=null,lh=null,ch=null,Fv=new Map,Ov=new Map,Su=[],z$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hF(i,e){switch(i){case"focusin":case"focusout":ah=null;break;case"dragenter":case"dragleave":lh=null;break;case"mouseover":case"mouseout":ch=null;break;case"pointerover":case"pointerout":Fv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ov.delete(e.pointerId)}}function $g(i,e,t,n,r,s){return i===null||i.nativeEvent!==s?(i={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Z3(e),e!==null&&c7(e)),i):(i.eventSystemFlags|=n,e=i.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),i)}function j$(i,e,t,n,r){switch(e){case"focusin":return ah=$g(ah,i,e,t,n,r),!0;case"dragenter":return lh=$g(lh,i,e,t,n,r),!0;case"mouseover":return ch=$g(ch,i,e,t,n,r),!0;case"pointerover":var s=r.pointerId;return Fv.set(s,$g(Fv.get(s)||null,i,e,t,n,r)),!0;case"gotpointercapture":return s=r.pointerId,Ov.set(s,$g(Ov.get(s)||null,i,e,t,n,r)),!0}return!1}function Gj(i){var e=Ld(i.target);if(e!==null){var t=I0(e);if(t!==null){if(e=t.tag,e===13){if(e=Ij(t),e!==null){i.blockedOn=e,Hj(i.priority,function(){zj(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){i.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}i.blockedOn=null}function s5(i){if(i.blockedOn!==null)return!1;for(var e=i.targetContainers;0<e.length;){var t=jT(i.domEventName,i.eventSystemFlags,e[0],i.nativeEvent);if(t===null){t=i.nativeEvent;var n=new t.constructor(t.type,t);FT=n,t.target.dispatchEvent(n),FT=null}else return e=Z3(t),e!==null&&c7(e),i.blockedOn=t,!1;e.shift()}return!0}function dF(i,e,t){s5(i)&&t.delete(e)}function H$(){zT=!1,ah!==null&&s5(ah)&&(ah=null),lh!==null&&s5(lh)&&(lh=null),ch!==null&&s5(ch)&&(ch=null),Fv.forEach(dF),Ov.forEach(dF)}function e1(i,e){i.blockedOn===e&&(i.blockedOn=null,zT||(zT=!0,Zs.unstable_scheduleCallback(Zs.unstable_NormalPriority,H$)))}function kv(i){function e(r){return e1(r,i)}if(0<DA.length){e1(DA[0],i);for(var t=1;t<DA.length;t++){var n=DA[t];n.blockedOn===i&&(n.blockedOn=null)}}for(ah!==null&&e1(ah,i),lh!==null&&e1(lh,i),ch!==null&&e1(ch,i),Fv.forEach(e),Ov.forEach(e),t=0;t<Su.length;t++)n=Su[t],n.blockedOn===i&&(n.blockedOn=null);for(;0<Su.length&&(t=Su[0],t.blockedOn===null);)Gj(t),t.blockedOn===null&&Su.shift()}var mm=Xc.ReactCurrentBatchConfig,iw=!0;function G$(i,e,t,n){var r=un,s=mm.transition;mm.transition=null;try{un=1,u7(i,e,t,n)}finally{un=r,mm.transition=s}}function V$(i,e,t,n){var r=un,s=mm.transition;mm.transition=null;try{un=4,u7(i,e,t,n)}finally{un=r,mm.transition=s}}function u7(i,e,t,n){if(iw){var r=jT(i,e,t,n);if(r===null)P8(i,e,n,rw,t),hF(i,n);else if(j$(r,i,e,t,n))n.stopPropagation();else if(hF(i,n),e&4&&-1<z$.indexOf(i)){for(;r!==null;){var s=Z3(r);if(s!==null&&Uj(s),s=jT(i,e,t,n),s===null&&P8(i,e,n,rw,t),s===r)break;r=s}r!==null&&n.stopPropagation()}else P8(i,e,n,null,t)}}var rw=null;function jT(i,e,t,n){if(rw=null,i=o7(n),i=Ld(i),i!==null)if(e=I0(i),e===null)i=null;else if(t=e.tag,t===13){if(i=Ij(e),i!==null)return i;i=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;i=null}else e!==i&&(i=null);return rw=i,null}function Vj(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I$()){case a7:return 1;case Fj:return 4;case tw:case L$:return 16;case Oj:return 536870912;default:return 16}default:return 16}}var $u=null,h7=null,o5=null;function Wj(){if(o5)return o5;var i,e=h7,t=e.length,n,r="value"in $u?$u.value:$u.textContent,s=r.length;for(i=0;i<t&&e[i]===r[i];i++);var o=t-i;for(n=1;n<=o&&e[t-n]===r[s-n];n++);return o5=r.slice(i,1<n?1-n:void 0)}function a5(i){var e=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&e===13&&(i=13)):i=e,i===10&&(i=13),32<=i||i===13?i:0}function BA(){return!0}function fF(){return!1}function io(i){function e(t,n,r,s,o){this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in i)i.hasOwnProperty(a)&&(t=i[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?BA:fF,this.isPropagationStopped=fF,this}return Wn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=BA)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=BA)},persist:function(){},isPersistent:BA}),e}var xg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d7=io(xg),q3=Wn({},xg,{view:0,detail:0}),W$=io(q3),A8,S8,t1,SC=Wn({},q3,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:f7,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==t1&&(t1&&i.type==="mousemove"?(A8=i.screenX-t1.screenX,S8=i.screenY-t1.screenY):S8=A8=0,t1=i),A8)},movementY:function(i){return"movementY"in i?i.movementY:S8}}),pF=io(SC),X$=Wn({},SC,{dataTransfer:0}),K$=io(X$),Y$=Wn({},q3,{relatedTarget:0}),w8=io(Y$),J$=Wn({},xg,{animationName:0,elapsedTime:0,pseudoElement:0}),q$=io(J$),Z$=Wn({},xg,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Q$=io(Z$),$$=Wn({},xg,{data:0}),mF=io($$),eee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iee(i){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(i):(i=nee[i])?!!e[i]:!1}function f7(){return iee}var ree=Wn({},q3,{key:function(i){if(i.key){var e=eee[i.key]||i.key;if(e!=="Unidentified")return e}return i.type==="keypress"?(i=a5(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tee[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:f7,charCode:function(i){return i.type==="keypress"?a5(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?a5(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),see=io(ree),oee=Wn({},SC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gF=io(oee),aee=Wn({},q3,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:f7}),lee=io(aee),cee=Wn({},xg,{propertyName:0,elapsedTime:0,pseudoElement:0}),uee=io(cee),hee=Wn({},SC,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),dee=io(hee),fee=[9,13,27,32],p7=Oc&&"CompositionEvent"in window,rv=null;Oc&&"documentMode"in document&&(rv=document.documentMode);var pee=Oc&&"TextEvent"in window&&!rv,Xj=Oc&&(!p7||rv&&8<rv&&11>=rv),vF=" ",yF=!1;function Kj(i,e){switch(i){case"keyup":return fee.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yj(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Hp=!1;function mee(i,e){switch(i){case"compositionend":return Yj(e);case"keypress":return e.which!==32?null:(yF=!0,vF);case"textInput":return i=e.data,i===vF&&yF?null:i;default:return null}}function gee(i,e){if(Hp)return i==="compositionend"||!p7&&Kj(i,e)?(i=Wj(),o5=h7=$u=null,Hp=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xj&&e.locale!=="ko"?null:e.data;default:return null}}var vee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _F(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e==="input"?!!vee[i.type]:e==="textarea"}function Jj(i,e,t,n){Mj(n),e=sw(e,"onChange"),0<e.length&&(t=new d7("onChange","change",null,t,n),i.push({event:t,listeners:e}))}var sv=null,Nv=null;function yee(i){oH(i,0)}function wC(i){var e=Wp(i);if(_j(e))return i}function _ee(i,e){if(i==="change")return e}var qj=!1;if(Oc){var b8;if(Oc){var C8="oninput"in document;if(!C8){var xF=document.createElement("div");xF.setAttribute("oninput","return;"),C8=typeof xF.oninput=="function"}b8=C8}else b8=!1;qj=b8&&(!document.documentMode||9<document.documentMode)}function AF(){sv&&(sv.detachEvent("onpropertychange",Zj),Nv=sv=null)}function Zj(i){if(i.propertyName==="value"&&wC(Nv)){var e=[];Jj(e,Nv,i,o7(i)),Pj(yee,e)}}function xee(i,e,t){i==="focusin"?(AF(),sv=e,Nv=t,sv.attachEvent("onpropertychange",Zj)):i==="focusout"&&AF()}function Aee(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return wC(Nv)}function See(i,e){if(i==="click")return wC(e)}function wee(i,e){if(i==="input"||i==="change")return wC(e)}function bee(i,e){return i===e&&(i!==0||1/i===1/e)||i!==i&&e!==e}var xa=typeof Object.is=="function"?Object.is:bee;function Uv(i,e){if(xa(i,e))return!0;if(typeof i!="object"||i===null||typeof e!="object"||e===null)return!1;var t=Object.keys(i),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var r=t[n];if(!wT.call(e,r)||!xa(i[r],e[r]))return!1}return!0}function SF(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function wF(i,e){var t=SF(i);i=0;for(var n;t;){if(t.nodeType===3){if(n=i+t.textContent.length,i<=e&&n>=e)return{node:t,offset:e-i};i=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=SF(t)}}function Qj(i,e){return i&&e?i===e?!0:i&&i.nodeType===3?!1:e&&e.nodeType===3?Qj(i,e.parentNode):"contains"in i?i.contains(e):i.compareDocumentPosition?!!(i.compareDocumentPosition(e)&16):!1:!1}function $j(){for(var i=window,e=Q5();e instanceof i.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)i=e.contentWindow;else break;e=Q5(i.document)}return e}function m7(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e&&(e==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||e==="textarea"||i.contentEditable==="true")}function Cee(i){var e=$j(),t=i.focusedElem,n=i.selectionRange;if(e!==t&&t&&t.ownerDocument&&Qj(t.ownerDocument.documentElement,t)){if(n!==null&&m7(t)){if(e=n.start,i=n.end,i===void 0&&(i=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(i,t.value.length);else if(i=(e=t.ownerDocument||document)&&e.defaultView||window,i.getSelection){i=i.getSelection();var r=t.textContent.length,s=Math.min(n.start,r);n=n.end===void 0?s:Math.min(n.end,r),!i.extend&&s>n&&(r=n,n=s,s=r),r=wF(t,s);var o=wF(t,n);r&&o&&(i.rangeCount!==1||i.anchorNode!==r.node||i.anchorOffset!==r.offset||i.focusNode!==o.node||i.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),i.removeAllRanges(),s>n?(i.addRange(e),i.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),i.addRange(e)))}}for(e=[],i=t;i=i.parentNode;)i.nodeType===1&&e.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)i=e[t],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Mee=Oc&&"documentMode"in document&&11>=document.documentMode,Gp=null,HT=null,ov=null,GT=!1;function bF(i,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;GT||Gp==null||Gp!==Q5(n)||(n=Gp,"selectionStart"in n&&m7(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ov&&Uv(ov,n)||(ov=n,n=sw(HT,"onSelect"),0<n.length&&(e=new d7("onSelect","select",null,e,t),i.push({event:e,listeners:n}),e.target=Gp)))}function FA(i,e){var t={};return t[i.toLowerCase()]=e.toLowerCase(),t["Webkit"+i]="webkit"+e,t["Moz"+i]="moz"+e,t}var Vp={animationend:FA("Animation","AnimationEnd"),animationiteration:FA("Animation","AnimationIteration"),animationstart:FA("Animation","AnimationStart"),transitionend:FA("Transition","TransitionEnd")},M8={},eH={};Oc&&(eH=document.createElement("div").style,"AnimationEvent"in window||(delete Vp.animationend.animation,delete Vp.animationiteration.animation,delete Vp.animationstart.animation),"TransitionEvent"in window||delete Vp.transitionend.transition);function bC(i){if(M8[i])return M8[i];if(!Vp[i])return i;var e=Vp[i],t;for(t in e)if(e.hasOwnProperty(t)&&t in eH)return M8[i]=e[t];return i}var tH=bC("animationend"),nH=bC("animationiteration"),iH=bC("animationstart"),rH=bC("transitionend"),sH=new Map,CF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lh(i,e){sH.set(i,e),P0(e,[i])}for(var E8=0;E8<CF.length;E8++){var T8=CF[E8],Eee=T8.toLowerCase(),Tee=T8[0].toUpperCase()+T8.slice(1);Lh(Eee,"on"+Tee)}Lh(tH,"onAnimationEnd");Lh(nH,"onAnimationIteration");Lh(iH,"onAnimationStart");Lh("dblclick","onDoubleClick");Lh("focusin","onFocus");Lh("focusout","onBlur");Lh(rH,"onTransitionEnd");Y2("onMouseEnter",["mouseout","mouseover"]);Y2("onMouseLeave",["mouseout","mouseover"]);Y2("onPointerEnter",["pointerout","pointerover"]);Y2("onPointerLeave",["pointerout","pointerover"]);P0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));P0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));P0("onBeforeInput",["compositionend","keypress","textInput","paste"]);P0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));P0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));P0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var D1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ree=new Set("cancel close invalid load scroll toggle".split(" ").concat(D1));function MF(i,e,t){var n=i.type||"unknown-event";i.currentTarget=t,E$(n,e,void 0,i),i.currentTarget=null}function oH(i,e){e=(e&4)!==0;for(var t=0;t<i.length;t++){var n=i[t],r=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;MF(r,a,c),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;MF(r,a,c),s=l}}}if(ew)throw i=NT,ew=!1,NT=null,i}function Tn(i,e){var t=e[YT];t===void 0&&(t=e[YT]=new Set);var n=i+"__bubble";t.has(n)||(aH(e,i,2,!1),t.add(n))}function R8(i,e,t){var n=0;e&&(n|=4),aH(t,i,n,e)}var OA="_reactListening"+Math.random().toString(36).slice(2);function zv(i){if(!i[OA]){i[OA]=!0,pj.forEach(function(t){t!=="selectionchange"&&(Ree.has(t)||R8(t,!1,i),R8(t,!0,i))});var e=i.nodeType===9?i:i.ownerDocument;e===null||e[OA]||(e[OA]=!0,R8("selectionchange",!1,e))}}function aH(i,e,t,n){switch(Vj(e)){case 1:var r=G$;break;case 4:r=V$;break;default:r=u7}t=r.bind(null,e,t,i),r=void 0,!kT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),n?r!==void 0?i.addEventListener(e,t,{capture:!0,passive:r}):i.addEventListener(e,t,!0):r!==void 0?i.addEventListener(e,t,{passive:r}):i.addEventListener(e,t,!1)}function P8(i,e,t,n,r){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Ld(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}Pj(function(){var c=s,u=o7(t),h=[];e:{var d=sH.get(i);if(d!==void 0){var m=d7,g=i;switch(i){case"keypress":if(a5(t)===0)break e;case"keydown":case"keyup":m=see;break;case"focusin":g="focus",m=w8;break;case"focusout":g="blur",m=w8;break;case"beforeblur":case"afterblur":m=w8;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=pF;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=K$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=lee;break;case tH:case nH:case iH:m=q$;break;case rH:m=uee;break;case"scroll":m=W$;break;case"wheel":m=dee;break;case"copy":case"cut":case"paste":m=Q$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=gF}var y=(e&4)!==0,_=!y&&i==="scroll",v=y?d!==null?d+"Capture":null:d;y=[];for(var A=c,S;A!==null;){S=A;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,v!==null&&(C=Bv(A,v),C!=null&&y.push(jv(A,C,S)))),_)break;A=A.return}0<y.length&&(d=new m(d,g,null,t,u),h.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=i==="mouseover"||i==="pointerover",m=i==="mouseout"||i==="pointerout",d&&t!==FT&&(g=t.relatedTarget||t.fromElement)&&(Ld(g)||g[kc]))break e;if((m||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,m?(g=t.relatedTarget||t.toElement,m=c,g=g?Ld(g):null,g!==null&&(_=I0(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(y=pF,C="onMouseLeave",v="onMouseEnter",A="mouse",(i==="pointerout"||i==="pointerover")&&(y=gF,C="onPointerLeave",v="onPointerEnter",A="pointer"),_=m==null?d:Wp(m),S=g==null?d:Wp(g),d=new y(C,A+"leave",m,t,u),d.target=_,d.relatedTarget=S,C=null,Ld(u)===c&&(y=new y(v,A+"enter",g,t,u),y.target=S,y.relatedTarget=_,C=y),_=C,m&&g)t:{for(y=m,v=g,A=0,S=y;S;S=op(S))A++;for(S=0,C=v;C;C=op(C))S++;for(;0<A-S;)y=op(y),A--;for(;0<S-A;)v=op(v),S--;for(;A--;){if(y===v||v!==null&&y===v.alternate)break t;y=op(y),v=op(v)}y=null}else y=null;m!==null&&EF(h,d,m,y,!1),g!==null&&_!==null&&EF(h,_,g,y,!0)}}e:{if(d=c?Wp(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var T=_ee;else if(_F(d))if(qj)T=wee;else{T=Aee;var E=xee}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=See);if(T&&(T=T(i,c))){Jj(h,T,t,u);break e}E&&E(i,d,c),i==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&PT(d,"number",d.value)}switch(E=c?Wp(c):window,i){case"focusin":(_F(E)||E.contentEditable==="true")&&(Gp=E,HT=c,ov=null);break;case"focusout":ov=HT=Gp=null;break;case"mousedown":GT=!0;break;case"contextmenu":case"mouseup":case"dragend":GT=!1,bF(h,t,u);break;case"selectionchange":if(Mee)break;case"keydown":case"keyup":bF(h,t,u)}var R;if(p7)e:{switch(i){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Hp?Kj(i,t)&&(D="onCompositionEnd"):i==="keydown"&&t.keyCode===229&&(D="onCompositionStart");D&&(Xj&&t.locale!=="ko"&&(Hp||D!=="onCompositionStart"?D==="onCompositionEnd"&&Hp&&(R=Wj()):($u=u,h7="value"in $u?$u.value:$u.textContent,Hp=!0)),E=sw(c,D),0<E.length&&(D=new mF(D,i,null,t,u),h.push({event:D,listeners:E}),R?D.data=R:(R=Yj(t),R!==null&&(D.data=R)))),(R=pee?mee(i,t):gee(i,t))&&(c=sw(c,"onBeforeInput"),0<c.length&&(u=new mF("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=R))}oH(h,e)})}function jv(i,e,t){return{instance:i,listener:e,currentTarget:t}}function sw(i,e){for(var t=e+"Capture",n=[];i!==null;){var r=i,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Bv(i,t),s!=null&&n.unshift(jv(i,s,r)),s=Bv(i,e),s!=null&&n.push(jv(i,s,r))),i=i.return}return n}function op(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function EF(i,e,t,n,r){for(var s=e._reactName,o=[];t!==null&&t!==n;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,r?(l=Bv(t,s),l!=null&&o.unshift(jv(t,l,a))):r||(l=Bv(t,s),l!=null&&o.push(jv(t,l,a)))),t=t.return}o.length!==0&&i.push({event:e,listeners:o})}var Pee=/\r\n?/g,Iee=/\u0000|\uFFFD/g;function TF(i){return(typeof i=="string"?i:""+i).replace(Pee,`
`).replace(Iee,"")}function kA(i,e,t){if(e=TF(e),TF(i)!==e&&t)throw Error(Fe(425))}function ow(){}var VT=null,WT=null;function XT(i,e){return i==="textarea"||i==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var KT=typeof setTimeout=="function"?setTimeout:void 0,Lee=typeof clearTimeout=="function"?clearTimeout:void 0,RF=typeof Promise=="function"?Promise:void 0,Dee=typeof queueMicrotask=="function"?queueMicrotask:typeof RF<"u"?function(i){return RF.resolve(null).then(i).catch(Bee)}:KT;function Bee(i){setTimeout(function(){throw i})}function I8(i,e){var t=e,n=0;do{var r=t.nextSibling;if(i.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(n===0){i.removeChild(r),kv(e);return}n--}else t!=="$"&&t!=="$?"&&t!=="$!"||n++;t=r}while(t);kv(e)}function uh(i){for(;i!=null;i=i.nextSibling){var e=i.nodeType;if(e===1||e===3)break;if(e===8){if(e=i.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return i}function PF(i){i=i.previousSibling;for(var e=0;i;){if(i.nodeType===8){var t=i.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return i;e--}else t==="/$"&&e++}i=i.previousSibling}return null}var Ag=Math.random().toString(36).slice(2),il="__reactFiber$"+Ag,Hv="__reactProps$"+Ag,kc="__reactContainer$"+Ag,YT="__reactEvents$"+Ag,Fee="__reactListeners$"+Ag,Oee="__reactHandles$"+Ag;function Ld(i){var e=i[il];if(e)return e;for(var t=i.parentNode;t;){if(e=t[kc]||t[il]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(i=PF(i);i!==null;){if(t=i[il])return t;i=PF(i)}return e}i=t,t=i.parentNode}return null}function Z3(i){return i=i[il]||i[kc],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Wp(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(Fe(33))}function CC(i){return i[Hv]||null}var JT=[],Xp=-1;function Dh(i){return{current:i}}function In(i){0>Xp||(i.current=JT[Xp],JT[Xp]=null,Xp--)}function Cn(i,e){Xp++,JT[Xp]=i.current,i.current=e}var wh={},Fr=Dh(wh),fs=Dh(!1),h0=wh;function J2(i,e){var t=i.type.contextTypes;if(!t)return wh;var n=i.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return n&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=e,i.__reactInternalMemoizedMaskedChildContext=r),r}function ps(i){return i=i.childContextTypes,i!=null}function aw(){In(fs),In(Fr)}function IF(i,e,t){if(Fr.current!==wh)throw Error(Fe(168));Cn(Fr,e),Cn(fs,t)}function lH(i,e,t){var n=i.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var r in n)if(!(r in e))throw Error(Fe(108,x$(i)||"Unknown",r));return Wn({},t,n)}function lw(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||wh,h0=Fr.current,Cn(Fr,i),Cn(fs,fs.current),!0}function LF(i,e,t){var n=i.stateNode;if(!n)throw Error(Fe(169));t?(i=lH(i,e,h0),n.__reactInternalMemoizedMergedChildContext=i,In(fs),In(Fr),Cn(Fr,i)):In(fs),Cn(fs,t)}var jl=null,MC=!1,L8=!1;function cH(i){jl===null?jl=[i]:jl.push(i)}function kee(i){MC=!0,cH(i)}function Bh(){if(!L8&&jl!==null){L8=!0;var i=0,e=un;try{var t=jl;for(un=1;i<t.length;i++){var n=t[i];do n=n(!0);while(n!==null)}jl=null,MC=!1}catch(r){throw jl!==null&&(jl=jl.slice(i+1)),Bj(a7,Bh),r}finally{un=e,L8=!1}}return null}var Kp=[],Yp=0,cw=null,uw=0,Eo=[],To=0,d0=null,xc=1,Ac="";function md(i,e){Kp[Yp++]=uw,Kp[Yp++]=cw,cw=i,uw=e}function uH(i,e,t){Eo[To++]=xc,Eo[To++]=Ac,Eo[To++]=d0,d0=i;var n=xc;i=Ac;var r=32-ya(n)-1;n&=~(1<<r),t+=1;var s=32-ya(e)+r;if(30<s){var o=r-r%5;s=(n&(1<<o)-1).toString(32),n>>=o,r-=o,xc=1<<32-ya(e)+r|t<<r|n,Ac=s+i}else xc=1<<s|t<<r|n,Ac=i}function g7(i){i.return!==null&&(md(i,1),uH(i,1,0))}function v7(i){for(;i===cw;)cw=Kp[--Yp],Kp[Yp]=null,uw=Kp[--Yp],Kp[Yp]=null;for(;i===d0;)d0=Eo[--To],Eo[To]=null,Ac=Eo[--To],Eo[To]=null,xc=Eo[--To],Eo[To]=null}var Ys=null,Vs=null,Fn=!1,pa=null;function hH(i,e){var t=Io(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=i,e=i.deletions,e===null?(i.deletions=[t],i.flags|=16):e.push(t)}function DF(i,e){switch(i.tag){case 5:var t=i.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(i.stateNode=e,Ys=i,Vs=uh(e.firstChild),!0):!1;case 6:return e=i.pendingProps===""||e.nodeType!==3?null:e,e!==null?(i.stateNode=e,Ys=i,Vs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=d0!==null?{id:xc,overflow:Ac}:null,i.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Io(18,null,null,0),t.stateNode=e,t.return=i,i.child=t,Ys=i,Vs=null,!0):!1;default:return!1}}function qT(i){return(i.mode&1)!==0&&(i.flags&128)===0}function ZT(i){if(Fn){var e=Vs;if(e){var t=e;if(!DF(i,e)){if(qT(i))throw Error(Fe(418));e=uh(t.nextSibling);var n=Ys;e&&DF(i,e)?hH(n,t):(i.flags=i.flags&-4097|2,Fn=!1,Ys=i)}}else{if(qT(i))throw Error(Fe(418));i.flags=i.flags&-4097|2,Fn=!1,Ys=i}}}function BF(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Ys=i}function NA(i){if(i!==Ys)return!1;if(!Fn)return BF(i),Fn=!0,!1;var e;if((e=i.tag!==3)&&!(e=i.tag!==5)&&(e=i.type,e=e!=="head"&&e!=="body"&&!XT(i.type,i.memoizedProps)),e&&(e=Vs)){if(qT(i))throw dH(),Error(Fe(418));for(;e;)hH(i,e),e=uh(e.nextSibling)}if(BF(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Fe(317));e:{for(i=i.nextSibling,e=0;i;){if(i.nodeType===8){var t=i.data;if(t==="/$"){if(e===0){Vs=uh(i.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}i=i.nextSibling}Vs=null}}else Vs=Ys?uh(i.stateNode.nextSibling):null;return!0}function dH(){for(var i=Vs;i;)i=uh(i.nextSibling)}function q2(){Vs=Ys=null,Fn=!1}function y7(i){pa===null?pa=[i]:pa.push(i)}var Nee=Xc.ReactCurrentBatchConfig;function n1(i,e,t){if(i=t.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Fe(309));var n=t.stateNode}if(!n)throw Error(Fe(147,i));var r=n,s=""+i;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof i!="string")throw Error(Fe(284));if(!t._owner)throw Error(Fe(290,i))}return i}function UA(i,e){throw i=Object.prototype.toString.call(e),Error(Fe(31,i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i))}function FF(i){var e=i._init;return e(i._payload)}function fH(i){function e(v,A){if(i){var S=v.deletions;S===null?(v.deletions=[A],v.flags|=16):S.push(A)}}function t(v,A){if(!i)return null;for(;A!==null;)e(v,A),A=A.sibling;return null}function n(v,A){for(v=new Map;A!==null;)A.key!==null?v.set(A.key,A):v.set(A.index,A),A=A.sibling;return v}function r(v,A){return v=ph(v,A),v.index=0,v.sibling=null,v}function s(v,A,S){return v.index=S,i?(S=v.alternate,S!==null?(S=S.index,S<A?(v.flags|=2,A):S):(v.flags|=2,A)):(v.flags|=1048576,A)}function o(v){return i&&v.alternate===null&&(v.flags|=2),v}function a(v,A,S,C){return A===null||A.tag!==6?(A=U8(S,v.mode,C),A.return=v,A):(A=r(A,S),A.return=v,A)}function l(v,A,S,C){var T=S.type;return T===jp?u(v,A,S.props.children,C,S.key):A!==null&&(A.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===xu&&FF(T)===A.type)?(C=r(A,S.props),C.ref=n1(v,A,S),C.return=v,C):(C=p5(S.type,S.key,S.props,null,v.mode,C),C.ref=n1(v,A,S),C.return=v,C)}function c(v,A,S,C){return A===null||A.tag!==4||A.stateNode.containerInfo!==S.containerInfo||A.stateNode.implementation!==S.implementation?(A=z8(S,v.mode,C),A.return=v,A):(A=r(A,S.children||[]),A.return=v,A)}function u(v,A,S,C,T){return A===null||A.tag!==7?(A=$f(S,v.mode,C,T),A.return=v,A):(A=r(A,S),A.return=v,A)}function h(v,A,S){if(typeof A=="string"&&A!==""||typeof A=="number")return A=U8(""+A,v.mode,S),A.return=v,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case TA:return S=p5(A.type,A.key,A.props,null,v.mode,S),S.ref=n1(v,null,A),S.return=v,S;case zp:return A=z8(A,v.mode,S),A.return=v,A;case xu:var C=A._init;return h(v,C(A._payload),S)}if(I1(A)||Zg(A))return A=$f(A,v.mode,S,null),A.return=v,A;UA(v,A)}return null}function d(v,A,S,C){var T=A!==null?A.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return T!==null?null:a(v,A,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case TA:return S.key===T?l(v,A,S,C):null;case zp:return S.key===T?c(v,A,S,C):null;case xu:return T=S._init,d(v,A,T(S._payload),C)}if(I1(S)||Zg(S))return T!==null?null:u(v,A,S,C,null);UA(v,S)}return null}function m(v,A,S,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(S)||null,a(A,v,""+C,T);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case TA:return v=v.get(C.key===null?S:C.key)||null,l(A,v,C,T);case zp:return v=v.get(C.key===null?S:C.key)||null,c(A,v,C,T);case xu:var E=C._init;return m(v,A,S,E(C._payload),T)}if(I1(C)||Zg(C))return v=v.get(S)||null,u(A,v,C,T,null);UA(A,C)}return null}function g(v,A,S,C){for(var T=null,E=null,R=A,D=A=0,I=null;R!==null&&D<S.length;D++){R.index>D?(I=R,R=null):I=R.sibling;var L=d(v,R,S[D],C);if(L===null){R===null&&(R=I);break}i&&R&&L.alternate===null&&e(v,R),A=s(L,A,D),E===null?T=L:E.sibling=L,E=L,R=I}if(D===S.length)return t(v,R),Fn&&md(v,D),T;if(R===null){for(;D<S.length;D++)R=h(v,S[D],C),R!==null&&(A=s(R,A,D),E===null?T=R:E.sibling=R,E=R);return Fn&&md(v,D),T}for(R=n(v,R);D<S.length;D++)I=m(R,v,D,S[D],C),I!==null&&(i&&I.alternate!==null&&R.delete(I.key===null?D:I.key),A=s(I,A,D),E===null?T=I:E.sibling=I,E=I);return i&&R.forEach(function(O){return e(v,O)}),Fn&&md(v,D),T}function y(v,A,S,C){var T=Zg(S);if(typeof T!="function")throw Error(Fe(150));if(S=T.call(S),S==null)throw Error(Fe(151));for(var E=T=null,R=A,D=A=0,I=null,L=S.next();R!==null&&!L.done;D++,L=S.next()){R.index>D?(I=R,R=null):I=R.sibling;var O=d(v,R,L.value,C);if(O===null){R===null&&(R=I);break}i&&R&&O.alternate===null&&e(v,R),A=s(O,A,D),E===null?T=O:E.sibling=O,E=O,R=I}if(L.done)return t(v,R),Fn&&md(v,D),T;if(R===null){for(;!L.done;D++,L=S.next())L=h(v,L.value,C),L!==null&&(A=s(L,A,D),E===null?T=L:E.sibling=L,E=L);return Fn&&md(v,D),T}for(R=n(v,R);!L.done;D++,L=S.next())L=m(R,v,D,L.value,C),L!==null&&(i&&L.alternate!==null&&R.delete(L.key===null?D:L.key),A=s(L,A,D),E===null?T=L:E.sibling=L,E=L);return i&&R.forEach(function(W){return e(v,W)}),Fn&&md(v,D),T}function _(v,A,S,C){if(typeof S=="object"&&S!==null&&S.type===jp&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case TA:e:{for(var T=S.key,E=A;E!==null;){if(E.key===T){if(T=S.type,T===jp){if(E.tag===7){t(v,E.sibling),A=r(E,S.props.children),A.return=v,v=A;break e}}else if(E.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===xu&&FF(T)===E.type){t(v,E.sibling),A=r(E,S.props),A.ref=n1(v,E,S),A.return=v,v=A;break e}t(v,E);break}else e(v,E);E=E.sibling}S.type===jp?(A=$f(S.props.children,v.mode,C,S.key),A.return=v,v=A):(C=p5(S.type,S.key,S.props,null,v.mode,C),C.ref=n1(v,A,S),C.return=v,v=C)}return o(v);case zp:e:{for(E=S.key;A!==null;){if(A.key===E)if(A.tag===4&&A.stateNode.containerInfo===S.containerInfo&&A.stateNode.implementation===S.implementation){t(v,A.sibling),A=r(A,S.children||[]),A.return=v,v=A;break e}else{t(v,A);break}else e(v,A);A=A.sibling}A=z8(S,v.mode,C),A.return=v,v=A}return o(v);case xu:return E=S._init,_(v,A,E(S._payload),C)}if(I1(S))return g(v,A,S,C);if(Zg(S))return y(v,A,S,C);UA(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,A!==null&&A.tag===6?(t(v,A.sibling),A=r(A,S),A.return=v,v=A):(t(v,A),A=U8(S,v.mode,C),A.return=v,v=A),o(v)):t(v,A)}return _}var Z2=fH(!0),pH=fH(!1),hw=Dh(null),dw=null,Jp=null,_7=null;function x7(){_7=Jp=dw=null}function A7(i){var e=hw.current;In(hw),i._currentValue=e}function QT(i,e,t){for(;i!==null;){var n=i.alternate;if((i.childLanes&e)!==e?(i.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),i===t)break;i=i.return}}function gm(i,e){dw=i,_7=Jp=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&e&&(us=!0),i.firstContext=null)}function ko(i){var e=i._currentValue;if(_7!==i)if(i={context:i,memoizedValue:e,next:null},Jp===null){if(dw===null)throw Error(Fe(308));Jp=i,dw.dependencies={lanes:0,firstContext:i}}else Jp=Jp.next=i;return e}var Dd=null;function S7(i){Dd===null?Dd=[i]:Dd.push(i)}function mH(i,e,t,n){var r=e.interleaved;return r===null?(t.next=t,S7(e)):(t.next=r.next,r.next=t),e.interleaved=t,Nc(i,n)}function Nc(i,e){i.lanes|=e;var t=i.alternate;for(t!==null&&(t.lanes|=e),t=i,i=i.return;i!==null;)i.childLanes|=e,t=i.alternate,t!==null&&(t.childLanes|=e),t=i,i=i.return;return t.tag===3?t.stateNode:null}var Au=!1;function w7(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gH(i,e){i=i.updateQueue,e.updateQueue===i&&(e.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Cc(i,e){return{eventTime:i,lane:e,tag:0,payload:null,callback:null,next:null}}function hh(i,e,t){var n=i.updateQueue;if(n===null)return null;if(n=n.shared,qt&2){var r=n.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),n.pending=e,Nc(i,t)}return r=n.interleaved,r===null?(e.next=e,S7(n)):(e.next=r.next,r.next=e),n.interleaved=e,Nc(i,t)}function l5(i,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var n=e.lanes;n&=i.pendingLanes,t|=n,e.lanes=t,l7(i,t)}}function OF(i,e){var t=i.updateQueue,n=i.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:n.shared,effects:n.effects},i.updateQueue=t;return}i=t.lastBaseUpdate,i===null?t.firstBaseUpdate=e:i.next=e,t.lastBaseUpdate=e}function fw(i,e,t,n){var r=i.updateQueue;Au=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=i.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,m=a.eventTime;if((n&d)===d){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=i,y=a;switch(d=e,m=t,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(m,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,d=typeof g=="function"?g.call(m,h,d):g,d==null)break e;h=Wn({},h,d);break e;case 2:Au=!0}}a.callback!==null&&a.lane!==0&&(i.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=h):u=u.next=m,o|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);if(u===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);p0|=o,i.lanes=o,i.memoizedState=h}}function kF(i,e,t){if(i=e.effects,e.effects=null,i!==null)for(e=0;e<i.length;e++){var n=i[e],r=n.callback;if(r!==null){if(n.callback=null,n=t,typeof r!="function")throw Error(Fe(191,r));r.call(n)}}}var Q3={},cl=Dh(Q3),Gv=Dh(Q3),Vv=Dh(Q3);function Bd(i){if(i===Q3)throw Error(Fe(174));return i}function b7(i,e){switch(Cn(Vv,e),Cn(Gv,i),Cn(cl,Q3),i=e.nodeType,i){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:LT(null,"");break;default:i=i===8?e.parentNode:e,e=i.namespaceURI||null,i=i.tagName,e=LT(e,i)}In(cl),Cn(cl,e)}function Q2(){In(cl),In(Gv),In(Vv)}function vH(i){Bd(Vv.current);var e=Bd(cl.current),t=LT(e,i.type);e!==t&&(Cn(Gv,i),Cn(cl,t))}function C7(i){Gv.current===i&&(In(cl),In(Gv))}var Un=Dh(0);function pw(i){for(var e=i;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var D8=[];function M7(){for(var i=0;i<D8.length;i++)D8[i]._workInProgressVersionPrimary=null;D8.length=0}var c5=Xc.ReactCurrentDispatcher,B8=Xc.ReactCurrentBatchConfig,f0=0,Vn=null,Mi=null,Gi=null,mw=!1,av=!1,Wv=0,Uee=0;function gr(){throw Error(Fe(321))}function E7(i,e){if(e===null)return!1;for(var t=0;t<e.length&&t<i.length;t++)if(!xa(i[t],e[t]))return!1;return!0}function T7(i,e,t,n,r,s){if(f0=s,Vn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,c5.current=i===null||i.memoizedState===null?Gee:Vee,i=t(n,r),av){s=0;do{if(av=!1,Wv=0,25<=s)throw Error(Fe(301));s+=1,Gi=Mi=null,e.updateQueue=null,c5.current=Wee,i=t(n,r)}while(av)}if(c5.current=gw,e=Mi!==null&&Mi.next!==null,f0=0,Gi=Mi=Vn=null,mw=!1,e)throw Error(Fe(300));return i}function R7(){var i=Wv!==0;return Wv=0,i}function ka(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gi===null?Vn.memoizedState=Gi=i:Gi=Gi.next=i,Gi}function No(){if(Mi===null){var i=Vn.alternate;i=i!==null?i.memoizedState:null}else i=Mi.next;var e=Gi===null?Vn.memoizedState:Gi.next;if(e!==null)Gi=e,Mi=i;else{if(i===null)throw Error(Fe(310));Mi=i,i={memoizedState:Mi.memoizedState,baseState:Mi.baseState,baseQueue:Mi.baseQueue,queue:Mi.queue,next:null},Gi===null?Vn.memoizedState=Gi=i:Gi=Gi.next=i}return Gi}function Xv(i,e){return typeof e=="function"?e(i):e}function F8(i){var e=No(),t=e.queue;if(t===null)throw Error(Fe(311));t.lastRenderedReducer=i;var n=Mi,r=n.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}n.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,n=n.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((f0&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:i(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Vn.lanes|=u,p0|=u}c=c.next}while(c!==null&&c!==s);l===null?o=n:l.next=a,xa(n,e.memoizedState)||(us=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,t.lastRenderedState=n}if(i=t.interleaved,i!==null){r=i;do s=r.lane,Vn.lanes|=s,p0|=s,r=r.next;while(r!==i)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function O8(i){var e=No(),t=e.queue;if(t===null)throw Error(Fe(311));t.lastRenderedReducer=i;var n=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=i(s,o.action),o=o.next;while(o!==r);xa(s,e.memoizedState)||(us=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,n]}function yH(){}function _H(i,e){var t=Vn,n=No(),r=e(),s=!xa(n.memoizedState,r);if(s&&(n.memoizedState=r,us=!0),n=n.queue,P7(SH.bind(null,t,n,i),[i]),n.getSnapshot!==e||s||Gi!==null&&Gi.memoizedState.tag&1){if(t.flags|=2048,Kv(9,AH.bind(null,t,n,r,e),void 0,null),Wi===null)throw Error(Fe(349));f0&30||xH(t,e,r)}return r}function xH(i,e,t){i.flags|=16384,i={getSnapshot:e,value:t},e=Vn.updateQueue,e===null?(e={lastEffect:null,stores:null},Vn.updateQueue=e,e.stores=[i]):(t=e.stores,t===null?e.stores=[i]:t.push(i))}function AH(i,e,t,n){e.value=t,e.getSnapshot=n,wH(e)&&bH(i)}function SH(i,e,t){return t(function(){wH(e)&&bH(i)})}function wH(i){var e=i.getSnapshot;i=i.value;try{var t=e();return!xa(i,t)}catch{return!0}}function bH(i){var e=Nc(i,1);e!==null&&_a(e,i,1,-1)}function NF(i){var e=ka();return typeof i=="function"&&(i=i()),e.memoizedState=e.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xv,lastRenderedState:i},e.queue=i,i=i.dispatch=Hee.bind(null,Vn,i),[e.memoizedState,i]}function Kv(i,e,t,n){return i={tag:i,create:e,destroy:t,deps:n,next:null},e=Vn.updateQueue,e===null?(e={lastEffect:null,stores:null},Vn.updateQueue=e,e.lastEffect=i.next=i):(t=e.lastEffect,t===null?e.lastEffect=i.next=i:(n=t.next,t.next=i,i.next=n,e.lastEffect=i)),i}function CH(){return No().memoizedState}function u5(i,e,t,n){var r=ka();Vn.flags|=i,r.memoizedState=Kv(1|e,t,void 0,n===void 0?null:n)}function EC(i,e,t,n){var r=No();n=n===void 0?null:n;var s=void 0;if(Mi!==null){var o=Mi.memoizedState;if(s=o.destroy,n!==null&&E7(n,o.deps)){r.memoizedState=Kv(e,t,s,n);return}}Vn.flags|=i,r.memoizedState=Kv(1|e,t,s,n)}function UF(i,e){return u5(8390656,8,i,e)}function P7(i,e){return EC(2048,8,i,e)}function MH(i,e){return EC(4,2,i,e)}function EH(i,e){return EC(4,4,i,e)}function TH(i,e){if(typeof e=="function")return i=i(),e(i),function(){e(null)};if(e!=null)return i=i(),e.current=i,function(){e.current=null}}function RH(i,e,t){return t=t!=null?t.concat([i]):null,EC(4,4,TH.bind(null,e,i),t)}function I7(){}function PH(i,e){var t=No();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&E7(e,n[1])?n[0]:(t.memoizedState=[i,e],i)}function IH(i,e){var t=No();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&E7(e,n[1])?n[0]:(i=i(),t.memoizedState=[i,e],i)}function LH(i,e,t){return f0&21?(xa(t,e)||(t=kj(),Vn.lanes|=t,p0|=t,i.baseState=!0),e):(i.baseState&&(i.baseState=!1,us=!0),i.memoizedState=t)}function zee(i,e){var t=un;un=t!==0&&4>t?t:4,i(!0);var n=B8.transition;B8.transition={};try{i(!1),e()}finally{un=t,B8.transition=n}}function DH(){return No().memoizedState}function jee(i,e,t){var n=fh(i);if(t={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null},BH(i))FH(e,t);else if(t=mH(i,e,t,n),t!==null){var r=Jr();_a(t,i,n,r),OH(t,e,n)}}function Hee(i,e,t){var n=fh(i),r={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null};if(BH(i))FH(e,r);else{var s=i.alternate;if(i.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,xa(a,o)){var l=e.interleaved;l===null?(r.next=r,S7(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=mH(i,e,r,n),t!==null&&(r=Jr(),_a(t,i,n,r),OH(t,e,n))}}function BH(i){var e=i.alternate;return i===Vn||e!==null&&e===Vn}function FH(i,e){av=mw=!0;var t=i.pending;t===null?e.next=e:(e.next=t.next,t.next=e),i.pending=e}function OH(i,e,t){if(t&4194240){var n=e.lanes;n&=i.pendingLanes,t|=n,e.lanes=t,l7(i,t)}}var gw={readContext:ko,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useInsertionEffect:gr,useLayoutEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useMutableSource:gr,useSyncExternalStore:gr,useId:gr,unstable_isNewReconciler:!1},Gee={readContext:ko,useCallback:function(i,e){return ka().memoizedState=[i,e===void 0?null:e],i},useContext:ko,useEffect:UF,useImperativeHandle:function(i,e,t){return t=t!=null?t.concat([i]):null,u5(4194308,4,TH.bind(null,e,i),t)},useLayoutEffect:function(i,e){return u5(4194308,4,i,e)},useInsertionEffect:function(i,e){return u5(4,2,i,e)},useMemo:function(i,e){var t=ka();return e=e===void 0?null:e,i=i(),t.memoizedState=[i,e],i},useReducer:function(i,e,t){var n=ka();return e=t!==void 0?t(e):e,n.memoizedState=n.baseState=e,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:e},n.queue=i,i=i.dispatch=jee.bind(null,Vn,i),[n.memoizedState,i]},useRef:function(i){var e=ka();return i={current:i},e.memoizedState=i},useState:NF,useDebugValue:I7,useDeferredValue:function(i){return ka().memoizedState=i},useTransition:function(){var i=NF(!1),e=i[0];return i=zee.bind(null,i[1]),ka().memoizedState=i,[e,i]},useMutableSource:function(){},useSyncExternalStore:function(i,e,t){var n=Vn,r=ka();if(Fn){if(t===void 0)throw Error(Fe(407));t=t()}else{if(t=e(),Wi===null)throw Error(Fe(349));f0&30||xH(n,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,UF(SH.bind(null,n,s,i),[i]),n.flags|=2048,Kv(9,AH.bind(null,n,s,t,e),void 0,null),t},useId:function(){var i=ka(),e=Wi.identifierPrefix;if(Fn){var t=Ac,n=xc;t=(n&~(1<<32-ya(n)-1)).toString(32)+t,e=":"+e+"R"+t,t=Wv++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Uee++,e=":"+e+"r"+t.toString(32)+":";return i.memoizedState=e},unstable_isNewReconciler:!1},Vee={readContext:ko,useCallback:PH,useContext:ko,useEffect:P7,useImperativeHandle:RH,useInsertionEffect:MH,useLayoutEffect:EH,useMemo:IH,useReducer:F8,useRef:CH,useState:function(){return F8(Xv)},useDebugValue:I7,useDeferredValue:function(i){var e=No();return LH(e,Mi.memoizedState,i)},useTransition:function(){var i=F8(Xv)[0],e=No().memoizedState;return[i,e]},useMutableSource:yH,useSyncExternalStore:_H,useId:DH,unstable_isNewReconciler:!1},Wee={readContext:ko,useCallback:PH,useContext:ko,useEffect:P7,useImperativeHandle:RH,useInsertionEffect:MH,useLayoutEffect:EH,useMemo:IH,useReducer:O8,useRef:CH,useState:function(){return O8(Xv)},useDebugValue:I7,useDeferredValue:function(i){var e=No();return Mi===null?e.memoizedState=i:LH(e,Mi.memoizedState,i)},useTransition:function(){var i=O8(Xv)[0],e=No().memoizedState;return[i,e]},useMutableSource:yH,useSyncExternalStore:_H,useId:DH,unstable_isNewReconciler:!1};function qo(i,e){if(i&&i.defaultProps){e=Wn({},e),i=i.defaultProps;for(var t in i)e[t]===void 0&&(e[t]=i[t]);return e}return e}function $T(i,e,t,n){e=i.memoizedState,t=t(n,e),t=t==null?e:Wn({},e,t),i.memoizedState=t,i.lanes===0&&(i.updateQueue.baseState=t)}var TC={isMounted:function(i){return(i=i._reactInternals)?I0(i)===i:!1},enqueueSetState:function(i,e,t){i=i._reactInternals;var n=Jr(),r=fh(i),s=Cc(n,r);s.payload=e,t!=null&&(s.callback=t),e=hh(i,s,r),e!==null&&(_a(e,i,r,n),l5(e,i,r))},enqueueReplaceState:function(i,e,t){i=i._reactInternals;var n=Jr(),r=fh(i),s=Cc(n,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=hh(i,s,r),e!==null&&(_a(e,i,r,n),l5(e,i,r))},enqueueForceUpdate:function(i,e){i=i._reactInternals;var t=Jr(),n=fh(i),r=Cc(t,n);r.tag=2,e!=null&&(r.callback=e),e=hh(i,r,n),e!==null&&(_a(e,i,n,t),l5(e,i,n))}};function zF(i,e,t,n,r,s,o){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Uv(t,n)||!Uv(r,s):!0}function kH(i,e,t){var n=!1,r=wh,s=e.contextType;return typeof s=="object"&&s!==null?s=ko(s):(r=ps(e)?h0:Fr.current,n=e.contextTypes,s=(n=n!=null)?J2(i,r):wh),e=new e(t,s),i.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=TC,i.stateNode=e,e._reactInternals=i,n&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=r,i.__reactInternalMemoizedMaskedChildContext=s),e}function jF(i,e,t,n){i=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==i&&TC.enqueueReplaceState(e,e.state,null)}function e9(i,e,t,n){var r=i.stateNode;r.props=t,r.state=i.memoizedState,r.refs={},w7(i);var s=e.contextType;typeof s=="object"&&s!==null?r.context=ko(s):(s=ps(e)?h0:Fr.current,r.context=J2(i,s)),r.state=i.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&($T(i,e,s,t),r.state=i.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&TC.enqueueReplaceState(r,r.state,null),fw(i,t,r,n),r.state=i.memoizedState),typeof r.componentDidMount=="function"&&(i.flags|=4194308)}function $2(i,e){try{var t="",n=e;do t+=_$(n),n=n.return;while(n);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:i,source:e,stack:r,digest:null}}function k8(i,e,t){return{value:i,source:null,stack:t??null,digest:e??null}}function t9(i,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Xee=typeof WeakMap=="function"?WeakMap:Map;function NH(i,e,t){t=Cc(-1,t),t.tag=3,t.payload={element:null};var n=e.value;return t.callback=function(){yw||(yw=!0,h9=n),t9(i,e)},t}function UH(i,e,t){t=Cc(-1,t),t.tag=3;var n=i.type.getDerivedStateFromError;if(typeof n=="function"){var r=e.value;t.payload=function(){return n(r)},t.callback=function(){t9(i,e)}}var s=i.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){t9(i,e),typeof n!="function"&&(dh===null?dh=new Set([this]):dh.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function HF(i,e,t){var n=i.pingCache;if(n===null){n=i.pingCache=new Xee;var r=new Set;n.set(e,r)}else r=n.get(e),r===void 0&&(r=new Set,n.set(e,r));r.has(t)||(r.add(t),i=ote.bind(null,i,e,t),e.then(i,i))}function GF(i){do{var e;if((e=i.tag===13)&&(e=i.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return i;i=i.return}while(i!==null);return null}function VF(i,e,t,n,r){return i.mode&1?(i.flags|=65536,i.lanes=r,i):(i===e?i.flags|=65536:(i.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Cc(-1,1),e.tag=2,hh(t,e,1))),t.lanes|=1),i)}var Kee=Xc.ReactCurrentOwner,us=!1;function Wr(i,e,t,n){e.child=i===null?pH(e,null,t,n):Z2(e,i.child,t,n)}function WF(i,e,t,n,r){t=t.render;var s=e.ref;return gm(e,r),n=T7(i,e,t,n,s,r),t=R7(),i!==null&&!us?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~r,Uc(i,e,r)):(Fn&&t&&g7(e),e.flags|=1,Wr(i,e,n,r),e.child)}function XF(i,e,t,n,r){if(i===null){var s=t.type;return typeof s=="function"&&!U7(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,zH(i,e,s,n,r)):(i=p5(t.type,null,n,e,e.mode,r),i.ref=e.ref,i.return=e,e.child=i)}if(s=i.child,!(i.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Uv,t(o,n)&&i.ref===e.ref)return Uc(i,e,r)}return e.flags|=1,i=ph(s,n),i.ref=e.ref,i.return=e,e.child=i}function zH(i,e,t,n,r){if(i!==null){var s=i.memoizedProps;if(Uv(s,n)&&i.ref===e.ref)if(us=!1,e.pendingProps=n=s,(i.lanes&r)!==0)i.flags&131072&&(us=!0);else return e.lanes=i.lanes,Uc(i,e,r)}return n9(i,e,t,n,r)}function jH(i,e,t){var n=e.pendingProps,r=n.children,s=i!==null?i.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cn(Zp,zs),zs|=t;else{if(!(t&1073741824))return i=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:i,cachePool:null,transitions:null},e.updateQueue=null,Cn(Zp,zs),zs|=i,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:t,Cn(Zp,zs),zs|=n}else s!==null?(n=s.baseLanes|t,e.memoizedState=null):n=t,Cn(Zp,zs),zs|=n;return Wr(i,e,r,t),e.child}function HH(i,e){var t=e.ref;(i===null&&t!==null||i!==null&&i.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function n9(i,e,t,n,r){var s=ps(t)?h0:Fr.current;return s=J2(e,s),gm(e,r),t=T7(i,e,t,n,s,r),n=R7(),i!==null&&!us?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~r,Uc(i,e,r)):(Fn&&n&&g7(e),e.flags|=1,Wr(i,e,t,r),e.child)}function KF(i,e,t,n,r){if(ps(t)){var s=!0;lw(e)}else s=!1;if(gm(e,r),e.stateNode===null)h5(i,e),kH(e,t,n),e9(e,t,n,r),n=!0;else if(i===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=ko(c):(c=ps(t)?h0:Fr.current,c=J2(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&jF(e,o,n,c),Au=!1;var d=e.memoizedState;o.state=d,fw(e,n,o,r),l=e.memoizedState,a!==n||d!==l||fs.current||Au?(typeof u=="function"&&($T(e,t,u,n),l=e.memoizedState),(a=Au||zF(e,t,a,n,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,gH(i,e),a=e.memoizedProps,c=e.type===e.elementType?a:qo(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=ko(l):(l=ps(t)?h0:Fr.current,l=J2(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&jF(e,o,n,l),Au=!1,d=e.memoizedState,o.state=d,fw(e,n,o,r);var g=e.memoizedState;a!==h||d!==g||fs.current||Au?(typeof m=="function"&&($T(e,t,m,n),g=e.memoizedState),(c=Au||zF(e,t,c,n,d,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===i.memoizedProps&&d===i.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===i.memoizedProps&&d===i.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===i.memoizedProps&&d===i.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===i.memoizedProps&&d===i.memoizedState||(e.flags|=1024),n=!1)}return i9(i,e,t,n,s,r)}function i9(i,e,t,n,r,s){HH(i,e);var o=(e.flags&128)!==0;if(!n&&!o)return r&&LF(e,t,!1),Uc(i,e,s);n=e.stateNode,Kee.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,i!==null&&o?(e.child=Z2(e,i.child,null,s),e.child=Z2(e,null,a,s)):Wr(i,e,a,s),e.memoizedState=n.state,r&&LF(e,t,!0),e.child}function GH(i){var e=i.stateNode;e.pendingContext?IF(i,e.pendingContext,e.pendingContext!==e.context):e.context&&IF(i,e.context,!1),b7(i,e.containerInfo)}function YF(i,e,t,n,r){return q2(),y7(r),e.flags|=256,Wr(i,e,t,n),e.child}var r9={dehydrated:null,treeContext:null,retryLane:0};function s9(i){return{baseLanes:i,cachePool:null,transitions:null}}function VH(i,e,t){var n=e.pendingProps,r=Un.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=i!==null&&i.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(i===null||i.memoizedState!==null)&&(r|=1),Cn(Un,r&1),i===null)return ZT(e),i=e.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(e.mode&1?i.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,i=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=IC(o,n,0,null),i=$f(i,n,t,null),s.return=e,i.return=e,s.sibling=i,e.child=s,e.child.memoizedState=s9(t),e.memoizedState=r9,i):L7(e,o));if(r=i.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return Yee(i,e,o,n,a,r,t);if(s){s=n.fallback,o=e.mode,r=i.child,a=r.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==r?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=ph(r,l),n.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=ph(a,s):(s=$f(s,o,t,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=i.child.memoizedState,o=o===null?s9(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=i.childLanes&~t,e.memoizedState=r9,n}return s=i.child,i=s.sibling,n=ph(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=t),n.return=e,n.sibling=null,i!==null&&(t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)),e.child=n,e.memoizedState=null,n}function L7(i,e){return e=IC({mode:"visible",children:e},i.mode,0,null),e.return=i,i.child=e}function zA(i,e,t,n){return n!==null&&y7(n),Z2(e,i.child,null,t),i=L7(e,e.pendingProps.children),i.flags|=2,e.memoizedState=null,i}function Yee(i,e,t,n,r,s,o){if(t)return e.flags&256?(e.flags&=-257,n=k8(Error(Fe(422))),zA(i,e,o,n)):e.memoizedState!==null?(e.child=i.child,e.flags|=128,null):(s=n.fallback,r=e.mode,n=IC({mode:"visible",children:n.children},r,0,null),s=$f(s,r,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Z2(e,i.child,null,o),e.child.memoizedState=s9(o),e.memoizedState=r9,s);if(!(e.mode&1))return zA(i,e,o,null);if(r.data==="$!"){if(n=r.nextSibling&&r.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(Fe(419)),n=k8(s,n,void 0),zA(i,e,o,n)}if(a=(o&i.childLanes)!==0,us||a){if(n=Wi,n!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(n.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Nc(i,r),_a(n,i,r,-1))}return N7(),n=k8(Error(Fe(421))),zA(i,e,o,n)}return r.data==="$?"?(e.flags|=128,e.child=i.child,e=ate.bind(null,i),r._reactRetry=e,null):(i=s.treeContext,Vs=uh(r.nextSibling),Ys=e,Fn=!0,pa=null,i!==null&&(Eo[To++]=xc,Eo[To++]=Ac,Eo[To++]=d0,xc=i.id,Ac=i.overflow,d0=e),e=L7(e,n.children),e.flags|=4096,e)}function JF(i,e,t){i.lanes|=e;var n=i.alternate;n!==null&&(n.lanes|=e),QT(i.return,e,t)}function N8(i,e,t,n,r){var s=i.memoizedState;s===null?i.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=t,s.tailMode=r)}function WH(i,e,t){var n=e.pendingProps,r=n.revealOrder,s=n.tail;if(Wr(i,e,n.children,t),n=Un.current,n&2)n=n&1|2,e.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=e.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&JF(i,t,e);else if(i.tag===19)JF(i,t,e);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}n&=1}if(Cn(Un,n),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)i=t.alternate,i!==null&&pw(i)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),N8(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(i=r.alternate,i!==null&&pw(i)===null){e.child=r;break}i=r.sibling,r.sibling=t,t=r,r=i}N8(e,!0,t,null,s);break;case"together":N8(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function h5(i,e){!(e.mode&1)&&i!==null&&(i.alternate=null,e.alternate=null,e.flags|=2)}function Uc(i,e,t){if(i!==null&&(e.dependencies=i.dependencies),p0|=e.lanes,!(t&e.childLanes))return null;if(i!==null&&e.child!==i.child)throw Error(Fe(153));if(e.child!==null){for(i=e.child,t=ph(i,i.pendingProps),e.child=t,t.return=e;i.sibling!==null;)i=i.sibling,t=t.sibling=ph(i,i.pendingProps),t.return=e;t.sibling=null}return e.child}function Jee(i,e,t){switch(e.tag){case 3:GH(e),q2();break;case 5:vH(e);break;case 1:ps(e.type)&&lw(e);break;case 4:b7(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,r=e.memoizedProps.value;Cn(hw,n._currentValue),n._currentValue=r;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Cn(Un,Un.current&1),e.flags|=128,null):t&e.child.childLanes?VH(i,e,t):(Cn(Un,Un.current&1),i=Uc(i,e,t),i!==null?i.sibling:null);Cn(Un,Un.current&1);break;case 19:if(n=(t&e.childLanes)!==0,i.flags&128){if(n)return WH(i,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cn(Un,Un.current),n)break;return null;case 22:case 23:return e.lanes=0,jH(i,e,t)}return Uc(i,e,t)}var XH,o9,KH,YH;XH=function(i,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)i.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};o9=function(){};KH=function(i,e,t,n){var r=i.memoizedProps;if(r!==n){i=e.stateNode,Bd(cl.current);var s=null;switch(t){case"input":r=TT(i,r),n=TT(i,n),s=[];break;case"select":r=Wn({},r,{value:void 0}),n=Wn({},n,{value:void 0}),s=[];break;case"textarea":r=IT(i,r),n=IT(i,n),s=[];break;default:typeof r.onClick!="function"&&typeof n.onClick=="function"&&(i.onclick=ow)}DT(t,n);var o;t=null;for(c in r)if(!n.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Lv.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(a=r!=null?r[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Lv.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Tn("scroll",i),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};YH=function(i,e,t,n){t!==n&&(e.flags|=4)};function i1(i,e){if(!Fn)switch(i.tailMode){case"hidden":e=i.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?i.tail=null:t.sibling=null;break;case"collapsed":t=i.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||i.tail===null?i.tail=null:i.tail.sibling=null:n.sibling=null}}function vr(i){var e=i.alternate!==null&&i.alternate.child===i.child,t=0,n=0;if(e)for(var r=i.child;r!==null;)t|=r.lanes|r.childLanes,n|=r.subtreeFlags&14680064,n|=r.flags&14680064,r.return=i,r=r.sibling;else for(r=i.child;r!==null;)t|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=i,r=r.sibling;return i.subtreeFlags|=n,i.childLanes=t,e}function qee(i,e,t){var n=e.pendingProps;switch(v7(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vr(e),null;case 1:return ps(e.type)&&aw(),vr(e),null;case 3:return n=e.stateNode,Q2(),In(fs),In(Fr),M7(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(i===null||i.child===null)&&(NA(e)?e.flags|=4:i===null||i.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pa!==null&&(p9(pa),pa=null))),o9(i,e),vr(e),null;case 5:C7(e);var r=Bd(Vv.current);if(t=e.type,i!==null&&e.stateNode!=null)KH(i,e,t,n,r),i.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Fe(166));return vr(e),null}if(i=Bd(cl.current),NA(e)){n=e.stateNode,t=e.type;var s=e.memoizedProps;switch(n[il]=e,n[Hv]=s,i=(e.mode&1)!==0,t){case"dialog":Tn("cancel",n),Tn("close",n);break;case"iframe":case"object":case"embed":Tn("load",n);break;case"video":case"audio":for(r=0;r<D1.length;r++)Tn(D1[r],n);break;case"source":Tn("error",n);break;case"img":case"image":case"link":Tn("error",n),Tn("load",n);break;case"details":Tn("toggle",n);break;case"input":rF(n,s),Tn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Tn("invalid",n);break;case"textarea":oF(n,s),Tn("invalid",n)}DT(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&kA(n.textContent,a,i),r=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&kA(n.textContent,a,i),r=["children",""+a]):Lv.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Tn("scroll",n)}switch(t){case"input":RA(n),sF(n,s,!0);break;case"textarea":RA(n),aF(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=ow)}n=r,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Sj(t)),i==="http://www.w3.org/1999/xhtml"?t==="script"?(i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof n.is=="string"?i=o.createElement(t,{is:n.is}):(i=o.createElement(t),t==="select"&&(o=i,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):i=o.createElementNS(i,t),i[il]=e,i[Hv]=n,XH(i,e,!1,!1),e.stateNode=i;e:{switch(o=BT(t,n),t){case"dialog":Tn("cancel",i),Tn("close",i),r=n;break;case"iframe":case"object":case"embed":Tn("load",i),r=n;break;case"video":case"audio":for(r=0;r<D1.length;r++)Tn(D1[r],i);r=n;break;case"source":Tn("error",i),r=n;break;case"img":case"image":case"link":Tn("error",i),Tn("load",i),r=n;break;case"details":Tn("toggle",i),r=n;break;case"input":rF(i,n),r=TT(i,n),Tn("invalid",i);break;case"option":r=n;break;case"select":i._wrapperState={wasMultiple:!!n.multiple},r=Wn({},n,{value:void 0}),Tn("invalid",i);break;case"textarea":oF(i,n),r=IT(i,n),Tn("invalid",i);break;default:r=n}DT(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Cj(i,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wj(i,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Dv(i,l):typeof l=="number"&&Dv(i,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Lv.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Tn("scroll",i):l!=null&&n7(i,s,l,o))}switch(t){case"input":RA(i),sF(i,n,!1);break;case"textarea":RA(i),aF(i);break;case"option":n.value!=null&&i.setAttribute("value",""+Sh(n.value));break;case"select":i.multiple=!!n.multiple,s=n.value,s!=null?dm(i,!!n.multiple,s,!1):n.defaultValue!=null&&dm(i,!!n.multiple,n.defaultValue,!0);break;default:typeof r.onClick=="function"&&(i.onclick=ow)}switch(t){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vr(e),null;case 6:if(i&&e.stateNode!=null)YH(i,e,i.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Fe(166));if(t=Bd(Vv.current),Bd(cl.current),NA(e)){if(n=e.stateNode,t=e.memoizedProps,n[il]=e,(s=n.nodeValue!==t)&&(i=Ys,i!==null))switch(i.tag){case 3:kA(n.nodeValue,t,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&kA(n.nodeValue,t,(i.mode&1)!==0)}s&&(e.flags|=4)}else n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[il]=e,e.stateNode=n}return vr(e),null;case 13:if(In(Un),n=e.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Fn&&Vs!==null&&e.mode&1&&!(e.flags&128))dH(),q2(),e.flags|=98560,s=!1;else if(s=NA(e),n!==null&&n.dehydrated!==null){if(i===null){if(!s)throw Error(Fe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Fe(317));s[il]=e}else q2(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vr(e),s=!1}else pa!==null&&(p9(pa),pa=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(n=n!==null,n!==(i!==null&&i.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(i===null||Un.current&1?Ti===0&&(Ti=3):N7())),e.updateQueue!==null&&(e.flags|=4),vr(e),null);case 4:return Q2(),o9(i,e),i===null&&zv(e.stateNode.containerInfo),vr(e),null;case 10:return A7(e.type._context),vr(e),null;case 17:return ps(e.type)&&aw(),vr(e),null;case 19:if(In(Un),s=e.memoizedState,s===null)return vr(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)i1(s,!1);else{if(Ti!==0||i!==null&&i.flags&128)for(i=e.child;i!==null;){if(o=pw(i),o!==null){for(e.flags|=128,i1(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=t,t=e.child;t!==null;)s=t,i=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,i=o.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t=t.sibling;return Cn(Un,Un.current&1|2),e.child}i=i.sibling}s.tail!==null&&li()>eg&&(e.flags|=128,n=!0,i1(s,!1),e.lanes=4194304)}else{if(!n)if(i=pw(o),i!==null){if(e.flags|=128,n=!0,t=i.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),i1(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Fn)return vr(e),null}else 2*li()-s.renderingStartTime>eg&&t!==1073741824&&(e.flags|=128,n=!0,i1(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=li(),e.sibling=null,t=Un.current,Cn(Un,n?t&1|2:t&1),e):(vr(e),null);case 22:case 23:return k7(),n=e.memoizedState!==null,i!==null&&i.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?zs&1073741824&&(vr(e),e.subtreeFlags&6&&(e.flags|=8192)):vr(e),null;case 24:return null;case 25:return null}throw Error(Fe(156,e.tag))}function Zee(i,e){switch(v7(e),e.tag){case 1:return ps(e.type)&&aw(),i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 3:return Q2(),In(fs),In(Fr),M7(),i=e.flags,i&65536&&!(i&128)?(e.flags=i&-65537|128,e):null;case 5:return C7(e),null;case 13:if(In(Un),i=e.memoizedState,i!==null&&i.dehydrated!==null){if(e.alternate===null)throw Error(Fe(340));q2()}return i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 19:return In(Un),null;case 4:return Q2(),null;case 10:return A7(e.type._context),null;case 22:case 23:return k7(),null;case 24:return null;default:return null}}var jA=!1,Mr=!1,Qee=typeof WeakSet=="function"?WeakSet:Set,tt=null;function qp(i,e){var t=i.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){Zn(i,e,n)}else t.current=null}function a9(i,e,t){try{t()}catch(n){Zn(i,e,n)}}var qF=!1;function $ee(i,e){if(VT=iw,i=$j(),m7(i)){if("selectionStart"in i)var t={start:i.selectionStart,end:i.selectionEnd};else e:{t=(t=i.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var r=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=i,d=null;t:for(;;){for(var m;h!==t||r!==0&&h.nodeType!==3||(a=o+r),h!==s||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)d=h,h=m;for(;;){if(h===i)break t;if(d===t&&++c===r&&(a=o),d===s&&++u===n&&(l=o),(m=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(WT={focusedElem:i,selectionRange:t},iw=!1,tt=e;tt!==null;)if(e=tt,i=e.child,(e.subtreeFlags&1028)!==0&&i!==null)i.return=e,tt=i;else for(;tt!==null;){e=tt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,_=g.memoizedState,v=e.stateNode,A=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:qo(e.type,y),_);v.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Fe(163))}}catch(C){Zn(e,e.return,C)}if(i=e.sibling,i!==null){i.return=e.return,tt=i;break}tt=e.return}return g=qF,qF=!1,g}function lv(i,e,t){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&i)===i){var s=r.destroy;r.destroy=void 0,s!==void 0&&a9(e,t,s)}r=r.next}while(r!==n)}}function RC(i,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&i)===i){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}}function l9(i){var e=i.ref;if(e!==null){var t=i.stateNode;switch(i.tag){case 5:i=t;break;default:i=t}typeof e=="function"?e(i):e.current=i}}function JH(i){var e=i.alternate;e!==null&&(i.alternate=null,JH(e)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(e=i.stateNode,e!==null&&(delete e[il],delete e[Hv],delete e[YT],delete e[Fee],delete e[Oee])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function qH(i){return i.tag===5||i.tag===3||i.tag===4}function ZF(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||qH(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function c9(i,e,t){var n=i.tag;if(n===5||n===6)i=i.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(i,e):t.insertBefore(i,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(i,t)):(e=t,e.appendChild(i)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=ow));else if(n!==4&&(i=i.child,i!==null))for(c9(i,e,t),i=i.sibling;i!==null;)c9(i,e,t),i=i.sibling}function u9(i,e,t){var n=i.tag;if(n===5||n===6)i=i.stateNode,e?t.insertBefore(i,e):t.appendChild(i);else if(n!==4&&(i=i.child,i!==null))for(u9(i,e,t),i=i.sibling;i!==null;)u9(i,e,t),i=i.sibling}var or=null,fa=!1;function iu(i,e,t){for(t=t.child;t!==null;)ZH(i,e,t),t=t.sibling}function ZH(i,e,t){if(ll&&typeof ll.onCommitFiberUnmount=="function")try{ll.onCommitFiberUnmount(AC,t)}catch{}switch(t.tag){case 5:Mr||qp(t,e);case 6:var n=or,r=fa;or=null,iu(i,e,t),or=n,fa=r,or!==null&&(fa?(i=or,t=t.stateNode,i.nodeType===8?i.parentNode.removeChild(t):i.removeChild(t)):or.removeChild(t.stateNode));break;case 18:or!==null&&(fa?(i=or,t=t.stateNode,i.nodeType===8?I8(i.parentNode,t):i.nodeType===1&&I8(i,t),kv(i)):I8(or,t.stateNode));break;case 4:n=or,r=fa,or=t.stateNode.containerInfo,fa=!0,iu(i,e,t),or=n,fa=r;break;case 0:case 11:case 14:case 15:if(!Mr&&(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){r=n=n.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&a9(t,e,o),r=r.next}while(r!==n)}iu(i,e,t);break;case 1:if(!Mr&&(qp(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(a){Zn(t,e,a)}iu(i,e,t);break;case 21:iu(i,e,t);break;case 22:t.mode&1?(Mr=(n=Mr)||t.memoizedState!==null,iu(i,e,t),Mr=n):iu(i,e,t);break;default:iu(i,e,t)}}function QF(i){var e=i.updateQueue;if(e!==null){i.updateQueue=null;var t=i.stateNode;t===null&&(t=i.stateNode=new Qee),e.forEach(function(n){var r=lte.bind(null,i,n);t.has(n)||(t.add(n),n.then(r,r))})}}function Vo(i,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];try{var s=i,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:or=a.stateNode,fa=!1;break e;case 3:or=a.stateNode.containerInfo,fa=!0;break e;case 4:or=a.stateNode.containerInfo,fa=!0;break e}a=a.return}if(or===null)throw Error(Fe(160));ZH(s,o,r),or=null,fa=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Zn(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QH(e,i),e=e.sibling}function QH(i,e){var t=i.alternate,n=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Vo(e,i),Fa(i),n&4){try{lv(3,i,i.return),RC(3,i)}catch(y){Zn(i,i.return,y)}try{lv(5,i,i.return)}catch(y){Zn(i,i.return,y)}}break;case 1:Vo(e,i),Fa(i),n&512&&t!==null&&qp(t,t.return);break;case 5:if(Vo(e,i),Fa(i),n&512&&t!==null&&qp(t,t.return),i.flags&32){var r=i.stateNode;try{Dv(r,"")}catch(y){Zn(i,i.return,y)}}if(n&4&&(r=i.stateNode,r!=null)){var s=i.memoizedProps,o=t!==null?t.memoizedProps:s,a=i.type,l=i.updateQueue;if(i.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&xj(r,s),BT(a,o);var c=BT(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?Cj(r,h):u==="dangerouslySetInnerHTML"?wj(r,h):u==="children"?Dv(r,h):n7(r,u,h,c)}switch(a){case"input":RT(r,s);break;case"textarea":Aj(r,s);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?dm(r,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?dm(r,!!s.multiple,s.defaultValue,!0):dm(r,!!s.multiple,s.multiple?[]:"",!1))}r[Hv]=s}catch(y){Zn(i,i.return,y)}}break;case 6:if(Vo(e,i),Fa(i),n&4){if(i.stateNode===null)throw Error(Fe(162));r=i.stateNode,s=i.memoizedProps;try{r.nodeValue=s}catch(y){Zn(i,i.return,y)}}break;case 3:if(Vo(e,i),Fa(i),n&4&&t!==null&&t.memoizedState.isDehydrated)try{kv(e.containerInfo)}catch(y){Zn(i,i.return,y)}break;case 4:Vo(e,i),Fa(i);break;case 13:Vo(e,i),Fa(i),r=i.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(F7=li())),n&4&&QF(i);break;case 22:if(u=t!==null&&t.memoizedState!==null,i.mode&1?(Mr=(c=Mr)||u,Vo(e,i),Mr=c):Vo(e,i),Fa(i),n&8192){if(c=i.memoizedState!==null,(i.stateNode.isHidden=c)&&!u&&i.mode&1)for(tt=i,u=i.child;u!==null;){for(h=tt=u;tt!==null;){switch(d=tt,m=d.child,d.tag){case 0:case 11:case 14:case 15:lv(4,d,d.return);break;case 1:qp(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){n=d,t=d.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Zn(n,t,y)}}break;case 5:qp(d,d.return);break;case 22:if(d.memoizedState!==null){eO(h);continue}}m!==null?(m.return=d,tt=m):eO(h)}u=u.sibling}e:for(u=null,h=i;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=bj("display",o))}catch(y){Zn(i,i.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Zn(i,i.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===i)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Vo(e,i),Fa(i),n&4&&QF(i);break;case 21:break;default:Vo(e,i),Fa(i)}}function Fa(i){var e=i.flags;if(e&2){try{e:{for(var t=i.return;t!==null;){if(qH(t)){var n=t;break e}t=t.return}throw Error(Fe(160))}switch(n.tag){case 5:var r=n.stateNode;n.flags&32&&(Dv(r,""),n.flags&=-33);var s=ZF(i);u9(i,s,r);break;case 3:case 4:var o=n.stateNode.containerInfo,a=ZF(i);c9(i,a,o);break;default:throw Error(Fe(161))}}catch(l){Zn(i,i.return,l)}i.flags&=-3}e&4096&&(i.flags&=-4097)}function ete(i,e,t){tt=i,$H(i)}function $H(i,e,t){for(var n=(i.mode&1)!==0;tt!==null;){var r=tt,s=r.child;if(r.tag===22&&n){var o=r.memoizedState!==null||jA;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Mr;a=jA;var c=Mr;if(jA=o,(Mr=l)&&!c)for(tt=r;tt!==null;)o=tt,l=o.child,o.tag===22&&o.memoizedState!==null?tO(r):l!==null?(l.return=o,tt=l):tO(r);for(;s!==null;)tt=s,$H(s),s=s.sibling;tt=r,jA=a,Mr=c}$F(i)}else r.subtreeFlags&8772&&s!==null?(s.return=r,tt=s):$F(i)}}function $F(i){for(;tt!==null;){var e=tt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mr||RC(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Mr)if(t===null)n.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:qo(e.type,t.memoizedProps);n.componentDidUpdate(r,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&kF(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}kF(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&kv(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Fe(163))}Mr||e.flags&512&&l9(e)}catch(d){Zn(e,e.return,d)}}if(e===i){tt=null;break}if(t=e.sibling,t!==null){t.return=e.return,tt=t;break}tt=e.return}}function eO(i){for(;tt!==null;){var e=tt;if(e===i){tt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,tt=t;break}tt=e.return}}function tO(i){for(;tt!==null;){var e=tt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{RC(4,e)}catch(l){Zn(e,t,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var r=e.return;try{n.componentDidMount()}catch(l){Zn(e,r,l)}}var s=e.return;try{l9(e)}catch(l){Zn(e,s,l)}break;case 5:var o=e.return;try{l9(e)}catch(l){Zn(e,o,l)}}}catch(l){Zn(e,e.return,l)}if(e===i){tt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,tt=a;break}tt=e.return}}var tte=Math.ceil,vw=Xc.ReactCurrentDispatcher,D7=Xc.ReactCurrentOwner,Oo=Xc.ReactCurrentBatchConfig,qt=0,Wi=null,yi=null,cr=0,zs=0,Zp=Dh(0),Ti=0,Yv=null,p0=0,PC=0,B7=0,cv=null,cs=null,F7=0,eg=1/0,Fl=null,yw=!1,h9=null,dh=null,HA=!1,eh=null,_w=0,uv=0,d9=null,d5=-1,f5=0;function Jr(){return qt&6?li():d5!==-1?d5:d5=li()}function fh(i){return i.mode&1?qt&2&&cr!==0?cr&-cr:Nee.transition!==null?(f5===0&&(f5=kj()),f5):(i=un,i!==0||(i=window.event,i=i===void 0?16:Vj(i.type)),i):1}function _a(i,e,t,n){if(50<uv)throw uv=0,d9=null,Error(Fe(185));J3(i,t,n),(!(qt&2)||i!==Wi)&&(i===Wi&&(!(qt&2)&&(PC|=t),Ti===4&&wu(i,cr)),ms(i,n),t===1&&qt===0&&!(e.mode&1)&&(eg=li()+500,MC&&Bh()))}function ms(i,e){var t=i.callbackNode;N$(i,e);var n=nw(i,i===Wi?cr:0);if(n===0)t!==null&&uF(t),i.callbackNode=null,i.callbackPriority=0;else if(e=n&-n,i.callbackPriority!==e){if(t!=null&&uF(t),e===1)i.tag===0?kee(nO.bind(null,i)):cH(nO.bind(null,i)),Dee(function(){!(qt&6)&&Bh()}),t=null;else{switch(Nj(n)){case 1:t=a7;break;case 4:t=Fj;break;case 16:t=tw;break;case 536870912:t=Oj;break;default:t=tw}t=aG(t,eG.bind(null,i))}i.callbackPriority=e,i.callbackNode=t}}function eG(i,e){if(d5=-1,f5=0,qt&6)throw Error(Fe(327));var t=i.callbackNode;if(vm()&&i.callbackNode!==t)return null;var n=nw(i,i===Wi?cr:0);if(n===0)return null;if(n&30||n&i.expiredLanes||e)e=xw(i,n);else{e=n;var r=qt;qt|=2;var s=nG();(Wi!==i||cr!==e)&&(Fl=null,eg=li()+500,Qf(i,e));do try{rte();break}catch(a){tG(i,a)}while(!0);x7(),vw.current=s,qt=r,yi!==null?e=0:(Wi=null,cr=0,e=Ti)}if(e!==0){if(e===2&&(r=UT(i),r!==0&&(n=r,e=f9(i,r))),e===1)throw t=Yv,Qf(i,0),wu(i,n),ms(i,li()),t;if(e===6)wu(i,n);else{if(r=i.current.alternate,!(n&30)&&!nte(r)&&(e=xw(i,n),e===2&&(s=UT(i),s!==0&&(n=s,e=f9(i,s))),e===1))throw t=Yv,Qf(i,0),wu(i,n),ms(i,li()),t;switch(i.finishedWork=r,i.finishedLanes=n,e){case 0:case 1:throw Error(Fe(345));case 2:gd(i,cs,Fl);break;case 3:if(wu(i,n),(n&130023424)===n&&(e=F7+500-li(),10<e)){if(nw(i,0)!==0)break;if(r=i.suspendedLanes,(r&n)!==n){Jr(),i.pingedLanes|=i.suspendedLanes&r;break}i.timeoutHandle=KT(gd.bind(null,i,cs,Fl),e);break}gd(i,cs,Fl);break;case 4:if(wu(i,n),(n&4194240)===n)break;for(e=i.eventTimes,r=-1;0<n;){var o=31-ya(n);s=1<<o,o=e[o],o>r&&(r=o),n&=~s}if(n=r,n=li()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*tte(n/1960))-n,10<n){i.timeoutHandle=KT(gd.bind(null,i,cs,Fl),n);break}gd(i,cs,Fl);break;case 5:gd(i,cs,Fl);break;default:throw Error(Fe(329))}}}return ms(i,li()),i.callbackNode===t?eG.bind(null,i):null}function f9(i,e){var t=cv;return i.current.memoizedState.isDehydrated&&(Qf(i,e).flags|=256),i=xw(i,e),i!==2&&(e=cs,cs=t,e!==null&&p9(e)),i}function p9(i){cs===null?cs=i:cs.push.apply(cs,i)}function nte(i){for(var e=i;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var n=0;n<t.length;n++){var r=t[n],s=r.getSnapshot;r=r.value;try{if(!xa(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wu(i,e){for(e&=~B7,e&=~PC,i.suspendedLanes|=e,i.pingedLanes&=~e,i=i.expirationTimes;0<e;){var t=31-ya(e),n=1<<t;i[t]=-1,e&=~n}}function nO(i){if(qt&6)throw Error(Fe(327));vm();var e=nw(i,0);if(!(e&1))return ms(i,li()),null;var t=xw(i,e);if(i.tag!==0&&t===2){var n=UT(i);n!==0&&(e=n,t=f9(i,n))}if(t===1)throw t=Yv,Qf(i,0),wu(i,e),ms(i,li()),t;if(t===6)throw Error(Fe(345));return i.finishedWork=i.current.alternate,i.finishedLanes=e,gd(i,cs,Fl),ms(i,li()),null}function O7(i,e){var t=qt;qt|=1;try{return i(e)}finally{qt=t,qt===0&&(eg=li()+500,MC&&Bh())}}function m0(i){eh!==null&&eh.tag===0&&!(qt&6)&&vm();var e=qt;qt|=1;var t=Oo.transition,n=un;try{if(Oo.transition=null,un=1,i)return i()}finally{un=n,Oo.transition=t,qt=e,!(qt&6)&&Bh()}}function k7(){zs=Zp.current,In(Zp)}function Qf(i,e){i.finishedWork=null,i.finishedLanes=0;var t=i.timeoutHandle;if(t!==-1&&(i.timeoutHandle=-1,Lee(t)),yi!==null)for(t=yi.return;t!==null;){var n=t;switch(v7(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&aw();break;case 3:Q2(),In(fs),In(Fr),M7();break;case 5:C7(n);break;case 4:Q2();break;case 13:In(Un);break;case 19:In(Un);break;case 10:A7(n.type._context);break;case 22:case 23:k7()}t=t.return}if(Wi=i,yi=i=ph(i.current,null),cr=zs=e,Ti=0,Yv=null,B7=PC=p0=0,cs=cv=null,Dd!==null){for(e=0;e<Dd.length;e++)if(t=Dd[e],n=t.interleaved,n!==null){t.interleaved=null;var r=n.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,n.next=o}t.pending=n}Dd=null}return i}function tG(i,e){do{var t=yi;try{if(x7(),c5.current=gw,mw){for(var n=Vn.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}mw=!1}if(f0=0,Gi=Mi=Vn=null,av=!1,Wv=0,D7.current=null,t===null||t.return===null){Ti=1,Yv=e,yi=null;break}e:{var s=i,o=t.return,a=t,l=e;if(e=cr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=GF(o);if(m!==null){m.flags&=-257,VF(m,o,a,s,e),m.mode&1&&HF(s,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){HF(s,c,e),N7();break e}l=Error(Fe(426))}}else if(Fn&&a.mode&1){var _=GF(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),VF(_,o,a,s,e),y7($2(l,a));break e}}s=l=$2(l,a),Ti!==4&&(Ti=2),cv===null?cv=[s]:cv.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=NH(s,l,e);OF(s,v);break e;case 1:a=l;var A=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(dh===null||!dh.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=UH(s,a,e);OF(s,C);break e}}s=s.return}while(s!==null)}rG(t)}catch(T){e=T,yi===t&&t!==null&&(yi=t=t.return);continue}break}while(!0)}function nG(){var i=vw.current;return vw.current=gw,i===null?gw:i}function N7(){(Ti===0||Ti===3||Ti===2)&&(Ti=4),Wi===null||!(p0&268435455)&&!(PC&268435455)||wu(Wi,cr)}function xw(i,e){var t=qt;qt|=2;var n=nG();(Wi!==i||cr!==e)&&(Fl=null,Qf(i,e));do try{ite();break}catch(r){tG(i,r)}while(!0);if(x7(),qt=t,vw.current=n,yi!==null)throw Error(Fe(261));return Wi=null,cr=0,Ti}function ite(){for(;yi!==null;)iG(yi)}function rte(){for(;yi!==null&&!R$();)iG(yi)}function iG(i){var e=oG(i.alternate,i,zs);i.memoizedProps=i.pendingProps,e===null?rG(i):yi=e,D7.current=null}function rG(i){var e=i;do{var t=e.alternate;if(i=e.return,e.flags&32768){if(t=Zee(t,e),t!==null){t.flags&=32767,yi=t;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ti=6,yi=null;return}}else if(t=qee(t,e,zs),t!==null){yi=t;return}if(e=e.sibling,e!==null){yi=e;return}yi=e=i}while(e!==null);Ti===0&&(Ti=5)}function gd(i,e,t){var n=un,r=Oo.transition;try{Oo.transition=null,un=1,ste(i,e,t,n)}finally{Oo.transition=r,un=n}return null}function ste(i,e,t,n){do vm();while(eh!==null);if(qt&6)throw Error(Fe(327));t=i.finishedWork;var r=i.finishedLanes;if(t===null)return null;if(i.finishedWork=null,i.finishedLanes=0,t===i.current)throw Error(Fe(177));i.callbackNode=null,i.callbackPriority=0;var s=t.lanes|t.childLanes;if(U$(i,s),i===Wi&&(yi=Wi=null,cr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||HA||(HA=!0,aG(tw,function(){return vm(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Oo.transition,Oo.transition=null;var o=un;un=1;var a=qt;qt|=4,D7.current=null,$ee(i,t),QH(t,i),Cee(WT),iw=!!VT,WT=VT=null,i.current=t,ete(t),P$(),qt=a,un=o,Oo.transition=s}else i.current=t;if(HA&&(HA=!1,eh=i,_w=r),s=i.pendingLanes,s===0&&(dh=null),D$(t.stateNode),ms(i,li()),e!==null)for(n=i.onRecoverableError,t=0;t<e.length;t++)r=e[t],n(r.value,{componentStack:r.stack,digest:r.digest});if(yw)throw yw=!1,i=h9,h9=null,i;return _w&1&&i.tag!==0&&vm(),s=i.pendingLanes,s&1?i===d9?uv++:(uv=0,d9=i):uv=0,Bh(),null}function vm(){if(eh!==null){var i=Nj(_w),e=Oo.transition,t=un;try{if(Oo.transition=null,un=16>i?16:i,eh===null)var n=!1;else{if(i=eh,eh=null,_w=0,qt&6)throw Error(Fe(331));var r=qt;for(qt|=4,tt=i.current;tt!==null;){var s=tt,o=s.child;if(tt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(tt=c;tt!==null;){var u=tt;switch(u.tag){case 0:case 11:case 15:lv(8,u,s)}var h=u.child;if(h!==null)h.return=u,tt=h;else for(;tt!==null;){u=tt;var d=u.sibling,m=u.return;if(JH(u),u===c){tt=null;break}if(d!==null){d.return=m,tt=d;break}tt=m}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}tt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,tt=o;else e:for(;tt!==null;){if(s=tt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:lv(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,tt=v;break e}tt=s.return}}var A=i.current;for(tt=A;tt!==null;){o=tt;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,tt=S;else e:for(o=A;tt!==null;){if(a=tt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:RC(9,a)}}catch(T){Zn(a,a.return,T)}if(a===o){tt=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,tt=C;break e}tt=a.return}}if(qt=r,Bh(),ll&&typeof ll.onPostCommitFiberRoot=="function")try{ll.onPostCommitFiberRoot(AC,i)}catch{}n=!0}return n}finally{un=t,Oo.transition=e}}return!1}function iO(i,e,t){e=$2(t,e),e=NH(i,e,1),i=hh(i,e,1),e=Jr(),i!==null&&(J3(i,1,e),ms(i,e))}function Zn(i,e,t){if(i.tag===3)iO(i,i,t);else for(;e!==null;){if(e.tag===3){iO(e,i,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(dh===null||!dh.has(n))){i=$2(t,i),i=UH(e,i,1),e=hh(e,i,1),i=Jr(),e!==null&&(J3(e,1,i),ms(e,i));break}}e=e.return}}function ote(i,e,t){var n=i.pingCache;n!==null&&n.delete(e),e=Jr(),i.pingedLanes|=i.suspendedLanes&t,Wi===i&&(cr&t)===t&&(Ti===4||Ti===3&&(cr&130023424)===cr&&500>li()-F7?Qf(i,0):B7|=t),ms(i,e)}function sG(i,e){e===0&&(i.mode&1?(e=LA,LA<<=1,!(LA&130023424)&&(LA=4194304)):e=1);var t=Jr();i=Nc(i,e),i!==null&&(J3(i,e,t),ms(i,t))}function ate(i){var e=i.memoizedState,t=0;e!==null&&(t=e.retryLane),sG(i,t)}function lte(i,e){var t=0;switch(i.tag){case 13:var n=i.stateNode,r=i.memoizedState;r!==null&&(t=r.retryLane);break;case 19:n=i.stateNode;break;default:throw Error(Fe(314))}n!==null&&n.delete(e),sG(i,t)}var oG;oG=function(i,e,t){if(i!==null)if(i.memoizedProps!==e.pendingProps||fs.current)us=!0;else{if(!(i.lanes&t)&&!(e.flags&128))return us=!1,Jee(i,e,t);us=!!(i.flags&131072)}else us=!1,Fn&&e.flags&1048576&&uH(e,uw,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;h5(i,e),i=e.pendingProps;var r=J2(e,Fr.current);gm(e,t),r=T7(null,e,n,i,r,t);var s=R7();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ps(n)?(s=!0,lw(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,w7(e),r.updater=TC,e.stateNode=r,r._reactInternals=e,e9(e,n,i,t),e=i9(null,e,n,!0,s,t)):(e.tag=0,Fn&&s&&g7(e),Wr(null,e,r,t),e=e.child),e;case 16:n=e.elementType;e:{switch(h5(i,e),i=e.pendingProps,r=n._init,n=r(n._payload),e.type=n,r=e.tag=ute(n),i=qo(n,i),r){case 0:e=n9(null,e,n,i,t);break e;case 1:e=KF(null,e,n,i,t);break e;case 11:e=WF(null,e,n,i,t);break e;case 14:e=XF(null,e,n,qo(n.type,i),t);break e}throw Error(Fe(306,n,""))}return e;case 0:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:qo(n,r),n9(i,e,n,r,t);case 1:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:qo(n,r),KF(i,e,n,r,t);case 3:e:{if(GH(e),i===null)throw Error(Fe(387));n=e.pendingProps,s=e.memoizedState,r=s.element,gH(i,e),fw(e,n,null,t);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=$2(Error(Fe(423)),e),e=YF(i,e,n,t,r);break e}else if(n!==r){r=$2(Error(Fe(424)),e),e=YF(i,e,n,t,r);break e}else for(Vs=uh(e.stateNode.containerInfo.firstChild),Ys=e,Fn=!0,pa=null,t=pH(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(q2(),n===r){e=Uc(i,e,t);break e}Wr(i,e,n,t)}e=e.child}return e;case 5:return vH(e),i===null&&ZT(e),n=e.type,r=e.pendingProps,s=i!==null?i.memoizedProps:null,o=r.children,XT(n,r)?o=null:s!==null&&XT(n,s)&&(e.flags|=32),HH(i,e),Wr(i,e,o,t),e.child;case 6:return i===null&&ZT(e),null;case 13:return VH(i,e,t);case 4:return b7(e,e.stateNode.containerInfo),n=e.pendingProps,i===null?e.child=Z2(e,null,n,t):Wr(i,e,n,t),e.child;case 11:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:qo(n,r),WF(i,e,n,r,t);case 7:return Wr(i,e,e.pendingProps,t),e.child;case 8:return Wr(i,e,e.pendingProps.children,t),e.child;case 12:return Wr(i,e,e.pendingProps.children,t),e.child;case 10:e:{if(n=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Cn(hw,n._currentValue),n._currentValue=o,s!==null)if(xa(s.value,o)){if(s.children===r.children&&!fs.current){e=Uc(i,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Cc(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),QT(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Fe(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),QT(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Wr(i,e,r.children,t),e=e.child}return e;case 9:return r=e.type,n=e.pendingProps.children,gm(e,t),r=ko(r),n=n(r),e.flags|=1,Wr(i,e,n,t),e.child;case 14:return n=e.type,r=qo(n,e.pendingProps),r=qo(n.type,r),XF(i,e,n,r,t);case 15:return zH(i,e,e.type,e.pendingProps,t);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:qo(n,r),h5(i,e),e.tag=1,ps(n)?(i=!0,lw(e)):i=!1,gm(e,t),kH(e,n,r),e9(e,n,r,t),i9(null,e,n,!0,i,t);case 19:return WH(i,e,t);case 22:return jH(i,e,t)}throw Error(Fe(156,e.tag))};function aG(i,e){return Bj(i,e)}function cte(i,e,t,n){this.tag=i,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Io(i,e,t,n){return new cte(i,e,t,n)}function U7(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ute(i){if(typeof i=="function")return U7(i)?1:0;if(i!=null){if(i=i.$$typeof,i===r7)return 11;if(i===s7)return 14}return 2}function ph(i,e){var t=i.alternate;return t===null?(t=Io(i.tag,e,i.key,i.mode),t.elementType=i.elementType,t.type=i.type,t.stateNode=i.stateNode,t.alternate=i,i.alternate=t):(t.pendingProps=e,t.type=i.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=i.flags&14680064,t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=i.sibling,t.index=i.index,t.ref=i.ref,t}function p5(i,e,t,n,r,s){var o=2;if(n=i,typeof i=="function")U7(i)&&(o=1);else if(typeof i=="string")o=5;else e:switch(i){case jp:return $f(t.children,r,s,e);case i7:o=8,r|=8;break;case bT:return i=Io(12,t,e,r|2),i.elementType=bT,i.lanes=s,i;case CT:return i=Io(13,t,e,r),i.elementType=CT,i.lanes=s,i;case MT:return i=Io(19,t,e,r),i.elementType=MT,i.lanes=s,i;case vj:return IC(t,r,s,e);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case mj:o=10;break e;case gj:o=9;break e;case r7:o=11;break e;case s7:o=14;break e;case xu:o=16,n=null;break e}throw Error(Fe(130,i==null?i:typeof i,""))}return e=Io(o,t,e,r),e.elementType=i,e.type=n,e.lanes=s,e}function $f(i,e,t,n){return i=Io(7,i,n,e),i.lanes=t,i}function IC(i,e,t,n){return i=Io(22,i,n,e),i.elementType=vj,i.lanes=t,i.stateNode={isHidden:!1},i}function U8(i,e,t){return i=Io(6,i,null,e),i.lanes=t,i}function z8(i,e,t){return e=Io(4,i.children!==null?i.children:[],i.key,e),e.lanes=t,e.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},e}function hte(i,e,t,n,r){this.tag=e,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=x8(0),this.expirationTimes=x8(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=x8(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function z7(i,e,t,n,r,s,o,a,l){return i=new hte(i,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Io(3,null,null,e),i.current=s,s.stateNode=i,s.memoizedState={element:n,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},w7(s),i}function dte(i,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zp,key:n==null?null:""+n,children:i,containerInfo:e,implementation:t}}function lG(i){if(!i)return wh;i=i._reactInternals;e:{if(I0(i)!==i||i.tag!==1)throw Error(Fe(170));var e=i;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ps(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Fe(171))}if(i.tag===1){var t=i.type;if(ps(t))return lH(i,t,e)}return e}function cG(i,e,t,n,r,s,o,a,l){return i=z7(t,n,!0,i,r,s,o,a,l),i.context=lG(null),t=i.current,n=Jr(),r=fh(t),s=Cc(n,r),s.callback=e??null,hh(t,s,r),i.current.lanes=r,J3(i,r,n),ms(i,n),i}function LC(i,e,t,n){var r=e.current,s=Jr(),o=fh(r);return t=lG(t),e.context===null?e.context=t:e.pendingContext=t,e=Cc(s,o),e.payload={element:i},n=n===void 0?null:n,n!==null&&(e.callback=n),i=hh(r,e,o),i!==null&&(_a(i,r,o,s),l5(i,r,o)),o}function Aw(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function rO(i,e){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var t=i.retryLane;i.retryLane=t!==0&&t<e?t:e}}function j7(i,e){rO(i,e),(i=i.alternate)&&rO(i,e)}function fte(){return null}var uG=typeof reportError=="function"?reportError:function(i){console.error(i)};function H7(i){this._internalRoot=i}DC.prototype.render=H7.prototype.render=function(i){var e=this._internalRoot;if(e===null)throw Error(Fe(409));LC(i,e,null,null)};DC.prototype.unmount=H7.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var e=i.containerInfo;m0(function(){LC(null,i,null,null)}),e[kc]=null}};function DC(i){this._internalRoot=i}DC.prototype.unstable_scheduleHydration=function(i){if(i){var e=jj();i={blockedOn:null,target:i,priority:e};for(var t=0;t<Su.length&&e!==0&&e<Su[t].priority;t++);Su.splice(t,0,i),t===0&&Gj(i)}};function G7(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function BC(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function sO(){}function pte(i,e,t,n,r){if(r){if(typeof n=="function"){var s=n;n=function(){var c=Aw(o);s.call(c)}}var o=cG(e,n,i,0,null,!1,!1,"",sO);return i._reactRootContainer=o,i[kc]=o.current,zv(i.nodeType===8?i.parentNode:i),m0(),o}for(;r=i.lastChild;)i.removeChild(r);if(typeof n=="function"){var a=n;n=function(){var c=Aw(l);a.call(c)}}var l=z7(i,0,!1,null,null,!1,!1,"",sO);return i._reactRootContainer=l,i[kc]=l.current,zv(i.nodeType===8?i.parentNode:i),m0(function(){LC(e,l,t,n)}),l}function FC(i,e,t,n,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Aw(o);a.call(l)}}LC(e,o,i,r)}else o=pte(t,e,i,r,n);return Aw(o)}Uj=function(i){switch(i.tag){case 3:var e=i.stateNode;if(e.current.memoizedState.isDehydrated){var t=L1(e.pendingLanes);t!==0&&(l7(e,t|1),ms(e,li()),!(qt&6)&&(eg=li()+500,Bh()))}break;case 13:m0(function(){var n=Nc(i,1);if(n!==null){var r=Jr();_a(n,i,1,r)}}),j7(i,1)}};c7=function(i){if(i.tag===13){var e=Nc(i,134217728);if(e!==null){var t=Jr();_a(e,i,134217728,t)}j7(i,134217728)}};zj=function(i){if(i.tag===13){var e=fh(i),t=Nc(i,e);if(t!==null){var n=Jr();_a(t,i,e,n)}j7(i,e)}};jj=function(){return un};Hj=function(i,e){var t=un;try{return un=i,e()}finally{un=t}};OT=function(i,e,t){switch(e){case"input":if(RT(i,t),e=t.name,t.type==="radio"&&e!=null){for(t=i;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==i&&n.form===i.form){var r=CC(n);if(!r)throw Error(Fe(90));_j(n),RT(n,r)}}}break;case"textarea":Aj(i,t);break;case"select":e=t.value,e!=null&&dm(i,!!t.multiple,e,!1)}};Tj=O7;Rj=m0;var mte={usingClientEntryPoint:!1,Events:[Z3,Wp,CC,Mj,Ej,O7]},r1={findFiberByHostInstance:Ld,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gte={bundleType:r1.bundleType,version:r1.version,rendererPackageName:r1.rendererPackageName,rendererConfig:r1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xc.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Lj(i),i===null?null:i.stateNode},findFiberByHostInstance:r1.findFiberByHostInstance||fte,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var GA=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!GA.isDisabled&&GA.supportsFiber)try{AC=GA.inject(gte),ll=GA}catch{}}no.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mte;no.createPortal=function(i,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!G7(e))throw Error(Fe(200));return dte(i,e,null,t)};no.createRoot=function(i,e){if(!G7(i))throw Error(Fe(299));var t=!1,n="",r=uG;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=z7(i,1,!1,null,null,t,!1,n,r),i[kc]=e.current,zv(i.nodeType===8?i.parentNode:i),new H7(e)};no.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var e=i._reactInternals;if(e===void 0)throw typeof i.render=="function"?Error(Fe(188)):(i=Object.keys(i).join(","),Error(Fe(268,i)));return i=Lj(e),i=i===null?null:i.stateNode,i};no.flushSync=function(i){return m0(i)};no.hydrate=function(i,e,t){if(!BC(e))throw Error(Fe(200));return FC(null,i,e,!0,t)};no.hydrateRoot=function(i,e,t){if(!G7(i))throw Error(Fe(405));var n=t!=null&&t.hydratedSources||null,r=!1,s="",o=uG;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=cG(e,null,i,1,t??null,r,!1,s,o),i[kc]=e.current,zv(i),n)for(i=0;i<n.length;i++)t=n[i],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new DC(e)};no.render=function(i,e,t){if(!BC(e))throw Error(Fe(200));return FC(null,i,e,!1,t)};no.unmountComponentAtNode=function(i){if(!BC(i))throw Error(Fe(40));return i._reactRootContainer?(m0(function(){FC(null,null,i,!1,function(){i._reactRootContainer=null,i[kc]=null})}),!0):!1};no.unstable_batchedUpdates=O7;no.unstable_renderSubtreeIntoContainer=function(i,e,t,n){if(!BC(t))throw Error(Fe(200));if(i==null||i._reactInternals===void 0)throw Error(Fe(38));return FC(i,e,t,!1,n)};no.version="18.3.1-next-f1338f8080-20240426";function hG(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hG)}catch(i){console.error(i)}}hG(),hj.exports=no;var dG=hj.exports;const vte=R0(dG);var fG,oO=dG;fG=ST.createRoot=oO.createRoot,ST.hydrateRoot=oO.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jv(){return Jv=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Jv.apply(this,arguments)}var th;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(th||(th={}));const aO="popstate";function yte(i){i===void 0&&(i={});function e(r,s){let{pathname:o="/",search:a="",hash:l=""}=L0(r.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),m9("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:Sw(s))}function n(r,s){V7(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return xte(e,t,n,i)}function ti(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function V7(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _te(){return Math.random().toString(36).substr(2,8)}function lO(i,e){return{usr:i.state,key:i.key,idx:e}}function m9(i,e,t,n){return t===void 0&&(t=null),Jv({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?L0(e):e,{state:t,key:e&&e.key||n||_te()})}function Sw(i){let{pathname:e="/",search:t="",hash:n=""}=i;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function L0(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substr(t),i=i.substr(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substr(n),i=i.substr(0,n)),i&&(e.pathname=i)}return e}function xte(i,e,t,n){n===void 0&&(n={});let{window:r=document.defaultView,v5Compat:s=!1}=n,o=r.history,a=th.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Jv({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=th.Pop;let _=u(),v=_==null?null:_-c;c=_,l&&l({action:a,location:y.location,delta:v})}function d(_,v){a=th.Push;let A=m9(y.location,_,v);t&&t(A,_),c=u()+1;let S=lO(A,c),C=y.createHref(A);try{o.pushState(S,"",C)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;r.location.assign(C)}s&&l&&l({action:a,location:y.location,delta:1})}function m(_,v){a=th.Replace;let A=m9(y.location,_,v);t&&t(A,_),c=u();let S=lO(A,c),C=y.createHref(A);o.replaceState(S,"",C),s&&l&&l({action:a,location:y.location,delta:0})}function g(_){let v=r.location.origin!=="null"?r.location.origin:r.location.href,A=typeof _=="string"?_:Sw(_);return A=A.replace(/ $/,"%20"),ti(v,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,v)}let y={get action(){return a},get location(){return i(r,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(aO,h),l=_,()=>{r.removeEventListener(aO,h),l=null}},createHref(_){return e(r,_)},createURL:g,encodeLocation(_){let v=g(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:m,go(_){return o.go(_)}};return y}var cO;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(cO||(cO={}));function Ate(i,e,t){t===void 0&&(t="/");let n=typeof e=="string"?L0(e):e,r=tg(n.pathname||"/",t);if(r==null)return null;let s=pG(i);Ste(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=Dte(r);o=Ite(s[a],l)}return o}function pG(i,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ti(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=mh([n,l.relativePath]),u=t.concat(l);s.children&&s.children.length>0&&(ti(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),pG(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Rte(c,s.index),routesMeta:u})};return i.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of mG(s.path))r(s,o,l)}),e}function mG(i){let e=i.split("/");if(e.length===0)return[];let[t,...n]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return r?[s,""]:[s];let o=mG(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>i.startsWith("/")&&l===""?"/":l)}function Ste(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:Pte(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const wte=/^:[\w-]+$/,bte=3,Cte=2,Mte=1,Ete=10,Tte=-2,uO=i=>i==="*";function Rte(i,e){let t=i.split("/"),n=t.length;return t.some(uO)&&(n+=Tte),e&&(n+=Cte),t.filter(r=>!uO(r)).reduce((r,s)=>r+(wte.test(s)?bte:s===""?Mte:Ete),n)}function Pte(i,e){return i.length===e.length&&i.slice(0,-1).every((n,r)=>n===e[r])?i[i.length-1]-e[e.length-1]:0}function Ite(i,e){let{routesMeta:t}=i,n={},r="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,c=r==="/"?e:e.slice(r.length)||"/",u=g9({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(n,u.params);let h=a.route;s.push({params:n,pathname:mh([r,u.pathname]),pathnameBase:kte(mh([r,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(r=mh([r,u.pathnameBase]))}return s}function g9(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,n]=Lte(i.path,i.caseSensitive,i.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:n.reduce((c,u,h)=>{let{paramName:d,isOptional:m}=u;if(d==="*"){let y=a[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[h];return m&&!g?c[d]=void 0:c[d]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:i}}function Lte(i,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),V7(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let n=[],r="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(n.push({paramName:"*"}),r+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":i!==""&&i!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function Dte(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return V7(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function tg(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}function Bte(i,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:r=""}=typeof i=="string"?L0(i):i;return{pathname:t?t.startsWith("/")?t:Fte(t,e):e,search:Nte(n),hash:Ute(r)}}function Fte(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function j8(i,e,t,n){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ote(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function gG(i,e){let t=Ote(i);return e?t.map((n,r)=>r===i.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function vG(i,e,t,n){n===void 0&&(n=!1);let r;typeof i=="string"?r=L0(i):(r=Jv({},i),ti(!r.pathname||!r.pathname.includes("?"),j8("?","pathname","search",r)),ti(!r.pathname||!r.pathname.includes("#"),j8("#","pathname","hash",r)),ti(!r.search||!r.search.includes("#"),j8("#","search","hash",r)));let s=i===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!n&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;r.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=Bte(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const mh=i=>i.join("/").replace(/\/\/+/g,"/"),kte=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Nte=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Ute=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function zte(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const yG=["post","put","patch","delete"];new Set(yG);const jte=["get",...yG];new Set(jte);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qv(){return qv=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},qv.apply(this,arguments)}const OC=U.createContext(null),_G=U.createContext(null),Fh=U.createContext(null),kC=U.createContext(null),D0=U.createContext({outlet:null,matches:[],isDataRoute:!1}),xG=U.createContext(null);function Hte(i,e){let{relative:t}=e===void 0?{}:e;$3()||ti(!1);let{basename:n,navigator:r}=U.useContext(Fh),{hash:s,pathname:o,search:a}=NC(i,{relative:t}),l=o;return n!=="/"&&(l=o==="/"?n:mh([n,o])),r.createHref({pathname:l,search:a,hash:s})}function $3(){return U.useContext(kC)!=null}function ex(){return $3()||ti(!1),U.useContext(kC).location}function AG(i){U.useContext(Fh).static||U.useLayoutEffect(i)}function Gte(){let{isDataRoute:i}=U.useContext(D0);return i?nne():Vte()}function Vte(){$3()||ti(!1);let i=U.useContext(OC),{basename:e,future:t,navigator:n}=U.useContext(Fh),{matches:r}=U.useContext(D0),{pathname:s}=ex(),o=JSON.stringify(gG(r,t.v7_relativeSplatPath)),a=U.useRef(!1);return AG(()=>{a.current=!0}),U.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let h=vG(c,JSON.parse(o),s,u.relative==="path");i==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:mh([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,o,s,i])}function NC(i,e){let{relative:t}=e===void 0?{}:e,{future:n}=U.useContext(Fh),{matches:r}=U.useContext(D0),{pathname:s}=ex(),o=JSON.stringify(gG(r,n.v7_relativeSplatPath));return U.useMemo(()=>vG(i,JSON.parse(o),s,t==="path"),[i,o,s,t])}function Wte(i,e){return Xte(i,e)}function Xte(i,e,t,n){$3()||ti(!1);let{navigator:r}=U.useContext(Fh),{matches:s}=U.useContext(D0),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ex(),u;if(e){var h;let _=typeof e=="string"?L0(e):e;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||ti(!1),u=_}else u=c;let d=u.pathname||"/",m=d;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+d.replace(/^\//,"").split("/").slice(_.length).join("/")}let g=Ate(i,{pathname:m}),y=Zte(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:mh([l,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:mh([l,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,t,n);return e&&y?U.createElement(kC.Provider,{value:{location:qv({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:th.Pop}},y):y}function Kte(){let i=tne(),e=zte(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:r},t):null,null)}const Yte=U.createElement(Kte,null);class Jte extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?U.createElement(D0.Provider,{value:this.props.routeContext},U.createElement(xG.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qte(i){let{routeContext:e,match:t,children:n}=i,r=U.useContext(OC);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(D0.Provider,{value:e},n)}function Zte(i,e,t,n){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),i==null){var s;if((s=t)!=null&&s.errors)i=t.matches;else return null}let o=i,a=(r=t)==null?void 0:r.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||ti(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(t&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:d,errors:m}=t,g=h.route.loader&&d[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,d)=>{let m,g=!1,y=null,_=null;t&&(m=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||Yte,l&&(c<0&&d===0?(g=!0,_=null):c===d&&(g=!0,_=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,d+1)),A=()=>{let S;return m?S=y:g?S=_:h.route.Component?S=U.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=u,U.createElement(qte,{match:h,routeContext:{outlet:u,matches:v,isDataRoute:t!=null},children:S})};return t&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?U.createElement(Jte,{location:t.location,revalidation:t.revalidation,component:y,error:m,children:A(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):A()},null)}var SG=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(SG||{}),ww=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(ww||{});function Qte(i){let e=U.useContext(OC);return e||ti(!1),e}function $te(i){let e=U.useContext(_G);return e||ti(!1),e}function ene(i){let e=U.useContext(D0);return e||ti(!1),e}function wG(i){let e=ene(),t=e.matches[e.matches.length-1];return t.route.id||ti(!1),t.route.id}function tne(){var i;let e=U.useContext(xG),t=$te(ww.UseRouteError),n=wG(ww.UseRouteError);return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function nne(){let{router:i}=Qte(SG.UseNavigateStable),e=wG(ww.UseNavigateStable),t=U.useRef(!1);return AG(()=>{t.current=!0}),U.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?i.navigate(r):i.navigate(r,qv({fromRouteId:e},s)))},[i,e])}function vd(i){ti(!1)}function ine(i){let{basename:e="/",children:t=null,location:n,navigationType:r=th.Pop,navigator:s,static:o=!1,future:a}=i;$3()&&ti(!1);let l=e.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:l,navigator:s,static:o,future:qv({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof n=="string"&&(n=L0(n));let{pathname:u="/",search:h="",hash:d="",state:m=null,key:g="default"}=n,y=U.useMemo(()=>{let _=tg(u,l);return _==null?null:{location:{pathname:_,search:h,hash:d,state:m,key:g},navigationType:r}},[l,u,h,d,m,g,r]);return y==null?null:U.createElement(Fh.Provider,{value:c},U.createElement(kC.Provider,{children:t,value:y}))}function hO(i){let{children:e,location:t}=i;return Wte(v9(e),t)}new Promise(()=>{});function v9(i,e){e===void 0&&(e=[]);let t=[];return U.Children.forEach(i,(n,r)=>{if(!U.isValidElement(n))return;let s=[...e,r];if(n.type===U.Fragment){t.push.apply(t,v9(n.props.children,s));return}n.type!==vd&&ti(!1),!n.props.index||!n.props.children||ti(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=v9(n.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bw(){return bw=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},bw.apply(this,arguments)}function bG(i,e){if(i==null)return{};var t={},n=Object.keys(i),r,s;for(s=0;s<n.length;s++)r=n[s],!(e.indexOf(r)>=0)&&(t[r]=i[r]);return t}function rne(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function sne(i,e){return i.button===0&&(!e||e==="_self")&&!rne(i)}const one=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ane=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],lne="6";try{window.__reactRouterVersion=lne}catch{}const cne=U.createContext({isTransitioning:!1}),une="startTransition",dO=o$[une];function hne(i){let{basename:e,children:t,future:n,window:r}=i,s=U.useRef();s.current==null&&(s.current=yte({window:r,v5Compat:!0}));let o=s.current,[a,l]=U.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=U.useCallback(h=>{c&&dO?dO(()=>l(h)):l(h)},[l,c]);return U.useLayoutEffect(()=>o.listen(u),[o,u]),U.createElement(ine,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:n})}const dne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gh=U.forwardRef(function(e,t){let{onClick:n,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:h}=e,d=bG(e,one),{basename:m}=U.useContext(Fh),g,y=!1;if(typeof c=="string"&&fne.test(c)&&(g=c,dne))try{let S=new URL(window.location.href),C=c.startsWith("//")?new URL(S.protocol+c):new URL(c),T=tg(C.pathname,m);C.origin===S.origin&&T!=null?c=T+C.search+C.hash:y=!0}catch{}let _=Hte(c,{relative:r}),v=mne(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r,unstable_viewTransition:h});function A(S){n&&n(S),S.defaultPrevented||v(S)}return U.createElement("a",bw({},d,{href:g||_,onClick:y||s?n:A,ref:t,target:l}))}),s1=U.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:c,children:u}=e,h=bG(e,ane),d=NC(l,{relative:h.relative}),m=ex(),g=U.useContext(_G),{navigator:y,basename:_}=U.useContext(Fh),v=g!=null&&gne(d)&&c===!0,A=y.encodeLocation?y.encodeLocation(d).pathname:d.pathname,S=m.pathname,C=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(S=S.toLowerCase(),C=C?C.toLowerCase():null,A=A.toLowerCase()),C&&_&&(C=tg(C,_)||C);const T=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let E=S===A||!o&&S.startsWith(A)&&S.charAt(T)==="/",R=C!=null&&(C===A||!o&&C.startsWith(A)&&C.charAt(A.length)==="/"),D={isActive:E,isPending:R,isTransitioning:v},I=E?n:void 0,L;typeof s=="function"?L=s(D):L=[s,E?"active":null,R?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(D):a;return U.createElement(gh,bw({},h,{"aria-current":I,className:L,ref:t,style:O,to:l,unstable_viewTransition:c}),typeof u=="function"?u(D):u)});var y9;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(y9||(y9={}));var fO;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(fO||(fO={}));function pne(i){let e=U.useContext(OC);return e||ti(!1),e}function mne(i,e){let{target:t,replace:n,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Gte(),c=ex(),u=NC(i,{relative:o});return U.useCallback(h=>{if(sne(h,t)){h.preventDefault();let d=n!==void 0?n:Sw(c)===Sw(u);l(i,{replace:d,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,n,r,t,i,s,o,a])}function gne(i,e){e===void 0&&(e={});let t=U.useContext(cne);t==null&&ti(!1);let{basename:n}=pne(y9.useViewTransitionState),r=NC(i,{relative:e.relative});if(!t.isTransitioning)return!1;let s=tg(t.currentLocation.pathname,n)||t.currentLocation.pathname,o=tg(t.nextLocation.pathname,n)||t.nextLocation.pathname;return g9(r.pathname,o)!=null||g9(r.pathname,s)!=null}const W7=()=>w.jsxs("section",{className:"cta",children:[w.jsxs("p",{className:"cta-text",children:["Have a project in mind? ",w.jsx("br",{className:"sm:block hidden"}),"Let’s build something together!"]}),w.jsx(gh,{to:"/contact",className:"btn",children:"Contact"})]}),vne=({type:i,text:e})=>w.jsx("div",{className:"fixed top-10 left-0 right-0 flex justify-center items-center z-50",children:w.jsxs("div",{className:`p-2 ${i==="danger"?"bg-red-700":"bg-blue-700"} items-center text-indigo-100 leading-none lg:rounded-full flex lg:inline-flex opacity-90`,role:"alert",children:[w.jsx("p",{className:`flex rounded-full ${i==="danger"?"bg-red-500":"bg-blue-500"} uppercase px-2 py-1 text-xs font-semibold mr-3`,children:i==="danger"?"Failed":"Success"}),w.jsx("p",{className:"mr-2 text-left",children:e})]})});function Zv(){return Zv=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Zv.apply(null,arguments)}/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const tx="167",yd={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},_d={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CG=0,_9=1,MG=2,yne=3,EG=0,UC=1,hv=2,Zo=3,ml=0,qr=1,Ro=2,Mc=0,e0=1,x9=2,A9=3,S9=4,TG=5,bu=100,RG=101,PG=102,IG=103,LG=104,DG=200,BG=201,FG=202,OG=203,Cw=204,Mw=205,kG=206,NG=207,UG=208,zG=209,jG=210,HG=211,GG=212,VG=213,WG=214,XG=0,KG=1,YG=2,Qv=3,JG=4,qG=5,ZG=6,QG=7,nx=0,$G=1,eV=2,ul=0,tV=1,nV=2,iV=3,X7=4,rV=5,sV=6,oV=7,w9="attached",aV="detached",zC=300,zc=301,bh=302,$v=303,ey=304,Sg=306,Ch=1e3,Ws=1001,ng=1002,Ri=1003,jC=1004,_ne=1004,Fd=1005,xne=1005,$n=1006,ym=1007,Ane=1007,Lo=1008,Sne=1008,Aa=1009,K7=1010,Y7=1011,ig=1012,HC=1013,jc=1014,hs=1015,wg=1016,GC=1017,VC=1018,g0=1020,J7=35902,q7=1021,Z7=1022,Rr=1023,Q7=1024,$7=1025,t0=1026,v0=1027,WC=1028,ix=1029,eI=1030,XC=1031,wne=1032,KC=1033,dv=33776,fv=33777,pv=33778,mv=33779,Ew=35840,Tw=35841,Rw=35842,Pw=35843,Iw=36196,Lw=37492,Dw=37496,Bw=37808,Fw=37809,Ow=37810,kw=37811,Nw=37812,Uw=37813,zw=37814,jw=37815,Hw=37816,Gw=37817,Vw=37818,Ww=37819,Xw=37820,Kw=37821,gv=36492,Yw=36494,Jw=36495,tI=36283,qw=36284,Zw=36285,Qw=36286,lV=2200,cV=2201,uV=2202,rg=2300,sg=2301,m5=2302,Od=2400,kd=2401,ty=2402,YC=2500,nI=2501,hV=0,iI=1,$w=2,dV=3200,fV=3201,bne=3202,Cne=3203,Oh=0,pV=1,yc="",Mo="srgb",Kc="srgb-linear",JC="display-p3",rx="display-p3-linear",ny="linear",Sn="srgb",iy="rec709",ry="p3",Mne=0,xd=7680,Ene=7681,Tne=7682,Rne=7683,Pne=34055,Ine=34056,Lne=5386,Dne=512,Bne=513,Fne=514,One=515,kne=516,Nne=517,Une=518,b9=519,mV=512,gV=513,vV=514,rI=515,yV=516,_V=517,xV=518,AV=519,sy=35044,zne=35048,jne=35040,Hne=35045,Gne=35049,Vne=35041,Wne=35046,Xne=35050,Kne=35042,Yne="100",C9="300 es",ol=2e3,oy=2001;class yl{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const yr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let pO=1234567;const n0=Math.PI/180,og=180/Math.PI;function Js(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(yr[i&255]+yr[i>>8&255]+yr[i>>16&255]+yr[i>>24&255]+"-"+yr[e&255]+yr[e>>8&255]+"-"+yr[e>>16&15|64]+yr[e>>24&255]+"-"+yr[t&63|128]+yr[t>>8&255]+"-"+yr[t>>16&255]+yr[t>>24&255]+yr[n&255]+yr[n>>8&255]+yr[n>>16&255]+yr[n>>24&255]).toLowerCase()}function Qn(i,e,t){return Math.max(e,Math.min(t,i))}function sI(i,e){return(i%e+e)%e}function Jne(i,e,t,n,r){return n+(i-e)*(r-n)/(t-e)}function qne(i,e,t){return i!==e?(t-i)/(e-i):0}function vv(i,e,t){return(1-t)*i+t*e}function Zne(i,e,t,n){return vv(i,e,1-Math.exp(-t*n))}function Qne(i,e=1){return e-Math.abs(sI(i,e*2)-e)}function $ne(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}function eie(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}function tie(i,e){return i+Math.floor(Math.random()*(e-i+1))}function nie(i,e){return i+Math.random()*(e-i)}function iie(i){return i*(.5-Math.random())}function rie(i){i!==void 0&&(pO=i);let e=pO+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function sie(i){return i*n0}function oie(i){return i*og}function aie(i){return(i&i-1)===0&&i!==0}function lie(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function cie(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function uie(i,e,t,n,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+n)/2),u=o((e+n)/2),h=s((e-n)/2),d=o((e-n)/2),m=s((n-e)/2),g=o((n-e)/2);switch(r){case"XYX":i.set(a*u,l*h,l*d,a*c);break;case"YZY":i.set(l*d,a*u,l*h,a*c);break;case"ZXZ":i.set(l*h,l*d,a*u,a*c);break;case"XZX":i.set(a*u,l*g,l*m,a*c);break;case"YXY":i.set(l*m,a*u,l*g,a*c);break;case"ZYZ":i.set(l*g,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Kr(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function Lt(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const SV={DEG2RAD:n0,RAD2DEG:og,generateUUID:Js,clamp:Qn,euclideanModulo:sI,mapLinear:Jne,inverseLerp:qne,lerp:vv,damp:Zne,pingpong:Qne,smoothstep:$ne,smootherstep:eie,randInt:tie,randFloat:nie,randFloatSpread:iie,seededRandom:rie,degToRad:sie,radToDeg:oie,isPowerOfTwo:aie,ceilPowerOfTwo:lie,floorPowerOfTwo:cie,setQuaternionFromProperEuler:uie,normalize:Lt,denormalize:Kr};class Se{constructor(e=0,t=0){Se.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Qn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*n-o*r+e.x,this.y=s*r+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class It{constructor(e,t,n,r,s,o,a,l,c){It.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,r,s,o,a,l,c)}set(e,t,n,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=n,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,o=n[0],a=n[3],l=n[6],c=n[1],u=n[4],h=n[7],d=n[2],m=n[5],g=n[8],y=r[0],_=r[3],v=r[6],A=r[1],S=r[4],C=r[7],T=r[2],E=r[5],R=r[8];return s[0]=o*y+a*A+l*T,s[3]=o*_+a*S+l*E,s[6]=o*v+a*C+l*R,s[1]=c*y+u*A+h*T,s[4]=c*_+u*S+h*E,s[7]=c*v+u*C+h*R,s[2]=d*y+m*A+g*T,s[5]=d*_+m*S+g*E,s[8]=d*v+m*C+g*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-n*s*u+n*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=u*o-a*c,d=a*l-u*s,m=c*s-o*l,g=t*h+n*d+r*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/g;return e[0]=h*y,e[1]=(r*c-u*n)*y,e[2]=(a*n-r*o)*y,e[3]=d*y,e[4]=(u*t-r*l)*y,e[5]=(r*s-a*t)*y,e[6]=m*y,e[7]=(n*l-c*t)*y,e[8]=(o*t-n*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(n*l,n*c,-n*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(H8.makeScale(e,t)),this}rotate(e){return this.premultiply(H8.makeRotation(-e)),this}translate(e,t){return this.premultiply(H8.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const H8=new It;function wV(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}const hie={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Qp(i,e){return new hie[i](e)}function ay(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function bV(){const i=ay("canvas");return i.style.display="block",i}const mO={};function _m(i){i in mO||(mO[i]=!0,console.warn(i))}function die(i,e,t){return new Promise(function(n,r){function s(){switch(i.clientWaitSync(e,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:r();break;case i.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:n()}}setTimeout(s,t)})}const gO=new It().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),vO=new It().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),o1={[Kc]:{transfer:ny,primaries:iy,luminanceCoefficients:[.2126,.7152,.0722],toReference:i=>i,fromReference:i=>i},[Mo]:{transfer:Sn,primaries:iy,luminanceCoefficients:[.2126,.7152,.0722],toReference:i=>i.convertSRGBToLinear(),fromReference:i=>i.convertLinearToSRGB()},[rx]:{transfer:ny,primaries:ry,luminanceCoefficients:[.2289,.6917,.0793],toReference:i=>i.applyMatrix3(vO),fromReference:i=>i.applyMatrix3(gO)},[JC]:{transfer:Sn,primaries:ry,luminanceCoefficients:[.2289,.6917,.0793],toReference:i=>i.convertSRGBToLinear().applyMatrix3(vO),fromReference:i=>i.applyMatrix3(gO).convertLinearToSRGB()}},fie=new Set([Kc,rx]),nn={enabled:!0,_workingColorSpace:Kc,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(i){if(!fie.has(i))throw new Error(`Unsupported working color space, "${i}".`);this._workingColorSpace=i},convert:function(i,e,t){if(this.enabled===!1||e===t||!e||!t)return i;const n=o1[e].toReference,r=o1[t].fromReference;return r(n(i))},fromWorkingColorSpace:function(i,e){return this.convert(i,this._workingColorSpace,e)},toWorkingColorSpace:function(i,e){return this.convert(i,e,this._workingColorSpace)},getPrimaries:function(i){return o1[i].primaries},getTransfer:function(i){return i===yc?ny:o1[i].transfer},getLuminanceCoefficients:function(i,e=this._workingColorSpace){return i.fromArray(o1[e].luminanceCoefficients)}};function xm(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function G8(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let ap;class CV{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{ap===void 0&&(ap=ay("canvas")),ap.width=e.width,ap.height=e.height;const n=ap.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=ap}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=ay("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=xm(s[o]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(xm(t[n]/255)*255):t[n]=xm(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let pie=0;class Nd{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:pie++}),this.uuid=Js(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(V8(r[o].image)):s.push(V8(r[o]))}else s=V8(r);n.url=s}return t||(e.images[this.uuid]=n),n}}function V8(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?CV.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let mie=0;class Ln extends yl{constructor(e=Ln.DEFAULT_IMAGE,t=Ln.DEFAULT_MAPPING,n=Ws,r=Ws,s=$n,o=Lo,a=Rr,l=Aa,c=Ln.DEFAULT_ANISOTROPY,u=yc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:mie++}),this.uuid=Js(),this.name="",this.source=new Nd(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Se(0,0),this.repeat=new Se(1,1),this.center=new Se(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new It,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==zC)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ch:e.x=e.x-Math.floor(e.x);break;case Ws:e.x=e.x<0?0:1;break;case ng:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ch:e.y=e.y-Math.floor(e.y);break;case Ws:e.y=e.y<0?0:1;break;case ng:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ln.DEFAULT_IMAGE=null;Ln.DEFAULT_MAPPING=zC;Ln.DEFAULT_ANISOTROPY=1;class sn{constructor(e=0,t=0,n=0,r=1){sn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,s;const l=e.elements,c=l[0],u=l[4],h=l[8],d=l[1],m=l[5],g=l[9],y=l[2],_=l[6],v=l[10];if(Math.abs(u-d)<.01&&Math.abs(h-y)<.01&&Math.abs(g-_)<.01){if(Math.abs(u+d)<.1&&Math.abs(h+y)<.1&&Math.abs(g+_)<.1&&Math.abs(c+m+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(c+1)/2,C=(m+1)/2,T=(v+1)/2,E=(u+d)/4,R=(h+y)/4,D=(g+_)/4;return S>C&&S>T?S<.01?(n=0,r=.707106781,s=.707106781):(n=Math.sqrt(S),r=E/n,s=R/n):C>T?C<.01?(n=.707106781,r=0,s=.707106781):(r=Math.sqrt(C),n=E/r,s=D/r):T<.01?(n=.707106781,r=.707106781,s=0):(s=Math.sqrt(T),n=R/s,r=D/s),this.set(n,r,s,t),this}let A=Math.sqrt((_-g)*(_-g)+(h-y)*(h-y)+(d-u)*(d-u));return Math.abs(A)<.001&&(A=1),this.x=(_-g)/A,this.y=(h-y)/A,this.z=(d-u)/A,this.w=Math.acos((c+m+v-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class MV extends yl{constructor(e=1,t=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new sn(0,0,e,t),this.scissorTest=!1,this.viewport=new sn(0,0,e,t);const r={width:e,height:t,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:$n,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const s=new Ln(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);s.flipY=!1,s.generateMipmaps=n.generateMipmaps,s.internalFormat=n.internalFormat,this.textures=[];const o=n.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++)this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Nd(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Sa extends MV{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class qC extends Ln{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Ri,this.minFilter=Ri,this.wrapR=Ws,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class gie extends Sa{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new qC(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class oI extends Ln{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Ri,this.minFilter=Ri,this.wrapR=Ws,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class vie extends Sa{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new oI(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Xi{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,s,o,a){let l=n[r+0],c=n[r+1],u=n[r+2],h=n[r+3];const d=s[o+0],m=s[o+1],g=s[o+2],y=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h;return}if(a===1){e[t+0]=d,e[t+1]=m,e[t+2]=g,e[t+3]=y;return}if(h!==y||l!==d||c!==m||u!==g){let _=1-a;const v=l*d+c*m+u*g+h*y,A=v>=0?1:-1,S=1-v*v;if(S>Number.EPSILON){const T=Math.sqrt(S),E=Math.atan2(T,v*A);_=Math.sin(_*E)/T,a=Math.sin(a*E)/T}const C=a*A;if(l=l*_+d*C,c=c*_+m*C,u=u*_+g*C,h=h*_+y*C,_===1-a){const T=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=T,c*=T,u*=T,h*=T}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h}static multiplyQuaternionsFlat(e,t,n,r,s,o){const a=n[r],l=n[r+1],c=n[r+2],u=n[r+3],h=s[o],d=s[o+1],m=s[o+2],g=s[o+3];return e[t]=a*g+u*h+l*m-c*d,e[t+1]=l*g+u*d+c*h-a*m,e[t+2]=c*g+u*m+a*d-l*h,e[t+3]=u*g-a*h-l*d-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(n/2),u=a(r/2),h=a(s/2),d=l(n/2),m=l(r/2),g=l(s/2);switch(o){case"XYZ":this._x=d*u*h+c*m*g,this._y=c*m*h-d*u*g,this._z=c*u*g+d*m*h,this._w=c*u*h-d*m*g;break;case"YXZ":this._x=d*u*h+c*m*g,this._y=c*m*h-d*u*g,this._z=c*u*g-d*m*h,this._w=c*u*h+d*m*g;break;case"ZXY":this._x=d*u*h-c*m*g,this._y=c*m*h+d*u*g,this._z=c*u*g+d*m*h,this._w=c*u*h-d*m*g;break;case"ZYX":this._x=d*u*h-c*m*g,this._y=c*m*h+d*u*g,this._z=c*u*g-d*m*h,this._w=c*u*h+d*m*g;break;case"YZX":this._x=d*u*h+c*m*g,this._y=c*m*h+d*u*g,this._z=c*u*g-d*m*h,this._w=c*u*h-d*m*g;break;case"XZY":this._x=d*u*h-c*m*g,this._y=c*m*h-d*u*g,this._z=c*u*g+d*m*h,this._w=c*u*h+d*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],h=t[10],d=n+a+h;if(d>0){const m=.5/Math.sqrt(d+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-r)*m}else if(n>a&&n>h){const m=2*Math.sqrt(1+n-a-h);this._w=(u-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+c)/m}else if(a>h){const m=2*Math.sqrt(1+a-n-h);this._w=(s-c)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+h-n-a);this._w=(o-r)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Qn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=n*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-n*c,this._z=s*u+o*c+n*l-r*a,this._w=o*u-n*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+n*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*n+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),h=Math.sin((1-t)*u)/c,d=Math.sin(t*u)/c;return this._w=o*h+this._w*d,this._x=n*h+this._x*d,this._y=r*h+this._y*d,this._z=s*h+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),s=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class V{constructor(e=0,t=0,n=0){V.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(yO.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(yO.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*r,this.y=s[1]*t+s[4]*n+s[7]*r,this.z=s[2]*t+s[5]*n+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*n+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*n+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*n+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*r-a*n),u=2*(a*t-s*r),h=2*(s*n-o*t);return this.x=t+l*c+o*h-a*u,this.y=n+l*u+a*c-s*h,this.z=r+l*h+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r,this.y=s[1]*t+s[5]*n+s[9]*r,this.z=s[2]*t+s[6]*n+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-n*l,this.z=n*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return W8.copy(this).projectOnVector(e),this.sub(W8)}reflect(e){return this.sub(W8.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Qn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const W8=new V,yO=new Xi;class ur{constructor(e=new V(1/0,1/0,1/0),t=new V(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Wo.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Wo.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Wo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const s=n.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Wo):Wo.fromBufferAttribute(s,o),Wo.applyMatrix4(e.matrixWorld),this.expandByPoint(Wo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),VA.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),VA.copy(n.boundingBox)),VA.applyMatrix4(e.matrixWorld),this.union(VA)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Wo),Wo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(a1),WA.subVectors(this.max,a1),lp.subVectors(e.a,a1),cp.subVectors(e.b,a1),up.subVectors(e.c,a1),ru.subVectors(cp,lp),su.subVectors(up,cp),Qh.subVectors(lp,up);let t=[0,-ru.z,ru.y,0,-su.z,su.y,0,-Qh.z,Qh.y,ru.z,0,-ru.x,su.z,0,-su.x,Qh.z,0,-Qh.x,-ru.y,ru.x,0,-su.y,su.x,0,-Qh.y,Qh.x,0];return!X8(t,lp,cp,up,WA)||(t=[1,0,0,0,1,0,0,0,1],!X8(t,lp,cp,up,WA))?!1:(XA.crossVectors(ru,su),t=[XA.x,XA.y,XA.z],X8(t,lp,cp,up,WA))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Wo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Wo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ml[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ml[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ml[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ml[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ml[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ml[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ml[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ml[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ml),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ml=[new V,new V,new V,new V,new V,new V,new V,new V],Wo=new V,VA=new ur,lp=new V,cp=new V,up=new V,ru=new V,su=new V,Qh=new V,a1=new V,WA=new V,XA=new V,$h=new V;function X8(i,e,t,n,r){for(let s=0,o=i.length-3;s<=o;s+=3){$h.fromArray(i,s);const a=r.x*Math.abs($h.x)+r.y*Math.abs($h.y)+r.z*Math.abs($h.z),l=e.dot($h),c=t.dot($h),u=n.dot($h);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const yie=new ur,l1=new V,K8=new V;class Ki{constructor(e=new V,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):yie.setFromPoints(e).getCenter(n);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;l1.subVectors(e,this.center);const t=l1.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.addScaledVector(l1,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(K8.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(l1.copy(e.center).add(K8)),this.expandByPoint(l1.copy(e.center).sub(K8))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const El=new V,Y8=new V,KA=new V,ou=new V,J8=new V,YA=new V,q8=new V;class B0{constructor(e=new V,t=new V(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,El)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=El.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(El.copy(this.origin).addScaledVector(this.direction,t),El.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){Y8.copy(e).add(t).multiplyScalar(.5),KA.copy(t).sub(e).normalize(),ou.copy(this.origin).sub(Y8);const s=e.distanceTo(t)*.5,o=-this.direction.dot(KA),a=ou.dot(this.direction),l=-ou.dot(KA),c=ou.lengthSq(),u=Math.abs(1-o*o);let h,d,m,g;if(u>0)if(h=o*l-a,d=o*a-l,g=s*u,h>=0)if(d>=-g)if(d<=g){const y=1/u;h*=y,d*=y,m=h*(h+o*d+2*a)+d*(o*h+d+2*l)+c}else d=s,h=Math.max(0,-(o*d+a)),m=-h*h+d*(d+2*l)+c;else d=-s,h=Math.max(0,-(o*d+a)),m=-h*h+d*(d+2*l)+c;else d<=-g?(h=Math.max(0,-(-o*s+a)),d=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+d*(d+2*l)+c):d<=g?(h=0,d=Math.min(Math.max(-s,-l),s),m=d*(d+2*l)+c):(h=Math.max(0,-(o*s+a)),d=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+d*(d+2*l)+c);else d=o>0?-s:s,h=Math.max(0,-(o*d+a)),m=-h*h+d*(d+2*l)+c;return n&&n.copy(this.origin).addScaledVector(this.direction,h),r&&r.copy(Y8).addScaledVector(KA,d),m}intersectSphere(e,t){El.subVectors(e.center,this.origin);const n=El.dot(this.direction),r=El.dot(El)-n*n,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=n-o,l=n+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,d=this.origin;return c>=0?(n=(e.min.x-d.x)*c,r=(e.max.x-d.x)*c):(n=(e.max.x-d.x)*c,r=(e.min.x-d.x)*c),u>=0?(s=(e.min.y-d.y)*u,o=(e.max.y-d.y)*u):(s=(e.max.y-d.y)*u,o=(e.min.y-d.y)*u),n>o||s>r||((s>n||isNaN(n))&&(n=s),(o<r||isNaN(r))&&(r=o),h>=0?(a=(e.min.z-d.z)*h,l=(e.max.z-d.z)*h):(a=(e.max.z-d.z)*h,l=(e.min.z-d.z)*h),n>l||a>r)||((a>n||n!==n)&&(n=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,El)!==null}intersectTriangle(e,t,n,r,s){J8.subVectors(t,e),YA.subVectors(n,e),q8.crossVectors(J8,YA);let o=this.direction.dot(q8),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;ou.subVectors(this.origin,e);const l=a*this.direction.dot(YA.crossVectors(ou,YA));if(l<0)return null;const c=a*this.direction.dot(J8.cross(ou));if(c<0||l+c>o)return null;const u=-a*ou.dot(q8);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class pt{constructor(e,t,n,r,s,o,a,l,c,u,h,d,m,g,y,_){pt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,r,s,o,a,l,c,u,h,d,m,g,y,_)}set(e,t,n,r,s,o,a,l,c,u,h,d,m,g,y,_){const v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=s,v[5]=o,v[9]=a,v[13]=l,v[2]=c,v[6]=u,v[10]=h,v[14]=d,v[3]=m,v[7]=g,v[11]=y,v[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new pt().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/hp.setFromMatrixColumn(e,0).length(),s=1/hp.setFromMatrixColumn(e,1).length(),o=1/hp.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,s=e.z,o=Math.cos(n),a=Math.sin(n),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const d=o*u,m=o*h,g=a*u,y=a*h;t[0]=l*u,t[4]=-l*h,t[8]=c,t[1]=m+g*c,t[5]=d-y*c,t[9]=-a*l,t[2]=y-d*c,t[6]=g+m*c,t[10]=o*l}else if(e.order==="YXZ"){const d=l*u,m=l*h,g=c*u,y=c*h;t[0]=d+y*a,t[4]=g*a-m,t[8]=o*c,t[1]=o*h,t[5]=o*u,t[9]=-a,t[2]=m*a-g,t[6]=y+d*a,t[10]=o*l}else if(e.order==="ZXY"){const d=l*u,m=l*h,g=c*u,y=c*h;t[0]=d-y*a,t[4]=-o*h,t[8]=g+m*a,t[1]=m+g*a,t[5]=o*u,t[9]=y-d*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const d=o*u,m=o*h,g=a*u,y=a*h;t[0]=l*u,t[4]=g*c-m,t[8]=d*c+y,t[1]=l*h,t[5]=y*c+d,t[9]=m*c-g,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const d=o*l,m=o*c,g=a*l,y=a*c;t[0]=l*u,t[4]=y-d*h,t[8]=g*h+m,t[1]=h,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=m*h+g,t[10]=d-y*h}else if(e.order==="XZY"){const d=o*l,m=o*c,g=a*l,y=a*c;t[0]=l*u,t[4]=-h,t[8]=c*u,t[1]=d*h+y,t[5]=o*u,t[9]=m*h-g,t[2]=g*h-m,t[6]=a*u,t[10]=y*h+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(_ie,e,xie)}lookAt(e,t,n){const r=this.elements;return Ts.subVectors(e,t),Ts.lengthSq()===0&&(Ts.z=1),Ts.normalize(),au.crossVectors(n,Ts),au.lengthSq()===0&&(Math.abs(n.z)===1?Ts.x+=1e-4:Ts.z+=1e-4,Ts.normalize(),au.crossVectors(n,Ts)),au.normalize(),JA.crossVectors(Ts,au),r[0]=au.x,r[4]=JA.x,r[8]=Ts.x,r[1]=au.y,r[5]=JA.y,r[9]=Ts.y,r[2]=au.z,r[6]=JA.z,r[10]=Ts.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,o=n[0],a=n[4],l=n[8],c=n[12],u=n[1],h=n[5],d=n[9],m=n[13],g=n[2],y=n[6],_=n[10],v=n[14],A=n[3],S=n[7],C=n[11],T=n[15],E=r[0],R=r[4],D=r[8],I=r[12],L=r[1],O=r[5],W=r[9],X=r[13],Z=r[2],$=r[6],Q=r[10],ee=r[14],k=r[3],q=r[7],K=r[11],ne=r[15];return s[0]=o*E+a*L+l*Z+c*k,s[4]=o*R+a*O+l*$+c*q,s[8]=o*D+a*W+l*Q+c*K,s[12]=o*I+a*X+l*ee+c*ne,s[1]=u*E+h*L+d*Z+m*k,s[5]=u*R+h*O+d*$+m*q,s[9]=u*D+h*W+d*Q+m*K,s[13]=u*I+h*X+d*ee+m*ne,s[2]=g*E+y*L+_*Z+v*k,s[6]=g*R+y*O+_*$+v*q,s[10]=g*D+y*W+_*Q+v*K,s[14]=g*I+y*X+_*ee+v*ne,s[3]=A*E+S*L+C*Z+T*k,s[7]=A*R+S*O+C*$+T*q,s[11]=A*D+S*W+C*Q+T*K,s[15]=A*I+S*X+C*ee+T*ne,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],h=e[6],d=e[10],m=e[14],g=e[3],y=e[7],_=e[11],v=e[15];return g*(+s*l*h-r*c*h-s*a*d+n*c*d+r*a*m-n*l*m)+y*(+t*l*m-t*c*d+s*o*d-r*o*m+r*c*u-s*l*u)+_*(+t*c*h-t*a*m-s*o*h+n*o*m+s*a*u-n*c*u)+v*(-r*a*u-t*l*h+t*a*d+r*o*h-n*o*d+n*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=e[9],d=e[10],m=e[11],g=e[12],y=e[13],_=e[14],v=e[15],A=h*_*c-y*d*c+y*l*m-a*_*m-h*l*v+a*d*v,S=g*d*c-u*_*c-g*l*m+o*_*m+u*l*v-o*d*v,C=u*y*c-g*h*c+g*a*m-o*y*m-u*a*v+o*h*v,T=g*h*l-u*y*l-g*a*d+o*y*d+u*a*_-o*h*_,E=t*A+n*S+r*C+s*T;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/E;return e[0]=A*R,e[1]=(y*d*s-h*_*s-y*r*m+n*_*m+h*r*v-n*d*v)*R,e[2]=(a*_*s-y*l*s+y*r*c-n*_*c-a*r*v+n*l*v)*R,e[3]=(h*l*s-a*d*s-h*r*c+n*d*c+a*r*m-n*l*m)*R,e[4]=S*R,e[5]=(u*_*s-g*d*s+g*r*m-t*_*m-u*r*v+t*d*v)*R,e[6]=(g*l*s-o*_*s-g*r*c+t*_*c+o*r*v-t*l*v)*R,e[7]=(o*d*s-u*l*s+u*r*c-t*d*c-o*r*m+t*l*m)*R,e[8]=C*R,e[9]=(g*h*s-u*y*s-g*n*m+t*y*m+u*n*v-t*h*v)*R,e[10]=(o*y*s-g*a*s+g*n*c-t*y*c-o*n*v+t*a*v)*R,e[11]=(u*a*s-o*h*s-u*n*c+t*h*c+o*n*m-t*a*m)*R,e[12]=T*R,e[13]=(u*y*r-g*h*r+g*n*d-t*y*d-u*n*_+t*h*_)*R,e[14]=(g*a*r-o*y*r-g*n*l+t*y*l+o*n*_-t*a*_)*R,e[15]=(o*h*r-u*a*r+u*n*l-t*h*l-o*n*d+t*a*d)*R,this}scale(e){const t=this.elements,n=e.x,r=e.y,s=e.z;return t[0]*=n,t[4]*=r,t[8]*=s,t[1]*=n,t[5]*=r,t[9]*=s,t[2]*=n,t[6]*=r,t[10]*=s,t[3]*=n,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),s=1-n,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+n,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+n,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,s,o){return this.set(1,n,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,h=a+a,d=s*c,m=s*u,g=s*h,y=o*u,_=o*h,v=a*h,A=l*c,S=l*u,C=l*h,T=n.x,E=n.y,R=n.z;return r[0]=(1-(y+v))*T,r[1]=(m+C)*T,r[2]=(g-S)*T,r[3]=0,r[4]=(m-C)*E,r[5]=(1-(d+v))*E,r[6]=(_+A)*E,r[7]=0,r[8]=(g+S)*R,r[9]=(_-A)*R,r[10]=(1-(d+y))*R,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let s=hp.set(r[0],r[1],r[2]).length();const o=hp.set(r[4],r[5],r[6]).length(),a=hp.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Xo.copy(this);const c=1/s,u=1/o,h=1/a;return Xo.elements[0]*=c,Xo.elements[1]*=c,Xo.elements[2]*=c,Xo.elements[4]*=u,Xo.elements[5]*=u,Xo.elements[6]*=u,Xo.elements[8]*=h,Xo.elements[9]*=h,Xo.elements[10]*=h,t.setFromRotationMatrix(Xo),n.x=s,n.y=o,n.z=a,this}makePerspective(e,t,n,r,s,o,a=ol){const l=this.elements,c=2*s/(t-e),u=2*s/(n-r),h=(t+e)/(t-e),d=(n+r)/(n-r);let m,g;if(a===ol)m=-(o+s)/(o-s),g=-2*o*s/(o-s);else if(a===oy)m=-o/(o-s),g=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=u,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,n,r,s,o,a=ol){const l=this.elements,c=1/(t-e),u=1/(n-r),h=1/(o-s),d=(t+e)*c,m=(n+r)*u;let g,y;if(a===ol)g=(o+s)*h,y=-2*h;else if(a===oy)g=s*h,y=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=y,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const hp=new V,Xo=new pt,_ie=new V(0,0,0),xie=new V(1,1,1),au=new V,JA=new V,Ts=new V,_O=new pt,xO=new Xi;class Qs{constructor(e=0,t=0,n=0,r=Qs.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],h=r[2],d=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(Qn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Qn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Qn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Qn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Qn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Qn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return _O.makeRotationFromQuaternion(e),this.setFromRotationMatrix(_O,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return xO.setFromEuler(this),this.setFromQuaternion(xO,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Qs.DEFAULT_ORDER="XYZ";class i0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Aie=0;const AO=new V,dp=new Xi,Tl=new pt,qA=new V,c1=new V,Sie=new V,wie=new Xi,SO=new V(1,0,0),wO=new V(0,1,0),bO=new V(0,0,1),CO={type:"added"},bie={type:"removed"},fp={type:"childadded",child:null},Z8={type:"childremoved",child:null};class zt extends yl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Aie++}),this.uuid=Js(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=zt.DEFAULT_UP.clone();const e=new V,t=new Qs,n=new Xi,r=new V(1,1,1);function s(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(s),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new pt},normalMatrix:{value:new It}}),this.matrix=new pt,this.matrixWorld=new pt,this.matrixAutoUpdate=zt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=zt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new i0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return dp.setFromAxisAngle(e,t),this.quaternion.multiply(dp),this}rotateOnWorldAxis(e,t){return dp.setFromAxisAngle(e,t),this.quaternion.premultiply(dp),this}rotateX(e){return this.rotateOnAxis(SO,e)}rotateY(e){return this.rotateOnAxis(wO,e)}rotateZ(e){return this.rotateOnAxis(bO,e)}translateOnAxis(e,t){return AO.copy(e).applyQuaternion(this.quaternion),this.position.add(AO.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(SO,e)}translateY(e){return this.translateOnAxis(wO,e)}translateZ(e){return this.translateOnAxis(bO,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Tl.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?qA.copy(e):qA.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),c1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Tl.lookAt(c1,qA,this.up):Tl.lookAt(qA,c1,this.up),this.quaternion.setFromRotationMatrix(Tl),r&&(Tl.extractRotation(r.matrixWorld),dp.setFromRotationMatrix(Tl),this.quaternion.premultiply(dp.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(CO),fp.child=e,this.dispatchEvent(fp),fp.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(bie),Z8.child=e,this.dispatchEvent(Z8),Z8.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Tl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Tl.multiply(e.parent.matrixWorld)),e.applyMatrix4(Tl),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(CO),fp.child=e,this.dispatchEvent(fp),fp.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const o=this.children[n].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(c1,e,Sie),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(c1,wie,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),h=o(e.shapes),d=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(n.geometries=a),l.length>0&&(n.materials=l),c.length>0&&(n.textures=c),u.length>0&&(n.images=u),h.length>0&&(n.shapes=h),d.length>0&&(n.skeletons=d),m.length>0&&(n.animations=m),g.length>0&&(n.nodes=g)}return n.object=r,n;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}zt.DEFAULT_UP=new V(0,1,0);zt.DEFAULT_MATRIX_AUTO_UPDATE=!0;zt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ko=new V,Rl=new V,Q8=new V,Pl=new V,pp=new V,mp=new V,MO=new V,$8=new V,e6=new V,t6=new V;class Hs{constructor(e=new V,t=new V,n=new V){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Ko.subVectors(e,t),r.cross(Ko);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,n,r,s){Ko.subVectors(r,t),Rl.subVectors(n,t),Q8.subVectors(e,t);const o=Ko.dot(Ko),a=Ko.dot(Rl),l=Ko.dot(Q8),c=Rl.dot(Rl),u=Rl.dot(Q8),h=o*c-a*a;if(h===0)return s.set(0,0,0),null;const d=1/h,m=(c*l-a*u)*d,g=(o*u-a*l)*d;return s.set(1-m-g,g,m)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,Pl)===null?!1:Pl.x>=0&&Pl.y>=0&&Pl.x+Pl.y<=1}static getInterpolation(e,t,n,r,s,o,a,l){return this.getBarycoord(e,t,n,r,Pl)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Pl.x),l.addScaledVector(o,Pl.y),l.addScaledVector(a,Pl.z),l)}static isFrontFacing(e,t,n,r){return Ko.subVectors(n,t),Rl.subVectors(e,t),Ko.cross(Rl).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ko.subVectors(this.c,this.b),Rl.subVectors(this.a,this.b),Ko.cross(Rl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Hs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Hs.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,s){return Hs.getInterpolation(e,this.a,this.b,this.c,t,n,r,s)}containsPoint(e){return Hs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Hs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,s=this.c;let o,a;pp.subVectors(r,n),mp.subVectors(s,n),$8.subVectors(e,n);const l=pp.dot($8),c=mp.dot($8);if(l<=0&&c<=0)return t.copy(n);e6.subVectors(e,r);const u=pp.dot(e6),h=mp.dot(e6);if(u>=0&&h<=u)return t.copy(r);const d=l*h-u*c;if(d<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(n).addScaledVector(pp,o);t6.subVectors(e,s);const m=pp.dot(t6),g=mp.dot(t6);if(g>=0&&m<=g)return t.copy(s);const y=m*c-l*g;if(y<=0&&c>=0&&g<=0)return a=c/(c-g),t.copy(n).addScaledVector(mp,a);const _=u*g-m*h;if(_<=0&&h-u>=0&&m-g>=0)return MO.subVectors(s,r),a=(h-u)/(h-u+(m-g)),t.copy(r).addScaledVector(MO,a);const v=1/(_+y+d);return o=y*v,a=d*v,t.copy(n).addScaledVector(pp,o).addScaledVector(mp,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const EV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},lu={h:0,s:0,l:0},ZA={h:0,s:0,l:0};function n6(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}class Ge{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Mo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,nn.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=nn.workingColorSpace){return this.r=e,this.g=t,this.b=n,nn.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=nn.workingColorSpace){if(e=sI(e,1),t=Qn(t,0,1),n=Qn(n,0,1),t===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+t):n+t-n*t,o=2*n-s;this.r=n6(o,s,e+1/3),this.g=n6(o,s,e),this.b=n6(o,s,e-1/3)}return nn.toWorkingColorSpace(this,r),this}setStyle(e,t=Mo){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Mo){const n=EV[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=xm(e.r),this.g=xm(e.g),this.b=xm(e.b),this}copyLinearToSRGB(e){return this.r=G8(e.r),this.g=G8(e.g),this.b=G8(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Mo){return nn.fromWorkingColorSpace(_r.copy(this),e),Math.round(Qn(_r.r*255,0,255))*65536+Math.round(Qn(_r.g*255,0,255))*256+Math.round(Qn(_r.b*255,0,255))}getHexString(e=Mo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=nn.workingColorSpace){nn.fromWorkingColorSpace(_r.copy(this),t);const n=_r.r,r=_r.g,s=_r.b,o=Math.max(n,r,s),a=Math.min(n,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=u<=.5?h/(o+a):h/(2-o-a),o){case n:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-n)/h+2;break;case s:l=(n-r)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=nn.workingColorSpace){return nn.fromWorkingColorSpace(_r.copy(this),t),e.r=_r.r,e.g=_r.g,e.b=_r.b,e}getStyle(e=Mo){nn.fromWorkingColorSpace(_r.copy(this),e);const t=_r.r,n=_r.g,r=_r.b;return e!==Mo?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(e,t,n){return this.getHSL(lu),this.setHSL(lu.h+e,lu.s+t,lu.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(lu),e.getHSL(ZA);const n=vv(lu.h,ZA.h,t),r=vv(lu.s,ZA.s,t),s=vv(lu.l,ZA.l,t);return this.setHSL(n,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*n+s[6]*r,this.g=s[1]*t+s[4]*n+s[7]*r,this.b=s[2]*t+s[5]*n+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _r=new Ge;Ge.NAMES=EV;let Cie=0;class _i extends yl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Cie++}),this.uuid=Js(),this.name="",this.type="Material",this.blending=e0,this.side=ml,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Cw,this.blendDst=Mw,this.blendEquation=bu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ge(0,0,0),this.blendAlpha=0,this.depthFunc=Qv,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=b9,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=xd,this.stencilZFail=xd,this.stencilZPass=xd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==e0&&(n.blending=this.blending),this.side!==ml&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==Cw&&(n.blendSrc=this.blendSrc),this.blendDst!==Mw&&(n.blendDst=this.blendDst),this.blendEquation!==bu&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Qv&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==b9&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==xd&&(n.stencilFail=this.stencilFail),this.stencilZFail!==xd&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==xd&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(n.textures=s),o.length>0&&(n.images=o)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let s=0;s!==r;++s)n[s]=t[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}onBeforeRender(){console.warn("Material: onBeforeRender() has been removed.")}}class Xs extends _i{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ge(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Qs,this.combine=nx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const _c=Mie();function Mie(){const i=new ArrayBuffer(4),e=new Float32Array(i),t=new Uint32Array(i),n=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(n[l]=0,n[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(n[l]=1024>>-c-14,n[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(n[l]=c+15<<10,n[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(n[l]=31744,n[l|256]=64512,r[l]=24,r[l|256]=24):(n[l]=31744,n[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function rs(i){Math.abs(i)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),i=Qn(i,-65504,65504),_c.floatView[0]=i;const e=_c.uint32View[0],t=e>>23&511;return _c.baseTable[t]+((e&8388607)>>_c.shiftTable[t])}function B1(i){const e=i>>10;return _c.uint32View[0]=_c.mantissaTable[_c.offsetTable[e]+(i&1023)]+_c.exponentTable[e],_c.floatView[0]}const Eie={toHalfFloat:rs,fromHalfFloat:B1},pi=new V,QA=new Se;class Zt{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=sy,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=hs,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return _m("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)QA.fromBufferAttribute(this,t),QA.applyMatrix3(e),this.setXY(t,QA.x,QA.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)pi.fromBufferAttribute(this,t),pi.applyMatrix3(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)pi.fromBufferAttribute(this,t),pi.applyMatrix4(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)pi.fromBufferAttribute(this,t),pi.applyNormalMatrix(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)pi.fromBufferAttribute(this,t),pi.transformDirection(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=Kr(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Lt(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Kr(t,this.array)),t}setX(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Kr(t,this.array)),t}setY(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Kr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Kr(t,this.array)),t}setW(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Lt(t,this.array),n=Lt(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Lt(t,this.array),n=Lt(n,this.array),r=Lt(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,s){return e*=this.itemSize,this.normalized&&(t=Lt(t,this.array),n=Lt(n,this.array),r=Lt(r,this.array),s=Lt(s,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==sy&&(e.usage=this.usage),e}}class Tie extends Zt{constructor(e,t,n){super(new Int8Array(e),t,n)}}class Rie extends Zt{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class Pie extends Zt{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class Iie extends Zt{constructor(e,t,n){super(new Int16Array(e),t,n)}}class aI extends Zt{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class Lie extends Zt{constructor(e,t,n){super(new Int32Array(e),t,n)}}class lI extends Zt{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Die extends Zt{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=B1(this.array[e*this.itemSize]);return this.normalized&&(t=Kr(t,this.array)),t}setX(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize]=rs(t),this}getY(e){let t=B1(this.array[e*this.itemSize+1]);return this.normalized&&(t=Kr(t,this.array)),t}setY(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize+1]=rs(t),this}getZ(e){let t=B1(this.array[e*this.itemSize+2]);return this.normalized&&(t=Kr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize+2]=rs(t),this}getW(e){let t=B1(this.array[e*this.itemSize+3]);return this.normalized&&(t=Kr(t,this.array)),t}setW(e,t){return this.normalized&&(t=Lt(t,this.array)),this.array[e*this.itemSize+3]=rs(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Lt(t,this.array),n=Lt(n,this.array)),this.array[e+0]=rs(t),this.array[e+1]=rs(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Lt(t,this.array),n=Lt(n,this.array),r=Lt(r,this.array)),this.array[e+0]=rs(t),this.array[e+1]=rs(n),this.array[e+2]=rs(r),this}setXYZW(e,t,n,r,s){return e*=this.itemSize,this.normalized&&(t=Lt(t,this.array),n=Lt(n,this.array),r=Lt(r,this.array),s=Lt(s,this.array)),this.array[e+0]=rs(t),this.array[e+1]=rs(n),this.array[e+2]=rs(r),this.array[e+3]=rs(s),this}}class at extends Zt{constructor(e,t,n){super(new Float32Array(e),t,n)}}let Bie=0;const po=new pt,i6=new zt,gp=new V,Rs=new ur,u1=new ur,Ni=new V;class Pt extends yl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Bie++}),this.uuid=Js(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(wV(e)?lI:aI)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new It().getNormalMatrix(e);n.applyNormalMatrix(s),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return po.makeRotationFromQuaternion(e),this.applyMatrix4(po),this}rotateX(e){return po.makeRotationX(e),this.applyMatrix4(po),this}rotateY(e){return po.makeRotationY(e),this.applyMatrix4(po),this}rotateZ(e){return po.makeRotationZ(e),this.applyMatrix4(po),this}translate(e,t,n){return po.makeTranslation(e,t,n),this.applyMatrix4(po),this}scale(e,t,n){return po.makeScale(e,t,n),this.applyMatrix4(po),this}lookAt(e){return i6.lookAt(e),i6.updateMatrix(),this.applyMatrix4(i6.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(gp).negate(),this.translate(gp.x,gp.y,gp.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const s=e[n];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new at(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ur);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new V(-1/0,-1/0,-1/0),new V(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const s=t[n];Rs.setFromBufferAttribute(s),this.morphTargetsRelative?(Ni.addVectors(this.boundingBox.min,Rs.min),this.boundingBox.expandByPoint(Ni),Ni.addVectors(this.boundingBox.max,Rs.max),this.boundingBox.expandByPoint(Ni)):(this.boundingBox.expandByPoint(Rs.min),this.boundingBox.expandByPoint(Rs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ki);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new V,1/0);return}if(e){const n=this.boundingSphere.center;if(Rs.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];u1.setFromBufferAttribute(a),this.morphTargetsRelative?(Ni.addVectors(Rs.min,u1.min),Rs.expandByPoint(Ni),Ni.addVectors(Rs.max,u1.max),Rs.expandByPoint(Ni)):(Rs.expandByPoint(u1.min),Rs.expandByPoint(u1.max))}Rs.getCenter(n);let r=0;for(let s=0,o=e.count;s<o;s++)Ni.fromBufferAttribute(e,s),r=Math.max(r,n.distanceToSquared(Ni));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Ni.fromBufferAttribute(a,c),l&&(gp.fromBufferAttribute(e,c),Ni.add(gp)),r=Math.max(r,n.distanceToSquared(Ni))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Zt(new Float32Array(4*n.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let D=0;D<n.count;D++)a[D]=new V,l[D]=new V;const c=new V,u=new V,h=new V,d=new Se,m=new Se,g=new Se,y=new V,_=new V;function v(D,I,L){c.fromBufferAttribute(n,D),u.fromBufferAttribute(n,I),h.fromBufferAttribute(n,L),d.fromBufferAttribute(s,D),m.fromBufferAttribute(s,I),g.fromBufferAttribute(s,L),u.sub(c),h.sub(c),m.sub(d),g.sub(d);const O=1/(m.x*g.y-g.x*m.y);isFinite(O)&&(y.copy(u).multiplyScalar(g.y).addScaledVector(h,-m.y).multiplyScalar(O),_.copy(h).multiplyScalar(m.x).addScaledVector(u,-g.x).multiplyScalar(O),a[D].add(y),a[I].add(y),a[L].add(y),l[D].add(_),l[I].add(_),l[L].add(_))}let A=this.groups;A.length===0&&(A=[{start:0,count:e.count}]);for(let D=0,I=A.length;D<I;++D){const L=A[D],O=L.start,W=L.count;for(let X=O,Z=O+W;X<Z;X+=3)v(e.getX(X+0),e.getX(X+1),e.getX(X+2))}const S=new V,C=new V,T=new V,E=new V;function R(D){T.fromBufferAttribute(r,D),E.copy(T);const I=a[D];S.copy(I),S.sub(T.multiplyScalar(T.dot(I))).normalize(),C.crossVectors(E,I);const O=C.dot(l[D])<0?-1:1;o.setXYZW(D,S.x,S.y,S.z,O)}for(let D=0,I=A.length;D<I;++D){const L=A[D],O=L.start,W=L.count;for(let X=O,Z=O+W;X<Z;X+=3)R(e.getX(X+0)),R(e.getX(X+1)),R(e.getX(X+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Zt(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let d=0,m=n.count;d<m;d++)n.setXYZ(d,0,0,0);const r=new V,s=new V,o=new V,a=new V,l=new V,c=new V,u=new V,h=new V;if(e)for(let d=0,m=e.count;d<m;d+=3){const g=e.getX(d+0),y=e.getX(d+1),_=e.getX(d+2);r.fromBufferAttribute(t,g),s.fromBufferAttribute(t,y),o.fromBufferAttribute(t,_),u.subVectors(o,s),h.subVectors(r,s),u.cross(h),a.fromBufferAttribute(n,g),l.fromBufferAttribute(n,y),c.fromBufferAttribute(n,_),a.add(u),l.add(u),c.add(u),n.setXYZ(g,a.x,a.y,a.z),n.setXYZ(y,l.x,l.y,l.z),n.setXYZ(_,c.x,c.y,c.z)}else for(let d=0,m=t.count;d<m;d+=3)r.fromBufferAttribute(t,d+0),s.fromBufferAttribute(t,d+1),o.fromBufferAttribute(t,d+2),u.subVectors(o,s),h.subVectors(r,s),u.cross(h),n.setXYZ(d+0,u.x,u.y,u.z),n.setXYZ(d+1,u.x,u.y,u.z),n.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Ni.fromBufferAttribute(e,t),Ni.normalize(),e.setXYZ(t,Ni.x,Ni.y,Ni.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,h=a.normalized,d=new c.constructor(l.length*u);let m=0,g=0;for(let y=0,_=l.length;y<_;y++){a.isInterleavedBufferAttribute?m=l[y]*a.data.stride+a.offset:m=l[y]*u;for(let v=0;v<u;v++)d[g++]=c[m++]}return new Zt(d,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Pt,n=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,n);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,h=c.length;u<h;u++){const d=c[u],m=e(d,n);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const l in n){const c=n[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,d=c.length;h<d;h++){const m=c[h];u.push(m.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],h=s[c];for(let d=0,m=h.length;d<m;d++)u.push(h[d].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const EO=new pt,ed=new B0,$A=new Ki,TO=new V,vp=new V,yp=new V,_p=new V,r6=new V,eS=new V,tS=new Se,nS=new Se,iS=new Se,RO=new V,PO=new V,IO=new V,rS=new V,sS=new V;class ci extends zt{constructor(e=new Pt,t=new Xs){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,s=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){eS.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],h=s[l];u!==0&&(r6.fromBufferAttribute(h,e),o?eS.addScaledVector(r6,u):eS.addScaledVector(r6.sub(t),u))}t.add(eS)}return t}raycast(e,t){const n=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),$A.copy(n.boundingSphere),$A.applyMatrix4(s),ed.copy(e.ray).recast(e.near),!($A.containsPoint(ed.origin)===!1&&(ed.intersectSphere($A,TO)===null||ed.origin.distanceToSquared(TO)>(e.far-e.near)**2))&&(EO.copy(s).invert(),ed.copy(e.ray).applyMatrix4(EO),!(n.boundingBox!==null&&ed.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,ed)))}_computeIntersections(e,t,n){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,h=s.attributes.normal,d=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let g=0,y=d.length;g<y;g++){const _=d[g],v=o[_.materialIndex],A=Math.max(_.start,m.start),S=Math.min(a.count,Math.min(_.start+_.count,m.start+m.count));for(let C=A,T=S;C<T;C+=3){const E=a.getX(C),R=a.getX(C+1),D=a.getX(C+2);r=oS(this,v,e,n,c,u,h,E,R,D),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{const g=Math.max(0,m.start),y=Math.min(a.count,m.start+m.count);for(let _=g,v=y;_<v;_+=3){const A=a.getX(_),S=a.getX(_+1),C=a.getX(_+2);r=oS(this,o,e,n,c,u,h,A,S,C),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let g=0,y=d.length;g<y;g++){const _=d[g],v=o[_.materialIndex],A=Math.max(_.start,m.start),S=Math.min(l.count,Math.min(_.start+_.count,m.start+m.count));for(let C=A,T=S;C<T;C+=3){const E=C,R=C+1,D=C+2;r=oS(this,v,e,n,c,u,h,E,R,D),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{const g=Math.max(0,m.start),y=Math.min(l.count,m.start+m.count);for(let _=g,v=y;_<v;_+=3){const A=_,S=_+1,C=_+2;r=oS(this,o,e,n,c,u,h,A,S,C),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}}}function Fie(i,e,t,n,r,s,o,a){let l;if(e.side===qr?l=n.intersectTriangle(o,s,r,!0,a):l=n.intersectTriangle(r,s,o,e.side===ml,a),l===null)return null;sS.copy(a),sS.applyMatrix4(i.matrixWorld);const c=t.ray.origin.distanceTo(sS);return c<t.near||c>t.far?null:{distance:c,point:sS.clone(),object:i}}function oS(i,e,t,n,r,s,o,a,l,c){i.getVertexPosition(a,vp),i.getVertexPosition(l,yp),i.getVertexPosition(c,_p);const u=Fie(i,e,t,n,vp,yp,_p,rS);if(u){r&&(tS.fromBufferAttribute(r,a),nS.fromBufferAttribute(r,l),iS.fromBufferAttribute(r,c),u.uv=Hs.getInterpolation(rS,vp,yp,_p,tS,nS,iS,new Se)),s&&(tS.fromBufferAttribute(s,a),nS.fromBufferAttribute(s,l),iS.fromBufferAttribute(s,c),u.uv1=Hs.getInterpolation(rS,vp,yp,_p,tS,nS,iS,new Se)),o&&(RO.fromBufferAttribute(o,a),PO.fromBufferAttribute(o,l),IO.fromBufferAttribute(o,c),u.normal=Hs.getInterpolation(rS,vp,yp,_p,RO,PO,IO,new V),u.normal.dot(n.direction)>0&&u.normal.multiplyScalar(-1));const h={a,b:l,c,normal:new V,materialIndex:0};Hs.getNormal(vp,yp,_p,h.normal),u.face=h}return u}class F0 extends Pt{constructor(e=1,t=1,n=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],h=[];let d=0,m=0;g("z","y","x",-1,-1,n,t,e,o,s,0),g("z","y","x",1,-1,n,t,-e,o,s,1),g("x","z","y",1,1,e,n,t,r,o,2),g("x","z","y",1,-1,e,n,-t,r,o,3),g("x","y","z",1,-1,e,t,n,r,s,4),g("x","y","z",-1,-1,e,t,-n,r,s,5),this.setIndex(l),this.setAttribute("position",new at(c,3)),this.setAttribute("normal",new at(u,3)),this.setAttribute("uv",new at(h,2));function g(y,_,v,A,S,C,T,E,R,D,I){const L=C/R,O=T/D,W=C/2,X=T/2,Z=E/2,$=R+1,Q=D+1;let ee=0,k=0;const q=new V;for(let K=0;K<Q;K++){const ne=K*O-X;for(let le=0;le<$;le++){const ye=le*L-W;q[y]=ye*A,q[_]=ne*S,q[v]=Z,c.push(q.x,q.y,q.z),q[y]=0,q[_]=0,q[v]=E>0?1:-1,u.push(q.x,q.y,q.z),h.push(le/R),h.push(1-K/D),ee+=1}}for(let K=0;K<D;K++)for(let ne=0;ne<R;ne++){const le=d+ne+$*K,ye=d+ne+$*(K+1),re=d+(ne+1)+$*(K+1),pe=d+(ne+1)+$*K;l.push(le,ye,pe),l.push(ye,re,pe),k+=6}a.addGroup(m,k,I),m+=k,d+=ee}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new F0(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ag(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const r=i[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function Hr(i){const e={};for(let t=0;t<i.length;t++){const n=ag(i[t]);for(const r in n)e[r]=n[r]}return e}function Oie(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function TV(i){const e=i.getRenderTarget();return e===null?i.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:nn.workingColorSpace}const RV={clone:ag,merge:Hr};var kie=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Nie=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class wa extends _i{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=kie,this.fragmentShader=Nie,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ag(e.uniforms),this.uniformsGroups=Oie(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class sx extends zt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new pt,this.projectionMatrix=new pt,this.projectionMatrixInverse=new pt,this.coordinateSystem=ol}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const cu=new V,LO=new Se,DO=new Se;class Pn extends sx{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=og*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(n0*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return og*2*Math.atan(Math.tan(n0*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){cu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(cu.x,cu.y).multiplyScalar(-e/cu.z),cu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(cu.x,cu.y).multiplyScalar(-e/cu.z)}getViewSize(e,t){return this.getViewBounds(e,LO,DO),t.subVectors(DO,LO)}setViewOffset(e,t,n,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(n0*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*n/c,r*=o.width/l,n*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const xp=-90,Ap=1;class PV extends zt{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Pn(xp,Ap,e,t);r.layers=this.layers,this.add(r);const s=new Pn(xp,Ap,e,t);s.layers=this.layers,this.add(s);const o=new Pn(xp,Ap,e,t);o.layers=this.layers,this.add(o);const a=new Pn(xp,Ap,e,t);a.layers=this.layers,this.add(a);const l=new Pn(xp,Ap,e,t);l.layers=this.layers,this.add(l);const c=new Pn(xp,Ap,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===ol)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===oy)n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,h=e.getRenderTarget(),d=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const y=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,s),e.setRenderTarget(n,1,r),e.render(t,o),e.setRenderTarget(n,2,r),e.render(t,a),e.setRenderTarget(n,3,r),e.render(t,l),e.setRenderTarget(n,4,r),e.render(t,c),n.texture.generateMipmaps=y,e.setRenderTarget(n,5,r),e.render(t,u),e.setRenderTarget(h,d,m),e.xr.enabled=g,n.texture.needsPMREMUpdate=!0}}class ox extends Ln{constructor(e,t,n,r,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:zc,super(e,t,n,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class IV extends Sa{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new ox(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:$n}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new F0(5,5,5),s=new wa({name:"CubemapFromEquirect",uniforms:ag(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:qr,blending:Mc});s.uniforms.tEquirect.value=t;const o=new ci(r,s),a=t.minFilter;return t.minFilter===Lo&&(t.minFilter=$n),new PV(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,r);e.setRenderTarget(s)}}const s6=new V,Uie=new V,zie=new It;class Hl{constructor(e=new V(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=s6.subVectors(n,t).cross(Uie.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(s6),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(n,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||zie.getNormalMatrix(e),r=this.coplanarPoint(s6).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const td=new Ki,aS=new V;class ax{constructor(e=new Hl,t=new Hl,n=new Hl,r=new Hl,s=new Hl,o=new Hl){this.planes=[e,t,n,r,s,o]}set(e,t,n,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=ol){const n=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],u=r[5],h=r[6],d=r[7],m=r[8],g=r[9],y=r[10],_=r[11],v=r[12],A=r[13],S=r[14],C=r[15];if(n[0].setComponents(l-s,d-c,_-m,C-v).normalize(),n[1].setComponents(l+s,d+c,_+m,C+v).normalize(),n[2].setComponents(l+o,d+u,_+g,C+A).normalize(),n[3].setComponents(l-o,d-u,_-g,C-A).normalize(),n[4].setComponents(l-a,d-h,_-y,C-S).normalize(),t===ol)n[5].setComponents(l+a,d+h,_+y,C+S).normalize();else if(t===oy)n[5].setComponents(a,h,y,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),td.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),td.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(td)}intersectsSprite(e){return td.center.set(0,0,0),td.radius=.7071067811865476,td.applyMatrix4(e.matrixWorld),this.intersectsSphere(td)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(aS.x=r.normal.x>0?e.max.x:e.min.x,aS.y=r.normal.y>0?e.max.y:e.min.y,aS.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(aS)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function LV(){let i=null,e=!1,t=null,n=null;function r(s,o){t(s,o),n=i.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(n=i.requestAnimationFrame(r),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){i=s}}}function jie(i){const e=new WeakMap;function t(a,l){const c=a.array,u=a.usage,h=c.byteLength,d=i.createBuffer();i.bindBuffer(l,d),i.bufferData(l,c,u),a.onUploadCallback();let m;if(c instanceof Float32Array)m=i.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?m=i.HALF_FLOAT:m=i.UNSIGNED_SHORT;else if(c instanceof Int16Array)m=i.SHORT;else if(c instanceof Uint32Array)m=i.UNSIGNED_INT;else if(c instanceof Int32Array)m=i.INT;else if(c instanceof Int8Array)m=i.BYTE;else if(c instanceof Uint8Array)m=i.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)m=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:d,type:m,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:h}}function n(a,l,c){const u=l.array,h=l._updateRange,d=l.updateRanges;if(i.bindBuffer(c,a),h.count===-1&&d.length===0&&i.bufferSubData(c,0,u),d.length!==0){for(let m=0,g=d.length;m<g;m++){const y=d[m];i.bufferSubData(c,y.start*u.BYTES_PER_ELEMENT,u,y.start,y.count)}l.clearUpdateRanges()}h.count!==-1&&(i.bufferSubData(c,h.offset*u.BYTES_PER_ELEMENT,u,h.offset,h.count),h.count=-1),l.onUploadCallback()}function r(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(i.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const u=e.get(a);(!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,t(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(c.buffer,a,l),c.version=a.version}}return{get:r,remove:s,update:o}}class bg extends Pt{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(n),l=Math.floor(r),c=a+1,u=l+1,h=e/a,d=t/l,m=[],g=[],y=[],_=[];for(let v=0;v<u;v++){const A=v*d-o;for(let S=0;S<c;S++){const C=S*h-s;g.push(C,-A,0),y.push(0,0,1),_.push(S/a),_.push(1-v/l)}}for(let v=0;v<l;v++)for(let A=0;A<a;A++){const S=A+c*v,C=A+c*(v+1),T=A+1+c*(v+1),E=A+1+c*v;m.push(S,C,E),m.push(C,T,E)}this.setIndex(m),this.setAttribute("position",new at(g,3)),this.setAttribute("normal",new at(y,3)),this.setAttribute("uv",new at(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bg(e.width,e.height,e.widthSegments,e.heightSegments)}}var Hie=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Gie=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Vie=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Wie=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Xie=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Kie=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Yie=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Jie=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,qie=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Zie=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Qie=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,$ie=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,ere=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,tre=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,nre=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,ire=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,rre=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,sre=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,ore=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,are=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,lre=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,cre=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,ure=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,hre=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,dre=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,fre=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,pre=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,mre=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,gre=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,vre=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,yre="gl_FragColor = linearToOutputTexel( gl_FragColor );",_re=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,xre=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Are=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Sre=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,wre=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,bre=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Cre=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Mre=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Ere=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Tre=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Rre=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Pre=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Ire=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Lre=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Dre=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Bre=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Fre=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Ore=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,kre=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Nre=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Ure=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,zre=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,jre=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Hre=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Gre=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Vre=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Wre=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Xre=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Kre=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Yre=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Jre=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,qre=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Zre=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Qre=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,$re=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,ese=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,tse=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,nse=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,ise=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,rse=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,sse=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,ose=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,ase=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,lse=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,cse=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,use=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,hse=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,dse=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,fse=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,pse=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,mse=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,gse=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,vse=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,yse=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,_se=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,xse=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Ase=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Sse=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,wse=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,bse=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Cse=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Mse=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Ese=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Tse=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Rse=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Pse=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Ise=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Lse=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Dse=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Bse=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Fse=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Ose=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,kse=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Nse=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Use=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,zse=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const jse=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Hse=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Gse=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Vse=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Wse=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Xse=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Kse=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Yse=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Jse=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,qse=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Zse=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Qse=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$se=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,eoe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,toe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,noe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ioe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,roe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,soe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,ooe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aoe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,loe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,coe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,uoe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hoe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,doe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,foe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,poe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,moe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,goe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,voe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yoe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,_oe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,xoe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Dt={alphahash_fragment:Hie,alphahash_pars_fragment:Gie,alphamap_fragment:Vie,alphamap_pars_fragment:Wie,alphatest_fragment:Xie,alphatest_pars_fragment:Kie,aomap_fragment:Yie,aomap_pars_fragment:Jie,batching_pars_vertex:qie,batching_vertex:Zie,begin_vertex:Qie,beginnormal_vertex:$ie,bsdfs:ere,iridescence_fragment:tre,bumpmap_pars_fragment:nre,clipping_planes_fragment:ire,clipping_planes_pars_fragment:rre,clipping_planes_pars_vertex:sre,clipping_planes_vertex:ore,color_fragment:are,color_pars_fragment:lre,color_pars_vertex:cre,color_vertex:ure,common:hre,cube_uv_reflection_fragment:dre,defaultnormal_vertex:fre,displacementmap_pars_vertex:pre,displacementmap_vertex:mre,emissivemap_fragment:gre,emissivemap_pars_fragment:vre,colorspace_fragment:yre,colorspace_pars_fragment:_re,envmap_fragment:xre,envmap_common_pars_fragment:Are,envmap_pars_fragment:Sre,envmap_pars_vertex:wre,envmap_physical_pars_fragment:Bre,envmap_vertex:bre,fog_vertex:Cre,fog_pars_vertex:Mre,fog_fragment:Ere,fog_pars_fragment:Tre,gradientmap_pars_fragment:Rre,lightmap_pars_fragment:Pre,lights_lambert_fragment:Ire,lights_lambert_pars_fragment:Lre,lights_pars_begin:Dre,lights_toon_fragment:Fre,lights_toon_pars_fragment:Ore,lights_phong_fragment:kre,lights_phong_pars_fragment:Nre,lights_physical_fragment:Ure,lights_physical_pars_fragment:zre,lights_fragment_begin:jre,lights_fragment_maps:Hre,lights_fragment_end:Gre,logdepthbuf_fragment:Vre,logdepthbuf_pars_fragment:Wre,logdepthbuf_pars_vertex:Xre,logdepthbuf_vertex:Kre,map_fragment:Yre,map_pars_fragment:Jre,map_particle_fragment:qre,map_particle_pars_fragment:Zre,metalnessmap_fragment:Qre,metalnessmap_pars_fragment:$re,morphinstance_vertex:ese,morphcolor_vertex:tse,morphnormal_vertex:nse,morphtarget_pars_vertex:ise,morphtarget_vertex:rse,normal_fragment_begin:sse,normal_fragment_maps:ose,normal_pars_fragment:ase,normal_pars_vertex:lse,normal_vertex:cse,normalmap_pars_fragment:use,clearcoat_normal_fragment_begin:hse,clearcoat_normal_fragment_maps:dse,clearcoat_pars_fragment:fse,iridescence_pars_fragment:pse,opaque_fragment:mse,packing:gse,premultiplied_alpha_fragment:vse,project_vertex:yse,dithering_fragment:_se,dithering_pars_fragment:xse,roughnessmap_fragment:Ase,roughnessmap_pars_fragment:Sse,shadowmap_pars_fragment:wse,shadowmap_pars_vertex:bse,shadowmap_vertex:Cse,shadowmask_pars_fragment:Mse,skinbase_vertex:Ese,skinning_pars_vertex:Tse,skinning_vertex:Rse,skinnormal_vertex:Pse,specularmap_fragment:Ise,specularmap_pars_fragment:Lse,tonemapping_fragment:Dse,tonemapping_pars_fragment:Bse,transmission_fragment:Fse,transmission_pars_fragment:Ose,uv_pars_fragment:kse,uv_pars_vertex:Nse,uv_vertex:Use,worldpos_vertex:zse,background_vert:jse,background_frag:Hse,backgroundCube_vert:Gse,backgroundCube_frag:Vse,cube_vert:Wse,cube_frag:Xse,depth_vert:Kse,depth_frag:Yse,distanceRGBA_vert:Jse,distanceRGBA_frag:qse,equirect_vert:Zse,equirect_frag:Qse,linedashed_vert:$se,linedashed_frag:eoe,meshbasic_vert:toe,meshbasic_frag:noe,meshlambert_vert:ioe,meshlambert_frag:roe,meshmatcap_vert:soe,meshmatcap_frag:ooe,meshnormal_vert:aoe,meshnormal_frag:loe,meshphong_vert:coe,meshphong_frag:uoe,meshphysical_vert:hoe,meshphysical_frag:doe,meshtoon_vert:foe,meshtoon_frag:poe,points_vert:moe,points_frag:goe,shadow_vert:voe,shadow_frag:yoe,sprite_vert:_oe,sprite_frag:xoe},Ve={common:{diffuse:{value:new Ge(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new It},alphaMap:{value:null},alphaMapTransform:{value:new It},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new It}},envmap:{envMap:{value:null},envMapRotation:{value:new It},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new It}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new It}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new It},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new It},normalScale:{value:new Se(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new It},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new It}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new It}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new It}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ge(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ge(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new It},alphaTest:{value:0},uvTransform:{value:new It}},sprite:{diffuse:{value:new Ge(16777215)},opacity:{value:1},center:{value:new Se(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new It},alphaMap:{value:null},alphaMapTransform:{value:new It},alphaTest:{value:0}}},ma={basic:{uniforms:Hr([Ve.common,Ve.specularmap,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.fog]),vertexShader:Dt.meshbasic_vert,fragmentShader:Dt.meshbasic_frag},lambert:{uniforms:Hr([Ve.common,Ve.specularmap,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.fog,Ve.lights,{emissive:{value:new Ge(0)}}]),vertexShader:Dt.meshlambert_vert,fragmentShader:Dt.meshlambert_frag},phong:{uniforms:Hr([Ve.common,Ve.specularmap,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.fog,Ve.lights,{emissive:{value:new Ge(0)},specular:{value:new Ge(1118481)},shininess:{value:30}}]),vertexShader:Dt.meshphong_vert,fragmentShader:Dt.meshphong_frag},standard:{uniforms:Hr([Ve.common,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.roughnessmap,Ve.metalnessmap,Ve.fog,Ve.lights,{emissive:{value:new Ge(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Dt.meshphysical_vert,fragmentShader:Dt.meshphysical_frag},toon:{uniforms:Hr([Ve.common,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.gradientmap,Ve.fog,Ve.lights,{emissive:{value:new Ge(0)}}]),vertexShader:Dt.meshtoon_vert,fragmentShader:Dt.meshtoon_frag},matcap:{uniforms:Hr([Ve.common,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.fog,{matcap:{value:null}}]),vertexShader:Dt.meshmatcap_vert,fragmentShader:Dt.meshmatcap_frag},points:{uniforms:Hr([Ve.points,Ve.fog]),vertexShader:Dt.points_vert,fragmentShader:Dt.points_frag},dashed:{uniforms:Hr([Ve.common,Ve.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Dt.linedashed_vert,fragmentShader:Dt.linedashed_frag},depth:{uniforms:Hr([Ve.common,Ve.displacementmap]),vertexShader:Dt.depth_vert,fragmentShader:Dt.depth_frag},normal:{uniforms:Hr([Ve.common,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,{opacity:{value:1}}]),vertexShader:Dt.meshnormal_vert,fragmentShader:Dt.meshnormal_frag},sprite:{uniforms:Hr([Ve.sprite,Ve.fog]),vertexShader:Dt.sprite_vert,fragmentShader:Dt.sprite_frag},background:{uniforms:{uvTransform:{value:new It},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Dt.background_vert,fragmentShader:Dt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new It}},vertexShader:Dt.backgroundCube_vert,fragmentShader:Dt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Dt.cube_vert,fragmentShader:Dt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Dt.equirect_vert,fragmentShader:Dt.equirect_frag},distanceRGBA:{uniforms:Hr([Ve.common,Ve.displacementmap,{referencePosition:{value:new V},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Dt.distanceRGBA_vert,fragmentShader:Dt.distanceRGBA_frag},shadow:{uniforms:Hr([Ve.lights,Ve.fog,{color:{value:new Ge(0)},opacity:{value:1}}]),vertexShader:Dt.shadow_vert,fragmentShader:Dt.shadow_frag}};ma.physical={uniforms:Hr([ma.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new It},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new It},clearcoatNormalScale:{value:new Se(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new It},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new It},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new It},sheen:{value:0},sheenColor:{value:new Ge(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new It},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new It},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new It},transmissionSamplerSize:{value:new Se},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new It},attenuationDistance:{value:0},attenuationColor:{value:new Ge(0)},specularColor:{value:new Ge(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new It},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new It},anisotropyVector:{value:new Se},anisotropyMap:{value:null},anisotropyMapTransform:{value:new It}}]),vertexShader:Dt.meshphysical_vert,fragmentShader:Dt.meshphysical_frag};const lS={r:0,b:0,g:0},nd=new Qs,Aoe=new pt;function Soe(i,e,t,n,r,s,o){const a=new Ge(0);let l=s===!0?0:1,c,u,h=null,d=0,m=null;function g(A){let S=A.isScene===!0?A.background:null;return S&&S.isTexture&&(S=(A.backgroundBlurriness>0?t:e).get(S)),S}function y(A){let S=!1;const C=g(A);C===null?v(a,l):C&&C.isColor&&(v(C,1),S=!0);const T=i.xr.getEnvironmentBlendMode();T==="additive"?n.buffers.color.setClear(0,0,0,1,o):T==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,o),(i.autoClear||S)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function _(A,S){const C=g(S);C&&(C.isCubeTexture||C.mapping===Sg)?(u===void 0&&(u=new ci(new F0(1,1,1),new wa({name:"BackgroundCubeMaterial",uniforms:ag(ma.backgroundCube.uniforms),vertexShader:ma.backgroundCube.vertexShader,fragmentShader:ma.backgroundCube.fragmentShader,side:qr,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(T,E,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),nd.copy(S.backgroundRotation),nd.x*=-1,nd.y*=-1,nd.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(nd.y*=-1,nd.z*=-1),u.material.uniforms.envMap.value=C,u.material.uniforms.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=S.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(Aoe.makeRotationFromEuler(nd)),u.material.toneMapped=nn.getTransfer(C.colorSpace)!==Sn,(h!==C||d!==C.version||m!==i.toneMapping)&&(u.material.needsUpdate=!0,h=C,d=C.version,m=i.toneMapping),u.layers.enableAll(),A.unshift(u,u.geometry,u.material,0,0,null)):C&&C.isTexture&&(c===void 0&&(c=new ci(new bg(2,2),new wa({name:"BackgroundMaterial",uniforms:ag(ma.background.uniforms),vertexShader:ma.background.vertexShader,fragmentShader:ma.background.fragmentShader,side:ml,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=C,c.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,c.material.toneMapped=nn.getTransfer(C.colorSpace)!==Sn,C.matrixAutoUpdate===!0&&C.updateMatrix(),c.material.uniforms.uvTransform.value.copy(C.matrix),(h!==C||d!==C.version||m!==i.toneMapping)&&(c.material.needsUpdate=!0,h=C,d=C.version,m=i.toneMapping),c.layers.enableAll(),A.unshift(c,c.geometry,c.material,0,0,null))}function v(A,S){A.getRGB(lS,TV(i)),n.buffers.color.setClear(lS.r,lS.g,lS.b,S,o)}return{getClearColor:function(){return a},setClearColor:function(A,S=1){a.set(A),l=S,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(A){l=A,v(a,l)},render:y,addToRenderList:_}}function woe(i,e){const t=i.getParameter(i.MAX_VERTEX_ATTRIBS),n={},r=d(null);let s=r,o=!1;function a(L,O,W,X,Z){let $=!1;const Q=h(X,W,O);s!==Q&&(s=Q,c(s.object)),$=m(L,X,W,Z),$&&g(L,X,W,Z),Z!==null&&e.update(Z,i.ELEMENT_ARRAY_BUFFER),($||o)&&(o=!1,C(L,O,W,X),Z!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.get(Z).buffer))}function l(){return i.createVertexArray()}function c(L){return i.bindVertexArray(L)}function u(L){return i.deleteVertexArray(L)}function h(L,O,W){const X=W.wireframe===!0;let Z=n[L.id];Z===void 0&&(Z={},n[L.id]=Z);let $=Z[O.id];$===void 0&&($={},Z[O.id]=$);let Q=$[X];return Q===void 0&&(Q=d(l()),$[X]=Q),Q}function d(L){const O=[],W=[],X=[];for(let Z=0;Z<t;Z++)O[Z]=0,W[Z]=0,X[Z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:O,enabledAttributes:W,attributeDivisors:X,object:L,attributes:{},index:null}}function m(L,O,W,X){const Z=s.attributes,$=O.attributes;let Q=0;const ee=W.getAttributes();for(const k in ee)if(ee[k].location>=0){const K=Z[k];let ne=$[k];if(ne===void 0&&(k==="instanceMatrix"&&L.instanceMatrix&&(ne=L.instanceMatrix),k==="instanceColor"&&L.instanceColor&&(ne=L.instanceColor)),K===void 0||K.attribute!==ne||ne&&K.data!==ne.data)return!0;Q++}return s.attributesNum!==Q||s.index!==X}function g(L,O,W,X){const Z={},$=O.attributes;let Q=0;const ee=W.getAttributes();for(const k in ee)if(ee[k].location>=0){let K=$[k];K===void 0&&(k==="instanceMatrix"&&L.instanceMatrix&&(K=L.instanceMatrix),k==="instanceColor"&&L.instanceColor&&(K=L.instanceColor));const ne={};ne.attribute=K,K&&K.data&&(ne.data=K.data),Z[k]=ne,Q++}s.attributes=Z,s.attributesNum=Q,s.index=X}function y(){const L=s.newAttributes;for(let O=0,W=L.length;O<W;O++)L[O]=0}function _(L){v(L,0)}function v(L,O){const W=s.newAttributes,X=s.enabledAttributes,Z=s.attributeDivisors;W[L]=1,X[L]===0&&(i.enableVertexAttribArray(L),X[L]=1),Z[L]!==O&&(i.vertexAttribDivisor(L,O),Z[L]=O)}function A(){const L=s.newAttributes,O=s.enabledAttributes;for(let W=0,X=O.length;W<X;W++)O[W]!==L[W]&&(i.disableVertexAttribArray(W),O[W]=0)}function S(L,O,W,X,Z,$,Q){Q===!0?i.vertexAttribIPointer(L,O,W,Z,$):i.vertexAttribPointer(L,O,W,X,Z,$)}function C(L,O,W,X){y();const Z=X.attributes,$=W.getAttributes(),Q=O.defaultAttributeValues;for(const ee in $){const k=$[ee];if(k.location>=0){let q=Z[ee];if(q===void 0&&(ee==="instanceMatrix"&&L.instanceMatrix&&(q=L.instanceMatrix),ee==="instanceColor"&&L.instanceColor&&(q=L.instanceColor)),q!==void 0){const K=q.normalized,ne=q.itemSize,le=e.get(q);if(le===void 0)continue;const ye=le.buffer,re=le.type,pe=le.bytesPerElement,Me=re===i.INT||re===i.UNSIGNED_INT||q.gpuType===HC;if(q.isInterleavedBufferAttribute){const xe=q.data,We=xe.stride,rt=q.offset;if(xe.isInstancedInterleavedBuffer){for(let Be=0;Be<k.locationSize;Be++)v(k.location+Be,xe.meshPerAttribute);L.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let Be=0;Be<k.locationSize;Be++)_(k.location+Be);i.bindBuffer(i.ARRAY_BUFFER,ye);for(let Be=0;Be<k.locationSize;Be++)S(k.location+Be,ne/k.locationSize,re,K,We*pe,(rt+ne/k.locationSize*Be)*pe,Me)}else{if(q.isInstancedBufferAttribute){for(let xe=0;xe<k.locationSize;xe++)v(k.location+xe,q.meshPerAttribute);L.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=q.meshPerAttribute*q.count)}else for(let xe=0;xe<k.locationSize;xe++)_(k.location+xe);i.bindBuffer(i.ARRAY_BUFFER,ye);for(let xe=0;xe<k.locationSize;xe++)S(k.location+xe,ne/k.locationSize,re,K,ne*pe,ne/k.locationSize*xe*pe,Me)}}else if(Q!==void 0){const K=Q[ee];if(K!==void 0)switch(K.length){case 2:i.vertexAttrib2fv(k.location,K);break;case 3:i.vertexAttrib3fv(k.location,K);break;case 4:i.vertexAttrib4fv(k.location,K);break;default:i.vertexAttrib1fv(k.location,K)}}}}A()}function T(){D();for(const L in n){const O=n[L];for(const W in O){const X=O[W];for(const Z in X)u(X[Z].object),delete X[Z];delete O[W]}delete n[L]}}function E(L){if(n[L.id]===void 0)return;const O=n[L.id];for(const W in O){const X=O[W];for(const Z in X)u(X[Z].object),delete X[Z];delete O[W]}delete n[L.id]}function R(L){for(const O in n){const W=n[O];if(W[L.id]===void 0)continue;const X=W[L.id];for(const Z in X)u(X[Z].object),delete X[Z];delete W[L.id]}}function D(){I(),o=!0,s!==r&&(s=r,c(s.object))}function I(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:a,reset:D,resetDefaultState:I,dispose:T,releaseStatesOfGeometry:E,releaseStatesOfProgram:R,initAttributes:y,enableAttribute:_,disableUnusedAttributes:A}}function boe(i,e,t){let n;function r(c){n=c}function s(c,u){i.drawArrays(n,c,u),t.update(u,n,1)}function o(c,u,h){h!==0&&(i.drawArraysInstanced(n,c,u,h),t.update(u,n,h))}function a(c,u,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,c,0,u,0,h);let m=0;for(let g=0;g<h;g++)m+=u[g];t.update(m,n,1)}function l(c,u,h,d){if(h===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let g=0;g<c.length;g++)o(c[g],u[g],d[g]);else{m.multiDrawArraysInstancedWEBGL(n,c,0,u,0,d,0,h);let g=0;for(let y=0;y<h;y++)g+=u[y];for(let y=0;y<d.length;y++)t.update(g,n,d[y])}}this.setMode=r,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function Coe(i,e,t,n){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const E=e.get("EXT_texture_filter_anisotropic");r=i.getParameter(E.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(E){return!(E!==Rr&&n.convert(E)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(E){const R=E===wg&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(E!==Aa&&n.convert(E)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&E!==hs&&!R)}function l(E){if(E==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";E="mediump"}return E==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const h=t.logarithmicDepthBuffer===!0,d=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),m=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=i.getParameter(i.MAX_TEXTURE_SIZE),y=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),_=i.getParameter(i.MAX_VERTEX_ATTRIBS),v=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),A=i.getParameter(i.MAX_VARYING_VECTORS),S=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),C=m>0,T=i.getParameter(i.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:h,maxTextures:d,maxVertexTextures:m,maxTextureSize:g,maxCubemapSize:y,maxAttributes:_,maxVertexUniforms:v,maxVaryings:A,maxFragmentUniforms:S,vertexTextures:C,maxSamples:T}}function Moe(i){const e=this;let t=null,n=0,r=!1,s=!1;const o=new Hl,a=new It,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,d){const m=h.length!==0||d||n!==0||r;return r=d,n=h.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,d){t=u(h,d,0)},this.setState=function(h,d,m){const g=h.clippingPlanes,y=h.clipIntersection,_=h.clipShadows,v=i.get(h);if(!r||g===null||g.length===0||s&&!_)s?u(null):c();else{const A=s?0:n,S=A*4;let C=v.clippingState||null;l.value=C,C=u(g,d,S,m);for(let T=0;T!==S;++T)C[T]=t[T];v.clippingState=C,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=A}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function u(h,d,m,g){const y=h!==null?h.length:0;let _=null;if(y!==0){if(_=l.value,g!==!0||_===null){const v=m+y*4,A=d.matrixWorldInverse;a.getNormalMatrix(A),(_===null||_.length<v)&&(_=new Float32Array(v));for(let S=0,C=m;S!==y;++S,C+=4)o.copy(h[S]).applyMatrix4(A,a),o.normal.toArray(_,C),_[C+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,_}}function Eoe(i){let e=new WeakMap;function t(o,a){return a===$v?o.mapping=zc:a===ey&&(o.mapping=bh),o}function n(o){if(o&&o.isTexture){const a=o.mapping;if(a===$v||a===ey)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new IV(l.height);return c.fromEquirectangularTexture(i,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:n,dispose:s}}class Do extends sx{constructor(e=-1,t=1,n=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=n-e,o=n+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const $p=4,BO=[.125,.215,.35,.446,.526,.582],Rd=20,o6=new Do,FO=new Ge;let a6=null,l6=0,c6=0,u6=!1;const Ad=(1+Math.sqrt(5))/2,Sp=1/Ad,OO=[new V(-Ad,Sp,0),new V(Ad,Sp,0),new V(-Sp,0,Ad),new V(Sp,0,Ad),new V(0,Ad,-Sp),new V(0,Ad,Sp),new V(-1,1,-1),new V(1,1,-1),new V(-1,1,1),new V(1,1,1)];class M9{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){a6=this._renderer.getRenderTarget(),l6=this._renderer.getActiveCubeFace(),c6=this._renderer.getActiveMipmapLevel(),u6=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=UO(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=NO(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(a6,l6,c6),this._renderer.xr.enabled=u6,e.scissorTest=!1,cS(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===zc||e.mapping===bh?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),a6=this._renderer.getRenderTarget(),l6=this._renderer.getActiveCubeFace(),c6=this._renderer.getActiveMipmapLevel(),u6=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:$n,minFilter:$n,generateMipmaps:!1,type:wg,format:Rr,colorSpace:Kc,depthBuffer:!1},r=kO(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=kO(e,t,n);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Toe(s)),this._blurMaterial=Roe(s,e,t)}return r}_compileMaterial(e){const t=new ci(this._lodPlanes[0],e);this._renderer.compile(t,o6)}_sceneToCubeUV(e,t,n,r){const a=new Pn(90,1,t,n),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,d=u.toneMapping;u.getClearColor(FO),u.toneMapping=ul,u.autoClear=!1;const m=new Xs({name:"PMREM.Background",side:qr,depthWrite:!1,depthTest:!1}),g=new ci(new F0,m);let y=!1;const _=e.background;_?_.isColor&&(m.color.copy(_),e.background=null,y=!0):(m.color.copy(FO),y=!0);for(let v=0;v<6;v++){const A=v%3;A===0?(a.up.set(0,l[v],0),a.lookAt(c[v],0,0)):A===1?(a.up.set(0,0,l[v]),a.lookAt(0,c[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,c[v]));const S=this._cubeSize;cS(r,A*S,v>2?S:0,S,S),u.setRenderTarget(r),y&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=d,u.autoClear=h,e.background=_}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===zc||e.mapping===bh;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=UO()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=NO());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new ci(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;cS(t,0,0,3*l,2*l),n.setRenderTarget(t),n.render(o,o6)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=OO[(r-s-1)%OO.length];this._blur(e,s-1,s,o,a)}t.autoClear=n}_blur(e,t,n,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",s),this._halfBlur(o,e,n,n,r,"longitudinal",s)}_halfBlur(e,t,n,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new ci(this._lodPlanes[r],c),d=c.uniforms,m=this._sizeLods[n]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Rd-1),y=s/g,_=isFinite(s)?1+Math.floor(u*y):Rd;_>Rd&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${Rd}`);const v=[];let A=0;for(let R=0;R<Rd;++R){const D=R/y,I=Math.exp(-D*D/2);v.push(I),R===0?A+=I:R<_&&(A+=2*I)}for(let R=0;R<v.length;R++)v[R]=v[R]/A;d.envMap.value=e.texture,d.samples.value=_,d.weights.value=v,d.latitudinal.value=o==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:S}=this;d.dTheta.value=g,d.mipInt.value=S-n;const C=this._sizeLods[r],T=3*C*(r>S-$p?r-S+$p:0),E=4*(this._cubeSize-C);cS(t,T,E,3*C,2*C),l.setRenderTarget(t),l.render(h,o6)}}function Toe(i){const e=[],t=[],n=[];let r=i;const s=i-$p+1+BO.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>i-$p?l=BO[o-i+$p-1]:o===0&&(l=0),n.push(l);const c=1/(a-2),u=-c,h=1+c,d=[u,u,h,u,h,h,u,u,h,h,u,h],m=6,g=6,y=3,_=2,v=1,A=new Float32Array(y*g*m),S=new Float32Array(_*g*m),C=new Float32Array(v*g*m);for(let E=0;E<m;E++){const R=E%3*2/3-1,D=E>2?0:-1,I=[R,D,0,R+2/3,D,0,R+2/3,D+1,0,R,D,0,R+2/3,D+1,0,R,D+1,0];A.set(I,y*g*E),S.set(d,_*g*E);const L=[E,E,E,E,E,E];C.set(L,v*g*E)}const T=new Pt;T.setAttribute("position",new Zt(A,y)),T.setAttribute("uv",new Zt(S,_)),T.setAttribute("faceIndex",new Zt(C,v)),e.push(T),r>$p&&r--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function kO(i,e,t){const n=new Sa(i,e,t);return n.texture.mapping=Sg,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function cS(i,e,t,n,r){i.viewport.set(e,t,n,r),i.scissor.set(e,t,n,r)}function Roe(i,e,t){const n=new Float32Array(Rd),r=new V(0,1,0);return new wa({name:"SphericalGaussianBlur",defines:{n:Rd,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:cI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Mc,depthTest:!1,depthWrite:!1})}function NO(){return new wa({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:cI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Mc,depthTest:!1,depthWrite:!1})}function UO(){return new wa({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:cI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Mc,depthTest:!1,depthWrite:!1})}function cI(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Poe(i){let e=new WeakMap,t=null;function n(a){if(a&&a.isTexture){const l=a.mapping,c=l===$v||l===ey,u=l===zc||l===bh;if(c||u){let h=e.get(a);const d=h!==void 0?h.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==d)return t===null&&(t=new M9(i)),h=c?t.fromEquirectangular(a,h):t.fromCubemap(a,h),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),h.texture;if(h!==void 0)return h.texture;{const m=a.image;return c&&m&&m.height>0||u&&m&&r(m)?(t===null&&(t=new M9(i)),h=c?t.fromEquirectangular(a):t.fromCubemap(a),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),a.addEventListener("dispose",s),h.texture):null}}}return a}function r(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:o}}function Ioe(i){const e={};function t(n){if(e[n]!==void 0)return e[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const r=t(n);return r===null&&_m("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function Loe(i,e,t,n){const r={},s=new WeakMap;function o(h){const d=h.target;d.index!==null&&e.remove(d.index);for(const g in d.attributes)e.remove(d.attributes[g]);for(const g in d.morphAttributes){const y=d.morphAttributes[g];for(let _=0,v=y.length;_<v;_++)e.remove(y[_])}d.removeEventListener("dispose",o),delete r[d.id];const m=s.get(d);m&&(e.remove(m),s.delete(d)),n.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,t.memory.geometries--}function a(h,d){return r[d.id]===!0||(d.addEventListener("dispose",o),r[d.id]=!0,t.memory.geometries++),d}function l(h){const d=h.attributes;for(const g in d)e.update(d[g],i.ARRAY_BUFFER);const m=h.morphAttributes;for(const g in m){const y=m[g];for(let _=0,v=y.length;_<v;_++)e.update(y[_],i.ARRAY_BUFFER)}}function c(h){const d=[],m=h.index,g=h.attributes.position;let y=0;if(m!==null){const A=m.array;y=m.version;for(let S=0,C=A.length;S<C;S+=3){const T=A[S+0],E=A[S+1],R=A[S+2];d.push(T,E,E,R,R,T)}}else if(g!==void 0){const A=g.array;y=g.version;for(let S=0,C=A.length/3-1;S<C;S+=3){const T=S+0,E=S+1,R=S+2;d.push(T,E,E,R,R,T)}}else return;const _=new(wV(d)?lI:aI)(d,1);_.version=y;const v=s.get(h);v&&e.remove(v),s.set(h,_)}function u(h){const d=s.get(h);if(d){const m=h.index;m!==null&&d.version<m.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:u}}function Doe(i,e,t){let n;function r(d){n=d}let s,o;function a(d){s=d.type,o=d.bytesPerElement}function l(d,m){i.drawElements(n,m,s,d*o),t.update(m,n,1)}function c(d,m,g){g!==0&&(i.drawElementsInstanced(n,m,s,d*o,g),t.update(m,n,g))}function u(d,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,m,0,s,d,0,g);let _=0;for(let v=0;v<g;v++)_+=m[v];t.update(_,n,1)}function h(d,m,g,y){if(g===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let v=0;v<d.length;v++)c(d[v]/o,m[v],y[v]);else{_.multiDrawElementsInstancedWEBGL(n,m,0,s,d,0,y,0,g);let v=0;for(let A=0;A<g;A++)v+=m[A];for(let A=0;A<y.length;A++)t.update(v,n,y[A])}}this.setMode=r,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=h}function Boe(i){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(s,o,a){switch(t.calls++,o){case i.TRIANGLES:t.triangles+=a*(s/3);break;case i.LINES:t.lines+=a*(s/2);break;case i.LINE_STRIP:t.lines+=a*(s-1);break;case i.LINE_LOOP:t.lines+=a*s;break;case i.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function Foe(i,e,t){const n=new WeakMap,r=new sn;function s(o,a,l){const c=o.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,h=u!==void 0?u.length:0;let d=n.get(a);if(d===void 0||d.count!==h){let I=function(){R.dispose(),n.delete(a),a.removeEventListener("dispose",I)};d!==void 0&&d.texture.dispose();const m=a.morphAttributes.position!==void 0,g=a.morphAttributes.normal!==void 0,y=a.morphAttributes.color!==void 0,_=a.morphAttributes.position||[],v=a.morphAttributes.normal||[],A=a.morphAttributes.color||[];let S=0;m===!0&&(S=1),g===!0&&(S=2),y===!0&&(S=3);let C=a.attributes.position.count*S,T=1;C>e.maxTextureSize&&(T=Math.ceil(C/e.maxTextureSize),C=e.maxTextureSize);const E=new Float32Array(C*T*4*h),R=new qC(E,C,T,h);R.type=hs,R.needsUpdate=!0;const D=S*4;for(let L=0;L<h;L++){const O=_[L],W=v[L],X=A[L],Z=C*T*4*L;for(let $=0;$<O.count;$++){const Q=$*D;m===!0&&(r.fromBufferAttribute(O,$),E[Z+Q+0]=r.x,E[Z+Q+1]=r.y,E[Z+Q+2]=r.z,E[Z+Q+3]=0),g===!0&&(r.fromBufferAttribute(W,$),E[Z+Q+4]=r.x,E[Z+Q+5]=r.y,E[Z+Q+6]=r.z,E[Z+Q+7]=0),y===!0&&(r.fromBufferAttribute(X,$),E[Z+Q+8]=r.x,E[Z+Q+9]=r.y,E[Z+Q+10]=r.z,E[Z+Q+11]=X.itemSize===4?r.w:1)}}d={count:h,texture:R,size:new Se(C,T)},n.set(a,d),a.addEventListener("dispose",I)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(i,"morphTexture",o.morphTexture,t);else{let m=0;for(let y=0;y<c.length;y++)m+=c[y];const g=a.morphTargetsRelative?1:1-m;l.getUniforms().setValue(i,"morphTargetBaseInfluence",g),l.getUniforms().setValue(i,"morphTargetInfluences",c)}l.getUniforms().setValue(i,"morphTargetsTexture",d.texture,t),l.getUniforms().setValue(i,"morphTargetsTextureSize",d.size)}return{update:s}}function Ooe(i,e,t,n){let r=new WeakMap;function s(l){const c=n.render.frame,u=l.geometry,h=e.get(l,u);if(r.get(h)!==c&&(e.update(h),r.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(t.update(l.instanceMatrix,i.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,i.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const d=l.skeleton;r.get(d)!==c&&(d.update(),r.set(d,c))}return h}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}class uI extends Ln{constructor(e,t,n,r,s,o,a,l,c,u=t0){if(u!==t0&&u!==v0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&u===t0&&(n=jc),n===void 0&&u===v0&&(n=g0),super(null,r,s,o,a,l,u,n,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Ri,this.minFilter=l!==void 0?l:Ri,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const DV=new Ln,zO=new uI(1,1),BV=new qC,FV=new oI,OV=new ox,jO=[],HO=[],GO=new Float32Array(16),VO=new Float32Array(9),WO=new Float32Array(4);function Cg(i,e,t){const n=i[0];if(n<=0||n>0)return i;const r=e*t;let s=jO[r];if(s===void 0&&(s=new Float32Array(r),jO[r]=s),e!==0){n.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,i[o].toArray(s,a)}return s}function Pi(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function Ii(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function ZC(i,e){let t=HO[e];t===void 0&&(t=new Int32Array(e),HO[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function koe(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function Noe(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Pi(t,e))return;i.uniform2fv(this.addr,e),Ii(t,e)}}function Uoe(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Pi(t,e))return;i.uniform3fv(this.addr,e),Ii(t,e)}}function zoe(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Pi(t,e))return;i.uniform4fv(this.addr,e),Ii(t,e)}}function joe(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Pi(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),Ii(t,e)}else{if(Pi(t,n))return;WO.set(n),i.uniformMatrix2fv(this.addr,!1,WO),Ii(t,n)}}function Hoe(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Pi(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),Ii(t,e)}else{if(Pi(t,n))return;VO.set(n),i.uniformMatrix3fv(this.addr,!1,VO),Ii(t,n)}}function Goe(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Pi(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),Ii(t,e)}else{if(Pi(t,n))return;GO.set(n),i.uniformMatrix4fv(this.addr,!1,GO),Ii(t,n)}}function Voe(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function Woe(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Pi(t,e))return;i.uniform2iv(this.addr,e),Ii(t,e)}}function Xoe(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Pi(t,e))return;i.uniform3iv(this.addr,e),Ii(t,e)}}function Koe(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Pi(t,e))return;i.uniform4iv(this.addr,e),Ii(t,e)}}function Yoe(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function Joe(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Pi(t,e))return;i.uniform2uiv(this.addr,e),Ii(t,e)}}function qoe(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Pi(t,e))return;i.uniform3uiv(this.addr,e),Ii(t,e)}}function Zoe(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Pi(t,e))return;i.uniform4uiv(this.addr,e),Ii(t,e)}}function Qoe(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r);let s;this.type===i.SAMPLER_2D_SHADOW?(zO.compareFunction=rI,s=zO):s=DV,t.setTexture2D(e||s,r)}function $oe(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||FV,r)}function eae(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||OV,r)}function tae(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||BV,r)}function nae(i){switch(i){case 5126:return koe;case 35664:return Noe;case 35665:return Uoe;case 35666:return zoe;case 35674:return joe;case 35675:return Hoe;case 35676:return Goe;case 5124:case 35670:return Voe;case 35667:case 35671:return Woe;case 35668:case 35672:return Xoe;case 35669:case 35673:return Koe;case 5125:return Yoe;case 36294:return Joe;case 36295:return qoe;case 36296:return Zoe;case 35678:case 36198:case 36298:case 36306:case 35682:return Qoe;case 35679:case 36299:case 36307:return $oe;case 35680:case 36300:case 36308:case 36293:return eae;case 36289:case 36303:case 36311:case 36292:return tae}}function iae(i,e){i.uniform1fv(this.addr,e)}function rae(i,e){const t=Cg(e,this.size,2);i.uniform2fv(this.addr,t)}function sae(i,e){const t=Cg(e,this.size,3);i.uniform3fv(this.addr,t)}function oae(i,e){const t=Cg(e,this.size,4);i.uniform4fv(this.addr,t)}function aae(i,e){const t=Cg(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function lae(i,e){const t=Cg(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function cae(i,e){const t=Cg(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function uae(i,e){i.uniform1iv(this.addr,e)}function hae(i,e){i.uniform2iv(this.addr,e)}function dae(i,e){i.uniform3iv(this.addr,e)}function fae(i,e){i.uniform4iv(this.addr,e)}function pae(i,e){i.uniform1uiv(this.addr,e)}function mae(i,e){i.uniform2uiv(this.addr,e)}function gae(i,e){i.uniform3uiv(this.addr,e)}function vae(i,e){i.uniform4uiv(this.addr,e)}function yae(i,e,t){const n=this.cache,r=e.length,s=ZC(t,r);Pi(n,s)||(i.uniform1iv(this.addr,s),Ii(n,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||DV,s[o])}function _ae(i,e,t){const n=this.cache,r=e.length,s=ZC(t,r);Pi(n,s)||(i.uniform1iv(this.addr,s),Ii(n,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||FV,s[o])}function xae(i,e,t){const n=this.cache,r=e.length,s=ZC(t,r);Pi(n,s)||(i.uniform1iv(this.addr,s),Ii(n,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||OV,s[o])}function Aae(i,e,t){const n=this.cache,r=e.length,s=ZC(t,r);Pi(n,s)||(i.uniform1iv(this.addr,s),Ii(n,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||BV,s[o])}function Sae(i){switch(i){case 5126:return iae;case 35664:return rae;case 35665:return sae;case 35666:return oae;case 35674:return aae;case 35675:return lae;case 35676:return cae;case 5124:case 35670:return uae;case 35667:case 35671:return hae;case 35668:case 35672:return dae;case 35669:case 35673:return fae;case 5125:return pae;case 36294:return mae;case 36295:return gae;case 36296:return vae;case 35678:case 36198:case 36298:case 36306:case 35682:return yae;case 35679:case 36299:case 36307:return _ae;case 35680:case 36300:case 36308:case 36293:return xae;case 36289:case 36303:case 36311:case 36292:return Aae}}class wae{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=nae(t.type)}}class bae{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Sae(t.type)}}class Cae{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],n)}}}const h6=/(\w+)(\])?(\[|\.)?/g;function XO(i,e){i.seq.push(e),i.map[e.id]=e}function Mae(i,e,t){const n=i.name,r=n.length;for(h6.lastIndex=0;;){const s=h6.exec(n),o=h6.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){XO(t,c===void 0?new wae(a,i,e):new bae(a,i,e));break}else{let h=t.map[a];h===void 0&&(h=new Cae(a),XO(t,h)),t=h}}}class g5{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);Mae(s,o,this)}}setValue(e,t,n,r){const s=this.map[t];s!==void 0&&s.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=n[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&n.push(o)}return n}}function KO(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}const Eae=37297;let Tae=0;function Rae(i,e){const t=i.split(`
`),n=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;n.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return n.join(`
`)}function Pae(i){const e=nn.getPrimaries(nn.workingColorSpace),t=nn.getPrimaries(i);let n;switch(e===t?n="":e===ry&&t===iy?n="LinearDisplayP3ToLinearSRGB":e===iy&&t===ry&&(n="LinearSRGBToLinearDisplayP3"),i){case Kc:case rx:return[n,"LinearTransferOETF"];case Mo:case JC:return[n,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",i),[n,"LinearTransferOETF"]}}function YO(i,e,t){const n=i.getShaderParameter(e,i.COMPILE_STATUS),r=i.getShaderInfoLog(e).trim();if(n&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+Rae(i.getShaderSource(e),o)}else return r}function Iae(i,e){const t=Pae(e);return`vec4 ${i}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function Lae(i,e){let t;switch(e){case tV:t="Linear";break;case nV:t="Reinhard";break;case iV:t="OptimizedCineon";break;case X7:t="ACESFilmic";break;case sV:t="AgX";break;case oV:t="Neutral";break;case rV:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const uS=new V;function Dae(){nn.getLuminanceCoefficients(uS);const i=uS.x.toFixed(4),e=uS.y.toFixed(4),t=uS.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Bae(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(F1).join(`
`)}function Fae(i){const e=[];for(const t in i){const n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function Oae(i,e){const t={},n=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){const s=i.getActiveAttrib(e,r),o=s.name;let a=1;s.type===i.FLOAT_MAT2&&(a=2),s.type===i.FLOAT_MAT3&&(a=3),s.type===i.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:i.getAttribLocation(e,o),locationSize:a}}return t}function F1(i){return i!==""}function JO(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function qO(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const kae=/^[ \t]*#include +<([\w\d./]+)>/gm;function E9(i){return i.replace(kae,Uae)}const Nae=new Map;function Uae(i,e){let t=Dt[e];if(t===void 0){const n=Nae.get(e);if(n!==void 0)t=Dt[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return E9(t)}const zae=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ZO(i){return i.replace(zae,jae)}function jae(i,e,t,n){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function QO(i){let e=`precision ${i.precision} float;
	precision ${i.precision} int;
	precision ${i.precision} sampler2D;
	precision ${i.precision} samplerCube;
	precision ${i.precision} sampler3D;
	precision ${i.precision} sampler2DArray;
	precision ${i.precision} sampler2DShadow;
	precision ${i.precision} samplerCubeShadow;
	precision ${i.precision} sampler2DArrayShadow;
	precision ${i.precision} isampler2D;
	precision ${i.precision} isampler3D;
	precision ${i.precision} isamplerCube;
	precision ${i.precision} isampler2DArray;
	precision ${i.precision} usampler2D;
	precision ${i.precision} usampler3D;
	precision ${i.precision} usamplerCube;
	precision ${i.precision} usampler2DArray;
	`;return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Hae(i){let e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===UC?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===hv?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===Zo&&(e="SHADOWMAP_TYPE_VSM"),e}function Gae(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case zc:case bh:e="ENVMAP_TYPE_CUBE";break;case Sg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Vae(i){let e="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case bh:e="ENVMAP_MODE_REFRACTION";break}return e}function Wae(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case nx:e="ENVMAP_BLENDING_MULTIPLY";break;case $G:e="ENVMAP_BLENDING_MIX";break;case eV:e="ENVMAP_BLENDING_ADD";break}return e}function Xae(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function Kae(i,e,t,n){const r=i.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=Hae(t),c=Gae(t),u=Vae(t),h=Wae(t),d=Xae(t),m=Bae(t),g=Fae(s),y=r.createProgram();let _,v,A=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(F1).join(`
`),_.length>0&&(_+=`
`),v=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(F1).join(`
`),v.length>0&&(v+=`
`)):(_=[QO(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(F1).join(`
`),v=[QO(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==ul?"#define TONE_MAPPING":"",t.toneMapping!==ul?Dt.tonemapping_pars_fragment:"",t.toneMapping!==ul?Lae("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Dt.colorspace_pars_fragment,Iae("linearToOutputTexel",t.outputColorSpace),Dae(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(F1).join(`
`)),o=E9(o),o=JO(o,t),o=qO(o,t),a=E9(a),a=JO(a,t),a=qO(a,t),o=ZO(o),a=ZO(a),t.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,_=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,v=["#define varying in",t.glslVersion===C9?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===C9?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const S=A+_+o,C=A+v+a,T=KO(r,r.VERTEX_SHADER,S),E=KO(r,r.FRAGMENT_SHADER,C);r.attachShader(y,T),r.attachShader(y,E),t.index0AttributeName!==void 0?r.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y);function R(O){if(i.debug.checkShaderErrors){const W=r.getProgramInfoLog(y).trim(),X=r.getShaderInfoLog(T).trim(),Z=r.getShaderInfoLog(E).trim();let $=!0,Q=!0;if(r.getProgramParameter(y,r.LINK_STATUS)===!1)if($=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(r,y,T,E);else{const ee=YO(r,T,"vertex"),k=YO(r,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(y,r.VALIDATE_STATUS)+`

Material Name: `+O.name+`
Material Type: `+O.type+`

Program Info Log: `+W+`
`+ee+`
`+k)}else W!==""?console.warn("THREE.WebGLProgram: Program Info Log:",W):(X===""||Z==="")&&(Q=!1);Q&&(O.diagnostics={runnable:$,programLog:W,vertexShader:{log:X,prefix:_},fragmentShader:{log:Z,prefix:v}})}r.deleteShader(T),r.deleteShader(E),D=new g5(r,y),I=Oae(r,y)}let D;this.getUniforms=function(){return D===void 0&&R(this),D};let I;this.getAttributes=function(){return I===void 0&&R(this),I};let L=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return L===!1&&(L=r.getProgramParameter(y,Eae)),L},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Tae++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=T,this.fragmentShader=E,this}let Yae=0;class Jae{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new qae(e),t.set(e,n)),n}}class qae{constructor(e){this.id=Yae++,this.code=e,this.usedTimes=0}}function Zae(i,e,t,n,r,s,o){const a=new i0,l=new Jae,c=new Set,u=[],h=r.logarithmicDepthBuffer,d=r.vertexTextures;let m=r.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(I){return c.add(I),I===0?"uv":`uv${I}`}function _(I,L,O,W,X){const Z=W.fog,$=X.geometry,Q=I.isMeshStandardMaterial?W.environment:null,ee=(I.isMeshStandardMaterial?t:e).get(I.envMap||Q),k=ee&&ee.mapping===Sg?ee.image.height:null,q=g[I.type];I.precision!==null&&(m=r.getMaxPrecision(I.precision),m!==I.precision&&console.warn("THREE.WebGLProgram.getParameters:",I.precision,"not supported, using",m,"instead."));const K=$.morphAttributes.position||$.morphAttributes.normal||$.morphAttributes.color,ne=K!==void 0?K.length:0;let le=0;$.morphAttributes.position!==void 0&&(le=1),$.morphAttributes.normal!==void 0&&(le=2),$.morphAttributes.color!==void 0&&(le=3);let ye,re,pe,Me;if(q){const Ft=ma[q];ye=Ft.vertexShader,re=Ft.fragmentShader}else ye=I.vertexShader,re=I.fragmentShader,l.update(I),pe=l.getVertexShaderID(I),Me=l.getFragmentShaderID(I);const xe=i.getRenderTarget(),We=X.isInstancedMesh===!0,rt=X.isBatchedMesh===!0,Be=!!I.map,He=!!I.matcap,G=!!ee,me=!!I.aoMap,Ae=!!I.lightMap,Ie=!!I.bumpMap,ge=!!I.normalMap,Je=!!I.displacementMap,Ue=!!I.emissiveMap,Ke=!!I.metalnessMap,J=!!I.roughnessMap,N=I.anisotropy>0,ue=I.clearcoat>0,Te=I.dispersion>0,Ee=I.iridescence>0,Re=I.sheen>0,ot=I.transmission>0,Le=N&&!!I.anisotropyMap,Xe=ue&&!!I.clearcoatMap,yt=ue&&!!I.clearcoatNormalMap,De=ue&&!!I.clearcoatRoughnessMap,Ze=Ee&&!!I.iridescenceMap,kt=Ee&&!!I.iridescenceThicknessMap,_t=Re&&!!I.sheenColorMap,et=Re&&!!I.sheenRoughnessMap,ie=!!I.specularMap,be=!!I.specularColorMap,qe=!!I.specularIntensityMap,te=ot&&!!I.transmissionMap,Pe=ot&&!!I.thicknessMap,we=!!I.gradientMap,Ce=!!I.alphaMap,ze=I.alphaTest>0,gt=!!I.alphaHash,Ct=!!I.extensions;let Kt=ul;I.toneMapped&&(xe===null||xe.isXRRenderTarget===!0)&&(Kt=i.toneMapping);const Mn={shaderID:q,shaderType:I.type,shaderName:I.name,vertexShader:ye,fragmentShader:re,defines:I.defines,customVertexShaderID:pe,customFragmentShaderID:Me,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:m,batching:rt,batchingColor:rt&&X._colorsTexture!==null,instancing:We,instancingColor:We&&X.instanceColor!==null,instancingMorph:We&&X.morphTexture!==null,supportsVertexTextures:d,outputColorSpace:xe===null?i.outputColorSpace:xe.isXRRenderTarget===!0?xe.texture.colorSpace:Kc,alphaToCoverage:!!I.alphaToCoverage,map:Be,matcap:He,envMap:G,envMapMode:G&&ee.mapping,envMapCubeUVHeight:k,aoMap:me,lightMap:Ae,bumpMap:Ie,normalMap:ge,displacementMap:d&&Je,emissiveMap:Ue,normalMapObjectSpace:ge&&I.normalMapType===pV,normalMapTangentSpace:ge&&I.normalMapType===Oh,metalnessMap:Ke,roughnessMap:J,anisotropy:N,anisotropyMap:Le,clearcoat:ue,clearcoatMap:Xe,clearcoatNormalMap:yt,clearcoatRoughnessMap:De,dispersion:Te,iridescence:Ee,iridescenceMap:Ze,iridescenceThicknessMap:kt,sheen:Re,sheenColorMap:_t,sheenRoughnessMap:et,specularMap:ie,specularColorMap:be,specularIntensityMap:qe,transmission:ot,transmissionMap:te,thicknessMap:Pe,gradientMap:we,opaque:I.transparent===!1&&I.blending===e0&&I.alphaToCoverage===!1,alphaMap:Ce,alphaTest:ze,alphaHash:gt,combine:I.combine,mapUv:Be&&y(I.map.channel),aoMapUv:me&&y(I.aoMap.channel),lightMapUv:Ae&&y(I.lightMap.channel),bumpMapUv:Ie&&y(I.bumpMap.channel),normalMapUv:ge&&y(I.normalMap.channel),displacementMapUv:Je&&y(I.displacementMap.channel),emissiveMapUv:Ue&&y(I.emissiveMap.channel),metalnessMapUv:Ke&&y(I.metalnessMap.channel),roughnessMapUv:J&&y(I.roughnessMap.channel),anisotropyMapUv:Le&&y(I.anisotropyMap.channel),clearcoatMapUv:Xe&&y(I.clearcoatMap.channel),clearcoatNormalMapUv:yt&&y(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:De&&y(I.clearcoatRoughnessMap.channel),iridescenceMapUv:Ze&&y(I.iridescenceMap.channel),iridescenceThicknessMapUv:kt&&y(I.iridescenceThicknessMap.channel),sheenColorMapUv:_t&&y(I.sheenColorMap.channel),sheenRoughnessMapUv:et&&y(I.sheenRoughnessMap.channel),specularMapUv:ie&&y(I.specularMap.channel),specularColorMapUv:be&&y(I.specularColorMap.channel),specularIntensityMapUv:qe&&y(I.specularIntensityMap.channel),transmissionMapUv:te&&y(I.transmissionMap.channel),thicknessMapUv:Pe&&y(I.thicknessMap.channel),alphaMapUv:Ce&&y(I.alphaMap.channel),vertexTangents:!!$.attributes.tangent&&(ge||N),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!$.attributes.color&&$.attributes.color.itemSize===4,pointsUvs:X.isPoints===!0&&!!$.attributes.uv&&(Be||Ce),fog:!!Z,useFog:I.fog===!0,fogExp2:!!Z&&Z.isFogExp2,flatShading:I.flatShading===!0,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:X.isSkinnedMesh===!0,morphTargets:$.morphAttributes.position!==void 0,morphNormals:$.morphAttributes.normal!==void 0,morphColors:$.morphAttributes.color!==void 0,morphTargetsCount:ne,morphTextureStride:le,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numLightProbes:L.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:I.dithering,shadowMapEnabled:i.shadowMap.enabled&&O.length>0,shadowMapType:i.shadowMap.type,toneMapping:Kt,decodeVideoTexture:Be&&I.map.isVideoTexture===!0&&nn.getTransfer(I.map.colorSpace)===Sn,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===Ro,flipSided:I.side===qr,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionClipCullDistance:Ct&&I.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ct&&I.extensions.multiDraw===!0||rt)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()};return Mn.vertexUv1s=c.has(1),Mn.vertexUv2s=c.has(2),Mn.vertexUv3s=c.has(3),c.clear(),Mn}function v(I){const L=[];if(I.shaderID?L.push(I.shaderID):(L.push(I.customVertexShaderID),L.push(I.customFragmentShaderID)),I.defines!==void 0)for(const O in I.defines)L.push(O),L.push(I.defines[O]);return I.isRawShaderMaterial===!1&&(A(L,I),S(L,I),L.push(i.outputColorSpace)),L.push(I.customProgramCacheKey),L.join()}function A(I,L){I.push(L.precision),I.push(L.outputColorSpace),I.push(L.envMapMode),I.push(L.envMapCubeUVHeight),I.push(L.mapUv),I.push(L.alphaMapUv),I.push(L.lightMapUv),I.push(L.aoMapUv),I.push(L.bumpMapUv),I.push(L.normalMapUv),I.push(L.displacementMapUv),I.push(L.emissiveMapUv),I.push(L.metalnessMapUv),I.push(L.roughnessMapUv),I.push(L.anisotropyMapUv),I.push(L.clearcoatMapUv),I.push(L.clearcoatNormalMapUv),I.push(L.clearcoatRoughnessMapUv),I.push(L.iridescenceMapUv),I.push(L.iridescenceThicknessMapUv),I.push(L.sheenColorMapUv),I.push(L.sheenRoughnessMapUv),I.push(L.specularMapUv),I.push(L.specularColorMapUv),I.push(L.specularIntensityMapUv),I.push(L.transmissionMapUv),I.push(L.thicknessMapUv),I.push(L.combine),I.push(L.fogExp2),I.push(L.sizeAttenuation),I.push(L.morphTargetsCount),I.push(L.morphAttributeCount),I.push(L.numDirLights),I.push(L.numPointLights),I.push(L.numSpotLights),I.push(L.numSpotLightMaps),I.push(L.numHemiLights),I.push(L.numRectAreaLights),I.push(L.numDirLightShadows),I.push(L.numPointLightShadows),I.push(L.numSpotLightShadows),I.push(L.numSpotLightShadowsWithMaps),I.push(L.numLightProbes),I.push(L.shadowMapType),I.push(L.toneMapping),I.push(L.numClippingPlanes),I.push(L.numClipIntersection),I.push(L.depthPacking)}function S(I,L){a.disableAll(),L.supportsVertexTextures&&a.enable(0),L.instancing&&a.enable(1),L.instancingColor&&a.enable(2),L.instancingMorph&&a.enable(3),L.matcap&&a.enable(4),L.envMap&&a.enable(5),L.normalMapObjectSpace&&a.enable(6),L.normalMapTangentSpace&&a.enable(7),L.clearcoat&&a.enable(8),L.iridescence&&a.enable(9),L.alphaTest&&a.enable(10),L.vertexColors&&a.enable(11),L.vertexAlphas&&a.enable(12),L.vertexUv1s&&a.enable(13),L.vertexUv2s&&a.enable(14),L.vertexUv3s&&a.enable(15),L.vertexTangents&&a.enable(16),L.anisotropy&&a.enable(17),L.alphaHash&&a.enable(18),L.batching&&a.enable(19),L.dispersion&&a.enable(20),L.batchingColor&&a.enable(21),I.push(a.mask),a.disableAll(),L.fog&&a.enable(0),L.useFog&&a.enable(1),L.flatShading&&a.enable(2),L.logarithmicDepthBuffer&&a.enable(3),L.skinning&&a.enable(4),L.morphTargets&&a.enable(5),L.morphNormals&&a.enable(6),L.morphColors&&a.enable(7),L.premultipliedAlpha&&a.enable(8),L.shadowMapEnabled&&a.enable(9),L.doubleSided&&a.enable(10),L.flipSided&&a.enable(11),L.useDepthPacking&&a.enable(12),L.dithering&&a.enable(13),L.transmission&&a.enable(14),L.sheen&&a.enable(15),L.opaque&&a.enable(16),L.pointsUvs&&a.enable(17),L.decodeVideoTexture&&a.enable(18),L.alphaToCoverage&&a.enable(19),I.push(a.mask)}function C(I){const L=g[I.type];let O;if(L){const W=ma[L];O=RV.clone(W.uniforms)}else O=I.uniforms;return O}function T(I,L){let O;for(let W=0,X=u.length;W<X;W++){const Z=u[W];if(Z.cacheKey===L){O=Z,++O.usedTimes;break}}return O===void 0&&(O=new Kae(i,L,I,s),u.push(O)),O}function E(I){if(--I.usedTimes===0){const L=u.indexOf(I);u[L]=u[u.length-1],u.pop(),I.destroy()}}function R(I){l.remove(I)}function D(){l.dispose()}return{getParameters:_,getProgramCacheKey:v,getUniforms:C,acquireProgram:T,releaseProgram:E,releaseShaderCache:R,programs:u,dispose:D}}function Qae(){let i=new WeakMap;function e(s){let o=i.get(s);return o===void 0&&(o={},i.set(s,o)),o}function t(s){i.delete(s)}function n(s,o,a){i.get(s)[o]=a}function r(){i=new WeakMap}return{get:e,remove:t,update:n,dispose:r}}function $ae(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function $O(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function ek(){const i=[];let e=0;const t=[],n=[],r=[];function s(){e=0,t.length=0,n.length=0,r.length=0}function o(h,d,m,g,y,_){let v=i[e];return v===void 0?(v={id:h.id,object:h,geometry:d,material:m,groupOrder:g,renderOrder:h.renderOrder,z:y,group:_},i[e]=v):(v.id=h.id,v.object=h,v.geometry=d,v.material=m,v.groupOrder=g,v.renderOrder=h.renderOrder,v.z=y,v.group=_),e++,v}function a(h,d,m,g,y,_){const v=o(h,d,m,g,y,_);m.transmission>0?n.push(v):m.transparent===!0?r.push(v):t.push(v)}function l(h,d,m,g,y,_){const v=o(h,d,m,g,y,_);m.transmission>0?n.unshift(v):m.transparent===!0?r.unshift(v):t.unshift(v)}function c(h,d){t.length>1&&t.sort(h||$ae),n.length>1&&n.sort(d||$O),r.length>1&&r.sort(d||$O)}function u(){for(let h=e,d=i.length;h<d;h++){const m=i[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:n,transparent:r,init:s,push:a,unshift:l,finish:u,sort:c}}function ele(){let i=new WeakMap;function e(n,r){const s=i.get(n);let o;return s===void 0?(o=new ek,i.set(n,[o])):r>=s.length?(o=new ek,s.push(o)):o=s[r],o}function t(){i=new WeakMap}return{get:e,dispose:t}}function tle(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new V,color:new Ge};break;case"SpotLight":t={position:new V,direction:new V,color:new Ge,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new V,color:new Ge,distance:0,decay:0};break;case"HemisphereLight":t={direction:new V,skyColor:new Ge,groundColor:new Ge};break;case"RectAreaLight":t={color:new Ge,position:new V,halfWidth:new V,halfHeight:new V};break}return i[e.id]=t,t}}}function nle(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Se};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Se};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Se,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}let ile=0;function rle(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function sle(i){const e=new tle,t=nle(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)n.probe.push(new V);const r=new V,s=new pt,o=new pt;function a(c){let u=0,h=0,d=0;for(let I=0;I<9;I++)n.probe[I].set(0,0,0);let m=0,g=0,y=0,_=0,v=0,A=0,S=0,C=0,T=0,E=0,R=0;c.sort(rle);for(let I=0,L=c.length;I<L;I++){const O=c[I],W=O.color,X=O.intensity,Z=O.distance,$=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)u+=W.r*X,h+=W.g*X,d+=W.b*X;else if(O.isLightProbe){for(let Q=0;Q<9;Q++)n.probe[Q].addScaledVector(O.sh.coefficients[Q],X);R++}else if(O.isDirectionalLight){const Q=e.get(O);if(Q.color.copy(O.color).multiplyScalar(O.intensity),O.castShadow){const ee=O.shadow,k=t.get(O);k.shadowIntensity=ee.intensity,k.shadowBias=ee.bias,k.shadowNormalBias=ee.normalBias,k.shadowRadius=ee.radius,k.shadowMapSize=ee.mapSize,n.directionalShadow[m]=k,n.directionalShadowMap[m]=$,n.directionalShadowMatrix[m]=O.shadow.matrix,A++}n.directional[m]=Q,m++}else if(O.isSpotLight){const Q=e.get(O);Q.position.setFromMatrixPosition(O.matrixWorld),Q.color.copy(W).multiplyScalar(X),Q.distance=Z,Q.coneCos=Math.cos(O.angle),Q.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),Q.decay=O.decay,n.spot[y]=Q;const ee=O.shadow;if(O.map&&(n.spotLightMap[T]=O.map,T++,ee.updateMatrices(O),O.castShadow&&E++),n.spotLightMatrix[y]=ee.matrix,O.castShadow){const k=t.get(O);k.shadowIntensity=ee.intensity,k.shadowBias=ee.bias,k.shadowNormalBias=ee.normalBias,k.shadowRadius=ee.radius,k.shadowMapSize=ee.mapSize,n.spotShadow[y]=k,n.spotShadowMap[y]=$,C++}y++}else if(O.isRectAreaLight){const Q=e.get(O);Q.color.copy(W).multiplyScalar(X),Q.halfWidth.set(O.width*.5,0,0),Q.halfHeight.set(0,O.height*.5,0),n.rectArea[_]=Q,_++}else if(O.isPointLight){const Q=e.get(O);if(Q.color.copy(O.color).multiplyScalar(O.intensity),Q.distance=O.distance,Q.decay=O.decay,O.castShadow){const ee=O.shadow,k=t.get(O);k.shadowIntensity=ee.intensity,k.shadowBias=ee.bias,k.shadowNormalBias=ee.normalBias,k.shadowRadius=ee.radius,k.shadowMapSize=ee.mapSize,k.shadowCameraNear=ee.camera.near,k.shadowCameraFar=ee.camera.far,n.pointShadow[g]=k,n.pointShadowMap[g]=$,n.pointShadowMatrix[g]=O.shadow.matrix,S++}n.point[g]=Q,g++}else if(O.isHemisphereLight){const Q=e.get(O);Q.skyColor.copy(O.color).multiplyScalar(X),Q.groundColor.copy(O.groundColor).multiplyScalar(X),n.hemi[v]=Q,v++}}_>0&&(i.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=Ve.LTC_FLOAT_1,n.rectAreaLTC2=Ve.LTC_FLOAT_2):(n.rectAreaLTC1=Ve.LTC_HALF_1,n.rectAreaLTC2=Ve.LTC_HALF_2)),n.ambient[0]=u,n.ambient[1]=h,n.ambient[2]=d;const D=n.hash;(D.directionalLength!==m||D.pointLength!==g||D.spotLength!==y||D.rectAreaLength!==_||D.hemiLength!==v||D.numDirectionalShadows!==A||D.numPointShadows!==S||D.numSpotShadows!==C||D.numSpotMaps!==T||D.numLightProbes!==R)&&(n.directional.length=m,n.spot.length=y,n.rectArea.length=_,n.point.length=g,n.hemi.length=v,n.directionalShadow.length=A,n.directionalShadowMap.length=A,n.pointShadow.length=S,n.pointShadowMap.length=S,n.spotShadow.length=C,n.spotShadowMap.length=C,n.directionalShadowMatrix.length=A,n.pointShadowMatrix.length=S,n.spotLightMatrix.length=C+T-E,n.spotLightMap.length=T,n.numSpotLightShadowsWithMaps=E,n.numLightProbes=R,D.directionalLength=m,D.pointLength=g,D.spotLength=y,D.rectAreaLength=_,D.hemiLength=v,D.numDirectionalShadows=A,D.numPointShadows=S,D.numSpotShadows=C,D.numSpotMaps=T,D.numLightProbes=R,n.version=ile++)}function l(c,u){let h=0,d=0,m=0,g=0,y=0;const _=u.matrixWorldInverse;for(let v=0,A=c.length;v<A;v++){const S=c[v];if(S.isDirectionalLight){const C=n.directional[h];C.direction.setFromMatrixPosition(S.matrixWorld),r.setFromMatrixPosition(S.target.matrixWorld),C.direction.sub(r),C.direction.transformDirection(_),h++}else if(S.isSpotLight){const C=n.spot[m];C.position.setFromMatrixPosition(S.matrixWorld),C.position.applyMatrix4(_),C.direction.setFromMatrixPosition(S.matrixWorld),r.setFromMatrixPosition(S.target.matrixWorld),C.direction.sub(r),C.direction.transformDirection(_),m++}else if(S.isRectAreaLight){const C=n.rectArea[g];C.position.setFromMatrixPosition(S.matrixWorld),C.position.applyMatrix4(_),o.identity(),s.copy(S.matrixWorld),s.premultiply(_),o.extractRotation(s),C.halfWidth.set(S.width*.5,0,0),C.halfHeight.set(0,S.height*.5,0),C.halfWidth.applyMatrix4(o),C.halfHeight.applyMatrix4(o),g++}else if(S.isPointLight){const C=n.point[d];C.position.setFromMatrixPosition(S.matrixWorld),C.position.applyMatrix4(_),d++}else if(S.isHemisphereLight){const C=n.hemi[y];C.direction.setFromMatrixPosition(S.matrixWorld),C.direction.transformDirection(_),y++}}}return{setup:a,setupView:l,state:n}}function tk(i){const e=new sle(i),t=[],n=[];function r(u){c.camera=u,t.length=0,n.length=0}function s(u){t.push(u)}function o(u){n.push(u)}function a(){e.setup(t)}function l(u){e.setupView(t,u)}const c={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function ole(i){let e=new WeakMap;function t(r,s=0){const o=e.get(r);let a;return o===void 0?(a=new tk(i),e.set(r,[a])):s>=o.length?(a=new tk(i),o.push(a)):a=o[s],a}function n(){e=new WeakMap}return{get:t,dispose:n}}class hI extends _i{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=dV,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class dI extends _i{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const ale=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,lle=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function cle(i,e,t){let n=new ax;const r=new Se,s=new Se,o=new sn,a=new hI({depthPacking:fV}),l=new dI,c={},u=t.maxTextureSize,h={[ml]:qr,[qr]:ml,[Ro]:Ro},d=new wa({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Se},radius:{value:4}},vertexShader:ale,fragmentShader:lle}),m=d.clone();m.defines.HORIZONTAL_PASS=1;const g=new Pt;g.setAttribute("position",new Zt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new ci(g,d),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=UC;let v=this.type;this.render=function(E,R,D){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||E.length===0)return;const I=i.getRenderTarget(),L=i.getActiveCubeFace(),O=i.getActiveMipmapLevel(),W=i.state;W.setBlending(Mc),W.buffers.color.setClear(1,1,1,1),W.buffers.depth.setTest(!0),W.setScissorTest(!1);const X=v!==Zo&&this.type===Zo,Z=v===Zo&&this.type!==Zo;for(let $=0,Q=E.length;$<Q;$++){const ee=E[$],k=ee.shadow;if(k===void 0){console.warn("THREE.WebGLShadowMap:",ee,"has no shadow.");continue}if(k.autoUpdate===!1&&k.needsUpdate===!1)continue;r.copy(k.mapSize);const q=k.getFrameExtents();if(r.multiply(q),s.copy(k.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/q.x),r.x=s.x*q.x,k.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/q.y),r.y=s.y*q.y,k.mapSize.y=s.y)),k.map===null||X===!0||Z===!0){const ne=this.type!==Zo?{minFilter:Ri,magFilter:Ri}:{};k.map!==null&&k.map.dispose(),k.map=new Sa(r.x,r.y,ne),k.map.texture.name=ee.name+".shadowMap",k.camera.updateProjectionMatrix()}i.setRenderTarget(k.map),i.clear();const K=k.getViewportCount();for(let ne=0;ne<K;ne++){const le=k.getViewport(ne);o.set(s.x*le.x,s.y*le.y,s.x*le.z,s.y*le.w),W.viewport(o),k.updateMatrices(ee,ne),n=k.getFrustum(),C(R,D,k.camera,ee,this.type)}k.isPointLightShadow!==!0&&this.type===Zo&&A(k,D),k.needsUpdate=!1}v=this.type,_.needsUpdate=!1,i.setRenderTarget(I,L,O)};function A(E,R){const D=e.update(y);d.defines.VSM_SAMPLES!==E.blurSamples&&(d.defines.VSM_SAMPLES=E.blurSamples,m.defines.VSM_SAMPLES=E.blurSamples,d.needsUpdate=!0,m.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new Sa(r.x,r.y)),d.uniforms.shadow_pass.value=E.map.texture,d.uniforms.resolution.value=E.mapSize,d.uniforms.radius.value=E.radius,i.setRenderTarget(E.mapPass),i.clear(),i.renderBufferDirect(R,null,D,d,y,null),m.uniforms.shadow_pass.value=E.mapPass.texture,m.uniforms.resolution.value=E.mapSize,m.uniforms.radius.value=E.radius,i.setRenderTarget(E.map),i.clear(),i.renderBufferDirect(R,null,D,m,y,null)}function S(E,R,D,I){let L=null;const O=D.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(O!==void 0)L=O;else if(L=D.isPointLight===!0?l:a,i.localClippingEnabled&&R.clipShadows===!0&&Array.isArray(R.clippingPlanes)&&R.clippingPlanes.length!==0||R.displacementMap&&R.displacementScale!==0||R.alphaMap&&R.alphaTest>0||R.map&&R.alphaTest>0){const W=L.uuid,X=R.uuid;let Z=c[W];Z===void 0&&(Z={},c[W]=Z);let $=Z[X];$===void 0&&($=L.clone(),Z[X]=$,R.addEventListener("dispose",T)),L=$}if(L.visible=R.visible,L.wireframe=R.wireframe,I===Zo?L.side=R.shadowSide!==null?R.shadowSide:R.side:L.side=R.shadowSide!==null?R.shadowSide:h[R.side],L.alphaMap=R.alphaMap,L.alphaTest=R.alphaTest,L.map=R.map,L.clipShadows=R.clipShadows,L.clippingPlanes=R.clippingPlanes,L.clipIntersection=R.clipIntersection,L.displacementMap=R.displacementMap,L.displacementScale=R.displacementScale,L.displacementBias=R.displacementBias,L.wireframeLinewidth=R.wireframeLinewidth,L.linewidth=R.linewidth,D.isPointLight===!0&&L.isMeshDistanceMaterial===!0){const W=i.properties.get(L);W.light=D}return L}function C(E,R,D,I,L){if(E.visible===!1)return;if(E.layers.test(R.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&L===Zo)&&(!E.frustumCulled||n.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,E.matrixWorld);const X=e.update(E),Z=E.material;if(Array.isArray(Z)){const $=X.groups;for(let Q=0,ee=$.length;Q<ee;Q++){const k=$[Q],q=Z[k.materialIndex];if(q&&q.visible){const K=S(E,q,I,L);E.onBeforeShadow(i,E,R,D,X,K,k),i.renderBufferDirect(D,null,X,K,E,k),E.onAfterShadow(i,E,R,D,X,K,k)}}}else if(Z.visible){const $=S(E,Z,I,L);E.onBeforeShadow(i,E,R,D,X,$,null),i.renderBufferDirect(D,null,X,$,E,null),E.onAfterShadow(i,E,R,D,X,$,null)}}const W=E.children;for(let X=0,Z=W.length;X<Z;X++)C(W[X],R,D,I,L)}function T(E){E.target.removeEventListener("dispose",T);for(const D in c){const I=c[D],L=E.target.uuid;L in I&&(I[L].dispose(),delete I[L])}}}function ule(i){function e(){let te=!1;const Pe=new sn;let we=null;const Ce=new sn(0,0,0,0);return{setMask:function(ze){we!==ze&&!te&&(i.colorMask(ze,ze,ze,ze),we=ze)},setLocked:function(ze){te=ze},setClear:function(ze,gt,Ct,Kt,Mn){Mn===!0&&(ze*=Kt,gt*=Kt,Ct*=Kt),Pe.set(ze,gt,Ct,Kt),Ce.equals(Pe)===!1&&(i.clearColor(ze,gt,Ct,Kt),Ce.copy(Pe))},reset:function(){te=!1,we=null,Ce.set(-1,0,0,0)}}}function t(){let te=!1,Pe=null,we=null,Ce=null;return{setTest:function(ze){ze?Me(i.DEPTH_TEST):xe(i.DEPTH_TEST)},setMask:function(ze){Pe!==ze&&!te&&(i.depthMask(ze),Pe=ze)},setFunc:function(ze){if(we!==ze){switch(ze){case XG:i.depthFunc(i.NEVER);break;case KG:i.depthFunc(i.ALWAYS);break;case YG:i.depthFunc(i.LESS);break;case Qv:i.depthFunc(i.LEQUAL);break;case JG:i.depthFunc(i.EQUAL);break;case qG:i.depthFunc(i.GEQUAL);break;case ZG:i.depthFunc(i.GREATER);break;case QG:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}we=ze}},setLocked:function(ze){te=ze},setClear:function(ze){Ce!==ze&&(i.clearDepth(ze),Ce=ze)},reset:function(){te=!1,Pe=null,we=null,Ce=null}}}function n(){let te=!1,Pe=null,we=null,Ce=null,ze=null,gt=null,Ct=null,Kt=null,Mn=null;return{setTest:function(Ft){te||(Ft?Me(i.STENCIL_TEST):xe(i.STENCIL_TEST))},setMask:function(Ft){Pe!==Ft&&!te&&(i.stencilMask(Ft),Pe=Ft)},setFunc:function(Ft,Li,Di){(we!==Ft||Ce!==Li||ze!==Di)&&(i.stencilFunc(Ft,Li,Di),we=Ft,Ce=Li,ze=Di)},setOp:function(Ft,Li,Di){(gt!==Ft||Ct!==Li||Kt!==Di)&&(i.stencilOp(Ft,Li,Di),gt=Ft,Ct=Li,Kt=Di)},setLocked:function(Ft){te=Ft},setClear:function(Ft){Mn!==Ft&&(i.clearStencil(Ft),Mn=Ft)},reset:function(){te=!1,Pe=null,we=null,Ce=null,ze=null,gt=null,Ct=null,Kt=null,Mn=null}}}const r=new e,s=new t,o=new n,a=new WeakMap,l=new WeakMap;let c={},u={},h=new WeakMap,d=[],m=null,g=!1,y=null,_=null,v=null,A=null,S=null,C=null,T=null,E=new Ge(0,0,0),R=0,D=!1,I=null,L=null,O=null,W=null,X=null;const Z=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let $=!1,Q=0;const ee=i.getParameter(i.VERSION);ee.indexOf("WebGL")!==-1?(Q=parseFloat(/^WebGL (\d)/.exec(ee)[1]),$=Q>=1):ee.indexOf("OpenGL ES")!==-1&&(Q=parseFloat(/^OpenGL ES (\d)/.exec(ee)[1]),$=Q>=2);let k=null,q={};const K=i.getParameter(i.SCISSOR_BOX),ne=i.getParameter(i.VIEWPORT),le=new sn().fromArray(K),ye=new sn().fromArray(ne);function re(te,Pe,we,Ce){const ze=new Uint8Array(4),gt=i.createTexture();i.bindTexture(te,gt),i.texParameteri(te,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(te,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let Ct=0;Ct<we;Ct++)te===i.TEXTURE_3D||te===i.TEXTURE_2D_ARRAY?i.texImage3D(Pe,0,i.RGBA,1,1,Ce,0,i.RGBA,i.UNSIGNED_BYTE,ze):i.texImage2D(Pe+Ct,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,ze);return gt}const pe={};pe[i.TEXTURE_2D]=re(i.TEXTURE_2D,i.TEXTURE_2D,1),pe[i.TEXTURE_CUBE_MAP]=re(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),pe[i.TEXTURE_2D_ARRAY]=re(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),pe[i.TEXTURE_3D]=re(i.TEXTURE_3D,i.TEXTURE_3D,1,1),r.setClear(0,0,0,1),s.setClear(1),o.setClear(0),Me(i.DEPTH_TEST),s.setFunc(Qv),Ie(!1),ge(_9),Me(i.CULL_FACE),me(Mc);function Me(te){c[te]!==!0&&(i.enable(te),c[te]=!0)}function xe(te){c[te]!==!1&&(i.disable(te),c[te]=!1)}function We(te,Pe){return u[te]!==Pe?(i.bindFramebuffer(te,Pe),u[te]=Pe,te===i.DRAW_FRAMEBUFFER&&(u[i.FRAMEBUFFER]=Pe),te===i.FRAMEBUFFER&&(u[i.DRAW_FRAMEBUFFER]=Pe),!0):!1}function rt(te,Pe){let we=d,Ce=!1;if(te){we=h.get(Pe),we===void 0&&(we=[],h.set(Pe,we));const ze=te.textures;if(we.length!==ze.length||we[0]!==i.COLOR_ATTACHMENT0){for(let gt=0,Ct=ze.length;gt<Ct;gt++)we[gt]=i.COLOR_ATTACHMENT0+gt;we.length=ze.length,Ce=!0}}else we[0]!==i.BACK&&(we[0]=i.BACK,Ce=!0);Ce&&i.drawBuffers(we)}function Be(te){return m!==te?(i.useProgram(te),m=te,!0):!1}const He={[bu]:i.FUNC_ADD,[RG]:i.FUNC_SUBTRACT,[PG]:i.FUNC_REVERSE_SUBTRACT};He[IG]=i.MIN,He[LG]=i.MAX;const G={[DG]:i.ZERO,[BG]:i.ONE,[FG]:i.SRC_COLOR,[Cw]:i.SRC_ALPHA,[jG]:i.SRC_ALPHA_SATURATE,[UG]:i.DST_COLOR,[kG]:i.DST_ALPHA,[OG]:i.ONE_MINUS_SRC_COLOR,[Mw]:i.ONE_MINUS_SRC_ALPHA,[zG]:i.ONE_MINUS_DST_COLOR,[NG]:i.ONE_MINUS_DST_ALPHA,[HG]:i.CONSTANT_COLOR,[GG]:i.ONE_MINUS_CONSTANT_COLOR,[VG]:i.CONSTANT_ALPHA,[WG]:i.ONE_MINUS_CONSTANT_ALPHA};function me(te,Pe,we,Ce,ze,gt,Ct,Kt,Mn,Ft){if(te===Mc){g===!0&&(xe(i.BLEND),g=!1);return}if(g===!1&&(Me(i.BLEND),g=!0),te!==TG){if(te!==y||Ft!==D){if((_!==bu||S!==bu)&&(i.blendEquation(i.FUNC_ADD),_=bu,S=bu),Ft)switch(te){case e0:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case x9:i.blendFunc(i.ONE,i.ONE);break;case A9:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case S9:i.blendFuncSeparate(i.ZERO,i.SRC_COLOR,i.ZERO,i.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}else switch(te){case e0:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case x9:i.blendFunc(i.SRC_ALPHA,i.ONE);break;case A9:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case S9:i.blendFunc(i.ZERO,i.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}v=null,A=null,C=null,T=null,E.set(0,0,0),R=0,y=te,D=Ft}return}ze=ze||Pe,gt=gt||we,Ct=Ct||Ce,(Pe!==_||ze!==S)&&(i.blendEquationSeparate(He[Pe],He[ze]),_=Pe,S=ze),(we!==v||Ce!==A||gt!==C||Ct!==T)&&(i.blendFuncSeparate(G[we],G[Ce],G[gt],G[Ct]),v=we,A=Ce,C=gt,T=Ct),(Kt.equals(E)===!1||Mn!==R)&&(i.blendColor(Kt.r,Kt.g,Kt.b,Mn),E.copy(Kt),R=Mn),y=te,D=!1}function Ae(te,Pe){te.side===Ro?xe(i.CULL_FACE):Me(i.CULL_FACE);let we=te.side===qr;Pe&&(we=!we),Ie(we),te.blending===e0&&te.transparent===!1?me(Mc):me(te.blending,te.blendEquation,te.blendSrc,te.blendDst,te.blendEquationAlpha,te.blendSrcAlpha,te.blendDstAlpha,te.blendColor,te.blendAlpha,te.premultipliedAlpha),s.setFunc(te.depthFunc),s.setTest(te.depthTest),s.setMask(te.depthWrite),r.setMask(te.colorWrite);const Ce=te.stencilWrite;o.setTest(Ce),Ce&&(o.setMask(te.stencilWriteMask),o.setFunc(te.stencilFunc,te.stencilRef,te.stencilFuncMask),o.setOp(te.stencilFail,te.stencilZFail,te.stencilZPass)),Ue(te.polygonOffset,te.polygonOffsetFactor,te.polygonOffsetUnits),te.alphaToCoverage===!0?Me(i.SAMPLE_ALPHA_TO_COVERAGE):xe(i.SAMPLE_ALPHA_TO_COVERAGE)}function Ie(te){I!==te&&(te?i.frontFace(i.CW):i.frontFace(i.CCW),I=te)}function ge(te){te!==CG?(Me(i.CULL_FACE),te!==L&&(te===_9?i.cullFace(i.BACK):te===MG?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):xe(i.CULL_FACE),L=te}function Je(te){te!==O&&($&&i.lineWidth(te),O=te)}function Ue(te,Pe,we){te?(Me(i.POLYGON_OFFSET_FILL),(W!==Pe||X!==we)&&(i.polygonOffset(Pe,we),W=Pe,X=we)):xe(i.POLYGON_OFFSET_FILL)}function Ke(te){te?Me(i.SCISSOR_TEST):xe(i.SCISSOR_TEST)}function J(te){te===void 0&&(te=i.TEXTURE0+Z-1),k!==te&&(i.activeTexture(te),k=te)}function N(te,Pe,we){we===void 0&&(k===null?we=i.TEXTURE0+Z-1:we=k);let Ce=q[we];Ce===void 0&&(Ce={type:void 0,texture:void 0},q[we]=Ce),(Ce.type!==te||Ce.texture!==Pe)&&(k!==we&&(i.activeTexture(we),k=we),i.bindTexture(te,Pe||pe[te]),Ce.type=te,Ce.texture=Pe)}function ue(){const te=q[k];te!==void 0&&te.type!==void 0&&(i.bindTexture(te.type,null),te.type=void 0,te.texture=void 0)}function Te(){try{i.compressedTexImage2D.apply(i,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Ee(){try{i.compressedTexImage3D.apply(i,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Re(){try{i.texSubImage2D.apply(i,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ot(){try{i.texSubImage3D.apply(i,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Le(){try{i.compressedTexSubImage2D.apply(i,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Xe(){try{i.compressedTexSubImage3D.apply(i,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function yt(){try{i.texStorage2D.apply(i,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function De(){try{i.texStorage3D.apply(i,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Ze(){try{i.texImage2D.apply(i,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function kt(){try{i.texImage3D.apply(i,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function _t(te){le.equals(te)===!1&&(i.scissor(te.x,te.y,te.z,te.w),le.copy(te))}function et(te){ye.equals(te)===!1&&(i.viewport(te.x,te.y,te.z,te.w),ye.copy(te))}function ie(te,Pe){let we=l.get(Pe);we===void 0&&(we=new WeakMap,l.set(Pe,we));let Ce=we.get(te);Ce===void 0&&(Ce=i.getUniformBlockIndex(Pe,te.name),we.set(te,Ce))}function be(te,Pe){const Ce=l.get(Pe).get(te);a.get(Pe)!==Ce&&(i.uniformBlockBinding(Pe,Ce,te.__bindingPointIndex),a.set(Pe,Ce))}function qe(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),c={},k=null,q={},u={},h=new WeakMap,d=[],m=null,g=!1,y=null,_=null,v=null,A=null,S=null,C=null,T=null,E=new Ge(0,0,0),R=0,D=!1,I=null,L=null,O=null,W=null,X=null,le.set(0,0,i.canvas.width,i.canvas.height),ye.set(0,0,i.canvas.width,i.canvas.height),r.reset(),s.reset(),o.reset()}return{buffers:{color:r,depth:s,stencil:o},enable:Me,disable:xe,bindFramebuffer:We,drawBuffers:rt,useProgram:Be,setBlending:me,setMaterial:Ae,setFlipSided:Ie,setCullFace:ge,setLineWidth:Je,setPolygonOffset:Ue,setScissorTest:Ke,activeTexture:J,bindTexture:N,unbindTexture:ue,compressedTexImage2D:Te,compressedTexImage3D:Ee,texImage2D:Ze,texImage3D:kt,updateUBOMapping:ie,uniformBlockBinding:be,texStorage2D:yt,texStorage3D:De,texSubImage2D:Re,texSubImage3D:ot,compressedTexSubImage2D:Le,compressedTexSubImage3D:Xe,scissor:_t,viewport:et,reset:qe}}function hle(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2):(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0),i}function dle(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0):(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2),i}function fle(i){return i.repeat.x=1,i.repeat.y=1,i.offset.x=0,i.offset.y=0,i}function T9(i,e,t,n){const r=ple(n);switch(t){case q7:return i*e;case Q7:return i*e;case $7:return i*e*2;case WC:return i*e/r.components*r.byteLength;case ix:return i*e/r.components*r.byteLength;case eI:return i*e*2/r.components*r.byteLength;case XC:return i*e*2/r.components*r.byteLength;case Z7:return i*e*3/r.components*r.byteLength;case Rr:return i*e*4/r.components*r.byteLength;case KC:return i*e*4/r.components*r.byteLength;case dv:case fv:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case pv:case mv:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case Tw:case Pw:return Math.max(i,16)*Math.max(e,8)/4;case Ew:case Rw:return Math.max(i,8)*Math.max(e,8)/2;case Iw:case Lw:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case Dw:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case Bw:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case Fw:return Math.floor((i+4)/5)*Math.floor((e+3)/4)*16;case Ow:return Math.floor((i+4)/5)*Math.floor((e+4)/5)*16;case kw:return Math.floor((i+5)/6)*Math.floor((e+4)/5)*16;case Nw:return Math.floor((i+5)/6)*Math.floor((e+5)/6)*16;case Uw:return Math.floor((i+7)/8)*Math.floor((e+4)/5)*16;case zw:return Math.floor((i+7)/8)*Math.floor((e+5)/6)*16;case jw:return Math.floor((i+7)/8)*Math.floor((e+7)/8)*16;case Hw:return Math.floor((i+9)/10)*Math.floor((e+4)/5)*16;case Gw:return Math.floor((i+9)/10)*Math.floor((e+5)/6)*16;case Vw:return Math.floor((i+9)/10)*Math.floor((e+7)/8)*16;case Ww:return Math.floor((i+9)/10)*Math.floor((e+9)/10)*16;case Xw:return Math.floor((i+11)/12)*Math.floor((e+9)/10)*16;case Kw:return Math.floor((i+11)/12)*Math.floor((e+11)/12)*16;case gv:case Yw:case Jw:return Math.ceil(i/4)*Math.ceil(e/4)*16;case tI:case qw:return Math.ceil(i/4)*Math.ceil(e/4)*8;case Zw:case Qw:return Math.ceil(i/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function ple(i){switch(i){case Aa:case K7:return{byteLength:1,components:1};case ig:case Y7:case wg:return{byteLength:2,components:1};case GC:case VC:return{byteLength:2,components:4};case jc:case HC:case hs:return{byteLength:4,components:1};case J7:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}const mle={contain:hle,cover:dle,fill:fle,getByteLength:T9};function gle(i,e,t,n,r,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Se,u=new WeakMap;let h;const d=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(J,N){return m?new OffscreenCanvas(J,N):ay("canvas")}function y(J,N,ue){let Te=1;const Ee=Ke(J);if((Ee.width>ue||Ee.height>ue)&&(Te=ue/Math.max(Ee.width,Ee.height)),Te<1)if(typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&J instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&J instanceof ImageBitmap||typeof VideoFrame<"u"&&J instanceof VideoFrame){const Re=Math.floor(Te*Ee.width),ot=Math.floor(Te*Ee.height);h===void 0&&(h=g(Re,ot));const Le=N?g(Re,ot):h;return Le.width=Re,Le.height=ot,Le.getContext("2d").drawImage(J,0,0,Re,ot),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ee.width+"x"+Ee.height+") to ("+Re+"x"+ot+")."),Le}else return"data"in J&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ee.width+"x"+Ee.height+")."),J;return J}function _(J){return J.generateMipmaps&&J.minFilter!==Ri&&J.minFilter!==$n}function v(J){i.generateMipmap(J)}function A(J,N,ue,Te,Ee=!1){if(J!==null){if(i[J]!==void 0)return i[J];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+J+"'")}let Re=N;if(N===i.RED&&(ue===i.FLOAT&&(Re=i.R32F),ue===i.HALF_FLOAT&&(Re=i.R16F),ue===i.UNSIGNED_BYTE&&(Re=i.R8)),N===i.RED_INTEGER&&(ue===i.UNSIGNED_BYTE&&(Re=i.R8UI),ue===i.UNSIGNED_SHORT&&(Re=i.R16UI),ue===i.UNSIGNED_INT&&(Re=i.R32UI),ue===i.BYTE&&(Re=i.R8I),ue===i.SHORT&&(Re=i.R16I),ue===i.INT&&(Re=i.R32I)),N===i.RG&&(ue===i.FLOAT&&(Re=i.RG32F),ue===i.HALF_FLOAT&&(Re=i.RG16F),ue===i.UNSIGNED_BYTE&&(Re=i.RG8)),N===i.RG_INTEGER&&(ue===i.UNSIGNED_BYTE&&(Re=i.RG8UI),ue===i.UNSIGNED_SHORT&&(Re=i.RG16UI),ue===i.UNSIGNED_INT&&(Re=i.RG32UI),ue===i.BYTE&&(Re=i.RG8I),ue===i.SHORT&&(Re=i.RG16I),ue===i.INT&&(Re=i.RG32I)),N===i.RGB&&ue===i.UNSIGNED_INT_5_9_9_9_REV&&(Re=i.RGB9_E5),N===i.RGBA){const ot=Ee?ny:nn.getTransfer(Te);ue===i.FLOAT&&(Re=i.RGBA32F),ue===i.HALF_FLOAT&&(Re=i.RGBA16F),ue===i.UNSIGNED_BYTE&&(Re=ot===Sn?i.SRGB8_ALPHA8:i.RGBA8),ue===i.UNSIGNED_SHORT_4_4_4_4&&(Re=i.RGBA4),ue===i.UNSIGNED_SHORT_5_5_5_1&&(Re=i.RGB5_A1)}return(Re===i.R16F||Re===i.R32F||Re===i.RG16F||Re===i.RG32F||Re===i.RGBA16F||Re===i.RGBA32F)&&e.get("EXT_color_buffer_float"),Re}function S(J,N){let ue;return J?N===null||N===jc||N===g0?ue=i.DEPTH24_STENCIL8:N===hs?ue=i.DEPTH32F_STENCIL8:N===ig&&(ue=i.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):N===null||N===jc||N===g0?ue=i.DEPTH_COMPONENT24:N===hs?ue=i.DEPTH_COMPONENT32F:N===ig&&(ue=i.DEPTH_COMPONENT16),ue}function C(J,N){return _(J)===!0||J.isFramebufferTexture&&J.minFilter!==Ri&&J.minFilter!==$n?Math.log2(Math.max(N.width,N.height))+1:J.mipmaps!==void 0&&J.mipmaps.length>0?J.mipmaps.length:J.isCompressedTexture&&Array.isArray(J.image)?N.mipmaps.length:1}function T(J){const N=J.target;N.removeEventListener("dispose",T),R(N),N.isVideoTexture&&u.delete(N)}function E(J){const N=J.target;N.removeEventListener("dispose",E),I(N)}function R(J){const N=n.get(J);if(N.__webglInit===void 0)return;const ue=J.source,Te=d.get(ue);if(Te){const Ee=Te[N.__cacheKey];Ee.usedTimes--,Ee.usedTimes===0&&D(J),Object.keys(Te).length===0&&d.delete(ue)}n.remove(J)}function D(J){const N=n.get(J);i.deleteTexture(N.__webglTexture);const ue=J.source,Te=d.get(ue);delete Te[N.__cacheKey],o.memory.textures--}function I(J){const N=n.get(J);if(J.depthTexture&&J.depthTexture.dispose(),J.isWebGLCubeRenderTarget)for(let Te=0;Te<6;Te++){if(Array.isArray(N.__webglFramebuffer[Te]))for(let Ee=0;Ee<N.__webglFramebuffer[Te].length;Ee++)i.deleteFramebuffer(N.__webglFramebuffer[Te][Ee]);else i.deleteFramebuffer(N.__webglFramebuffer[Te]);N.__webglDepthbuffer&&i.deleteRenderbuffer(N.__webglDepthbuffer[Te])}else{if(Array.isArray(N.__webglFramebuffer))for(let Te=0;Te<N.__webglFramebuffer.length;Te++)i.deleteFramebuffer(N.__webglFramebuffer[Te]);else i.deleteFramebuffer(N.__webglFramebuffer);if(N.__webglDepthbuffer&&i.deleteRenderbuffer(N.__webglDepthbuffer),N.__webglMultisampledFramebuffer&&i.deleteFramebuffer(N.__webglMultisampledFramebuffer),N.__webglColorRenderbuffer)for(let Te=0;Te<N.__webglColorRenderbuffer.length;Te++)N.__webglColorRenderbuffer[Te]&&i.deleteRenderbuffer(N.__webglColorRenderbuffer[Te]);N.__webglDepthRenderbuffer&&i.deleteRenderbuffer(N.__webglDepthRenderbuffer)}const ue=J.textures;for(let Te=0,Ee=ue.length;Te<Ee;Te++){const Re=n.get(ue[Te]);Re.__webglTexture&&(i.deleteTexture(Re.__webglTexture),o.memory.textures--),n.remove(ue[Te])}n.remove(J)}let L=0;function O(){L=0}function W(){const J=L;return J>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+J+" texture units while this GPU supports only "+r.maxTextures),L+=1,J}function X(J){const N=[];return N.push(J.wrapS),N.push(J.wrapT),N.push(J.wrapR||0),N.push(J.magFilter),N.push(J.minFilter),N.push(J.anisotropy),N.push(J.internalFormat),N.push(J.format),N.push(J.type),N.push(J.generateMipmaps),N.push(J.premultiplyAlpha),N.push(J.flipY),N.push(J.unpackAlignment),N.push(J.colorSpace),N.join()}function Z(J,N){const ue=n.get(J);if(J.isVideoTexture&&Je(J),J.isRenderTargetTexture===!1&&J.version>0&&ue.__version!==J.version){const Te=J.image;if(Te===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Te.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ye(ue,J,N);return}}t.bindTexture(i.TEXTURE_2D,ue.__webglTexture,i.TEXTURE0+N)}function $(J,N){const ue=n.get(J);if(J.version>0&&ue.__version!==J.version){ye(ue,J,N);return}t.bindTexture(i.TEXTURE_2D_ARRAY,ue.__webglTexture,i.TEXTURE0+N)}function Q(J,N){const ue=n.get(J);if(J.version>0&&ue.__version!==J.version){ye(ue,J,N);return}t.bindTexture(i.TEXTURE_3D,ue.__webglTexture,i.TEXTURE0+N)}function ee(J,N){const ue=n.get(J);if(J.version>0&&ue.__version!==J.version){re(ue,J,N);return}t.bindTexture(i.TEXTURE_CUBE_MAP,ue.__webglTexture,i.TEXTURE0+N)}const k={[Ch]:i.REPEAT,[Ws]:i.CLAMP_TO_EDGE,[ng]:i.MIRRORED_REPEAT},q={[Ri]:i.NEAREST,[jC]:i.NEAREST_MIPMAP_NEAREST,[Fd]:i.NEAREST_MIPMAP_LINEAR,[$n]:i.LINEAR,[ym]:i.LINEAR_MIPMAP_NEAREST,[Lo]:i.LINEAR_MIPMAP_LINEAR},K={[mV]:i.NEVER,[AV]:i.ALWAYS,[gV]:i.LESS,[rI]:i.LEQUAL,[vV]:i.EQUAL,[xV]:i.GEQUAL,[yV]:i.GREATER,[_V]:i.NOTEQUAL};function ne(J,N){if(N.type===hs&&e.has("OES_texture_float_linear")===!1&&(N.magFilter===$n||N.magFilter===ym||N.magFilter===Fd||N.magFilter===Lo||N.minFilter===$n||N.minFilter===ym||N.minFilter===Fd||N.minFilter===Lo)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri(J,i.TEXTURE_WRAP_S,k[N.wrapS]),i.texParameteri(J,i.TEXTURE_WRAP_T,k[N.wrapT]),(J===i.TEXTURE_3D||J===i.TEXTURE_2D_ARRAY)&&i.texParameteri(J,i.TEXTURE_WRAP_R,k[N.wrapR]),i.texParameteri(J,i.TEXTURE_MAG_FILTER,q[N.magFilter]),i.texParameteri(J,i.TEXTURE_MIN_FILTER,q[N.minFilter]),N.compareFunction&&(i.texParameteri(J,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(J,i.TEXTURE_COMPARE_FUNC,K[N.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(N.magFilter===Ri||N.minFilter!==Fd&&N.minFilter!==Lo||N.type===hs&&e.has("OES_texture_float_linear")===!1)return;if(N.anisotropy>1||n.get(N).__currentAnisotropy){const ue=e.get("EXT_texture_filter_anisotropic");i.texParameterf(J,ue.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(N.anisotropy,r.getMaxAnisotropy())),n.get(N).__currentAnisotropy=N.anisotropy}}}function le(J,N){let ue=!1;J.__webglInit===void 0&&(J.__webglInit=!0,N.addEventListener("dispose",T));const Te=N.source;let Ee=d.get(Te);Ee===void 0&&(Ee={},d.set(Te,Ee));const Re=X(N);if(Re!==J.__cacheKey){Ee[Re]===void 0&&(Ee[Re]={texture:i.createTexture(),usedTimes:0},o.memory.textures++,ue=!0),Ee[Re].usedTimes++;const ot=Ee[J.__cacheKey];ot!==void 0&&(Ee[J.__cacheKey].usedTimes--,ot.usedTimes===0&&D(N)),J.__cacheKey=Re,J.__webglTexture=Ee[Re].texture}return ue}function ye(J,N,ue){let Te=i.TEXTURE_2D;(N.isDataArrayTexture||N.isCompressedArrayTexture)&&(Te=i.TEXTURE_2D_ARRAY),N.isData3DTexture&&(Te=i.TEXTURE_3D);const Ee=le(J,N),Re=N.source;t.bindTexture(Te,J.__webglTexture,i.TEXTURE0+ue);const ot=n.get(Re);if(Re.version!==ot.__version||Ee===!0){t.activeTexture(i.TEXTURE0+ue);const Le=nn.getPrimaries(nn.workingColorSpace),Xe=N.colorSpace===yc?null:nn.getPrimaries(N.colorSpace),yt=N.colorSpace===yc||Le===Xe?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,N.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,N.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,yt);let De=y(N.image,!1,r.maxTextureSize);De=Ue(N,De);const Ze=s.convert(N.format,N.colorSpace),kt=s.convert(N.type);let _t=A(N.internalFormat,Ze,kt,N.colorSpace,N.isVideoTexture);ne(Te,N);let et;const ie=N.mipmaps,be=N.isVideoTexture!==!0,qe=ot.__version===void 0||Ee===!0,te=Re.dataReady,Pe=C(N,De);if(N.isDepthTexture)_t=S(N.format===v0,N.type),qe&&(be?t.texStorage2D(i.TEXTURE_2D,1,_t,De.width,De.height):t.texImage2D(i.TEXTURE_2D,0,_t,De.width,De.height,0,Ze,kt,null));else if(N.isDataTexture)if(ie.length>0){be&&qe&&t.texStorage2D(i.TEXTURE_2D,Pe,_t,ie[0].width,ie[0].height);for(let we=0,Ce=ie.length;we<Ce;we++)et=ie[we],be?te&&t.texSubImage2D(i.TEXTURE_2D,we,0,0,et.width,et.height,Ze,kt,et.data):t.texImage2D(i.TEXTURE_2D,we,_t,et.width,et.height,0,Ze,kt,et.data);N.generateMipmaps=!1}else be?(qe&&t.texStorage2D(i.TEXTURE_2D,Pe,_t,De.width,De.height),te&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,De.width,De.height,Ze,kt,De.data)):t.texImage2D(i.TEXTURE_2D,0,_t,De.width,De.height,0,Ze,kt,De.data);else if(N.isCompressedTexture)if(N.isCompressedArrayTexture){be&&qe&&t.texStorage3D(i.TEXTURE_2D_ARRAY,Pe,_t,ie[0].width,ie[0].height,De.depth);for(let we=0,Ce=ie.length;we<Ce;we++)if(et=ie[we],N.format!==Rr)if(Ze!==null)if(be){if(te)if(N.layerUpdates.size>0){const ze=T9(et.width,et.height,N.format,N.type);for(const gt of N.layerUpdates){const Ct=et.data.subarray(gt*ze/et.data.BYTES_PER_ELEMENT,(gt+1)*ze/et.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,we,0,0,gt,et.width,et.height,1,Ze,Ct,0,0)}N.clearLayerUpdates()}else t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,we,0,0,0,et.width,et.height,De.depth,Ze,et.data,0,0)}else t.compressedTexImage3D(i.TEXTURE_2D_ARRAY,we,_t,et.width,et.height,De.depth,0,et.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else be?te&&t.texSubImage3D(i.TEXTURE_2D_ARRAY,we,0,0,0,et.width,et.height,De.depth,Ze,kt,et.data):t.texImage3D(i.TEXTURE_2D_ARRAY,we,_t,et.width,et.height,De.depth,0,Ze,kt,et.data)}else{be&&qe&&t.texStorage2D(i.TEXTURE_2D,Pe,_t,ie[0].width,ie[0].height);for(let we=0,Ce=ie.length;we<Ce;we++)et=ie[we],N.format!==Rr?Ze!==null?be?te&&t.compressedTexSubImage2D(i.TEXTURE_2D,we,0,0,et.width,et.height,Ze,et.data):t.compressedTexImage2D(i.TEXTURE_2D,we,_t,et.width,et.height,0,et.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):be?te&&t.texSubImage2D(i.TEXTURE_2D,we,0,0,et.width,et.height,Ze,kt,et.data):t.texImage2D(i.TEXTURE_2D,we,_t,et.width,et.height,0,Ze,kt,et.data)}else if(N.isDataArrayTexture)if(be){if(qe&&t.texStorage3D(i.TEXTURE_2D_ARRAY,Pe,_t,De.width,De.height,De.depth),te)if(N.layerUpdates.size>0){const we=T9(De.width,De.height,N.format,N.type);for(const Ce of N.layerUpdates){const ze=De.data.subarray(Ce*we/De.data.BYTES_PER_ELEMENT,(Ce+1)*we/De.data.BYTES_PER_ELEMENT);t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,Ce,De.width,De.height,1,Ze,kt,ze)}N.clearLayerUpdates()}else t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,De.width,De.height,De.depth,Ze,kt,De.data)}else t.texImage3D(i.TEXTURE_2D_ARRAY,0,_t,De.width,De.height,De.depth,0,Ze,kt,De.data);else if(N.isData3DTexture)be?(qe&&t.texStorage3D(i.TEXTURE_3D,Pe,_t,De.width,De.height,De.depth),te&&t.texSubImage3D(i.TEXTURE_3D,0,0,0,0,De.width,De.height,De.depth,Ze,kt,De.data)):t.texImage3D(i.TEXTURE_3D,0,_t,De.width,De.height,De.depth,0,Ze,kt,De.data);else if(N.isFramebufferTexture){if(qe)if(be)t.texStorage2D(i.TEXTURE_2D,Pe,_t,De.width,De.height);else{let we=De.width,Ce=De.height;for(let ze=0;ze<Pe;ze++)t.texImage2D(i.TEXTURE_2D,ze,_t,we,Ce,0,Ze,kt,null),we>>=1,Ce>>=1}}else if(ie.length>0){if(be&&qe){const we=Ke(ie[0]);t.texStorage2D(i.TEXTURE_2D,Pe,_t,we.width,we.height)}for(let we=0,Ce=ie.length;we<Ce;we++)et=ie[we],be?te&&t.texSubImage2D(i.TEXTURE_2D,we,0,0,Ze,kt,et):t.texImage2D(i.TEXTURE_2D,we,_t,Ze,kt,et);N.generateMipmaps=!1}else if(be){if(qe){const we=Ke(De);t.texStorage2D(i.TEXTURE_2D,Pe,_t,we.width,we.height)}te&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,Ze,kt,De)}else t.texImage2D(i.TEXTURE_2D,0,_t,Ze,kt,De);_(N)&&v(Te),ot.__version=Re.version,N.onUpdate&&N.onUpdate(N)}J.__version=N.version}function re(J,N,ue){if(N.image.length!==6)return;const Te=le(J,N),Ee=N.source;t.bindTexture(i.TEXTURE_CUBE_MAP,J.__webglTexture,i.TEXTURE0+ue);const Re=n.get(Ee);if(Ee.version!==Re.__version||Te===!0){t.activeTexture(i.TEXTURE0+ue);const ot=nn.getPrimaries(nn.workingColorSpace),Le=N.colorSpace===yc?null:nn.getPrimaries(N.colorSpace),Xe=N.colorSpace===yc||ot===Le?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,N.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,N.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,Xe);const yt=N.isCompressedTexture||N.image[0].isCompressedTexture,De=N.image[0]&&N.image[0].isDataTexture,Ze=[];for(let Ce=0;Ce<6;Ce++)!yt&&!De?Ze[Ce]=y(N.image[Ce],!0,r.maxCubemapSize):Ze[Ce]=De?N.image[Ce].image:N.image[Ce],Ze[Ce]=Ue(N,Ze[Ce]);const kt=Ze[0],_t=s.convert(N.format,N.colorSpace),et=s.convert(N.type),ie=A(N.internalFormat,_t,et,N.colorSpace),be=N.isVideoTexture!==!0,qe=Re.__version===void 0||Te===!0,te=Ee.dataReady;let Pe=C(N,kt);ne(i.TEXTURE_CUBE_MAP,N);let we;if(yt){be&&qe&&t.texStorage2D(i.TEXTURE_CUBE_MAP,Pe,ie,kt.width,kt.height);for(let Ce=0;Ce<6;Ce++){we=Ze[Ce].mipmaps;for(let ze=0;ze<we.length;ze++){const gt=we[ze];N.format!==Rr?_t!==null?be?te&&t.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,ze,0,0,gt.width,gt.height,_t,gt.data):t.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,ze,ie,gt.width,gt.height,0,gt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):be?te&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,ze,0,0,gt.width,gt.height,_t,et,gt.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,ze,ie,gt.width,gt.height,0,_t,et,gt.data)}}}else{if(we=N.mipmaps,be&&qe){we.length>0&&Pe++;const Ce=Ke(Ze[0]);t.texStorage2D(i.TEXTURE_CUBE_MAP,Pe,ie,Ce.width,Ce.height)}for(let Ce=0;Ce<6;Ce++)if(De){be?te&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,0,0,Ze[Ce].width,Ze[Ce].height,_t,et,Ze[Ce].data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,ie,Ze[Ce].width,Ze[Ce].height,0,_t,et,Ze[Ce].data);for(let ze=0;ze<we.length;ze++){const Ct=we[ze].image[Ce].image;be?te&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,ze+1,0,0,Ct.width,Ct.height,_t,et,Ct.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,ze+1,ie,Ct.width,Ct.height,0,_t,et,Ct.data)}}else{be?te&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,0,0,_t,et,Ze[Ce]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,ie,_t,et,Ze[Ce]);for(let ze=0;ze<we.length;ze++){const gt=we[ze];be?te&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,ze+1,0,0,_t,et,gt.image[Ce]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,ze+1,ie,_t,et,gt.image[Ce])}}}_(N)&&v(i.TEXTURE_CUBE_MAP),Re.__version=Ee.version,N.onUpdate&&N.onUpdate(N)}J.__version=N.version}function pe(J,N,ue,Te,Ee,Re){const ot=s.convert(ue.format,ue.colorSpace),Le=s.convert(ue.type),Xe=A(ue.internalFormat,ot,Le,ue.colorSpace);if(!n.get(N).__hasExternalTextures){const De=Math.max(1,N.width>>Re),Ze=Math.max(1,N.height>>Re);Ee===i.TEXTURE_3D||Ee===i.TEXTURE_2D_ARRAY?t.texImage3D(Ee,Re,Xe,De,Ze,N.depth,0,ot,Le,null):t.texImage2D(Ee,Re,Xe,De,Ze,0,ot,Le,null)}t.bindFramebuffer(i.FRAMEBUFFER,J),ge(N)?a.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,Te,Ee,n.get(ue).__webglTexture,0,Ie(N)):(Ee===i.TEXTURE_2D||Ee>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&Ee<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,Te,Ee,n.get(ue).__webglTexture,Re),t.bindFramebuffer(i.FRAMEBUFFER,null)}function Me(J,N,ue){if(i.bindRenderbuffer(i.RENDERBUFFER,J),N.depthBuffer){const Te=N.depthTexture,Ee=Te&&Te.isDepthTexture?Te.type:null,Re=S(N.stencilBuffer,Ee),ot=N.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Le=Ie(N);ge(N)?a.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Le,Re,N.width,N.height):ue?i.renderbufferStorageMultisample(i.RENDERBUFFER,Le,Re,N.width,N.height):i.renderbufferStorage(i.RENDERBUFFER,Re,N.width,N.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,ot,i.RENDERBUFFER,J)}else{const Te=N.textures;for(let Ee=0;Ee<Te.length;Ee++){const Re=Te[Ee],ot=s.convert(Re.format,Re.colorSpace),Le=s.convert(Re.type),Xe=A(Re.internalFormat,ot,Le,Re.colorSpace),yt=Ie(N);ue&&ge(N)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,yt,Xe,N.width,N.height):ge(N)?a.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,yt,Xe,N.width,N.height):i.renderbufferStorage(i.RENDERBUFFER,Xe,N.width,N.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function xe(J,N){if(N&&N.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(i.FRAMEBUFFER,J),!(N.depthTexture&&N.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(N.depthTexture).__webglTexture||N.depthTexture.image.width!==N.width||N.depthTexture.image.height!==N.height)&&(N.depthTexture.image.width=N.width,N.depthTexture.image.height=N.height,N.depthTexture.needsUpdate=!0),Z(N.depthTexture,0);const Te=n.get(N.depthTexture).__webglTexture,Ee=Ie(N);if(N.depthTexture.format===t0)ge(N)?a.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Te,0,Ee):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Te,0);else if(N.depthTexture.format===v0)ge(N)?a.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Te,0,Ee):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Te,0);else throw new Error("Unknown depthTexture format")}function We(J){const N=n.get(J),ue=J.isWebGLCubeRenderTarget===!0;if(J.depthTexture&&!N.__autoAllocateDepthBuffer){if(ue)throw new Error("target.depthTexture not supported in Cube render targets");xe(N.__webglFramebuffer,J)}else if(ue){N.__webglDepthbuffer=[];for(let Te=0;Te<6;Te++)t.bindFramebuffer(i.FRAMEBUFFER,N.__webglFramebuffer[Te]),N.__webglDepthbuffer[Te]=i.createRenderbuffer(),Me(N.__webglDepthbuffer[Te],J,!1)}else t.bindFramebuffer(i.FRAMEBUFFER,N.__webglFramebuffer),N.__webglDepthbuffer=i.createRenderbuffer(),Me(N.__webglDepthbuffer,J,!1);t.bindFramebuffer(i.FRAMEBUFFER,null)}function rt(J,N,ue){const Te=n.get(J);N!==void 0&&pe(Te.__webglFramebuffer,J,J.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),ue!==void 0&&We(J)}function Be(J){const N=J.texture,ue=n.get(J),Te=n.get(N);J.addEventListener("dispose",E);const Ee=J.textures,Re=J.isWebGLCubeRenderTarget===!0,ot=Ee.length>1;if(ot||(Te.__webglTexture===void 0&&(Te.__webglTexture=i.createTexture()),Te.__version=N.version,o.memory.textures++),Re){ue.__webglFramebuffer=[];for(let Le=0;Le<6;Le++)if(N.mipmaps&&N.mipmaps.length>0){ue.__webglFramebuffer[Le]=[];for(let Xe=0;Xe<N.mipmaps.length;Xe++)ue.__webglFramebuffer[Le][Xe]=i.createFramebuffer()}else ue.__webglFramebuffer[Le]=i.createFramebuffer()}else{if(N.mipmaps&&N.mipmaps.length>0){ue.__webglFramebuffer=[];for(let Le=0;Le<N.mipmaps.length;Le++)ue.__webglFramebuffer[Le]=i.createFramebuffer()}else ue.__webglFramebuffer=i.createFramebuffer();if(ot)for(let Le=0,Xe=Ee.length;Le<Xe;Le++){const yt=n.get(Ee[Le]);yt.__webglTexture===void 0&&(yt.__webglTexture=i.createTexture(),o.memory.textures++)}if(J.samples>0&&ge(J)===!1){ue.__webglMultisampledFramebuffer=i.createFramebuffer(),ue.__webglColorRenderbuffer=[],t.bindFramebuffer(i.FRAMEBUFFER,ue.__webglMultisampledFramebuffer);for(let Le=0;Le<Ee.length;Le++){const Xe=Ee[Le];ue.__webglColorRenderbuffer[Le]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,ue.__webglColorRenderbuffer[Le]);const yt=s.convert(Xe.format,Xe.colorSpace),De=s.convert(Xe.type),Ze=A(Xe.internalFormat,yt,De,Xe.colorSpace,J.isXRRenderTarget===!0),kt=Ie(J);i.renderbufferStorageMultisample(i.RENDERBUFFER,kt,Ze,J.width,J.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Le,i.RENDERBUFFER,ue.__webglColorRenderbuffer[Le])}i.bindRenderbuffer(i.RENDERBUFFER,null),J.depthBuffer&&(ue.__webglDepthRenderbuffer=i.createRenderbuffer(),Me(ue.__webglDepthRenderbuffer,J,!0)),t.bindFramebuffer(i.FRAMEBUFFER,null)}}if(Re){t.bindTexture(i.TEXTURE_CUBE_MAP,Te.__webglTexture),ne(i.TEXTURE_CUBE_MAP,N);for(let Le=0;Le<6;Le++)if(N.mipmaps&&N.mipmaps.length>0)for(let Xe=0;Xe<N.mipmaps.length;Xe++)pe(ue.__webglFramebuffer[Le][Xe],J,N,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Xe);else pe(ue.__webglFramebuffer[Le],J,N,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0);_(N)&&v(i.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ot){for(let Le=0,Xe=Ee.length;Le<Xe;Le++){const yt=Ee[Le],De=n.get(yt);t.bindTexture(i.TEXTURE_2D,De.__webglTexture),ne(i.TEXTURE_2D,yt),pe(ue.__webglFramebuffer,J,yt,i.COLOR_ATTACHMENT0+Le,i.TEXTURE_2D,0),_(yt)&&v(i.TEXTURE_2D)}t.unbindTexture()}else{let Le=i.TEXTURE_2D;if((J.isWebGL3DRenderTarget||J.isWebGLArrayRenderTarget)&&(Le=J.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(Le,Te.__webglTexture),ne(Le,N),N.mipmaps&&N.mipmaps.length>0)for(let Xe=0;Xe<N.mipmaps.length;Xe++)pe(ue.__webglFramebuffer[Xe],J,N,i.COLOR_ATTACHMENT0,Le,Xe);else pe(ue.__webglFramebuffer,J,N,i.COLOR_ATTACHMENT0,Le,0);_(N)&&v(Le),t.unbindTexture()}J.depthBuffer&&We(J)}function He(J){const N=J.textures;for(let ue=0,Te=N.length;ue<Te;ue++){const Ee=N[ue];if(_(Ee)){const Re=J.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:i.TEXTURE_2D,ot=n.get(Ee).__webglTexture;t.bindTexture(Re,ot),v(Re),t.unbindTexture()}}}const G=[],me=[];function Ae(J){if(J.samples>0){if(ge(J)===!1){const N=J.textures,ue=J.width,Te=J.height;let Ee=i.COLOR_BUFFER_BIT;const Re=J.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,ot=n.get(J),Le=N.length>1;if(Le)for(let Xe=0;Xe<N.length;Xe++)t.bindFramebuffer(i.FRAMEBUFFER,ot.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Xe,i.RENDERBUFFER,null),t.bindFramebuffer(i.FRAMEBUFFER,ot.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+Xe,i.TEXTURE_2D,null,0);t.bindFramebuffer(i.READ_FRAMEBUFFER,ot.__webglMultisampledFramebuffer),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,ot.__webglFramebuffer);for(let Xe=0;Xe<N.length;Xe++){if(J.resolveDepthBuffer&&(J.depthBuffer&&(Ee|=i.DEPTH_BUFFER_BIT),J.stencilBuffer&&J.resolveStencilBuffer&&(Ee|=i.STENCIL_BUFFER_BIT)),Le){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,ot.__webglColorRenderbuffer[Xe]);const yt=n.get(N[Xe]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,yt,0)}i.blitFramebuffer(0,0,ue,Te,0,0,ue,Te,Ee,i.NEAREST),l===!0&&(G.length=0,me.length=0,G.push(i.COLOR_ATTACHMENT0+Xe),J.depthBuffer&&J.resolveDepthBuffer===!1&&(G.push(Re),me.push(Re),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,me)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,G))}if(t.bindFramebuffer(i.READ_FRAMEBUFFER,null),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),Le)for(let Xe=0;Xe<N.length;Xe++){t.bindFramebuffer(i.FRAMEBUFFER,ot.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Xe,i.RENDERBUFFER,ot.__webglColorRenderbuffer[Xe]);const yt=n.get(N[Xe]).__webglTexture;t.bindFramebuffer(i.FRAMEBUFFER,ot.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+Xe,i.TEXTURE_2D,yt,0)}t.bindFramebuffer(i.DRAW_FRAMEBUFFER,ot.__webglMultisampledFramebuffer)}else if(J.depthBuffer&&J.resolveDepthBuffer===!1&&l){const N=J.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[N])}}}function Ie(J){return Math.min(r.maxSamples,J.samples)}function ge(J){const N=n.get(J);return J.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&N.__useRenderToTexture!==!1}function Je(J){const N=o.render.frame;u.get(J)!==N&&(u.set(J,N),J.update())}function Ue(J,N){const ue=J.colorSpace,Te=J.format,Ee=J.type;return J.isCompressedTexture===!0||J.isVideoTexture===!0||ue!==Kc&&ue!==yc&&(nn.getTransfer(ue)===Sn?(Te!==Rr||Ee!==Aa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ue)),N}function Ke(J){return typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement?(c.width=J.naturalWidth||J.width,c.height=J.naturalHeight||J.height):typeof VideoFrame<"u"&&J instanceof VideoFrame?(c.width=J.displayWidth,c.height=J.displayHeight):(c.width=J.width,c.height=J.height),c}this.allocateTextureUnit=W,this.resetTextureUnits=O,this.setTexture2D=Z,this.setTexture2DArray=$,this.setTexture3D=Q,this.setTextureCube=ee,this.rebindTextures=rt,this.setupRenderTarget=Be,this.updateRenderTargetMipmap=He,this.updateMultisampleRenderTarget=Ae,this.setupDepthRenderbuffer=We,this.setupFrameBufferTexture=pe,this.useMultisampledRTT=ge}function kV(i,e){function t(n,r=yc){let s;const o=nn.getTransfer(r);if(n===Aa)return i.UNSIGNED_BYTE;if(n===GC)return i.UNSIGNED_SHORT_4_4_4_4;if(n===VC)return i.UNSIGNED_SHORT_5_5_5_1;if(n===J7)return i.UNSIGNED_INT_5_9_9_9_REV;if(n===K7)return i.BYTE;if(n===Y7)return i.SHORT;if(n===ig)return i.UNSIGNED_SHORT;if(n===HC)return i.INT;if(n===jc)return i.UNSIGNED_INT;if(n===hs)return i.FLOAT;if(n===wg)return i.HALF_FLOAT;if(n===q7)return i.ALPHA;if(n===Z7)return i.RGB;if(n===Rr)return i.RGBA;if(n===Q7)return i.LUMINANCE;if(n===$7)return i.LUMINANCE_ALPHA;if(n===t0)return i.DEPTH_COMPONENT;if(n===v0)return i.DEPTH_STENCIL;if(n===WC)return i.RED;if(n===ix)return i.RED_INTEGER;if(n===eI)return i.RG;if(n===XC)return i.RG_INTEGER;if(n===KC)return i.RGBA_INTEGER;if(n===dv||n===fv||n===pv||n===mv)if(o===Sn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(n===dv)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===fv)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===pv)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===mv)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(n===dv)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===fv)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===pv)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===mv)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===Ew||n===Tw||n===Rw||n===Pw)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(n===Ew)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Tw)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Rw)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Pw)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===Iw||n===Lw||n===Dw)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(n===Iw||n===Lw)return o===Sn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(n===Dw)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===Bw||n===Fw||n===Ow||n===kw||n===Nw||n===Uw||n===zw||n===jw||n===Hw||n===Gw||n===Vw||n===Ww||n===Xw||n===Kw)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(n===Bw)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Fw)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Ow)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===kw)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Nw)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Uw)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===zw)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===jw)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Hw)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Gw)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Vw)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Ww)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Xw)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Kw)return o===Sn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===gv||n===Yw||n===Jw)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(n===gv)return o===Sn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===Yw)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===Jw)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===tI||n===qw||n===Zw||n===Qw)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(n===gv)return s.COMPRESSED_RED_RGTC1_EXT;if(n===qw)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===Zw)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===Qw)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===g0?i.UNSIGNED_INT_24_8:i[n]!==void 0?i[n]:null}return{convert:t}}class NV extends Pn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Sc extends zt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const vle={type:"move"};class d6{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Sc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Sc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new V,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new V),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Sc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new V,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new V),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const y of e.hand.values()){const _=t.getJointPose(y,n),v=this._getHandJoint(c,y);_!==null&&(v.matrix.fromArray(_.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=_.radius),v.visible=_!==null}const u=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],d=u.position.distanceTo(h.position),m=.02,g=.005;c.inputState.pinching&&d>m+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=m-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,n),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(vle)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new Sc;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}const yle=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_le=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class xle{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(this.texture===null){const r=new Ln,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!=n.depthNear||t.depthFar!=n.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new wa({vertexShader:yle,fragmentShader:_le,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new ci(new bg(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Ale extends yl{constructor(e,t){super();const n=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,h=null,d=null,m=null,g=null;const y=new xle,_=t.getContextAttributes();let v=null,A=null;const S=[],C=[],T=new Se;let E=null;const R=new Pn;R.layers.enable(1),R.viewport=new sn;const D=new Pn;D.layers.enable(2),D.viewport=new sn;const I=[R,D],L=new NV;L.layers.enable(1),L.layers.enable(2);let O=null,W=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(re){let pe=S[re];return pe===void 0&&(pe=new d6,S[re]=pe),pe.getTargetRaySpace()},this.getControllerGrip=function(re){let pe=S[re];return pe===void 0&&(pe=new d6,S[re]=pe),pe.getGripSpace()},this.getHand=function(re){let pe=S[re];return pe===void 0&&(pe=new d6,S[re]=pe),pe.getHandSpace()};function X(re){const pe=C.indexOf(re.inputSource);if(pe===-1)return;const Me=S[pe];Me!==void 0&&(Me.update(re.inputSource,re.frame,c||o),Me.dispatchEvent({type:re.type,data:re.inputSource}))}function Z(){r.removeEventListener("select",X),r.removeEventListener("selectstart",X),r.removeEventListener("selectend",X),r.removeEventListener("squeeze",X),r.removeEventListener("squeezestart",X),r.removeEventListener("squeezeend",X),r.removeEventListener("end",Z),r.removeEventListener("inputsourceschange",$);for(let re=0;re<S.length;re++){const pe=C[re];pe!==null&&(C[re]=null,S[re].disconnect(pe))}O=null,W=null,y.reset(),e.setRenderTarget(v),m=null,d=null,h=null,r=null,A=null,ye.stop(),n.isPresenting=!1,e.setPixelRatio(E),e.setSize(T.width,T.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(re){s=re,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(re){a=re,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(re){c=re},this.getBaseLayer=function(){return d!==null?d:m},this.getBinding=function(){return h},this.getFrame=function(){return g},this.getSession=function(){return r},this.setSession=async function(re){if(r=re,r!==null){if(v=e.getRenderTarget(),r.addEventListener("select",X),r.addEventListener("selectstart",X),r.addEventListener("selectend",X),r.addEventListener("squeeze",X),r.addEventListener("squeezestart",X),r.addEventListener("squeezeend",X),r.addEventListener("end",Z),r.addEventListener("inputsourceschange",$),_.xrCompatible!==!0&&await t.makeXRCompatible(),E=e.getPixelRatio(),e.getSize(T),r.renderState.layers===void 0){const pe={antialias:_.antialias,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,pe),r.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),A=new Sa(m.framebufferWidth,m.framebufferHeight,{format:Rr,type:Aa,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil})}else{let pe=null,Me=null,xe=null;_.depth&&(xe=_.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,pe=_.stencil?v0:t0,Me=_.stencil?g0:jc);const We={colorFormat:t.RGBA8,depthFormat:xe,scaleFactor:s};h=new XRWebGLBinding(r,t),d=h.createProjectionLayer(We),r.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),A=new Sa(d.textureWidth,d.textureHeight,{format:Rr,type:Aa,depthTexture:new uI(d.textureWidth,d.textureHeight,Me,void 0,void 0,void 0,void 0,void 0,void 0,pe),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0,resolveDepthBuffer:d.ignoreDepthValues===!1})}A.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),ye.setContext(r),ye.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return y.getDepthTexture()};function $(re){for(let pe=0;pe<re.removed.length;pe++){const Me=re.removed[pe],xe=C.indexOf(Me);xe>=0&&(C[xe]=null,S[xe].disconnect(Me))}for(let pe=0;pe<re.added.length;pe++){const Me=re.added[pe];let xe=C.indexOf(Me);if(xe===-1){for(let rt=0;rt<S.length;rt++)if(rt>=C.length){C.push(Me),xe=rt;break}else if(C[rt]===null){C[rt]=Me,xe=rt;break}if(xe===-1)break}const We=S[xe];We&&We.connect(Me)}}const Q=new V,ee=new V;function k(re,pe,Me){Q.setFromMatrixPosition(pe.matrixWorld),ee.setFromMatrixPosition(Me.matrixWorld);const xe=Q.distanceTo(ee),We=pe.projectionMatrix.elements,rt=Me.projectionMatrix.elements,Be=We[14]/(We[10]-1),He=We[14]/(We[10]+1),G=(We[9]+1)/We[5],me=(We[9]-1)/We[5],Ae=(We[8]-1)/We[0],Ie=(rt[8]+1)/rt[0],ge=Be*Ae,Je=Be*Ie,Ue=xe/(-Ae+Ie),Ke=Ue*-Ae;pe.matrixWorld.decompose(re.position,re.quaternion,re.scale),re.translateX(Ke),re.translateZ(Ue),re.matrixWorld.compose(re.position,re.quaternion,re.scale),re.matrixWorldInverse.copy(re.matrixWorld).invert();const J=Be+Ue,N=He+Ue,ue=ge-Ke,Te=Je+(xe-Ke),Ee=G*He/N*J,Re=me*He/N*J;re.projectionMatrix.makePerspective(ue,Te,Ee,Re,J,N),re.projectionMatrixInverse.copy(re.projectionMatrix).invert()}function q(re,pe){pe===null?re.matrixWorld.copy(re.matrix):re.matrixWorld.multiplyMatrices(pe.matrixWorld,re.matrix),re.matrixWorldInverse.copy(re.matrixWorld).invert()}this.updateCamera=function(re){if(r===null)return;y.texture!==null&&(re.near=y.depthNear,re.far=y.depthFar),L.near=D.near=R.near=re.near,L.far=D.far=R.far=re.far,(O!==L.near||W!==L.far)&&(r.updateRenderState({depthNear:L.near,depthFar:L.far}),O=L.near,W=L.far,R.near=O,R.far=W,D.near=O,D.far=W,R.updateProjectionMatrix(),D.updateProjectionMatrix(),re.updateProjectionMatrix());const pe=re.parent,Me=L.cameras;q(L,pe);for(let xe=0;xe<Me.length;xe++)q(Me[xe],pe);Me.length===2?k(L,R,D):L.projectionMatrix.copy(R.projectionMatrix),K(re,L,pe)};function K(re,pe,Me){Me===null?re.matrix.copy(pe.matrixWorld):(re.matrix.copy(Me.matrixWorld),re.matrix.invert(),re.matrix.multiply(pe.matrixWorld)),re.matrix.decompose(re.position,re.quaternion,re.scale),re.updateMatrixWorld(!0),re.projectionMatrix.copy(pe.projectionMatrix),re.projectionMatrixInverse.copy(pe.projectionMatrixInverse),re.isPerspectiveCamera&&(re.fov=og*2*Math.atan(1/re.projectionMatrix.elements[5]),re.zoom=1)}this.getCamera=function(){return L},this.getFoveation=function(){if(!(d===null&&m===null))return l},this.setFoveation=function(re){l=re,d!==null&&(d.fixedFoveation=re),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=re)},this.hasDepthSensing=function(){return y.texture!==null},this.getDepthSensingMesh=function(){return y.getMesh(L)};let ne=null;function le(re,pe){if(u=pe.getViewerPose(c||o),g=pe,u!==null){const Me=u.views;m!==null&&(e.setRenderTargetFramebuffer(A,m.framebuffer),e.setRenderTarget(A));let xe=!1;Me.length!==L.cameras.length&&(L.cameras.length=0,xe=!0);for(let rt=0;rt<Me.length;rt++){const Be=Me[rt];let He=null;if(m!==null)He=m.getViewport(Be);else{const me=h.getViewSubImage(d,Be);He=me.viewport,rt===0&&(e.setRenderTargetTextures(A,me.colorTexture,d.ignoreDepthValues?void 0:me.depthStencilTexture),e.setRenderTarget(A))}let G=I[rt];G===void 0&&(G=new Pn,G.layers.enable(rt),G.viewport=new sn,I[rt]=G),G.matrix.fromArray(Be.transform.matrix),G.matrix.decompose(G.position,G.quaternion,G.scale),G.projectionMatrix.fromArray(Be.projectionMatrix),G.projectionMatrixInverse.copy(G.projectionMatrix).invert(),G.viewport.set(He.x,He.y,He.width,He.height),rt===0&&(L.matrix.copy(G.matrix),L.matrix.decompose(L.position,L.quaternion,L.scale)),xe===!0&&L.cameras.push(G)}const We=r.enabledFeatures;if(We&&We.includes("depth-sensing")){const rt=h.getDepthInformation(Me[0]);rt&&rt.isValid&&rt.texture&&y.init(e,rt,r.renderState)}}for(let Me=0;Me<S.length;Me++){const xe=C[Me],We=S[Me];xe!==null&&We!==void 0&&We.update(xe,pe,c||o)}ne&&ne(re,pe),pe.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:pe}),g=null}const ye=new LV;ye.setAnimationLoop(le),this.setAnimationLoop=function(re){ne=re},this.dispose=function(){}}}const id=new Qs,Sle=new pt;function wle(i,e){function t(_,v){_.matrixAutoUpdate===!0&&_.updateMatrix(),v.value.copy(_.matrix)}function n(_,v){v.color.getRGB(_.fogColor.value,TV(i)),v.isFog?(_.fogNear.value=v.near,_.fogFar.value=v.far):v.isFogExp2&&(_.fogDensity.value=v.density)}function r(_,v,A,S,C){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(_,v):v.isMeshToonMaterial?(s(_,v),h(_,v)):v.isMeshPhongMaterial?(s(_,v),u(_,v)):v.isMeshStandardMaterial?(s(_,v),d(_,v),v.isMeshPhysicalMaterial&&m(_,v,C)):v.isMeshMatcapMaterial?(s(_,v),g(_,v)):v.isMeshDepthMaterial?s(_,v):v.isMeshDistanceMaterial?(s(_,v),y(_,v)):v.isMeshNormalMaterial?s(_,v):v.isLineBasicMaterial?(o(_,v),v.isLineDashedMaterial&&a(_,v)):v.isPointsMaterial?l(_,v,A,S):v.isSpriteMaterial?c(_,v):v.isShadowMaterial?(_.color.value.copy(v.color),_.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function s(_,v){_.opacity.value=v.opacity,v.color&&_.diffuse.value.copy(v.color),v.emissive&&_.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(_.map.value=v.map,t(v.map,_.mapTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,t(v.alphaMap,_.alphaMapTransform)),v.bumpMap&&(_.bumpMap.value=v.bumpMap,t(v.bumpMap,_.bumpMapTransform),_.bumpScale.value=v.bumpScale,v.side===qr&&(_.bumpScale.value*=-1)),v.normalMap&&(_.normalMap.value=v.normalMap,t(v.normalMap,_.normalMapTransform),_.normalScale.value.copy(v.normalScale),v.side===qr&&_.normalScale.value.negate()),v.displacementMap&&(_.displacementMap.value=v.displacementMap,t(v.displacementMap,_.displacementMapTransform),_.displacementScale.value=v.displacementScale,_.displacementBias.value=v.displacementBias),v.emissiveMap&&(_.emissiveMap.value=v.emissiveMap,t(v.emissiveMap,_.emissiveMapTransform)),v.specularMap&&(_.specularMap.value=v.specularMap,t(v.specularMap,_.specularMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest);const A=e.get(v),S=A.envMap,C=A.envMapRotation;S&&(_.envMap.value=S,id.copy(C),id.x*=-1,id.y*=-1,id.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(id.y*=-1,id.z*=-1),_.envMapRotation.value.setFromMatrix4(Sle.makeRotationFromEuler(id)),_.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=v.reflectivity,_.ior.value=v.ior,_.refractionRatio.value=v.refractionRatio),v.lightMap&&(_.lightMap.value=v.lightMap,_.lightMapIntensity.value=v.lightMapIntensity,t(v.lightMap,_.lightMapTransform)),v.aoMap&&(_.aoMap.value=v.aoMap,_.aoMapIntensity.value=v.aoMapIntensity,t(v.aoMap,_.aoMapTransform))}function o(_,v){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,v.map&&(_.map.value=v.map,t(v.map,_.mapTransform))}function a(_,v){_.dashSize.value=v.dashSize,_.totalSize.value=v.dashSize+v.gapSize,_.scale.value=v.scale}function l(_,v,A,S){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,_.size.value=v.size*A,_.scale.value=S*.5,v.map&&(_.map.value=v.map,t(v.map,_.uvTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,t(v.alphaMap,_.alphaMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest)}function c(_,v){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,_.rotation.value=v.rotation,v.map&&(_.map.value=v.map,t(v.map,_.mapTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,t(v.alphaMap,_.alphaMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest)}function u(_,v){_.specular.value.copy(v.specular),_.shininess.value=Math.max(v.shininess,1e-4)}function h(_,v){v.gradientMap&&(_.gradientMap.value=v.gradientMap)}function d(_,v){_.metalness.value=v.metalness,v.metalnessMap&&(_.metalnessMap.value=v.metalnessMap,t(v.metalnessMap,_.metalnessMapTransform)),_.roughness.value=v.roughness,v.roughnessMap&&(_.roughnessMap.value=v.roughnessMap,t(v.roughnessMap,_.roughnessMapTransform)),v.envMap&&(_.envMapIntensity.value=v.envMapIntensity)}function m(_,v,A){_.ior.value=v.ior,v.sheen>0&&(_.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),_.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(_.sheenColorMap.value=v.sheenColorMap,t(v.sheenColorMap,_.sheenColorMapTransform)),v.sheenRoughnessMap&&(_.sheenRoughnessMap.value=v.sheenRoughnessMap,t(v.sheenRoughnessMap,_.sheenRoughnessMapTransform))),v.clearcoat>0&&(_.clearcoat.value=v.clearcoat,_.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(_.clearcoatMap.value=v.clearcoatMap,t(v.clearcoatMap,_.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,t(v.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(_.clearcoatNormalMap.value=v.clearcoatNormalMap,t(v.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===qr&&_.clearcoatNormalScale.value.negate())),v.dispersion>0&&(_.dispersion.value=v.dispersion),v.iridescence>0&&(_.iridescence.value=v.iridescence,_.iridescenceIOR.value=v.iridescenceIOR,_.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(_.iridescenceMap.value=v.iridescenceMap,t(v.iridescenceMap,_.iridescenceMapTransform)),v.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=v.iridescenceThicknessMap,t(v.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),v.transmission>0&&(_.transmission.value=v.transmission,_.transmissionSamplerMap.value=A.texture,_.transmissionSamplerSize.value.set(A.width,A.height),v.transmissionMap&&(_.transmissionMap.value=v.transmissionMap,t(v.transmissionMap,_.transmissionMapTransform)),_.thickness.value=v.thickness,v.thicknessMap&&(_.thicknessMap.value=v.thicknessMap,t(v.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=v.attenuationDistance,_.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(_.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(_.anisotropyMap.value=v.anisotropyMap,t(v.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=v.specularIntensity,_.specularColor.value.copy(v.specularColor),v.specularColorMap&&(_.specularColorMap.value=v.specularColorMap,t(v.specularColorMap,_.specularColorMapTransform)),v.specularIntensityMap&&(_.specularIntensityMap.value=v.specularIntensityMap,t(v.specularIntensityMap,_.specularIntensityMapTransform))}function g(_,v){v.matcap&&(_.matcap.value=v.matcap)}function y(_,v){const A=e.get(v).light;_.referencePosition.value.setFromMatrixPosition(A.matrixWorld),_.nearDistance.value=A.shadow.camera.near,_.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function ble(i,e,t,n){let r={},s={},o=[];const a=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function l(A,S){const C=S.program;n.uniformBlockBinding(A,C)}function c(A,S){let C=r[A.id];C===void 0&&(g(A),C=u(A),r[A.id]=C,A.addEventListener("dispose",_));const T=S.program;n.updateUBOMapping(A,T);const E=e.render.frame;s[A.id]!==E&&(d(A),s[A.id]=E)}function u(A){const S=h();A.__bindingPointIndex=S;const C=i.createBuffer(),T=A.__size,E=A.usage;return i.bindBuffer(i.UNIFORM_BUFFER,C),i.bufferData(i.UNIFORM_BUFFER,T,E),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,S,C),C}function h(){for(let A=0;A<a;A++)if(o.indexOf(A)===-1)return o.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(A){const S=r[A.id],C=A.uniforms,T=A.__cache;i.bindBuffer(i.UNIFORM_BUFFER,S);for(let E=0,R=C.length;E<R;E++){const D=Array.isArray(C[E])?C[E]:[C[E]];for(let I=0,L=D.length;I<L;I++){const O=D[I];if(m(O,E,I,T)===!0){const W=O.__offset,X=Array.isArray(O.value)?O.value:[O.value];let Z=0;for(let $=0;$<X.length;$++){const Q=X[$],ee=y(Q);typeof Q=="number"||typeof Q=="boolean"?(O.__data[0]=Q,i.bufferSubData(i.UNIFORM_BUFFER,W+Z,O.__data)):Q.isMatrix3?(O.__data[0]=Q.elements[0],O.__data[1]=Q.elements[1],O.__data[2]=Q.elements[2],O.__data[3]=0,O.__data[4]=Q.elements[3],O.__data[5]=Q.elements[4],O.__data[6]=Q.elements[5],O.__data[7]=0,O.__data[8]=Q.elements[6],O.__data[9]=Q.elements[7],O.__data[10]=Q.elements[8],O.__data[11]=0):(Q.toArray(O.__data,Z),Z+=ee.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,W,O.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function m(A,S,C,T){const E=A.value,R=S+"_"+C;if(T[R]===void 0)return typeof E=="number"||typeof E=="boolean"?T[R]=E:T[R]=E.clone(),!0;{const D=T[R];if(typeof E=="number"||typeof E=="boolean"){if(D!==E)return T[R]=E,!0}else if(D.equals(E)===!1)return D.copy(E),!0}return!1}function g(A){const S=A.uniforms;let C=0;const T=16;for(let R=0,D=S.length;R<D;R++){const I=Array.isArray(S[R])?S[R]:[S[R]];for(let L=0,O=I.length;L<O;L++){const W=I[L],X=Array.isArray(W.value)?W.value:[W.value];for(let Z=0,$=X.length;Z<$;Z++){const Q=X[Z],ee=y(Q),k=C%T,q=k%ee.boundary,K=k+q;C+=q,K!==0&&T-K<ee.storage&&(C+=T-K),W.__data=new Float32Array(ee.storage/Float32Array.BYTES_PER_ELEMENT),W.__offset=C,C+=ee.storage}}}const E=C%T;return E>0&&(C+=T-E),A.__size=C,A.__cache={},this}function y(A){const S={boundary:0,storage:0};return typeof A=="number"||typeof A=="boolean"?(S.boundary=4,S.storage=4):A.isVector2?(S.boundary=8,S.storage=8):A.isVector3||A.isColor?(S.boundary=16,S.storage=12):A.isVector4?(S.boundary=16,S.storage=16):A.isMatrix3?(S.boundary=48,S.storage=48):A.isMatrix4?(S.boundary=64,S.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),S}function _(A){const S=A.target;S.removeEventListener("dispose",_);const C=o.indexOf(S.__bindingPointIndex);o.splice(C,1),i.deleteBuffer(r[S.id]),delete r[S.id],delete s[S.id]}function v(){for(const A in r)i.deleteBuffer(r[A]);o=[],r={},s={}}return{bind:l,update:c,dispose:v}}class UV{constructor(e={}){const{canvas:t=bV(),context:n=null,depth:r=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let d;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");d=n.getContextAttributes().alpha}else d=o;const m=new Uint32Array(4),g=new Int32Array(4);let y=null,_=null;const v=[],A=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Mo,this.toneMapping=ul,this.toneMappingExposure=1;const S=this;let C=!1,T=0,E=0,R=null,D=-1,I=null;const L=new sn,O=new sn;let W=null;const X=new Ge(0);let Z=0,$=t.width,Q=t.height,ee=1,k=null,q=null;const K=new sn(0,0,$,Q),ne=new sn(0,0,$,Q);let le=!1;const ye=new ax;let re=!1,pe=!1;const Me=new pt,xe=new V,We=new sn,rt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Be=!1;function He(){return R===null?ee:1}let G=n;function me(H,oe){return t.getContext(H,oe)}try{const H={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${tx}`),t.addEventListener("webglcontextlost",we,!1),t.addEventListener("webglcontextrestored",Ce,!1),t.addEventListener("webglcontextcreationerror",ze,!1),G===null){const oe="webgl2";if(G=me(oe,H),G===null)throw me(oe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(H){throw console.error("THREE.WebGLRenderer: "+H.message),H}let Ae,Ie,ge,Je,Ue,Ke,J,N,ue,Te,Ee,Re,ot,Le,Xe,yt,De,Ze,kt,_t,et,ie,be,qe;function te(){Ae=new Ioe(G),Ae.init(),ie=new kV(G,Ae),Ie=new Coe(G,Ae,e,ie),ge=new ule(G),Je=new Boe(G),Ue=new Qae,Ke=new gle(G,Ae,ge,Ue,Ie,ie,Je),J=new Eoe(S),N=new Poe(S),ue=new jie(G),be=new woe(G,ue),Te=new Loe(G,ue,Je,be),Ee=new Ooe(G,Te,ue,Je),kt=new Foe(G,Ie,Ke),yt=new Moe(Ue),Re=new Zae(S,J,N,Ae,Ie,be,yt),ot=new wle(S,Ue),Le=new ele,Xe=new ole(Ae),Ze=new Soe(S,J,N,ge,Ee,d,l),De=new cle(S,Ee,Ie),qe=new ble(G,Je,Ie,ge),_t=new boe(G,Ae,Je),et=new Doe(G,Ae,Je),Je.programs=Re.programs,S.capabilities=Ie,S.extensions=Ae,S.properties=Ue,S.renderLists=Le,S.shadowMap=De,S.state=ge,S.info=Je}te();const Pe=new Ale(S,G);this.xr=Pe,this.getContext=function(){return G},this.getContextAttributes=function(){return G.getContextAttributes()},this.forceContextLoss=function(){const H=Ae.get("WEBGL_lose_context");H&&H.loseContext()},this.forceContextRestore=function(){const H=Ae.get("WEBGL_lose_context");H&&H.restoreContext()},this.getPixelRatio=function(){return ee},this.setPixelRatio=function(H){H!==void 0&&(ee=H,this.setSize($,Q,!1))},this.getSize=function(H){return H.set($,Q)},this.setSize=function(H,oe,de=!0){if(Pe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}$=H,Q=oe,t.width=Math.floor(H*ee),t.height=Math.floor(oe*ee),de===!0&&(t.style.width=H+"px",t.style.height=oe+"px"),this.setViewport(0,0,H,oe)},this.getDrawingBufferSize=function(H){return H.set($*ee,Q*ee).floor()},this.setDrawingBufferSize=function(H,oe,de){$=H,Q=oe,ee=de,t.width=Math.floor(H*de),t.height=Math.floor(oe*de),this.setViewport(0,0,H,oe)},this.getCurrentViewport=function(H){return H.copy(L)},this.getViewport=function(H){return H.copy(K)},this.setViewport=function(H,oe,de,fe){H.isVector4?K.set(H.x,H.y,H.z,H.w):K.set(H,oe,de,fe),ge.viewport(L.copy(K).multiplyScalar(ee).round())},this.getScissor=function(H){return H.copy(ne)},this.setScissor=function(H,oe,de,fe){H.isVector4?ne.set(H.x,H.y,H.z,H.w):ne.set(H,oe,de,fe),ge.scissor(O.copy(ne).multiplyScalar(ee).round())},this.getScissorTest=function(){return le},this.setScissorTest=function(H){ge.setScissorTest(le=H)},this.setOpaqueSort=function(H){k=H},this.setTransparentSort=function(H){q=H},this.getClearColor=function(H){return H.copy(Ze.getClearColor())},this.setClearColor=function(){Ze.setClearColor.apply(Ze,arguments)},this.getClearAlpha=function(){return Ze.getClearAlpha()},this.setClearAlpha=function(){Ze.setClearAlpha.apply(Ze,arguments)},this.clear=function(H=!0,oe=!0,de=!0){let fe=0;if(H){let ce=!1;if(R!==null){const ke=R.texture.format;ce=ke===KC||ke===XC||ke===ix}if(ce){const ke=R.texture.type,$e=ke===Aa||ke===jc||ke===ig||ke===g0||ke===GC||ke===VC,st=Ze.getClearColor(),it=Ze.getClearAlpha(),mt=st.r,xt=st.g,ft=st.b;$e?(m[0]=mt,m[1]=xt,m[2]=ft,m[3]=it,G.clearBufferuiv(G.COLOR,0,m)):(g[0]=mt,g[1]=xt,g[2]=ft,g[3]=it,G.clearBufferiv(G.COLOR,0,g))}else fe|=G.COLOR_BUFFER_BIT}oe&&(fe|=G.DEPTH_BUFFER_BIT),de&&(fe|=G.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),G.clear(fe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",we,!1),t.removeEventListener("webglcontextrestored",Ce,!1),t.removeEventListener("webglcontextcreationerror",ze,!1),Le.dispose(),Xe.dispose(),Ue.dispose(),J.dispose(),N.dispose(),Ee.dispose(),be.dispose(),qe.dispose(),Re.dispose(),Pe.dispose(),Pe.removeEventListener("sessionstart",Di),Pe.removeEventListener("sessionend",Ix),_l.stop()};function we(H){H.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function Ce(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const H=Je.autoReset,oe=De.enabled,de=De.autoUpdate,fe=De.needsUpdate,ce=De.type;te(),Je.autoReset=H,De.enabled=oe,De.autoUpdate=de,De.needsUpdate=fe,De.type=ce}function ze(H){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",H.statusMessage)}function gt(H){const oe=H.target;oe.removeEventListener("dispose",gt),Ct(oe)}function Ct(H){Kt(H),Ue.remove(H)}function Kt(H){const oe=Ue.get(H).programs;oe!==void 0&&(oe.forEach(function(de){Re.releaseProgram(de)}),H.isShaderMaterial&&Re.releaseShaderCache(H))}this.renderBufferDirect=function(H,oe,de,fe,ce,ke){oe===null&&(oe=rt);const $e=ce.isMesh&&ce.matrixWorld.determinant()<0,st=aE(H,oe,de,fe,ce);ge.setMaterial(fe,$e);let it=de.index,mt=1;if(fe.wireframe===!0){if(it=Te.getWireframeAttribute(de),it===void 0)return;mt=2}const xt=de.drawRange,ft=de.attributes.position;let Qt=xt.start*mt,_n=(xt.start+xt.count)*mt;ke!==null&&(Qt=Math.max(Qt,ke.start*mt),_n=Math.min(_n,(ke.start+ke.count)*mt)),it!==null?(Qt=Math.max(Qt,0),_n=Math.min(_n,it.count)):ft!=null&&(Qt=Math.max(Qt,0),_n=Math.min(_n,ft.count));const on=_n-Qt;if(on<0||on===1/0)return;be.setup(ce,fe,st,de,it);let Xn,ht=_t;if(it!==null&&(Xn=ue.get(it),ht=et,ht.setIndex(Xn)),ce.isMesh)fe.wireframe===!0?(ge.setLineWidth(fe.wireframeLinewidth*He()),ht.setMode(G.LINES)):ht.setMode(G.TRIANGLES);else if(ce.isLine){let je=fe.linewidth;je===void 0&&(je=1),ge.setLineWidth(je*He()),ce.isLineSegments?ht.setMode(G.LINES):ce.isLineLoop?ht.setMode(G.LINE_LOOP):ht.setMode(G.LINE_STRIP)}else ce.isPoints?ht.setMode(G.POINTS):ce.isSprite&&ht.setMode(G.TRIANGLES);if(ce.isBatchedMesh)if(ce._multiDrawInstances!==null)ht.renderMultiDrawInstances(ce._multiDrawStarts,ce._multiDrawCounts,ce._multiDrawCount,ce._multiDrawInstances);else if(Ae.get("WEBGL_multi_draw"))ht.renderMultiDraw(ce._multiDrawStarts,ce._multiDrawCounts,ce._multiDrawCount);else{const je=ce._multiDrawStarts,xn=ce._multiDrawCounts,St=ce._multiDrawCount,An=it?ue.get(it).bytesPerElement:1,$r=Ue.get(fe).currentProgram.getUniforms();for(let hi=0;hi<St;hi++)$r.setValue(G,"_gl_DrawID",hi),ht.render(je[hi]/An,xn[hi])}else if(ce.isInstancedMesh)ht.renderInstances(Qt,on,ce.count);else if(de.isInstancedBufferGeometry){const je=de._maxInstanceCount!==void 0?de._maxInstanceCount:1/0,xn=Math.min(de.instanceCount,je);ht.renderInstances(Qt,on,xn)}else ht.render(Qt,on)};function Mn(H,oe,de){H.transparent===!0&&H.side===Ro&&H.forceSinglePass===!1?(H.side=qr,H.needsUpdate=!0,W0(H,oe,de),H.side=ml,H.needsUpdate=!0,W0(H,oe,de),H.side=Ro):W0(H,oe,de)}this.compile=function(H,oe,de=null){de===null&&(de=H),_=Xe.get(de),_.init(oe),A.push(_),de.traverseVisible(function(ce){ce.isLight&&ce.layers.test(oe.layers)&&(_.pushLight(ce),ce.castShadow&&_.pushShadow(ce))}),H!==de&&H.traverseVisible(function(ce){ce.isLight&&ce.layers.test(oe.layers)&&(_.pushLight(ce),ce.castShadow&&_.pushShadow(ce))}),_.setupLights();const fe=new Set;return H.traverse(function(ce){const ke=ce.material;if(ke)if(Array.isArray(ke))for(let $e=0;$e<ke.length;$e++){const st=ke[$e];Mn(st,de,ce),fe.add(st)}else Mn(ke,de,ce),fe.add(ke)}),A.pop(),_=null,fe},this.compileAsync=function(H,oe,de=null){const fe=this.compile(H,oe,de);return new Promise(ce=>{function ke(){if(fe.forEach(function($e){Ue.get($e).currentProgram.isReady()&&fe.delete($e)}),fe.size===0){ce(H);return}setTimeout(ke,10)}Ae.get("KHR_parallel_shader_compile")!==null?ke():setTimeout(ke,10)})};let Ft=null;function Li(H){Ft&&Ft(H)}function Di(){_l.stop()}function Ix(){_l.start()}const _l=new LV;_l.setAnimationLoop(Li),typeof self<"u"&&_l.setContext(self),this.setAnimationLoop=function(H){Ft=H,Pe.setAnimationLoop(H),H===null?_l.stop():_l.start()},Pe.addEventListener("sessionstart",Di),Pe.addEventListener("sessionend",Ix),this.render=function(H,oe){if(oe!==void 0&&oe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;if(H.matrixWorldAutoUpdate===!0&&H.updateMatrixWorld(),oe.parent===null&&oe.matrixWorldAutoUpdate===!0&&oe.updateMatrixWorld(),Pe.enabled===!0&&Pe.isPresenting===!0&&(Pe.cameraAutoUpdate===!0&&Pe.updateCamera(oe),oe=Pe.getCamera()),H.isScene===!0&&H.onBeforeRender(S,H,oe,R),_=Xe.get(H,A.length),_.init(oe),A.push(_),Me.multiplyMatrices(oe.projectionMatrix,oe.matrixWorldInverse),ye.setFromProjectionMatrix(Me),pe=this.localClippingEnabled,re=yt.init(this.clippingPlanes,pe),y=Le.get(H,v.length),y.init(),v.push(y),Pe.enabled===!0&&Pe.isPresenting===!0){const ke=S.xr.getDepthSensingMesh();ke!==null&&Pg(ke,oe,-1/0,S.sortObjects)}Pg(H,oe,0,S.sortObjects),y.finish(),S.sortObjects===!0&&y.sort(k,q),Be=Pe.enabled===!1||Pe.isPresenting===!1||Pe.hasDepthSensing()===!1,Be&&Ze.addToRenderList(y,H),this.info.render.frame++,re===!0&&yt.beginShadows();const de=_.state.shadowsArray;De.render(de,H,oe),re===!0&&yt.endShadows(),this.info.autoReset===!0&&this.info.reset();const fe=y.opaque,ce=y.transmissive;if(_.setupLights(),oe.isArrayCamera){const ke=oe.cameras;if(ce.length>0)for(let $e=0,st=ke.length;$e<st;$e++){const it=ke[$e];G0(fe,ce,H,it)}Be&&Ze.render(H);for(let $e=0,st=ke.length;$e<st;$e++){const it=ke[$e];Ig(y,H,it,it.viewport)}}else ce.length>0&&G0(fe,ce,H,oe),Be&&Ze.render(H),Ig(y,H,oe);R!==null&&(Ke.updateMultisampleRenderTarget(R),Ke.updateRenderTargetMipmap(R)),H.isScene===!0&&H.onAfterRender(S,H,oe),be.resetDefaultState(),D=-1,I=null,A.pop(),A.length>0?(_=A[A.length-1],re===!0&&yt.setGlobalState(S.clippingPlanes,_.state.camera)):_=null,v.pop(),v.length>0?y=v[v.length-1]:y=null};function Pg(H,oe,de,fe){if(H.visible===!1)return;if(H.layers.test(oe.layers)){if(H.isGroup)de=H.renderOrder;else if(H.isLOD)H.autoUpdate===!0&&H.update(oe);else if(H.isLight)_.pushLight(H),H.castShadow&&_.pushShadow(H);else if(H.isSprite){if(!H.frustumCulled||ye.intersectsSprite(H)){fe&&We.setFromMatrixPosition(H.matrixWorld).applyMatrix4(Me);const $e=Ee.update(H),st=H.material;st.visible&&y.push(H,$e,st,de,We.z,null)}}else if((H.isMesh||H.isLine||H.isPoints)&&(!H.frustumCulled||ye.intersectsObject(H))){const $e=Ee.update(H),st=H.material;if(fe&&(H.boundingSphere!==void 0?(H.boundingSphere===null&&H.computeBoundingSphere(),We.copy(H.boundingSphere.center)):($e.boundingSphere===null&&$e.computeBoundingSphere(),We.copy($e.boundingSphere.center)),We.applyMatrix4(H.matrixWorld).applyMatrix4(Me)),Array.isArray(st)){const it=$e.groups;for(let mt=0,xt=it.length;mt<xt;mt++){const ft=it[mt],Qt=st[ft.materialIndex];Qt&&Qt.visible&&y.push(H,$e,Qt,de,We.z,ft)}}else st.visible&&y.push(H,$e,st,de,We.z,null)}}const ke=H.children;for(let $e=0,st=ke.length;$e<st;$e++)Pg(ke[$e],oe,de,fe)}function Ig(H,oe,de,fe){const ce=H.opaque,ke=H.transmissive,$e=H.transparent;_.setupLightsView(de),re===!0&&yt.setGlobalState(S.clippingPlanes,de),fe&&ge.viewport(L.copy(fe)),ce.length>0&&V0(ce,oe,de),ke.length>0&&V0(ke,oe,de),$e.length>0&&V0($e,oe,de),ge.buffers.depth.setTest(!0),ge.buffers.depth.setMask(!0),ge.buffers.color.setMask(!0),ge.setPolygonOffset(!1)}function G0(H,oe,de,fe){if((de.isScene===!0?de.overrideMaterial:null)!==null)return;_.state.transmissionRenderTarget[fe.id]===void 0&&(_.state.transmissionRenderTarget[fe.id]=new Sa(1,1,{generateMipmaps:!0,type:Ae.has("EXT_color_buffer_half_float")||Ae.has("EXT_color_buffer_float")?wg:Aa,minFilter:Lo,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:nn.workingColorSpace}));const ke=_.state.transmissionRenderTarget[fe.id],$e=fe.viewport||L;ke.setSize($e.z,$e.w);const st=S.getRenderTarget();S.setRenderTarget(ke),S.getClearColor(X),Z=S.getClearAlpha(),Z<1&&S.setClearColor(16777215,.5),S.clear(),Be&&Ze.render(de);const it=S.toneMapping;S.toneMapping=ul;const mt=fe.viewport;if(fe.viewport!==void 0&&(fe.viewport=void 0),_.setupLightsView(fe),re===!0&&yt.setGlobalState(S.clippingPlanes,fe),V0(H,de,fe),Ke.updateMultisampleRenderTarget(ke),Ke.updateRenderTargetMipmap(ke),Ae.has("WEBGL_multisampled_render_to_texture")===!1){let xt=!1;for(let ft=0,Qt=oe.length;ft<Qt;ft++){const _n=oe[ft],on=_n.object,Xn=_n.geometry,ht=_n.material,je=_n.group;if(ht.side===Ro&&on.layers.test(fe.layers)){const xn=ht.side;ht.side=qr,ht.needsUpdate=!0,Yc(on,de,fe,Xn,ht,je),ht.side=xn,ht.needsUpdate=!0,xt=!0}}xt===!0&&(Ke.updateMultisampleRenderTarget(ke),Ke.updateRenderTargetMipmap(ke))}S.setRenderTarget(st),S.setClearColor(X,Z),mt!==void 0&&(fe.viewport=mt),S.toneMapping=it}function V0(H,oe,de){const fe=oe.isScene===!0?oe.overrideMaterial:null;for(let ce=0,ke=H.length;ce<ke;ce++){const $e=H[ce],st=$e.object,it=$e.geometry,mt=fe===null?$e.material:fe,xt=$e.group;st.layers.test(de.layers)&&Yc(st,oe,de,it,mt,xt)}}function Yc(H,oe,de,fe,ce,ke){H.onBeforeRender(S,oe,de,fe,ce,ke),H.modelViewMatrix.multiplyMatrices(de.matrixWorldInverse,H.matrixWorld),H.normalMatrix.getNormalMatrix(H.modelViewMatrix),ce.transparent===!0&&ce.side===Ro&&ce.forceSinglePass===!1?(ce.side=qr,ce.needsUpdate=!0,S.renderBufferDirect(de,oe,fe,ce,H,ke),ce.side=ml,ce.needsUpdate=!0,S.renderBufferDirect(de,oe,fe,ce,H,ke),ce.side=Ro):S.renderBufferDirect(de,oe,fe,ce,H,ke),H.onAfterRender(S,oe,de,fe,ce,ke)}function W0(H,oe,de){oe.isScene!==!0&&(oe=rt);const fe=Ue.get(H),ce=_.state.lights,ke=_.state.shadowsArray,$e=ce.state.version,st=Re.getParameters(H,ce.state,ke,oe,de),it=Re.getProgramCacheKey(st);let mt=fe.programs;fe.environment=H.isMeshStandardMaterial?oe.environment:null,fe.fog=oe.fog,fe.envMap=(H.isMeshStandardMaterial?N:J).get(H.envMap||fe.environment),fe.envMapRotation=fe.environment!==null&&H.envMap===null?oe.environmentRotation:H.envMapRotation,mt===void 0&&(H.addEventListener("dispose",gt),mt=new Map,fe.programs=mt);let xt=mt.get(it);if(xt!==void 0){if(fe.currentProgram===xt&&fe.lightsStateVersion===$e)return Dx(H,st),xt}else st.uniforms=Re.getUniforms(H),H.onBeforeCompile(st,S),xt=Re.acquireProgram(st,it),mt.set(it,xt),fe.uniforms=st.uniforms;const ft=fe.uniforms;return(!H.isShaderMaterial&&!H.isRawShaderMaterial||H.clipping===!0)&&(ft.clippingPlanes=yt.uniform),Dx(H,st),fe.needsLights=cE(H),fe.lightsStateVersion=$e,fe.needsLights&&(ft.ambientLightColor.value=ce.state.ambient,ft.lightProbe.value=ce.state.probe,ft.directionalLights.value=ce.state.directional,ft.directionalLightShadows.value=ce.state.directionalShadow,ft.spotLights.value=ce.state.spot,ft.spotLightShadows.value=ce.state.spotShadow,ft.rectAreaLights.value=ce.state.rectArea,ft.ltc_1.value=ce.state.rectAreaLTC1,ft.ltc_2.value=ce.state.rectAreaLTC2,ft.pointLights.value=ce.state.point,ft.pointLightShadows.value=ce.state.pointShadow,ft.hemisphereLights.value=ce.state.hemi,ft.directionalShadowMap.value=ce.state.directionalShadowMap,ft.directionalShadowMatrix.value=ce.state.directionalShadowMatrix,ft.spotShadowMap.value=ce.state.spotShadowMap,ft.spotLightMatrix.value=ce.state.spotLightMatrix,ft.spotLightMap.value=ce.state.spotLightMap,ft.pointShadowMap.value=ce.state.pointShadowMap,ft.pointShadowMatrix.value=ce.state.pointShadowMatrix),fe.currentProgram=xt,fe.uniformsList=null,xt}function Lx(H){if(H.uniformsList===null){const oe=H.currentProgram.getUniforms();H.uniformsList=g5.seqWithValue(oe.seq,H.uniforms)}return H.uniformsList}function Dx(H,oe){const de=Ue.get(H);de.outputColorSpace=oe.outputColorSpace,de.batching=oe.batching,de.batchingColor=oe.batchingColor,de.instancing=oe.instancing,de.instancingColor=oe.instancingColor,de.instancingMorph=oe.instancingMorph,de.skinning=oe.skinning,de.morphTargets=oe.morphTargets,de.morphNormals=oe.morphNormals,de.morphColors=oe.morphColors,de.morphTargetsCount=oe.morphTargetsCount,de.numClippingPlanes=oe.numClippingPlanes,de.numIntersection=oe.numClipIntersection,de.vertexAlphas=oe.vertexAlphas,de.vertexTangents=oe.vertexTangents,de.toneMapping=oe.toneMapping}function aE(H,oe,de,fe,ce){oe.isScene!==!0&&(oe=rt),Ke.resetTextureUnits();const ke=oe.fog,$e=fe.isMeshStandardMaterial?oe.environment:null,st=R===null?S.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:Kc,it=(fe.isMeshStandardMaterial?N:J).get(fe.envMap||$e),mt=fe.vertexColors===!0&&!!de.attributes.color&&de.attributes.color.itemSize===4,xt=!!de.attributes.tangent&&(!!fe.normalMap||fe.anisotropy>0),ft=!!de.morphAttributes.position,Qt=!!de.morphAttributes.normal,_n=!!de.morphAttributes.color;let on=ul;fe.toneMapped&&(R===null||R.isXRRenderTarget===!0)&&(on=S.toneMapping);const Xn=de.morphAttributes.position||de.morphAttributes.normal||de.morphAttributes.color,ht=Xn!==void 0?Xn.length:0,je=Ue.get(fe),xn=_.state.lights;if(re===!0&&(pe===!0||H!==I)){const qi=H===I&&fe.id===D;yt.setState(fe,H,qi)}let St=!1;fe.version===je.__version?(je.needsLights&&je.lightsStateVersion!==xn.state.version||je.outputColorSpace!==st||ce.isBatchedMesh&&je.batching===!1||!ce.isBatchedMesh&&je.batching===!0||ce.isBatchedMesh&&je.batchingColor===!0&&ce.colorTexture===null||ce.isBatchedMesh&&je.batchingColor===!1&&ce.colorTexture!==null||ce.isInstancedMesh&&je.instancing===!1||!ce.isInstancedMesh&&je.instancing===!0||ce.isSkinnedMesh&&je.skinning===!1||!ce.isSkinnedMesh&&je.skinning===!0||ce.isInstancedMesh&&je.instancingColor===!0&&ce.instanceColor===null||ce.isInstancedMesh&&je.instancingColor===!1&&ce.instanceColor!==null||ce.isInstancedMesh&&je.instancingMorph===!0&&ce.morphTexture===null||ce.isInstancedMesh&&je.instancingMorph===!1&&ce.morphTexture!==null||je.envMap!==it||fe.fog===!0&&je.fog!==ke||je.numClippingPlanes!==void 0&&(je.numClippingPlanes!==yt.numPlanes||je.numIntersection!==yt.numIntersection)||je.vertexAlphas!==mt||je.vertexTangents!==xt||je.morphTargets!==ft||je.morphNormals!==Qt||je.morphColors!==_n||je.toneMapping!==on||je.morphTargetsCount!==ht)&&(St=!0):(St=!0,je.__version=fe.version);let An=je.currentProgram;St===!0&&(An=W0(fe,oe,ce));let $r=!1,hi=!1,Bi=!1;const En=An.getUniforms(),jo=je.uniforms;if(ge.useProgram(An.program)&&($r=!0,hi=!0,Bi=!0),fe.id!==D&&(D=fe.id,hi=!0),$r||I!==H){En.setValue(G,"projectionMatrix",H.projectionMatrix),En.setValue(G,"viewMatrix",H.matrixWorldInverse);const qi=En.map.cameraPosition;qi!==void 0&&qi.setValue(G,xe.setFromMatrixPosition(H.matrixWorld)),Ie.logarithmicDepthBuffer&&En.setValue(G,"logDepthBufFC",2/(Math.log(H.far+1)/Math.LN2)),(fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshLambertMaterial||fe.isMeshBasicMaterial||fe.isMeshStandardMaterial||fe.isShaderMaterial)&&En.setValue(G,"isOrthographic",H.isOrthographicCamera===!0),I!==H&&(I=H,hi=!0,Bi=!0)}if(ce.isSkinnedMesh){En.setOptional(G,ce,"bindMatrix"),En.setOptional(G,ce,"bindMatrixInverse");const qi=ce.skeleton;qi&&(qi.boneTexture===null&&qi.computeBoneTexture(),En.setValue(G,"boneTexture",qi.boneTexture,Ke))}ce.isBatchedMesh&&(En.setOptional(G,ce,"batchingTexture"),En.setValue(G,"batchingTexture",ce._matricesTexture,Ke),En.setOptional(G,ce,"batchingIdTexture"),En.setValue(G,"batchingIdTexture",ce._indirectTexture,Ke),En.setOptional(G,ce,"batchingColorTexture"),ce._colorsTexture!==null&&En.setValue(G,"batchingColorTexture",ce._colorsTexture,Ke));const X0=de.morphAttributes;if((X0.position!==void 0||X0.normal!==void 0||X0.color!==void 0)&&kt.update(ce,de,An),(hi||je.receiveShadow!==ce.receiveShadow)&&(je.receiveShadow=ce.receiveShadow,En.setValue(G,"receiveShadow",ce.receiveShadow)),fe.isMeshGouraudMaterial&&fe.envMap!==null&&(jo.envMap.value=it,jo.flipEnvMap.value=it.isCubeTexture&&it.isRenderTargetTexture===!1?-1:1),fe.isMeshStandardMaterial&&fe.envMap===null&&oe.environment!==null&&(jo.envMapIntensity.value=oe.environmentIntensity),hi&&(En.setValue(G,"toneMappingExposure",S.toneMappingExposure),je.needsLights&&lE(jo,Bi),ke&&fe.fog===!0&&ot.refreshFogUniforms(jo,ke),ot.refreshMaterialUniforms(jo,fe,ee,Q,_.state.transmissionRenderTarget[H.id]),g5.upload(G,Lx(je),jo,Ke)),fe.isShaderMaterial&&fe.uniformsNeedUpdate===!0&&(g5.upload(G,Lx(je),jo,Ke),fe.uniformsNeedUpdate=!1),fe.isSpriteMaterial&&En.setValue(G,"center",ce.center),En.setValue(G,"modelViewMatrix",ce.modelViewMatrix),En.setValue(G,"normalMatrix",ce.normalMatrix),En.setValue(G,"modelMatrix",ce.matrixWorld),fe.isShaderMaterial||fe.isRawShaderMaterial){const qi=fe.uniformsGroups;for(let K0=0,Ss=qi.length;K0<Ss;K0++){const Bx=qi[K0];qe.update(Bx,An),qe.bind(Bx,An)}}return An}function lE(H,oe){H.ambientLightColor.needsUpdate=oe,H.lightProbe.needsUpdate=oe,H.directionalLights.needsUpdate=oe,H.directionalLightShadows.needsUpdate=oe,H.pointLights.needsUpdate=oe,H.pointLightShadows.needsUpdate=oe,H.spotLights.needsUpdate=oe,H.spotLightShadows.needsUpdate=oe,H.rectAreaLights.needsUpdate=oe,H.hemisphereLights.needsUpdate=oe}function cE(H){return H.isMeshLambertMaterial||H.isMeshToonMaterial||H.isMeshPhongMaterial||H.isMeshStandardMaterial||H.isShadowMaterial||H.isShaderMaterial&&H.lights===!0}this.getActiveCubeFace=function(){return T},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(H,oe,de){Ue.get(H.texture).__webglTexture=oe,Ue.get(H.depthTexture).__webglTexture=de;const fe=Ue.get(H);fe.__hasExternalTextures=!0,fe.__autoAllocateDepthBuffer=de===void 0,fe.__autoAllocateDepthBuffer||Ae.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),fe.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(H,oe){const de=Ue.get(H);de.__webglFramebuffer=oe,de.__useDefaultFramebuffer=oe===void 0},this.setRenderTarget=function(H,oe=0,de=0){R=H,T=oe,E=de;let fe=!0,ce=null,ke=!1,$e=!1;if(H){const it=Ue.get(H);it.__useDefaultFramebuffer!==void 0?(ge.bindFramebuffer(G.FRAMEBUFFER,null),fe=!1):it.__webglFramebuffer===void 0?Ke.setupRenderTarget(H):it.__hasExternalTextures&&Ke.rebindTextures(H,Ue.get(H.texture).__webglTexture,Ue.get(H.depthTexture).__webglTexture);const mt=H.texture;(mt.isData3DTexture||mt.isDataArrayTexture||mt.isCompressedArrayTexture)&&($e=!0);const xt=Ue.get(H).__webglFramebuffer;H.isWebGLCubeRenderTarget?(Array.isArray(xt[oe])?ce=xt[oe][de]:ce=xt[oe],ke=!0):H.samples>0&&Ke.useMultisampledRTT(H)===!1?ce=Ue.get(H).__webglMultisampledFramebuffer:Array.isArray(xt)?ce=xt[de]:ce=xt,L.copy(H.viewport),O.copy(H.scissor),W=H.scissorTest}else L.copy(K).multiplyScalar(ee).floor(),O.copy(ne).multiplyScalar(ee).floor(),W=le;if(ge.bindFramebuffer(G.FRAMEBUFFER,ce)&&fe&&ge.drawBuffers(H,ce),ge.viewport(L),ge.scissor(O),ge.setScissorTest(W),ke){const it=Ue.get(H.texture);G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_CUBE_MAP_POSITIVE_X+oe,it.__webglTexture,de)}else if($e){const it=Ue.get(H.texture),mt=oe||0;G.framebufferTextureLayer(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,it.__webglTexture,de||0,mt)}D=-1},this.readRenderTargetPixels=function(H,oe,de,fe,ce,ke,$e){if(!(H&&H.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let st=Ue.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&$e!==void 0&&(st=st[$e]),st){ge.bindFramebuffer(G.FRAMEBUFFER,st);try{const it=H.texture,mt=it.format,xt=it.type;if(!Ie.textureFormatReadable(mt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ie.textureTypeReadable(xt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}oe>=0&&oe<=H.width-fe&&de>=0&&de<=H.height-ce&&G.readPixels(oe,de,fe,ce,ie.convert(mt),ie.convert(xt),ke)}finally{const it=R!==null?Ue.get(R).__webglFramebuffer:null;ge.bindFramebuffer(G.FRAMEBUFFER,it)}}},this.readRenderTargetPixelsAsync=async function(H,oe,de,fe,ce,ke,$e){if(!(H&&H.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let st=Ue.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&$e!==void 0&&(st=st[$e]),st){ge.bindFramebuffer(G.FRAMEBUFFER,st);try{const it=H.texture,mt=it.format,xt=it.type;if(!Ie.textureFormatReadable(mt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ie.textureTypeReadable(xt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(oe>=0&&oe<=H.width-fe&&de>=0&&de<=H.height-ce){const ft=G.createBuffer();G.bindBuffer(G.PIXEL_PACK_BUFFER,ft),G.bufferData(G.PIXEL_PACK_BUFFER,ke.byteLength,G.STREAM_READ),G.readPixels(oe,de,fe,ce,ie.convert(mt),ie.convert(xt),0),G.flush();const Qt=G.fenceSync(G.SYNC_GPU_COMMANDS_COMPLETE,0);await die(G,Qt,4);try{G.bindBuffer(G.PIXEL_PACK_BUFFER,ft),G.getBufferSubData(G.PIXEL_PACK_BUFFER,0,ke)}finally{G.deleteBuffer(ft),G.deleteSync(Qt)}return ke}}finally{const it=R!==null?Ue.get(R).__webglFramebuffer:null;ge.bindFramebuffer(G.FRAMEBUFFER,it)}}},this.copyFramebufferToTexture=function(H,oe=null,de=0){H.isTexture!==!0&&(_m("WebGLRenderer: copyFramebufferToTexture function signature has changed."),oe=arguments[0]||null,H=arguments[1]);const fe=Math.pow(2,-de),ce=Math.floor(H.image.width*fe),ke=Math.floor(H.image.height*fe),$e=oe!==null?oe.x:0,st=oe!==null?oe.y:0;Ke.setTexture2D(H,0),G.copyTexSubImage2D(G.TEXTURE_2D,de,0,0,$e,st,ce,ke),ge.unbindTexture()},this.copyTextureToTexture=function(H,oe,de=null,fe=null,ce=0){H.isTexture!==!0&&(_m("WebGLRenderer: copyTextureToTexture function signature has changed."),fe=arguments[0]||null,H=arguments[1],oe=arguments[2],ce=arguments[3]||0,de=null);let ke,$e,st,it,mt,xt;de!==null?(ke=de.max.x-de.min.x,$e=de.max.y-de.min.y,st=de.min.x,it=de.min.y):(ke=H.image.width,$e=H.image.height,st=0,it=0),fe!==null?(mt=fe.x,xt=fe.y):(mt=0,xt=0);const ft=ie.convert(oe.format),Qt=ie.convert(oe.type);Ke.setTexture2D(oe,0),G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,oe.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,oe.unpackAlignment);const _n=G.getParameter(G.UNPACK_ROW_LENGTH),on=G.getParameter(G.UNPACK_IMAGE_HEIGHT),Xn=G.getParameter(G.UNPACK_SKIP_PIXELS),ht=G.getParameter(G.UNPACK_SKIP_ROWS),je=G.getParameter(G.UNPACK_SKIP_IMAGES),xn=H.isCompressedTexture?H.mipmaps[ce]:H.image;G.pixelStorei(G.UNPACK_ROW_LENGTH,xn.width),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,xn.height),G.pixelStorei(G.UNPACK_SKIP_PIXELS,st),G.pixelStorei(G.UNPACK_SKIP_ROWS,it),H.isDataTexture?G.texSubImage2D(G.TEXTURE_2D,ce,mt,xt,ke,$e,ft,Qt,xn.data):H.isCompressedTexture?G.compressedTexSubImage2D(G.TEXTURE_2D,ce,mt,xt,xn.width,xn.height,ft,xn.data):G.texSubImage2D(G.TEXTURE_2D,ce,mt,xt,ke,$e,ft,Qt,xn),G.pixelStorei(G.UNPACK_ROW_LENGTH,_n),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,on),G.pixelStorei(G.UNPACK_SKIP_PIXELS,Xn),G.pixelStorei(G.UNPACK_SKIP_ROWS,ht),G.pixelStorei(G.UNPACK_SKIP_IMAGES,je),ce===0&&oe.generateMipmaps&&G.generateMipmap(G.TEXTURE_2D),ge.unbindTexture()},this.copyTextureToTexture3D=function(H,oe,de=null,fe=null,ce=0){H.isTexture!==!0&&(_m("WebGLRenderer: copyTextureToTexture3D function signature has changed."),de=arguments[0]||null,fe=arguments[1]||null,H=arguments[2],oe=arguments[3],ce=arguments[4]||0);let ke,$e,st,it,mt,xt,ft,Qt,_n;const on=H.isCompressedTexture?H.mipmaps[ce]:H.image;de!==null?(ke=de.max.x-de.min.x,$e=de.max.y-de.min.y,st=de.max.z-de.min.z,it=de.min.x,mt=de.min.y,xt=de.min.z):(ke=on.width,$e=on.height,st=on.depth,it=0,mt=0,xt=0),fe!==null?(ft=fe.x,Qt=fe.y,_n=fe.z):(ft=0,Qt=0,_n=0);const Xn=ie.convert(oe.format),ht=ie.convert(oe.type);let je;if(oe.isData3DTexture)Ke.setTexture3D(oe,0),je=G.TEXTURE_3D;else if(oe.isDataArrayTexture||oe.isCompressedArrayTexture)Ke.setTexture2DArray(oe,0),je=G.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,oe.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,oe.unpackAlignment);const xn=G.getParameter(G.UNPACK_ROW_LENGTH),St=G.getParameter(G.UNPACK_IMAGE_HEIGHT),An=G.getParameter(G.UNPACK_SKIP_PIXELS),$r=G.getParameter(G.UNPACK_SKIP_ROWS),hi=G.getParameter(G.UNPACK_SKIP_IMAGES);G.pixelStorei(G.UNPACK_ROW_LENGTH,on.width),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,on.height),G.pixelStorei(G.UNPACK_SKIP_PIXELS,it),G.pixelStorei(G.UNPACK_SKIP_ROWS,mt),G.pixelStorei(G.UNPACK_SKIP_IMAGES,xt),H.isDataTexture||H.isData3DTexture?G.texSubImage3D(je,ce,ft,Qt,_n,ke,$e,st,Xn,ht,on.data):oe.isCompressedArrayTexture?G.compressedTexSubImage3D(je,ce,ft,Qt,_n,ke,$e,st,Xn,on.data):G.texSubImage3D(je,ce,ft,Qt,_n,ke,$e,st,Xn,ht,on),G.pixelStorei(G.UNPACK_ROW_LENGTH,xn),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,St),G.pixelStorei(G.UNPACK_SKIP_PIXELS,An),G.pixelStorei(G.UNPACK_SKIP_ROWS,$r),G.pixelStorei(G.UNPACK_SKIP_IMAGES,hi),ce===0&&oe.generateMipmaps&&G.generateMipmap(je),ge.unbindTexture()},this.initRenderTarget=function(H){Ue.get(H).__webglFramebuffer===void 0&&Ke.setupRenderTarget(H)},this.initTexture=function(H){H.isCubeTexture?Ke.setTextureCube(H,0):H.isData3DTexture?Ke.setTexture3D(H,0):H.isDataArrayTexture||H.isCompressedArrayTexture?Ke.setTexture2DArray(H,0):Ke.setTexture2D(H,0),ge.unbindTexture()},this.resetState=function(){T=0,E=0,R=null,ge.reset(),be.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ol}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===JC?"display-p3":"srgb",t.unpackColorSpace=nn.workingColorSpace===rx?"display-p3":"srgb"}}class QC{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ge(e),this.density=t}clone(){return new QC(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class $C{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new Ge(e),this.near=t,this.far=n}clone(){return new $C(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class eb extends zt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Qs,this.environmentIntensity=1,this.environmentRotation=new Qs,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class lx{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=sy,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Js()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return _m("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Js()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Js()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const zr=new V;class Mh{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)zr.fromBufferAttribute(this,t),zr.applyMatrix4(e),this.setXYZ(t,zr.x,zr.y,zr.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)zr.fromBufferAttribute(this,t),zr.applyNormalMatrix(e),this.setXYZ(t,zr.x,zr.y,zr.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)zr.fromBufferAttribute(this,t),zr.transformDirection(e),this.setXYZ(t,zr.x,zr.y,zr.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=Kr(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Lt(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=Lt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Lt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Lt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Lt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Kr(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Kr(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Kr(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Kr(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Lt(t,this.array),n=Lt(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Lt(t,this.array),n=Lt(n,this.array),r=Lt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Lt(t,this.array),n=Lt(n,this.array),r=Lt(r,this.array),s=Lt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Zt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Mh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class fI extends _i{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ge(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let wp;const h1=new V,bp=new V,Cp=new V,Mp=new Se,d1=new Se,zV=new pt,hS=new V,f1=new V,dS=new V,nk=new Se,f6=new Se,ik=new Se;class jV extends zt{constructor(e=new fI){if(super(),this.isSprite=!0,this.type="Sprite",wp===void 0){wp=new Pt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new lx(t,5);wp.setIndex([0,1,2,0,2,3]),wp.setAttribute("position",new Mh(n,3,0,!1)),wp.setAttribute("uv",new Mh(n,2,3,!1))}this.geometry=wp,this.material=e,this.center=new Se(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),bp.setFromMatrixScale(this.matrixWorld),zV.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Cp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&bp.multiplyScalar(-Cp.z);const n=this.material.rotation;let r,s;n!==0&&(s=Math.cos(n),r=Math.sin(n));const o=this.center;fS(hS.set(-.5,-.5,0),Cp,o,bp,r,s),fS(f1.set(.5,-.5,0),Cp,o,bp,r,s),fS(dS.set(.5,.5,0),Cp,o,bp,r,s),nk.set(0,0),f6.set(1,0),ik.set(1,1);let a=e.ray.intersectTriangle(hS,f1,dS,!1,h1);if(a===null&&(fS(f1.set(-.5,.5,0),Cp,o,bp,r,s),f6.set(0,1),a=e.ray.intersectTriangle(hS,dS,f1,!1,h1),a===null))return;const l=e.ray.origin.distanceTo(h1);l<e.near||l>e.far||t.push({distance:l,point:h1.clone(),uv:Hs.getInterpolation(h1,hS,f1,dS,nk,f6,ik,new Se),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function fS(i,e,t,n,r,s){Mp.subVectors(i,t).addScalar(.5).multiply(n),r!==void 0?(d1.x=s*Mp.x-r*Mp.y,d1.y=r*Mp.x+s*Mp.y):d1.copy(Mp),i.copy(e),i.x+=d1.x,i.y+=d1.y,i.applyMatrix4(zV)}const pS=new V,rk=new V;class HV extends zt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const s=t[n];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let s=t[n].distance;if(t[n].object.visible&&(s-=s*t[n].hysteresis),e<s)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){pS.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(pS);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){pS.setFromMatrixPosition(e.matrixWorld),rk.setFromMatrixPosition(this.matrixWorld);const n=pS.distanceTo(rk)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),n>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,s=n.length;r<s;r++){const o=n[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const sk=new V,ok=new sn,ak=new sn,Cle=new V,lk=new pt,mS=new V,p6=new Ki,ck=new pt,m6=new B0;class pI extends ci{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=w9,this.bindMatrix=new pt,this.bindMatrixInverse=new pt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ur),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,mS),this.boundingBox.expandByPoint(mS)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ki),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,mS),this.boundingSphere.expandByPoint(mS)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,r=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),p6.copy(this.boundingSphere),p6.applyMatrix4(r),e.ray.intersectsSphere(p6)!==!1&&(ck.copy(r).invert(),m6.copy(e.ray).applyMatrix4(ck),!(this.boundingBox!==null&&m6.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,m6)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new sn,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===w9?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===aV?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;ok.fromBufferAttribute(r.attributes.skinIndex,e),ak.fromBufferAttribute(r.attributes.skinWeight,e),sk.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=ak.getComponent(s);if(o!==0){const a=ok.getComponent(s);lk.multiplyMatrices(n.bones[a].matrixWorld,n.boneInverses[a]),t.addScaledVector(Cle.copy(sk).applyMatrix4(lk),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class eM extends zt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class hl extends Ln{constructor(e=null,t=1,n=1,r,s,o,a,l,c=Ri,u=Ri,h,d){super(null,o,a,l,c,u,r,s,h,d),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const uk=new pt,Mle=new pt;class cx{constructor(e=[],t=[]){this.uuid=Js(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new pt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new pt;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Mle;uk.multiplyMatrices(a,t[s]),uk.toArray(n,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new cx(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new hl(t,e,e,Rr,hs);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const s=e.bones[n];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new eM),this.bones.push(o),this.boneInverses.push(new pt().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=n[r];e.boneInverses.push(a.toArray())}return e}}class y0 extends Zt{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Ep=new pt,hk=new pt,gS=[],dk=new ur,Ele=new pt,p1=new ci,m1=new Ki;class mI extends ci{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new y0(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,Ele)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new ur),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Ep),dk.copy(e.boundingBox).applyMatrix4(Ep),this.boundingBox.union(dk)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ki),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Ep),m1.copy(e.boundingSphere).applyMatrix4(Ep),this.boundingSphere.union(m1)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=n.length+1,o=e*s+1;for(let a=0;a<n.length;a++)n[a]=r[o+a]}raycast(e,t){const n=this.matrixWorld,r=this.count;if(p1.geometry=this.geometry,p1.material=this.material,p1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),m1.copy(this.boundingSphere),m1.applyMatrix4(n),e.ray.intersectsSphere(m1)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Ep),hk.multiplyMatrices(n,Ep),p1.matrixWorld=hk,p1.raycast(e,gS);for(let o=0,a=gS.length;o<a;o++){const l=gS[o];l.instanceId=s,l.object=this,t.push(l)}gS.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new y0(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,r=n.length+1;this.morphTexture===null&&(this.morphTexture=new hl(new Float32Array(r*this.count),r,this.count,WC,hs));const s=this.morphTexture.source.data.data;let o=0;for(let c=0;c<n.length;c++)o+=n[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=r*e;s[l]=a,s.set(n,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function Tle(i,e){return i.z-e.z}function Rle(i,e){return e.z-i.z}class Ple{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n){const r=this.pool,s=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const o=r[this.index];s.push(o),this.index++,o.start=e.start,o.count=e.count,o.z=t,o.index=n}reset(){this.list.length=0,this.index=0}}const uu=new pt,g6=new pt,Ile=new pt,Lle=new Ge(1,1,1),fk=new pt,v6=new ax,vS=new ur,rd=new Ki,g1=new V,pk=new V,Dle=new V,y6=new Ple,xr=new ci,yS=[];function Ble(i,e,t=0){const n=e.itemSize;if(i.isInterleavedBufferAttribute||i.array.constructor!==e.array.constructor){const r=i.count;for(let s=0;s<r;s++)for(let o=0;o<n;o++)e.setComponent(s+t,o,i.getComponent(s,o))}else e.array.set(i.array,t*n);e.needsUpdate=!0}class GV extends ci{get maxInstanceCount(){return this._maxInstanceCount}constructor(e,t,n=t*2,r){super(new Pt,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawInfo=[],this._drawRanges=[],this._reservedRanges=[],this._bounds=[],this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new hl(t,e,e,Rr,hs);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new hl(t,e,e,ix,jc);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxIndexCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new hl(t,e,e,Rr,hs);n.colorSpace=nn.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:l,normalized:c}=o,u=new a.constructor(n*l),h=new Zt(u,l,c);t.setAttribute(s,h)}if(e.getIndex()!==null){const s=n>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Zt(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const r=e.getAttribute(n),s=t.getAttribute(n);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ur);const e=this._geometryCount,t=this.boundingBox,n=this._drawInfo;t.makeEmpty();for(let r=0;r<e;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,uu),this.getBoundingBoxAt(s,vS).applyMatrix4(uu),t.union(vS)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ki);const e=this.boundingSphere,t=this._drawInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(t[n].active===!1)continue;const s=t[n].geometryIndex;this.getMatrixAt(n,uu),this.getBoundingSphereAt(s,rd).applyMatrix4(uu),e.union(rd)}}addInstance(e){if(this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");this._drawInfo.push({visible:!0,active:!0,geometryIndex:e});const t=this._drawInfo.length-1,n=this._matricesTexture,r=n.image.data;Ile.toArray(r,t*16),n.needsUpdate=!0;const s=this._colorsTexture;return s&&(Lle.toArray(s.image.data,t*4),s.needsUpdate=!0),t}addGeometry(e,t=-1,n=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");const r={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),t===-1?r.vertexCount=e.getAttribute("position").count:r.vertexCount=t,s===null?r.vertexStart=0:r.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),u=c!==null;if(u&&(n===-1?r.indexCount=c.count:r.indexCount=n,s===null?r.indexStart=0:r.indexStart=s.indexStart+s.indexCount),r.indexStart!==-1&&r.indexStart+r.indexCount>this._maxIndexCount||r.vertexStart+r.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const h=this._geometryCount;return this._geometryCount++,o.push(r),a.push({start:u?r.indexStart:r.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new ur,sphereInitialized:!1,sphere:new Ki}),this.setGeometryAt(h,e),h}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,r=n.getIndex()!==null,s=n.getIndex(),o=t.getIndex(),a=this._reservedRanges[e];if(r&&o.count>a.indexCount||t.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const m in n.attributes){const g=t.getAttribute(m),y=n.getAttribute(m);Ble(g,y,l);const _=g.itemSize;for(let v=g.count,A=c;v<A;v++){const S=l+v;for(let C=0;C<_;C++)y.setComponent(S,C,0)}y.needsUpdate=!0,y.addUpdateRange(l*_,c*_)}if(r){const m=a.indexStart;for(let g=0;g<o.count;g++)s.setX(m+g,l+o.getX(g));for(let g=o.count,y=a.indexCount;g<y;g++)s.setX(m+g,l);s.needsUpdate=!0,s.addUpdateRange(m,a.indexCount)}const u=this._bounds[e];t.boundingBox!==null?(u.box.copy(t.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,t.boundingSphere!==null?(u.sphere.copy(t.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const h=this._drawRanges[e],d=t.getAttribute("position");return h.count=r?o.count:d.count,this._visibilityChanged=!0,e}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this._bounds[e],r=n.box,s=this.geometry;if(n.boxInitialized===!1){r.makeEmpty();const o=s.index,a=s.attributes.position,l=this._drawRanges[e];for(let c=l.start,u=l.start+l.count;c<u;c++){let h=c;o&&(h=o.getX(h)),r.expandByPoint(g1.fromBufferAttribute(a,h))}n.boxInitialized=!0}return t.copy(r),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this._bounds[e],r=n.sphere,s=this.geometry;if(n.sphereInitialized===!1){r.makeEmpty(),this.getBoundingBoxAt(e,vS),vS.getCenter(r.center);const o=s.index,a=s.attributes.position,l=this._drawRanges[e];let c=0;for(let u=l.start,h=l.start+l.count;u<h;u++){let d=u;o&&(d=o.getX(d)),g1.fromBufferAttribute(a,d),c=Math.max(c,r.center.distanceToSquared(g1))}r.radius=Math.sqrt(c),n.sphereInitialized=!0}return t.copy(r),t}setMatrixAt(e,t){const n=this._drawInfo,r=this._matricesTexture,s=this._matricesTexture.image.data;return e>=n.length||n[e].active===!1?this:(t.toArray(s,e*16),r.needsUpdate=!0,this)}getMatrixAt(e,t){const n=this._drawInfo,r=this._matricesTexture.image.data;return e>=n.length||n[e].active===!1?null:t.fromArray(r,e*16)}setColorAt(e,t){this._colorsTexture===null&&this._initColorsTexture();const n=this._colorsTexture,r=this._colorsTexture.image.data,s=this._drawInfo;return e>=s.length||s[e].active===!1?this:(t.toArray(r,e*4),n.needsUpdate=!0,this)}getColorAt(e,t){const n=this._colorsTexture.image.data,r=this._drawInfo;return e>=r.length||r[e].active===!1?null:t.fromArray(n,e*4)}setVisibleAt(e,t){const n=this._drawInfo;return e>=n.length||n[e].active===!1||n[e].visible===t?this:(n[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._drawInfo;return e>=t.length||t[e].active===!1?!1:t[e].visible}raycast(e,t){const n=this._drawInfo,r=this._drawRanges,s=this.matrixWorld,o=this.geometry;xr.material=this.material,xr.geometry.index=o.index,xr.geometry.attributes=o.attributes,xr.geometry.boundingBox===null&&(xr.geometry.boundingBox=new ur),xr.geometry.boundingSphere===null&&(xr.geometry.boundingSphere=new Ki);for(let a=0,l=n.length;a<l;a++){if(!n[a].visible||!n[a].active)continue;const c=n[a].geometryIndex,u=r[c];xr.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(a,xr.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,xr.geometry.boundingBox),this.getBoundingSphereAt(c,xr.geometry.boundingSphere),xr.raycast(e,yS);for(let h=0,d=yS.length;h<d;h++){const m=yS[h];m.object=this,m.batchId=a,t.push(m)}yS.length=0}xr.material=null,xr.geometry.index=null,xr.geometry.attributes={},xr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(t=>({...t})),this._reservedRanges=e._reservedRanges.map(t=>({...t})),this._drawInfo=e._drawInfo.map(t=>({...t})),this._bounds=e._bounds.map(t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,n,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._drawInfo,c=this._multiDrawStarts,u=this._multiDrawCounts,h=this._drawRanges,d=this.perObjectFrustumCulled,m=this._indirectTexture,g=m.image.data;d&&(fk.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),v6.setFromProjectionMatrix(fk,e.coordinateSystem));let y=0;if(this.sortObjects){g6.copy(this.matrixWorld).invert(),g1.setFromMatrixPosition(n.matrixWorld).applyMatrix4(g6),pk.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(g6);for(let A=0,S=l.length;A<S;A++)if(l[A].visible&&l[A].active){const C=l[A].geometryIndex;this.getMatrixAt(A,uu),this.getBoundingSphereAt(C,rd).applyMatrix4(uu);let T=!1;if(d&&(T=!v6.intersectsSphere(rd)),!T){const E=Dle.subVectors(rd.center,g1).dot(pk);y6.push(h[C],E,A)}}const _=y6.list,v=this.customSort;v===null?_.sort(s.transparent?Rle:Tle):v.call(this,_,n);for(let A=0,S=_.length;A<S;A++){const C=_[A];c[y]=C.start*a,u[y]=C.count,g[y]=C.index,y++}y6.reset()}else for(let _=0,v=l.length;_<v;_++)if(l[_].visible&&l[_].active){const A=l[_].geometryIndex;let S=!1;if(d&&(this.getMatrixAt(_,uu),this.getBoundingSphereAt(A,rd).applyMatrix4(uu),S=!v6.intersectsSphere(rd)),!S){const C=h[A];c[y]=C.start*a,u[y]=C.count,g[y]=_,y++}}m.needsUpdate=!0,this._multiDrawCount=y,this._visibilityChanged=!1}onBeforeShadow(e,t,n,r,s,o){this.onBeforeRender(e,null,r,s,o)}}class Or extends _i{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ge(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const tb=new V,nb=new V,mk=new pt,v1=new B0,_S=new Ki,_6=new V,gk=new V;class Hc extends zt{constructor(e=new Pt,t=new Or){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,s=t.count;r<s;r++)tb.fromBufferAttribute(t,r-1),nb.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=tb.distanceTo(nb);e.setAttribute("lineDistance",new at(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),_S.copy(n.boundingSphere),_S.applyMatrix4(r),_S.radius+=s,e.ray.intersectsSphere(_S)===!1)return;mk.copy(r).invert(),v1.copy(e.ray).applyMatrix4(mk);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,u=n.index,d=n.attributes.position;if(u!==null){const m=Math.max(0,o.start),g=Math.min(u.count,o.start+o.count);for(let y=m,_=g-1;y<_;y+=c){const v=u.getX(y),A=u.getX(y+1),S=xS(this,e,v1,l,v,A);S&&t.push(S)}if(this.isLineLoop){const y=u.getX(g-1),_=u.getX(m),v=xS(this,e,v1,l,y,_);v&&t.push(v)}}else{const m=Math.max(0,o.start),g=Math.min(d.count,o.start+o.count);for(let y=m,_=g-1;y<_;y+=c){const v=xS(this,e,v1,l,y,y+1);v&&t.push(v)}if(this.isLineLoop){const y=xS(this,e,v1,l,g-1,m);y&&t.push(y)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function xS(i,e,t,n,r,s){const o=i.geometry.attributes.position;if(tb.fromBufferAttribute(o,r),nb.fromBufferAttribute(o,s),t.distanceSqToSegment(tb,nb,_6,gk)>n)return;_6.applyMatrix4(i.matrixWorld);const l=e.ray.origin.distanceTo(_6);if(!(l<e.near||l>e.far))return{distance:l,point:gk.clone().applyMatrix4(i.matrixWorld),index:r,face:null,faceIndex:null,object:i}}const vk=new V,yk=new V;class ba extends Hc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let r=0,s=t.count;r<s;r+=2)vk.fromBufferAttribute(t,r),yk.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+vk.distanceTo(yk);e.setAttribute("lineDistance",new at(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class gI extends Hc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class tM extends _i{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ge(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const _k=new pt,R9=new B0,AS=new Ki,SS=new V;class vI extends zt{constructor(e=new Pt,t=new tM){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),AS.copy(n.boundingSphere),AS.applyMatrix4(r),AS.radius+=s,e.ray.intersectsSphere(AS)===!1)return;_k.copy(r).invert(),R9.copy(e.ray).applyMatrix4(_k);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=n.index,h=n.attributes.position;if(c!==null){const d=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let g=d,y=m;g<y;g++){const _=c.getX(g);SS.fromBufferAttribute(h,_),xk(SS,_,l,r,e,t,this)}}else{const d=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let g=d,y=m;g<y;g++)SS.fromBufferAttribute(h,g),xk(SS,g,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function xk(i,e,t,n,r,s,o){const a=R9.distanceSqToPoint(i);if(a<t){const l=new V;R9.closestPointToPoint(i,l),l.applyMatrix4(n);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class VV extends Ln{constructor(e,t,n,r,s,o,a,l,c){super(e,t,n,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:$n,this.magFilter=s!==void 0?s:$n,this.generateMipmaps=!1;const u=this;function h(){u.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Fle extends Ln{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Ri,this.minFilter=Ri,this.generateMipmaps=!1,this.needsUpdate=!0}}class nM extends Ln{constructor(e,t,n,r,s,o,a,l,c,u,h,d){super(null,o,a,l,c,u,r,s,h,d),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Ole extends nM{constructor(e,t,n,r,s,o){super(e,t,n,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Ws,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class kle extends nM{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,zc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Nle extends Ln{constructor(e,t,n,r,s,o,a,l,c){super(e,t,n,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ca{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),s+=n.distanceTo(r),t.push(s),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const s=n.length;let o;t?o=t:o=e*n[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=n[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,n[r]===o)return r/(s-1);const u=n[r],d=n[r+1]-u,m=(o-u)/d;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new Se:new V);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new V,r=[],s=[],o=[],a=new V,l=new pt;for(let m=0;m<=e;m++){const g=m/e;r[m]=this.getTangentAt(g,new V)}s[0]=new V,o[0]=new V;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),h=Math.abs(r[0].y),d=Math.abs(r[0].z);u<=c&&(c=u,n.set(1,0,0)),h<=c&&(c=h,n.set(0,1,0)),d<=c&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(Qn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(Qn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(r[g],m*g)),o[g].crossVectors(r[g],s[g])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class iM extends Ca{constructor(e=0,t=0,n=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t=new Se){const n=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),d=l-this.aX,m=c-this.aY;l=d*u-m*h+this.aX,c=d*h+m*u+this.aY}return n.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class WV extends iM{constructor(e,t,n,r,s,o){super(e,t,n,n,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function yI(){let i=0,e=0,t=0,n=0;function r(s,o,a,l){i=s,e=a,t=-3*s+3*o-2*a-l,n=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,h){let d=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+h)+(l-a)/h;d*=u,m*=u,r(o,a,d,m)},calc:function(s){const o=s*s,a=o*s;return i+e*s+t*o+n*a}}}const wS=new V,x6=new yI,A6=new yI,S6=new yI;class XV extends Ca{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new V){const n=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=r[(a-1)%s]:(wS.subVectors(r[0],r[1]).add(r[0]),c=wS);const h=r[a%s],d=r[(a+1)%s];if(this.closed||a+2<s?u=r[(a+2)%s]:(wS.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=wS),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(h),m),y=Math.pow(h.distanceToSquared(d),m),_=Math.pow(d.distanceToSquared(u),m);y<1e-4&&(y=1),g<1e-4&&(g=y),_<1e-4&&(_=y),x6.initNonuniformCatmullRom(c.x,h.x,d.x,u.x,g,y,_),A6.initNonuniformCatmullRom(c.y,h.y,d.y,u.y,g,y,_),S6.initNonuniformCatmullRom(c.z,h.z,d.z,u.z,g,y,_)}else this.curveType==="catmullrom"&&(x6.initCatmullRom(c.x,h.x,d.x,u.x,this.tension),A6.initCatmullRom(c.y,h.y,d.y,u.y,this.tension),S6.initCatmullRom(c.z,h.z,d.z,u.z,this.tension));return n.set(x6.calc(l),A6.calc(l),S6.calc(l)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new V().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Ak(i,e,t,n,r){const s=(n-e)*.5,o=(r-t)*.5,a=i*i,l=i*a;return(2*t-2*n+s+o)*l+(-3*t+3*n-2*s-o)*a+s*i+t}function Ule(i,e){const t=1-i;return t*t*e}function zle(i,e){return 2*(1-i)*i*e}function jle(i,e){return i*i*e}function yv(i,e,t,n){return Ule(i,e)+zle(i,t)+jle(i,n)}function Hle(i,e){const t=1-i;return t*t*t*e}function Gle(i,e){const t=1-i;return 3*t*t*i*e}function Vle(i,e){return 3*(1-i)*i*i*e}function Wle(i,e){return i*i*i*e}function _v(i,e,t,n,r){return Hle(i,e)+Gle(i,t)+Vle(i,n)+Wle(i,r)}class _I extends Ca{constructor(e=new Se,t=new Se,n=new Se,r=new Se){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Se){const n=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return n.set(_v(e,r.x,s.x,o.x,a.x),_v(e,r.y,s.y,o.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class KV extends Ca{constructor(e=new V,t=new V,n=new V,r=new V){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new V){const n=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return n.set(_v(e,r.x,s.x,o.x,a.x),_v(e,r.y,s.y,o.y,a.y),_v(e,r.z,s.z,o.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class xI extends Ca{constructor(e=new Se,t=new Se){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Se){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Se){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class YV extends Ca{constructor(e=new V,t=new V){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new V){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new V){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class AI extends Ca{constructor(e=new Se,t=new Se,n=new Se){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Se){const n=t,r=this.v0,s=this.v1,o=this.v2;return n.set(yv(e,r.x,s.x,o.x),yv(e,r.y,s.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class SI extends Ca{constructor(e=new V,t=new V,n=new V){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new V){const n=t,r=this.v0,s=this.v1,o=this.v2;return n.set(yv(e,r.x,s.x,o.x),yv(e,r.y,s.y,o.y),yv(e,r.z,s.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class wI extends Ca{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Se){const n=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return n.set(Ak(a,l.x,c.x,u.x,h.x),Ak(a,l.y,c.y,u.y,h.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new Se().fromArray(r))}return this}}var ib=Object.freeze({__proto__:null,ArcCurve:WV,CatmullRomCurve3:XV,CubicBezierCurve:_I,CubicBezierCurve3:KV,EllipseCurve:iM,LineCurve:xI,LineCurve3:YV,QuadraticBezierCurve:AI,QuadraticBezierCurve3:SI,SplineCurve:wI});class JV extends Ca{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new ib[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=n){const o=r[s]-n,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];n&&n.equals(u)||(t.push(u),n=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(new ib[r.type]().fromJSON(r))}return this}}class ly extends JV{constructor(e){super(),this.type="Path",this.currentPoint=new Se,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new xI(this.currentPoint.clone(),new Se(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const s=new AI(this.currentPoint.clone(),new Se(e,t),new Se(n,r));return this.curves.push(s),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,s,o){const a=new _I(this.currentPoint.clone(),new Se(e,t),new Se(n,r),new Se(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new wI(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,n,r,s,o),this}absarc(e,t,n,r,s,o){return this.absellipse(e,t,n,n,r,s,o),this}ellipse(e,t,n,r,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,n,r,s,o,a,l),this}absellipse(e,t,n,r,s,o,a,l){const c=new iM(e,t,n,r,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class ux extends Pt{constructor(e=[new Se(0,-.5),new Se(.5,0),new Se(0,.5)],t=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=Qn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,h=new V,d=new Se,m=new V,g=new V,y=new V;let _=0,v=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:_=e[A+1].x-e[A].x,v=e[A+1].y-e[A].y,m.x=v*1,m.y=-_,m.z=v*0,y.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:_=e[A+1].x-e[A].x,v=e[A+1].y-e[A].y,m.x=v*1,m.y=-_,m.z=v*0,g.copy(m),m.x+=y.x,m.y+=y.y,m.z+=y.z,m.normalize(),l.push(m.x,m.y,m.z),y.copy(g)}for(let A=0;A<=t;A++){const S=n+A*u*r,C=Math.sin(S),T=Math.cos(S);for(let E=0;E<=e.length-1;E++){h.x=e[E].x*C,h.y=e[E].y,h.z=e[E].x*T,o.push(h.x,h.y,h.z),d.x=A/t,d.y=E/(e.length-1),a.push(d.x,d.y);const R=l[3*E+0]*C,D=l[3*E+1],I=l[3*E+0]*T;c.push(R,D,I)}}for(let A=0;A<t;A++)for(let S=0;S<e.length-1;S++){const C=S+A*e.length,T=C,E=C+e.length,R=C+e.length+1,D=C+1;s.push(T,E,D),s.push(R,D,E)}this.setIndex(s),this.setAttribute("position",new at(o,3)),this.setAttribute("uv",new at(a,2)),this.setAttribute("normal",new at(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ux(e.points,e.segments,e.phiStart,e.phiLength)}}class rM extends ux{constructor(e=1,t=1,n=4,r=8){const s=new ly;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new rM(e.radius,e.length,e.capSegments,e.radialSegments)}}class sM extends Pt{constructor(e=1,t=32,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new V,u=new Se;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,d=3;h<=t;h++,d+=3){const m=n+h/t*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[d]/e+1)/2,u.y=(o[d+1]/e+1)/2,l.push(u.x,u.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new at(o,3)),this.setAttribute("normal",new at(a,3)),this.setAttribute("uv",new at(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sM(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Mg extends Pt{constructor(e=1,t=1,n=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const u=[],h=[],d=[],m=[];let g=0;const y=[],_=n/2;let v=0;A(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(u),this.setAttribute("position",new at(h,3)),this.setAttribute("normal",new at(d,3)),this.setAttribute("uv",new at(m,2));function A(){const C=new V,T=new V;let E=0;const R=(t-e)/n;for(let D=0;D<=s;D++){const I=[],L=D/s,O=L*(t-e)+e;for(let W=0;W<=r;W++){const X=W/r,Z=X*l+a,$=Math.sin(Z),Q=Math.cos(Z);T.x=O*$,T.y=-L*n+_,T.z=O*Q,h.push(T.x,T.y,T.z),C.set($,R,Q).normalize(),d.push(C.x,C.y,C.z),m.push(X,1-L),I.push(g++)}y.push(I)}for(let D=0;D<r;D++)for(let I=0;I<s;I++){const L=y[I][D],O=y[I+1][D],W=y[I+1][D+1],X=y[I][D+1];u.push(L,O,X),u.push(O,W,X),E+=6}c.addGroup(v,E,0),v+=E}function S(C){const T=g,E=new Se,R=new V;let D=0;const I=C===!0?e:t,L=C===!0?1:-1;for(let W=1;W<=r;W++)h.push(0,_*L,0),d.push(0,L,0),m.push(.5,.5),g++;const O=g;for(let W=0;W<=r;W++){const Z=W/r*l+a,$=Math.cos(Z),Q=Math.sin(Z);R.x=I*Q,R.y=_*L,R.z=I*$,h.push(R.x,R.y,R.z),d.push(0,L,0),E.x=$*.5+.5,E.y=Q*.5*L+.5,m.push(E.x,E.y),g++}for(let W=0;W<r;W++){const X=T+W,Z=O+W;C===!0?u.push(Z,Z+1,X):u.push(Z+1,Z,X),D+=3}c.addGroup(v,D,C===!0?1:2),v+=D}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mg(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class oM extends Mg{constructor(e=1,t=1,n=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,n,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new oM(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class kh extends Pt{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const s=[],o=[];a(r),c(n),u(),this.setAttribute("position",new at(s,3)),this.setAttribute("normal",new at(s.slice(),3)),this.setAttribute("uv",new at(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(A){const S=new V,C=new V,T=new V;for(let E=0;E<t.length;E+=3)m(t[E+0],S),m(t[E+1],C),m(t[E+2],T),l(S,C,T,A)}function l(A,S,C,T){const E=T+1,R=[];for(let D=0;D<=E;D++){R[D]=[];const I=A.clone().lerp(C,D/E),L=S.clone().lerp(C,D/E),O=E-D;for(let W=0;W<=O;W++)W===0&&D===E?R[D][W]=I:R[D][W]=I.clone().lerp(L,W/O)}for(let D=0;D<E;D++)for(let I=0;I<2*(E-D)-1;I++){const L=Math.floor(I/2);I%2===0?(d(R[D][L+1]),d(R[D+1][L]),d(R[D][L])):(d(R[D][L+1]),d(R[D+1][L+1]),d(R[D+1][L]))}}function c(A){const S=new V;for(let C=0;C<s.length;C+=3)S.x=s[C+0],S.y=s[C+1],S.z=s[C+2],S.normalize().multiplyScalar(A),s[C+0]=S.x,s[C+1]=S.y,s[C+2]=S.z}function u(){const A=new V;for(let S=0;S<s.length;S+=3){A.x=s[S+0],A.y=s[S+1],A.z=s[S+2];const C=_(A)/2/Math.PI+.5,T=v(A)/Math.PI+.5;o.push(C,1-T)}g(),h()}function h(){for(let A=0;A<o.length;A+=6){const S=o[A+0],C=o[A+2],T=o[A+4],E=Math.max(S,C,T),R=Math.min(S,C,T);E>.9&&R<.1&&(S<.2&&(o[A+0]+=1),C<.2&&(o[A+2]+=1),T<.2&&(o[A+4]+=1))}}function d(A){s.push(A.x,A.y,A.z)}function m(A,S){const C=A*3;S.x=e[C+0],S.y=e[C+1],S.z=e[C+2]}function g(){const A=new V,S=new V,C=new V,T=new V,E=new Se,R=new Se,D=new Se;for(let I=0,L=0;I<s.length;I+=9,L+=6){A.set(s[I+0],s[I+1],s[I+2]),S.set(s[I+3],s[I+4],s[I+5]),C.set(s[I+6],s[I+7],s[I+8]),E.set(o[L+0],o[L+1]),R.set(o[L+2],o[L+3]),D.set(o[L+4],o[L+5]),T.copy(A).add(S).add(C).divideScalar(3);const O=_(T);y(E,L+0,A,O),y(R,L+2,S,O),y(D,L+4,C,O)}}function y(A,S,C,T){T<0&&A.x===1&&(o[S]=A.x-1),C.x===0&&C.z===0&&(o[S]=T/2/Math.PI+.5)}function _(A){return Math.atan2(A.z,-A.x)}function v(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kh(e.vertices,e.indices,e.radius,e.details)}}class aM extends kh{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new aM(e.radius,e.detail)}}const bS=new V,CS=new V,w6=new V,MS=new Hs;class qV extends Pt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(n0*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],h=new Array(3),d={},m=[];for(let g=0;g<l;g+=3){o?(c[0]=o.getX(g),c[1]=o.getX(g+1),c[2]=o.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:y,b:_,c:v}=MS;if(y.fromBufferAttribute(a,c[0]),_.fromBufferAttribute(a,c[1]),v.fromBufferAttribute(a,c[2]),MS.getNormal(w6),h[0]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,h[1]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,h[2]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let A=0;A<3;A++){const S=(A+1)%3,C=h[A],T=h[S],E=MS[u[A]],R=MS[u[S]],D=`${C}_${T}`,I=`${T}_${C}`;I in d&&d[I]?(w6.dot(d[I].normal)<=s&&(m.push(E.x,E.y,E.z),m.push(R.x,R.y,R.z)),d[I]=null):D in d||(d[D]={index0:c[A],index1:c[S],normal:w6.clone()})}}for(const g in d)if(d[g]){const{index0:y,index1:_}=d[g];bS.fromBufferAttribute(a,y),CS.fromBufferAttribute(a,_),m.push(bS.x,bS.y,bS.z),m.push(CS.x,CS.y,CS.z)}this.setAttribute("position",new at(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class r0 extends ly{constructor(e){super(e),this.uuid=Js(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(new ly().fromJSON(r))}return this}}const Xle={triangulate:function(i,e,t=2){const n=e&&e.length,r=n?e[0]*t:i.length;let s=ZV(i,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,h,d,m;if(n&&(s=Zle(i,e,s,t)),i.length>80*t){a=c=i[0],l=u=i[1];for(let g=t;g<r;g+=t)h=i[g],d=i[g+1],h<a&&(a=h),d<l&&(l=d),h>c&&(c=h),d>u&&(u=d);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return cy(s,o,t,a,l,m,0),o}};function ZV(i,e,t,n,r){let s,o;if(r===lce(i,e,t,n)>0)for(s=e;s<t;s+=n)o=Sk(s,i[s],i[s+1],o);else for(s=t-n;s>=e;s-=n)o=Sk(s,i[s],i[s+1],o);return o&&lM(o,o.next)&&(hy(o),o=o.next),o}function _0(i,e){if(!i)return i;e||(e=i);let t=i,n;do if(n=!1,!t.steiner&&(lM(t,t.next)||jn(t.prev,t,t.next)===0)){if(hy(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function cy(i,e,t,n,r,s,o){if(!i)return;!o&&s&&nce(i,n,r,s);let a=i,l,c;for(;i.prev!==i.next;){if(l=i.prev,c=i.next,s?Yle(i,n,r,s):Kle(i)){e.push(l.i/t|0),e.push(i.i/t|0),e.push(c.i/t|0),hy(i),i=c.next,a=c.next;continue}if(i=c,i===a){o?o===1?(i=Jle(_0(i),e,t),cy(i,e,t,n,r,s,2)):o===2&&qle(i,e,t,n,r,s):cy(_0(i),e,t,n,r,s,1);break}}}function Kle(i){const e=i.prev,t=i,n=i.next;if(jn(e,t,n)>=0)return!1;const r=e.x,s=t.x,o=n.x,a=e.y,l=t.y,c=n.y,u=r<s?r<o?r:o:s<o?s:o,h=a<l?a<c?a:c:l<c?l:c,d=r>s?r>o?r:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let g=n.next;for(;g!==e;){if(g.x>=u&&g.x<=d&&g.y>=h&&g.y<=m&&em(r,a,s,l,o,c,g.x,g.y)&&jn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function Yle(i,e,t,n){const r=i.prev,s=i,o=i.next;if(jn(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,u=r.y,h=s.y,d=o.y,m=a<l?a<c?a:c:l<c?l:c,g=u<h?u<d?u:d:h<d?h:d,y=a>l?a>c?a:c:l>c?l:c,_=u>h?u>d?u:d:h>d?h:d,v=P9(m,g,e,t,n),A=P9(y,_,e,t,n);let S=i.prevZ,C=i.nextZ;for(;S&&S.z>=v&&C&&C.z<=A;){if(S.x>=m&&S.x<=y&&S.y>=g&&S.y<=_&&S!==r&&S!==o&&em(a,u,l,h,c,d,S.x,S.y)&&jn(S.prev,S,S.next)>=0||(S=S.prevZ,C.x>=m&&C.x<=y&&C.y>=g&&C.y<=_&&C!==r&&C!==o&&em(a,u,l,h,c,d,C.x,C.y)&&jn(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;S&&S.z>=v;){if(S.x>=m&&S.x<=y&&S.y>=g&&S.y<=_&&S!==r&&S!==o&&em(a,u,l,h,c,d,S.x,S.y)&&jn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;C&&C.z<=A;){if(C.x>=m&&C.x<=y&&C.y>=g&&C.y<=_&&C!==r&&C!==o&&em(a,u,l,h,c,d,C.x,C.y)&&jn(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function Jle(i,e,t){let n=i;do{const r=n.prev,s=n.next.next;!lM(r,s)&&QV(r,n,n.next,s)&&uy(r,s)&&uy(s,r)&&(e.push(r.i/t|0),e.push(n.i/t|0),e.push(s.i/t|0),hy(n),hy(n.next),n=i=s),n=n.next}while(n!==i);return _0(n)}function qle(i,e,t,n,r,s){let o=i;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&sce(o,a)){let l=$V(o,a);o=_0(o,o.next),l=_0(l,l.next),cy(o,e,t,n,r,s,0),cy(l,e,t,n,r,s,0);return}a=a.next}o=o.next}while(o!==i)}function Zle(i,e,t,n){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*n,l=s<o-1?e[s+1]*n:i.length,c=ZV(i,a,l,n,!1),c===c.next&&(c.steiner=!0),r.push(rce(c));for(r.sort(Qle),s=0;s<r.length;s++)t=$le(r[s],t);return t}function Qle(i,e){return i.x-e.x}function $le(i,e){const t=ece(i,e);if(!t)return e;const n=$V(t,i);return _0(n,n.next),_0(t,t.next)}function ece(i,e){let t=e,n=-1/0,r;const s=i.x,o=i.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const d=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(d<=s&&d>n&&(n=d,r=t.x<t.next.x?t:t.next,d===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let u=1/0,h;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&em(o<c?s:n,o,l,c,o<c?n:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),uy(t,i)&&(h<u||h===u&&(t.x>r.x||t.x===r.x&&tce(r,t)))&&(r=t,u=h)),t=t.next;while(t!==a);return r}function tce(i,e){return jn(i.prev,i,e.prev)<0&&jn(e.next,i,i.next)<0}function nce(i,e,t,n){let r=i;do r.z===0&&(r.z=P9(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==i);r.prevZ.nextZ=null,r.prevZ=null,ice(r)}function ice(i){let e,t,n,r,s,o,a,l,c=1;do{for(t=i,i=null,s=null,o=0;t;){for(o++,n=t,a=0,e=0;e<c&&(a++,n=n.nextZ,!!n);e++);for(l=c;a>0||l>0&&n;)a!==0&&(l===0||!n||t.z<=n.z)?(r=t,t=t.nextZ,a--):(r=n,n=n.nextZ,l--),s?s.nextZ=r:i=r,r.prevZ=s,s=r;t=n}s.nextZ=null,c*=2}while(o>1);return i}function P9(i,e,t,n,r){return i=(i-t)*r|0,e=(e-n)*r|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function rce(i){let e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}function em(i,e,t,n,r,s,o,a){return(r-o)*(e-a)>=(i-o)*(s-a)&&(i-o)*(n-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(n-a)}function sce(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!oce(i,e)&&(uy(i,e)&&uy(e,i)&&ace(i,e)&&(jn(i.prev,i,e.prev)||jn(i,e.prev,e))||lM(i,e)&&jn(i.prev,i,i.next)>0&&jn(e.prev,e,e.next)>0)}function jn(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function lM(i,e){return i.x===e.x&&i.y===e.y}function QV(i,e,t,n){const r=TS(jn(i,e,t)),s=TS(jn(i,e,n)),o=TS(jn(t,n,i)),a=TS(jn(t,n,e));return!!(r!==s&&o!==a||r===0&&ES(i,t,e)||s===0&&ES(i,n,e)||o===0&&ES(t,i,n)||a===0&&ES(t,e,n))}function ES(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function TS(i){return i>0?1:i<0?-1:0}function oce(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&QV(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}function uy(i,e){return jn(i.prev,i,i.next)<0?jn(i,e,i.next)>=0&&jn(i,i.prev,e)>=0:jn(i,e,i.prev)<0||jn(i,i.next,e)<0}function ace(i,e){let t=i,n=!1;const r=(i.x+e.x)/2,s=(i.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==i);return n}function $V(i,e){const t=new I9(i.i,i.x,i.y),n=new I9(e.i,e.x,e.y),r=i.next,s=e.prev;return i.next=e,e.prev=i,t.next=r,r.prev=t,n.next=t,t.prev=n,s.next=n,n.prev=s,n}function Sk(i,e,t,n){const r=new I9(i,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function hy(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function I9(i,e,t){this.i=i,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function lce(i,e,t,n){let r=0;for(let s=e,o=t-n;s<t;s+=n)r+=(i[o]-i[s])*(i[s+1]+i[o+1]),o=s;return r}class dl{static area(e){const t=e.length;let n=0;for(let r=t-1,s=0;s<t;r=s++)n+=e[r].x*e[s].y-e[s].x*e[r].y;return n*.5}static isClockWise(e){return dl.area(e)<0}static triangulateShape(e,t){const n=[],r=[],s=[];wk(e),bk(n,e);let o=e.length;t.forEach(wk);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,bk(n,t[l]);const a=Xle.triangulate(n,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function wk(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function bk(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}class cM extends Pt{constructor(e=new r0([new Se(.5,.5),new Se(-.5,.5),new Se(-.5,-.5),new Se(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new at(r,3)),this.setAttribute("uv",new at(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let d=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:m-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const v=t.extrudePath,A=t.UVGenerator!==void 0?t.UVGenerator:cce;let S,C=!1,T,E,R,D;v&&(S=v.getSpacedPoints(u),C=!0,d=!1,T=v.computeFrenetFrames(u,!1),E=new V,R=new V,D=new V),d||(_=0,m=0,g=0,y=0);const I=a.extractPoints(c);let L=I.shape;const O=I.holes;if(!dl.isClockWise(L)){L=L.reverse();for(let G=0,me=O.length;G<me;G++){const Ae=O[G];dl.isClockWise(Ae)&&(O[G]=Ae.reverse())}}const X=dl.triangulateShape(L,O),Z=L;for(let G=0,me=O.length;G<me;G++){const Ae=O[G];L=L.concat(Ae)}function $(G,me,Ae){return me||console.error("THREE.ExtrudeGeometry: vec does not exist"),G.clone().addScaledVector(me,Ae)}const Q=L.length,ee=X.length;function k(G,me,Ae){let Ie,ge,Je;const Ue=G.x-me.x,Ke=G.y-me.y,J=Ae.x-G.x,N=Ae.y-G.y,ue=Ue*Ue+Ke*Ke,Te=Ue*N-Ke*J;if(Math.abs(Te)>Number.EPSILON){const Ee=Math.sqrt(ue),Re=Math.sqrt(J*J+N*N),ot=me.x-Ke/Ee,Le=me.y+Ue/Ee,Xe=Ae.x-N/Re,yt=Ae.y+J/Re,De=((Xe-ot)*N-(yt-Le)*J)/(Ue*N-Ke*J);Ie=ot+Ue*De-G.x,ge=Le+Ke*De-G.y;const Ze=Ie*Ie+ge*ge;if(Ze<=2)return new Se(Ie,ge);Je=Math.sqrt(Ze/2)}else{let Ee=!1;Ue>Number.EPSILON?J>Number.EPSILON&&(Ee=!0):Ue<-Number.EPSILON?J<-Number.EPSILON&&(Ee=!0):Math.sign(Ke)===Math.sign(N)&&(Ee=!0),Ee?(Ie=-Ke,ge=Ue,Je=Math.sqrt(ue)):(Ie=Ue,ge=Ke,Je=Math.sqrt(ue/2))}return new Se(Ie/Je,ge/Je)}const q=[];for(let G=0,me=Z.length,Ae=me-1,Ie=G+1;G<me;G++,Ae++,Ie++)Ae===me&&(Ae=0),Ie===me&&(Ie=0),q[G]=k(Z[G],Z[Ae],Z[Ie]);const K=[];let ne,le=q.concat();for(let G=0,me=O.length;G<me;G++){const Ae=O[G];ne=[];for(let Ie=0,ge=Ae.length,Je=ge-1,Ue=Ie+1;Ie<ge;Ie++,Je++,Ue++)Je===ge&&(Je=0),Ue===ge&&(Ue=0),ne[Ie]=k(Ae[Ie],Ae[Je],Ae[Ue]);K.push(ne),le=le.concat(ne)}for(let G=0;G<_;G++){const me=G/_,Ae=m*Math.cos(me*Math.PI/2),Ie=g*Math.sin(me*Math.PI/2)+y;for(let ge=0,Je=Z.length;ge<Je;ge++){const Ue=$(Z[ge],q[ge],Ie);xe(Ue.x,Ue.y,-Ae)}for(let ge=0,Je=O.length;ge<Je;ge++){const Ue=O[ge];ne=K[ge];for(let Ke=0,J=Ue.length;Ke<J;Ke++){const N=$(Ue[Ke],ne[Ke],Ie);xe(N.x,N.y,-Ae)}}}const ye=g+y;for(let G=0;G<Q;G++){const me=d?$(L[G],le[G],ye):L[G];C?(R.copy(T.normals[0]).multiplyScalar(me.x),E.copy(T.binormals[0]).multiplyScalar(me.y),D.copy(S[0]).add(R).add(E),xe(D.x,D.y,D.z)):xe(me.x,me.y,0)}for(let G=1;G<=u;G++)for(let me=0;me<Q;me++){const Ae=d?$(L[me],le[me],ye):L[me];C?(R.copy(T.normals[G]).multiplyScalar(Ae.x),E.copy(T.binormals[G]).multiplyScalar(Ae.y),D.copy(S[G]).add(R).add(E),xe(D.x,D.y,D.z)):xe(Ae.x,Ae.y,h/u*G)}for(let G=_-1;G>=0;G--){const me=G/_,Ae=m*Math.cos(me*Math.PI/2),Ie=g*Math.sin(me*Math.PI/2)+y;for(let ge=0,Je=Z.length;ge<Je;ge++){const Ue=$(Z[ge],q[ge],Ie);xe(Ue.x,Ue.y,h+Ae)}for(let ge=0,Je=O.length;ge<Je;ge++){const Ue=O[ge];ne=K[ge];for(let Ke=0,J=Ue.length;Ke<J;Ke++){const N=$(Ue[Ke],ne[Ke],Ie);C?xe(N.x,N.y+S[u-1].y,S[u-1].x+Ae):xe(N.x,N.y,h+Ae)}}}re(),pe();function re(){const G=r.length/3;if(d){let me=0,Ae=Q*me;for(let Ie=0;Ie<ee;Ie++){const ge=X[Ie];We(ge[2]+Ae,ge[1]+Ae,ge[0]+Ae)}me=u+_*2,Ae=Q*me;for(let Ie=0;Ie<ee;Ie++){const ge=X[Ie];We(ge[0]+Ae,ge[1]+Ae,ge[2]+Ae)}}else{for(let me=0;me<ee;me++){const Ae=X[me];We(Ae[2],Ae[1],Ae[0])}for(let me=0;me<ee;me++){const Ae=X[me];We(Ae[0]+Q*u,Ae[1]+Q*u,Ae[2]+Q*u)}}n.addGroup(G,r.length/3-G,0)}function pe(){const G=r.length/3;let me=0;Me(Z,me),me+=Z.length;for(let Ae=0,Ie=O.length;Ae<Ie;Ae++){const ge=O[Ae];Me(ge,me),me+=ge.length}n.addGroup(G,r.length/3-G,1)}function Me(G,me){let Ae=G.length;for(;--Ae>=0;){const Ie=Ae;let ge=Ae-1;ge<0&&(ge=G.length-1);for(let Je=0,Ue=u+_*2;Je<Ue;Je++){const Ke=Q*Je,J=Q*(Je+1),N=me+Ie+Ke,ue=me+ge+Ke,Te=me+ge+J,Ee=me+Ie+J;rt(N,ue,Te,Ee)}}}function xe(G,me,Ae){l.push(G),l.push(me),l.push(Ae)}function We(G,me,Ae){Be(G),Be(me),Be(Ae);const Ie=r.length/3,ge=A.generateTopUV(n,r,Ie-3,Ie-2,Ie-1);He(ge[0]),He(ge[1]),He(ge[2])}function rt(G,me,Ae,Ie){Be(G),Be(me),Be(Ie),Be(me),Be(Ae),Be(Ie);const ge=r.length/3,Je=A.generateSideWallUV(n,r,ge-6,ge-3,ge-2,ge-1);He(Je[0]),He(Je[1]),He(Je[3]),He(Je[1]),He(Je[2]),He(Je[3])}function Be(G){r.push(l[G*3+0]),r.push(l[G*3+1]),r.push(l[G*3+2])}function He(G){s.push(G.x),s.push(G.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return uce(t,n,e)}static fromJSON(e,t){const n=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];n.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new ib[r.type]().fromJSON(r)),new cM(n,e.options)}}const cce={generateTopUV:function(i,e,t,n,r){const s=e[t*3],o=e[t*3+1],a=e[n*3],l=e[n*3+1],c=e[r*3],u=e[r*3+1];return[new Se(s,o),new Se(a,l),new Se(c,u)]},generateSideWallUV:function(i,e,t,n,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[n*3],u=e[n*3+1],h=e[n*3+2],d=e[r*3],m=e[r*3+1],g=e[r*3+2],y=e[s*3],_=e[s*3+1],v=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Se(o,1-l),new Se(c,1-h),new Se(d,1-g),new Se(y,1-v)]:[new Se(a,1-l),new Se(u,1-h),new Se(m,1-g),new Se(_,1-v)]}};function uce(i,e,t){if(t.shapes=[],Array.isArray(i))for(let n=0,r=i.length;n<r;n++){const s=i[n];t.shapes.push(s.uuid)}else t.shapes.push(i.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class uM extends kh{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new uM(e.radius,e.detail)}}class hx extends kh{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new hx(e.radius,e.detail)}}class hM extends Pt{constructor(e=.5,t=1,n=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:s,thetaLength:o},n=Math.max(3,n),r=Math.max(1,r);const a=[],l=[],c=[],u=[];let h=e;const d=(t-e)/r,m=new V,g=new Se;for(let y=0;y<=r;y++){for(let _=0;_<=n;_++){const v=s+_/n*o;m.x=h*Math.cos(v),m.y=h*Math.sin(v),l.push(m.x,m.y,m.z),c.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,u.push(g.x,g.y)}h+=d}for(let y=0;y<r;y++){const _=y*(n+1);for(let v=0;v<n;v++){const A=v+_,S=A,C=A+n+1,T=A+n+2,E=A+1;a.push(S,C,E),a.push(C,T,E)}}this.setIndex(a),this.setAttribute("position",new at(l,3)),this.setAttribute("normal",new at(c,3)),this.setAttribute("uv",new at(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hM(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class dM extends Pt{constructor(e=new r0([new Se(0,.5),new Se(-.5,-.5),new Se(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(n),this.setAttribute("position",new at(r,3)),this.setAttribute("normal",new at(s,3)),this.setAttribute("uv",new at(o,2));function c(u){const h=r.length/3,d=u.extractPoints(t);let m=d.shape;const g=d.holes;dl.isClockWise(m)===!1&&(m=m.reverse());for(let _=0,v=g.length;_<v;_++){const A=g[_];dl.isClockWise(A)===!0&&(g[_]=A.reverse())}const y=dl.triangulateShape(m,g);for(let _=0,v=g.length;_<v;_++){const A=g[_];m=m.concat(A)}for(let _=0,v=m.length;_<v;_++){const A=m[_];r.push(A.x,A.y,0),s.push(0,0,1),o.push(A.x,A.y)}for(let _=0,v=y.length;_<v;_++){const A=y[_],S=A[0]+h,C=A[1]+h,T=A[2]+h;n.push(S,C,T),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return hce(t,e)}static fromJSON(e,t){const n=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];n.push(o)}return new dM(n,e.curveSegments)}}function hce(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,n=i.length;t<n;t++){const r=i[t];e.shapes.push(r.uuid)}else e.shapes.push(i.uuid);return e}class dx extends Pt{constructor(e=1,t=32,n=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const l=Math.min(o+a,Math.PI);let c=0;const u=[],h=new V,d=new V,m=[],g=[],y=[],_=[];for(let v=0;v<=n;v++){const A=[],S=v/n;let C=0;v===0&&o===0?C=.5/t:v===n&&l===Math.PI&&(C=-.5/t);for(let T=0;T<=t;T++){const E=T/t;h.x=-e*Math.cos(r+E*s)*Math.sin(o+S*a),h.y=e*Math.cos(o+S*a),h.z=e*Math.sin(r+E*s)*Math.sin(o+S*a),g.push(h.x,h.y,h.z),d.copy(h).normalize(),y.push(d.x,d.y,d.z),_.push(E+C,1-S),A.push(c++)}u.push(A)}for(let v=0;v<n;v++)for(let A=0;A<t;A++){const S=u[v][A+1],C=u[v][A],T=u[v+1][A],E=u[v+1][A+1];(v!==0||o>0)&&m.push(S,C,E),(v!==n-1||l<Math.PI)&&m.push(C,T,E)}this.setIndex(m),this.setAttribute("position",new at(g,3)),this.setAttribute("normal",new at(y,3)),this.setAttribute("uv",new at(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dx(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class fM extends kh{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new fM(e.radius,e.detail)}}class pM extends Pt{constructor(e=1,t=.4,n=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:s},n=Math.floor(n),r=Math.floor(r);const o=[],a=[],l=[],c=[],u=new V,h=new V,d=new V;for(let m=0;m<=n;m++)for(let g=0;g<=r;g++){const y=g/r*s,_=m/n*Math.PI*2;h.x=(e+t*Math.cos(_))*Math.cos(y),h.y=(e+t*Math.cos(_))*Math.sin(y),h.z=t*Math.sin(_),a.push(h.x,h.y,h.z),u.x=e*Math.cos(y),u.y=e*Math.sin(y),d.subVectors(h,u).normalize(),l.push(d.x,d.y,d.z),c.push(g/r),c.push(m/n)}for(let m=1;m<=n;m++)for(let g=1;g<=r;g++){const y=(r+1)*m+g-1,_=(r+1)*(m-1)+g-1,v=(r+1)*(m-1)+g,A=(r+1)*m+g;o.push(y,_,A),o.push(_,v,A)}this.setIndex(o),this.setAttribute("position",new at(a,3)),this.setAttribute("normal",new at(l,3)),this.setAttribute("uv",new at(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pM(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class mM extends Pt{constructor(e=1,t=.4,n=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:s,q:o},n=Math.floor(n),r=Math.floor(r);const a=[],l=[],c=[],u=[],h=new V,d=new V,m=new V,g=new V,y=new V,_=new V,v=new V;for(let S=0;S<=n;++S){const C=S/n*s*Math.PI*2;A(C,s,o,e,m),A(C+.01,s,o,e,g),_.subVectors(g,m),v.addVectors(g,m),y.crossVectors(_,v),v.crossVectors(y,_),y.normalize(),v.normalize();for(let T=0;T<=r;++T){const E=T/r*Math.PI*2,R=-t*Math.cos(E),D=t*Math.sin(E);h.x=m.x+(R*v.x+D*y.x),h.y=m.y+(R*v.y+D*y.y),h.z=m.z+(R*v.z+D*y.z),l.push(h.x,h.y,h.z),d.subVectors(h,m).normalize(),c.push(d.x,d.y,d.z),u.push(S/n),u.push(T/r)}}for(let S=1;S<=n;S++)for(let C=1;C<=r;C++){const T=(r+1)*(S-1)+(C-1),E=(r+1)*S+(C-1),R=(r+1)*S+C,D=(r+1)*(S-1)+C;a.push(T,E,D),a.push(E,R,D)}this.setIndex(a),this.setAttribute("position",new at(l,3)),this.setAttribute("normal",new at(c,3)),this.setAttribute("uv",new at(u,2));function A(S,C,T,E,R){const D=Math.cos(S),I=Math.sin(S),L=T/C*S,O=Math.cos(L);R.x=E*(2+O)*.5*D,R.y=E*(2+O)*I*.5,R.z=E*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mM(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class gM extends Pt{constructor(e=new SI(new V(-1,-1,0),new V(-1,1,0),new V(1,1,0)),t=64,n=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new V,l=new V,c=new Se;let u=new V;const h=[],d=[],m=[],g=[];y(),this.setIndex(g),this.setAttribute("position",new at(h,3)),this.setAttribute("normal",new at(d,3)),this.setAttribute("uv",new at(m,2));function y(){for(let S=0;S<t;S++)_(S);_(s===!1?t:0),A(),v()}function _(S){u=e.getPointAt(S/t,u);const C=o.normals[S],T=o.binormals[S];for(let E=0;E<=r;E++){const R=E/r*Math.PI*2,D=Math.sin(R),I=-Math.cos(R);l.x=I*C.x+D*T.x,l.y=I*C.y+D*T.y,l.z=I*C.z+D*T.z,l.normalize(),d.push(l.x,l.y,l.z),a.x=u.x+n*l.x,a.y=u.y+n*l.y,a.z=u.z+n*l.z,h.push(a.x,a.y,a.z)}}function v(){for(let S=1;S<=t;S++)for(let C=1;C<=r;C++){const T=(r+1)*(S-1)+(C-1),E=(r+1)*S+(C-1),R=(r+1)*S+C,D=(r+1)*(S-1)+C;g.push(T,E,D),g.push(E,R,D)}}function A(){for(let S=0;S<=t;S++)for(let C=0;C<=r;C++)c.x=S/t,c.y=C/r,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new gM(new ib[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class eW extends Pt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,r=new V,s=new V;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const h=l[c],d=h.start,m=h.count;for(let g=d,y=d+m;g<y;g+=3)for(let _=0;_<3;_++){const v=a.getX(g+_),A=a.getX(g+(_+1)%3);r.fromBufferAttribute(o,v),s.fromBufferAttribute(o,A),Ck(r,s,n)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,h=3*a+(c+1)%3;r.fromBufferAttribute(o,u),s.fromBufferAttribute(o,h),Ck(r,s,n)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new at(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Ck(i,e,t){const n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}var Mk=Object.freeze({__proto__:null,BoxGeometry:F0,CapsuleGeometry:rM,CircleGeometry:sM,ConeGeometry:oM,CylinderGeometry:Mg,DodecahedronGeometry:aM,EdgesGeometry:qV,ExtrudeGeometry:cM,IcosahedronGeometry:uM,LatheGeometry:ux,OctahedronGeometry:hx,PlaneGeometry:bg,PolyhedronGeometry:kh,RingGeometry:hM,ShapeGeometry:dM,SphereGeometry:dx,TetrahedronGeometry:fM,TorusGeometry:pM,TorusKnotGeometry:mM,TubeGeometry:gM,WireframeGeometry:eW});class tW extends _i{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ge(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class nW extends wa{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class fx extends _i{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ge(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Oh,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Qs,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class zo extends fx{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Se(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Qn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ge(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ge(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ge(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class iW extends _i{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ge(16777215),this.specular=new Ge(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Oh,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Qs,this.combine=nx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class rW extends _i{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ge(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Oh,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class sW extends _i{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Oh,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class oW extends _i{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ge(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Oh,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Qs,this.combine=nx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class aW extends _i{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ge(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Oh,this.normalScale=new Se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class lW extends Or{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ud(i,e,t){return!i||!t&&i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}function cW(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function uW(i){function e(r,s){return i[r]-i[s]}const t=i.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(e),n}function L9(i,e,t){const n=i.length,r=new i.constructor(n);for(let s=0,o=0;o!==n;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=i[a+l]}return r}function bI(i,e,t,n){let r=1,s=i[0];for(;s!==void 0&&s[n]===void 0;)s=i[r++];if(s===void 0)return;let o=s[n];if(o!==void 0)if(Array.isArray(o))do o=s[n],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=i[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[n],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=i[r++];while(s!==void 0);else do o=s[n],o!==void 0&&(e.push(s.time),t.push(o)),s=i[r++];while(s!==void 0)}function dce(i,e,t,n,r=30){const s=i.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),h=[],d=[];for(let m=0;m<c.times.length;++m){const g=c.times[m]*r;if(!(g<t||g>=n)){h.push(c.times[m]);for(let y=0;y<u;++y)d.push(c.values[m*u+y])}}h.length!==0&&(c.times=Ud(h,c.times.constructor),c.values=Ud(d,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function fce(i,e=0,t=i,n=30){n<=0&&(n=30);const r=t.tracks.length,s=e/n;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=i.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===l});if(c===void 0)continue;let u=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=h/3);let d=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=m/3);const g=a.times.length-1;let y;if(s<=a.times[0]){const v=u,A=h-u;y=a.values.slice(v,A)}else if(s>=a.times[g]){const v=g*h+u,A=v+h-u;y=a.values.slice(v,A)}else{const v=a.createInterpolant(),A=u,S=h-u;v.evaluate(s),y=v.resultBuffer.slice(A,S)}l==="quaternion"&&new Xi().fromArray(y).normalize().conjugate().toArray(y);const _=c.times.length;for(let v=0;v<_;++v){const A=v*m+d;if(l==="quaternion")Xi.multiplyQuaternionsFlat(c.values,A,y,0,c.values,A);else{const S=m-d*2;for(let C=0;C<S;++C)c.values[A+C]-=y[C]}}}return i.blendMode=nI,i}const pce={convertArray:Ud,isTypedArray:cW,getKeyframeOrder:uW,sortedArray:L9,flattenJSON:bI,subclip:dce,makeClipAdditive:fce};class Eg{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],s=t[n-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=n+2;;){if(r===void 0){if(e<s)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(s=r,r=t[++n],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(n=2,s=a);for(let l=n-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(r=s,s=t[--n-1],e>=s)break t}o=n,n=0;break n}break e}for(;n<o;){const a=n+o>>>1;e<t[a]?o=a:n=a+1}if(r=t[n],s=t[n-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,r)}return this.interpolate_(n,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=n[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class hW extends Eg{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Od,endingEnd:Od}}intervalChanged_(e,t,n){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case kd:s=e,a=2*t-n;break;case ty:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=n}if(l===void 0)switch(this.getSettings_().endingEnd){case kd:o=e,l=2*n-t;break;case ty:o=1,l=n+r[1]-r[0];break;default:o=e-1,l=t}const c=(n-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-n),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,h=this._offsetNext,d=this._weightPrev,m=this._weightNext,g=(n-t)/(r-t),y=g*g,_=y*g,v=-d*_+2*d*y-d*g,A=(1+d)*_+(-1.5-2*d)*y+(-.5+d)*g+1,S=(-1-m)*_+(1.5+m)*y+.5*g,C=m*_-m*y;for(let T=0;T!==a;++T)s[T]=v*o[u+T]+A*o[c+T]+S*o[l+T]+C*o[h+T];return s}}class CI extends Eg{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(n-t)/(r-t),h=1-u;for(let d=0;d!==a;++d)s[d]=o[c+d]*h+o[l+d]*u;return s}}class dW extends Eg{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ma{constructor(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ud(t,this.TimeBufferType),this.values=Ud(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Ud(e.times,Array),values:Ud(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new dW(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new CI(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new hW(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case rg:t=this.InterpolantFactoryMethodDiscrete;break;case sg:t=this.InterpolantFactoryMethodLinear;break;case m5:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return rg;case this.InterpolantFactoryMethodLinear:return sg;case this.InterpolantFactoryMethodSmooth:return m5}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let s=0,o=r-1;for(;s!==r&&n[s]<e;)++s;for(;o!==-1&&n[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=n.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,s=n.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=n[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&cW(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===m5,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(r)l=!0;else{const h=a*n,d=h-n,m=h+n;for(let g=0;g!==n;++g){const y=t[h+g];if(y!==t[d+g]||y!==t[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*n,d=o*n;for(let m=0;m!==n;++m)t[d+m]=t[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*n,l=o*n,c=0;c!==n;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Ma.prototype.TimeBufferType=Float32Array;Ma.prototype.ValueBufferType=Float32Array;Ma.prototype.DefaultInterpolation=sg;class O0 extends Ma{constructor(e,t,n){super(e,t,n)}}O0.prototype.ValueTypeName="bool";O0.prototype.ValueBufferType=Array;O0.prototype.DefaultInterpolation=rg;O0.prototype.InterpolantFactoryMethodLinear=void 0;O0.prototype.InterpolantFactoryMethodSmooth=void 0;class MI extends Ma{}MI.prototype.ValueTypeName="color";class x0 extends Ma{}x0.prototype.ValueTypeName="number";class fW extends Eg{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(n-t)/(r-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Xi.slerpFlat(s,0,o,c-a,o,c,l);return s}}class A0 extends Ma{InterpolantFactoryMethodLinear(e){return new fW(this.times,this.values,this.getValueSize(),e)}}A0.prototype.ValueTypeName="quaternion";A0.prototype.InterpolantFactoryMethodSmooth=void 0;class k0 extends Ma{constructor(e,t,n){super(e,t,n)}}k0.prototype.ValueTypeName="string";k0.prototype.ValueBufferType=Array;k0.prototype.DefaultInterpolation=rg;k0.prototype.InterpolantFactoryMethodLinear=void 0;k0.prototype.InterpolantFactoryMethodSmooth=void 0;class S0 extends Ma{}S0.prototype.ValueTypeName="vector";class lg{constructor(e="",t=-1,n=[],r=YC){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=Js(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let o=0,a=n.length;o!==a;++o)t.push(gce(n[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=n.length;s!==o;++s)t.push(Ma.toJSON(n[s]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=uW(l);l=L9(l,1,u),c=L9(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new x0(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const h=u[1];let d=r[h];d||(r[h]=d=[]),d.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,n));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(h,d,m,g,y){if(m.length!==0){const _=[],v=[];bI(m,_,v,g),_.length!==0&&y.push(new h(d,_,v))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const d=c[h].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const m={};let g;for(g=0;g<d.length;g++)if(d[g].morphTargets)for(let y=0;y<d[g].morphTargets.length;y++)m[d[g].morphTargets[y]]=-1;for(const y in m){const _=[],v=[];for(let A=0;A!==d[g].morphTargets.length;++A){const S=d[g];_.push(S.time),v.push(S.morphTarget===y?1:0)}r.push(new x0(".morphTargetInfluence["+y+"]",_,v))}l=m.length*o}else{const m=".bones["+t[h].name+"]";n(S0,m+".position",d,"pos",r),n(A0,m+".quaternion",d,"rot",r),n(S0,m+".scale",d,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const s=this.tracks[n];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function mce(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return x0;case"vector":case"vector2":case"vector3":case"vector4":return S0;case"color":return MI;case"quaternion":return A0;case"bool":case"boolean":return O0;case"string":return k0}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function gce(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=mce(i.type);if(i.times===void 0){const t=[],n=[];bI(i.keys,t,n,"value"),i.times=t,i.values=n}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const wc={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class EI{constructor(e,t,n){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(u){a++,s===!1&&r.onStart!==void 0&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,r.onProgress!==void 0&&r.onProgress(u,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,h){return c.push(u,h),this},this.removeHandler=function(u){const h=c.indexOf(u);return h!==-1&&c.splice(h,2),this},this.getHandler=function(u){for(let h=0,d=c.length;h<d;h+=2){const m=c[h],g=c[h+1];if(m.global&&(m.lastIndex=0),m.test(u))return g}return null}}}const tm=new EI;let kr=class{constructor(e){this.manager=e!==void 0?e:tm,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,s){n.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};kr.DEFAULT_MATERIAL_NAME="__DEFAULT";const Il={};class vce extends Error{constructor(e,t){super(e),this.response=t}}class $s extends kr{constructor(e){super(e)}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=wc.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Il[e]!==void 0){Il[e].push({onLoad:t,onProgress:n,onError:r});return}Il[e]=[],Il[e].push({onLoad:t,onProgress:n,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Il[e],h=c.body.getReader(),d=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),m=d?parseInt(d):0,g=m!==0;let y=0;const _=new ReadableStream({start(v){A();function A(){h.read().then(({done:S,value:C})=>{if(S)v.close();else{y+=C.byteLength;const T=new ProgressEvent("progress",{lengthComputable:g,loaded:y,total:m});for(let E=0,R=u.length;E<R;E++){const D=u[E];D.onProgress&&D.onProgress(T)}v.enqueue(C),A()}},S=>{v.error(S)})}}});return new Response(_)}else throw new vce(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),d=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(d);return c.arrayBuffer().then(g=>m.decode(g))}}}).then(c=>{wc.add(e,c);const u=Il[e];delete Il[e];for(let h=0,d=u.length;h<d;h++){const m=u[h];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=Il[e];if(u===void 0)throw this.manager.itemError(e),c;delete Il[e];for(let h=0,d=u.length;h<d;h++){const m=u[h];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class yce extends kr{constructor(e){super(e)}load(e,t,n,r){const s=this,o=new $s(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=lg.parse(e[n]);t.push(r)}return t}}class _ce extends kr{constructor(e){super(e)}load(e,t,n,r){const s=this,o=[],a=new nM,l=new $s(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(h){l.load(e[h],function(d){const m=s.parse(d,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=$n),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},n,r)}if(Array.isArray(e))for(let h=0,d=e.length;h<d;++h)u(h);else l.load(e,function(h){const d=s.parse(h,!0);if(d.isCubemap){const m=d.mipmaps.length/d.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let y=0;y<d.mipmapCount;y++)o[g].mipmaps.push(d.mipmaps[g*d.mipmapCount+y]),o[g].format=d.format,o[g].width=d.width,o[g].height=d.height}a.image=o}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=$n),a.format=d.format,a.needsUpdate=!0,t&&t(a)},n,r);return a}}class dy extends kr{constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=wc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=ay("img");function l(){u(),wc.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(h){u(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class xce extends kr{constructor(e){super(e)}load(e,t,n,r){const s=new ox;s.colorSpace=Mo;const o=new dy(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class Ace extends kr{constructor(e){super(e)}load(e,t,n,r){const s=this,o=new hl,a=new $s(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(r!==void 0)r(u);else{console.error(u);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Ws,o.wrapT=c.wrapT!==void 0?c.wrapT:Ws,o.magFilter=c.magFilter!==void 0?c.magFilter:$n,o.minFilter=c.minFilter!==void 0?c.minFilter:$n,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Lo),c.mipmapCount===1&&(o.minFilter=$n),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},n,r),o}}class pW extends kr{constructor(e){super(e)}load(e,t,n,r){const s=new Ln,o=new dy(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},n,r),s}}class Nh extends zt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ge(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class mW extends Nh{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(zt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ge(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const b6=new pt,Ek=new V,Tk=new V;class TI{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Se(512,512),this.map=null,this.mapPass=null,this.matrix=new pt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ax,this._frameExtents=new Se(1,1),this._viewportCount=1,this._viewports=[new sn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;Ek.setFromMatrixPosition(e.matrixWorld),t.position.copy(Ek),Tk.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Tk),t.updateMatrixWorld(),b6.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(b6),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(b6)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Sce extends TI{constructor(){super(new Pn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=og*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(n!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=n,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class RI extends Nh{constructor(e,t,n=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(zt.DEFAULT_UP),this.updateMatrix(),this.target=new zt,this.distance=n,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new Sce}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Rk=new pt,y1=new V,C6=new V;class wce extends TI{constructor(){super(new Pn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Se(4,2),this._viewportCount=6,this._viewports=[new sn(2,1,1,1),new sn(0,1,1,1),new sn(3,1,1,1),new sn(1,1,1,1),new sn(3,0,1,1),new sn(1,0,1,1)],this._cubeDirections=[new V(1,0,0),new V(-1,0,0),new V(0,0,1),new V(0,0,-1),new V(0,1,0),new V(0,-1,0)],this._cubeUps=[new V(0,1,0),new V(0,1,0),new V(0,1,0),new V(0,1,0),new V(0,0,1),new V(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,s=e.distance||n.far;s!==n.far&&(n.far=s,n.updateProjectionMatrix()),y1.setFromMatrixPosition(e.matrixWorld),n.position.copy(y1),C6.copy(n.position),C6.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(C6),n.updateMatrixWorld(),r.makeTranslation(-y1.x,-y1.y,-y1.z),Rk.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Rk)}}class PI extends Nh{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new wce}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class bce extends TI{constructor(){super(new Do(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class II extends Nh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(zt.DEFAULT_UP),this.updateMatrix(),this.target=new zt,this.shadow=new bce}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class gW extends Nh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class vW extends Nh{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class yW{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new V)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],1.092548*(n*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(n*s)),t.addScaledVector(o[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*n),t.addScaledVector(o[4],2*.429043*n*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*n*s),t.addScaledVector(o[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const n=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*n*s,t[8]=.546274*(n*n-r*r)}}class _W extends Nh{constructor(e=new yW,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class vM extends kr{constructor(e){super(e),this.textures={}}load(e,t,n,r){const s=this,o=new $s(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=vM.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Ge().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=n(o.value);break;case"c":r.uniforms[s].value=new Ge().setHex(o.value);break;case"v2":r.uniforms[s].value=new Se().fromArray(o.value);break;case"v3":r.uniforms[s].value=new V().fromArray(o.value);break;case"v4":r.uniforms[s].value=new sn().fromArray(o.value);break;case"m3":r.uniforms[s].value=new It().fromArray(o.value);break;case"m4":r.uniforms[s].value=new pt().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new Se().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Se().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:tW,SpriteMaterial:fI,RawShaderMaterial:nW,ShaderMaterial:wa,PointsMaterial:tM,MeshPhysicalMaterial:zo,MeshStandardMaterial:fx,MeshPhongMaterial:iW,MeshToonMaterial:rW,MeshNormalMaterial:sW,MeshLambertMaterial:oW,MeshDepthMaterial:hI,MeshDistanceMaterial:dI,MeshBasicMaterial:Xs,MeshMatcapMaterial:aW,LineDashedMaterial:lW,LineBasicMaterial:Or,Material:_i};return new t[e]}}class vh{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class xW extends Pt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class AW extends kr{constructor(e){super(e)}load(e,t,n,r){const s=this,o=new $s(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(m,g){if(t[g]!==void 0)return t[g];const _=m.interleavedBuffers[g],v=s(m,_.buffer),A=Qp(_.type,v),S=new lx(A,_.stride);return S.uuid=_.uuid,t[g]=S,S}function s(m,g){if(n[g]!==void 0)return n[g];const _=m.arrayBuffers[g],v=new Uint32Array(_).buffer;return n[g]=v,v}const o=e.isInstancedBufferGeometry?new xW:new Pt,a=e.data.index;if(a!==void 0){const m=Qp(a.type,a.array);o.setIndex(new Zt(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let y;if(g.isInterleavedBufferAttribute){const _=r(e.data,g.data);y=new Mh(_,g.itemSize,g.offset,g.normalized)}else{const _=Qp(g.type,g.array),v=g.isInstancedBufferAttribute?y0:Zt;y=new v(_,g.itemSize,g.normalized)}g.name!==void 0&&(y.name=g.name),g.usage!==void 0&&y.setUsage(g.usage),o.setAttribute(m,y)}const c=e.data.morphAttributes;if(c)for(const m in c){const g=c[m],y=[];for(let _=0,v=g.length;_<v;_++){const A=g[_];let S;if(A.isInterleavedBufferAttribute){const C=r(e.data,A.data);S=new Mh(C,A.itemSize,A.offset,A.normalized)}else{const C=Qp(A.type,A.array);S=new Zt(C,A.itemSize,A.normalized)}A.name!==void 0&&(S.name=A.name),y.push(S)}o.morphAttributes[m]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,g=h.length;m!==g;++m){const y=h[m];o.addGroup(y.start,y.count,y.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const m=new V;d.center!==void 0&&m.fromArray(d.center),o.boundingSphere=new Ki(m,d.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Cce extends kr{constructor(e){super(e)}load(e,t,n,r){const s=this,o=this.path===""?vh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new $s(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},n,r)}async loadAsync(e,t){const n=this,r=this.path===""?vh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new $s(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(a)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,n),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),this.bindLightTargets(c),t!==void 0){let h=!1;for(const d in o)if(o[d].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){const s=new r0().fromJSON(e[n]);t[s.uuid]=s}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new cx().fromJSON(e[s],r);n[a.uuid]=a}return n}parseGeometries(e,t){const n={};if(e!==void 0){const r=new AW;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in Mk?a=Mk[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),n[l.uuid]=a}}return n}parseMaterials(e,t){const n={},r={};if(e!==void 0){const s=new vM;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];n[l.uuid]===void 0&&(n[l.uuid]=s.parse(l)),r[l.uuid]=n[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const r=e[n],s=lg.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const n=this,r={};let s;function o(l){return n.manager.itemStart(l),s.load(l,function(){n.manager.itemEnd(l)},void 0,function(){n.manager.itemError(l),n.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:n.resourcePath+c;return o(u)}else return l.data?{data:Qp(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new EI(t);s=new dy(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const h=e[c],d=h.url;if(Array.isArray(d)){const m=[];for(let g=0,y=d.length;g<y;g++){const _=d[g],v=a(_);v!==null&&(v instanceof HTMLImageElement?m.push(v):m.push(new hl(v.data,v.width,v.height)))}r[h.uuid]=new Nd(m)}else{const m=a(h.url);r[h.uuid]=new Nd(m)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:Qp(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new dy(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let h=0,d=c.length;h<d;h++){const m=c[h],g=await s(m);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new hl(g.data,g.width,g.height)))}n[l.uuid]=new Nd(u)}else{const u=await s(l.url);n[l.uuid]=new Nd(u)}}}return n}parseTextures(e,t){function n(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new ox,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new hl:u=new Ln,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=n(a.mapping,Mce)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=n(a.wrap[0],Pk),u.wrapT=n(a.wrap[1],Pk)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.minFilter!==void 0&&(u.minFilter=n(a.minFilter,Ik)),a.magFilter!==void 0&&(u.magFilter=n(a.magFilter,Ik)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),r[a.uuid]=u}return r}parseObject(e,t,n,r,s){let o;function a(d){return t[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),t[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const m=[];for(let g=0,y=d.length;g<y;g++){const _=d[g];n[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),m.push(n[_])}return m}return n[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),n[d]}}function c(d){return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),r[d]}let u,h;switch(e.type){case"Scene":o=new eb,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ge(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new $C(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new QC(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Pn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Do(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new gW(e.color,e.intensity);break;case"DirectionalLight":o=new II(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new PI(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new vW(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new RI(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new mW(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new _W().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),h=l(e.material),o=new pI(u,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),h=l(e.material),o=new ci(u,h);break;case"InstancedMesh":u=a(e.geometry),h=l(e.material);const d=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new mI(u,h,d),o.instanceMatrix=new y0(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new y0(new Float32Array(g.array),g.itemSize));break;case"BatchedMesh":u=a(e.geometry),h=l(e.material),o=new GV(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,h),o.geometry=u,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(y=>{const _=new ur;_.min.fromArray(y.boxMin),_.max.fromArray(y.boxMax);const v=new Ki;return v.radius=y.sphereRadius,v.center.fromArray(y.sphereCenter),{boxInitialized:y.boxInitialized,box:_,sphereInitialized:y.sphereInitialized,sphere:v}}),o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":o=new HV;break;case"Line":o=new Hc(a(e.geometry),l(e.material));break;case"LineLoop":o=new gI(a(e.geometry),l(e.material));break;case"LineSegments":o=new ba(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new vI(a(e.geometry),l(e.material));break;case"Sprite":o=new jV(l(e.material));break;case"Group":o=new Sc;break;case"Bone":o=new eM;break;default:o=new zt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let m=0;m<d.length;m++)o.add(this.parseObject(d[m],t,n,r,s))}if(e.animations!==void 0){const d=e.animations;for(let m=0;m<d.length;m++){const g=d[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const d=e.levels;for(let m=0;m<d.length;m++){const g=d[m],y=o.getObjectByProperty("uuid",g.object);y!==void 0&&o.addLevel(y,g.distance,g.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const r=t[n.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,r=e.getObjectByProperty("uuid",n);r!==void 0?t.target=r:t.target=new zt}})}}const Mce={UVMapping:zC,CubeReflectionMapping:zc,CubeRefractionMapping:bh,EquirectangularReflectionMapping:$v,EquirectangularRefractionMapping:ey,CubeUVReflectionMapping:Sg},Pk={RepeatWrapping:Ch,ClampToEdgeWrapping:Ws,MirroredRepeatWrapping:ng},Ik={NearestFilter:Ri,NearestMipmapNearestFilter:jC,NearestMipmapLinearFilter:Fd,LinearFilter:$n,LinearMipmapNearestFilter:ym,LinearMipmapLinearFilter:Lo};class SW extends kr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=wc.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{t&&t(c),s.manager.itemEnd(e)}).catch(c=>{r&&r(c)});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return wc.add(e,c),t&&t(c),s.manager.itemEnd(e),c}).catch(function(c){r&&r(c),wc.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});wc.add(e,l),s.manager.itemStart(e)}}let RS;class LI{static getContext(){return RS===void 0&&(RS=new(window.AudioContext||window.webkitAudioContext)),RS}static setContext(e){RS=e}}class Ece extends kr{constructor(e){super(e)}load(e,t,n,r){const s=this,o=new $s(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);LI.getContext().decodeAudioData(c,function(h){t(h)}).catch(a)}catch(c){a(c)}},n,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const Lk=new pt,Dk=new pt,sd=new pt;class Tce{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Pn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Pn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,sd.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(n0*t.fov*.5)/t.zoom;let a,l;Dk.elements[12]=-r,Lk.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,sd.elements[0]=2*t.near/(l-a),sd.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(sd),a=-o*t.aspect-s,l=o*t.aspect-s,sd.elements[0]=2*t.near/(l-a),sd.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(sd)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Dk),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Lk)}}class DI{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Bk(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Bk();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function Bk(){return(typeof performance>"u"?Date:performance).now()}const od=new V,Fk=new Xi,Rce=new V,ad=new V;class Pce extends zt{constructor(){super(),this.type="AudioListener",this.context=LI.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new DI}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(od,Fk,Rce),ad.set(0,0,-1).applyQuaternion(Fk),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(od.x,r),t.positionY.linearRampToValueAtTime(od.y,r),t.positionZ.linearRampToValueAtTime(od.z,r),t.forwardX.linearRampToValueAtTime(ad.x,r),t.forwardY.linearRampToValueAtTime(ad.y,r),t.forwardZ.linearRampToValueAtTime(ad.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(od.x,od.y,od.z),t.setOrientation(ad.x,ad.y,ad.z,n.x,n.y,n.z)}}let wW=class extends zt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}};const ld=new V,Ok=new Xi,Ice=new V,cd=new V;class Lce extends wW{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ld,Ok,Ice),cd.set(0,0,1).applyQuaternion(Ok);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ld.x,n),t.positionY.linearRampToValueAtTime(ld.y,n),t.positionZ.linearRampToValueAtTime(ld.z,n),t.orientationX.linearRampToValueAtTime(cd.x,n),t.orientationY.linearRampToValueAtTime(cd.y,n),t.orientationZ.linearRampToValueAtTime(cd.z,n)}else t.setPosition(ld.x,ld.y,ld.z),t.setOrientation(cd.x,cd.y,cd.z)}}class Dce{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class bW{constructor(e,t,n){this.binding=e,this.valueSize=n;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)n[s+a]=n[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(n,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(n,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(n[l]!==n[l+t]){a.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let s=n,o=r;s!==o;++s)t[s]=t[r+s%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[n+o]}_slerp(e,t,n,r){Xi.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,s){const o=this._workIndex*s;Xi.multiplyQuaternionsFlat(e,o,e,t,e,n),Xi.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,n,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[n+a]*r}}_lerpAdditive(e,t,n,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[n+o]*r}}}const BI="\\[\\]\\.:\\/",Bce=new RegExp("["+BI+"]","g"),FI="[^"+BI+"]",Fce="[^"+BI.replace("\\.","")+"]",Oce=/((?:WC+[\/:])*)/.source.replace("WC",FI),kce=/(WCOD+)?/.source.replace("WCOD",Fce),Nce=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",FI),Uce=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",FI),zce=new RegExp("^"+Oce+kce+Nce+Uce+"$"),jce=["material","materials","bones","map"];class Hce{constructor(e,t,n){const r=n||Vt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=n.length;r!==s;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Vt{constructor(e,t,n){this.path=t,this.parsedPath=n||Vt.parseTrackName(t),this.node=Vt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Vt.Composite(e,t,n):new Vt(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Bce,"")}static parseTrackName(e){const t=zce.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=n.nodeName.substring(r+1);jce.indexOf(s)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=s)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=n(a.children);if(l)return l}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Vt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let c=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Vt.Composite=Hce;Vt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Vt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Vt.prototype.GetterByBindingType=[Vt.prototype._getValue_direct,Vt.prototype._getValue_array,Vt.prototype._getValue_arrayElement,Vt.prototype._getValue_toArray];Vt.prototype.SetterByBindingTypeAndVersioning=[[Vt.prototype._setValue_direct,Vt.prototype._setValue_direct_setNeedsUpdate,Vt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Vt.prototype._setValue_array,Vt.prototype._setValue_array_setNeedsUpdate,Vt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Vt.prototype._setValue_arrayElement,Vt.prototype._setValue_arrayElement_setNeedsUpdate,Vt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Vt.prototype._setValue_fromArray,Vt.prototype._setValue_fromArray_setNeedsUpdate,Vt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Gce{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Js(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,h=arguments.length;u!==h;++u){const d=arguments[u],m=d.uuid;let g=t[m];if(g===void 0){g=l++,t[m]=g,e.push(d);for(let y=0,_=o;y!==_;++y)s[y].push(new Vt(d,n[y],r[y]))}else if(g<c){a=e[g];const y=--c,_=e[y];t[_.uuid]=g,e[g]=_,t[m]=y,e[y]=d;for(let v=0,A=o;v!==A;++v){const S=s[v],C=S[y];let T=S[g];S[g]=C,T===void 0&&(T=new Vt(d,n[v],r[v])),S[y]=T}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const h=s++,d=e[h];t[d.uuid]=u,e[u]=d,t[c]=h,e[h]=l;for(let m=0,g=r;m!==g;++m){const y=n[m],_=y[h],v=y[u];y[u]=_,y[h]=v}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,h=t[u];if(h!==void 0)if(delete t[u],h<s){const d=--s,m=e[d],g=--o,y=e[g];t[m.uuid]=h,e[h]=m,t[y.uuid]=d,e[d]=y,e.pop();for(let _=0,v=r;_!==v;++_){const A=n[_],S=A[d],C=A[g];A[h]=S,A[d]=C,A.pop()}}else{const d=--o,m=e[d];d>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let g=0,y=r;g!==y;++g){const _=n[g];_[h]=_[d],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,h=new Array(c);r=s.length,n[e]=r,o.push(e),a.push(t),s.push(h);for(let d=u,m=l.length;d!==m;++d){const g=l[d];h[d]=new Vt(g,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=n,o[n]=l,o.pop(),s[n]=s[a],s.pop(),r[n]=r[a],r.pop()}}}class CW{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Od,endingEnd:Od};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=cV,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+n,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*n;l<0||n===0?t=0:(this._startTime=null,t=n*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case nI:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case YC:default:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,s=this._loopCount;const o=n===uV;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(n===lV){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=kd,r.endingEnd=kd):(e?r.endingStart=this.zeroSlopeAtStart?kd:Od:r.endingStart=ty,t?r.endingEnd=this.zeroSlopeAtEnd?kd:Od:r.endingEnd=ty)}_scheduleFading(e,t,n){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=n,this}}const Vce=new Float32Array(1);class MW extends yl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=n.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let h=0;h!==s;++h){const d=r[h],m=d.name;let g=u[m];if(g!==void 0)++g.referenceCount,o[h]=g;else{if(g=o[h],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const y=t&&t._propertyBindings[h].binding.parsedPath;g=new bW(Vt.create(n,m,y),d.ValueTypeName,d.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[h]=g}a[h].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete h[d],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[n]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,s=n.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new CI(new Float32Array(2),new Float32Array(2),1,Vce),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=n,t[n]=s}clipAction(e,t,n){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?lg.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(n===void 0&&(o!==null?n=o.blendMode:n=YC),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===n)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new CW(this,o,t,n);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const n=t||this._root,r=n.uuid,s=typeof e=="string"?lg.findByName(n,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==n;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,s=r[n];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=u,t[u]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const a=n[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class OI{constructor(e){this.value=e}clone(){return new OI(this.value.clone===void 0?this.value:this.value.clone())}}let Wce=0;class Xce extends yl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Wce++}),this.name="",this.usage=sy,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++){const s=Array.isArray(t[n])?t[n]:[t[n]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class Kce extends lx{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Yce{constructor(e,t,n,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const kk=new pt;class EW{constructor(e,t,n=0,r=1/0){this.ray=new B0(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new i0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return kk.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(kk),this}intersectObject(e,t=!0,n=[]){return D9(e,this,n,t),n.sort(Nk),n}intersectObjects(e,t=!0,n=[]){for(let r=0,s=e.length;r<s;r++)D9(e[r],this,n,t);return n.sort(Nk),n}}function Nk(i,e){return i.distance-e.distance}function D9(i,e,t,n){let r=!0;if(i.layers.test(e.layers)&&i.raycast(e,t)===!1&&(r=!1),r===!0&&n===!0){const s=i.children;for(let o=0,a=s.length;o<a;o++)D9(s[o],e,t,!0)}}class B9{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Qn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Jce{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class kI{constructor(e,t,n,r){kI.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,r){const s=this.elements;return s[0]=e,s[2]=t,s[1]=n,s[3]=r,this}}const Uk=new Se;class qce{constructor(e=new Se(1/0,1/0),t=new Se(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Uk.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Uk).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const zk=new V,PS=new V;class Zce{constructor(e=new V,t=new V){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){zk.subVectors(e,this.start),PS.subVectors(this.end,this.start);const n=PS.dot(PS);let s=PS.dot(zk)/n;return t&&(s=Qn(s,0,1)),s}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const jk=new V;class Qce extends zt{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new Pt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}n.setAttribute("position",new at(r,3));const s=new Or({fog:!1,toneMapped:!1});this.cone=new ba(n,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),jk.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(jk),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const hu=new V,IS=new pt,M6=new pt;class $ce extends ba{constructor(e){const t=TW(e),n=new Pt,r=[],s=[],o=new Ge(0,0,1),a=new Ge(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}n.setAttribute("position",new at(r,3)),n.setAttribute("color",new at(s,3));const l=new Or({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");M6.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(IS.multiplyMatrices(M6,a.matrixWorld),hu.setFromMatrixPosition(IS),r.setXYZ(o,hu.x,hu.y,hu.z),IS.multiplyMatrices(M6,a.parent.matrixWorld),hu.setFromMatrixPosition(IS),r.setXYZ(o+1,hu.x,hu.y,hu.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function TW(i){const e=[];i.isBone===!0&&e.push(i);for(let t=0;t<i.children.length;t++)e.push.apply(e,TW(i.children[t]));return e}class eue extends ci{constructor(e,t,n){const r=new dx(t,4,2),s=new Xs({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const tue=new V,Hk=new Ge,Gk=new Ge;class nue extends zt{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new hx(t);r.rotateY(Math.PI*.5),this.material=new Xs({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Zt(o,3)),this.add(new ci(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Hk.copy(this.light.color),Gk.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){const s=n<r/2?Hk:Gk;t.setXYZ(n,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(tue.setFromMatrixPosition(this.light.matrixWorld).negate())}}class iue extends ba{constructor(e=10,t=10,n=4473924,r=8947848){n=new Ge(n),r=new Ge(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let d=0,m=0,g=-a;d<=t;d++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const y=d===s?n:r;y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3}const u=new Pt;u.setAttribute("position",new at(l,3)),u.setAttribute("color",new at(c,3));const h=new Or({vertexColors:!0,toneMapped:!1});super(u,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class rue extends ba{constructor(e=10,t=16,n=8,r=64,s=4473924,o=8947848){s=new Ge(s),o=new Ge(o);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const d=h/t*(Math.PI*2),m=Math.sin(d)*e,g=Math.cos(d)*e;a.push(0,0,0),a.push(m,0,g);const y=h&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let h=0;h<n;h++){const d=h&1?s:o,m=e-e/n*h;for(let g=0;g<r;g++){let y=g/r*(Math.PI*2),_=Math.sin(y)*m,v=Math.cos(y)*m;a.push(_,0,v),l.push(d.r,d.g,d.b),y=(g+1)/r*(Math.PI*2),_=Math.sin(y)*m,v=Math.cos(y)*m,a.push(_,0,v),l.push(d.r,d.g,d.b)}}const c=new Pt;c.setAttribute("position",new at(a,3)),c.setAttribute("color",new at(l,3));const u=new Or({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Vk=new V,LS=new V,Wk=new V;class sue extends zt{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Pt;r.setAttribute("position",new at([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Or({fog:!1,toneMapped:!1});this.lightPlane=new Hc(r,s),this.add(this.lightPlane),r=new Pt,r.setAttribute("position",new at([0,0,0,0,0,1],3)),this.targetLine=new Hc(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Vk.setFromMatrixPosition(this.light.matrixWorld),LS.setFromMatrixPosition(this.light.target.matrixWorld),Wk.subVectors(LS,Vk),this.lightPlane.lookAt(LS),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(LS),this.targetLine.scale.z=Wk.length()}}const DS=new V,Yn=new sx;class oue extends ba{constructor(e){const t=new Pt,n=new Or({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,y){l(g),l(y)}function l(g){r.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(r.length/3-1)}t.setAttribute("position",new at(r,3)),t.setAttribute("color",new at(s,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Ge(16755200),u=new Ge(16711680),h=new Ge(43775),d=new Ge(16777215),m=new Ge(3355443);this.setColors(c,u,h,d,m)}setColors(e,t,n,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,r=1;Yn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ri("c",t,e,Yn,0,0,-1),ri("t",t,e,Yn,0,0,1),ri("n1",t,e,Yn,-n,-r,-1),ri("n2",t,e,Yn,n,-r,-1),ri("n3",t,e,Yn,-n,r,-1),ri("n4",t,e,Yn,n,r,-1),ri("f1",t,e,Yn,-n,-r,1),ri("f2",t,e,Yn,n,-r,1),ri("f3",t,e,Yn,-n,r,1),ri("f4",t,e,Yn,n,r,1),ri("u1",t,e,Yn,n*.7,r*1.1,-1),ri("u2",t,e,Yn,-n*.7,r*1.1,-1),ri("u3",t,e,Yn,0,r*2,-1),ri("cf1",t,e,Yn,-n,0,1),ri("cf2",t,e,Yn,n,0,1),ri("cf3",t,e,Yn,0,-r,1),ri("cf4",t,e,Yn,0,r,1),ri("cn1",t,e,Yn,-n,0,-1),ri("cn2",t,e,Yn,n,0,-1),ri("cn3",t,e,Yn,0,-r,-1),ri("cn4",t,e,Yn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ri(i,e,t,n,r,s,o){DS.set(r,s,o).unproject(n);const a=e[i];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],DS.x,DS.y,DS.z)}}const BS=new ur;class aue extends ba{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new Pt;s.setIndex(new Zt(n,1)),s.setAttribute("position",new Zt(r,3)),super(s,new Or({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&BS.setFromObject(this.object),BS.isEmpty())return;const t=BS.min,n=BS.max,r=this.geometry.attributes.position,s=r.array;s[0]=n.x,s[1]=n.y,s[2]=n.z,s[3]=t.x,s[4]=n.y,s[5]=n.z,s[6]=t.x,s[7]=t.y,s[8]=n.z,s[9]=n.x,s[10]=t.y,s[11]=n.z,s[12]=n.x,s[13]=n.y,s[14]=t.z,s[15]=t.x,s[16]=n.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=n.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class lue extends ba{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Pt;s.setIndex(new Zt(n,1)),s.setAttribute("position",new at(r,3)),super(s,new Or({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class cue extends Hc{constructor(e,t=1,n=16776960){const r=n,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Pt;o.setAttribute("position",new at(s,3)),o.computeBoundingSphere(),super(o,new Or({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Pt;l.setAttribute("position",new at(a,3)),l.computeBoundingSphere(),this.add(new ci(l,new Xs({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Xk=new V;let FS,E6;class uue extends zt{constructor(e=new V(0,0,1),t=new V(0,0,0),n=1,r=16776960,s=n*.2,o=s*.2){super(),this.type="ArrowHelper",FS===void 0&&(FS=new Pt,FS.setAttribute("position",new at([0,0,0,0,1,0],3)),E6=new Mg(0,.5,1,5,1),E6.translate(0,-.5,0)),this.position.copy(t),this.line=new Hc(FS,new Or({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ci(E6,new Xs({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Xk.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Xk,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class hue extends ba{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Pt;r.setAttribute("position",new at(t,3)),r.setAttribute("color",new at(n,3));const s=new Or({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,n){const r=new Ge,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(n),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class due{constructor(){this.type="ShapePath",this.color=new Ge,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new ly,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,s,o){return this.currentPath.bezierCurveTo(e,t,n,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(v){const A=[];for(let S=0,C=v.length;S<C;S++){const T=v[S],E=new r0;E.curves=T.curves,A.push(E)}return A}function n(v,A){const S=A.length;let C=!1;for(let T=S-1,E=0;E<S;T=E++){let R=A[T],D=A[E],I=D.x-R.x,L=D.y-R.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(R=A[E],I=-I,D=A[T],L=-L),v.y<R.y||v.y>D.y)continue;if(v.y===R.y){if(v.x===R.x)return!0}else{const O=L*(v.x-R.x)-I*(v.y-R.y);if(O===0)return!0;if(O<0)continue;C=!C}}else{if(v.y!==R.y)continue;if(D.x<=v.x&&v.x<=R.x||R.x<=v.x&&v.x<=D.x)return!0}}return C}const r=dl.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new r0,l.curves=a.curves,c.push(l),c;let u=!r(s[0].getPoints());u=e?!u:u;const h=[],d=[];let m=[],g=0,y;d[g]=void 0,m[g]=[];for(let v=0,A=s.length;v<A;v++)a=s[v],y=a.getPoints(),o=r(y),o=e?!o:o,o?(!u&&d[g]&&g++,d[g]={s:new r0,p:y},d[g].s.curves=a.curves,u&&g++,m[g]=[]):m[g].push({h:a,p:y[0]});if(!d[0])return t(s);if(d.length>1){let v=!1,A=0;for(let S=0,C=d.length;S<C;S++)h[S]=[];for(let S=0,C=d.length;S<C;S++){const T=m[S];for(let E=0;E<T.length;E++){const R=T[E];let D=!0;for(let I=0;I<d.length;I++)n(R.p,d[I].p)&&(S!==I&&A++,D?(D=!1,h[I].push(R)):v=!0);D&&h[S].push(R)}}A>0&&v===!1&&(m=h)}let _;for(let v=0,A=d.length;v<A;v++){l=d[v].s,c.push(l),_=m[v];for(let S=0,C=_.length;S<C;S++)l.holes.push(_[S].h)}return c}}class fue extends Sa{constructor(e=1,t=1,n=1,r={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,t,{...r,count:n}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:tx}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=tx);const RW=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:X7,AddEquation:bu,AddOperation:eV,AdditiveAnimationBlendMode:nI,AdditiveBlending:x9,AgXToneMapping:sV,AlphaFormat:q7,AlwaysCompare:AV,AlwaysDepth:KG,AlwaysStencilFunc:b9,AmbientLight:gW,AnimationAction:CW,AnimationClip:lg,AnimationLoader:yce,AnimationMixer:MW,AnimationObjectGroup:Gce,AnimationUtils:pce,ArcCurve:WV,ArrayCamera:NV,ArrowHelper:uue,AttachedBindMode:w9,Audio:wW,AudioAnalyser:Dce,AudioContext:LI,AudioListener:Pce,AudioLoader:Ece,AxesHelper:hue,BackSide:qr,BasicDepthPacking:dV,BasicShadowMap:EG,BatchedMesh:GV,Bone:eM,BooleanKeyframeTrack:O0,Box2:qce,Box3:ur,Box3Helper:lue,BoxGeometry:F0,BoxHelper:aue,BufferAttribute:Zt,BufferGeometry:Pt,BufferGeometryLoader:AW,ByteType:K7,Cache:wc,Camera:sx,CameraHelper:oue,CanvasTexture:Nle,CapsuleGeometry:rM,CatmullRomCurve3:XV,CineonToneMapping:iV,CircleGeometry:sM,ClampToEdgeWrapping:Ws,Clock:DI,Color:Ge,ColorKeyframeTrack:MI,ColorManagement:nn,CompressedArrayTexture:Ole,CompressedCubeTexture:kle,CompressedTexture:nM,CompressedTextureLoader:_ce,ConeGeometry:oM,ConstantAlphaFactor:VG,ConstantColorFactor:HG,CubeCamera:PV,CubeReflectionMapping:zc,CubeRefractionMapping:bh,CubeTexture:ox,CubeTextureLoader:xce,CubeUVReflectionMapping:Sg,CubicBezierCurve:_I,CubicBezierCurve3:KV,CubicInterpolant:hW,CullFaceBack:_9,CullFaceFront:MG,CullFaceFrontBack:yne,CullFaceNone:CG,Curve:Ca,CurvePath:JV,CustomBlending:TG,CustomToneMapping:rV,CylinderGeometry:Mg,Cylindrical:Jce,Data3DTexture:oI,DataArrayTexture:qC,DataTexture:hl,DataTextureLoader:Ace,DataUtils:Eie,DecrementStencilOp:Rne,DecrementWrapStencilOp:Ine,DefaultLoadingManager:tm,DepthFormat:t0,DepthStencilFormat:v0,DepthTexture:uI,DetachedBindMode:aV,DirectionalLight:II,DirectionalLightHelper:sue,DiscreteInterpolant:dW,DisplayP3ColorSpace:JC,DodecahedronGeometry:aM,DoubleSide:Ro,DstAlphaFactor:kG,DstColorFactor:UG,DynamicCopyUsage:Xne,DynamicDrawUsage:zne,DynamicReadUsage:Gne,EdgesGeometry:qV,EllipseCurve:iM,EqualCompare:vV,EqualDepth:JG,EqualStencilFunc:Fne,EquirectangularReflectionMapping:$v,EquirectangularRefractionMapping:ey,Euler:Qs,EventDispatcher:yl,ExtrudeGeometry:cM,FileLoader:$s,Float16BufferAttribute:Die,Float32BufferAttribute:at,FloatType:hs,Fog:$C,FogExp2:QC,FramebufferTexture:Fle,FrontSide:ml,Frustum:ax,GLBufferAttribute:Yce,GLSL1:Yne,GLSL3:C9,GreaterCompare:yV,GreaterDepth:ZG,GreaterEqualCompare:xV,GreaterEqualDepth:qG,GreaterEqualStencilFunc:Une,GreaterStencilFunc:kne,GridHelper:iue,Group:Sc,HalfFloatType:wg,HemisphereLight:mW,HemisphereLightHelper:nue,IcosahedronGeometry:uM,ImageBitmapLoader:SW,ImageLoader:dy,ImageUtils:CV,IncrementStencilOp:Tne,IncrementWrapStencilOp:Pne,InstancedBufferAttribute:y0,InstancedBufferGeometry:xW,InstancedInterleavedBuffer:Kce,InstancedMesh:mI,Int16BufferAttribute:Iie,Int32BufferAttribute:Lie,Int8BufferAttribute:Tie,IntType:HC,InterleavedBuffer:lx,InterleavedBufferAttribute:Mh,Interpolant:Eg,InterpolateDiscrete:rg,InterpolateLinear:sg,InterpolateSmooth:m5,InvertStencilOp:Lne,KeepStencilOp:xd,KeyframeTrack:Ma,LOD:HV,LatheGeometry:ux,Layers:i0,LessCompare:gV,LessDepth:YG,LessEqualCompare:rI,LessEqualDepth:Qv,LessEqualStencilFunc:One,LessStencilFunc:Bne,Light:Nh,LightProbe:_W,Line:Hc,Line3:Zce,LineBasicMaterial:Or,LineCurve:xI,LineCurve3:YV,LineDashedMaterial:lW,LineLoop:gI,LineSegments:ba,LinearDisplayP3ColorSpace:rx,LinearFilter:$n,LinearInterpolant:CI,LinearMipMapLinearFilter:Sne,LinearMipMapNearestFilter:Ane,LinearMipmapLinearFilter:Lo,LinearMipmapNearestFilter:ym,LinearSRGBColorSpace:Kc,LinearToneMapping:tV,LinearTransfer:ny,Loader:kr,LoaderUtils:vh,LoadingManager:EI,LoopOnce:lV,LoopPingPong:uV,LoopRepeat:cV,LuminanceAlphaFormat:$7,LuminanceFormat:Q7,MOUSE:yd,Material:_i,MaterialLoader:vM,MathUtils:SV,Matrix2:kI,Matrix3:It,Matrix4:pt,MaxEquation:LG,Mesh:ci,MeshBasicMaterial:Xs,MeshDepthMaterial:hI,MeshDistanceMaterial:dI,MeshLambertMaterial:oW,MeshMatcapMaterial:aW,MeshNormalMaterial:sW,MeshPhongMaterial:iW,MeshPhysicalMaterial:zo,MeshStandardMaterial:fx,MeshToonMaterial:rW,MinEquation:IG,MirroredRepeatWrapping:ng,MixOperation:$G,MultiplyBlending:S9,MultiplyOperation:nx,NearestFilter:Ri,NearestMipMapLinearFilter:xne,NearestMipMapNearestFilter:_ne,NearestMipmapLinearFilter:Fd,NearestMipmapNearestFilter:jC,NeutralToneMapping:oV,NeverCompare:mV,NeverDepth:XG,NeverStencilFunc:Dne,NoBlending:Mc,NoColorSpace:yc,NoToneMapping:ul,NormalAnimationBlendMode:YC,NormalBlending:e0,NotEqualCompare:_V,NotEqualDepth:QG,NotEqualStencilFunc:Nne,NumberKeyframeTrack:x0,Object3D:zt,ObjectLoader:Cce,ObjectSpaceNormalMap:pV,OctahedronGeometry:hx,OneFactor:BG,OneMinusConstantAlphaFactor:WG,OneMinusConstantColorFactor:GG,OneMinusDstAlphaFactor:NG,OneMinusDstColorFactor:zG,OneMinusSrcAlphaFactor:Mw,OneMinusSrcColorFactor:OG,OrthographicCamera:Do,P3Primaries:ry,PCFShadowMap:UC,PCFSoftShadowMap:hv,PMREMGenerator:M9,Path:ly,PerspectiveCamera:Pn,Plane:Hl,PlaneGeometry:bg,PlaneHelper:cue,PointLight:PI,PointLightHelper:eue,Points:vI,PointsMaterial:tM,PolarGridHelper:rue,PolyhedronGeometry:kh,PositionalAudio:Lce,PropertyBinding:Vt,PropertyMixer:bW,QuadraticBezierCurve:AI,QuadraticBezierCurve3:SI,Quaternion:Xi,QuaternionKeyframeTrack:A0,QuaternionLinearInterpolant:fW,RED_GREEN_RGTC2_Format:Zw,RED_RGTC1_Format:tI,REVISION:tx,RGBADepthPacking:fV,RGBAFormat:Rr,RGBAIntegerFormat:KC,RGBA_ASTC_10x10_Format:Ww,RGBA_ASTC_10x5_Format:Hw,RGBA_ASTC_10x6_Format:Gw,RGBA_ASTC_10x8_Format:Vw,RGBA_ASTC_12x10_Format:Xw,RGBA_ASTC_12x12_Format:Kw,RGBA_ASTC_4x4_Format:Bw,RGBA_ASTC_5x4_Format:Fw,RGBA_ASTC_5x5_Format:Ow,RGBA_ASTC_6x5_Format:kw,RGBA_ASTC_6x6_Format:Nw,RGBA_ASTC_8x5_Format:Uw,RGBA_ASTC_8x6_Format:zw,RGBA_ASTC_8x8_Format:jw,RGBA_BPTC_Format:gv,RGBA_ETC2_EAC_Format:Dw,RGBA_PVRTC_2BPPV1_Format:Pw,RGBA_PVRTC_4BPPV1_Format:Rw,RGBA_S3TC_DXT1_Format:fv,RGBA_S3TC_DXT3_Format:pv,RGBA_S3TC_DXT5_Format:mv,RGBDepthPacking:bne,RGBFormat:Z7,RGBIntegerFormat:wne,RGB_BPTC_SIGNED_Format:Yw,RGB_BPTC_UNSIGNED_Format:Jw,RGB_ETC1_Format:Iw,RGB_ETC2_Format:Lw,RGB_PVRTC_2BPPV1_Format:Tw,RGB_PVRTC_4BPPV1_Format:Ew,RGB_S3TC_DXT1_Format:dv,RGDepthPacking:Cne,RGFormat:eI,RGIntegerFormat:XC,RawShaderMaterial:nW,Ray:B0,Raycaster:EW,Rec709Primaries:iy,RectAreaLight:vW,RedFormat:WC,RedIntegerFormat:ix,ReinhardToneMapping:nV,RenderTarget:MV,RepeatWrapping:Ch,ReplaceStencilOp:Ene,ReverseSubtractEquation:PG,RingGeometry:hM,SIGNED_RED_GREEN_RGTC2_Format:Qw,SIGNED_RED_RGTC1_Format:qw,SRGBColorSpace:Mo,SRGBTransfer:Sn,Scene:eb,ShaderChunk:Dt,ShaderLib:ma,ShaderMaterial:wa,ShadowMaterial:tW,Shape:r0,ShapeGeometry:dM,ShapePath:due,ShapeUtils:dl,ShortType:Y7,Skeleton:cx,SkeletonHelper:$ce,SkinnedMesh:pI,Source:Nd,Sphere:Ki,SphereGeometry:dx,Spherical:B9,SphericalHarmonics3:yW,SplineCurve:wI,SpotLight:RI,SpotLightHelper:Qce,Sprite:jV,SpriteMaterial:fI,SrcAlphaFactor:Cw,SrcAlphaSaturateFactor:jG,SrcColorFactor:FG,StaticCopyUsage:Wne,StaticDrawUsage:sy,StaticReadUsage:Hne,StereoCamera:Tce,StreamCopyUsage:Kne,StreamDrawUsage:jne,StreamReadUsage:Vne,StringKeyframeTrack:k0,SubtractEquation:RG,SubtractiveBlending:A9,TOUCH:_d,TangentSpaceNormalMap:Oh,TetrahedronGeometry:fM,Texture:Ln,TextureLoader:pW,TextureUtils:mle,TorusGeometry:pM,TorusKnotGeometry:mM,Triangle:Hs,TriangleFanDrawMode:$w,TriangleStripDrawMode:iI,TrianglesDrawMode:hV,TubeGeometry:gM,UVMapping:zC,Uint16BufferAttribute:aI,Uint32BufferAttribute:lI,Uint8BufferAttribute:Rie,Uint8ClampedBufferAttribute:Pie,Uniform:OI,UniformsGroup:Xce,UniformsLib:Ve,UniformsUtils:RV,UnsignedByteType:Aa,UnsignedInt248Type:g0,UnsignedInt5999Type:J7,UnsignedIntType:jc,UnsignedShort4444Type:GC,UnsignedShort5551Type:VC,UnsignedShortType:ig,VSMShadowMap:Zo,Vector2:Se,Vector3:V,Vector4:sn,VectorKeyframeTrack:S0,VideoTexture:VV,WebGL3DRenderTarget:vie,WebGLArrayRenderTarget:gie,WebGLCoordinateSystem:ol,WebGLCubeRenderTarget:IV,WebGLMultipleRenderTargets:fue,WebGLRenderTarget:Sa,WebGLRenderer:UV,WebGLUtils:kV,WebGPUCoordinateSystem:oy,WireframeGeometry:eW,WrapAroundEnding:ty,ZeroCurvatureEnding:Od,ZeroFactor:DG,ZeroSlopeEnding:kd,ZeroStencilOp:Mne,createCanvasElement:bV},Symbol.toStringTag,{value:"Module"}));var PW={exports:{}},N0={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */N0.ConcurrentRoot=1;N0.ContinuousEventPriority=4;N0.DefaultEventPriority=16;N0.DiscreteEventPriority=1;N0.IdleEventPriority=536870912;N0.LegacyRoot=0;PW.exports=N0;var nm=PW.exports;function pue(i){let e;const t=new Set,n=(c,u)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const d=e;e=u?h:Object.assign({},e,h),t.forEach(m=>m(e,d))}},r=()=>e,s=(c,u=r,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=u(e);function m(){const g=u(e);if(!h(d,g)){const y=d;c(d=g,y)}}return t.add(m),()=>t.delete(m)},l={setState:n,getState:r,subscribe:(c,u,h)=>u||h?s(c,u,h):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=i(n,r,l),l}const mue=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Kk=mue?U.useEffect:U.useLayoutEffect;function IW(i){const e=typeof i=="function"?pue(i):i,t=(n=e.getState,r=Object.is)=>{const[,s]=U.useReducer(_=>_+1,0),o=e.getState(),a=U.useRef(o),l=U.useRef(n),c=U.useRef(r),u=U.useRef(!1),h=U.useRef();h.current===void 0&&(h.current=n(o));let d,m=!1;(a.current!==o||l.current!==n||c.current!==r||u.current)&&(d=n(o),m=!r(h.current,d)),Kk(()=>{m&&(h.current=d),a.current=o,l.current=n,c.current=r,u.current=!1});const g=U.useRef(o);Kk(()=>{const _=()=>{try{const A=e.getState(),S=l.current(A);c.current(h.current,S)||(a.current=A,h.current=S,s())}catch{u.current=!0,s()}},v=e.subscribe(_);return e.getState()!==g.current&&_(),v},[]);const y=m?d:h.current;return U.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const n=[t,e];return{next(){const r=n.length<=0;return{value:n.shift(),done:r}}}},t}var LW={exports:{}},T6={exports:{}},R6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yk;function gue(){return Yk||(Yk=1,function(i){function e(k,q){var K=k.length;k.push(q);e:for(;0<K;){var ne=K-1>>>1,le=k[ne];if(0<r(le,q))k[ne]=q,k[K]=le,K=ne;else break e}}function t(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var q=k[0],K=k.pop();if(K!==q){k[0]=K;e:for(var ne=0,le=k.length,ye=le>>>1;ne<ye;){var re=2*(ne+1)-1,pe=k[re],Me=re+1,xe=k[Me];if(0>r(pe,K))Me<le&&0>r(xe,pe)?(k[ne]=xe,k[Me]=K,ne=Me):(k[ne]=pe,k[re]=K,ne=re);else if(Me<le&&0>r(xe,K))k[ne]=xe,k[Me]=K,ne=Me;else break e}}return q}function r(k,q){var K=k.sortIndex-q.sortIndex;return K!==0?K:k.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();i.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,m=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(k){for(var q=t(c);q!==null;){if(q.callback===null)n(c);else if(q.startTime<=k)n(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=t(c)}}function C(k){if(y=!1,S(k),!g)if(t(l)!==null)g=!0,Q(T);else{var q=t(c);q!==null&&ee(C,q.startTime-k)}}function T(k,q){g=!1,y&&(y=!1,v(D),D=-1),m=!0;var K=d;try{for(S(q),h=t(l);h!==null&&(!(h.expirationTime>q)||k&&!O());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,d=h.priorityLevel;var le=ne(h.expirationTime<=q);q=i.unstable_now(),typeof le=="function"?h.callback=le:h===t(l)&&n(l),S(q)}else n(l);h=t(l)}if(h!==null)var ye=!0;else{var re=t(c);re!==null&&ee(C,re.startTime-q),ye=!1}return ye}finally{h=null,d=K,m=!1}}var E=!1,R=null,D=-1,I=5,L=-1;function O(){return!(i.unstable_now()-L<I)}function W(){if(R!==null){var k=i.unstable_now();L=k;var q=!0;try{q=R(!0,k)}finally{q?X():(E=!1,R=null)}}else E=!1}var X;if(typeof A=="function")X=function(){A(W)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,$=Z.port2;Z.port1.onmessage=W,X=function(){$.postMessage(null)}}else X=function(){_(W,0)};function Q(k){R=k,E||(E=!0,X())}function ee(k,q){D=_(function(){k(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(k){k.callback=null},i.unstable_continueExecution=function(){g||m||(g=!0,Q(T))},i.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<k?Math.floor(1e3/k):5},i.unstable_getCurrentPriorityLevel=function(){return d},i.unstable_getFirstCallbackNode=function(){return t(l)},i.unstable_next=function(k){switch(d){case 1:case 2:case 3:var q=3;break;default:q=d}var K=d;d=q;try{return k()}finally{d=K}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(k,q){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var K=d;d=k;try{return q()}finally{d=K}},i.unstable_scheduleCallback=function(k,q,K){var ne=i.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,k){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=K+le,k={id:u++,callback:q,priorityLevel:k,startTime:K,expirationTime:le,sortIndex:-1},K>ne?(k.sortIndex=K,e(c,k),t(l)===null&&k===t(c)&&(y?(v(D),D=-1):y=!0,ee(C,K-ne))):(k.sortIndex=le,e(l,k),g||m||(g=!0,Q(T))),k},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(k){var q=d;return function(){var K=d;d=q;try{return k.apply(this,arguments)}finally{d=K}}}}(R6)),R6}var Jk;function vue(){return Jk||(Jk=1,T6.exports=gue()),T6.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yue=function(e){var t={},n=U,r=vue(),s=Object.assign;function o(f){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+f,b=1;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),T=Symbol.iterator;function E(f){return f===null||typeof f!="object"?null:(f=T&&f[T]||f["@@iterator"],typeof f=="function"?f:null)}function R(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case u:return"Fragment";case c:return"Portal";case d:return"Profiler";case h:return"StrictMode";case _:return"Suspense";case v:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case g:return(f.displayName||"Context")+".Consumer";case m:return(f._context.displayName||"Context")+".Provider";case y:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case A:return p=f.displayName||null,p!==null?p:R(f.type)||"Memo";case S:p=f._payload,f=f._init;try{return R(f(p))}catch{}}return null}function D(f){var p=f.type;switch(f.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=p.render,f=f.displayName||f.name||"",p.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(p);case 8:return p===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function I(f){var p=f,b=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,p.flags&4098&&(b=p.return),f=p.return;while(f)}return p.tag===3?b:null}function L(f){if(I(f)!==f)throw Error(o(188))}function O(f){var p=f.alternate;if(!p){if(p=I(f),p===null)throw Error(o(188));return p!==f?null:f}for(var b=f,M=p;;){var P=b.return;if(P===null)break;var B=P.alternate;if(B===null){if(M=P.return,M!==null){b=M;continue}break}if(P.child===B.child){for(B=P.child;B;){if(B===b)return L(P),f;if(B===M)return L(P),p;B=B.sibling}throw Error(o(188))}if(b.return!==M.return)b=P,M=B;else{for(var Y=!1,se=P.child;se;){if(se===b){Y=!0,b=P,M=B;break}if(se===M){Y=!0,M=P,b=B;break}se=se.sibling}if(!Y){for(se=B.child;se;){if(se===b){Y=!0,b=B,M=P;break}if(se===M){Y=!0,M=B,b=P;break}se=se.sibling}if(!Y)throw Error(o(189))}}if(b.alternate!==M)throw Error(o(190))}if(b.tag!==3)throw Error(o(188));return b.stateNode.current===b?f:p}function W(f){return f=O(f),f!==null?X(f):null}function X(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var p=X(f);if(p!==null)return p;f=f.sibling}return null}function Z(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var p=Z(f);if(p!==null)return p}f=f.sibling}return null}var $=Array.isArray,Q=e.getPublicInstance,ee=e.getRootHostContext,k=e.getChildHostContext,q=e.prepareForCommit,K=e.resetAfterCommit,ne=e.createInstance,le=e.appendInitialChild,ye=e.finalizeInitialChildren,re=e.prepareUpdate,pe=e.shouldSetTextContent,Me=e.createTextInstance,xe=e.scheduleTimeout,We=e.cancelTimeout,rt=e.noTimeout,Be=e.isPrimaryRenderer,He=e.supportsMutation,G=e.supportsPersistence,me=e.supportsHydration,Ae=e.getInstanceFromNode,Ie=e.preparePortalMount,ge=e.getCurrentEventPriority,Je=e.detachDeletedInstance,Ue=e.supportsMicrotasks,Ke=e.scheduleMicrotask,J=e.supportsTestSelectors,N=e.findFiberRoot,ue=e.getBoundingRect,Te=e.getTextContent,Ee=e.isHiddenSubtree,Re=e.matchAccessibilityRole,ot=e.setFocusIfFocusable,Le=e.setupIntersectionObserver,Xe=e.appendChild,yt=e.appendChildToContainer,De=e.commitTextUpdate,Ze=e.commitMount,kt=e.commitUpdate,_t=e.insertBefore,et=e.insertInContainerBefore,ie=e.removeChild,be=e.removeChildFromContainer,qe=e.resetTextContent,te=e.hideInstance,Pe=e.hideTextInstance,we=e.unhideInstance,Ce=e.unhideTextInstance,ze=e.clearContainer,gt=e.cloneInstance,Ct=e.createContainerChildSet,Kt=e.appendChildToContainerChildSet,Mn=e.finalizeContainerChildren,Ft=e.replaceContainerChildren,Li=e.cloneHiddenInstance,Di=e.cloneHiddenTextInstance,Ix=e.canHydrateInstance,_l=e.canHydrateTextInstance,Pg=e.canHydrateSuspenseInstance,Ig=e.isSuspenseInstancePending,G0=e.isSuspenseInstanceFallback,V0=e.registerSuspenseInstanceRetry,Yc=e.getNextHydratableSibling,W0=e.getFirstHydratableChild,Lx=e.getFirstHydratableChildWithinContainer,Dx=e.getFirstHydratableChildWithinSuspenseInstance,aE=e.hydrateInstance,lE=e.hydrateTextInstance,cE=e.hydrateSuspenseInstance,H=e.getNextHydratableInstanceAfterSuspenseInstance,oe=e.commitHydratedContainer,de=e.commitHydratedSuspenseInstance,fe=e.clearSuspenseBoundary,ce=e.clearSuspenseBoundaryFromContainer,ke=e.shouldDeleteUnhydratedTailInstances,$e=e.didNotMatchHydratedContainerTextInstance,st=e.didNotMatchHydratedTextInstance,it;function mt(f){if(it===void 0)try{throw Error()}catch(b){var p=b.stack.trim().match(/\n( *(at )?)/);it=p&&p[1]||""}return`
`+it+f}var xt=!1;function ft(f,p){if(!f||xt)return"";xt=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Oe){var M=Oe}Reflect.construct(f,[],p)}else{try{p.call()}catch(Oe){M=Oe}f.call(p.prototype)}else{try{throw Error()}catch(Oe){M=Oe}f()}}catch(Oe){if(Oe&&M&&typeof Oe.stack=="string"){for(var P=Oe.stack.split(`
`),B=M.stack.split(`
`),Y=P.length-1,se=B.length-1;1<=Y&&0<=se&&P[Y]!==B[se];)se--;for(;1<=Y&&0<=se;Y--,se--)if(P[Y]!==B[se]){if(Y!==1||se!==1)do if(Y--,se--,0>se||P[Y]!==B[se]){var _e=`
`+P[Y].replace(" at new "," at ");return f.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",f.displayName)),_e}while(1<=Y&&0<=se);break}}}finally{xt=!1,Error.prepareStackTrace=b}return(f=f?f.displayName||f.name:"")?mt(f):""}var Qt=Object.prototype.hasOwnProperty,_n=[],on=-1;function Xn(f){return{current:f}}function ht(f){0>on||(f.current=_n[on],_n[on]=null,on--)}function je(f,p){on++,_n[on]=f.current,f.current=p}var xn={},St=Xn(xn),An=Xn(!1),$r=xn;function hi(f,p){var b=f.type.contextTypes;if(!b)return xn;var M=f.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===p)return M.__reactInternalMemoizedMaskedChildContext;var P={},B;for(B in b)P[B]=p[B];return M&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=p,f.__reactInternalMemoizedMaskedChildContext=P),P}function Bi(f){return f=f.childContextTypes,f!=null}function En(){ht(An),ht(St)}function jo(f,p,b){if(St.current!==xn)throw Error(o(168));je(St,p),je(An,b)}function X0(f,p,b){var M=f.stateNode;if(p=p.childContextTypes,typeof M.getChildContext!="function")return b;M=M.getChildContext();for(var P in M)if(!(P in p))throw Error(o(108,D(f)||"Unknown",P));return s({},b,M)}function qi(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||xn,$r=St.current,je(St,f),je(An,An.current),!0}function K0(f,p,b){var M=f.stateNode;if(!M)throw Error(o(169));b?(f=X0(f,p,$r),M.__reactInternalMemoizedMergedChildContext=f,ht(An),ht(St),je(St,f)):ht(An),je(An,b)}var Ss=Math.clz32?Math.clz32:QZ,Bx=Math.log,ZZ=Math.LN2;function QZ(f){return f>>>=0,f===0?32:31-(Bx(f)/ZZ|0)|0}var Fx=64,Ox=4194304;function Lg(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function kx(f,p){var b=f.pendingLanes;if(b===0)return 0;var M=0,P=f.suspendedLanes,B=f.pingedLanes,Y=b&268435455;if(Y!==0){var se=Y&~P;se!==0?M=Lg(se):(B&=Y,B!==0&&(M=Lg(B)))}else Y=b&~P,Y!==0?M=Lg(Y):B!==0&&(M=Lg(B));if(M===0)return 0;if(p!==0&&p!==M&&!(p&P)&&(P=M&-M,B=p&-p,P>=B||P===16&&(B&4194240)!==0))return p;if(M&4&&(M|=b&16),p=f.entangledLanes,p!==0)for(f=f.entanglements,p&=M;0<p;)b=31-Ss(p),P=1<<b,M|=f[b],p&=~P;return M}function $Z(f,p){switch(f){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eQ(f,p){for(var b=f.suspendedLanes,M=f.pingedLanes,P=f.expirationTimes,B=f.pendingLanes;0<B;){var Y=31-Ss(B),se=1<<Y,_e=P[Y];_e===-1?(!(se&b)||se&M)&&(P[Y]=$Z(se,p)):_e<=p&&(f.expiredLanes|=se),B&=~se}}function uE(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function hE(f){for(var p=[],b=0;31>b;b++)p.push(f);return p}function Dg(f,p,b){f.pendingLanes|=p,p!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,p=31-Ss(p),f[p]=b}function tQ(f,p){var b=f.pendingLanes&~p;f.pendingLanes=p,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=p,f.mutableReadLanes&=p,f.entangledLanes&=p,p=f.entanglements;var M=f.eventTimes;for(f=f.expirationTimes;0<b;){var P=31-Ss(b),B=1<<P;p[P]=0,M[P]=-1,f[P]=-1,b&=~B}}function dE(f,p){var b=f.entangledLanes|=p;for(f=f.entanglements;b;){var M=31-Ss(b),P=1<<M;P&p|f[M]&p&&(f[M]|=p),b&=~P}}var $t=0;function AD(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var fE=r.unstable_scheduleCallback,SD=r.unstable_cancelCallback,nQ=r.unstable_shouldYield,iQ=r.unstable_requestPaint,Fi=r.unstable_now,pE=r.unstable_ImmediatePriority,rQ=r.unstable_UserBlockingPriority,mE=r.unstable_NormalPriority,sQ=r.unstable_IdlePriority,Nx=null,Ta=null;function oQ(f){if(Ta&&typeof Ta.onCommitFiberRoot=="function")try{Ta.onCommitFiberRoot(Nx,f,void 0,(f.current.flags&128)===128)}catch{}}function aQ(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var Ra=typeof Object.is=="function"?Object.is:aQ,xl=null,Ux=!1,gE=!1;function wD(f){xl===null?xl=[f]:xl.push(f)}function lQ(f){Ux=!0,wD(f)}function Pa(){if(!gE&&xl!==null){gE=!0;var f=0,p=$t;try{var b=xl;for($t=1;f<b.length;f++){var M=b[f];do M=M(!0);while(M!==null)}xl=null,Ux=!1}catch(P){throw xl!==null&&(xl=xl.slice(f+1)),fE(pE,Pa),P}finally{$t=p,gE=!1}}return null}var cQ=a.ReactCurrentBatchConfig;function zx(f,p){if(Ra(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var b=Object.keys(f),M=Object.keys(p);if(b.length!==M.length)return!1;for(M=0;M<b.length;M++){var P=b[M];if(!Qt.call(p,P)||!Ra(f[P],p[P]))return!1}return!0}function uQ(f){switch(f.tag){case 5:return mt(f.type);case 16:return mt("Lazy");case 13:return mt("Suspense");case 19:return mt("SuspenseList");case 0:case 2:case 15:return f=ft(f.type,!1),f;case 11:return f=ft(f.type.render,!1),f;case 1:return f=ft(f.type,!0),f;default:return""}}function Ho(f,p){if(f&&f.defaultProps){p=s({},p),f=f.defaultProps;for(var b in f)p[b]===void 0&&(p[b]=f[b]);return p}return p}var jx=Xn(null),Hx=null,Y0=null,vE=null;function yE(){vE=Y0=Hx=null}function bD(f,p,b){Be?(je(jx,p._currentValue),p._currentValue=b):(je(jx,p._currentValue2),p._currentValue2=b)}function _E(f){var p=jx.current;ht(jx),Be?f._currentValue=p:f._currentValue2=p}function xE(f,p,b){for(;f!==null;){var M=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,M!==null&&(M.childLanes|=p)):M!==null&&(M.childLanes&p)!==p&&(M.childLanes|=p),f===b)break;f=f.return}}function J0(f,p){Hx=f,vE=Y0=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&p&&(Cs=!0),f.firstContext=null)}function so(f){var p=Be?f._currentValue:f._currentValue2;if(vE!==f)if(f={context:f,memoizedValue:p,next:null},Y0===null){if(Hx===null)throw Error(o(308));Y0=f,Hx.dependencies={lanes:0,firstContext:f}}else Y0=Y0.next=f;return p}var Ia=null,Jc=!1;function AE(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CD(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function Al(f,p){return{eventTime:f,lane:p,tag:0,payload:null,callback:null,next:null}}function qc(f,p){var b=f.updateQueue;b!==null&&(b=b.shared,di!==null&&f.mode&1&&!(Ot&2)?(f=b.interleaved,f===null?(p.next=p,Ia===null?Ia=[b]:Ia.push(b)):(p.next=f.next,f.next=p),b.interleaved=p):(f=b.pending,f===null?p.next=p:(p.next=f.next,f.next=p),b.pending=p))}function Gx(f,p,b){if(p=p.updateQueue,p!==null&&(p=p.shared,(b&4194240)!==0)){var M=p.lanes;M&=f.pendingLanes,b|=M,p.lanes=b,dE(f,b)}}function MD(f,p){var b=f.updateQueue,M=f.alternate;if(M!==null&&(M=M.updateQueue,b===M)){var P=null,B=null;if(b=b.firstBaseUpdate,b!==null){do{var Y={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};B===null?P=B=Y:B=B.next=Y,b=b.next}while(b!==null);B===null?P=B=p:B=B.next=p}else P=B=p;b={baseState:M.baseState,firstBaseUpdate:P,lastBaseUpdate:B,shared:M.shared,effects:M.effects},f.updateQueue=b;return}f=b.lastBaseUpdate,f===null?b.firstBaseUpdate=p:f.next=p,b.lastBaseUpdate=p}function Vx(f,p,b,M){var P=f.updateQueue;Jc=!1;var B=P.firstBaseUpdate,Y=P.lastBaseUpdate,se=P.shared.pending;if(se!==null){P.shared.pending=null;var _e=se,Oe=_e.next;_e.next=null,Y===null?B=Oe:Y.next=Oe,Y=_e;var nt=f.alternate;nt!==null&&(nt=nt.updateQueue,se=nt.lastBaseUpdate,se!==Y&&(se===null?nt.firstBaseUpdate=Oe:se.next=Oe,nt.lastBaseUpdate=_e))}if(B!==null){var Et=P.baseState;Y=0,nt=Oe=_e=null,se=B;do{var vt=se.lane,pn=se.eventTime;if((M&vt)===vt){nt!==null&&(nt=nt.next={eventTime:pn,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var ut=f,mr=se;switch(vt=p,pn=b,mr.tag){case 1:if(ut=mr.payload,typeof ut=="function"){Et=ut.call(pn,Et,vt);break e}Et=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=mr.payload,vt=typeof ut=="function"?ut.call(pn,Et,vt):ut,vt==null)break e;Et=s({},Et,vt);break e;case 2:Jc=!0}}se.callback!==null&&se.lane!==0&&(f.flags|=64,vt=P.effects,vt===null?P.effects=[se]:vt.push(se))}else pn={eventTime:pn,lane:vt,tag:se.tag,payload:se.payload,callback:se.callback,next:null},nt===null?(Oe=nt=pn,_e=Et):nt=nt.next=pn,Y|=vt;if(se=se.next,se===null){if(se=P.shared.pending,se===null)break;vt=se,se=vt.next,vt.next=null,P.lastBaseUpdate=vt,P.shared.pending=null}}while(!0);if(nt===null&&(_e=Et),P.baseState=_e,P.firstBaseUpdate=Oe,P.lastBaseUpdate=nt,p=P.shared.interleaved,p!==null){P=p;do Y|=P.lane,P=P.next;while(P!==p)}else B===null&&(P.shared.lanes=0);rp|=Y,f.lanes=Y,f.memoizedState=Et}}function ED(f,p,b){if(f=p.effects,p.effects=null,f!==null)for(p=0;p<f.length;p++){var M=f[p],P=M.callback;if(P!==null){if(M.callback=null,M=b,typeof P!="function")throw Error(o(191,P));P.call(M)}}}var TD=new n.Component().refs;function SE(f,p,b,M){p=f.memoizedState,b=b(M,p),b=b==null?p:s({},p,b),f.memoizedState=b,f.lanes===0&&(f.updateQueue.baseState=b)}var Wx={isMounted:function(f){return(f=f._reactInternals)?I(f)===f:!1},enqueueSetState:function(f,p,b){f=f._reactInternals;var M=Ur(),P=$c(f),B=Al(M,P);B.payload=p,b!=null&&(B.callback=b),qc(f,B),p=uo(f,P,M),p!==null&&Gx(p,f,P)},enqueueReplaceState:function(f,p,b){f=f._reactInternals;var M=Ur(),P=$c(f),B=Al(M,P);B.tag=1,B.payload=p,b!=null&&(B.callback=b),qc(f,B),p=uo(f,P,M),p!==null&&Gx(p,f,P)},enqueueForceUpdate:function(f,p){f=f._reactInternals;var b=Ur(),M=$c(f),P=Al(b,M);P.tag=2,p!=null&&(P.callback=p),qc(f,P),p=uo(f,M,b),p!==null&&Gx(p,f,M)}};function RD(f,p,b,M,P,B,Y){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(M,B,Y):p.prototype&&p.prototype.isPureReactComponent?!zx(b,M)||!zx(P,B):!0}function PD(f,p,b){var M=!1,P=xn,B=p.contextType;return typeof B=="object"&&B!==null?B=so(B):(P=Bi(p)?$r:St.current,M=p.contextTypes,B=(M=M!=null)?hi(f,P):xn),p=new p(b,B),f.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Wx,f.stateNode=p,p._reactInternals=f,M&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=P,f.__reactInternalMemoizedMaskedChildContext=B),p}function ID(f,p,b,M){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(b,M),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(b,M),p.state!==f&&Wx.enqueueReplaceState(p,p.state,null)}function wE(f,p,b,M){var P=f.stateNode;P.props=b,P.state=f.memoizedState,P.refs=TD,AE(f);var B=p.contextType;typeof B=="object"&&B!==null?P.context=so(B):(B=Bi(p)?$r:St.current,P.context=hi(f,B)),P.state=f.memoizedState,B=p.getDerivedStateFromProps,typeof B=="function"&&(SE(f,p,B,b),P.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(p=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),p!==P.state&&Wx.enqueueReplaceState(P,P.state,null),Vx(f,b,P,M),P.state=f.memoizedState),typeof P.componentDidMount=="function"&&(f.flags|=4194308)}var q0=[],Z0=0,Xx=null,Kx=0,oo=[],ao=0,Gh=null,Sl=1,wl="";function Vh(f,p){q0[Z0++]=Kx,q0[Z0++]=Xx,Xx=f,Kx=p}function LD(f,p,b){oo[ao++]=Sl,oo[ao++]=wl,oo[ao++]=Gh,Gh=f;var M=Sl;f=wl;var P=32-Ss(M)-1;M&=~(1<<P),b+=1;var B=32-Ss(p)+P;if(30<B){var Y=P-P%5;B=(M&(1<<Y)-1).toString(32),M>>=Y,P-=Y,Sl=1<<32-Ss(p)+P|b<<P|M,wl=B+f}else Sl=1<<B|b<<P|M,wl=f}function bE(f){f.return!==null&&(Vh(f,1),LD(f,1,0))}function CE(f){for(;f===Xx;)Xx=q0[--Z0],q0[Z0]=null,Kx=q0[--Z0],q0[Z0]=null;for(;f===Gh;)Gh=oo[--ao],oo[ao]=null,wl=oo[--ao],oo[ao]=null,Sl=oo[--ao],oo[ao]=null}var ws=null,bs=null,Dn=!1,Bg=!1,Go=null;function DD(f,p){var b=ho(5,null,null,0);b.elementType="DELETED",b.stateNode=p,b.return=f,p=f.deletions,p===null?(f.deletions=[b],f.flags|=16):p.push(b)}function BD(f,p){switch(f.tag){case 5:return p=Ix(p,f.type,f.pendingProps),p!==null?(f.stateNode=p,ws=f,bs=W0(p),!0):!1;case 6:return p=_l(p,f.pendingProps),p!==null?(f.stateNode=p,ws=f,bs=null,!0):!1;case 13:if(p=Pg(p),p!==null){var b=Gh!==null?{id:Sl,overflow:wl}:null;return f.memoizedState={dehydrated:p,treeContext:b,retryLane:1073741824},b=ho(18,null,null,0),b.stateNode=p,b.return=f,f.child=b,ws=f,bs=null,!0}return!1;default:return!1}}function ME(f){return(f.mode&1)!==0&&(f.flags&128)===0}function EE(f){if(Dn){var p=bs;if(p){var b=p;if(!BD(f,p)){if(ME(f))throw Error(o(418));p=Yc(b);var M=ws;p&&BD(f,p)?DD(M,b):(f.flags=f.flags&-4097|2,Dn=!1,ws=f)}}else{if(ME(f))throw Error(o(418));f.flags=f.flags&-4097|2,Dn=!1,ws=f}}}function FD(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;ws=f}function Fg(f){if(!me||f!==ws)return!1;if(!Dn)return FD(f),Dn=!0,!1;if(f.tag!==3&&(f.tag!==5||ke(f.type)&&!pe(f.type,f.memoizedProps))){var p=bs;if(p){if(ME(f)){for(f=bs;f;)f=Yc(f);throw Error(o(418))}for(;p;)DD(f,p),p=Yc(p)}}if(FD(f),f.tag===13){if(!me)throw Error(o(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));bs=H(f)}else bs=ws?Yc(f.stateNode):null;return!0}function Q0(){me&&(bs=ws=null,Bg=Dn=!1)}function TE(f){Go===null?Go=[f]:Go.push(f)}function Og(f,p,b){if(f=b.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(o(309));var M=b.stateNode}if(!M)throw Error(o(147,f));var P=M,B=""+f;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===B?p.ref:(p=function(Y){var se=P.refs;se===TD&&(se=P.refs={}),Y===null?delete se[B]:se[B]=Y},p._stringRef=B,p)}if(typeof f!="string")throw Error(o(284));if(!b._owner)throw Error(o(290,f))}return f}function Yx(f,p){throw f=Object.prototype.toString.call(p),Error(o(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f))}function OD(f){var p=f._init;return p(f._payload)}function kD(f){function p(he,ae){if(f){var ve=he.deletions;ve===null?(he.deletions=[ae],he.flags|=16):ve.push(ae)}}function b(he,ae){if(!f)return null;for(;ae!==null;)p(he,ae),ae=ae.sibling;return null}function M(he,ae){for(he=new Map;ae!==null;)ae.key!==null?he.set(ae.key,ae):he.set(ae.index,ae),ae=ae.sibling;return he}function P(he,ae){return he=tu(he,ae),he.index=0,he.sibling=null,he}function B(he,ae,ve){return he.index=ve,f?(ve=he.alternate,ve!==null?(ve=ve.index,ve<ae?(he.flags|=2,ae):ve):(he.flags|=2,ae)):(he.flags|=1048576,ae)}function Y(he){return f&&he.alternate===null&&(he.flags|=2),he}function se(he,ae,ve,Qe){return ae===null||ae.tag!==6?(ae=h8(ve,he.mode,Qe),ae.return=he,ae):(ae=P(ae,ve),ae.return=he,ae)}function _e(he,ae,ve,Qe){var ct=ve.type;return ct===u?nt(he,ae,ve.props.children,Qe,ve.key):ae!==null&&(ae.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&OD(ct)===ae.type)?(Qe=P(ae,ve.props),Qe.ref=Og(he,ae,ve),Qe.return=he,Qe):(Qe=CA(ve.type,ve.key,ve.props,null,he.mode,Qe),Qe.ref=Og(he,ae,ve),Qe.return=he,Qe)}function Oe(he,ae,ve,Qe){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==ve.containerInfo||ae.stateNode.implementation!==ve.implementation?(ae=d8(ve,he.mode,Qe),ae.return=he,ae):(ae=P(ae,ve.children||[]),ae.return=he,ae)}function nt(he,ae,ve,Qe,ct){return ae===null||ae.tag!==7?(ae=Zh(ve,he.mode,Qe,ct),ae.return=he,ae):(ae=P(ae,ve),ae.return=he,ae)}function Et(he,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=h8(""+ae,he.mode,ve),ae.return=he,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case l:return ve=CA(ae.type,ae.key,ae.props,null,he.mode,ve),ve.ref=Og(he,null,ae),ve.return=he,ve;case c:return ae=d8(ae,he.mode,ve),ae.return=he,ae;case S:var Qe=ae._init;return Et(he,Qe(ae._payload),ve)}if($(ae)||E(ae))return ae=Zh(ae,he.mode,ve,null),ae.return=he,ae;Yx(he,ae)}return null}function vt(he,ae,ve,Qe){var ct=ae!==null?ae.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ct!==null?null:se(he,ae,""+ve,Qe);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case l:return ve.key===ct?_e(he,ae,ve,Qe):null;case c:return ve.key===ct?Oe(he,ae,ve,Qe):null;case S:return ct=ve._init,vt(he,ae,ct(ve._payload),Qe)}if($(ve)||E(ve))return ct!==null?null:nt(he,ae,ve,Qe,null);Yx(he,ve)}return null}function pn(he,ae,ve,Qe,ct){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return he=he.get(ve)||null,se(ae,he,""+Qe,ct);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case l:return he=he.get(Qe.key===null?ve:Qe.key)||null,_e(ae,he,Qe,ct);case c:return he=he.get(Qe.key===null?ve:Qe.key)||null,Oe(ae,he,Qe,ct);case S:var Bt=Qe._init;return pn(he,ae,ve,Bt(Qe._payload),ct)}if($(Qe)||E(Qe))return he=he.get(ve)||null,nt(ae,he,Qe,ct,null);Yx(ae,Qe)}return null}function ut(he,ae,ve,Qe){for(var ct=null,Bt=null,Tt=ae,en=ae=0,ki=null;Tt!==null&&en<ve.length;en++){Tt.index>en?(ki=Tt,Tt=null):ki=Tt.sibling;var tn=vt(he,Tt,ve[en],Qe);if(tn===null){Tt===null&&(Tt=ki);break}f&&Tt&&tn.alternate===null&&p(he,Tt),ae=B(tn,ae,en),Bt===null?ct=tn:Bt.sibling=tn,Bt=tn,Tt=ki}if(en===ve.length)return b(he,Tt),Dn&&Vh(he,en),ct;if(Tt===null){for(;en<ve.length;en++)Tt=Et(he,ve[en],Qe),Tt!==null&&(ae=B(Tt,ae,en),Bt===null?ct=Tt:Bt.sibling=Tt,Bt=Tt);return Dn&&Vh(he,en),ct}for(Tt=M(he,Tt);en<ve.length;en++)ki=pn(Tt,he,en,ve[en],Qe),ki!==null&&(f&&ki.alternate!==null&&Tt.delete(ki.key===null?en:ki.key),ae=B(ki,ae,en),Bt===null?ct=ki:Bt.sibling=ki,Bt=ki);return f&&Tt.forEach(function(nu){return p(he,nu)}),Dn&&Vh(he,en),ct}function mr(he,ae,ve,Qe){var ct=E(ve);if(typeof ct!="function")throw Error(o(150));if(ve=ct.call(ve),ve==null)throw Error(o(151));for(var Bt=ct=null,Tt=ae,en=ae=0,ki=null,tn=ve.next();Tt!==null&&!tn.done;en++,tn=ve.next()){Tt.index>en?(ki=Tt,Tt=null):ki=Tt.sibling;var nu=vt(he,Tt,tn.value,Qe);if(nu===null){Tt===null&&(Tt=ki);break}f&&Tt&&nu.alternate===null&&p(he,Tt),ae=B(nu,ae,en),Bt===null?ct=nu:Bt.sibling=nu,Bt=nu,Tt=ki}if(tn.done)return b(he,Tt),Dn&&Vh(he,en),ct;if(Tt===null){for(;!tn.done;en++,tn=ve.next())tn=Et(he,tn.value,Qe),tn!==null&&(ae=B(tn,ae,en),Bt===null?ct=tn:Bt.sibling=tn,Bt=tn);return Dn&&Vh(he,en),ct}for(Tt=M(he,Tt);!tn.done;en++,tn=ve.next())tn=pn(Tt,he,en,tn.value,Qe),tn!==null&&(f&&tn.alternate!==null&&Tt.delete(tn.key===null?en:tn.key),ae=B(tn,ae,en),Bt===null?ct=tn:Bt.sibling=tn,Bt=tn);return f&&Tt.forEach(function(zQ){return p(he,zQ)}),Dn&&Vh(he,en),ct}function fo(he,ae,ve,Qe){if(typeof ve=="object"&&ve!==null&&ve.type===u&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case l:e:{for(var ct=ve.key,Bt=ae;Bt!==null;){if(Bt.key===ct){if(ct=ve.type,ct===u){if(Bt.tag===7){b(he,Bt.sibling),ae=P(Bt,ve.props.children),ae.return=he,he=ae;break e}}else if(Bt.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&OD(ct)===Bt.type){b(he,Bt.sibling),ae=P(Bt,ve.props),ae.ref=Og(he,Bt,ve),ae.return=he,he=ae;break e}b(he,Bt);break}else p(he,Bt);Bt=Bt.sibling}ve.type===u?(ae=Zh(ve.props.children,he.mode,Qe,ve.key),ae.return=he,he=ae):(Qe=CA(ve.type,ve.key,ve.props,null,he.mode,Qe),Qe.ref=Og(he,ae,ve),Qe.return=he,he=Qe)}return Y(he);case c:e:{for(Bt=ve.key;ae!==null;){if(ae.key===Bt)if(ae.tag===4&&ae.stateNode.containerInfo===ve.containerInfo&&ae.stateNode.implementation===ve.implementation){b(he,ae.sibling),ae=P(ae,ve.children||[]),ae.return=he,he=ae;break e}else{b(he,ae);break}else p(he,ae);ae=ae.sibling}ae=d8(ve,he.mode,Qe),ae.return=he,he=ae}return Y(he);case S:return Bt=ve._init,fo(he,ae,Bt(ve._payload),Qe)}if($(ve))return ut(he,ae,ve,Qe);if(E(ve))return mr(he,ae,ve,Qe);Yx(he,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"?(ve=""+ve,ae!==null&&ae.tag===6?(b(he,ae.sibling),ae=P(ae,ve),ae.return=he,he=ae):(b(he,ae),ae=h8(ve,he.mode,Qe),ae.return=he,he=ae),Y(he)):b(he,ae)}return fo}var $0=kD(!0),ND=kD(!1),kg={},lo=Xn(kg),Ng=Xn(kg),ep=Xn(kg);function La(f){if(f===kg)throw Error(o(174));return f}function RE(f,p){je(ep,p),je(Ng,f),je(lo,kg),f=ee(p),ht(lo),je(lo,f)}function tp(){ht(lo),ht(Ng),ht(ep)}function UD(f){var p=La(ep.current),b=La(lo.current);p=k(b,f.type,p),b!==p&&(je(Ng,f),je(lo,p))}function PE(f){Ng.current===f&&(ht(lo),ht(Ng))}var kn=Xn(0);function Jx(f){for(var p=f;p!==null;){if(p.tag===13){var b=p.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||Ig(b)||G0(b)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var IE=[];function LE(){for(var f=0;f<IE.length;f++){var p=IE[f];Be?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}IE.length=0}var qx=a.ReactCurrentDispatcher,co=a.ReactCurrentBatchConfig,np=0,Kn=null,dr=null,Oi=null,Zx=!1,Ug=!1,zg=0,hQ=0;function fr(){throw Error(o(321))}function DE(f,p){if(p===null)return!1;for(var b=0;b<p.length&&b<f.length;b++)if(!Ra(f[b],p[b]))return!1;return!0}function BE(f,p,b,M,P,B){if(np=B,Kn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,qx.current=f===null||f.memoizedState===null?mQ:gQ,f=b(M,P),Ug){B=0;do{if(Ug=!1,zg=0,25<=B)throw Error(o(301));B+=1,Oi=dr=null,p.updateQueue=null,qx.current=vQ,f=b(M,P)}while(Ug)}if(qx.current=nA,p=dr!==null&&dr.next!==null,np=0,Oi=dr=Kn=null,Zx=!1,p)throw Error(o(300));return f}function FE(){var f=zg!==0;return zg=0,f}function bl(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oi===null?Kn.memoizedState=Oi=f:Oi=Oi.next=f,Oi}function Da(){if(dr===null){var f=Kn.alternate;f=f!==null?f.memoizedState:null}else f=dr.next;var p=Oi===null?Kn.memoizedState:Oi.next;if(p!==null)Oi=p,dr=f;else{if(f===null)throw Error(o(310));dr=f,f={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},Oi===null?Kn.memoizedState=Oi=f:Oi=Oi.next=f}return Oi}function Wh(f,p){return typeof p=="function"?p(f):p}function Qx(f){var p=Da(),b=p.queue;if(b===null)throw Error(o(311));b.lastRenderedReducer=f;var M=dr,P=M.baseQueue,B=b.pending;if(B!==null){if(P!==null){var Y=P.next;P.next=B.next,B.next=Y}M.baseQueue=P=B,b.pending=null}if(P!==null){B=P.next,M=M.baseState;var se=Y=null,_e=null,Oe=B;do{var nt=Oe.lane;if((np&nt)===nt)_e!==null&&(_e=_e.next={lane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),M=Oe.hasEagerState?Oe.eagerState:f(M,Oe.action);else{var Et={lane:nt,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null};_e===null?(se=_e=Et,Y=M):_e=_e.next=Et,Kn.lanes|=nt,rp|=nt}Oe=Oe.next}while(Oe!==null&&Oe!==B);_e===null?Y=M:_e.next=se,Ra(M,p.memoizedState)||(Cs=!0),p.memoizedState=M,p.baseState=Y,p.baseQueue=_e,b.lastRenderedState=M}if(f=b.interleaved,f!==null){P=f;do B=P.lane,Kn.lanes|=B,rp|=B,P=P.next;while(P!==f)}else P===null&&(b.lanes=0);return[p.memoizedState,b.dispatch]}function $x(f){var p=Da(),b=p.queue;if(b===null)throw Error(o(311));b.lastRenderedReducer=f;var M=b.dispatch,P=b.pending,B=p.memoizedState;if(P!==null){b.pending=null;var Y=P=P.next;do B=f(B,Y.action),Y=Y.next;while(Y!==P);Ra(B,p.memoizedState)||(Cs=!0),p.memoizedState=B,p.baseQueue===null&&(p.baseState=B),b.lastRenderedState=B}return[B,M]}function zD(){}function jD(f,p){var b=Kn,M=Da(),P=p(),B=!Ra(M.memoizedState,P);if(B&&(M.memoizedState=P,Cs=!0),M=M.queue,Hg(VD.bind(null,b,M,f),[f]),M.getSnapshot!==p||B||Oi!==null&&Oi.memoizedState.tag&1){if(b.flags|=2048,jg(9,GD.bind(null,b,M,P,p),void 0,null),di===null)throw Error(o(349));np&30||HD(b,p,P)}return P}function HD(f,p,b){f.flags|=16384,f={getSnapshot:p,value:b},p=Kn.updateQueue,p===null?(p={lastEffect:null,stores:null},Kn.updateQueue=p,p.stores=[f]):(b=p.stores,b===null?p.stores=[f]:b.push(f))}function GD(f,p,b,M){p.value=b,p.getSnapshot=M,WD(p)&&uo(f,1,-1)}function VD(f,p,b){return b(function(){WD(p)&&uo(f,1,-1)})}function WD(f){var p=f.getSnapshot;f=f.value;try{var b=p();return!Ra(f,b)}catch{return!0}}function OE(f){var p=bl();return typeof f=="function"&&(f=f()),p.memoizedState=p.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wh,lastRenderedState:f},p.queue=f,f=f.dispatch=pQ.bind(null,Kn,f),[p.memoizedState,f]}function jg(f,p,b,M){return f={tag:f,create:p,destroy:b,deps:M,next:null},p=Kn.updateQueue,p===null?(p={lastEffect:null,stores:null},Kn.updateQueue=p,p.lastEffect=f.next=f):(b=p.lastEffect,b===null?p.lastEffect=f.next=f:(M=b.next,b.next=f,f.next=M,p.lastEffect=f)),f}function XD(){return Da().memoizedState}function eA(f,p,b,M){var P=bl();Kn.flags|=f,P.memoizedState=jg(1|p,b,void 0,M===void 0?null:M)}function tA(f,p,b,M){var P=Da();M=M===void 0?null:M;var B=void 0;if(dr!==null){var Y=dr.memoizedState;if(B=Y.destroy,M!==null&&DE(M,Y.deps)){P.memoizedState=jg(p,b,B,M);return}}Kn.flags|=f,P.memoizedState=jg(1|p,b,B,M)}function kE(f,p){return eA(8390656,8,f,p)}function Hg(f,p){return tA(2048,8,f,p)}function KD(f,p){return tA(4,2,f,p)}function YD(f,p){return tA(4,4,f,p)}function JD(f,p){if(typeof p=="function")return f=f(),p(f),function(){p(null)};if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function qD(f,p,b){return b=b!=null?b.concat([f]):null,tA(4,4,JD.bind(null,p,f),b)}function NE(){}function ZD(f,p){var b=Da();p=p===void 0?null:p;var M=b.memoizedState;return M!==null&&p!==null&&DE(p,M[1])?M[0]:(b.memoizedState=[f,p],f)}function QD(f,p){var b=Da();p=p===void 0?null:p;var M=b.memoizedState;return M!==null&&p!==null&&DE(p,M[1])?M[0]:(f=f(),b.memoizedState=[f,p],f)}function dQ(f,p){var b=$t;$t=b!==0&&4>b?b:4,f(!0);var M=co.transition;co.transition={};try{f(!1),p()}finally{$t=b,co.transition=M}}function $D(){return Da().memoizedState}function fQ(f,p,b){var M=$c(f);b={lane:M,action:b,hasEagerState:!1,eagerState:null,next:null},eB(f)?tB(p,b):(nB(f,p,b),b=Ur(),f=uo(f,M,b),f!==null&&iB(f,p,M))}function pQ(f,p,b){var M=$c(f),P={lane:M,action:b,hasEagerState:!1,eagerState:null,next:null};if(eB(f))tB(p,P);else{nB(f,p,P);var B=f.alternate;if(f.lanes===0&&(B===null||B.lanes===0)&&(B=p.lastRenderedReducer,B!==null))try{var Y=p.lastRenderedState,se=B(Y,b);if(P.hasEagerState=!0,P.eagerState=se,Ra(se,Y))return}catch{}finally{}b=Ur(),f=uo(f,M,b),f!==null&&iB(f,p,M)}}function eB(f){var p=f.alternate;return f===Kn||p!==null&&p===Kn}function tB(f,p){Ug=Zx=!0;var b=f.pending;b===null?p.next=p:(p.next=b.next,b.next=p),f.pending=p}function nB(f,p,b){di!==null&&f.mode&1&&!(Ot&2)?(f=p.interleaved,f===null?(b.next=b,Ia===null?Ia=[p]:Ia.push(p)):(b.next=f.next,f.next=b),p.interleaved=b):(f=p.pending,f===null?b.next=b:(b.next=f.next,f.next=b),p.pending=b)}function iB(f,p,b){if(b&4194240){var M=p.lanes;M&=f.pendingLanes,b|=M,p.lanes=b,dE(f,b)}}var nA={readContext:so,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useInsertionEffect:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useSyncExternalStore:fr,useId:fr,unstable_isNewReconciler:!1},mQ={readContext:so,useCallback:function(f,p){return bl().memoizedState=[f,p===void 0?null:p],f},useContext:so,useEffect:kE,useImperativeHandle:function(f,p,b){return b=b!=null?b.concat([f]):null,eA(4194308,4,JD.bind(null,p,f),b)},useLayoutEffect:function(f,p){return eA(4194308,4,f,p)},useInsertionEffect:function(f,p){return eA(4,2,f,p)},useMemo:function(f,p){var b=bl();return p=p===void 0?null:p,f=f(),b.memoizedState=[f,p],f},useReducer:function(f,p,b){var M=bl();return p=b!==void 0?b(p):p,M.memoizedState=M.baseState=p,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:p},M.queue=f,f=f.dispatch=fQ.bind(null,Kn,f),[M.memoizedState,f]},useRef:function(f){var p=bl();return f={current:f},p.memoizedState=f},useState:OE,useDebugValue:NE,useDeferredValue:function(f){var p=OE(f),b=p[0],M=p[1];return kE(function(){var P=co.transition;co.transition={};try{M(f)}finally{co.transition=P}},[f]),b},useTransition:function(){var f=OE(!1),p=f[0];return f=dQ.bind(null,f[1]),bl().memoizedState=f,[p,f]},useMutableSource:function(){},useSyncExternalStore:function(f,p,b){var M=Kn,P=bl();if(Dn){if(b===void 0)throw Error(o(407));b=b()}else{if(b=p(),di===null)throw Error(o(349));np&30||HD(M,p,b)}P.memoizedState=b;var B={value:b,getSnapshot:p};return P.queue=B,kE(VD.bind(null,M,B,f),[f]),M.flags|=2048,jg(9,GD.bind(null,M,B,b,p),void 0,null),b},useId:function(){var f=bl(),p=di.identifierPrefix;if(Dn){var b=wl,M=Sl;b=(M&~(1<<32-Ss(M)-1)).toString(32)+b,p=":"+p+"R"+b,b=zg++,0<b&&(p+="H"+b.toString(32)),p+=":"}else b=hQ++,p=":"+p+"r"+b.toString(32)+":";return f.memoizedState=p},unstable_isNewReconciler:!1},gQ={readContext:so,useCallback:ZD,useContext:so,useEffect:Hg,useImperativeHandle:qD,useInsertionEffect:KD,useLayoutEffect:YD,useMemo:QD,useReducer:Qx,useRef:XD,useState:function(){return Qx(Wh)},useDebugValue:NE,useDeferredValue:function(f){var p=Qx(Wh),b=p[0],M=p[1];return Hg(function(){var P=co.transition;co.transition={};try{M(f)}finally{co.transition=P}},[f]),b},useTransition:function(){var f=Qx(Wh)[0],p=Da().memoizedState;return[f,p]},useMutableSource:zD,useSyncExternalStore:jD,useId:$D,unstable_isNewReconciler:!1},vQ={readContext:so,useCallback:ZD,useContext:so,useEffect:Hg,useImperativeHandle:qD,useInsertionEffect:KD,useLayoutEffect:YD,useMemo:QD,useReducer:$x,useRef:XD,useState:function(){return $x(Wh)},useDebugValue:NE,useDeferredValue:function(f){var p=$x(Wh),b=p[0],M=p[1];return Hg(function(){var P=co.transition;co.transition={};try{M(f)}finally{co.transition=P}},[f]),b},useTransition:function(){var f=$x(Wh)[0],p=Da().memoizedState;return[f,p]},useMutableSource:zD,useSyncExternalStore:jD,useId:$D,unstable_isNewReconciler:!1};function UE(f,p){try{var b="",M=p;do b+=uQ(M),M=M.return;while(M);var P=b}catch(B){P=`
Error generating stack: `+B.message+`
`+B.stack}return{value:f,source:p,stack:P}}function zE(f,p){try{console.error(p.value)}catch(b){setTimeout(function(){throw b})}}var yQ=typeof WeakMap=="function"?WeakMap:Map;function rB(f,p,b){b=Al(-1,b),b.tag=3,b.payload={element:null};var M=p.value;return b.callback=function(){yA||(yA=!0,r8=M),zE(f,p)},b}function sB(f,p,b){b=Al(-1,b),b.tag=3;var M=f.type.getDerivedStateFromError;if(typeof M=="function"){var P=p.value;b.payload=function(){return M(P)},b.callback=function(){zE(f,p)}}var B=f.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(b.callback=function(){zE(f,p),typeof M!="function"&&(Zc===null?Zc=new Set([this]):Zc.add(this));var Y=p.stack;this.componentDidCatch(p.value,{componentStack:Y!==null?Y:""})}),b}function oB(f,p,b){var M=f.pingCache;if(M===null){M=f.pingCache=new yQ;var P=new Set;M.set(p,P)}else P=M.get(p),P===void 0&&(P=new Set,M.set(p,P));P.has(b)||(P.add(b),f=LQ.bind(null,f,p,b),p.then(f,f))}function aB(f){do{var p;if((p=f.tag===13)&&(p=f.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return f;f=f.return}while(f!==null);return null}function lB(f,p,b,M,P){return f.mode&1?(f.flags|=65536,f.lanes=P,f):(f===p?f.flags|=65536:(f.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(p=Al(-1,1),p.tag=2,qc(b,p))),b.lanes|=1),f)}function Ba(f){f.flags|=4}function cB(f,p){if(f!==null&&f.child===p.child)return!0;if(p.flags&16)return!1;for(f=p.child;f!==null;){if(f.flags&12854||f.subtreeFlags&12854)return!1;f=f.sibling}return!0}var Gg,Vg,iA,rA;if(He)Gg=function(f,p){for(var b=p.child;b!==null;){if(b.tag===5||b.tag===6)le(f,b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},Vg=function(){},iA=function(f,p,b,M,P){if(f=f.memoizedProps,f!==M){var B=p.stateNode,Y=La(lo.current);b=re(B,b,f,M,P,Y),(p.updateQueue=b)&&Ba(p)}},rA=function(f,p,b,M){b!==M&&Ba(p)};else if(G){Gg=function(f,p,b,M){for(var P=p.child;P!==null;){if(P.tag===5){var B=P.stateNode;b&&M&&(B=Li(B,P.type,P.memoizedProps,P)),le(f,B)}else if(P.tag===6)B=P.stateNode,b&&M&&(B=Di(B,P.memoizedProps,P)),le(f,B);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)B=P.child,B!==null&&(B.return=P),Gg(f,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===p)break;for(;P.sibling===null;){if(P.return===null||P.return===p)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};var uB=function(f,p,b,M){for(var P=p.child;P!==null;){if(P.tag===5){var B=P.stateNode;b&&M&&(B=Li(B,P.type,P.memoizedProps,P)),Kt(f,B)}else if(P.tag===6)B=P.stateNode,b&&M&&(B=Di(B,P.memoizedProps,P)),Kt(f,B);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)B=P.child,B!==null&&(B.return=P),uB(f,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===p)break;for(;P.sibling===null;){if(P.return===null||P.return===p)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};Vg=function(f,p){var b=p.stateNode;if(!cB(f,p)){f=b.containerInfo;var M=Ct(f);uB(M,p,!1,!1),b.pendingChildren=M,Ba(p),Mn(f,M)}},iA=function(f,p,b,M,P){var B=f.stateNode,Y=f.memoizedProps;if((f=cB(f,p))&&Y===M)p.stateNode=B;else{var se=p.stateNode,_e=La(lo.current),Oe=null;Y!==M&&(Oe=re(se,b,Y,M,P,_e)),f&&Oe===null?p.stateNode=B:(B=gt(B,Oe,b,Y,M,p,f,se),ye(B,b,M,P,_e)&&Ba(p),p.stateNode=B,f?Ba(p):Gg(B,p,!1,!1))}},rA=function(f,p,b,M){b!==M?(f=La(ep.current),b=La(lo.current),p.stateNode=Me(M,f,b,p),Ba(p)):p.stateNode=f.stateNode}}else Vg=function(){},iA=function(){},rA=function(){};function Wg(f,p){if(!Dn)switch(f.tailMode){case"hidden":p=f.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?f.tail=null:b.sibling=null;break;case"collapsed":b=f.tail;for(var M=null;b!==null;)b.alternate!==null&&(M=b),b=b.sibling;M===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:M.sibling=null}}function pr(f){var p=f.alternate!==null&&f.alternate.child===f.child,b=0,M=0;if(p)for(var P=f.child;P!==null;)b|=P.lanes|P.childLanes,M|=P.subtreeFlags&14680064,M|=P.flags&14680064,P.return=f,P=P.sibling;else for(P=f.child;P!==null;)b|=P.lanes|P.childLanes,M|=P.subtreeFlags,M|=P.flags,P.return=f,P=P.sibling;return f.subtreeFlags|=M,f.childLanes=b,p}function _Q(f,p,b){var M=p.pendingProps;switch(CE(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pr(p),null;case 1:return Bi(p.type)&&En(),pr(p),null;case 3:return M=p.stateNode,tp(),ht(An),ht(St),LE(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(f===null||f.child===null)&&(Fg(p)?Ba(p):f===null||f.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,Go!==null&&(a8(Go),Go=null))),Vg(f,p),pr(p),null;case 5:PE(p),b=La(ep.current);var P=p.type;if(f!==null&&p.stateNode!=null)iA(f,p,P,M,b),f.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!M){if(p.stateNode===null)throw Error(o(166));return pr(p),null}if(f=La(lo.current),Fg(p)){if(!me)throw Error(o(175));f=aE(p.stateNode,p.type,p.memoizedProps,b,f,p,!Bg),p.updateQueue=f,f!==null&&Ba(p)}else{var B=ne(P,M,b,f,p);Gg(B,p,!1,!1),p.stateNode=B,ye(B,P,M,b,f)&&Ba(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return pr(p),null;case 6:if(f&&p.stateNode!=null)rA(f,p,f.memoizedProps,M);else{if(typeof M!="string"&&p.stateNode===null)throw Error(o(166));if(f=La(ep.current),b=La(lo.current),Fg(p)){if(!me)throw Error(o(176));if(f=p.stateNode,M=p.memoizedProps,(b=lE(f,M,p,!Bg))&&(P=ws,P!==null))switch(B=(P.mode&1)!==0,P.tag){case 3:$e(P.stateNode.containerInfo,f,M,B);break;case 5:st(P.type,P.memoizedProps,P.stateNode,f,M,B)}b&&Ba(p)}else p.stateNode=Me(M,f,b,p)}return pr(p),null;case 13:if(ht(kn),M=p.memoizedState,Dn&&bs!==null&&p.mode&1&&!(p.flags&128)){for(f=bs;f;)f=Yc(f);return Q0(),p.flags|=98560,p}if(M!==null&&M.dehydrated!==null){if(M=Fg(p),f===null){if(!M)throw Error(o(318));if(!me)throw Error(o(344));if(f=p.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));cE(f,p)}else Q0(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return pr(p),null}return Go!==null&&(a8(Go),Go=null),p.flags&128?(p.lanes=b,p):(M=M!==null,b=!1,f===null?Fg(p):b=f.memoizedState!==null,M&&!b&&(p.child.flags|=8192,p.mode&1&&(f===null||kn.current&1?xi===0&&(xi=3):c8())),p.updateQueue!==null&&(p.flags|=4),pr(p),null);case 4:return tp(),Vg(f,p),f===null&&Ie(p.stateNode.containerInfo),pr(p),null;case 10:return _E(p.type._context),pr(p),null;case 17:return Bi(p.type)&&En(),pr(p),null;case 19:if(ht(kn),P=p.memoizedState,P===null)return pr(p),null;if(M=(p.flags&128)!==0,B=P.rendering,B===null)if(M)Wg(P,!1);else{if(xi!==0||f!==null&&f.flags&128)for(f=p.child;f!==null;){if(B=Jx(f),B!==null){for(p.flags|=128,Wg(P,!1),f=B.updateQueue,f!==null&&(p.updateQueue=f,p.flags|=4),p.subtreeFlags=0,f=b,M=p.child;M!==null;)b=M,P=f,b.flags&=14680066,B=b.alternate,B===null?(b.childLanes=0,b.lanes=P,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=B.childLanes,b.lanes=B.lanes,b.child=B.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=B.memoizedProps,b.memoizedState=B.memoizedState,b.updateQueue=B.updateQueue,b.type=B.type,P=B.dependencies,b.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext}),M=M.sibling;return je(kn,kn.current&1|2),p.child}f=f.sibling}P.tail!==null&&Fi()>i8&&(p.flags|=128,M=!0,Wg(P,!1),p.lanes=4194304)}else{if(!M)if(f=Jx(B),f!==null){if(p.flags|=128,M=!0,f=f.updateQueue,f!==null&&(p.updateQueue=f,p.flags|=4),Wg(P,!0),P.tail===null&&P.tailMode==="hidden"&&!B.alternate&&!Dn)return pr(p),null}else 2*Fi()-P.renderingStartTime>i8&&b!==1073741824&&(p.flags|=128,M=!0,Wg(P,!1),p.lanes=4194304);P.isBackwards?(B.sibling=p.child,p.child=B):(f=P.last,f!==null?f.sibling=B:p.child=B,P.last=B)}return P.tail!==null?(p=P.tail,P.rendering=p,P.tail=p.sibling,P.renderingStartTime=Fi(),p.sibling=null,f=kn.current,je(kn,M?f&1|2:f&1),p):(pr(p),null);case 22:case 23:return l8(),M=p.memoizedState!==null,f!==null&&f.memoizedState!==null!==M&&(p.flags|=8192),M&&p.mode&1?Ms&1073741824&&(pr(p),He&&p.subtreeFlags&6&&(p.flags|=8192)):pr(p),null;case 24:return null;case 25:return null}throw Error(o(156,p.tag))}var xQ=a.ReactCurrentOwner,Cs=!1;function Nr(f,p,b,M){p.child=f===null?ND(p,null,b,M):$0(p,f.child,b,M)}function hB(f,p,b,M,P){b=b.render;var B=p.ref;return J0(p,P),M=BE(f,p,b,M,B,P),b=FE(),f!==null&&!Cs?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~P,Cl(f,p,P)):(Dn&&b&&bE(p),p.flags|=1,Nr(f,p,M,P),p.child)}function dB(f,p,b,M,P){if(f===null){var B=b.type;return typeof B=="function"&&!u8(B)&&B.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(p.tag=15,p.type=B,fB(f,p,B,M,P)):(f=CA(b.type,null,M,p,p.mode,P),f.ref=p.ref,f.return=p,p.child=f)}if(B=f.child,!(f.lanes&P)){var Y=B.memoizedProps;if(b=b.compare,b=b!==null?b:zx,b(Y,M)&&f.ref===p.ref)return Cl(f,p,P)}return p.flags|=1,f=tu(B,M),f.ref=p.ref,f.return=p,p.child=f}function fB(f,p,b,M,P){if(f!==null&&zx(f.memoizedProps,M)&&f.ref===p.ref)if(Cs=!1,(f.lanes&P)!==0)f.flags&131072&&(Cs=!0);else return p.lanes=f.lanes,Cl(f,p,P);return jE(f,p,b,M,P)}function pB(f,p,b){var M=p.pendingProps,P=M.children,B=f!==null?f.memoizedState:null;if(M.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},je(ip,Ms),Ms|=b;else if(b&1073741824)p.memoizedState={baseLanes:0,cachePool:null},M=B!==null?B.baseLanes:b,je(ip,Ms),Ms|=M;else return f=B!==null?B.baseLanes|b:b,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:f,cachePool:null},p.updateQueue=null,je(ip,Ms),Ms|=f,null;else B!==null?(M=B.baseLanes|b,p.memoizedState=null):M=b,je(ip,Ms),Ms|=M;return Nr(f,p,P,b),p.child}function mB(f,p){var b=p.ref;(f===null&&b!==null||f!==null&&f.ref!==b)&&(p.flags|=512,p.flags|=2097152)}function jE(f,p,b,M,P){var B=Bi(b)?$r:St.current;return B=hi(p,B),J0(p,P),b=BE(f,p,b,M,B,P),M=FE(),f!==null&&!Cs?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~P,Cl(f,p,P)):(Dn&&M&&bE(p),p.flags|=1,Nr(f,p,b,P),p.child)}function gB(f,p,b,M,P){if(Bi(b)){var B=!0;qi(p)}else B=!1;if(J0(p,P),p.stateNode===null)f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),PD(p,b,M),wE(p,b,M,P),M=!0;else if(f===null){var Y=p.stateNode,se=p.memoizedProps;Y.props=se;var _e=Y.context,Oe=b.contextType;typeof Oe=="object"&&Oe!==null?Oe=so(Oe):(Oe=Bi(b)?$r:St.current,Oe=hi(p,Oe));var nt=b.getDerivedStateFromProps,Et=typeof nt=="function"||typeof Y.getSnapshotBeforeUpdate=="function";Et||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(se!==M||_e!==Oe)&&ID(p,Y,M,Oe),Jc=!1;var vt=p.memoizedState;Y.state=vt,Vx(p,M,Y,P),_e=p.memoizedState,se!==M||vt!==_e||An.current||Jc?(typeof nt=="function"&&(SE(p,b,nt,M),_e=p.memoizedState),(se=Jc||RD(p,b,se,M,vt,_e,Oe))?(Et||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(p.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=M,p.memoizedState=_e),Y.props=M,Y.state=_e,Y.context=Oe,M=se):(typeof Y.componentDidMount=="function"&&(p.flags|=4194308),M=!1)}else{Y=p.stateNode,CD(f,p),se=p.memoizedProps,Oe=p.type===p.elementType?se:Ho(p.type,se),Y.props=Oe,Et=p.pendingProps,vt=Y.context,_e=b.contextType,typeof _e=="object"&&_e!==null?_e=so(_e):(_e=Bi(b)?$r:St.current,_e=hi(p,_e));var pn=b.getDerivedStateFromProps;(nt=typeof pn=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(se!==Et||vt!==_e)&&ID(p,Y,M,_e),Jc=!1,vt=p.memoizedState,Y.state=vt,Vx(p,M,Y,P);var ut=p.memoizedState;se!==Et||vt!==ut||An.current||Jc?(typeof pn=="function"&&(SE(p,b,pn,M),ut=p.memoizedState),(Oe=Jc||RD(p,b,Oe,M,vt,ut,_e)||!1)?(nt||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(M,ut,_e),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(M,ut,_e)),typeof Y.componentDidUpdate=="function"&&(p.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof Y.componentDidUpdate!="function"||se===f.memoizedProps&&vt===f.memoizedState||(p.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||se===f.memoizedProps&&vt===f.memoizedState||(p.flags|=1024),p.memoizedProps=M,p.memoizedState=ut),Y.props=M,Y.state=ut,Y.context=_e,M=Oe):(typeof Y.componentDidUpdate!="function"||se===f.memoizedProps&&vt===f.memoizedState||(p.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||se===f.memoizedProps&&vt===f.memoizedState||(p.flags|=1024),M=!1)}return HE(f,p,b,M,B,P)}function HE(f,p,b,M,P,B){mB(f,p);var Y=(p.flags&128)!==0;if(!M&&!Y)return P&&K0(p,b,!1),Cl(f,p,B);M=p.stateNode,xQ.current=p;var se=Y&&typeof b.getDerivedStateFromError!="function"?null:M.render();return p.flags|=1,f!==null&&Y?(p.child=$0(p,f.child,null,B),p.child=$0(p,null,se,B)):Nr(f,p,se,B),p.memoizedState=M.state,P&&K0(p,b,!0),p.child}function vB(f){var p=f.stateNode;p.pendingContext?jo(f,p.pendingContext,p.pendingContext!==p.context):p.context&&jo(f,p.context,!1),RE(f,p.containerInfo)}function yB(f,p,b,M,P){return Q0(),TE(P),p.flags|=256,Nr(f,p,b,M),p.child}var sA={dehydrated:null,treeContext:null,retryLane:0};function oA(f){return{baseLanes:f,cachePool:null}}function _B(f,p,b){var M=p.pendingProps,P=kn.current,B=!1,Y=(p.flags&128)!==0,se;if((se=Y)||(se=f!==null&&f.memoizedState===null?!1:(P&2)!==0),se?(B=!0,p.flags&=-129):(f===null||f.memoizedState!==null)&&(P|=1),je(kn,P&1),f===null)return EE(p),f=p.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(p.mode&1?G0(f)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(P=M.children,f=M.fallback,B?(M=p.mode,B=p.child,P={mode:"hidden",children:P},!(M&1)&&B!==null?(B.childLanes=0,B.pendingProps=P):B=MA(P,M,0,null),f=Zh(f,M,b,null),B.return=p,f.return=p,B.sibling=f,p.child=B,p.child.memoizedState=oA(b),p.memoizedState=sA,f):GE(p,P));if(P=f.memoizedState,P!==null){if(se=P.dehydrated,se!==null){if(Y)return p.flags&256?(p.flags&=-257,aA(f,p,b,Error(o(422)))):p.memoizedState!==null?(p.child=f.child,p.flags|=128,null):(B=M.fallback,P=p.mode,M=MA({mode:"visible",children:M.children},P,0,null),B=Zh(B,P,b,null),B.flags|=2,M.return=p,B.return=p,M.sibling=B,p.child=M,p.mode&1&&$0(p,f.child,null,b),p.child.memoizedState=oA(b),p.memoizedState=sA,B);if(!(p.mode&1))p=aA(f,p,b,null);else if(G0(se))p=aA(f,p,b,Error(o(419)));else if(M=(b&f.childLanes)!==0,Cs||M){if(M=di,M!==null){switch(b&-b){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}M=B&(M.suspendedLanes|b)?0:B,M!==0&&M!==P.retryLane&&(P.retryLane=M,uo(f,M,-1))}c8(),p=aA(f,p,b,Error(o(421)))}else Ig(se)?(p.flags|=128,p.child=f.child,p=DQ.bind(null,f),V0(se,p),p=null):(b=P.treeContext,me&&(bs=Dx(se),ws=p,Dn=!0,Go=null,Bg=!1,b!==null&&(oo[ao++]=Sl,oo[ao++]=wl,oo[ao++]=Gh,Sl=b.id,wl=b.overflow,Gh=p)),p=GE(p,p.pendingProps.children),p.flags|=4096);return p}return B?(M=AB(f,p,M.children,M.fallback,b),B=p.child,P=f.child.memoizedState,B.memoizedState=P===null?oA(b):{baseLanes:P.baseLanes|b,cachePool:null},B.childLanes=f.childLanes&~b,p.memoizedState=sA,M):(b=xB(f,p,M.children,b),p.memoizedState=null,b)}return B?(M=AB(f,p,M.children,M.fallback,b),B=p.child,P=f.child.memoizedState,B.memoizedState=P===null?oA(b):{baseLanes:P.baseLanes|b,cachePool:null},B.childLanes=f.childLanes&~b,p.memoizedState=sA,M):(b=xB(f,p,M.children,b),p.memoizedState=null,b)}function GE(f,p){return p=MA({mode:"visible",children:p},f.mode,0,null),p.return=f,f.child=p}function xB(f,p,b,M){var P=f.child;return f=P.sibling,b=tu(P,{mode:"visible",children:b}),!(p.mode&1)&&(b.lanes=M),b.return=p,b.sibling=null,f!==null&&(M=p.deletions,M===null?(p.deletions=[f],p.flags|=16):M.push(f)),p.child=b}function AB(f,p,b,M,P){var B=p.mode;f=f.child;var Y=f.sibling,se={mode:"hidden",children:b};return!(B&1)&&p.child!==f?(b=p.child,b.childLanes=0,b.pendingProps=se,p.deletions=null):(b=tu(f,se),b.subtreeFlags=f.subtreeFlags&14680064),Y!==null?M=tu(Y,M):(M=Zh(M,B,P,null),M.flags|=2),M.return=p,b.return=p,b.sibling=M,p.child=b,M}function aA(f,p,b,M){return M!==null&&TE(M),$0(p,f.child,null,b),f=GE(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function SB(f,p,b){f.lanes|=p;var M=f.alternate;M!==null&&(M.lanes|=p),xE(f.return,p,b)}function VE(f,p,b,M,P){var B=f.memoizedState;B===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:M,tail:b,tailMode:P}:(B.isBackwards=p,B.rendering=null,B.renderingStartTime=0,B.last=M,B.tail=b,B.tailMode=P)}function wB(f,p,b){var M=p.pendingProps,P=M.revealOrder,B=M.tail;if(Nr(f,p,M.children,b),M=kn.current,M&2)M=M&1|2,p.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&SB(f,b,p);else if(f.tag===19)SB(f,b,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}M&=1}if(je(kn,M),!(p.mode&1))p.memoizedState=null;else switch(P){case"forwards":for(b=p.child,P=null;b!==null;)f=b.alternate,f!==null&&Jx(f)===null&&(P=b),b=b.sibling;b=P,b===null?(P=p.child,p.child=null):(P=b.sibling,b.sibling=null),VE(p,!1,P,b,B);break;case"backwards":for(b=null,P=p.child,p.child=null;P!==null;){if(f=P.alternate,f!==null&&Jx(f)===null){p.child=P;break}f=P.sibling,P.sibling=b,b=P,P=f}VE(p,!0,b,null,B);break;case"together":VE(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Cl(f,p,b){if(f!==null&&(p.dependencies=f.dependencies),rp|=p.lanes,!(b&p.childLanes))return null;if(f!==null&&p.child!==f.child)throw Error(o(153));if(p.child!==null){for(f=p.child,b=tu(f,f.pendingProps),p.child=b,b.return=p;f.sibling!==null;)f=f.sibling,b=b.sibling=tu(f,f.pendingProps),b.return=p;b.sibling=null}return p.child}function AQ(f,p,b){switch(p.tag){case 3:vB(p),Q0();break;case 5:UD(p);break;case 1:Bi(p.type)&&qi(p);break;case 4:RE(p,p.stateNode.containerInfo);break;case 10:bD(p,p.type._context,p.memoizedProps.value);break;case 13:var M=p.memoizedState;if(M!==null)return M.dehydrated!==null?(je(kn,kn.current&1),p.flags|=128,null):b&p.child.childLanes?_B(f,p,b):(je(kn,kn.current&1),f=Cl(f,p,b),f!==null?f.sibling:null);je(kn,kn.current&1);break;case 19:if(M=(b&p.childLanes)!==0,f.flags&128){if(M)return wB(f,p,b);p.flags|=128}var P=p.memoizedState;if(P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),je(kn,kn.current),M)break;return null;case 22:case 23:return p.lanes=0,pB(f,p,b)}return Cl(f,p,b)}function SQ(f,p){switch(CE(p),p.tag){case 1:return Bi(p.type)&&En(),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return tp(),ht(An),ht(St),LE(),f=p.flags,f&65536&&!(f&128)?(p.flags=f&-65537|128,p):null;case 5:return PE(p),null;case 13:if(ht(kn),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(o(340));Q0()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return ht(kn),null;case 4:return tp(),null;case 10:return _E(p.type._context),null;case 22:case 23:return l8(),null;case 24:return null;default:return null}}var lA=!1,Xh=!1,wQ=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function cA(f,p){var b=f.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(M){ns(f,p,M)}else b.current=null}function WE(f,p,b){try{b()}catch(M){ns(f,p,M)}}var bB=!1;function bQ(f,p){for(q(f.containerInfo),Ye=p;Ye!==null;)if(f=Ye,p=f.child,(f.subtreeFlags&1028)!==0&&p!==null)p.return=f,Ye=p;else for(;Ye!==null;){f=Ye;try{var b=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var M=b.memoizedProps,P=b.memoizedState,B=f.stateNode,Y=B.getSnapshotBeforeUpdate(f.elementType===f.type?M:Ho(f.type,M),P);B.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:He&&ze(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(se){ns(f,f.return,se)}if(p=f.sibling,p!==null){p.return=f.return,Ye=p;break}Ye=f.return}return b=bB,bB=!1,b}function Kh(f,p,b){var M=p.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var P=M=M.next;do{if((P.tag&f)===f){var B=P.destroy;P.destroy=void 0,B!==void 0&&WE(p,b,B)}P=P.next}while(P!==M)}}function Xg(f,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var b=p=p.next;do{if((b.tag&f)===f){var M=b.create;b.destroy=M()}b=b.next}while(b!==p)}}function XE(f){var p=f.ref;if(p!==null){var b=f.stateNode;switch(f.tag){case 5:f=Q(b);break;default:f=b}typeof p=="function"?p(f):p.current=f}}function CB(f,p,b){if(Ta&&typeof Ta.onCommitFiberUnmount=="function")try{Ta.onCommitFiberUnmount(Nx,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(f=p.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var M=f=f.next;do{var P=M,B=P.destroy;P=P.tag,B!==void 0&&(P&2||P&4)&&WE(p,b,B),M=M.next}while(M!==f)}break;case 1:if(cA(p,b),f=p.stateNode,typeof f.componentWillUnmount=="function")try{f.props=p.memoizedProps,f.state=p.memoizedState,f.componentWillUnmount()}catch(Y){ns(p,b,Y)}break;case 5:cA(p,b);break;case 4:He?IB(f,p,b):G&&G&&(p=p.stateNode.containerInfo,b=Ct(p),Ft(p,b))}}function MB(f,p,b){for(var M=p;;)if(CB(f,M,b),M.child===null||He&&M.tag===4){if(M===p)break;for(;M.sibling===null;){if(M.return===null||M.return===p)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function EB(f){var p=f.alternate;p!==null&&(f.alternate=null,EB(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&Je(p)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function TB(f){return f.tag===5||f.tag===3||f.tag===4}function RB(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||TB(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function PB(f){if(He){e:{for(var p=f.return;p!==null;){if(TB(p))break e;p=p.return}throw Error(o(160))}var b=p;switch(b.tag){case 5:p=b.stateNode,b.flags&32&&(qe(p),b.flags&=-33),b=RB(f),YE(f,b,p);break;case 3:case 4:p=b.stateNode.containerInfo,b=RB(f),KE(f,b,p);break;default:throw Error(o(161))}}}function KE(f,p,b){var M=f.tag;if(M===5||M===6)f=f.stateNode,p?et(b,f,p):yt(b,f);else if(M!==4&&(f=f.child,f!==null))for(KE(f,p,b),f=f.sibling;f!==null;)KE(f,p,b),f=f.sibling}function YE(f,p,b){var M=f.tag;if(M===5||M===6)f=f.stateNode,p?_t(b,f,p):Xe(b,f);else if(M!==4&&(f=f.child,f!==null))for(YE(f,p,b),f=f.sibling;f!==null;)YE(f,p,b),f=f.sibling}function IB(f,p,b){for(var M=p,P=!1,B,Y;;){if(!P){P=M.return;e:for(;;){if(P===null)throw Error(o(160));switch(B=P.stateNode,P.tag){case 5:Y=!1;break e;case 3:B=B.containerInfo,Y=!0;break e;case 4:B=B.containerInfo,Y=!0;break e}P=P.return}P=!0}if(M.tag===5||M.tag===6)MB(f,M,b),Y?be(B,M.stateNode):ie(B,M.stateNode);else if(M.tag===18)Y?ce(B,M.stateNode):fe(B,M.stateNode);else if(M.tag===4){if(M.child!==null){B=M.stateNode.containerInfo,Y=!0,M.child.return=M,M=M.child;continue}}else if(CB(f,M,b),M.child!==null){M.child.return=M,M=M.child;continue}if(M===p)break;for(;M.sibling===null;){if(M.return===null||M.return===p)return;M=M.return,M.tag===4&&(P=!1)}M.sibling.return=M.return,M=M.sibling}}function JE(f,p){if(He){switch(p.tag){case 0:case 11:case 14:case 15:Kh(3,p,p.return),Xg(3,p),Kh(5,p,p.return);return;case 1:return;case 5:var b=p.stateNode;if(b!=null){var M=p.memoizedProps;f=f!==null?f.memoizedProps:M;var P=p.type,B=p.updateQueue;p.updateQueue=null,B!==null&&kt(b,B,P,f,M,p)}return;case 6:if(p.stateNode===null)throw Error(o(162));b=p.memoizedProps,De(p.stateNode,f!==null?f.memoizedProps:b,b);return;case 3:me&&f!==null&&f.memoizedState.isDehydrated&&oe(p.stateNode.containerInfo);return;case 12:return;case 13:uA(p);return;case 19:uA(p);return;case 17:return}throw Error(o(163))}switch(p.tag){case 0:case 11:case 14:case 15:Kh(3,p,p.return),Xg(3,p),Kh(5,p,p.return);return;case 12:return;case 13:uA(p);return;case 19:uA(p);return;case 3:me&&f!==null&&f.memoizedState.isDehydrated&&oe(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(G){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,Ft(p.containerInfo,p.pendingChildren);break e}throw Error(o(163))}}function uA(f){var p=f.updateQueue;if(p!==null){f.updateQueue=null;var b=f.stateNode;b===null&&(b=f.stateNode=new wQ),p.forEach(function(M){var P=BQ.bind(null,f,M);b.has(M)||(b.add(M),M.then(P,P))})}}function CQ(f,p){for(Ye=p;Ye!==null;){p=Ye;var b=p.deletions;if(b!==null)for(var M=0;M<b.length;M++){var P=b[M];try{var B=f;He?IB(B,P,p):MB(B,P,p);var Y=P.alternate;Y!==null&&(Y.return=null),P.return=null}catch(ct){ns(P,p,ct)}}if(b=p.child,p.subtreeFlags&12854&&b!==null)b.return=p,Ye=b;else for(;Ye!==null;){p=Ye;try{var se=p.flags;if(se&32&&He&&qe(p.stateNode),se&512){var _e=p.alternate;if(_e!==null){var Oe=_e.ref;Oe!==null&&(typeof Oe=="function"?Oe(null):Oe.current=null)}}if(se&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var nt=p.alternate;(nt===null||nt.memoizedState===null)&&(n8=Fi())}break;case 22:var Et=p.memoizedState!==null,vt=p.alternate,pn=vt!==null&&vt.memoizedState!==null;if(b=p,He){e:if(M=b,P=Et,B=null,He)for(var ut=M;;){if(ut.tag===5){if(B===null){B=ut;var mr=ut.stateNode;P?te(mr):we(ut.stateNode,ut.memoizedProps)}}else if(ut.tag===6){if(B===null){var fo=ut.stateNode;P?Pe(fo):Ce(fo,ut.memoizedProps)}}else if((ut.tag!==22&&ut.tag!==23||ut.memoizedState===null||ut===M)&&ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===M)break;for(;ut.sibling===null;){if(ut.return===null||ut.return===M)break e;B===ut&&(B=null),ut=ut.return}B===ut&&(B=null),ut.sibling.return=ut.return,ut=ut.sibling}}if(Et&&!pn&&b.mode&1){Ye=b;for(var he=b.child;he!==null;){for(b=Ye=he;Ye!==null;){M=Ye;var ae=M.child;switch(M.tag){case 0:case 11:case 14:case 15:Kh(4,M,M.return);break;case 1:cA(M,M.return);var ve=M.stateNode;if(typeof ve.componentWillUnmount=="function"){var Qe=M.return;try{ve.props=M.memoizedProps,ve.state=M.memoizedState,ve.componentWillUnmount()}catch(ct){ns(M,Qe,ct)}}break;case 5:cA(M,M.return);break;case 22:if(M.memoizedState!==null){BB(b);continue}}ae!==null?(ae.return=M,Ye=ae):BB(b)}he=he.sibling}}}switch(se&4102){case 2:PB(p),p.flags&=-3;break;case 6:PB(p),p.flags&=-3,JE(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,JE(p.alternate,p);break;case 4:JE(p.alternate,p)}}catch(ct){ns(p,p.return,ct)}if(b=p.sibling,b!==null){b.return=p.return,Ye=b;break}Ye=p.return}}}function MQ(f,p,b){Ye=f,LB(f)}function LB(f,p,b){for(var M=(f.mode&1)!==0;Ye!==null;){var P=Ye,B=P.child;if(P.tag===22&&M){var Y=P.memoizedState!==null||lA;if(!Y){var se=P.alternate,_e=se!==null&&se.memoizedState!==null||Xh;se=lA;var Oe=Xh;if(lA=Y,(Xh=_e)&&!Oe)for(Ye=P;Ye!==null;)Y=Ye,_e=Y.child,Y.tag===22&&Y.memoizedState!==null?FB(P):_e!==null?(_e.return=Y,Ye=_e):FB(P);for(;B!==null;)Ye=B,LB(B),B=B.sibling;Ye=P,lA=se,Xh=Oe}DB(f)}else P.subtreeFlags&8772&&B!==null?(B.return=P,Ye=B):DB(f)}}function DB(f){for(;Ye!==null;){var p=Ye;if(p.flags&8772){var b=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:Xh||Xg(5,p);break;case 1:var M=p.stateNode;if(p.flags&4&&!Xh)if(b===null)M.componentDidMount();else{var P=p.elementType===p.type?b.memoizedProps:Ho(p.type,b.memoizedProps);M.componentDidUpdate(P,b.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var B=p.updateQueue;B!==null&&ED(p,B,M);break;case 3:var Y=p.updateQueue;if(Y!==null){if(b=null,p.child!==null)switch(p.child.tag){case 5:b=Q(p.child.stateNode);break;case 1:b=p.child.stateNode}ED(p,Y,b)}break;case 5:var se=p.stateNode;b===null&&p.flags&4&&Ze(se,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(me&&p.memoizedState===null){var _e=p.alternate;if(_e!==null){var Oe=_e.memoizedState;if(Oe!==null){var nt=Oe.dehydrated;nt!==null&&de(nt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Xh||p.flags&512&&XE(p)}catch(Et){ns(p,p.return,Et)}}if(p===f){Ye=null;break}if(b=p.sibling,b!==null){b.return=p.return,Ye=b;break}Ye=p.return}}function BB(f){for(;Ye!==null;){var p=Ye;if(p===f){Ye=null;break}var b=p.sibling;if(b!==null){b.return=p.return,Ye=b;break}Ye=p.return}}function FB(f){for(;Ye!==null;){var p=Ye;try{switch(p.tag){case 0:case 11:case 15:var b=p.return;try{Xg(4,p)}catch(_e){ns(p,b,_e)}break;case 1:var M=p.stateNode;if(typeof M.componentDidMount=="function"){var P=p.return;try{M.componentDidMount()}catch(_e){ns(p,P,_e)}}var B=p.return;try{XE(p)}catch(_e){ns(p,B,_e)}break;case 5:var Y=p.return;try{XE(p)}catch(_e){ns(p,Y,_e)}}}catch(_e){ns(p,p.return,_e)}if(p===f){Ye=null;break}var se=p.sibling;if(se!==null){se.return=p.return,Ye=se;break}Ye=p.return}}var hA=0,dA=1,fA=2,pA=3,mA=4;if(typeof Symbol=="function"&&Symbol.for){var Kg=Symbol.for;hA=Kg("selector.component"),dA=Kg("selector.has_pseudo_class"),fA=Kg("selector.role"),pA=Kg("selector.test_id"),mA=Kg("selector.text")}function qE(f){var p=Ae(f);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(o(364));return p}if(f=N(f),f===null)throw Error(o(362));return f.stateNode.current}function ZE(f,p){switch(p.$$typeof){case hA:if(f.type===p.value)return!0;break;case dA:e:{p=p.value,f=[f,0];for(var b=0;b<f.length;){var M=f[b++],P=f[b++],B=p[P];if(M.tag!==5||!Ee(M)){for(;B!=null&&ZE(M,B);)P++,B=p[P];if(P===p.length){p=!0;break e}else for(M=M.child;M!==null;)f.push(M,P),M=M.sibling}}p=!1}return p;case fA:if(f.tag===5&&Re(f.stateNode,p.value))return!0;break;case mA:if((f.tag===5||f.tag===6)&&(f=Te(f),f!==null&&0<=f.indexOf(p.value)))return!0;break;case pA:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function QE(f){switch(f.$$typeof){case hA:return"<"+(R(f.value)||"Unknown")+">";case dA:return":has("+(QE(f)||"")+")";case fA:return'[role="'+f.value+'"]';case mA:return'"'+f.value+'"';case pA:return'[data-testname="'+f.value+'"]';default:throw Error(o(365))}}function OB(f,p){var b=[];f=[f,0];for(var M=0;M<f.length;){var P=f[M++],B=f[M++],Y=p[B];if(P.tag!==5||!Ee(P)){for(;Y!=null&&ZE(P,Y);)B++,Y=p[B];if(B===p.length)b.push(P);else for(P=P.child;P!==null;)f.push(P,B),P=P.sibling}}return b}function $E(f,p){if(!J)throw Error(o(363));f=qE(f),f=OB(f,p),p=[],f=Array.from(f);for(var b=0;b<f.length;){var M=f[b++];if(M.tag===5)Ee(M)||p.push(M.stateNode);else for(M=M.child;M!==null;)f.push(M),M=M.sibling}return p}var EQ=Math.ceil,gA=a.ReactCurrentDispatcher,e8=a.ReactCurrentOwner,ii=a.ReactCurrentBatchConfig,Ot=0,di=null,fi=null,Zi=0,Ms=0,ip=Xn(0),xi=0,Yg=null,rp=0,vA=0,t8=0,Jg=null,es=null,n8=0,i8=1/0;function sp(){i8=Fi()+500}var yA=!1,r8=null,Zc=null,_A=!1,Qc=null,xA=0,qg=0,s8=null,AA=-1,SA=0;function Ur(){return Ot&6?Fi():AA!==-1?AA:AA=Fi()}function $c(f){return f.mode&1?Ot&2&&Zi!==0?Zi&-Zi:cQ.transition!==null?(SA===0&&(f=Fx,Fx<<=1,!(Fx&4194240)&&(Fx=64),SA=f),SA):(f=$t,f!==0?f:ge()):1}function uo(f,p,b){if(50<qg)throw qg=0,s8=null,Error(o(185));var M=wA(f,p);return M===null?null:(Dg(M,p,b),(!(Ot&2)||M!==di)&&(M===di&&(!(Ot&2)&&(vA|=p),xi===4&&eu(M,Zi)),ts(M,b),p===1&&Ot===0&&!(f.mode&1)&&(sp(),Ux&&Pa())),M)}function wA(f,p){f.lanes|=p;var b=f.alternate;for(b!==null&&(b.lanes|=p),b=f,f=f.return;f!==null;)f.childLanes|=p,b=f.alternate,b!==null&&(b.childLanes|=p),b=f,f=f.return;return b.tag===3?b.stateNode:null}function ts(f,p){var b=f.callbackNode;eQ(f,p);var M=kx(f,f===di?Zi:0);if(M===0)b!==null&&SD(b),f.callbackNode=null,f.callbackPriority=0;else if(p=M&-M,f.callbackPriority!==p){if(b!=null&&SD(b),p===1)f.tag===0?lQ(NB.bind(null,f)):wD(NB.bind(null,f)),Ue?Ke(function(){Ot===0&&Pa()}):fE(pE,Pa),b=null;else{switch(AD(M)){case 1:b=pE;break;case 4:b=rQ;break;case 16:b=mE;break;case 536870912:b=sQ;break;default:b=mE}b=KB(b,kB.bind(null,f))}f.callbackPriority=p,f.callbackNode=b}}function kB(f,p){if(AA=-1,SA=0,Ot&6)throw Error(o(327));var b=f.callbackNode;if(qh()&&f.callbackNode!==b)return null;var M=kx(f,f===di?Zi:0);if(M===0)return null;if(M&30||M&f.expiredLanes||p)p=bA(f,M);else{p=M;var P=Ot;Ot|=2;var B=jB();(di!==f||Zi!==p)&&(sp(),Yh(f,p));do try{PQ();break}catch(se){zB(f,se)}while(!0);yE(),gA.current=B,Ot=P,fi!==null?p=0:(di=null,Zi=0,p=xi)}if(p!==0){if(p===2&&(P=uE(f),P!==0&&(M=P,p=o8(f,P))),p===1)throw b=Yg,Yh(f,0),eu(f,M),ts(f,Fi()),b;if(p===6)eu(f,M);else{if(P=f.current.alternate,!(M&30)&&!TQ(P)&&(p=bA(f,M),p===2&&(B=uE(f),B!==0&&(M=B,p=o8(f,B))),p===1))throw b=Yg,Yh(f,0),eu(f,M),ts(f,Fi()),b;switch(f.finishedWork=P,f.finishedLanes=M,p){case 0:case 1:throw Error(o(345));case 2:Jh(f,es);break;case 3:if(eu(f,M),(M&130023424)===M&&(p=n8+500-Fi(),10<p)){if(kx(f,0)!==0)break;if(P=f.suspendedLanes,(P&M)!==M){Ur(),f.pingedLanes|=f.suspendedLanes&P;break}f.timeoutHandle=xe(Jh.bind(null,f,es),p);break}Jh(f,es);break;case 4:if(eu(f,M),(M&4194240)===M)break;for(p=f.eventTimes,P=-1;0<M;){var Y=31-Ss(M);B=1<<Y,Y=p[Y],Y>P&&(P=Y),M&=~B}if(M=P,M=Fi()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*EQ(M/1960))-M,10<M){f.timeoutHandle=xe(Jh.bind(null,f,es),M);break}Jh(f,es);break;case 5:Jh(f,es);break;default:throw Error(o(329))}}}return ts(f,Fi()),f.callbackNode===b?kB.bind(null,f):null}function o8(f,p){var b=Jg;return f.current.memoizedState.isDehydrated&&(Yh(f,p).flags|=256),f=bA(f,p),f!==2&&(p=es,es=b,p!==null&&a8(p)),f}function a8(f){es===null?es=f:es.push.apply(es,f)}function TQ(f){for(var p=f;;){if(p.flags&16384){var b=p.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var M=0;M<b.length;M++){var P=b[M],B=P.getSnapshot;P=P.value;try{if(!Ra(B(),P))return!1}catch{return!1}}}if(b=p.child,p.subtreeFlags&16384&&b!==null)b.return=p,p=b;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function eu(f,p){for(p&=~t8,p&=~vA,f.suspendedLanes|=p,f.pingedLanes&=~p,f=f.expirationTimes;0<p;){var b=31-Ss(p),M=1<<b;f[b]=-1,p&=~M}}function NB(f){if(Ot&6)throw Error(o(327));qh();var p=kx(f,0);if(!(p&1))return ts(f,Fi()),null;var b=bA(f,p);if(f.tag!==0&&b===2){var M=uE(f);M!==0&&(p=M,b=o8(f,M))}if(b===1)throw b=Yg,Yh(f,0),eu(f,p),ts(f,Fi()),b;if(b===6)throw Error(o(345));return f.finishedWork=f.current.alternate,f.finishedLanes=p,Jh(f,es),ts(f,Fi()),null}function UB(f){Qc!==null&&Qc.tag===0&&!(Ot&6)&&qh();var p=Ot;Ot|=1;var b=ii.transition,M=$t;try{if(ii.transition=null,$t=1,f)return f()}finally{$t=M,ii.transition=b,Ot=p,!(Ot&6)&&Pa()}}function l8(){Ms=ip.current,ht(ip)}function Yh(f,p){f.finishedWork=null,f.finishedLanes=0;var b=f.timeoutHandle;if(b!==rt&&(f.timeoutHandle=rt,We(b)),fi!==null)for(b=fi.return;b!==null;){var M=b;switch(CE(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&En();break;case 3:tp(),ht(An),ht(St),LE();break;case 5:PE(M);break;case 4:tp();break;case 13:ht(kn);break;case 19:ht(kn);break;case 10:_E(M.type._context);break;case 22:case 23:l8()}b=b.return}if(di=f,fi=f=tu(f.current,null),Zi=Ms=p,xi=0,Yg=null,t8=vA=rp=0,es=Jg=null,Ia!==null){for(p=0;p<Ia.length;p++)if(b=Ia[p],M=b.interleaved,M!==null){b.interleaved=null;var P=M.next,B=b.pending;if(B!==null){var Y=B.next;B.next=P,M.next=Y}b.pending=M}Ia=null}return f}function zB(f,p){do{var b=fi;try{if(yE(),qx.current=nA,Zx){for(var M=Kn.memoizedState;M!==null;){var P=M.queue;P!==null&&(P.pending=null),M=M.next}Zx=!1}if(np=0,Oi=dr=Kn=null,Ug=!1,zg=0,e8.current=null,b===null||b.return===null){xi=1,Yg=p,fi=null;break}e:{var B=f,Y=b.return,se=b,_e=p;if(p=Zi,se.flags|=32768,_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var Oe=_e,nt=se,Et=nt.tag;if(!(nt.mode&1)&&(Et===0||Et===11||Et===15)){var vt=nt.alternate;vt?(nt.updateQueue=vt.updateQueue,nt.memoizedState=vt.memoizedState,nt.lanes=vt.lanes):(nt.updateQueue=null,nt.memoizedState=null)}var pn=aB(Y);if(pn!==null){pn.flags&=-257,lB(pn,Y,se,B,p),pn.mode&1&&oB(B,Oe,p),p=pn,_e=Oe;var ut=p.updateQueue;if(ut===null){var mr=new Set;mr.add(_e),p.updateQueue=mr}else ut.add(_e);break e}else{if(!(p&1)){oB(B,Oe,p),c8();break e}_e=Error(o(426))}}else if(Dn&&se.mode&1){var fo=aB(Y);if(fo!==null){!(fo.flags&65536)&&(fo.flags|=256),lB(fo,Y,se,B,p),TE(_e);break e}}B=_e,xi!==4&&(xi=2),Jg===null?Jg=[B]:Jg.push(B),_e=UE(_e,se),se=Y;do{switch(se.tag){case 3:se.flags|=65536,p&=-p,se.lanes|=p;var he=rB(se,_e,p);MD(se,he);break e;case 1:B=_e;var ae=se.type,ve=se.stateNode;if(!(se.flags&128)&&(typeof ae.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&(Zc===null||!Zc.has(ve)))){se.flags|=65536,p&=-p,se.lanes|=p;var Qe=sB(se,B,p);MD(se,Qe);break e}}se=se.return}while(se!==null)}GB(b)}catch(ct){p=ct,fi===b&&b!==null&&(fi=b=b.return);continue}break}while(!0)}function jB(){var f=gA.current;return gA.current=nA,f===null?nA:f}function c8(){(xi===0||xi===3||xi===2)&&(xi=4),di===null||!(rp&268435455)&&!(vA&268435455)||eu(di,Zi)}function bA(f,p){var b=Ot;Ot|=2;var M=jB();di===f&&Zi===p||Yh(f,p);do try{RQ();break}catch(P){zB(f,P)}while(!0);if(yE(),Ot=b,gA.current=M,fi!==null)throw Error(o(261));return di=null,Zi=0,xi}function RQ(){for(;fi!==null;)HB(fi)}function PQ(){for(;fi!==null&&!nQ();)HB(fi)}function HB(f){var p=XB(f.alternate,f,Ms);f.memoizedProps=f.pendingProps,p===null?GB(f):fi=p,e8.current=null}function GB(f){var p=f;do{var b=p.alternate;if(f=p.return,p.flags&32768){if(b=SQ(b,p),b!==null){b.flags&=32767,fi=b;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{xi=6,fi=null;return}}else if(b=_Q(b,p,Ms),b!==null){fi=b;return}if(p=p.sibling,p!==null){fi=p;return}fi=p=f}while(p!==null);xi===0&&(xi=5)}function Jh(f,p){var b=$t,M=ii.transition;try{ii.transition=null,$t=1,IQ(f,p,b)}finally{ii.transition=M,$t=b}return null}function IQ(f,p,b){do qh();while(Qc!==null);if(Ot&6)throw Error(o(327));var M=f.finishedWork,P=f.finishedLanes;if(M===null)return null;if(f.finishedWork=null,f.finishedLanes=0,M===f.current)throw Error(o(177));f.callbackNode=null,f.callbackPriority=0;var B=M.lanes|M.childLanes;if(tQ(f,B),f===di&&(fi=di=null,Zi=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||_A||(_A=!0,KB(mE,function(){return qh(),null})),B=(M.flags&15990)!==0,M.subtreeFlags&15990||B){B=ii.transition,ii.transition=null;var Y=$t;$t=1;var se=Ot;Ot|=4,e8.current=null,bQ(f,M),CQ(f,M),K(f.containerInfo),f.current=M,MQ(M),iQ(),Ot=se,$t=Y,ii.transition=B}else f.current=M;if(_A&&(_A=!1,Qc=f,xA=P),B=f.pendingLanes,B===0&&(Zc=null),oQ(M.stateNode),ts(f,Fi()),p!==null)for(b=f.onRecoverableError,M=0;M<p.length;M++)b(p[M]);if(yA)throw yA=!1,f=r8,r8=null,f;return xA&1&&f.tag!==0&&qh(),B=f.pendingLanes,B&1?f===s8?qg++:(qg=0,s8=f):qg=0,Pa(),null}function qh(){if(Qc!==null){var f=AD(xA),p=ii.transition,b=$t;try{if(ii.transition=null,$t=16>f?16:f,Qc===null)var M=!1;else{if(f=Qc,Qc=null,xA=0,Ot&6)throw Error(o(331));var P=Ot;for(Ot|=4,Ye=f.current;Ye!==null;){var B=Ye,Y=B.child;if(Ye.flags&16){var se=B.deletions;if(se!==null){for(var _e=0;_e<se.length;_e++){var Oe=se[_e];for(Ye=Oe;Ye!==null;){var nt=Ye;switch(nt.tag){case 0:case 11:case 15:Kh(8,nt,B)}var Et=nt.child;if(Et!==null)Et.return=nt,Ye=Et;else for(;Ye!==null;){nt=Ye;var vt=nt.sibling,pn=nt.return;if(EB(nt),nt===Oe){Ye=null;break}if(vt!==null){vt.return=pn,Ye=vt;break}Ye=pn}}}var ut=B.alternate;if(ut!==null){var mr=ut.child;if(mr!==null){ut.child=null;do{var fo=mr.sibling;mr.sibling=null,mr=fo}while(mr!==null)}}Ye=B}}if(B.subtreeFlags&2064&&Y!==null)Y.return=B,Ye=Y;else e:for(;Ye!==null;){if(B=Ye,B.flags&2048)switch(B.tag){case 0:case 11:case 15:Kh(9,B,B.return)}var he=B.sibling;if(he!==null){he.return=B.return,Ye=he;break e}Ye=B.return}}var ae=f.current;for(Ye=ae;Ye!==null;){Y=Ye;var ve=Y.child;if(Y.subtreeFlags&2064&&ve!==null)ve.return=Y,Ye=ve;else e:for(Y=ae;Ye!==null;){if(se=Ye,se.flags&2048)try{switch(se.tag){case 0:case 11:case 15:Xg(9,se)}}catch(ct){ns(se,se.return,ct)}if(se===Y){Ye=null;break e}var Qe=se.sibling;if(Qe!==null){Qe.return=se.return,Ye=Qe;break e}Ye=se.return}}if(Ot=P,Pa(),Ta&&typeof Ta.onPostCommitFiberRoot=="function")try{Ta.onPostCommitFiberRoot(Nx,f)}catch{}M=!0}return M}finally{$t=b,ii.transition=p}}return!1}function VB(f,p,b){p=UE(b,p),p=rB(f,p,1),qc(f,p),p=Ur(),f=wA(f,1),f!==null&&(Dg(f,1,p),ts(f,p))}function ns(f,p,b){if(f.tag===3)VB(f,f,b);else for(;p!==null;){if(p.tag===3){VB(p,f,b);break}else if(p.tag===1){var M=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Zc===null||!Zc.has(M))){f=UE(b,f),f=sB(p,f,1),qc(p,f),f=Ur(),p=wA(p,1),p!==null&&(Dg(p,1,f),ts(p,f));break}}p=p.return}}function LQ(f,p,b){var M=f.pingCache;M!==null&&M.delete(p),p=Ur(),f.pingedLanes|=f.suspendedLanes&b,di===f&&(Zi&b)===b&&(xi===4||xi===3&&(Zi&130023424)===Zi&&500>Fi()-n8?Yh(f,0):t8|=b),ts(f,p)}function WB(f,p){p===0&&(f.mode&1?(p=Ox,Ox<<=1,!(Ox&130023424)&&(Ox=4194304)):p=1);var b=Ur();f=wA(f,p),f!==null&&(Dg(f,p,b),ts(f,b))}function DQ(f){var p=f.memoizedState,b=0;p!==null&&(b=p.retryLane),WB(f,b)}function BQ(f,p){var b=0;switch(f.tag){case 13:var M=f.stateNode,P=f.memoizedState;P!==null&&(b=P.retryLane);break;case 19:M=f.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(p),WB(f,b)}var XB;XB=function(f,p,b){if(f!==null)if(f.memoizedProps!==p.pendingProps||An.current)Cs=!0;else{if(!(f.lanes&b)&&!(p.flags&128))return Cs=!1,AQ(f,p,b);Cs=!!(f.flags&131072)}else Cs=!1,Dn&&p.flags&1048576&&LD(p,Kx,p.index);switch(p.lanes=0,p.tag){case 2:var M=p.type;f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),f=p.pendingProps;var P=hi(p,St.current);J0(p,b),P=BE(null,p,M,f,P,b);var B=FE();return p.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Bi(M)?(B=!0,qi(p)):B=!1,p.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,AE(p),P.updater=Wx,p.stateNode=P,P._reactInternals=p,wE(p,M,f,b),p=HE(null,p,M,!0,B,b)):(p.tag=0,Dn&&B&&bE(p),Nr(null,p,P,b),p=p.child),p;case 16:M=p.elementType;e:{switch(f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),f=p.pendingProps,P=M._init,M=P(M._payload),p.type=M,P=p.tag=OQ(M),f=Ho(M,f),P){case 0:p=jE(null,p,M,f,b);break e;case 1:p=gB(null,p,M,f,b);break e;case 11:p=hB(null,p,M,f,b);break e;case 14:p=dB(null,p,M,Ho(M.type,f),b);break e}throw Error(o(306,M,""))}return p;case 0:return M=p.type,P=p.pendingProps,P=p.elementType===M?P:Ho(M,P),jE(f,p,M,P,b);case 1:return M=p.type,P=p.pendingProps,P=p.elementType===M?P:Ho(M,P),gB(f,p,M,P,b);case 3:e:{if(vB(p),f===null)throw Error(o(387));M=p.pendingProps,B=p.memoizedState,P=B.element,CD(f,p),Vx(p,M,null,b);var Y=p.memoizedState;if(M=Y.element,me&&B.isDehydrated)if(B={element:M,isDehydrated:!1,cache:Y.cache,transitions:Y.transitions},p.updateQueue.baseState=B,p.memoizedState=B,p.flags&256){P=Error(o(423)),p=yB(f,p,M,b,P);break e}else if(M!==P){P=Error(o(424)),p=yB(f,p,M,b,P);break e}else for(me&&(bs=Lx(p.stateNode.containerInfo),ws=p,Dn=!0,Go=null,Bg=!1),b=ND(p,null,M,b),p.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Q0(),M===P){p=Cl(f,p,b);break e}Nr(f,p,M,b)}p=p.child}return p;case 5:return UD(p),f===null&&EE(p),M=p.type,P=p.pendingProps,B=f!==null?f.memoizedProps:null,Y=P.children,pe(M,P)?Y=null:B!==null&&pe(M,B)&&(p.flags|=32),mB(f,p),Nr(f,p,Y,b),p.child;case 6:return f===null&&EE(p),null;case 13:return _B(f,p,b);case 4:return RE(p,p.stateNode.containerInfo),M=p.pendingProps,f===null?p.child=$0(p,null,M,b):Nr(f,p,M,b),p.child;case 11:return M=p.type,P=p.pendingProps,P=p.elementType===M?P:Ho(M,P),hB(f,p,M,P,b);case 7:return Nr(f,p,p.pendingProps,b),p.child;case 8:return Nr(f,p,p.pendingProps.children,b),p.child;case 12:return Nr(f,p,p.pendingProps.children,b),p.child;case 10:e:{if(M=p.type._context,P=p.pendingProps,B=p.memoizedProps,Y=P.value,bD(p,M,Y),B!==null)if(Ra(B.value,Y)){if(B.children===P.children&&!An.current){p=Cl(f,p,b);break e}}else for(B=p.child,B!==null&&(B.return=p);B!==null;){var se=B.dependencies;if(se!==null){Y=B.child;for(var _e=se.firstContext;_e!==null;){if(_e.context===M){if(B.tag===1){_e=Al(-1,b&-b),_e.tag=2;var Oe=B.updateQueue;if(Oe!==null){Oe=Oe.shared;var nt=Oe.pending;nt===null?_e.next=_e:(_e.next=nt.next,nt.next=_e),Oe.pending=_e}}B.lanes|=b,_e=B.alternate,_e!==null&&(_e.lanes|=b),xE(B.return,b,p),se.lanes|=b;break}_e=_e.next}}else if(B.tag===10)Y=B.type===p.type?null:B.child;else if(B.tag===18){if(Y=B.return,Y===null)throw Error(o(341));Y.lanes|=b,se=Y.alternate,se!==null&&(se.lanes|=b),xE(Y,b,p),Y=B.sibling}else Y=B.child;if(Y!==null)Y.return=B;else for(Y=B;Y!==null;){if(Y===p){Y=null;break}if(B=Y.sibling,B!==null){B.return=Y.return,Y=B;break}Y=Y.return}B=Y}Nr(f,p,P.children,b),p=p.child}return p;case 9:return P=p.type,M=p.pendingProps.children,J0(p,b),P=so(P),M=M(P),p.flags|=1,Nr(f,p,M,b),p.child;case 14:return M=p.type,P=Ho(M,p.pendingProps),P=Ho(M.type,P),dB(f,p,M,P,b);case 15:return fB(f,p,p.type,p.pendingProps,b);case 17:return M=p.type,P=p.pendingProps,P=p.elementType===M?P:Ho(M,P),f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,Bi(M)?(f=!0,qi(p)):f=!1,J0(p,b),PD(p,M,P),wE(p,M,P,b),HE(null,p,M,!0,f,b);case 19:return wB(f,p,b);case 22:return pB(f,p,b)}throw Error(o(156,p.tag))};function KB(f,p){return fE(f,p)}function FQ(f,p,b,M){this.tag=f,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ho(f,p,b,M){return new FQ(f,p,b,M)}function u8(f){return f=f.prototype,!(!f||!f.isReactComponent)}function OQ(f){if(typeof f=="function")return u8(f)?1:0;if(f!=null){if(f=f.$$typeof,f===y)return 11;if(f===A)return 14}return 2}function tu(f,p){var b=f.alternate;return b===null?(b=ho(f.tag,p,f.key,f.mode),b.elementType=f.elementType,b.type=f.type,b.stateNode=f.stateNode,b.alternate=f,f.alternate=b):(b.pendingProps=p,b.type=f.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=f.flags&14680064,b.childLanes=f.childLanes,b.lanes=f.lanes,b.child=f.child,b.memoizedProps=f.memoizedProps,b.memoizedState=f.memoizedState,b.updateQueue=f.updateQueue,p=f.dependencies,b.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},b.sibling=f.sibling,b.index=f.index,b.ref=f.ref,b}function CA(f,p,b,M,P,B){var Y=2;if(M=f,typeof f=="function")u8(f)&&(Y=1);else if(typeof f=="string")Y=5;else e:switch(f){case u:return Zh(b.children,P,B,p);case h:Y=8,P|=8;break;case d:return f=ho(12,b,p,P|2),f.elementType=d,f.lanes=B,f;case _:return f=ho(13,b,p,P),f.elementType=_,f.lanes=B,f;case v:return f=ho(19,b,p,P),f.elementType=v,f.lanes=B,f;case C:return MA(b,P,B,p);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case m:Y=10;break e;case g:Y=9;break e;case y:Y=11;break e;case A:Y=14;break e;case S:Y=16,M=null;break e}throw Error(o(130,f==null?f:typeof f,""))}return p=ho(Y,b,p,P),p.elementType=f,p.type=M,p.lanes=B,p}function Zh(f,p,b,M){return f=ho(7,f,M,p),f.lanes=b,f}function MA(f,p,b,M){return f=ho(22,f,M,p),f.elementType=C,f.lanes=b,f.stateNode={},f}function h8(f,p,b){return f=ho(6,f,null,p),f.lanes=b,f}function d8(f,p,b){return p=ho(4,f.children!==null?f.children:[],f.key,p),p.lanes=b,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}function kQ(f,p,b,M,P){this.tag=p,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=rt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hE(0),this.expirationTimes=hE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hE(0),this.identifierPrefix=M,this.onRecoverableError=P,me&&(this.mutableSourceEagerHydrationData=null)}function YB(f,p,b,M,P,B,Y,se,_e){return f=new kQ(f,p,b,se,_e),p===1?(p=1,B===!0&&(p|=8)):p=0,B=ho(3,null,null,p),f.current=B,B.stateNode=f,B.memoizedState={element:M,isDehydrated:b,cache:null,transitions:null},AE(B),f}function JB(f){if(!f)return xn;f=f._reactInternals;e:{if(I(f)!==f||f.tag!==1)throw Error(o(170));var p=f;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Bi(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(o(171))}if(f.tag===1){var b=f.type;if(Bi(b))return X0(f,b,p)}return p}function qB(f){var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(o(188)):(f=Object.keys(f).join(","),Error(o(268,f)));return f=W(p),f===null?null:f.stateNode}function ZB(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var b=f.retryLane;f.retryLane=b!==0&&b<p?b:p}}function f8(f,p){ZB(f,p),(f=f.alternate)&&ZB(f,p)}function NQ(f){return f=W(f),f===null?null:f.stateNode}function UQ(){return null}return t.attemptContinuousHydration=function(f){if(f.tag===13){var p=Ur();uo(f,134217728,p),f8(f,134217728)}},t.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var p=Ur(),b=$c(f);uo(f,b,p),f8(f,b)}},t.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var p=f.stateNode;if(p.current.memoizedState.isDehydrated){var b=Lg(p.pendingLanes);b!==0&&(dE(p,b|1),ts(p,Fi()),!(Ot&6)&&(sp(),Pa()))}break;case 13:var M=Ur();UB(function(){return uo(f,1,M)}),f8(f,1)}},t.batchedUpdates=function(f,p){var b=Ot;Ot|=1;try{return f(p)}finally{Ot=b,Ot===0&&(sp(),Ux&&Pa())}},t.createComponentSelector=function(f){return{$$typeof:hA,value:f}},t.createContainer=function(f,p,b,M,P,B,Y){return YB(f,p,!1,null,b,M,P,B,Y)},t.createHasPseudoClassSelector=function(f){return{$$typeof:dA,value:f}},t.createHydrationContainer=function(f,p,b,M,P,B,Y,se,_e){return f=YB(b,M,!0,f,P,B,Y,se,_e),f.context=JB(null),b=f.current,M=Ur(),P=$c(b),B=Al(M,P),B.callback=p??null,qc(b,B),f.current.lanes=P,Dg(f,P,M),ts(f,M),f},t.createPortal=function(f,p,b){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:M==null?null:""+M,children:f,containerInfo:p,implementation:b}},t.createRoleSelector=function(f){return{$$typeof:fA,value:f}},t.createTestNameSelector=function(f){return{$$typeof:pA,value:f}},t.createTextSelector=function(f){return{$$typeof:mA,value:f}},t.deferredUpdates=function(f){var p=$t,b=ii.transition;try{return ii.transition=null,$t=16,f()}finally{$t=p,ii.transition=b}},t.discreteUpdates=function(f,p,b,M,P){var B=$t,Y=ii.transition;try{return ii.transition=null,$t=1,f(p,b,M,P)}finally{$t=B,ii.transition=Y,Ot===0&&sp()}},t.findAllNodes=$E,t.findBoundingRects=function(f,p){if(!J)throw Error(o(363));p=$E(f,p),f=[];for(var b=0;b<p.length;b++)f.push(ue(p[b]));for(p=f.length-1;0<p;p--){b=f[p];for(var M=b.x,P=M+b.width,B=b.y,Y=B+b.height,se=p-1;0<=se;se--)if(p!==se){var _e=f[se],Oe=_e.x,nt=Oe+_e.width,Et=_e.y,vt=Et+_e.height;if(M>=Oe&&B>=Et&&P<=nt&&Y<=vt){f.splice(p,1);break}else if(M!==Oe||b.width!==_e.width||vt<B||Et>Y){if(!(B!==Et||b.height!==_e.height||nt<M||Oe>P)){Oe>M&&(_e.width+=Oe-M,_e.x=M),nt<P&&(_e.width=P-Oe),f.splice(p,1);break}}else{Et>B&&(_e.height+=Et-B,_e.y=B),vt<Y&&(_e.height=Y-Et),f.splice(p,1);break}}}return f},t.findHostInstance=qB,t.findHostInstanceWithNoPortals=function(f){return f=O(f),f=f!==null?Z(f):null,f===null?null:f.stateNode},t.findHostInstanceWithWarning=function(f){return qB(f)},t.flushControlled=function(f){var p=Ot;Ot|=1;var b=ii.transition,M=$t;try{ii.transition=null,$t=1,f()}finally{$t=M,ii.transition=b,Ot=p,Ot===0&&(sp(),Pa())}},t.flushPassiveEffects=qh,t.flushSync=UB,t.focusWithin=function(f,p){if(!J)throw Error(o(363));for(f=qE(f),p=OB(f,p),p=Array.from(p),f=0;f<p.length;){var b=p[f++];if(!Ee(b)){if(b.tag===5&&ot(b.stateNode))return!0;for(b=b.child;b!==null;)p.push(b),b=b.sibling}}return!1},t.getCurrentUpdatePriority=function(){return $t},t.getFindAllNodesFailureDescription=function(f,p){if(!J)throw Error(o(363));var b=0,M=[];f=[qE(f),0];for(var P=0;P<f.length;){var B=f[P++],Y=f[P++],se=p[Y];if((B.tag!==5||!Ee(B))&&(ZE(B,se)&&(M.push(QE(se)),Y++,Y>b&&(b=Y)),Y<p.length))for(B=B.child;B!==null;)f.push(B,Y),B=B.sibling}if(b<p.length){for(f=[];b<p.length;b++)f.push(QE(p[b]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},t.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return Q(f.child.stateNode);default:return f.child.stateNode}},t.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:NQ,findFiberByHostInstance:f.findFiberByHostInstance||UQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)f=!0;else{try{Nx=p.inject(f),Ta=p}catch{}f=!!p.checkDCE}}return f},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(f,p,b,M){if(!J)throw Error(o(363));f=$E(f,p);var P=Le(f,b,M).disconnect;return{disconnect:function(){P()}}},t.registerMutableSourceForHydration=function(f,p){var b=p._getVersion;b=b(p._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[p,b]:f.mutableSourceEagerHydrationData.push(p,b)},t.runWithPriority=function(f,p){var b=$t;try{return $t=f,p()}finally{$t=b}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(f,p,b,M){var P=p.current,B=Ur(),Y=$c(P);return b=JB(b),p.context===null?p.context=b:p.pendingContext=b,p=Al(B,Y),p.payload={element:f},M=M===void 0?null:M,M!==null&&(p.callback=M),qc(P,p),f=uo(P,Y,B),f!==null&&Gx(f,P,Y),Y},t};LW.exports=yue;var _ue=LW.exports;const xue=R0(_ue);var DW={exports:{}},BW={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function e(k,q){var K=k.length;k.push(q);e:for(;0<K;){var ne=K-1>>>1,le=k[ne];if(0<r(le,q))k[ne]=q,k[K]=le,K=ne;else break e}}function t(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var q=k[0],K=k.pop();if(K!==q){k[0]=K;e:for(var ne=0,le=k.length,ye=le>>>1;ne<ye;){var re=2*(ne+1)-1,pe=k[re],Me=re+1,xe=k[Me];if(0>r(pe,K))Me<le&&0>r(xe,pe)?(k[ne]=xe,k[Me]=K,ne=Me):(k[ne]=pe,k[re]=K,ne=re);else if(Me<le&&0>r(xe,K))k[ne]=xe,k[Me]=K,ne=Me;else break e}}return q}function r(k,q){var K=k.sortIndex-q.sortIndex;return K!==0?K:k.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();i.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,m=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(k){for(var q=t(c);q!==null;){if(q.callback===null)n(c);else if(q.startTime<=k)n(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=t(c)}}function C(k){if(y=!1,S(k),!g)if(t(l)!==null)g=!0,Q(T);else{var q=t(c);q!==null&&ee(C,q.startTime-k)}}function T(k,q){g=!1,y&&(y=!1,v(D),D=-1),m=!0;var K=d;try{for(S(q),h=t(l);h!==null&&(!(h.expirationTime>q)||k&&!O());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,d=h.priorityLevel;var le=ne(h.expirationTime<=q);q=i.unstable_now(),typeof le=="function"?h.callback=le:h===t(l)&&n(l),S(q)}else n(l);h=t(l)}if(h!==null)var ye=!0;else{var re=t(c);re!==null&&ee(C,re.startTime-q),ye=!1}return ye}finally{h=null,d=K,m=!1}}var E=!1,R=null,D=-1,I=5,L=-1;function O(){return!(i.unstable_now()-L<I)}function W(){if(R!==null){var k=i.unstable_now();L=k;var q=!0;try{q=R(!0,k)}finally{q?X():(E=!1,R=null)}}else E=!1}var X;if(typeof A=="function")X=function(){A(W)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,$=Z.port2;Z.port1.onmessage=W,X=function(){$.postMessage(null)}}else X=function(){_(W,0)};function Q(k){R=k,E||(E=!0,X())}function ee(k,q){D=_(function(){k(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(k){k.callback=null},i.unstable_continueExecution=function(){g||m||(g=!0,Q(T))},i.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<k?Math.floor(1e3/k):5},i.unstable_getCurrentPriorityLevel=function(){return d},i.unstable_getFirstCallbackNode=function(){return t(l)},i.unstable_next=function(k){switch(d){case 1:case 2:case 3:var q=3;break;default:q=d}var K=d;d=q;try{return k()}finally{d=K}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(k,q){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var K=d;d=k;try{return q()}finally{d=K}},i.unstable_scheduleCallback=function(k,q,K){var ne=i.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,k){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=K+le,k={id:u++,callback:q,priorityLevel:k,startTime:K,expirationTime:le,sortIndex:-1},K>ne?(k.sortIndex=K,e(c,k),t(l)===null&&k===t(c)&&(y?(v(D),D=-1):y=!0,ee(C,K-ne))):(k.sortIndex=le,e(l,k),g||m||(g=!0,Q(T))),k},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(k){var q=d;return function(){var K=d;d=q;try{return k.apply(this,arguments)}finally{d=K}}}})(BW);DW.exports=BW;var qk=DW.exports;const Aue=i=>typeof i=="object"&&typeof i.then=="function",zd=[];function FW(i,e,t=(n,r)=>n===r){if(i===e)return!0;if(!i||!e)return!1;const n=i.length;if(e.length!==n)return!1;for(let r=0;r<n;r++)if(!t(i[r],e[r]))return!1;return!0}function OW(i,e=null,t=!1,n={}){e===null&&(e=[i]);for(const s of zd)if(FW(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return n.lifespan&&n.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,n.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:n.equal,remove:()=>{const s=zd.indexOf(r);s!==-1&&zd.splice(s,1)},promise:(Aue(i)?i:i(...e)).then(s=>{r.response=s,n.lifespan&&n.lifespan>0&&(r.timeout=setTimeout(r.remove,n.lifespan))}).catch(s=>r.error=s)};if(zd.push(r),!t)throw r.promise}const kW=(i,e,t)=>OW(i,e,!1,t),Sue=(i,e,t)=>void OW(i,e,!0,t),wue=i=>{if(i===void 0||i.length===0)zd.splice(0,zd.length);else{const e=zd.find(t=>FW(i,t.keys,t.equal));e&&e.remove()}},NI={},bue=i=>void Object.assign(NI,i);function Cue(i,e){function t(u,{args:h=[],attach:d,...m},g){let y=`${u[0].toUpperCase()}${u.slice(1)}`,_;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=m.object;_=Lp(v,{type:u,root:g,attach:d,primitive:!0})}else{const v=NI[y];if(!v)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");_=Lp(new v(...h),{type:u,root:g,attach:d,memoizedProps:{args:h}})}return _.__r3f.attach===void 0&&(_ instanceof Pt?_.__r3f.attach="geometry":_ instanceof _i&&(_.__r3f.attach="material")),y!=="inject"&&L6(_,m),_}function n(u,h){let d=!1;if(h){var m,g;(m=h.__r3f)!=null&&m.attach?I6(u,h,h.__r3f.attach):h.isObject3D&&u.isObject3D&&(u.add(h),d=!0),d||(g=u.__r3f)==null||g.objects.push(h),h.__r3f||Lp(h,{}),h.__r3f.parent=u,O9(h),Dp(h)}}function r(u,h,d){let m=!1;if(h){var g,y;if((g=h.__r3f)!=null&&g.attach)I6(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){h.parent=u,h.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:h});const _=u.children.filter(A=>A!==h),v=_.indexOf(d);u.children=[..._.slice(0,v),h,..._.slice(v)],m=!0}m||(y=u.__r3f)==null||y.objects.push(h),h.__r3f||Lp(h,{}),h.__r3f.parent=u,O9(h),Dp(h)}}function s(u,h,d=!1){u&&[...u].forEach(m=>o(h,m,d))}function o(u,h,d){if(h){var m,g,y;if(h.__r3f&&(h.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(C=>C!==h)),(g=h.__r3f)!=null&&g.attach)tN(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){var _;u.remove(h),(_=h.__r3f)!=null&&_.root&&Bue(v5(h),h)}const A=(y=h.__r3f)==null?void 0:y.primitive,S=!A&&(d===void 0?h.dispose!==null:d);if(!A){var v;s((v=h.__r3f)==null?void 0:v.objects,h,S),s(h.children,h,S)}if(delete h.__r3f,S&&h.dispose&&h.type!=="Scene"){const C=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?qk.unstable_scheduleCallback(qk.unstable_IdlePriority,C):C()}Dp(u)}}function a(u,h,d,m){var g;const y=(g=u.__r3f)==null?void 0:g.parent;if(!y)return;const _=t(h,d,u.__r3f.root);if(u.children){for(const v of u.children)v.__r3f&&n(_,v);u.children=u.children.filter(v=>!v.__r3f)}u.__r3f.objects.forEach(v=>n(_,v)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(y,u),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),n(y,_),_.raycast&&_.__r3f.eventCount&&v5(_).getState().internal.interaction.push(_),[m,m.alternate].forEach(v=>{v!==null&&(v.stateNode=_,v.ref&&(typeof v.ref=="function"?v.ref(_):v.ref.current=_))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:xue({createInstance:t,removeChild:o,appendChild:n,appendInitialChild:n,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,h)=>{if(!h)return;const d=u.getState().scene;d.__r3f&&(d.__r3f.root=u,n(d,h))},removeChildFromContainer:(u,h)=>{h&&o(u.getState().scene,h)},insertInContainerBefore:(u,h,d)=>{if(!h||!d)return;const m=u.getState().scene;m.__r3f&&r(m,h,d)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var h;return!!((h=u==null?void 0:u.__r3f)!=null?h:{}).handlers},prepareUpdate(u,h,d,m){var g;if(((g=u==null?void 0:u.__r3f)!=null?g:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:_=[],children:v,...A}=m,{args:S=[],children:C,...T}=d;if(!Array.isArray(_))throw new Error("R3F: the args prop must be an array!");if(_.some((R,D)=>R!==S[D]))return[!0];const E=VW(u,A,T,!0);return E.changes.length?[!1,E]:null}},commitUpdate(u,[h,d],m,g,y,_){h?a(u,m,y,_):L6(u,d)},commitMount(u,h,d,m){var g;const y=(g=u.__r3f)!=null?g:{};u.raycast&&y.handlers&&y.eventCount&&v5(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Lp(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var h;const{attach:d,parent:m}=(h=u.__r3f)!=null?h:{};d&&m&&tN(m,u,d),u.isObject3D&&(u.visible=!1),Dp(u)},unhideInstance(u,h){var d;const{attach:m,parent:g}=(d=u.__r3f)!=null?d:{};m&&g&&I6(g,u,m),(u.isObject3D&&h.visible==null||h.visible)&&(u.visible=!0),Dp(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():nm.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&wn.fun(performance.now)?performance.now:wn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:wn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:wn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:L6}}var Zk,Qk;const P6=i=>"colorSpace"in i||"outputColorSpace"in i,NW=()=>{var i;return(i=NI.ColorManagement)!=null?i:null},UW=i=>i&&i.isOrthographicCamera,Mue=i=>i&&i.hasOwnProperty("current"),px=typeof window<"u"&&((Zk=window.document)!=null&&Zk.createElement||((Qk=window.navigator)==null?void 0:Qk.product)==="ReactNative")?U.useLayoutEffect:U.useEffect;function zW(i){const e=U.useRef(i);return px(()=>void(e.current=i),[i]),e}function Eue({set:i}){return px(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}class jW extends U.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}jW.getDerivedStateFromError=()=>({error:!0});const HW="__default",$k=new Map,Tue=i=>i&&!!i.memoized&&!!i.changes;function GW(i){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],t),i[1]):i}const _1=i=>{var e;return(e=i.__r3f)==null?void 0:e.root.getState()};function v5(i){let e=i.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const wn={obj:i=>i===Object(i)&&!wn.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,arr:i=>Array.isArray(i),equ(i,e,{arrays:t="shallow",objects:n="reference",strict:r=!0}={}){if(typeof i!=typeof e||!!i!=!!e)return!1;if(wn.str(i)||wn.num(i)||wn.boo(i))return i===e;const s=wn.obj(i);if(s&&n==="reference")return i===e;const o=wn.arr(i);if(o&&t==="reference")return i===e;if((o||s)&&i===e)return!0;let a;for(a in i)if(!(a in e))return!1;if(s&&t==="shallow"&&n==="shallow"){for(a in r?e:i)if(!wn.equ(i[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:i)if(i[a]!==e[a])return!1;if(wn.und(a)){if(o&&i.length===0&&e.length===0||s&&Object.keys(i).length===0&&Object.keys(e).length===0)return!0;if(i!==e)return!1}return!0}};function Rue(i){const e={nodes:{},materials:{}};return i&&i.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function Pue(i){i.dispose&&i.type!=="Scene"&&i.dispose();for(const e in i)e.dispose==null||e.dispose(),delete i[e]}function Lp(i,e){const t=i;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},i}function F9(i,e){let t=i;if(e.includes("-")){const n=e.split("-"),r=n.pop();return t=n.reduce((s,o)=>s[o],i),{target:t,key:r}}else return{target:t,key:e}}const eN=/-\d+$/;function I6(i,e,t){if(wn.str(t)){if(eN.test(t)){const s=t.replace(eN,""),{target:o,key:a}=F9(i,s);Array.isArray(o[a])||(o[a]=[])}const{target:n,key:r}=F9(i,t);e.__r3f.previousAttach=n[r],n[r]=e}else e.__r3f.previousAttach=t(i,e)}function tN(i,e,t){var n,r;if(wn.str(t)){const{target:s,key:o}=F9(i,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(n=e.__r3f)==null||n.previousAttach==null||n.previousAttach(i,e);(r=e.__r3f)==null||delete r.previousAttach}function VW(i,{children:e,key:t,ref:n,...r},{children:s,key:o,ref:a,...l}={},c=!1){const u=i.__r3f,h=Object.entries(r),d=[];if(c){const g=Object.keys(l);for(let y=0;y<g.length;y++)r.hasOwnProperty(g[y])||h.unshift([g[y],HW+"remove"])}h.forEach(([g,y])=>{var _;if((_=i.__r3f)!=null&&_.primitive&&g==="object"||wn.equ(y,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return d.push([g,y,!0,[]]);let v=[];g.includes("-")&&(v=g.split("-")),d.push([g,y,!1,v]);for(const A in r){const S=r[A];A.startsWith(`${g}-`)&&d.push([A,S,!1,A.split("-")])}});const m={...r};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(m.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(m.attach=u.memoizedProps.attach),{memoized:m,changes:d}}const Iue=typeof process<"u"&&!1;function L6(i,e){var t;const n=i.__r3f,r=n==null?void 0:n.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=Tue(e)?e:VW(i,e),l=n==null?void 0:n.eventCount;i.__r3f&&(i.__r3f.memoizedProps=o);for(let u=0;u<a.length;u++){let[h,d,m,g]=a[u];if(P6(i)){const A="srgb",S="srgb-linear";h==="encoding"?(h="colorSpace",d=d===3001?A:S):h==="outputEncoding"&&(h="outputColorSpace",d=d===3001?A:S)}let y=i,_=y[h];if(g.length&&(_=g.reduce((v,A)=>v[A],i),!(_&&_.set))){const[v,...A]=g.reverse();y=A.reverse().reduce((S,C)=>S[C],i),h=v}if(d===HW+"remove")if(y.constructor){let v=$k.get(y.constructor);v||(v=new y.constructor,$k.set(y.constructor,v)),d=v[h]}else d=0;if(m&&n)d?n.handlers[h]=d:delete n.handlers[h],n.eventCount=Object.keys(n.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof i0)){if(Array.isArray(d))_.fromArray?_.fromArray(d):_.set(...d);else if(_.copy&&d&&d.constructor&&(Iue?_.constructor.name===d.constructor.name:_.constructor===d.constructor))_.copy(d);else if(d!==void 0){const v=_ instanceof Ge;!v&&_.setScalar?_.setScalar(d):_ instanceof i0&&d instanceof i0?_.mask=d.mask:_.set(d),!NW()&&s&&!s.linear&&v&&_.convertSRGBToLinear()}}else if(y[h]=d,y[h]instanceof Ln&&y[h].format===Rr&&y[h].type===Aa&&s){const v=y[h];P6(v)&&P6(s.gl)?v.colorSpace=s.gl.outputColorSpace:v.encoding=s.gl.outputEncoding}Dp(i)}if(n&&n.parent&&i.raycast&&l!==n.eventCount){const u=v5(i).getState().internal,h=u.interaction.indexOf(i);h>-1&&u.interaction.splice(h,1),n.eventCount&&u.interaction.push(i)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=i.__r3f)!=null&&t.parent&&O9(i),i}function Dp(i){var e,t;const n=(e=i.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();n&&n.internal.frames===0&&n.invalidate()}function O9(i){i.onUpdate==null||i.onUpdate(i)}function Lue(i,e){i.manual||(UW(i)?(i.left=e.width/-2,i.right=e.width/2,i.top=e.height/2,i.bottom=e.height/-2):i.aspect=e.width/e.height,i.updateProjectionMatrix(),i.updateMatrixWorld())}function OS(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function Due(){var i;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return nm.DefaultEventPriority;switch((i=e.event)==null?void 0:i.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return nm.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return nm.ContinuousEventPriority;default:return nm.DefaultEventPriority}}function WW(i,e,t,n){const r=t.get(e);r&&(t.delete(e),t.size===0&&(i.delete(n),r.target.releasePointerCapture(n)))}function Bue(i,e){const{internal:t}=i.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,r)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((n,r)=>{WW(t.capturedMap,e,n,r)})}function Fue(i){function e(l){const{internal:c}=i.getState(),u=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+h*h))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+u]}))}function n(l,c){const u=i.getState(),h=new Set,d=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let v=0;v<m.length;v++){const A=_1(m[v]);A&&(A.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function g(v){const A=_1(v);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var S;A.events.compute==null||A.events.compute(l,A,(S=A.previousRoot)==null?void 0:S.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(v,!0):[]}let y=m.flatMap(g).sort((v,A)=>{const S=_1(v.object),C=_1(A.object);return!S||!C?v.distance-A.distance:C.events.priority-S.events.priority||v.distance-A.distance}).filter(v=>{const A=OS(v);return h.has(A)?!1:(h.add(A),!0)});u.events.filter&&(y=u.events.filter(y,u));for(const v of y){let A=v.object;for(;A;){var _;(_=A.__r3f)!=null&&_.eventCount&&d.push({...v,eventObject:A}),A=A.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let v of u.internal.capturedMap.get(l.pointerId).values())h.has(OS(v.intersection))||d.push(v.intersection);return d}function r(l,c,u,h){const d=i.getState();if(l.length){const m={stopped:!1};for(const g of l){const y=_1(g.object)||d,{raycaster:_,pointer:v,camera:A,internal:S}=y,C=new V(v.x,v.y,0).unproject(A),T=L=>{var O,W;return(O=(W=S.capturedMap.get(L))==null?void 0:W.has(g.eventObject))!=null?O:!1},E=L=>{const O={intersection:g,target:c.target};S.capturedMap.has(L)?S.capturedMap.get(L).set(g.eventObject,O):S.capturedMap.set(L,new Map([[g.eventObject,O]])),c.target.setPointerCapture(L)},R=L=>{const O=S.capturedMap.get(L);O&&WW(S.capturedMap,g.eventObject,O,L)};let D={};for(let L in c){let O=c[L];typeof O!="function"&&(D[L]=O)}let I={...g,...D,pointer:v,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:C,ray:_.ray,camera:A,stopPropagation(){const L="pointerId"in c&&S.capturedMap.get(c.pointerId);if((!L||L.has(g.eventObject))&&(I.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(O=>O.eventObject===g.eventObject))){const O=l.slice(0,l.indexOf(g));s([...O,g])}},target:{hasPointerCapture:T,setPointerCapture:E,releasePointerCapture:R},currentTarget:{hasPointerCapture:T,setPointerCapture:E,releasePointerCapture:R},nativeEvent:c};if(h(I),m.stopped===!0)break}}return l}function s(l){const{internal:c}=i.getState();for(const u of c.hovered.values())if(!l.length||!l.find(h=>h.object===u.object&&h.index===u.index&&h.instanceId===u.instanceId)){const d=u.eventObject.__r3f,m=d==null?void 0:d.handlers;if(c.hovered.delete(OS(u)),d!=null&&d.eventCount){const g={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,c){for(let u=0;u<c.length;u++){const h=c[u].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=i.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:h,internal:d}=i.getState();d.lastEvent.current=u;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=n(u,m?t:void 0),v=g?e(u):0;l==="onPointerDown"&&(d.initialClick=[u.offsetX,u.offsetY],d.initialHits=_.map(S=>S.eventObject)),g&&!_.length&&v<=2&&(o(u,d.interaction),h&&h(u)),m&&s(_);function A(S){const C=S.eventObject,T=C.__r3f,E=T==null?void 0:T.handlers;if(T!=null&&T.eventCount)if(m){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const R=OS(S),D=d.hovered.get(R);D?D.stopped&&S.stopPropagation():(d.hovered.set(R,S),E.onPointerOver==null||E.onPointerOver(S),E.onPointerEnter==null||E.onPointerEnter(S))}E.onPointerMove==null||E.onPointerMove(S)}else{const R=E[l];R?(!g||d.initialHits.includes(C))&&(o(u,d.interaction.filter(D=>!d.initialHits.includes(D))),R(S)):g&&d.initialHits.includes(C)&&o(u,d.interaction.filter(D=>!d.initialHits.includes(D)))}}r(_,u,v,A)}}return{handlePointer:a}}const XW=i=>!!(i!=null&&i.render),KW=U.createContext(null),Oue=(i,e)=>{const t=IW((a,l)=>{const c=new V,u=new V,h=new V;function d(v=l().camera,A=u,S=l().size){const{width:C,height:T,top:E,left:R}=S,D=C/T;A instanceof V?h.copy(A):h.set(...A);const I=v.getWorldPosition(c).distanceTo(h);if(UW(v))return{width:C/v.zoom,height:T/v.zoom,top:E,left:R,factor:1,distance:I,aspect:D};{const L=v.fov*Math.PI/180,O=2*Math.tan(L/2)*I,W=O*(C/T);return{width:W,height:O,top:E,left:R,factor:C/W,distance:I,aspect:D}}}let m;const g=v=>a(A=>({performance:{...A.performance,current:v}})),y=new Se;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>i(l(),v),advance:(v,A)=>e(v,A,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new DI,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=l();m&&clearTimeout(m),v.performance.current!==v.performance.min&&g(v.performance.min),m=setTimeout(()=>g(l().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:v=>a(A=>({...A,events:{...A.events,...v}})),setSize:(v,A,S,C,T)=>{const E=l().camera,R={width:v,height:A,top:C||0,left:T||0,updateStyle:S};a(D=>({size:R,viewport:{...D.viewport,...d(E,u,R)}}))},setDpr:v=>a(A=>{const S=GW(v);return{viewport:{...A.viewport,dpr:S,initialDpr:A.viewport.initialDpr||S}}}),setFrameloop:(v="always")=>{const A=l().clock;A.stop(),A.elapsedTime=0,v!=="never"&&(A.start(),A.elapsedTime=0),a(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:U.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,A,S)=>{const C=l().internal;return C.priority=C.priority+(A>0?1:0),C.subscribers.push({ref:v,priority:A,store:S}),C.subscribers=C.subscribers.sort((T,E)=>T.priority-E.priority),()=>{const T=l().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(A>0?1:0),T.subscribers=T.subscribers.filter(E=>E.ref!==v))}}}}}),n=t.getState();let r=n.size,s=n.viewport.dpr,o=n.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:h}=t.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==s){var d;r=l,s=c.dpr,Lue(a,l),u.setPixelRatio(c.dpr);const m=(d=l.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>i(a)),t};function kue(i,e){const t={callback:i};return e.add(t),()=>void e.delete(t)}let kS,YW=new Set,Nue=new Set,Uue=new Set;const zue=i=>kue(i,YW);function D6(i,e){if(i.size)for(const{callback:t}of i.values())t(e)}function x1(i,e){switch(i){case"before":return D6(YW,e);case"after":return D6(Nue,e);case"tail":return D6(Uue,e)}}let B6,F6;function O6(i,e,t){let n=e.clock.getDelta();for(e.frameloop==="never"&&typeof i=="number"&&(n=i-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=i),B6=e.internal.subscribers,kS=0;kS<B6.length;kS++)F6=B6[kS],F6.ref.current(F6.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function jue(i){let e=!1,t=!1,n,r,s;function o(c){r=requestAnimationFrame(o),e=!0,n=0,x1("before",c),t=!0;for(const h of i.values()){var u;s=h.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((u=s.gl.xr)!=null&&u.isPresenting)&&(n+=O6(c,s))}if(t=!1,x1("after",c),n===0)return x1("tail",c),e=!1,cancelAnimationFrame(r)}function a(c,u=1){var h;if(!c)return i.forEach(d=>a(d.store.getState(),u));(h=c.gl.xr)!=null&&h.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,u=!0,h,d){if(u&&x1("before",c),h)O6(c,h,d);else for(const m of i.values())O6(c,m.store.getState());u&&x1("after",c)}return{loop:o,invalidate:a,advance:l}}function JW(){const i=U.useContext(KW);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function Qo(i=t=>t,e){return JW()(i,e)}function mx(i,e=0){const t=JW(),n=t.getState().internal.subscribe,r=zW(i);return px(()=>n(r,e,t),[e,n,t]),null}const nN=new WeakMap;function qW(i,e){return function(t,...n){let r=nN.get(t);return r||(r=new t,nN.set(t,r)),i&&i(r),Promise.all(n.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,Rue(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function gx(i,e,t,n){const r=Array.isArray(e)?e:[e],s=kW(qW(t,n),[i,...r],{equal:wn.equ});return Array.isArray(e)?s:s[0]}gx.preload=function(i,e,t){const n=Array.isArray(e)?e:[e];return Sue(qW(t),[i,...n])};gx.clear=function(i,e){const t=Array.isArray(e)?e:[e];return wue([i,...t])};const cg=new Map,{invalidate:iN,advance:rN}=jue(cg),{reconciler:rb,applyProps:Sd}=Cue(cg,Due),Tp={objects:"shallow",strict:!1},Hue=(i,e)=>{const t=typeof i=="function"?i(e):i;return XW(t)?t:new UV({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...i})};function Gue(i,e){const t=typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement;if(e){const{width:n,height:r,top:s,left:o,updateStyle:a=t}=e;return{width:n,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:n,height:r,top:s,left:o}=i.parentElement.getBoundingClientRect();return{width:n,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function Vue(i){const e=cg.get(i),t=e==null?void 0:e.fiber,n=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=n||Oue(iN,rN),o=t||rb.createContainer(s,nm.ConcurrentRoot,null,!1,null,"",r,null);e||cg.set(i,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:h,size:d,scene:m,events:g,onCreated:y,shadows:_=!1,linear:v=!1,flat:A=!1,legacy:S=!1,orthographic:C=!1,frameloop:T="always",dpr:E=[1,2],performance:R,raycaster:D,camera:I,onPointerMissed:L}=u,O=s.getState(),W=O.gl;O.gl||O.set({gl:W=Hue(h,i)});let X=O.raycaster;X||O.set({raycaster:X=new EW});const{params:Z,...$}=D||{};if(wn.equ($,X,Tp)||Sd(X,{...$}),wn.equ(Z,X.params,Tp)||Sd(X,{params:{...X.params,...Z}}),!O.camera||O.camera===c&&!wn.equ(c,I,Tp)){c=I;const K=I instanceof sx,ne=K?I:C?new Do(0,0,0,0,.1,1e3):new Pn(75,0,.1,1e3);K||(ne.position.z=5,I&&(Sd(ne,I),("aspect"in I||"left"in I||"right"in I||"bottom"in I||"top"in I)&&(ne.manual=!0,ne.updateProjectionMatrix())),!O.camera&&!(I!=null&&I.rotation)&&ne.lookAt(0,0,0)),O.set({camera:ne}),X.camera=ne}if(!O.scene){let K;m instanceof eb?K=m:(K=new eb,m&&Sd(K,m)),O.set({scene:Lp(K)})}if(!O.xr){var Q;const K=(ye,re)=>{const pe=s.getState();pe.frameloop!=="never"&&rN(ye,!0,pe,re)},ne=()=>{const ye=s.getState();ye.gl.xr.enabled=ye.gl.xr.isPresenting,ye.gl.xr.setAnimationLoop(ye.gl.xr.isPresenting?K:null),ye.gl.xr.isPresenting||iN(ye)},le={connect(){const ye=s.getState().gl;ye.xr.addEventListener("sessionstart",ne),ye.xr.addEventListener("sessionend",ne)},disconnect(){const ye=s.getState().gl;ye.xr.removeEventListener("sessionstart",ne),ye.xr.removeEventListener("sessionend",ne)}};typeof((Q=W.xr)==null?void 0:Q.addEventListener)=="function"&&le.connect(),O.set({xr:le})}if(W.shadowMap){const K=W.shadowMap.enabled,ne=W.shadowMap.type;if(W.shadowMap.enabled=!!_,wn.boo(_))W.shadowMap.type=hv;else if(wn.str(_)){var ee;const le={basic:EG,percentage:UC,soft:hv,variance:Zo};W.shadowMap.type=(ee=le[_])!=null?ee:hv}else wn.obj(_)&&Object.assign(W.shadowMap,_);(K!==W.shadowMap.enabled||ne!==W.shadowMap.type)&&(W.shadowMap.needsUpdate=!0)}const k=NW();k&&("enabled"in k?k.enabled=!S:"legacyMode"in k&&(k.legacyMode=S)),l||Sd(W,{outputEncoding:v?3e3:3001,toneMapping:A?ul:X7}),O.legacy!==S&&O.set(()=>({legacy:S})),O.linear!==v&&O.set(()=>({linear:v})),O.flat!==A&&O.set(()=>({flat:A})),h&&!wn.fun(h)&&!XW(h)&&!wn.equ(h,W,Tp)&&Sd(W,h),g&&!O.events.handlers&&O.set({events:g(s)});const q=Gue(i,d);return wn.equ(q,O.size,Tp)||O.setSize(q.width,q.height,q.updateStyle,q.top,q.left),E&&O.viewport.dpr!==GW(E)&&O.setDpr(E),O.frameloop!==T&&O.setFrameloop(T),O.onPointerMissed||O.set({onPointerMissed:L}),R&&!wn.equ(R,O.performance,Tp)&&O.set(K=>({performance:{...K.performance,...R}})),a=y,l=!0,this},render(u){return l||this.configure(),rb.updateContainer(w.jsx(Wue,{store:s,children:u,onCreated:a,rootElement:i}),o,null,()=>{}),s},unmount(){ZW(i)}}}function Wue({store:i,children:e,onCreated:t,rootElement:n}){return px(()=>{const r=i.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),i.getState().events.connected||r.events.connect==null||r.events.connect(n)},[]),w.jsx(KW.Provider,{value:i,children:e})}function ZW(i,e){const t=cg.get(i),n=t==null?void 0:t.fiber;if(n){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),rb.updateContainer(null,n,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),Pue(r),cg.delete(i)}catch{}},500)})}}rb.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:U.version});function k9(i,e,t){var n,r,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?n=setTimeout(l,e-u):(n=null,t||(a=i.apply(s,r),s=r=null))}var c=function(){s=this,r=arguments,o=Date.now();var u=t&&!n;return n||(n=setTimeout(l,e)),u&&(a=i.apply(s,r),s=r=null),a};return c.clear=function(){n&&(clearTimeout(n),n=null)},c.flush=function(){n&&(a=i.apply(s,r),s=r=null,clearTimeout(n),n=null)},c}k9.debounce=k9;var Xue=k9;const sN=R0(Xue);function Kue(i){let{debounce:e,scroll:t,polyfill:n,offsetSize:r}=i===void 0?{debounce:0,scroll:!1,offsetSize:!1}:i;const s=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=U.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=U.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,h=U.useRef(!1);U.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[d,m,g]=U.useMemo(()=>{const A=()=>{if(!l.current.element)return;const{left:S,top:C,width:T,height:E,bottom:R,right:D,x:I,y:L}=l.current.element.getBoundingClientRect(),O={left:S,top:C,width:T,height:E,bottom:R,right:D,x:I,y:L};l.current.element instanceof HTMLElement&&r&&(O.height=l.current.element.offsetHeight,O.width=l.current.element.offsetWidth),Object.freeze(O),h.current&&!Zue(l.current.lastBounds,O)&&a(l.current.lastBounds=O)};return[A,u?sN(A,u):A,c?sN(A,c):A]},[a,r,c,u]);function y(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function _(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(A=>A.addEventListener("scroll",g,{capture:!0,passive:!0})))}const v=A=>{!A||A===l.current.element||(y(),l.current.element=A,l.current.scrollContainers=QW(A),_())};return Jue(g,!!t),Yue(m),U.useEffect(()=>{y(),_()},[t,g,m]),U.useEffect(()=>y,[]),[v,o,d]}function Yue(i){U.useEffect(()=>{const e=i;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[i])}function Jue(i,e){U.useEffect(()=>{if(e){const t=i;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[i,e])}function QW(i){const e=[];if(!i||i===document.body)return e;const{overflow:t,overflowX:n,overflowY:r}=window.getComputedStyle(i);return[t,n,r].some(s=>s==="auto"||s==="scroll")&&e.push(i),[...e,...QW(i.parentElement)]}const que=["x","y","top","bottom","left","right","width","height"],Zue=(i,e)=>que.every(t=>i[t]===e[t]);var Que=Object.defineProperty,$ue=Object.defineProperties,ehe=Object.getOwnPropertyDescriptors,oN=Object.getOwnPropertySymbols,the=Object.prototype.hasOwnProperty,nhe=Object.prototype.propertyIsEnumerable,aN=(i,e,t)=>e in i?Que(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,lN=(i,e)=>{for(var t in e||(e={}))the.call(e,t)&&aN(i,t,e[t]);if(oN)for(var t of oN(e))nhe.call(e,t)&&aN(i,t,e[t]);return i},ihe=(i,e)=>$ue(i,ehe(e)),cN,uN;typeof window<"u"&&((cN=window.document)!=null&&cN.createElement||((uN=window.navigator)==null?void 0:uN.product)==="ReactNative")?U.useLayoutEffect:U.useEffect;function $W(i,e,t){if(!i)return;if(t(i)===!0)return i;let n=i.child;for(;n;){const r=$W(n,e,t);if(r)return r;n=n.sibling}}function eX(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const hN=console.error;console.error=function(){const i=[...arguments].join("");if(i!=null&&i.startsWith("Warning:")&&i.includes("useContext")){console.error=hN;return}return hN.apply(this,arguments)};const UI=eX(U.createContext(null));class tX extends U.Component{render(){return U.createElement(UI.Provider,{value:this._reactInternals},this.props.children)}}function rhe(){const i=U.useContext(UI);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=U.useId();return U.useMemo(()=>{for(const n of[i,i==null?void 0:i.alternate]){if(!n)continue;const r=$W(n,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[i,e])}function she(){const i=rhe(),[e]=U.useState(()=>new Map);e.clear();let t=i;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==UI&&!e.has(r)&&e.set(r,U.useContext(eX(r)))}t=t.return}return e}function ohe(){const i=she();return U.useMemo(()=>Array.from(i.keys()).reduce((e,t)=>n=>U.createElement(e,null,U.createElement(t.Provider,ihe(lN({},n),{value:i.get(t)}))),e=>U.createElement(tX,lN({},e))),[i])}const k6={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function ahe(i){const{handlePointer:e}=Fue(i);return{priority:1,enabled:!0,compute(t,n,r){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(k6).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:r}=i.getState();(t=r.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;const{set:r,events:s}=i.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((n=s.handlers)!=null?n:[]).forEach(([o,a])=>{const[l,c]=k6[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:n}=i.getState();if(n.connected){var r;Object.entries((r=n.handlers)!=null?r:[]).forEach(([s,o])=>{if(n&&n.connected instanceof HTMLElement){const[a]=k6[s];n.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const lhe=U.forwardRef(function({children:e,fallback:t,resize:n,style:r,gl:s,events:o=ahe,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:h,legacy:d,orthographic:m,frameloop:g,dpr:y,performance:_,raycaster:v,camera:A,scene:S,onPointerMissed:C,onCreated:T,...E},R){U.useMemo(()=>bue(RW),[]);const D=ohe(),[I,L]=Kue({scroll:!0,debounce:{scroll:50,resize:0},...n}),O=U.useRef(null),W=U.useRef(null);U.useImperativeHandle(R,()=>O.current);const X=zW(C),[Z,$]=U.useState(!1),[Q,ee]=U.useState(!1);if(Z)throw Z;if(Q)throw Q;const k=U.useRef(null);px(()=>{const K=O.current;L.width>0&&L.height>0&&K&&(k.current||(k.current=Vue(K)),k.current.configure({gl:s,events:o,shadows:c,linear:u,flat:h,legacy:d,orthographic:m,frameloop:g,dpr:y,performance:_,raycaster:v,camera:A,scene:S,size:L,onPointerMissed:(...ne)=>X.current==null?void 0:X.current(...ne),onCreated:ne=>{ne.events.connect==null||ne.events.connect(a?Mue(a)?a.current:a:W.current),l&&ne.setEvents({compute:(le,ye)=>{const re=le[l+"X"],pe=le[l+"Y"];ye.pointer.set(re/ye.size.width*2-1,-(pe/ye.size.height)*2+1),ye.raycaster.setFromCamera(ye.pointer,ye.camera)}}),T==null||T(ne)}}),k.current.render(w.jsx(D,{children:w.jsx(jW,{set:ee,children:w.jsx(U.Suspense,{fallback:w.jsx(Eue,{set:$}),children:e})})})))}),U.useEffect(()=>{const K=O.current;if(K)return()=>ZW(K)},[]);const q=a?"none":"auto";return w.jsx("div",{ref:W,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:q,...r},...E,children:w.jsx("div",{ref:I,style:{width:"100%",height:"100%"},children:w.jsx("canvas",{ref:O,style:{display:"block"},children:t})})})}),zI=U.forwardRef(function(e,t){return w.jsx(tX,{children:w.jsx(lhe,{...e,ref:t})})}),vx=new V,jI=new V,che=new V,dN=new Se;function uhe(i,e,t){const n=vx.setFromMatrixPosition(i.matrixWorld);n.project(e);const r=t.width/2,s=t.height/2;return[n.x*r+r,-(n.y*s)+s]}function hhe(i,e){const t=vx.setFromMatrixPosition(i.matrixWorld),n=jI.setFromMatrixPosition(e.matrixWorld),r=t.sub(n),s=e.getWorldDirection(che);return r.angleTo(s)>Math.PI/2}function dhe(i,e,t,n){const r=vx.setFromMatrixPosition(i.matrixWorld),s=r.clone();s.project(e),dN.set(s.x,s.y),t.setFromCamera(dN,e);const o=t.intersectObjects(n,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function fhe(i,e){if(e instanceof Do)return e.zoom;if(e instanceof Pn){const t=vx.setFromMatrixPosition(i.matrixWorld),n=jI.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(n);return 1/(2*Math.tan(r/2)*s)}else return 1}function phe(i,e,t){if(e instanceof Pn||e instanceof Do){const n=vx.setFromMatrixPosition(i.matrixWorld),r=jI.setFromMatrixPosition(e.matrixWorld),s=n.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const N9=i=>Math.abs(i)<1e-10?0:i;function nX(i,e,t=""){let n="matrix3d(";for(let r=0;r!==16;r++)n+=N9(e[r]*i.elements[r])+(r!==15?",":")");return t+n}const mhe=(i=>e=>nX(e,i))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),ghe=(i=>(e,t)=>nX(e,i(t),"translate(-50%,-50%)"))(i=>[1/i,1/i,1/i,1,-1/i,-1/i,-1/i,-1,1/i,1/i,1/i,1,1,1,1,1]);function vhe(i){return i&&typeof i=="object"&&"current"in i}const iX=U.forwardRef(({children:i,eps:e=.001,style:t,className:n,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:h,onOcclude:d,castShadow:m,receiveShadow:g,material:y,geometry:_,zIndexRange:v=[16777271,0],calculatePosition:A=uhe,as:S="div",wrapperClass:C,pointerEvents:T="auto",...E},R)=>{const{gl:D,camera:I,scene:L,size:O,raycaster:W,events:X,viewport:Z}=Qo(),[$]=U.useState(()=>document.createElement(S)),Q=U.useRef(),ee=U.useRef(null),k=U.useRef(0),q=U.useRef([0,0]),K=U.useRef(null),ne=U.useRef(null),le=(a==null?void 0:a.current)||X.connected||D.domElement.parentNode,ye=U.useRef(null),re=U.useRef(!1),pe=U.useMemo(()=>h&&h!=="blending"||Array.isArray(h)&&h.length&&vhe(h[0]),[h]);U.useLayoutEffect(()=>{const Be=D.domElement;h&&h==="blending"?(Be.style.zIndex=`${Math.floor(v[0]/2)}`,Be.style.position="absolute",Be.style.pointerEvents="none"):(Be.style.zIndex=null,Be.style.position=null,Be.style.pointerEvents=null)},[h]),U.useLayoutEffect(()=>{if(ee.current){const Be=Q.current=fG($);if(L.updateMatrixWorld(),u)$.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const He=A(ee.current,I,O);$.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${He[0]}px,${He[1]}px,0);transform-origin:0 0;`}return le&&(r?le.prepend($):le.appendChild($)),()=>{le&&le.removeChild($),Be.unmount()}}},[le,u]),U.useLayoutEffect(()=>{C&&($.className=C)},[C]);const Me=U.useMemo(()=>u?{position:"absolute",top:0,left:0,width:O.width,height:O.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-O.height/2,left:-O.width/2,width:O.width,height:O.height},...t},[t,s,o,O,u]),xe=U.useMemo(()=>({position:"absolute",pointerEvents:T}),[T]);U.useLayoutEffect(()=>{if(re.current=!1,u){var Be;(Be=Q.current)==null||Be.render(U.createElement("div",{ref:K,style:Me},U.createElement("div",{ref:ne,style:xe},U.createElement("div",{ref:R,className:n,style:t,children:i}))))}else{var He;(He=Q.current)==null||He.render(U.createElement("div",{ref:R,style:Me,className:n,children:i}))}});const We=U.useRef(!0);mx(Be=>{if(ee.current){I.updateMatrixWorld(),ee.current.updateWorldMatrix(!0,!1);const He=u?q.current:A(ee.current,I,O);if(u||Math.abs(k.current-I.zoom)>e||Math.abs(q.current[0]-He[0])>e||Math.abs(q.current[1]-He[1])>e){const G=hhe(ee.current,I);let me=!1;pe&&(Array.isArray(h)?me=h.map(Je=>Je.current):h!=="blending"&&(me=[L]));const Ae=We.current;if(me){const Je=dhe(ee.current,I,W,me);We.current=Je&&!G}else We.current=!G;Ae!==We.current&&(d?d(!We.current):$.style.display=We.current?"block":"none");const Ie=Math.floor(v[0]/2),ge=h?pe?[v[0],Ie]:[Ie-1,0]:v;if($.style.zIndex=`${phe(ee.current,I,ge)}`,u){const[Je,Ue]=[O.width/2,O.height/2],Ke=I.projectionMatrix.elements[5]*Ue,{isOrthographicCamera:J,top:N,left:ue,bottom:Te,right:Ee}=I,Re=mhe(I.matrixWorldInverse),ot=J?`scale(${Ke})translate(${N9(-(Ee+ue)/2)}px,${N9((N+Te)/2)}px)`:`translateZ(${Ke}px)`;let Le=ee.current.matrixWorld;c&&(Le=I.matrixWorldInverse.clone().transpose().copyPosition(Le).scale(ee.current.scale),Le.elements[3]=Le.elements[7]=Le.elements[11]=0,Le.elements[15]=1),$.style.width=O.width+"px",$.style.height=O.height+"px",$.style.perspective=J?"":`${Ke}px`,K.current&&ne.current&&(K.current.style.transform=`${ot}${Re}translate(${Je}px,${Ue}px)`,ne.current.style.transform=ghe(Le,1/((l||10)/400)))}else{const Je=l===void 0?1:fhe(ee.current,I)*l;$.style.transform=`translate3d(${He[0]}px,${He[1]}px,0) scale(${Je})`}q.current=He,k.current=I.zoom}}if(!pe&&ye.current&&!re.current)if(u){if(K.current){const He=K.current.children[0];if(He!=null&&He.clientWidth&&He!=null&&He.clientHeight){const{isOrthographicCamera:G}=I;if(G||_)E.scale&&(Array.isArray(E.scale)?E.scale instanceof V?ye.current.scale.copy(E.scale.clone().divideScalar(1)):ye.current.scale.set(1/E.scale[0],1/E.scale[1],1/E.scale[2]):ye.current.scale.setScalar(1/E.scale));else{const me=(l||10)/400,Ae=He.clientWidth*me,Ie=He.clientHeight*me;ye.current.scale.set(Ae,Ie,1)}re.current=!0}}}else{const He=$.children[0];if(He!=null&&He.clientWidth&&He!=null&&He.clientHeight){const G=1/Z.factor,me=He.clientWidth*G,Ae=He.clientHeight*G;ye.current.scale.set(me,Ae,1),re.current=!0}ye.current.lookAt(Be.camera.position)}});const rt=U.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return U.createElement("group",Zv({},E,{ref:ee}),h&&!pe&&U.createElement("mesh",{castShadow:m,receiveShadow:g,ref:ye},_||U.createElement("planeGeometry",null),y||U.createElement("shaderMaterial",{side:Ro,vertexShader:rt.vertexShader,fragmentShader:rt.fragmentShader})))});let A1=0;const rX=IW(i=>(tm.onStart=(e,t,n)=>{i({active:!0,item:e,loaded:t,total:n,progress:(t-A1)/(n-A1)*100})},tm.onLoad=()=>{i({active:!1})},tm.onError=e=>i(t=>({errors:[...t.errors,e]})),tm.onProgress=(e,t,n)=>{t===n&&(A1=n),i({active:!0,item:e,loaded:t,total:n,progress:(t-A1)/(n-A1)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function fN(i,e){if(e===hV)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),i;if(e===$w||e===iI){let t=i.getIndex();if(t===null){const o=[],a=i.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);i.setIndex(o),t=i.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),i}const n=t.count-2,r=[];if(t)if(e===$w)for(let o=1;o<=n;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<n;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=i.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),i}const yhe=parseInt(tx.replace(/\D+/g,""));var _he=Object.defineProperty,xhe=(i,e,t)=>e in i?_he(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,wt=(i,e,t)=>(xhe(i,typeof e!="symbol"?e+"":e,t),t);const NS=new B0,pN=new Hl,Ahe=Math.cos(70*(Math.PI/180)),mN=(i,e)=>(i%e+e)%e;let She=class extends yl{constructor(e,t){super(),wt(this,"object"),wt(this,"domElement"),wt(this,"enabled",!0),wt(this,"target",new V),wt(this,"minDistance",0),wt(this,"maxDistance",1/0),wt(this,"minZoom",0),wt(this,"maxZoom",1/0),wt(this,"minPolarAngle",0),wt(this,"maxPolarAngle",Math.PI),wt(this,"minAzimuthAngle",-1/0),wt(this,"maxAzimuthAngle",1/0),wt(this,"enableDamping",!1),wt(this,"dampingFactor",.05),wt(this,"enableZoom",!0),wt(this,"zoomSpeed",1),wt(this,"enableRotate",!0),wt(this,"rotateSpeed",1),wt(this,"enablePan",!0),wt(this,"panSpeed",1),wt(this,"screenSpacePanning",!0),wt(this,"keyPanSpeed",7),wt(this,"zoomToCursor",!1),wt(this,"autoRotate",!1),wt(this,"autoRotateSpeed",2),wt(this,"reverseOrbit",!1),wt(this,"reverseHorizontalOrbit",!1),wt(this,"reverseVerticalOrbit",!1),wt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),wt(this,"mouseButtons",{LEFT:yd.ROTATE,MIDDLE:yd.DOLLY,RIGHT:yd.PAN}),wt(this,"touches",{ONE:_d.ROTATE,TWO:_d.DOLLY_PAN}),wt(this,"target0"),wt(this,"position0"),wt(this,"zoom0"),wt(this,"_domElementKeyEvents",null),wt(this,"getPolarAngle"),wt(this,"getAzimuthalAngle"),wt(this,"setPolarAngle"),wt(this,"setAzimuthalAngle"),wt(this,"getDistance"),wt(this,"listenToKeyEvents"),wt(this,"stopListenToKeyEvents"),wt(this,"saveState"),wt(this,"reset"),wt(this,"update"),wt(this,"connect"),wt(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=ie=>{let be=mN(ie,2*Math.PI),qe=u.phi;qe<0&&(qe+=2*Math.PI),be<0&&(be+=2*Math.PI);let te=Math.abs(be-qe);2*Math.PI-te<te&&(be<qe?be+=2*Math.PI:qe+=2*Math.PI),h.phi=be-qe,n.update()},this.setAzimuthalAngle=ie=>{let be=mN(ie,2*Math.PI),qe=u.theta;qe<0&&(qe+=2*Math.PI),be<0&&(be+=2*Math.PI);let te=Math.abs(be-qe);2*Math.PI-te<te&&(be<qe?be+=2*Math.PI:qe+=2*Math.PI),h.theta=be-qe,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=ie=>{ie.addEventListener("keydown",Le),this._domElementKeyEvents=ie},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Le),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),l=a.NONE},this.update=(()=>{const ie=new V,be=new V(0,1,0),qe=new Xi().setFromUnitVectors(e.up,be),te=qe.clone().invert(),Pe=new V,we=new Xi,Ce=2*Math.PI;return function(){const gt=n.object.position;qe.setFromUnitVectors(e.up,be),te.copy(qe).invert(),ie.copy(gt).sub(n.target),ie.applyQuaternion(qe),u.setFromVector3(ie),n.autoRotate&&l===a.NONE&&Z(W()),n.enableDamping?(u.theta+=h.theta*n.dampingFactor,u.phi+=h.phi*n.dampingFactor):(u.theta+=h.theta,u.phi+=h.phi);let Ct=n.minAzimuthAngle,Kt=n.maxAzimuthAngle;isFinite(Ct)&&isFinite(Kt)&&(Ct<-Math.PI?Ct+=Ce:Ct>Math.PI&&(Ct-=Ce),Kt<-Math.PI?Kt+=Ce:Kt>Math.PI&&(Kt-=Ce),Ct<=Kt?u.theta=Math.max(Ct,Math.min(Kt,u.theta)):u.theta=u.theta>(Ct+Kt)/2?Math.max(Ct,u.theta):Math.min(Kt,u.theta)),u.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,u.phi)),u.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(m,n.dampingFactor):n.target.add(m),n.zoomToCursor&&I||n.object.isOrthographicCamera?u.radius=le(u.radius):u.radius=le(u.radius*d),ie.setFromSpherical(u),ie.applyQuaternion(te),gt.copy(n.target).add(ie),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(h.theta*=1-n.dampingFactor,h.phi*=1-n.dampingFactor,m.multiplyScalar(1-n.dampingFactor)):(h.set(0,0,0),m.set(0,0,0));let Mn=!1;if(n.zoomToCursor&&I){let Ft=null;if(n.object instanceof Pn&&n.object.isPerspectiveCamera){const Li=ie.length();Ft=le(Li*d);const Di=Li-Ft;n.object.position.addScaledVector(R,Di),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const Li=new V(D.x,D.y,0);Li.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/d)),n.object.updateProjectionMatrix(),Mn=!0;const Di=new V(D.x,D.y,0);Di.unproject(n.object),n.object.position.sub(Di).add(Li),n.object.updateMatrixWorld(),Ft=ie.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;Ft!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(Ft).add(n.object.position):(NS.origin.copy(n.object.position),NS.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(NS.direction))<Ahe?e.lookAt(n.target):(pN.setFromNormalAndCoplanarPoint(n.object.up,n.target),NS.intersectPlane(pN,n.target))))}else n.object instanceof Do&&n.object.isOrthographicCamera&&(Mn=d!==1,Mn&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/d)),n.object.updateProjectionMatrix()));return d=1,I=!1,Mn||Pe.distanceToSquared(n.object.position)>c||8*(1-we.dot(n.object.quaternion))>c?(n.dispatchEvent(r),Pe.copy(n.object.position),we.copy(n.object.quaternion),Mn=!1,!0):!1}})(),this.connect=ie=>{ie===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),n.domElement=ie,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",De),n.domElement.addEventListener("pointerdown",N),n.domElement.addEventListener("pointercancel",Te),n.domElement.addEventListener("wheel",ot)},this.dispose=()=>{var ie,be,qe,te,Pe,we;n.domElement&&(n.domElement.style.touchAction="auto"),(ie=n.domElement)==null||ie.removeEventListener("contextmenu",De),(be=n.domElement)==null||be.removeEventListener("pointerdown",N),(qe=n.domElement)==null||qe.removeEventListener("pointercancel",Te),(te=n.domElement)==null||te.removeEventListener("wheel",ot),(Pe=n.domElement)==null||Pe.ownerDocument.removeEventListener("pointermove",ue),(we=n.domElement)==null||we.ownerDocument.removeEventListener("pointerup",Te),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",Le)};const n=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new B9,h=new B9;let d=1;const m=new V,g=new Se,y=new Se,_=new Se,v=new Se,A=new Se,S=new Se,C=new Se,T=new Se,E=new Se,R=new V,D=new Se;let I=!1;const L=[],O={};function W(){return 2*Math.PI/60/60*n.autoRotateSpeed}function X(){return Math.pow(.95,n.zoomSpeed)}function Z(ie){n.reverseOrbit||n.reverseHorizontalOrbit?h.theta+=ie:h.theta-=ie}function $(ie){n.reverseOrbit||n.reverseVerticalOrbit?h.phi+=ie:h.phi-=ie}const Q=(()=>{const ie=new V;return function(qe,te){ie.setFromMatrixColumn(te,0),ie.multiplyScalar(-qe),m.add(ie)}})(),ee=(()=>{const ie=new V;return function(qe,te){n.screenSpacePanning===!0?ie.setFromMatrixColumn(te,1):(ie.setFromMatrixColumn(te,0),ie.crossVectors(n.object.up,ie)),ie.multiplyScalar(qe),m.add(ie)}})(),k=(()=>{const ie=new V;return function(qe,te){const Pe=n.domElement;if(Pe&&n.object instanceof Pn&&n.object.isPerspectiveCamera){const we=n.object.position;ie.copy(we).sub(n.target);let Ce=ie.length();Ce*=Math.tan(n.object.fov/2*Math.PI/180),Q(2*qe*Ce/Pe.clientHeight,n.object.matrix),ee(2*te*Ce/Pe.clientHeight,n.object.matrix)}else Pe&&n.object instanceof Do&&n.object.isOrthographicCamera?(Q(qe*(n.object.right-n.object.left)/n.object.zoom/Pe.clientWidth,n.object.matrix),ee(te*(n.object.top-n.object.bottom)/n.object.zoom/Pe.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function q(ie){n.object instanceof Pn&&n.object.isPerspectiveCamera||n.object instanceof Do&&n.object.isOrthographicCamera?d/=ie:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function K(ie){n.object instanceof Pn&&n.object.isPerspectiveCamera||n.object instanceof Do&&n.object.isOrthographicCamera?d*=ie:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function ne(ie){if(!n.zoomToCursor||!n.domElement)return;I=!0;const be=n.domElement.getBoundingClientRect(),qe=ie.clientX-be.left,te=ie.clientY-be.top,Pe=be.width,we=be.height;D.x=qe/Pe*2-1,D.y=-(te/we)*2+1,R.set(D.x,D.y,1).unproject(n.object).sub(n.object.position).normalize()}function le(ie){return Math.max(n.minDistance,Math.min(n.maxDistance,ie))}function ye(ie){g.set(ie.clientX,ie.clientY)}function re(ie){ne(ie),C.set(ie.clientX,ie.clientY)}function pe(ie){v.set(ie.clientX,ie.clientY)}function Me(ie){y.set(ie.clientX,ie.clientY),_.subVectors(y,g).multiplyScalar(n.rotateSpeed);const be=n.domElement;be&&(Z(2*Math.PI*_.x/be.clientHeight),$(2*Math.PI*_.y/be.clientHeight)),g.copy(y),n.update()}function xe(ie){T.set(ie.clientX,ie.clientY),E.subVectors(T,C),E.y>0?q(X()):E.y<0&&K(X()),C.copy(T),n.update()}function We(ie){A.set(ie.clientX,ie.clientY),S.subVectors(A,v).multiplyScalar(n.panSpeed),k(S.x,S.y),v.copy(A),n.update()}function rt(ie){ne(ie),ie.deltaY<0?K(X()):ie.deltaY>0&&q(X()),n.update()}function Be(ie){let be=!1;switch(ie.code){case n.keys.UP:k(0,n.keyPanSpeed),be=!0;break;case n.keys.BOTTOM:k(0,-n.keyPanSpeed),be=!0;break;case n.keys.LEFT:k(n.keyPanSpeed,0),be=!0;break;case n.keys.RIGHT:k(-n.keyPanSpeed,0),be=!0;break}be&&(ie.preventDefault(),n.update())}function He(){if(L.length==1)g.set(L[0].pageX,L[0].pageY);else{const ie=.5*(L[0].pageX+L[1].pageX),be=.5*(L[0].pageY+L[1].pageY);g.set(ie,be)}}function G(){if(L.length==1)v.set(L[0].pageX,L[0].pageY);else{const ie=.5*(L[0].pageX+L[1].pageX),be=.5*(L[0].pageY+L[1].pageY);v.set(ie,be)}}function me(){const ie=L[0].pageX-L[1].pageX,be=L[0].pageY-L[1].pageY,qe=Math.sqrt(ie*ie+be*be);C.set(0,qe)}function Ae(){n.enableZoom&&me(),n.enablePan&&G()}function Ie(){n.enableZoom&&me(),n.enableRotate&&He()}function ge(ie){if(L.length==1)y.set(ie.pageX,ie.pageY);else{const qe=et(ie),te=.5*(ie.pageX+qe.x),Pe=.5*(ie.pageY+qe.y);y.set(te,Pe)}_.subVectors(y,g).multiplyScalar(n.rotateSpeed);const be=n.domElement;be&&(Z(2*Math.PI*_.x/be.clientHeight),$(2*Math.PI*_.y/be.clientHeight)),g.copy(y)}function Je(ie){if(L.length==1)A.set(ie.pageX,ie.pageY);else{const be=et(ie),qe=.5*(ie.pageX+be.x),te=.5*(ie.pageY+be.y);A.set(qe,te)}S.subVectors(A,v).multiplyScalar(n.panSpeed),k(S.x,S.y),v.copy(A)}function Ue(ie){const be=et(ie),qe=ie.pageX-be.x,te=ie.pageY-be.y,Pe=Math.sqrt(qe*qe+te*te);T.set(0,Pe),E.set(0,Math.pow(T.y/C.y,n.zoomSpeed)),q(E.y),C.copy(T)}function Ke(ie){n.enableZoom&&Ue(ie),n.enablePan&&Je(ie)}function J(ie){n.enableZoom&&Ue(ie),n.enableRotate&&ge(ie)}function N(ie){var be,qe;n.enabled!==!1&&(L.length===0&&((be=n.domElement)==null||be.ownerDocument.addEventListener("pointermove",ue),(qe=n.domElement)==null||qe.ownerDocument.addEventListener("pointerup",Te)),Ze(ie),ie.pointerType==="touch"?Xe(ie):Ee(ie))}function ue(ie){n.enabled!==!1&&(ie.pointerType==="touch"?yt(ie):Re(ie))}function Te(ie){var be,qe,te;kt(ie),L.length===0&&((be=n.domElement)==null||be.releasePointerCapture(ie.pointerId),(qe=n.domElement)==null||qe.ownerDocument.removeEventListener("pointermove",ue),(te=n.domElement)==null||te.ownerDocument.removeEventListener("pointerup",Te)),n.dispatchEvent(o),l=a.NONE}function Ee(ie){let be;switch(ie.button){case 0:be=n.mouseButtons.LEFT;break;case 1:be=n.mouseButtons.MIDDLE;break;case 2:be=n.mouseButtons.RIGHT;break;default:be=-1}switch(be){case yd.DOLLY:if(n.enableZoom===!1)return;re(ie),l=a.DOLLY;break;case yd.ROTATE:if(ie.ctrlKey||ie.metaKey||ie.shiftKey){if(n.enablePan===!1)return;pe(ie),l=a.PAN}else{if(n.enableRotate===!1)return;ye(ie),l=a.ROTATE}break;case yd.PAN:if(ie.ctrlKey||ie.metaKey||ie.shiftKey){if(n.enableRotate===!1)return;ye(ie),l=a.ROTATE}else{if(n.enablePan===!1)return;pe(ie),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&n.dispatchEvent(s)}function Re(ie){if(n.enabled!==!1)switch(l){case a.ROTATE:if(n.enableRotate===!1)return;Me(ie);break;case a.DOLLY:if(n.enableZoom===!1)return;xe(ie);break;case a.PAN:if(n.enablePan===!1)return;We(ie);break}}function ot(ie){n.enabled===!1||n.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(ie.preventDefault(),n.dispatchEvent(s),rt(ie),n.dispatchEvent(o))}function Le(ie){n.enabled===!1||n.enablePan===!1||Be(ie)}function Xe(ie){switch(_t(ie),L.length){case 1:switch(n.touches.ONE){case _d.ROTATE:if(n.enableRotate===!1)return;He(),l=a.TOUCH_ROTATE;break;case _d.PAN:if(n.enablePan===!1)return;G(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(n.touches.TWO){case _d.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Ae(),l=a.TOUCH_DOLLY_PAN;break;case _d.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Ie(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&n.dispatchEvent(s)}function yt(ie){switch(_t(ie),l){case a.TOUCH_ROTATE:if(n.enableRotate===!1)return;ge(ie),n.update();break;case a.TOUCH_PAN:if(n.enablePan===!1)return;Je(ie),n.update();break;case a.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Ke(ie),n.update();break;case a.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;J(ie),n.update();break;default:l=a.NONE}}function De(ie){n.enabled!==!1&&ie.preventDefault()}function Ze(ie){L.push(ie)}function kt(ie){delete O[ie.pointerId];for(let be=0;be<L.length;be++)if(L[be].pointerId==ie.pointerId){L.splice(be,1);return}}function _t(ie){let be=O[ie.pointerId];be===void 0&&(be=new Se,O[ie.pointerId]=be),be.set(ie.pageX,ie.pageY)}function et(ie){const be=ie.pointerId===L[0].pointerId?L[1]:L[0];return O[be.pointerId]}t!==void 0&&this.connect(t),this.update()}};function sb(i){if(typeof TextDecoder<"u")return new TextDecoder().decode(i);let e="";for(let t=0,n=i.length;t<n;t++)e+=String.fromCharCode(i[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const jd="srgb",Ec="srgb-linear",gN=3001,whe=3e3;class HI extends kr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new The(t)}),this.register(function(t){return new Rhe(t)}),this.register(function(t){return new Nhe(t)}),this.register(function(t){return new Uhe(t)}),this.register(function(t){return new zhe(t)}),this.register(function(t){return new Ihe(t)}),this.register(function(t){return new Lhe(t)}),this.register(function(t){return new Dhe(t)}),this.register(function(t){return new Bhe(t)}),this.register(function(t){return new Ehe(t)}),this.register(function(t){return new Fhe(t)}),this.register(function(t){return new Phe(t)}),this.register(function(t){return new khe(t)}),this.register(function(t){return new Ohe(t)}),this.register(function(t){return new Che(t)}),this.register(function(t){return new jhe(t)}),this.register(function(t){return new Hhe(t)})}load(e,t,n,r){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=vh.extractUrlBase(e);o=vh.resolveURL(c,this.path)}else o=vh.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new $s(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},n,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(sb(new Uint8Array(e.slice(0,4)))===sX){try{o[Ut.KHR_BINARY_GLTF]=new Ghe(e)}catch(u){r&&r(u);return}s=JSON.parse(o[Ut.KHR_BINARY_GLTF].content)}else s=JSON.parse(sb(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new nde(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);u.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],h=s.extensionsRequired||[];switch(u){case Ut.KHR_MATERIALS_UNLIT:o[u]=new Mhe;break;case Ut.KHR_DRACO_MESH_COMPRESSION:o[u]=new Vhe(s,this.dracoLoader);break;case Ut.KHR_TEXTURE_TRANSFORM:o[u]=new Whe;break;case Ut.KHR_MESH_QUANTIZATION:o[u]=new Xhe;break;default:h.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(n,r)}parseAsync(e,t){const n=this;return new Promise(function(r,s){n.parse(e,t,r,s)})}}function bhe(){let i={};return{get:function(e){return i[e]},add:function(e,t){i[e]=t},remove:function(e){delete i[e]},removeAll:function(){i={}}}}const Ut={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Che{constructor(e){this.parser=e,this.name=Ut.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,r=t.length;n<r;n++){const s=t[n];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let r=t.cache.get(n);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new Ge(16777215);l.color!==void 0&&u.setRGB(l.color[0],l.color[1],l.color[2],Ec);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new II(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new PI(u),c.distance=h;break;case"spot":c=new RI(u),c.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Ol(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(n,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,s=n.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return n._getNodeRef(t.cache,a,l)})}}class Mhe{constructor(){this.name=Ut.KHR_MATERIALS_UNLIT}getMaterialType(){return Xs}extendParams(e,t,n){const r=[];e.color=new Ge(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Ec),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(n.assignTexture(e,"map",s.baseColorTexture,jd))}return Promise.all(r)}}class Ehe{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class The{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:zo}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(n.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(n.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(n.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Se(a,a)}return Promise.all(s)}}class Rhe{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_DISPERSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:zo}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class Phe{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:zo}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(n.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(n.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Ihe{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:zo}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Ge(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],Ec)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(n.assignTexture(t,"sheenColorMap",o.sheenColorTexture,jd)),o.sheenRoughnessTexture!==void 0&&s.push(n.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Lhe{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:zo}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(n.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Dhe{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:zo}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(n.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Ge().setRGB(a[0],a[1],a[2],Ec),Promise.all(s)}}class Bhe{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:zo}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Fhe{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:zo}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(n.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Ge().setRGB(a[0],a[1],a[2],Ec),o.specularColorTexture!==void 0&&s.push(n.assignTexture(t,"specularColorMap",o.specularColorTexture,jd)),Promise.all(s)}}class Ohe{constructor(e){this.parser=e,this.name=Ut.EXT_MATERIALS_BUMP}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:zo}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(n.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class khe{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:zo}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(n.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class Nhe{constructor(e){this.parser=e,this.name=Ut.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class Uhe{constructor(e){this.parser=e,this.name=Ut.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=n.textureLoader;if(a.uri){const c=n.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return n.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class zhe{constructor(e){this.parser=e,this.name=Ut.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=n.textureLoader;if(a.uri){const c=n.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return n.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class jhe{constructor(e){this.name=Ut.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const r=n.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,u=r.count,h=r.byteStride,d=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,h,d,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*h);return o.decodeGltfBuffer(new Uint8Array(m),u,h,d,r.mode,r.filter),m})})}else return null}}class Hhe{constructor(e){this.name=Ut.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const r=t.meshes[n.mesh];for(const c of r.primitives)if(c.mode!==_o.TRIANGLES&&c.mode!==_o.TRIANGLE_STRIP&&c.mode!==_o.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=n.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),h=u.isGroup?u.children:[u],d=c[0].count,m=[];for(const g of h){const y=new pt,_=new V,v=new Xi,A=new V(1,1,1),S=new mI(g.geometry,g.material,d);for(let C=0;C<d;C++)l.TRANSLATION&&_.fromBufferAttribute(l.TRANSLATION,C),l.ROTATION&&v.fromBufferAttribute(l.ROTATION,C),l.SCALE&&A.fromBufferAttribute(l.SCALE,C),S.setMatrixAt(C,y.compose(_,v,A));for(const C in l)if(C==="_COLOR_0"){const T=l[C];S.instanceColor=new y0(T.array,T.itemSize,T.normalized)}else C!=="TRANSLATION"&&C!=="ROTATION"&&C!=="SCALE"&&g.geometry.setAttribute(C,l[C]);zt.prototype.copy.call(S,g),this.parser.assignFinalMaterial(S),m.push(S)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}}const sX="glTF",S1=12,vN={JSON:1313821514,BIN:5130562};class Ghe{constructor(e){this.name=Ut.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,S1);if(this.header={magic:sb(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==sX)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-S1,r=new DataView(e,S1);let s=0;for(;s<n;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===vN.JSON){const l=new Uint8Array(e,S1+s,o);this.content=sb(l)}else if(a===vN.BIN){const l=S1+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Vhe{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Ut.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const h=U9[u]||u.toLowerCase();a[h]=o[u]}for(const u in e.attributes){const h=U9[u]||u.toLowerCase();if(o[u]!==void 0){const d=n.accessors[e.attributes[u]],m=Am[d.componentType];c[h]=m.name,l[h]=d.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(h,d){r.decodeDracoFile(u,function(m){for(const g in m.attributes){const y=m.attributes[g],_=l[g];_!==void 0&&(y.normalized=_)}h(m)},a,c,Ec,d)})})}}class Whe{constructor(){this.name=Ut.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Xhe{constructor(){this.name=Ut.KHR_MESH_QUANTIZATION}}class oX extends Eg{constructor(e,t,n,r){super(e,t,n,r)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=n[s+o];return t}interpolate_(e,t,n,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=r-t,h=(n-t)/u,d=h*h,m=d*h,g=e*c,y=g-c,_=-2*m+3*d,v=m-d,A=1-_,S=v-d+h;for(let C=0;C!==a;C++){const T=o[y+C+a],E=o[y+C+l]*u,R=o[g+C+a],D=o[g+C]*u;s[C]=A*T+S*E+_*R+v*D}return s}}const Khe=new Xi;class Yhe extends oX{interpolate_(e,t,n,r){const s=super.interpolate_(e,t,n,r);return Khe.fromArray(s).normalize().toArray(s),s}}const _o={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Am={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},yN={9728:Ri,9729:$n,9984:jC,9985:ym,9986:Fd,9987:Lo},_N={33071:Ws,33648:ng,10497:Ch},N6={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},U9={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...yhe>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},du={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Jhe={CUBICSPLINE:void 0,LINEAR:sg,STEP:rg},U6={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function qhe(i){return i.DefaultMaterial===void 0&&(i.DefaultMaterial=new fx({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:ml})),i.DefaultMaterial}function ud(i,e,t){for(const n in t.extensions)i[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function Ol(i,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(i.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Zhe(i,e,t){let n=!1,r=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const h=e[c];if(h.POSITION!==void 0&&(n=!0),h.NORMAL!==void 0&&(r=!0),h.COLOR_0!==void 0&&(s=!0),n&&r&&s)break}if(!n&&!r&&!s)return Promise.resolve(i);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const h=e[c];if(n){const d=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):i.attributes.position;o.push(d)}if(r){const d=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):i.attributes.normal;a.push(d)}if(s){const d=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):i.attributes.color;l.push(d)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],h=c[1],d=c[2];return n&&(i.morphAttributes.position=u),r&&(i.morphAttributes.normal=h),s&&(i.morphAttributes.color=d),i.morphTargetsRelative=!0,i})}function Qhe(i,e){if(i.updateMorphTargets(),e.weights!==void 0)for(let t=0,n=e.weights.length;t<n;t++)i.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(i.morphTargetInfluences.length===t.length){i.morphTargetDictionary={};for(let n=0,r=t.length;n<r;n++)i.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function $he(i){let e;const t=i.extensions&&i.extensions[Ut.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+z6(t.attributes):e=i.indices+":"+z6(i.attributes)+":"+i.mode,i.targets!==void 0)for(let n=0,r=i.targets.length;n<r;n++)e+=":"+z6(i.targets[n]);return e}function z6(i){let e="";const t=Object.keys(i).sort();for(let n=0,r=t.length;n<r;n++)e+=t[n]+":"+i[t[n]]+";";return e}function z9(i){switch(i){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function ede(i){return i.search(/\.jpe?g($|\?)/i)>0||i.search(/^data\:image\/jpeg/)===0?"image/jpeg":i.search(/\.webp($|\?)/i)>0||i.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const tde=new pt;class nde{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new bhe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||n||r&&s<98?this.textureLoader=new pW(this.options.manager):this.textureLoader=new SW(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new $s(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:n,userData:{}};return ud(s,a,r),Ol(a,r),Promise.all(n._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(n[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const r=n.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(n,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const r=e(t[n]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&n.push(s)}return n}getDependency(e,t){const n=e+":"+t;let r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(n,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return n.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Ut.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){n.load(vh.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const r=t.byteLength||0,s=t.byteOffset||0;return n.slice(s,s+r)})}loadAccessor(e){const t=this,n=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=N6[r.type],a=Am[r.componentType],l=r.normalized===!0,c=new a(r.count*o);return Promise.resolve(new Zt(c,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=N6[r.type],c=Am[r.componentType],u=c.BYTES_PER_ELEMENT,h=u*l,d=r.byteOffset||0,m=r.bufferView!==void 0?n.bufferViews[r.bufferView].byteStride:void 0,g=r.normalized===!0;let y,_;if(m&&m!==h){const v=Math.floor(d/m),A="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+v+":"+r.count;let S=t.cache.get(A);S||(y=new c(a,v*m,r.count*m/u),S=new lx(y,m/u),t.cache.add(A,S)),_=new Mh(S,l,d%m/u,g)}else a===null?y=new c(r.count*l):y=new c(a,d,r.count*l),_=new Zt(y,l,g);if(r.sparse!==void 0){const v=N6.SCALAR,A=Am[r.sparse.indices.componentType],S=r.sparse.indices.byteOffset||0,C=r.sparse.values.byteOffset||0,T=new A(o[1],S,r.sparse.count*v),E=new c(o[2],C,r.sparse.count*l);a!==null&&(_=new Zt(_.array.slice(),_.itemSize,_.normalized));for(let R=0,D=T.length;R<D;R++){const I=T[R];if(_.setX(I,E[R*l]),l>=2&&_.setY(I,E[R*l+1]),l>=3&&_.setZ(I,E[R*l+2]),l>=4&&_.setW(I,E[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _})}loadTexture(e){const t=this.json,n=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=n.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,n){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,n).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const d=(s.samplers||{})[o.sampler]||{};return u.magFilter=yN[d.magFilter]||$n,u.minFilter=yN[d.minFilter]||Lo,u.wrapS=_N[d.wrapS]||Ch,u.wrapT=_N[d.wrapT]||Ch,r.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const n=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=n.getDependency("bufferView",o.bufferView).then(function(h){c=!0;const d=new Blob([h],{type:o.mimeType});return l=a.createObjectURL(d),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(h){return new Promise(function(d,m){let g=d;t.isImageBitmapLoader===!0&&(g=function(y){const _=new Ln(y);_.needsUpdate=!0,d(_)}),t.load(vh.resolveURL(h,s.path),g,void 0,m)})}).then(function(h){return c===!0&&a.revokeObjectURL(l),Ol(h,o),h.userData.mimeType=o.mimeType||ede(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=u,u}assignTexture(e,t,n,r){const s=this;return this.getDependency("texture",n.index).then(function(o){if(!o)return null;if(n.texCoord!==void 0&&n.texCoord>0&&(o=o.clone(),o.channel=n.texCoord),s.extensions[Ut.KHR_TEXTURE_TRANSFORM]){const a=n.extensions!==void 0?n.extensions[Ut.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Ut.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(typeof r=="number"&&(r=r===gN?jd:Ec),"colorSpace"in o?o.colorSpace=r:o.encoding=r===jd?gN:whe),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+n.uuid;let l=this.cache.get(a);l||(l=new tM,_i.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,l.sizeAttenuation=!1,this.cache.add(a,l)),n=l}else if(e.isLine){const a="LineBasicMaterial:"+n.uuid;let l=this.cache.get(a);l||(l=new Or,_i.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,this.cache.add(a,l)),n=l}if(r||s||o){let a="ClonedMaterial:"+n.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=n.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(n))),n=l}e.material=n}getMaterialType(){return fx}loadMaterial(e){const t=this,n=this.json,r=this.extensions,s=n.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Ut.KHR_MATERIALS_UNLIT]){const h=r[Ut.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),c.push(h.extendParams(a,s,t))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new Ge(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const d=h.baseColorFactor;a.color.setRGB(d[0],d[1],d[2],Ec),a.opacity=d[3]}h.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",h.baseColorTexture,jd)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Ro);const u=s.alphaMode||U6.OPAQUE;if(u===U6.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===U6.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Xs&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Se(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}if(s.occlusionTexture!==void 0&&o!==Xs&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Xs){const h=s.emissiveFactor;a.emissive=new Ge().setRGB(h[0],h[1],h[2],Ec)}return s.emissiveTexture!==void 0&&o!==Xs&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,jd)),Promise.all(c).then(function(){const h=new o(a);return s.name&&(h.name=s.name),Ol(h,s),t.associations.set(h,{materials:e}),s.extensions&&ud(r,h,s),h})}createUniqueName(e){const t=Vt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,r=this.primitiveCache;function s(a){return n[Ut.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return xN(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=$he(c),h=r[u];if(h)o.push(h.promise);else{let d;c.extensions&&c.extensions[Ut.KHR_DRACO_MESH_COMPRESSION]?d=s(c):d=xN(new Pt,c,t),r[u]={primitive:c,promise:d},o.push(d)}}return Promise.all(o)}loadMesh(e){const t=this,n=this.json,r=this.extensions,s=n.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?qhe(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],h=[];for(let m=0,g=u.length;m<g;m++){const y=u[m],_=o[m];let v;const A=c[m];if(_.mode===_o.TRIANGLES||_.mode===_o.TRIANGLE_STRIP||_.mode===_o.TRIANGLE_FAN||_.mode===void 0)v=s.isSkinnedMesh===!0?new pI(y,A):new ci(y,A),v.isSkinnedMesh===!0&&v.normalizeSkinWeights(),_.mode===_o.TRIANGLE_STRIP?v.geometry=fN(v.geometry,iI):_.mode===_o.TRIANGLE_FAN&&(v.geometry=fN(v.geometry,$w));else if(_.mode===_o.LINES)v=new ba(y,A);else if(_.mode===_o.LINE_STRIP)v=new Hc(y,A);else if(_.mode===_o.LINE_LOOP)v=new gI(y,A);else if(_.mode===_o.POINTS)v=new vI(y,A);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(v.geometry.morphAttributes).length>0&&Qhe(v,s),v.name=t.createUniqueName(s.name||"mesh_"+e),Ol(v,s),_.extensions&&ud(r,v,_),t.assignFinalMaterial(v),h.push(v)}for(let m=0,g=h.length;m<g;m++)t.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return s.extensions&&ud(r,h[0],s),h[0];const d=new Sc;s.extensions&&ud(r,d,s),t.associations.set(d,{meshes:e});for(let m=0,g=h.length;m<g;m++)d.add(h[m]);return d})}loadCamera(e){let t;const n=this.json.cameras[e],r=n[n.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?t=new Pn(SV.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):n.type==="orthographic"&&(t=new Do(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),Ol(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n=[];for(let r=0,s=t.joints.length;r<s;r++)n.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const h=o[c];if(h){a.push(h);const d=new pt;s!==null&&d.fromArray(s.array,c*16),l.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new cx(a,l)})}loadAnimation(e){const t=this.json,n=this,r=t.animations[e],s=r.name?r.name:"animation_"+e,o=[],a=[],l=[],c=[],u=[];for(let h=0,d=r.channels.length;h<d;h++){const m=r.channels[h],g=r.samplers[m.sampler],y=m.target,_=y.node,v=r.parameters!==void 0?r.parameters[g.input]:g.input,A=r.parameters!==void 0?r.parameters[g.output]:g.output;y.node!==void 0&&(o.push(this.getDependency("node",_)),a.push(this.getDependency("accessor",v)),l.push(this.getDependency("accessor",A)),c.push(g),u.push(y))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(u)]).then(function(h){const d=h[0],m=h[1],g=h[2],y=h[3],_=h[4],v=[];for(let A=0,S=d.length;A<S;A++){const C=d[A],T=m[A],E=g[A],R=y[A],D=_[A];if(C===void 0)continue;C.updateMatrix&&C.updateMatrix();const I=n._createAnimationTracks(C,T,E,R,D);if(I)for(let L=0;L<I.length;L++)v.push(I[L])}return new lg(s,void 0,v)})}createNodeMesh(e){const t=this.json,n=this,r=t.nodes[e];return r.mesh===void 0?null:n.getDependency("mesh",r.mesh).then(function(s){const o=n._getNodeRef(n.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,n=this,r=t.nodes[e],s=n._loadNodeShallow(e),o=[],a=r.children||[];for(let c=0,u=a.length;c<u;c++)o.push(n.getDependency("node",a[c]));const l=r.skin===void 0?Promise.resolve(null):n.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],h=c[1],d=c[2];d!==null&&u.traverse(function(m){m.isSkinnedMesh&&m.bind(d,tde)});for(let m=0,g=h.length;m<g;m++)u.add(h[m]);return u})}_loadNodeShallow(e){const t=this.json,n=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new eM:c.length>1?u=new Sc:c.length===1?u=c[0]:u=new zt,u!==c[0])for(let h=0,d=c.length;h<d;h++)u.add(c[h]);if(s.name&&(u.userData.name=s.name,u.name=o),Ol(u,s),s.extensions&&ud(n,u,s),s.matrix!==void 0){const h=new pt;h.fromArray(s.matrix),u.applyMatrix4(h)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return r.associations.has(u)||r.associations.set(u,{}),r.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],r=this,s=new Sc;n.name&&(s.name=r.createUniqueName(n.name)),Ol(s,n),n.extensions&&ud(t,s,n);const o=n.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,h=l.length;u<h;u++)s.add(l[u]);const c=u=>{const h=new Map;for(const[d,m]of r.associations)(d instanceof _i||d instanceof Ln)&&h.set(d,m);return u.traverse(d=>{const m=r.associations.get(d);m!=null&&h.set(d,m)}),h};return r.associations=c(s),s})}_createAnimationTracks(e,t,n,r,s){const o=[],a=e.name?e.name:e.uuid,l=[];du[s.path]===du.weights?e.traverse(function(d){d.morphTargetInfluences&&l.push(d.name?d.name:d.uuid)}):l.push(a);let c;switch(du[s.path]){case du.weights:c=x0;break;case du.rotation:c=A0;break;case du.position:case du.scale:c=S0;break;default:switch(n.itemSize){case 1:c=x0;break;case 2:case 3:default:c=S0;break}break}const u=r.interpolation!==void 0?Jhe[r.interpolation]:sg,h=this._getArrayFromAccessor(n);for(let d=0,m=l.length;d<m;d++){const g=new c(l[d]+"."+du[s.path],t.array,h,u);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(g),o.push(g)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const n=z9(t.constructor),r=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)r[s]=t[s]*n;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(n){const r=this instanceof A0?Yhe:oX;return new r(this.times,this.values,this.getValueSize()/3,n)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function ide(i,e,t){const n=e.attributes,r=new ur;if(n.POSITION!==void 0){const a=t.json.accessors[n.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new V(l[0],l[1],l[2]),new V(c[0],c[1],c[2])),a.normalized){const u=z9(Am[a.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new V,l=new V;for(let c=0,u=s.length;c<u;c++){const h=s[c];if(h.POSITION!==void 0){const d=t.json.accessors[h.POSITION],m=d.min,g=d.max;if(m!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),d.normalized){const y=z9(Am[d.componentType]);l.multiplyScalar(y)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}i.boundingBox=r;const o=new Ki;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,i.boundingSphere=o}function xN(i,e,t){const n=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){i.setAttribute(a,l)})}for(const o in n){const a=U9[o]||o.toLowerCase();a in i.attributes||r.push(s(n[o],a))}if(e.indices!==void 0&&!i.index){const o=t.getDependency("accessor",e.indices).then(function(a){i.setIndex(a)});r.push(o)}return Ol(i,e),ide(i,e,t),Promise.all(r).then(function(){return e.targets!==void 0?Zhe(i,e.targets,t):i})}const j6=new WeakMap;class rde extends kr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,r){const s=new $s(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},n,r)}decodeDracoFile(e,t,n,r){const s={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const n=JSON.stringify(t);if(j6.has(e)){const l=j6.get(e);if(l.key===n)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,u)=>{r._callbacks[s]={resolve:c,reject:u},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),j6.set(e,{key:n,promise:a}),a}_createGeometry(e){const t=new Pt;e.index&&t.setIndex(new Zt(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const r=e.attributes[n],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new Zt(o,a))}return t}_loadLibrary(e,t){const n=new $s(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((r,s)=>{n.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{const r=n[0];e||(this.decoderConfig.wasmBinary=n[1]);const s=sde.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function sde(){let i,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":i=a.decoderConfig,e=new Promise(function(u){i.onModuleLoaded=function(h){u({draco:h})},DracoDecoderModule(i)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const h=u.draco,d=new h.Decoder,m=new h.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const g=t(h,d,m,c),y=g.attributes.map(_=>_.array.buffer);g.index&&y.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},y)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{h.destroy(m),h.destroy(d)}});break}};function t(o,a,l,c){const u=c.attributeIDs,h=c.attributeTypes;let d,m;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)d=new o.Mesh,m=a.DecodeBufferToMesh(l,d);else if(g===o.POINT_CLOUD)d=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,d);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||d.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const y={index:null,attributes:[]};for(const _ in u){const v=self[h[_]];let A,S;if(c.useUniqueIDs)S=u[_],A=a.GetAttributeByUniqueId(d,S);else{if(S=a.GetAttributeId(d,o[u[_]]),S===-1)continue;A=a.GetAttribute(d,S)}y.attributes.push(r(o,a,d,_,v,A))}return g===o.TRIANGULAR_MESH&&(y.index=n(o,a,d)),o.destroy(d),y}function n(o,a,l){const u=l.num_faces()*3,h=u*4,d=o._malloc(h);a.GetTrianglesUInt32Array(l,h,d);const m=new Uint32Array(o.HEAPF32.buffer,d,u).slice();return o._free(d),{array:m,itemSize:1}}function r(o,a,l,c,u,h){const d=h.num_components(),g=l.num_points()*d,y=g*u.BYTES_PER_ELEMENT,_=s(o,u),v=o._malloc(y);a.GetAttributeDataArrayForAllPoints(l,h,_,y,v);const A=new u(o.HEAPF32.buffer,v,g).slice();return o._free(v),{name:c,array:A,itemSize:d}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let US;const H6=()=>{if(US)return US;const i="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),n=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=i;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(h=>{s=h.instance,s.exports.__wasm_call_ctors()});function a(h){const d=new Uint8Array(h.length);for(let g=0;g<h.length;++g){const y=h.charCodeAt(g);d[g]=y>96?y-71:y>64?y-65:y>47?y+4:y>46?63:62}let m=0;for(let g=0;g<h.length;++g)d[m++]=d[g]<60?n[d[g]]:(d[g]-60)*64+d[++g];return d.buffer.slice(0,m)}function l(h,d,m,g,y,_){const v=s.exports.sbrk,A=m+3&-4,S=v(A*g),C=v(y.length),T=new Uint8Array(s.exports.memory.buffer);T.set(y,C);const E=h(S,m,g,C,y.length);if(E===0&&_&&_(S,A,g),d.set(T.subarray(S,S+m*g)),v(S-v(0)),E!==0)throw new Error(`Malformed buffer data: ${E}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return US={ready:o,supported:!0,decodeVertexBuffer(h,d,m,g,y){l(s.exports.meshopt_decodeVertexBuffer,h,d,m,g,s.exports[c[y]])},decodeIndexBuffer(h,d,m,g){l(s.exports.meshopt_decodeIndexBuffer,h,d,m,g)},decodeIndexSequence(h,d,m,g){l(s.exports.meshopt_decodeIndexSequence,h,d,m,g)},decodeGltfBuffer(h,d,m,g,y,_){l(s.exports[u[y]],h,d,m,g,s.exports[c[_]])}},US};let zS=null,aX="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function lX(i,e,t){return n=>{t&&t(n),i&&(zS||(zS=new rde),zS.setDecoderPath(typeof i=="string"?i:aX),n.setDRACOLoader(zS)),e&&n.setMeshoptDecoder(typeof H6=="function"?H6():H6)}}function Ea(i,e=!0,t=!0,n){return gx(HI,i,lX(e,t,n))}Ea.preload=(i,e=!0,t=!0,n)=>gx.preload(HI,i,lX(e,t,n));Ea.clear=i=>gx.clear(HI,i);Ea.setDecoderPath=i=>{aX=i};const ode=U.forwardRef(({makeDefault:i,camera:e,regress:t,domElement:n,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},u)=>{const h=Qo(E=>E.invalidate),d=Qo(E=>E.camera),m=Qo(E=>E.gl),g=Qo(E=>E.events),y=Qo(E=>E.setEvents),_=Qo(E=>E.set),v=Qo(E=>E.get),A=Qo(E=>E.performance),S=e||d,C=n||g.connected||m.domElement,T=U.useMemo(()=>new She(S),[S]);return mx(()=>{T.enabled&&T.update()},-1),U.useEffect(()=>(s&&T.connect(s===!0?C:s),T.connect(C),()=>void T.dispose()),[s,C,t,T,h]),U.useEffect(()=>{const E=I=>{h(),t&&A.regress(),o&&o(I)},R=I=>{a&&a(I)},D=I=>{l&&l(I)};return T.addEventListener("change",E),T.addEventListener("start",R),T.addEventListener("end",D),()=>{T.removeEventListener("start",R),T.removeEventListener("end",D),T.removeEventListener("change",E)}},[o,a,l,T,h,y]),U.useEffect(()=>{if(i){const E=v().controls;return _({controls:T}),()=>_({controls:E})}},[i,T]),U.createElement("primitive",Zv({ref:u,object:T,enableDamping:r},c))}),ade="modulepreload",lde=function(i){return"/"+i},AN={},O1=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.all(t.map(a=>{if(a=lde(a),a in AN)return;AN[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":ade,l||(u.as="script",u.crossOrigin=""),u.href=a,o&&u.setAttribute("nonce",o),document.head.appendChild(u),l)return new Promise((h,d)=>{u.addEventListener("load",h),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})}))}return r.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var SN,wN;const cde=typeof window<"u"&&typeof((SN=window.document)==null?void 0:SN.createElement)=="function"&&typeof((wN=window.navigator)==null?void 0:wN.userAgent)=="string";let jS=null;async function ude(i,e){if(cde&&i.pathname.endsWith(".m3u8")){var t;if((t=jS)!==null&&t!==void 0||(jS=await O1(()=>import("./hls-BJ3UBBan.js").then(n=>n.h),[])),jS.default.isSupported())return new jS.default({...e})}return null}function hde(i,{unsuspend:e="loadedmetadata",start:t=!0,crossOrigin:n="anonymous",muted:r=!0,loop:s=!0,hls:o={},...a}={}){const l=new URL(typeof i=="string"?i:"",window.location.href),c=U.useRef(null),u=U.useRef(null),h=Qo(m=>m.gl),d=kW(()=>new Promise(async m=>{const g=Object.assign(document.createElement("video"),{src:typeof i=="string"&&i||void 0,srcObject:i instanceof MediaStream&&i||void 0,crossOrigin:n,loop:s,muted:r,...a});if(u.current=g,typeof i=="string"){const _=c.current=await ude(l,o);_?(_.attachMedia(g),_.on("hlsMediaAttached",()=>{_.loadSource(i)})):g.src=i}else i instanceof MediaStream&&(g.srcObject=i);const y=new VV(g);"colorSpace"in y?y.colorSpace=h.outputColorSpace:y.encoding=h.outputEncoding,g.addEventListener(e,()=>m(y))}),[i]);return U.useEffect(()=>(t&&d.image.play(),()=>{c.current&&(c.current.destroy(),c.current=null)}),[d,t]),d}function Tg(i,e){const t=U.useRef(),[n]=U.useState(()=>e?e instanceof zt?{current:e}:e:t),[r]=U.useState(()=>new MW(void 0));U.useLayoutEffect(()=>{e&&(n.current=e instanceof zt?e:e.current),r._root=n.current});const s=U.useRef({}),o=U.useMemo(()=>{const a={};return i.forEach(l=>Object.defineProperty(a,l.name,{enumerable:!0,get(){if(n.current)return s.current[l.name]||(s.current[l.name]=r.clipAction(l,n.current))},configurable:!0})),{ref:n,clips:i,actions:a,names:i.map(l=>l.name),mixer:r}},[i]);return mx((a,l)=>r.update(l)),U.useEffect(()=>{const a=n.current;return()=>{s.current={},r.stopAllAction(),Object.values(o.actions).forEach(l=>{a&&r.uncacheAction(l,a)})}},[i]),o}const dde=U.forwardRef(function({children:e,disable:t,disableX:n,disableY:r,disableZ:s,left:o,right:a,top:l,bottom:c,front:u,back:h,onCentered:d,precise:m=!0,cacheKey:g=0,...y},_){const v=U.useRef(null),A=U.useRef(null),S=U.useRef(null);return U.useLayoutEffect(()=>{A.current.matrixWorld.identity();const C=new ur().setFromObject(S.current,m),T=new V,E=new Ki,R=C.max.x-C.min.x,D=C.max.y-C.min.y,I=C.max.z-C.min.z;C.getCenter(T),C.getBoundingSphere(E);const L=l?D/2:c?-D/2:0,O=o?-R/2:a?R/2:0,W=u?I/2:h?-I/2:0;A.current.position.set(t||n?0:-T.x+O,t||r?0:-T.y+L,t||s?0:-T.z+W),typeof d<"u"&&d({parent:v.current.parent,container:v.current,width:R,height:D,depth:I,boundingBox:C,boundingSphere:E,center:T,verticalAlignment:L,horizontalAlignment:O,depthAlignment:W})},[g,d,l,o,u,t,n,r,s,m,a,c,h]),U.useImperativeHandle(_,()=>v.current,[]),U.createElement("group",Zv({ref:v},y),U.createElement("group",{ref:A},U.createElement("group",{ref:S},e)))});var cX={exports:{}},fde="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",pde=fde,mde=pde;function uX(){}function hX(){}hX.resetWarningCache=uX;var gde=function(){function i(n,r,s,o,a,l){if(l!==mde){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}i.isRequired=i;function e(){return i}var t={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:e,element:i,elementType:i,instanceOf:e,node:i,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:hX,resetWarningCache:uX};return t.PropTypes=t,t};cX.exports=gde();var GI=cX.exports;const ss=R0(GI),dX=()=>{const{progress:i}=rX();return w.jsxs(iX,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[w.jsx("span",{className:"canvas-loader"}),w.jsx("div",{className:"flex justify-center items-center",children:w.jsx("div",{className:"flex justify-center items-center w-20 h-20 border-2 border-opacity-20 border-blue-500 border-t-blue-500 rounded-full animate-ping",children:w.jsx("p",{style:{fontSize:18,color:"#010101",fontWeight:600},children:i!==0?`${i.toFixed(2)}%`:"Loading..."})})})]})},vde=()=>{const{progress:i}=rX();return w.jsxs(iX,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[w.jsx("span",{className:"canvas-loader"}),w.jsx("p",{style:{fontSize:16,color:"#010101",fontWeight:800,marginTop:40},children:i!==0?`${i.toFixed(2)}%`:"Loading..."})]})},xv="data:image/svg+xml,%3csvg%20width='14'%20height='15'%20viewBox='0%200%2014%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.16602%207.49984H12.8327M12.8327%207.49984L6.99935%201.6665M12.8327%207.49984L6.99935%2013.3332'%20stroke='%23406AFF'%20stroke-width='1.66667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",yde="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='240px'%20height='240px'%20fill-rule='evenodd'%20clip-rule='evenodd'%3e%3clinearGradient%20id='FAKZ2g97PrDXJBy36-66Qa'%20x1='35.753'%20x2='11.271'%20y1='3.643'%20y2='46.048'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%23f9f9f9'/%3e%3cstop%20offset='.26'%20stop-color='%23f0f1f2'/%3e%3cstop%20offset='.678'%20stop-color='%23d9dcdf'/%3e%3cstop%20offset='1'%20stop-color='%23c2c8cc'/%3e%3c/linearGradient%3e%3cpath%20fill='url(%23FAKZ2g97PrDXJBy36-66Qa)'%20fill-rule='evenodd'%20d='M22.903,3.286c0.679-0.381,1.515-0.381,2.193,0%20c3.355,1.883,13.451,7.551,16.807,9.434C42.582,13.1,43,13.804,43,14.566c0,3.766,0,15.101,0,18.867%20c0,0.762-0.418,1.466-1.097,1.847c-3.355,1.883-13.451,7.551-16.807,9.434c-0.679,0.381-1.515,0.381-2.193,0%20c-3.355-1.883-13.451-7.551-16.807-9.434C5.418,34.899,5,34.196,5,33.434c0-3.766,0-15.101,0-18.867%20c0-0.762,0.418-1.466,1.097-1.847C9.451,10.837,19.549,5.169,22.903,3.286z'%20clip-rule='evenodd'/%3e%3cpath%20fill='%23343434'%20d='M23.987,46.221c-1.085,0-2.171-0.252-3.165-0.757c-2.22-1.127-5.118-2.899-7.921-4.613%20c-1.973-1.206-3.836-2.346-5.297-3.157C5.381,36.458,4,34.113,4,31.572V16.627c0-2.59,1.417-4.955,3.699-6.173%20c3.733-1.989,9.717-5.234,12.878-7.01l0,0c2.11-1.184,4.733-1.184,6.844,0c3.576,2.007,10.369,6.064,14.252,8.513%20C43.13,12.874,44,14.453,44,16.182V32c0,2.4-0.859,4.048-2.553,4.895c-0.944,0.531-2.628,1.576-4.578,2.787%20c-3.032,1.882-6.806,4.225-9.564,5.705C26.27,45.942,25.128,46.221,23.987,46.221z%20M21.556,5.188%20C18.384,6.97,12.382,10.226,8.64,12.22C7.012,13.088,6,14.776,6,16.627v14.945c0,1.814,0.987,3.49,2.576,4.373%20c1.498,0.832,3.378,1.981,5.369,3.199c2.77,1.693,5.634,3.445,7.783,4.536c1.458,0.739,3.188,0.717,4.631-0.056%20c2.703-1.451,6.447-3.775,9.456-5.643c1.97-1.223,3.671-2.279,4.696-2.854C41.835,34.464,42,33.109,42,32V16.182%20c0-1.037-0.521-1.983-1.392-2.532c-3.862-2.435-10.613-6.467-14.165-8.461C24.913,4.331,23.086,4.331,21.556,5.188L21.556,5.188z'/%3e%3cpath%20fill='%23343434'%20d='M22.977,41.654L22.92,28.216c-0.011-2.594,1.413-4.981,3.701-6.204l12.01-6.416%20c1.998-1.068,4.414,0.38,4.414,2.646v14.73c0,1.041-0.54,2.008-1.426,2.554l-14.068,8.668%20C25.557,45.424,22.987,43.996,22.977,41.654z'/%3e%3clinearGradient%20id='FAKZ2g97PrDXJBy36-66Qb'%20x1='32.281'%20x2='23.433'%20y1='26.55'%20y2='41.876'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%23f9f9f9'/%3e%3cstop%20offset='.26'%20stop-color='%23f0f1f2'/%3e%3cstop%20offset='.678'%20stop-color='%23d9dcdf'/%3e%3cstop%20offset='1'%20stop-color='%23c2c8cc'/%3e%3c/linearGradient%3e%3cpath%20fill='url(%23FAKZ2g97PrDXJBy36-66Qb)'%20d='M28.799,26.274%20c0.123-0.063,0.225,0.014,0.227,0.176l0.013,1.32c0.552-0.219,1.032-0.278,1.467-0.177c0.095,0.024,0.136,0.153,0.098,0.306%20l-0.291,1.169c-0.024,0.089-0.072,0.178-0.132,0.233c-0.026,0.025-0.052,0.044-0.077,0.057c-0.04,0.02-0.078,0.026-0.114,0.019%20c-0.199-0.045-0.671-0.148-1.413,0.228c-0.778,0.395-1.051,1.071-1.046,1.573c0.007,0.601,0.315,0.783,1.377,0.802%20c1.416,0.023,2.027,0.643,2.042,2.067c0.016,1.402-0.733,2.905-1.876,3.826l0.025,1.308c0.001,0.157-0.1,0.338-0.225,0.4%20l-0.775,0.445c-0.123,0.063-0.225-0.014-0.227-0.172l-0.013-1.286c-0.664,0.276-1.334,0.342-1.763,0.17%20c-0.082-0.032-0.117-0.152-0.084-0.288l0.28-1.181c0.022-0.092,0.071-0.186,0.138-0.246c0.023-0.023,0.048-0.04,0.072-0.053%20c0.044-0.022,0.087-0.027,0.124-0.013c0.462,0.155,1.053,0.082,1.622-0.206c0.722-0.365,1.206-1.102,1.198-1.834%20c-0.007-0.664-0.366-0.939-1.241-0.946c-1.113,0.002-2.151-0.216-2.168-1.855c-0.014-1.35,0.688-2.753,1.799-3.641l-0.013-1.319%20c-0.001-0.162,0.098-0.34,0.225-0.405L28.799,26.274z'/%3e%3cpath%20fill='%2321a366'%20d='M37.226,34.857l-3.704,2.185c-0.109,0.061-0.244-0.019-0.244-0.143v-1.252%20c0-0.113,0.061-0.217,0.16-0.273l3.704-2.185c0.111-0.061,0.246,0.019,0.246,0.145v1.248C37.388,34.697,37.326,34.801,37.226,34.857'/%3e%3c/svg%3e",_de="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='2500'%20height='2500'%20preserveAspectRatio='xMinYMin%20meet'%20viewBox='0%200%20256%20256'%20id='bootstrap'%3e%3cpath%20fill='%23563D7C'%20d='M0%20222.991C0%20241.223%2014.779%20256%2033.009%20256H222.99C241.223%20256%20256%20241.221%20256%20222.991V33.01C256%2014.777%20241.221%200%20222.991%200H33.01C14.777%200%200%2014.779%200%2033.009V222.99z'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M106.158%20113.238V76.985h31.911c3.04%200%205.97.253%208.792.76%202.822.506%205.319%201.41%207.49%202.713%202.17%201.303%203.907%203.112%205.21%205.427%201.302%202.316%201.954%205.283%201.954%208.9%200%206.513-1.954%2011.217-5.862%2014.111-3.907%202.895-8.9%204.342-14.979%204.342h-34.516zM72.075%2050.5v155h75.112c6.947%200%2013.713-.868%2020.298-2.605%206.585-1.737%2012.446-4.414%2017.584-8.032%205.137-3.618%209.226-8.286%2012.265-14.002%203.04-5.717%204.559-12.483%204.559-20.298%200-9.697-2.352-17.982-7.055-24.856-4.704-6.875-11.832-11.687-21.384-14.437%206.947-3.328%2012.194-7.598%2015.74-12.808%203.545-5.21%205.318-11.722%205.318-19.538%200-7.236-1.194-13.314-3.582-18.235-2.388-4.92-5.753-8.864-10.095-11.831-4.341-2.967-9.551-5.102-15.63-6.404-6.078-1.303-12.808-1.954-20.189-1.954H72.075zm34.083%20128.515v-42.549h37.121c7.381%200%2013.315%201.7%2017.802%205.102%204.486%203.401%206.73%209.081%206.73%2017.041%200%204.053-.688%207.381-2.063%209.986-1.375%202.605-3.22%204.668-5.536%206.187-2.315%201.52-4.993%202.605-8.032%203.257-3.04.65-6.223.976-9.552.976h-36.47z'%3e%3c/path%3e%3c/svg%3e",xde="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='100'%20height='100'%3e%3cpath%20d='M0%200%20C19.8%200%2039.6%200%2060%200%20C60%2018.48%2060%2036.96%2060%2056%20C40.2%2056%2020.4%2056%200%2056%20C0%2037.52%200%2019.04%200%200%20Z%20M22%208%20C22%209.32%2022%2010.64%2022%2012%20C28.6%2012%2035.2%2012%2042%2012%20C42%2010.68%2042%209.36%2042%208%20C35.4%208%2028.8%208%2022%208%20Z%20'%20fill='%23FFFFFF'%20transform='translate(10,32)'/%3e%3cpath%20d='M0%200%20C0.28131418%207.43316613%200.47251679%2014.86493875%200.60424805%2022.30224609%20C0.65921484%2024.82620525%200.73401922%2027.34981987%200.82983398%2029.87255859%20C1.754511%2054.86356201%201.754511%2054.86356201%20-6.68244934%2064.00247192%20C-8.07916082%2065.37943508%20-9.53898643%2066.69146271%20-11%2068%20C-11.95978672%2068.94305768%20-12.91368686%2069.89215709%20-13.8605957%2070.84814453%20C-14.91960083%2071.91331299%20-14.91960083%2071.91331299%20-16%2073%20C-16.35078938%2065.69843696%20-16.61562537%2058.39874382%20-16.77718258%2051.09039974%20C-16.85482063%2047.69448641%20-16.95961453%2044.3044137%20-17.1315918%2040.91186523%20C-18.24712341%2017.16197838%20-18.24712341%2017.16197838%20-12.62939453%209.78173828%20C-3.63604553%200%20-3.63604553%200%200%200%20Z%20'%20fill='%23FFFFFF'%20transform='translate(90,14)'/%3e%3cpath%20d='M0%200%20C-1.10408203%201.05767578%20-1.10408203%201.05767578%20-2.23046875%202.13671875%20C-5.03099239%204.87342667%20-5.03099239%204.87342667%20-6.98828125%207.89453125%20C-11.01689509%2012.95230359%20-14.09617323%2015.60697776%20-20.68701172%2016.49902344%20C-30.10430034%2017.10989754%20-39.59459885%2016.59765924%20-49%2016%20C-48.23171875%2015.23469971%20-47.4634375%2014.46939941%20-46.671875%2013.6809082%20C-44.8419066%2011.84475296%20-43.03554259%209.98485377%20-41.25%208.10546875%20C-29.46207885%20-2.96320198%20-15.12010775%20-1.08881831%200%200%20Z%20'%20fill='%23FFFFFF'%20transform='translate(60,12)'/%3e%3cpath%20d='M0%200%20C1.49249268%200.01571045%201.49249268%200.01571045%203.01513672%200.03173828%20C4.6296875%200.04140625%204.6296875%200.04140625%206.27685547%200.05126953%20C7.40478516%200.06802734%208.53271484%200.08478516%209.69482422%200.10205078%20C11.39832031%200.11558594%2011.39832031%200.11558594%2013.13623047%200.12939453%20C15.94763721%200.1530198%2018.7586272%200.18596065%2021.56982422%200.22705078%20C20.21600146%201.85858078%2018.85217235%203.4824412%2017.45043945%205.07299805%20C16.14104436%206.57277643%2014.8748646%208.11092803%2013.64428711%209.67602539%20C10.52231686%2013.32019766%208.19087623%2015.85971262%203.41308594%2016.94238281%20C-0.09817125%2017.11083064%20-3.48530434%2017.01664677%20-6.99267578%2016.78955078%20C-8.19214844%2016.74894531%20-9.39162109%2016.70833984%20-10.62744141%2016.66650391%20C-13.56597418%2016.56113819%20-16.49588226%2016.41381628%20-19.43017578%2016.22705078%20C-16.57557688%2012.4051352%20-13.53703096%209.50189944%20-9.80517578%206.53955078%20C-1.81909801%200.16995792%20-1.81909801%200.16995792%200%200%20Z%20'%20fill='%23FFFFFF'%20transform='translate(66.43017578125,11.77294921875)'/%3e%3c/svg%3e",Ade="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20id='c'%3e%3cpath%20fill='%23659AD3'%20d='M115.4%2030.7l-48.3-27.8c-.8-.5-1.9-.7-3.1-.7-1.2%200-2.3.3-3.1.7l-48%2027.9c-1.7%201-2.9%203.5-2.9%205.4v55.7c0%201.1.2%202.4%201%203.5l106.8-62c-.6-1.2-1.5-2.1-2.4-2.7z'%3e%3c/path%3e%3cpath%20fill='%2303599C'%20d='M10.7%2095.3c.5.8%201.2%201.5%201.9%201.9l48.2%2027.9c.8.5%201.9.7%203.1.7%201.2%200%202.3-.3%203.1-.7l48-27.9c1.7-1%202.9-3.5%202.9-5.4v-55.7c0-.9-.1-1.9-.6-2.8l-106.6%2062z'%3e%3c/path%3e%3cpath%20fill='%23fff'%20d='M85.3%2076.1c-4.2%207.4-12.2%2012.4-21.3%2012.4-13.5%200-24.5-11-24.5-24.5s11-24.5%2024.5-24.5c9.1%200%2017.1%205%2021.3%2012.5l13-7.5c-6.8-11.9-19.6-20-34.3-20-21.8%200-39.5%2017.7-39.5%2039.5s17.7%2039.5%2039.5%2039.5c14.6%200%2027.4-8%2034.2-19.8l-12.9-7.6z'%3e%3c/path%3e%3c/svg%3e",Sde="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%3e%3cg%20clip-path='url(%23clip0_1616_89)'%3e%3cpath%20d='M24%2048C37.2548%2048%2048%2037.2548%2048%2024C48%2010.7452%2037.2548%200%2024%200C10.7452%200%200%2010.7452%200%2024C0%2037.2548%2010.7452%2048%2024%2048Z'%20fill='%232196F3'/%3e%3cpath%20d='M36%2028.962C33.411%2028.962%2030.942%2028.398%2028.665%2027.285C28.308%2027.114%2027.894%2027.087%2027.516%2027.216C27.138%2027.348%2026.829%2027.624%2026.655%2027.981L25.575%2030.216C22.335%2028.356%2019.647%2025.665%2017.784%2022.425L20.022%2021.345C20.382%2021.171%2020.655%2020.862%2020.787%2020.484C20.916%2020.106%2020.892%2019.692%2020.718%2019.335C19.602%2017.061%2019.038%2014.592%2019.038%2012C19.038%2011.172%2018.366%2010.5%2017.538%2010.5H12C11.172%2010.5%2010.5%2011.172%2010.5%2012C10.5%2026.061%2021.939%2037.5%2036%2037.5C36.828%2037.5%2037.5%2036.828%2037.5%2036V30.462C37.5%2029.634%2036.828%2028.962%2036%2028.962Z'%20fill='%23FAFAFA'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1616_89'%3e%3crect%20width='48'%20height='48'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",wde="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='2222'%20height='2500'%20preserveAspectRatio='xMinYMin%20meet'%20viewBox='0%200%20256%20288'%20id='c'%3e%3cpath%20fill='%235C8DBC'%20d='M255.569%2084.72c-.002-4.83-1.035-9.098-3.124-12.761-2.052-3.602-5.125-6.621-9.247-9.008-34.025-19.619-68.083-39.178-102.097-58.817-9.17-5.294-18.061-5.101-27.163.269C100.395%2012.39%2032.59%2051.237%2012.385%2062.94%204.064%2067.757.015%2075.129.013%2084.711%200%20124.166.013%20163.62%200%20203.076c.002%204.724.991%208.909%202.988%2012.517%202.053%203.711%205.169%206.813%209.386%209.254%2020.206%2011.703%2088.02%2050.547%20101.56%2058.536%209.106%205.373%2017.997%205.565%2027.17.269%2034.015-19.64%2068.075-39.198%20102.105-58.817%204.217-2.44%207.333-5.544%209.386-9.252%201.994-3.608%202.985-7.793%202.987-12.518%200%200%200-78.889-.013-118.345'%3e%3c/path%3e%3cpath%20fill='%231A4674'%20d='M128.182%20143.509L2.988%20215.593c2.053%203.711%205.169%206.813%209.386%209.254%2020.206%2011.703%2088.02%2050.547%20101.56%2058.536%209.106%205.373%2017.997%205.565%2027.17.269%2034.015-19.64%2068.075-39.198%20102.105-58.817%204.217-2.44%207.333-5.544%209.386-9.252l-124.413-72.074'%3e%3c/path%3e%3cpath%20fill='%231A4674'%20d='M91.101%20164.861c7.285%2012.718%2020.98%2021.296%2036.69%2021.296%2015.807%200%2029.58-8.687%2036.828-21.541l-36.437-21.107-37.081%2021.352'%3e%3c/path%3e%3cpath%20fill='%231B598E'%20d='M255.569%2084.72c-.002-4.83-1.035-9.098-3.124-12.761l-124.263%2071.55%20124.413%2072.074c1.994-3.608%202.985-7.793%202.987-12.518%200%200%200-78.889-.013-118.345'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M248.728%20148.661h-9.722v9.724h-9.724v-9.724h-9.721v-9.721h9.721v-9.722h9.724v9.722h9.722v9.721M213.253%20148.661h-9.721v9.724h-9.722v-9.724h-9.722v-9.721h9.722v-9.722h9.722v9.722h9.721v9.721'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M164.619%20164.616c-7.248%2012.854-21.021%2021.541-36.828%2021.541-15.71%200-29.405-8.578-36.69-21.296a42.062%2042.062%200%200%201-5.574-20.968c0-23.341%2018.923-42.263%2042.264-42.263%2015.609%200%2029.232%208.471%2036.553%2021.059l36.941-21.272c-14.683-25.346-42.096-42.398-73.494-42.398-46.876%200-84.875%2038-84.875%2084.874%200%2015.378%204.091%2029.799%2011.241%2042.238%2014.646%2025.48%2042.137%2042.637%2073.634%2042.637%2031.555%200%2059.089-17.226%2073.714-42.781l-36.886-21.371'%3e%3c/path%3e%3c/svg%3e",bde="data:image/svg+xml,%3csvg%20width='50'%20height='50'%20viewBox='0%200%2050%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.03125%2044.9219L2.92969%200H46.9727L42.9688%2044.9219L25%2050'%20fill='%23264DE4'/%3e%3cpath%20d='M25%203.61328V46.0938L39.5508%2042.0898L42.9688%203.61328'%20fill='%232965F1'/%3e%3cpath%20d='M11.1328%209.17969H25V14.6484H11.6211M12.1094%2020.3125H25V25.8789H12.5977M12.8906%2028.6133H18.3594L18.75%2033.0078L25%2034.668V40.4297L13.5742%2037.3047'%20fill='%23EBEBEB'/%3e%3cpath%20d='M25%2020.3125V25.8789H31.7383L31.0547%2033.0078L25%2034.668V40.4297L36.2305%2037.3047L38.7695%209.17969H25V14.6484H32.8125L32.2754%2020.3125H25Z'%20fill='white'/%3e%3c/svg%3e",Cde="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='2500'%20height='2373'%20preserveAspectRatio='xMinYMin%20meet'%20viewBox='0%200%20256%20243'%20id='company'%3e%3cdefs%3e%3clinearGradient%20id='a'%20x1='-82.637%25'%20x2='103.767%25'%20y1='-92.82%25'%20y2='106.042%25'%3e%3cstop%20offset='0%25'%20stop-color='%23F9A03C'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23F7974E'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20id='b'%20x1='-258.924%25'%20x2='97.62%25'%20y1='-248.97%25'%20y2='98.768%25'%3e%3cstop%20offset='0%25'%20stop-color='%23F9A03C'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23F7974E'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20id='c'%20x1='-223.163%25'%20x2='94.028%25'%20y1='-261.968%25'%20y2='101.691%25'%3e%3cstop%20offset='0%25'%20stop-color='%23F9A03C'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23F7974E'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20id='d'%20x1='11.339%25'%20x2='82.496%25'%20y1='-1.822%25'%20y2='92.107%25'%3e%3cstop%20offset='0%25'%20stop-color='%23F26D58'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23F9A03C'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20id='e'%20x1='15.844%25'%20x2='120.126%25'%20y1='3.858%25'%20y2='72.38%25'%3e%3cstop%20offset='0%25'%20stop-color='%23B84E51'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23F68E48'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20id='f'%20x1='46.984%25'%20x2='51.881%25'%20y1='23.466%25'%20y2='147.391%25'%3e%3cstop%20offset='0%25'%20stop-color='%23F9A03C'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23F7974E'%3e%3c/stop%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20fill='url(%23a)'%20d='M255.52%20175.619c.115-1.115.197-2.24.261-3.371.078-1.339-80.562-77.85-80.562-77.85h-1.928s81.736%2086.215%2082.229%2081.22z'%3e%3c/path%3e%3cpath%20fill='url(%23b)'%20d='M83.472%20149.077c-.107.235-.213.47-.323.704-.114.246-.232.491-.349.734-2.57%205.36%2035.987%2043.053%2039.088%2038.474.141-.202.283-.416.424-.618.157-.24.312-.47.467-.71%202.48-3.765-38.206-41.032-39.307-38.584z'%3e%3c/path%3e%3cpath%20fill='url(%23c)'%20d='M137.957%20202.083c-.109.24-.885%201.552-1.594%202.245-.12.24%2037.64%2037.688%2037.64%2037.688h3.4c.002%200-35.446-38.35-39.446-39.933z'%3e%3c/path%3e%3cpath%20fill='url(%23d)'%20d='M255.835%20171.568c-1.766%2039.147-34.152%2070.448-73.72%2070.448h-5.35l-39.514-38.928c3.25-4.584%206.272-9.333%208.962-14.285h35.902c11.354%200%2020.594-9.235%2020.594-20.595%200-11.355-9.24-20.595-20.594-20.595h-21.246c1.619-8.557%202.504-17.381%202.504-26.408%200-9.165-.901-18.114-2.578-26.808h13.197l81.61%2080.414c.097-1.078.174-2.155.233-3.243zM21.467%200H0v53.213h21.467c37.493%200%2068%2030.499%2068%2067.992%200%2010.2-2.275%2019.883-6.318%2028.576l39.163%2038.59c12.859-19.24%2020.376-42.339%2020.376-67.166C142.688%2054.373%2088.307%200%2021.467%200z'%3e%3c/path%3e%3cpath%20fill='url(%23e)'%20d='M182.115%200H95.187C116.419%2012.963%20134%2031.344%20145.979%2053.213h36.136c11.354%200%2020.594%209.235%2020.594%2020.595%200%2011.357-9.24%2020.592-20.594%2020.592h-8.12l81.61%2080.413c.192-2.181.312-4.376.312-6.605%200-17.939-6.437-34.395-17.125-47.203%2010.688-12.802%2017.125-29.261%2017.125-47.197C255.917%2033.112%20222.813%200%20182.115%200z'%3e%3c/path%3e%3cpath%20fill='url(%23f)'%20d='M176.765%20242.016H95.808c16.296-10.064%2030.384-23.35%2041.443-38.928l39.514%2038.928zm-54.453-53.645l-39.16-38.59c-10.819%2023.251-34.395%2039.422-61.685%2039.422H0v53.208h21.467c42.01%200%2079.09-21.488%20100.845-54.04z'%3e%3c/path%3e%3c/svg%3e",Mde="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20viewBox='0%200%2016%2016'%20id='disqus'%3e%3cpath%20fill='%232196F3'%20d='M8.292%2015.5a7.805%207.805%200%200%201-4.984-1.779L0%2014.154l1.276-3.044A7.252%207.252%200%200%201%20.583%208C.583%203.857%204.036.5%208.291.5%2012.552.5%2016%203.857%2016%208s-3.448%207.5-7.708%207.5z'%3e%3c/path%3e%3cpath%20fill='%23FAFAFA'%20d='M8.341%204H5.5v8h2.801c2.65%200%204.199-1.715%204.199-4.022v-.021C12.5%205.651%2010.971%204%208.341%204zm2.062%204.005c0%201.296-.81%202.027-2.032%202.027h-.83v-4.07h.83c1.222%200%202.032.742%202.032%202.022v.021z'%3e%3c/path%3e%3c/svg%3e",Ede="/assets/docker-BvAc8O4h.svg",Tde="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M49%2038.2998C47.254%2038.7303%2046.174%2038.3187%2045.205%2036.908L38.314%2027.6642L37.318%2026.3844L29.2705%2036.9385C28.351%2038.2082%2027.3865%2038.7608%2025.6705%2038.3114L35.9755%2024.8995L26.3815%2012.7849C28.0315%2012.4737%2029.1715%2012.6322%2030.184%2014.0647L37.3315%2023.4234L44.5315%2014.1156C45.454%2012.846%2046.4455%2012.3632%2048.1015%2012.8315L44.3815%2017.6133L39.3415%2023.976C38.7415%2024.7032%2038.824%2025.2006%2039.376%2025.903L49%2038.2998ZM1.012%2024.6756L1.855%2020.6558C4.15%2012.7006%2013.555%209.39485%2020.041%2014.3105C23.8315%2017.2017%2024.7735%2021.2913%2024.586%2025.8725H3.22C2.899%2034.1186%209.0205%2039.0953%2016.825%2036.5561C19.5625%2035.6645%2021.175%2033.5863%2021.982%2030.9859C22.3915%2029.6829%2023.0695%2029.4792%2024.3325%2029.8516C23.6875%2033.1035%2022.2325%2035.8202%2019.1575%2037.5203C14.563%2040.0654%208.005%2039.2422%204.555%2035.7053C2.5%2033.6532%201.651%2031.0528%201.27%2028.2721C1.21%2027.8126%201.09%2027.3748%201%2026.9342C1.008%2026.1818%201.012%2025.4294%201.012%2024.677V24.6756ZM3.259%2024.1229H22.567C22.441%2018.1601%2018.6115%2013.9251%2013.378%2013.8888C7.633%2013.8451%203.508%2017.9798%203.259%2024.1229Z'%20fill='black'/%3e%3c/svg%3e",Rde="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1479_21476)'%3e%3cpath%20d='M2.04529%2027.5236C0.651571%2026.1298%200.651571%2023.8702%202.04529%2022.4764L23.4764%201.04529C24.8702%20-0.348429%2027.1298%20-0.348429%2028.5236%201.04529L49.9547%2022.4764C51.3484%2023.8702%2051.3484%2026.1298%2049.9547%2027.5236L28.5236%2048.9547C27.1298%2050.3484%2024.8702%2050.3484%2023.4764%2048.9547L2.04529%2027.5236Z'%20fill='%23EE513B'/%3e%3cpath%20d='M19.1342%205L17%207.17115L22.5122%2012.7787C22.2892%2013.2653%2022.1647%2013.8081%2022.1647%2014.3805C22.1647%2016.0054%2023.1683%2017.3919%2024.5793%2017.9334V31.6509C23.1683%2032.1923%2022.1647%2033.5788%2022.1647%2035.2038C22.1647%2037.3004%2023.8354%2039%2025.8963%2039C27.9573%2039%2029.628%2037.3004%2029.628%2035.2038C29.628%2033.7307%2028.8032%2032.4533%2027.5976%2031.8242V17.9521L32.8668%2023.3124C32.6546%2023.7892%2032.5366%2024.3185%2032.5366%2024.8759C32.5366%2026.9725%2034.2074%2028.6721%2036.2683%2028.6721C38.3293%2028.6721%2040%2026.9725%2040%2024.8759C40%2022.7793%2038.3293%2021.0797%2036.2683%2021.0797C35.8678%2021.0797%2035.4821%2021.1438%2035.1204%2021.2626L29.4614%2015.5058C29.5697%2015.1503%2029.628%2014.7722%2029.628%2014.3805C29.628%2012.2839%2027.9573%2010.5842%2025.8963%2010.5842C25.5112%2010.5842%2025.1398%2010.6436%2024.7902%2010.7538L19.1342%205Z'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1479_21476'%3e%3crect%20width='50'%20height='50'%20fill='white'%20transform='translate(0.820312)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Pde="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1479_21481)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M25.557%200.520996C11.7523%200.520996%200.558594%2011.7575%200.558594%2025.6216C0.558594%2036.7092%207.72108%2046.1167%2017.657%2049.436C18.907%2049.6666%2019.3633%2048.8916%2019.3633%2048.2265C19.3633%2047.6304%2019.3414%2046.0523%2019.3289%2043.9581C12.3742%2045.4751%2010.907%2040.5933%2010.907%2040.5933C9.7711%2037.6944%208.13204%2036.9226%208.13204%2036.9226C5.86173%2035.3648%208.30389%2035.3962%208.30389%2035.3962C10.8117%2035.5734%2012.132%2037.983%2012.132%2037.983C14.3633%2041.8184%2017.9836%2040.7109%2019.4086%2040.0678C19.6352%2038.4457%2020.282%2037.3398%2020.9961%2036.7124C15.4445%2036.0786%209.60858%2033.9263%209.60858%2024.3087C9.60858%2021.5682%2010.582%2019.3281%2012.182%2017.5727C11.9242%2016.9374%2011.0664%2014.3867%2012.4258%2010.9309C12.4258%2010.9309%2014.5258%2010.2563%2019.3008%2013.5035C21.2961%2012.9466%2023.4336%2012.6689%2025.5602%2012.658C27.6836%2012.6689%2029.8227%2012.9466%2031.8195%2013.5035C36.5914%2010.2563%2038.6867%2010.9309%2038.6867%2010.9309C40.0508%2014.3867%2039.193%2016.9374%2038.9351%2017.5727C40.5383%2019.3281%2041.5055%2021.5682%2041.5055%2024.3087C41.5055%2033.9499%2035.6602%2036.0723%2030.0914%2036.6935C30.9883%2037.4684%2031.7883%2038.9995%2031.7883%2041.3416C31.7883%2044.697%2031.757%2047.403%2031.757%2048.2265C31.757%2048.8979%2032.2071%2049.6791%2033.4758%2049.4329C43.4024%2046.1072%2050.5586%2036.706%2050.5586%2025.6216C50.5586%2011.7575%2039.3648%200.520996%2025.557%200.520996Z'%20fill='black'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1479_21481'%3e%3crect%20width='50'%20height='50'%20fill='white'%20transform='translate(0.558594)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Ide="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2019.1.1,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20width='240px'%20height='240px'%3e%3cpath%20style='fill:%2343A047;'%20d='M37,45H11c-1.657,0-3-1.343-3-3V6c0-1.657,1.343-3,3-3h19l10,10v29C40,43.657,38.657,45,37,45z'/%3e%3cpolygon%20style='fill:%23C8E6C9;'%20points='40,13%2030,13%2030,3%20'/%3e%3cpolygon%20style='fill:%232E7D32;'%20points='30,13%2040,23%2040,13%20'/%3e%3cpath%20style='fill:%23E8F5E9;'%20d='M31,23H17h-2v2v2v2v2v2v2v2h18v-2v-2v-2v-2v-2v-2v-2H31z%20M17,25h4v2h-4V25z%20M17,29h4v2h-4V29z%20M17,33h4v2h-4V33z%20M31,35h-8v-2h8V35z%20M31,31h-8v-2h8V31z%20M31,27h-8v-2h8V27z'/%3e%3c/svg%3e",Lde="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20enable-background='new%200%200%20128%20128'%20viewBox='0%200%20128%20128'%20id='gradle'%3e%3cpath%20fill='%2302303a'%20d='M99.5,112.5c-0.3,0-0.5,0-0.7,0c-4.5,0-9,0-13.5,0c-0.5,0-0.8-0.2-1.1-0.5c-3.2-4-6.7-7.7-10.9-10.6%20c-2.1-1.5-4.3-2.8-6.8-3.5c-2-0.6-4.1-0.9-6.2-0.4c-2.1,0.5-3.9,1.7-5.4,3.2c-1.9,1.9-3.2,4.2-4.2,6.7c-0.6,1.5-1.1,3-1.6,4.5%20c-0.1,0.2-0.1,0.4-0.2,0.6c-3.8,0-7.5,0-11.4,0c-0.1-0.6-0.2-1.2-0.3-1.9c-0.4-2-1-4-2-5.8c-0.7-1.4-1.6-2.6-2.8-3.6%20c-1.3-1.1-2.8-1.7-4.5-1.7c-1.3,0-2.4,0.5-3.5,1.2c-1.5,1-2.7,2.3-3.6,3.8c-1.4,2.2-2.2,4.7-2.9,7.2c-0.1,0.2-0.1,0.5-0.2,0.8%20c-5,0-9.9,0-14.9,0c-0.1-0.7-0.2-1.5-0.3-2.2c-0.5-4.7-0.8-9.4-0.7-14.1c0.1-5.5,0.7-10.9,2-16.3C5,75,6.7,70.4,9.3,66.2%20c3.6-5.7,8.4-9.8,14.7-12.3c0.2-0.1,0.3-0.1,0.5-0.2c0,0,0.1,0,0.2,0c0.1,0.2,0.2,0.4,0.3,0.6c1.8,4,3.7,7.9,6,11.5%20c1.4,2.3,3.4,4,5.9,4.8c2.7,0.9,5.3,0.6,7.9-0.5c2.3-1,4.2-2.5,6-4.2c2.1-2,3.8-4.2,5.5-6.6c0.1-0.1,0.1-0.2,0.1-0.3%20c-0.2,0.2-0.4,0.4-0.7,0.6c-2.5,2.5-5.2,4.7-8.3,6.4c-1.5,0.9-3.2,1.6-4.9,1.9c-2.5,0.5-4.8,0.2-6.8-1.6c-0.8-0.7-1.4-1.5-2-2.3%20c-3-4.7-5.6-9.6-8-14.6c-0.5-1-0.9-2-1-3.2c-0.2-1.7,0.3-3.2,1.5-4.5c0.9-0.9,1.9-1.6,3.1-2.2c2.2-1.1,4.5-1.9,6.8-2.7%20c3.4-1.1,6.9-1.9,10.5-2.4c4.1-0.6,8.3-0.7,12.5-0.2c9,0.9,17,4.2,24.3,9.5c2.5,1.8,5.1,3.3,8.1,4.2c11.9,3.8,21.4-4.4,23.6-12.8%20c0.6-2.3,0.8-4.6-0.1-6.8c-1.3-3.4-3.6-6-7.3-7c-2.8-0.7-5.5-0.4-8.1,1c-0.5,0.3-1,0.5-1.5,0.7c-1.2,0.4-2,0.1-2.6-1%20c-0.8-1.4-1.4-2.8-2.1-4.3c-0.3-0.6-0.2-1.1,0.1-1.6c0.3-0.7,0.8-1.2,1.4-1.7c1.5-1.2,3.3-2,5.3-2.4c4.9-1.1,9.5-0.4,13.9,1.8%20c3.5,1.7,6.2,4.3,8.2,7.7c1.9,3.2,3.2,6.6,3.8,10.3c0.4,2.9,0.4,5.7,0.1,8.6c-0.6,5-2,9.7-4,14.3c-2.6,6-5.6,11.8-9.3,17.2%20c-1.8,2.6-3.7,5.1-5.5,7.6c-1.9,2.7-3.8,5.4-5.2,8.4c-1.9,3.9-3,7.9-3.4,12.2c-0.3,3.7-0.1,7.3,0.5,11%20C99.4,111.7,99.5,112.1,99.5,112.5z%20M91.3,61.1c0.3,2.4-0.5,4-2.7,4.9C87,66.6,85,66.1,84,64.7c-1.6-2.1-1.1-4,0.7-5.8%20c-1.8-0.6-3.6-1.2-5.3-1.7c-0.4,1-0.6,2.5-0.5,3.7c0.2,2.4,1.1,4.4,3.1,5.7c2.1,1.4,4.5,2,7,1.5c2.6-0.5,4.6-2,6-4.2%20c0.3-0.4,0.5-0.8,0.5-1.4C94.1,62.1,92.7,61.6,91.3,61.1z'%3e%3c/path%3e%3c/svg%3e",Dde="/assets/gulp-BJYcIBFb.svg",Bde="data:image/svg+xml,%3csvg%20width='50'%20height='50'%20viewBox='0%200%2050%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.93359%2044.9219L2.92969%200H46.9727L42.9688%2044.9219L24.9023%2050'%20fill='%23E34F26'/%3e%3cpath%20d='M25%2046.0938L39.5508%2042.0898L42.9688%203.61328H25'%20fill='%23EF652A'/%3e%3cpath%20d='M25%2020.3125H17.6758L17.1875%2014.6484H25V9.17969H11.1328L12.5977%2025.8789H25V20.3125ZM24.9023%2034.668L18.75%2033.0078L18.3594%2028.6133H12.8906L13.5742%2037.3047L24.9023%2040.4297V34.668Z'%20fill='%23EBEBEB'/%3e%3cpath%20d='M24.9023%2020.3125V25.8789H31.7383L31.0547%2033.0078L24.9023%2034.668V40.4297L36.2305%2037.3047L37.793%2020.3125H24.9023ZM24.9023%209.17969V14.6484H38.2812L38.7695%209.17969H24.9023Z'%20fill='white'/%3e%3c/svg%3e",Fde="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2025.2.3,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20baseProfile='basic'%20id='Layer_10'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2064%2064'%20xml:space='preserve'%3e%3cpath%20style='fill:%2318AFFF;'%20d='M0.988,32C0.988,14.875,14.875,0.988,32,0.988S63.013,14.875,63.013,32S49.125,63.013,32,63.013%20S0.988,49.125,0.988,32z'/%3e%3cpath%20id='symbol_2_'%20style='fill:%23FFFFFF;'%20d='M55.932,37.024l-4.629-20.22c-0.244-1.096-1.279-2.192-2.375-2.497L27.674,7.791%20c-0.305-0.061-0.609-0.122-0.914-0.122c-0.914,0-1.888,0.365-2.436,0.914L9.098,22.712c-0.792,0.731-1.279,2.192-1.035,3.289%20l4.933,21.62c0.244,1.096,1.279,2.192,2.375,2.497l19.854,6.09c0.305,0.061,0.609,0.122,0.914,0.122%20c0.914,0,1.888-0.365,2.436-0.914l16.261-15.104C55.75,39.582,56.176,38.121,55.932,37.024z%20M29.866,12.542l14.556,4.446%20c0.548,0.183,0.548,0.426,0,0.548l-7.674,1.766c-0.609,0.122-1.401-0.122-1.766-0.548l-5.359-5.786%20C29.196,12.603,29.318,12.42,29.866,12.542z%20M38.941,38.669c0.122,0.609-0.244,0.914-0.792,0.731l-15.713-4.811%20c-0.548-0.183-0.67-0.67-0.244-1.035l12.059-11.206c0.426-0.426,0.914-0.244,1.035,0.305L38.941,38.669z%20M13.057,24.418%20l12.79-11.876c0.426-0.426,1.096-0.365,1.523,0.061l6.395,6.882c0.426,0.426,0.365,1.096-0.061,1.523l-12.79,11.876%20c-0.426,0.426-1.096,0.365-1.523-0.061l-6.395-6.882C12.631,25.514,12.631,24.844,13.057,24.418z%20M16.163,43.297l-3.411-14.799%20c-0.122-0.609,0.061-0.67,0.487-0.244l5.359,5.786c0.426,0.426,0.609,1.279,0.426,1.827l-2.314,7.491%20C16.589,43.846,16.285,43.846,16.163,43.297z%20M34.86,51.885l-16.626-5.116c-0.548-0.183-0.914-0.792-0.731-1.34l2.741-9.014%20c0.183-0.548,0.792-0.914,1.34-0.731L38.21,40.8c0.548,0.183,0.914,0.792,0.731,1.34L36.2,51.154%20C36.017,51.763,35.408,52.067,34.86,51.885z%20M49.659,39.765L38.514,50.118c-0.426,0.426-0.67,0.244-0.487-0.305l2.314-7.491%20c0.183-0.548,0.792-1.157,1.401-1.279l7.674-1.766C49.964,39.156,50.086,39.4,49.659,39.765z%20M50.878,37.573l-9.196,2.071%20c-0.609,0.122-1.157-0.244-1.279-0.792L36.505,21.86c-0.122-0.609,0.244-1.157,0.792-1.279l9.196-2.071%20c0.609-0.122,1.157,0.244,1.279,0.792l3.898,16.992C51.791,36.842,51.426,37.451,50.878,37.573z'/%3e%3c/svg%3e",Ode="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20id='java'%3e%3cpath%20fill='%230074BD'%20d='M47.617%2098.12s-4.767%202.774%203.397%203.71c9.892%201.13%2014.947.968%2025.845-1.092%200%200%202.871%201.795%206.873%203.351-24.439%2010.47-55.308-.607-36.115-5.969zM44.629%2084.455s-5.348%203.959%202.823%204.805c10.567%201.091%2018.91%201.18%2033.354-1.6%200%200%201.993%202.025%205.132%203.131-29.542%208.64-62.446.68-41.309-6.336z'%3e%3c/path%3e%3cpath%20fill='%23EA2D2E'%20d='M69.802%2061.271c6.025%206.935-1.58%2013.17-1.58%2013.17s15.289-7.891%208.269-17.777c-6.559-9.215-11.587-13.792%2015.635-29.58%200%20.001-42.731%2010.67-22.324%2034.187z'%3e%3c/path%3e%3cpath%20fill='%230074BD'%20d='M102.123%20108.229s3.529%202.91-3.888%205.159c-14.102%204.272-58.706%205.56-71.094.171-4.451-1.938%203.899-4.625%206.526-5.192%202.739-.593%204.303-.485%204.303-.485-4.953-3.487-32.013%206.85-13.743%209.815%2049.821%208.076%2090.817-3.637%2077.896-9.468zM49.912%2070.294s-22.686%205.389-8.033%207.348c6.188.828%2018.518.638%2030.011-.326%209.39-.789%2018.813-2.474%2018.813-2.474s-3.308%201.419-5.704%203.053c-23.042%206.061-67.544%203.238-54.731-2.958%2010.832-5.239%2019.644-4.643%2019.644-4.643zM90.609%2093.041c23.421-12.167%2012.591-23.86%205.032-22.285-1.848.385-2.677.72-2.677.72s.688-1.079%202-1.543c14.953-5.255%2026.451%2015.503-4.823%2023.725%200-.002.359-.327.468-.617z'%3e%3c/path%3e%3cpath%20fill='%23EA2D2E'%20d='M76.491%201.587s12.968%2012.976-12.303%2032.923c-20.266%2016.006-4.621%2025.13-.007%2035.559-11.831-10.673-20.509-20.07-14.688-28.815%208.548-12.834%2032.229-19.059%2026.998-39.667z'%3e%3c/path%3e%3cpath%20fill='%230074BD'%20d='M52.214%20126.021c22.476%201.437%2057-.8%2057.817-11.436%200%200-1.571%204.032-18.577%207.231-19.186%203.612-42.854%203.191-56.887.874%200%20.001%202.875%202.381%2017.647%203.331z'%3e%3c/path%3e%3c/svg%3e",kde="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1479_21409)'%3e%3cpath%20d='M43%200H8C3.85786%200%200.5%203.35786%200.5%207.5V42.5C0.5%2046.6421%203.85786%2050%208%2050H43C47.1421%2050%2050.5%2046.6421%2050.5%2042.5V7.5C50.5%203.35786%2047.1421%200%2043%200Z'%20fill='%23F0DB4F'/%3e%3cpath%20d='M32.1406%2036.1328C33.1172%2037.793%2034.4844%2038.9648%2036.7305%2038.9648C38.6836%2038.9648%2039.9531%2037.9883%2039.9531%2036.6211C39.9531%2035.0586%2038.6836%2034.4727%2036.5352%2033.4961L35.3633%2033.0078C31.9453%2031.543%2029.6992%2029.7852%2029.6992%2025.9766C29.6992%2022.4609%2032.3359%2019.7266%2036.5352%2019.7266C39.5625%2019.7266%2041.7109%2020.8008%2043.1758%2023.5352L39.5625%2025.8789C38.7812%2024.4141%2037.9023%2023.8281%2036.5352%2023.8281C35.168%2023.8281%2034.2891%2024.707%2034.2891%2025.8789C34.2891%2027.2461%2035.168%2027.832%2037.2188%2028.7109L38.3906%2029.1992C42.3945%2030.957%2044.6406%2032.6172%2044.6406%2036.6211C44.6406%2040.8203%2041.3203%2043.1641%2036.8281%2043.1641C32.4336%2043.1641%2029.6016%2041.1133%2028.2344%2038.3789L32.1406%2036.1328ZM15.5391%2036.5234C16.3203%2037.793%2016.9062%2038.9648%2018.5664%2038.9648C20.1289%2038.9648%2021.1055%2038.3789%2021.1055%2036.0352V19.8242H25.793V35.8398C25.793%2040.7227%2022.9609%2042.8711%2018.7617%2042.8711C14.9531%2042.8711%2012.8047%2040.918%2011.7305%2038.5742L15.5391%2036.5234Z'%20fill='%23323330'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1479_21409'%3e%3crect%20width='50'%20height='50'%20fill='white'%20transform='translate(0.5)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Nde="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20id='jquery'%3e%3cpath%20fill='%230868AC'%20d='M9.625%2032.181c-11.029%2015.851-9.656%2036.476-1.231%2053.32.2.404.41.801.617%201.198l.394.759.246.437.439.786c.262.461.53.92.804%201.379l.459.756c.304.491.615.976.933%201.46l.398.614c.439.655.888%201.309%201.352%201.951l.039.05.228.308c.401.553.814%201.099%201.232%201.639l.464.59c.373.469.752.935%201.138%201.399l.435.52c.518.61%201.047%201.217%201.586%201.812l.033.033.061.068c.527.575%201.066%201.137%201.612%201.699l.517.521c.423.426.853.845%201.287%201.262l.527.5c.58.547%201.166%201.083%201.764%201.607l.028.022.307.262c.527.456%201.063.909%201.603%201.353l.664.529c.441.354.887.702%201.336%201.044l.714.543c.496.365.995.724%201.499%201.075l.546.387.15.107c.478.329.967.646%201.456.963l.63.42c.75.474%201.51.943%202.279%201.396l.63.355c.565.326%201.134.646%201.71.959.312.168.632.327.946.488.407.213.811.429%201.225.636l.283.137.501.242c.641.306%201.287.607%201.94.897l.41.184c.748.327%201.502.641%202.263.941l.551.217c.704.271%201.418.539%202.135.791l.268.093c.787.275%201.581.53%202.381.779l.575.172c.814.245%201.619.538%202.458.693%2053.339%209.727%2068.833-32.053%2068.833-32.053-13.013%2016.953-36.111%2021.425-57.996%2016.446-.829-.187-1.633-.446-2.442-.685l-.609-.185c-.79-.242-1.573-.497-2.352-.765l-.323-.117c-.698-.245-1.387-.504-2.074-.769l-.582-.229c-.752-.297-1.5-.607-2.239-.931l-.447-.198c-.635-.288-1.263-.578-1.889-.879l-.546-.262c-.491-.239-.977-.493-1.461-.743-.324-.171-.654-.332-.975-.51-.592-.317-1.172-.646-1.751-.982l-.591-.33c-.769-.452-1.528-.921-2.28-1.397l-.615-.41c-.545-.351-1.088-.709-1.623-1.079l-.522-.367c-.516-.365-1.027-.734-1.534-1.109l-.679-.514c-.465-.355-.927-.713-1.384-1.082l-.617-.495c-.582-.479-1.156-.959-1.724-1.453l-.189-.159c-.614-.539-1.216-1.092-1.812-1.647l-.511-.491c-.441-.42-.875-.843-1.302-1.277l-.51-.509c-.543-.556-1.076-1.119-1.598-1.69l-.079-.084c-.552-.604-1.092-1.221-1.621-1.844l-.424-.504c-.394-.475-.785-.956-1.167-1.442l-.427-.532c-.459-.596-.908-1.189-1.347-1.794-12.15-16.574-16.516-39.432-6.805-58.204M43.862%2018.825c-7.977%2011.478-7.543%2026.844-1.321%2038.983%201.043%202.035%202.216%204.01%203.528%205.889%201.195%201.713%202.52%203.751%204.106%205.127.575.633%201.176%201.251%201.79%201.858l.472.465c.596.578%201.201%201.146%201.828%201.698l.074.064.018.018c.693.608%201.408%201.191%202.135%201.767l.485.378c.729.559%201.472%201.107%202.233%201.631l.065.049c.336.232.678.448%201.019.672l.483.319c.544.349%201.095.689%201.655%201.015l.235.136c.483.278.972.552%201.463.818l.521.271c.339.177.678.358%201.023.53l.155.07c.703.346%201.412.68%202.136.995l.472.194c.579.246%201.164.486%201.75.71l.75.275c.533.198%201.068.378%201.607.559l.727.233c.767.238%201.525.539%202.324.672%2041.183%206.823%2050.691-24.886%2050.691-24.886-8.57%2012.343-25.168%2018.233-42.879%2013.635-.787-.207-1.562-.431-2.333-.674l-.701-.227c-.548-.177-1.092-.365-1.631-.562l-.736-.274c-.592-.228-1.176-.462-1.756-.708l-.473-.2c-.727-.316-1.443-.65-2.148-.999-.363-.177-.72-.364-1.078-.548l-.622-.32c-.458-.248-.914-.506-1.363-.77l-.326-.185c-.558-.325-1.107-.661-1.651-1.008l-.498-.332c-.359-.232-.717-.469-1.069-.707-.759-.524-1.498-1.072-2.226-1.628l-.501-.395c-7.752-6.12-13.898-14.486-16.819-23.971-3.062-9.836-2.402-20.878%202.903-29.84M72.657%208.847c-4.702%206.92-5.164%2015.514-1.901%2023.156%203.441%208.113%2010.491%2014.476%2018.72%2017.495.339.125.679.237%201.022.354l.451.143c.485.152.966.329%201.467.424%2022.74%204.394%2028.908-11.669%2030.549-14.034-5.402%207.779-14.482%209.646-25.623%206.942-.88-.213-1.847-.531-2.695-.832-1.088-.388-2.16-.83-3.201-1.329-1.978-.951-3.864-2.104-5.612-3.424-9.969-7.565-16.162-21.994-9.657-33.745'%3e%3c/path%3e%3c/svg%3e",fX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAAkCAYAAAAU/hMoAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADQSURBVHgB7dZbDcJAEIXhsyhAAhKQgAQcUAcEBYACwAEScAAScNA6oA6GmXBJQ7PLy6Z7AvMn002bPnxJL1ngnxKRsQ1YU9xS5yaPdmBLUWvpNwNLEaBVgaEEsNaZoHQJoL2XU5TOgQ50oAMdyAcM3RMD6rKJ3LvSuWLgQgiXN/ILsGRNFykgbWQHYd5R44nU597qcgBn7eeHc9RlEbl5q9Ng+E69KwaN/IJqYdjMvnJo7hyaO4fmzqG5+xUoz4YlAa3AVAQ6B1uK2neAZ2TuDowwQPaAXCjgAAAAAElFTkSuQmCC",pX="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='64'%20height='64'%3e%3cpath%20d='M0%200%20C17.82%200%2035.64%200%2054%200%20C54%2017.82%2054%2035.64%2054%2054%20C36.18%2054%2018.36%2054%200%2054%20C0%2036.18%200%2018.36%200%200%20Z%20M2%203%20C1.8988308%206.09081465%201.86031442%209.15882555%201.8671875%2012.25%20C1.86623077%2013.17844727%201.86527405%2014.10689453%201.86428833%2015.06347656%20C1.86360645%2017.03059965%201.86546128%2018.99772496%201.86962891%2020.96484375%20C1.87497705%2023.98703026%201.86968418%2027.00906815%201.86328125%2030.03125%20C1.86394203%2031.93750033%201.86522319%2033.84375057%201.8671875%2035.75%20C1.86516327%2036.66040039%201.86313904%2037.57080078%201.86105347%2038.50878906%20C1.46108668%2042.57663678%201.46108668%2042.57663678%203%2046%20C4.50418739%2046.09311889%206.01271356%2046.11746028%207.51977539%2046.11352539%20C8.48069595%2046.11344986%209.44161652%2046.11337433%2010.43165588%2046.11329651%20C11.476436%2046.10813522%2012.52121613%2046.10297394%2013.59765625%2046.09765625%20C15.19364906%2046.09553383%2015.19364906%2046.09553383%2016.82188416%2046.09336853%20C20.23545083%2046.08775064%2023.648953%2046.07519511%2027.0625%2046.0625%20C29.37044176%2046.05748731%2031.67838455%2046.052924%2033.98632812%2046.04882812%20C39.65757426%2046.0377754%2045.32878253%2046.02101987%2051%2046%20C52.71376612%2042.57246776%2052.1414536%2038.64203256%2052.1328125%2034.87109375%20C52.13376923%2033.96625748%2052.13472595%2033.0614212%2052.13571167%2032.12916565%20C52.13639273%2030.21509736%2052.13454361%2028.30102676%2052.13037109%2026.38696289%20C52.12501561%2023.44607396%2052.13032178%2020.50533733%2052.13671875%2017.56445312%20C52.13605808%2015.70833299%2052.13477714%2013.85221296%2052.1328125%2011.99609375%20C52.13483673%2011.11070419%2052.13686096%2010.22531464%2052.13894653%209.31309509%20C52.52359376%205.33964707%2052.52359376%205.33964707%2051%202%20C49.50129952%201.90168854%2047.99801461%201.87201544%2046.49609375%201.87060547%20C45.53840088%201.86745331%2044.58070801%201.86430115%2043.59399414%201.86105347%20C42.55235107%201.8630777%2041.51070801%201.86510193%2040.4375%201.8671875%20C39.37587646%201.86623077%2038.31425293%201.86527405%2037.22045898%201.86428833%20C34.97086528%201.86360636%2032.72126963%201.86546181%2030.47167969%201.86962891%20C27.01492929%201.8749769%2023.55830883%201.86968446%2020.1015625%201.86328125%20C17.92187471%201.86394203%2015.742187%201.86522318%2013.5625%201.8671875%20C12.52085693%201.86516327%2011.47921387%201.86313904%2010.40600586%201.86105347%20C8.96946655%201.86578171%208.96946655%201.86578171%207.50390625%201.87060547%20C6.65642822%201.87140106%205.8089502%201.87219666%204.93579102%201.87301636%20C2.9934287%201.78680292%202.9934287%201.78680292%202%203%20Z%20M2%2048%20C2.33%2049.32%202.66%2050.64%203%2052%20C18.84%2052%2034.68%2052%2051%2052%20C51.33%2050.68%2051.66%2049.36%2052%2048%20C35.5%2048%2019%2048%202%2048%20Z%20'%20fill='%23000000'%20transform='translate(5,5)'/%3e%3cpath%20d='M0%200%20C-0.62388892%203.61855575%20-1.1709277%204.1709277%20-4%207%20C2.93%207.495%202.93%207.495%2010%208%20C10%208.66%2010%209.32%2010%2010%20C5.38%2010.33%200.76%2010.66%20-4%2011%20C-2.68%2012.32%20-1.36%2013.64%200%2015%20C0%2015.99%200%2016.98%200%2018%20C-4.62983765%2017.15270945%20-7.29394589%2014.77930268%20-10%2011%20C-10.30572272%207.94277283%20-9.57315346%206.71389825%20-7.6796875%204.35546875%20C-3.62002342%200%20-3.62002342%200%200%200%20Z%20'%20fill='%23000000'%20transform='translate(32,17)'/%3e%3c/svg%3e",Ude="/assets/libgdx-Do4k-CLf.svg",VI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAO5UlEQVR4nO1da1RUV5a+00mvXkns6ZlZazrz6F7zozPTE5PuWR07kfiMifgWjAm2tkk60VYRQSOIgIUUxmei0RiJAkW97q0qE5+JRo2Rl4iAPEQE0UIQozyjq9uo3Ya6Z589a9dDCwKkboEBL/WtdRb8qXuqvu+cvffdd599BSGAAAIIIIAAAggggAACCGCAIKEJ/zWxFadrmmFNQhN8nNAEx+IboGT5VciPbYAvll2BtOivMHpJPT4/vxR/3NffVxXQtuKgpFZcmNgM+YnNwDXNHFc0cUxo4hjfyDGugePyBo7LrnKMucIx+iuOb3/FcfFluLH4EhijLuHovv4NDyQ2NuNj2lZITmqBv6xs4ZjYwtFX8pdc5ri4nmPUJY6LLnGMqIXihTU4rq9/0wODVV/jZG0rXElq5dhj8us4LqzluOAix/k1sG9uHT7e17+v30KL+HByK2zRtgDvffI5zqvhONcOzXPO45i+/q39Dltr8Cfar2GPtpXj/SOf45wLHN86D21vVOOsvv7N/QbaRnxU2wrZPwz5HP9UzfH1cwCvVeNMYaBD2wfkv+EUgONrldA2uxJfEAYy+cmtkNUn5Fdx/GMlx1mV0BJWhf8mDDRo+3Ll3yWf48yzHMMqYI8wkKDtR+TPqOAYdoZj2GkMFgYC3r+Cj/Q38l8t5/jyaSgSBkKcr22FAz0lP7IOmiLq4MOIOnx14UUcNs+OY+fXYPg8OxyYewGYUvKnOwXgOO20ytMW2q/hw56QH1UPclQdapZewUe6mmOuHZ98qxpyFJNfxnFqCRgEtULbgtN6cocbVQ83I+twrC9zjc7Bh1+vBoMS8kNKOU4phr/SZwW14d1r+FNtCzT1iPxaHK5kTkpHv1YFOb6SP7WE4+RijpNL8DlBbdC2wIYfknwPZlfh4FmVwHwlf1Ixx/GFuERQE+Jv4D8ntcBNpeSTs110yX/yPZhZAQd9JX/CKY7ji2C7oCYktWCMEvKXEPF1ztTxrXA7juzp/GFncKHv5HMMLoBDgpqQ2AzlvpIfVc9xgZ3jm1X4tzeqe+cBCt1g+Ux+IcexBZAnqAWaJvwvX8mPvAQ47zzHWWeYY0YZTu2t7xB2Bkf4Tj7HF09CoaAWJLbiG76TDzizDDC0UH7P8/n5KThq03Y256MMR9THRjYzx4y/L9jV9T1AZ3ilHGf4Tj7HMflwTFALNM2wxXfyGY7LdVwLK8BH5upuPZ6Qgds+0KGo18O2vUZYlyuyuCIRl9Za8a2Lu/AJX7/DtNOQ4jv5HEfngVVQCxIa4XNfV35wtozDP3fsGbsFn1yZKu98N53tNWRAym4DvJsjsoRTZhZTa8PwWisuoOGLCFNK8dFpZdDiM/knAEceh2RBLUhohGJfVj6R/7v9Mg7bK2+K2u7IWZPGDqXoZLNZD9uyzUxTJLHYGitG1FlxoUeEGhvOKT2Aj3Y3f2gprlRC/qg8wGG5coigFsQ3QLWv5D8pOTBK77AnpLLitemOw+kZoPvYiJvzTLjinA0X11kxwlsEMkfZVhzS1dwhp3FsSCnISsgfkcsgqAD/RVALljdAZfdmx+Ekf7DFgeESYJxRbohPg5J16exwuk7W7zTAljwzaipEtvSiDRd5RCiRMJp8wi4z+0Nn84aexmFTS+GmIvKP0+pnuYKaENsAhV2vfAf+bp8DB4ttuFACjCYBRPn68lS5Ym06O5KSLltFE3yUKTJtvsRWkAi0E8gckU8gx5yiY5Ed55xegsP9IX94LmBQNlsgqAnLrsAn3ZmdwZIDIyTAGPdYbmF3YlPlqnfSWPaGNHbQpIM0qwE+JBFoJ5A5yjajhhwzRUcb09ifeov853PY9d8exccENSH6K1jdKfm08t3kx0qAyyxuEUSZx+scdQnprGx9OjuyScf2kQi0E8gckU8gx0zR0ZZ0WZqf4hjhmSu0CEdOKfGXfMChWSxRUBuW1uOkrlZ+JK14twBOEcgMifQ/a4tNZVWJaewUibAhDQ6mpIM1XQ96cswpOjBTiBqfBh965pl4HF+cWAi3phT7R35QFqsPKlB2g/dAYEk5/tOfL8htHVd+lMVF/nL3X6cAomsXkAhxknybREhIY2VkjsgnkGOm6IhC1ESdbAvfjj+nOUblyiFj8+H2pFN+k8+fPSZPENSKGWWQ05H8OHK4HhFIANElgLcIy0S5bbnOUUc+gRxzfKpcSiHq4h0sd/zmtqeCRXxs2FHY9EIuk8ef5EgCKCY/G/DZTLib+lAlxp9gizxmJ0oCTJAA4z0ikADid0WgiGipSEPmy0R2J9bErscaWEOEHuxDbPDBb/axfb8/BNdGZTEclw84schP8rNgf9gufEh4ELKamlZ8fUUzbHalF6A0vhEuxDXA2eUNUETRDjncmMs4Oa4Of+b92dGID/+fpe32EgvgChLA4hbBGXZ+V4QY96Bd4BIB8G0z4Dwz4H8bHPjEThmfOeBAIj/YST74S352v7b7ridZGKMknx95CfDPNdA26zRkTT2J87WIP9Ju+9t/rN4JVRoJUOMRgQQQ24tA5N/1BR1EmG8GfMJJvgOfOcBwZCaRz3tE/pDvSWP09QP0DUofI0Z2Eu08s7Pt1vpPWEWGAQ4mW+VvPSIkuMn3iOC9AzymKNotwoJ25MteK5+rj/xVLRia1AKNSh+gR3ZC/lOSw7l6V0qAa2zszlYrq0qUZL5CdO8CLxGcZsjsEsIjAJEfTmbH6DE7stfKVxn5zoo1Kpryo24nsgvyyZEmSS4BVlror8zXWtlNjcjaieB0xvSXdoH5ngALO5Cv2pXvrtX0q1wwspPEGpFPq1drAdR6RHDvhEQRMNnCGJkiEsHjC+4KQDvADBhhBvyV/p7ZUe/K70F9fmQXK5/uaFdJgMmSlwhiexG0VsY0IvCETkRY1NvkZ8Kn/TLauR/kx0qA71hcAtwVgYZ4T4REcsQi4BoLu7lClNuJsKhdqOltdvyIdrIYfy4L3u+XcX7vke+4S36cm/x3vERIptUu3hPBKYBnmGW+xcKqkixwh0SI6pR8P1d+Frv6XLY8WVDb4YjOVv7TbvJXW1zDI4JHAI8I5Avu7gKzS4RVVrhDIeoqCzv3v2bHre+Sr3TlsxtB2bC636aV7wf58RbAtRbANR4RJLcAYnsRkrwGiaAxu0zRWhuc1Rjwl2GIDw09zCJG5UDW2Hz5W2Xks5KgHPb2kGPt78JVczKlM7PztMXhtNvr3ALcFUH6rghOM9RBgER3iuFJse1WRzs94TD+46RTOGH8KVg1rgh2BhdCwUsFUD4mH6pfOAHFo/Pgs5F5sGnYcTY7KBP/U3hATqB/5g/5VC5IFWuuuh35WtAhx95hu+RtyUb58kYTu/aemX3zrsTa1ooM19JNl3hPhI5myNsZL/Wy+cO+wHmCmuE8/u8H+VQeTrWas8qZI6QANgYfxcde3t729Lp0VrI1g53fqmPnN2ewixvTWd1GA2tcJzGHR4R3vHZBRxGizYD/4+VwR+dipqDqxhd+nkyhKuU3z7HbrxTJoXStqPTrv9ihhy+MBlZk0EOhXs+cI1UPpZvT2YWNOla3XoK/O00RieAe3iJEdxLtjCuAb0Py8aeCSlu++NV1hOrzqUT8tTP4outq+A9bDWizGNiJvSb84lMjHNpnhEMfG+FLk57lZ2Swwq0ZUEUi0E5wmqIOIkSbukqsAZLNF9QGZ78dP0+m0OEI7/p8bao8YbcRsj43wYEjZtz/pRl2HzXDns9NsP+ACT6VDJBLIjh3gkFuXC0ylylykx/TbuV7Usr3cjvkcAXVdZrys9lRZ8eCTBks7rARDmaJuLtYQmOJBQwlFtAXWsB0xAx7SATaCWSOyCesF1kb7QAayyilbOxi5btDTYp2BDVhZStG9OaZrN0mXJ8twu4yCY3lVsyokmBHtQ23l1lQRyLQTiBzRD6BHPMGE/uGfAFlN+9lNbt+kjW2EPIFNWFlM5xUTP4luL2ovvPuIcckFlsqobncivqLNvzITsOKKSQC7QQyR+QTSICtGXD+PSO7Rullb5vfbWLtJFQIquouqKDBnecQ9OJafKmra+abcVKFDQ12K+6w23C7R4QqCXeQOSKfQI6ZoiMKUZMz5Cu/VpBYG3MSzglqgau1o8LeC3Wo6e6aVbtwkN2GH9TYMNVbBDJHRSKYDovw6R4jHKUQdb1OLnvOJO/ozuZ3cjJFPb0aVjTDaqW9F7o7/u9BrRWH2HfiDo8IZI7IJ5BjpujIYoATO3Ts6MyP8LdP7Yd97R+gf+/JlAOCWuBqaup71xFqfOHrte02HGq34hYyR+QTyDFTdEQh6la9bH077fa/j96Fg4YclK8ryeePPA7vC2pBQiNkKWv5gq8quX7VLhx0woITv7RgzG4TrDdmsFhN2r1jpc9/iZuVPkyhxJqgFsQ1QpGSfjsLenga3RsjMuVpVC7oqljzPaX8QGQ1fUXcVTippNkR9dvpjXknHscXX8pnt8cXKHySlcOKBTXB2chaUacpDO/pnCGncNTEQleVstJCWXqYIqgJ1EVcUZsve88ikGmlOGJKsb/1+exGv36S5Q+ohbuiHmsXgFGnKX/Jn1oCt/w9mULPcAW1YWk9BiltcPfmechV2nN/Wk/Jz2JXR+fgIEFtICKXXIZvFHcXPAdGX0V4uQSDe0g+77elI70B18sLlLd2nF0FudRpqrvj/6HOE+gKD0F3qFijoilBzaA3R/SgnS+jTlPOZkenMXh6OQ5/uRzDqPFFaBk0Kz3+31m5YL+sWOttRNTCqd5oaqqs3w5/sE+m9CbotR39jfwh/bFK+X6CXtsRIL8PEV6LP59jh6a+Xfksb7Aaw01fQe9Modd2BMxOH4LemUKv7QjY/D7E65U4fXYl3PlBzE4mfDZgoh0l+GMljpl1FprvG/lZjD+bCRsHRJzvL2aexcdnVMC+3iZ/aDa7rOrGF72NV8px3PRyKO45+ez60Cy2csDF+L2F0BJ8IaQUTFOK4YaSBnfDc1heUA4LV2VGsy9ALy+YUIRBE4pw6bhCSA0uhCMvnYT8MflQTB1lR50A28jjsGrkcTlUVd0FAwgggAACCCCAAAIIIIAAhO7x/wW3k/X80jrsAAAAAElFTkSuQmCC",zde="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='25'%20viewBox='0%200%2024%2025'%20fill='none'%3e%3cpath%20d='M22.2975%201H2.69805C1.75918%201%201%201.74121%201%202.65762V22.3379C1%2023.2543%201.75918%2024%202.69805%2024H22.2975C23.2363%2024%2024%2023.2543%2024%2022.3424V2.65762C24%201.74121%2023.2363%201%2022.2975%201ZM7.82363%2020.5994H4.40957V9.62051H7.82363V20.5994ZM6.1166%208.12461C5.02051%208.12461%204.13555%207.23965%204.13555%206.14805C4.13555%205.05645%205.02051%204.17148%206.1166%204.17148C7.2082%204.17148%208.09316%205.05645%208.09316%206.14805C8.09316%207.23516%207.2082%208.12461%206.1166%208.12461ZM20.5994%2020.5994H17.1898V15.2627C17.1898%2013.9914%2017.1674%2012.3518%2015.4154%2012.3518C13.641%2012.3518%2013.3715%2013.7398%2013.3715%2015.1729V20.5994H9.96641V9.62051H13.2367V11.1209H13.2816C13.7354%2010.2584%2014.8494%209.34648%2016.507%209.34648C19.9615%209.34648%2020.5994%2011.6195%2020.5994%2014.5754V20.5994Z'%20fill='%230288D1'/%3e%3c/svg%3e",jde="/assets/linux-DP4ysyC7.svg",Hde="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1479_21496)'%3e%3cpath%20d='M25.7715%2050C39.5786%2050%2050.7715%2038.8071%2050.7715%2025C50.7715%2011.1929%2039.5786%200%2025.7715%200C11.9644%200%200.771484%2011.1929%200.771484%2025C0.771484%2038.8071%2011.9644%2050%2025.7715%2050Z'%20fill='%2313AA52'/%3e%3cpath%20d='M32.4546%2021.9453C30.8755%2014.9761%2027.1436%2012.6846%2026.7417%2011.8091C26.3023%2011.1914%2025.857%2010.0928%2025.857%2010.0928C25.8497%2010.0742%2025.8379%2010.0415%2025.8243%2010.0098C25.7789%2010.6274%2025.7554%2010.8657%2025.1714%2011.4888C24.2671%2012.1958%2019.6275%2016.0889%2019.2501%2024.0068C18.898%2031.3916%2024.5845%2035.792%2025.3536%2036.353L25.441%2036.415V36.4097C25.4459%2036.4468%2025.6851%2038.1675%2025.8531%2039.9907H26.4556C26.597%2038.7019%2026.8089%2037.4219%2027.0904%2036.1562L27.1392%2036.1245C27.4832%2035.8779%2027.8112%2035.6096%2028.1211%2035.3213L28.1563%2035.2896C29.7911%2033.7793%2032.73%2030.2861%2032.7012%2024.7168C32.6951%2023.7878%2032.6127%2022.8608%2032.4546%2021.9453ZM25.7891%2032.1836C25.7891%2032.1836%2025.7891%2021.8262%2026.1309%2021.8281C26.3975%2021.8281%2026.7427%2035.188%2026.7427%2035.188C26.2681%2035.1309%2025.7891%2032.9893%2025.7891%2032.1836Z'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1479_21496'%3e%3crect%20width='50'%20height='50'%20fill='white'%20transform='translate(0.771484)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Gde="data:image/svg+xml,%3csvg%20width='50'%20height='50'%20viewBox='0%200%2050%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2026.7281V5.07812L18.75%2015.9031V23.1198L6.25%2015.9031V30.3365L0%2026.7281Z'%20fill='%2300B0FF'/%3e%3cpath%20d='M18.75%2015.9031L37.5%205.07812V26.7281L25%2033.9448L18.75%2030.3365L31.25%2023.1198V15.9031L18.75%2023.1198V15.9031Z'%20fill='%230081CB'/%3e%3cpath%20d='M18.75%2030.3364V37.5531L31.25%2044.7698V37.5531L18.75%2030.3364Z'%20fill='%2300B0FF'/%3e%3cpath%20d='M31.25%2044.7698L50%2033.9448V19.5115L43.75%2023.1198V30.3365L31.25%2037.5531V44.7698ZM43.75%2015.9031V8.68646L50%205.07812V12.2948L43.75%2015.9031Z'%20fill='%230081CB'/%3e%3c/svg%3e",Vde="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20id='mysql'%3e%3cpath%20fill='%2300618A'%20d='M116.948%2097.807c-6.863-.187-12.104.452-16.585%202.341-1.273.537-3.305.552-3.513%202.147.7.733.809%201.829%201.365%202.731%201.07%201.73%202.876%204.052%204.488%205.268%201.762%201.33%203.577%202.751%205.465%203.902%203.358%202.047%207.107%203.217%2010.34%205.268%201.906%201.21%203.799%202.733%205.658%204.097.92.675%201.537%201.724%202.732%202.147v-.194c-.628-.8-.79-1.898-1.366-2.733l-2.537-2.537c-2.48-3.292-5.629-6.184-8.976-8.585-2.669-1.916-8.642-4.504-9.755-7.609l-.195-.195c1.892-.214%204.107-.898%205.854-1.367%202.934-.786%205.556-.583%208.585-1.365l4.097-1.171v-.78c-1.531-1.571-2.623-3.651-4.292-5.073-4.37-3.72-9.138-7.437-14.048-10.537-2.724-1.718-6.089-2.835-8.976-4.292-.971-.491-2.677-.746-3.318-1.562-1.517-1.932-2.342-4.382-3.511-6.633-2.449-4.717-4.854-9.868-7.024-14.831-1.48-3.384-2.447-6.72-4.293-9.756-8.86-14.567-18.396-23.358-33.169-32-3.144-1.838-6.929-2.563-10.929-3.513-2.145-.129-4.292-.26-6.438-.391-1.311-.546-2.673-2.149-3.902-2.927-4.894-3.092-17.448-9.817-21.072-.975-2.289%205.581%203.421%2011.025%205.462%2013.854%201.434%201.982%203.269%204.207%204.293%206.438.674%201.467.79%202.938%201.367%204.489%201.417%203.822%202.652%207.98%204.487%2011.511.927%201.788%201.949%203.67%203.122%205.268.718.981%201.951%201.413%202.145%202.927-1.204%201.686-1.273%204.304-1.95%206.44-3.05%209.615-1.899%2021.567%202.537%2028.683%201.36%202.186%204.567%206.871%208.975%205.073%203.856-1.57%202.995-6.438%204.098-10.732.249-.973.096-1.689.585-2.341v.195l3.513%207.024c2.6%204.187%207.212%208.562%2011.122%2011.514%202.027%201.531%203.623%204.177%206.244%205.073v-.196h-.195c-.508-.791-1.303-1.119-1.951-1.755-1.527-1.497-3.225-3.358-4.487-5.073-3.556-4.827-6.698-10.11-9.561-15.609-1.368-2.627-2.557-5.523-3.709-8.196-.444-1.03-.438-2.589-1.364-3.122-1.263%201.958-3.122%203.542-4.098%205.854-1.561%203.696-1.762%208.204-2.341%2012.878-.342.122-.19.038-.391.194-2.718-.655-3.672-3.452-4.683-5.853-2.554-6.07-3.029-15.842-.781-22.829.582-1.809%203.21-7.501%202.146-9.172-.508-1.666-2.184-2.63-3.121-3.903-1.161-1.574-2.319-3.646-3.124-5.464-2.09-4.731-3.066-10.044-5.267-14.828-1.053-2.287-2.832-4.602-4.293-6.634-1.617-2.253-3.429-3.912-4.683-6.635-.446-.968-1.051-2.518-.391-3.513.21-.671.508-.951%201.171-1.17%201.132-.873%204.284.29%205.462.779%203.129%201.3%205.741%202.538%208.392%204.294%201.271.844%202.559%202.475%204.097%202.927h1.756c2.747.631%205.824.195%208.391.975%204.536%201.378%208.601%203.523%2012.292%205.854%2011.246%207.102%2020.442%2017.21%2026.732%2029.269%201.012%201.942%201.45%203.794%202.341%205.854%201.798%204.153%204.063%208.426%205.852%2012.488%201.786%204.052%203.526%208.141%206.05%2011.513%201.327%201.772%206.451%202.723%208.781%203.708%201.632.689%204.307%201.409%205.854%202.34%202.953%201.782%205.815%203.903%208.586%205.855%201.383.975%205.64%203.116%205.852%204.879zM29.729%2023.466c-1.431-.027-2.443.156-3.513.389v.195h.195c.683%201.402%201.888%202.306%202.731%203.513.65%201.367%201.301%202.732%201.952%204.097l.194-.193c1.209-.853%201.762-2.214%201.755-4.294-.484-.509-.555-1.147-.975-1.755-.556-.811-1.635-1.272-2.339-1.952z'%3e%3c/path%3e%3c/svg%3e",Wde="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='2207'%20height='2500'%20preserveAspectRatio='xMinYMin%20meet'%20viewBox='0%200%20256%20290'%20id='neoj'%3e%3cpath%20fill='%23008CC1'%20d='M243.29%20131.526c0%2067.188-54.458%20121.645-121.645%20121.645S0%20198.714%200%20131.526C0%2064.34%2054.458%209.882%20121.645%209.882c67.187-.059%20121.644%2054.457%20121.644%20121.644'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M53.927%2091.626c0%205.364-4.361%209.725-9.724%209.725-5.364%200-9.725-4.36-9.725-9.725%200-5.363%204.36-9.724%209.725-9.724a9.696%209.696%200%200%201%209.724%209.724M55.577%20118.325c0%205.363-4.361%209.725-9.724%209.725s-9.725-4.362-9.725-9.725c0-5.364%204.362-9.724%209.725-9.724a9.696%209.696%200%200%201%209.724%209.724M61.53%20146.615c0%205.363-4.362%209.724-9.725%209.724-5.363%200-9.725-4.361-9.725-9.724%200-5.365%204.362-9.725%209.725-9.725%205.363-.059%209.724%204.302%209.724%209.725M74.85%20171.957c0%205.363-4.363%209.725-9.726%209.725s-9.724-4.362-9.724-9.725c0-5.364%204.361-9.724%209.724-9.724%205.363-.06%209.725%204.302%209.725%209.724M178.99%20207.378c0%205.363-4.361%209.724-9.725%209.724-5.363%200-9.724-4.361-9.724-9.724s4.36-9.725%209.724-9.725%209.725%204.362%209.725%209.725M196.67%20186.455c0%205.363-4.36%209.724-9.725%209.724-5.363%200-9.724-4.36-9.724-9.724%200-5.363%204.361-9.725%209.724-9.725%205.365%200%209.726%204.362%209.726%209.725M145.396%2038.525c0%205.363-4.362%209.724-9.725%209.724-5.363%200-9.724-4.36-9.724-9.724%200-5.363%204.361-9.724%209.724-9.724s9.725%204.36%209.725%209.724M119.818%2029.567c0%205.363-4.362%209.724-9.725%209.724-5.363%200-9.724-4.36-9.724-9.724%200-5.363%204.36-9.725%209.724-9.725%205.363%200%209.725%204.362%209.725%209.725'%3e%3c/path%3e%3cpath%20fill='%2366B245'%20d='M188.773%2037.7c35.804%200%2064.83%2029.026%2064.83%2064.83s-29.026%2064.83-64.83%2064.83c-35.805%200-64.83-29.026-64.83-64.83s29.025-64.83%2064.83-64.83'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M188.773%20169.096c-36.705%200-66.567-29.862-66.567-66.566%200-36.705%2029.862-66.566%2066.567-66.566%2036.704%200%2066.566%2029.86%2066.566%2066.566%200%2036.704-29.862%2066.566-66.566%2066.566zm0-129.66c-34.79%200-63.094%2028.305-63.094%2063.094%200%2034.79%2028.304%2063.093%2063.094%2063.093%2034.79%200%2063.093-28.303%2063.093-63.093%200-34.79-28.303-63.093-63.093-63.093z'%3e%3c/path%3e%3cpath%20fill='%2366B245'%20d='M99.956%20181.682c29.294%200%2053.043%2023.747%2053.043%2053.042%200%2029.294-23.749%2053.043-53.043%2053.043-29.295%200-53.043-23.749-53.043-53.043%200-29.295%2023.748-53.042%2053.043-53.042'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M99.956%20289.503c-30.206%200-54.779-24.574-54.779-54.779%200-30.206%2024.573-54.779%2054.78-54.779%2030.205%200%2054.778%2024.573%2054.778%2054.78%200%2030.204-24.573%2054.778-54.779%2054.778zm0-106.085c-28.29%200-51.306%2023.015-51.306%2051.306%200%2028.29%2023.016%2051.306%2051.306%2051.306s51.306-23.016%2051.306-51.306-23.016-51.306-51.306-51.306z'%3e%3c/path%3e%3cpath%20fill='%2366B245'%20d='M56.284%201.984c19.53%200%2035.362%2015.833%2035.362%2035.362%200%2019.53-15.832%2035.362-35.362%2035.362S20.923%2056.876%2020.923%2037.346%2036.755%201.984%2056.284%201.984'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='M56.284%2074.444c-20.456%200-37.098-16.642-37.098-37.098S35.828.248%2056.284.248%2093.382%2016.89%2093.382%2037.346%2076.74%2074.444%2056.284%2074.444zm0-70.723c-18.54%200-33.625%2015.084-33.625%2033.625s15.084%2033.626%2033.625%2033.626S89.91%2055.887%2089.91%2037.346c0-18.54-15.085-33.625-33.626-33.625z'%3e%3c/path%3e%3c/svg%3e",Xde="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='64'%20height='64'%20version='1.1'%20viewBox='0%200%2064%2064'%3e%3cpath%20style='opacity:.2'%20d='m20%205-9.6094%208%200.0039%200.0039v0.002l-2.395%201.994v36l12%2010v-34.275l24%2034.275%209.6094-8-0.0039-0.0039v-0.002l2.394-1.994v-36l-12-10v34.275z'/%3e%3cpath%20style='fill:%236ba63f'%20d='m56%2014-12-10v56l12-10z'/%3e%3cpath%20style='fill:%2342afe6'%20d='m8%2014%2012-10v56l-12-10z'/%3e%3cpath%20style='fill:%2396ca6b'%20d='m20%204%2033.61%2048-9.61%208-33.61-48z'/%3e%3cpath%20style='fill:%23569e41'%20d='m44%2038.277v21.723l9.6055-8.0039z'/%3e%3cpath%20style='fill:%2370be63'%20d='m20%204-9.605%208.004%209.605%2013.719z'/%3e%3cpath%20style='opacity:.2;fill:%23ffffff'%20d='m20%204l-9.609%208%200.004%200.004v0.002l-2.395%201.994v1l2.395-1.994v-0.002l-0.004-0.004%209.609-8%2024%2034.275v-1l-24-34.275zm24%200v1l12%2010v-1l-12-10z'/%3e%3c/svg%3e",Kde="/assets/neuron-EG0PvgMi.svg",Yde="data:image/svg+xml,%3csvg%20width='50'%20height='50'%20viewBox='0%200%2050%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cmask%20id='mask0_1479_21424'%20style='mask-type:alpha'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='50'%20height='50'%3e%3cpath%20d='M25%2050C38.8071%2050%2050%2038.8071%2050%2025C50%2011.1929%2038.8071%200%2025%200C11.1929%200%200%2011.1929%200%2025C0%2038.8071%2011.1929%2050%2025%2050Z'%20fill='black'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_1479_21424)'%3e%3cpath%20d='M25%2050C38.8071%2050%2050%2038.8071%2050%2025C50%2011.1929%2038.8071%200%2025%200C11.1929%200%200%2011.1929%200%2025C0%2038.8071%2011.1929%2050%2025%2050Z'%20fill='%23192333'/%3e%3cpath%20d='M41.53%2043.7556L19.2061%2015H15V34.9917H18.3649V19.2732L38.8886%2045.7903C39.8147%2045.1706%2040.6969%2044.4903%2041.53%2043.7556Z'%20fill='url(%23paint0_linear_1479_21424)'/%3e%3cpath%20d='M35.2786%2015H31.9453V35H35.2786V15Z'%20fill='url(%23paint1_linear_1479_21424)'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_1479_21424'%20x1='30.2778'%20y1='32.3611'%20x2='40.1389'%20y2='44.5833'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='white'/%3e%3cstop%20offset='1'%20stop-color='white'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_1479_21424'%20x1='33.612'%20y1='15'%20x2='33.5561'%20y2='29.6875'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='white'/%3e%3cstop%20offset='1'%20stop-color='white'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",Jde="data:image/svg+xml,%3csvg%20width='45'%20height='50'%20viewBox='0%200%2045%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22.2977%2049.9072C21.6099%2049.9072%2020.968%2049.7238%2020.372%2049.4029L14.274%2045.7808C13.357%2045.2764%2013.8155%2045.093%2014.0906%2045.0013C15.3285%2044.5887%2015.5578%2044.497%2016.8416%2043.7634C16.9791%2043.6717%2017.1625%2043.7175%2017.3001%2043.8092L21.9767%2046.6061C22.1601%2046.6978%2022.3894%2046.6978%2022.5269%2046.6061L40.8209%2036.0148C41.0043%2035.9231%2041.096%2035.7397%2041.096%2035.5105V14.3738C41.096%2014.1446%2041.0043%2013.9612%2040.8209%2013.8695L22.5269%203.32409C22.3435%203.23239%2022.1143%203.23239%2021.9767%203.32409L3.68276%2013.8695C3.49936%2013.9612%203.40766%2014.1904%203.40766%2014.3738V35.5105C3.40766%2035.6939%203.49936%2035.9231%203.68276%2036.0148L8.68036%2038.9033C11.3855%2040.2788%2013.0819%2038.6741%2013.0819%2037.0694V16.2078C13.0819%2015.9327%2013.3112%2015.6576%2013.6321%2015.6576H15.9704C16.2455%2015.6576%2016.5206%2015.8869%2016.5206%2016.2078V37.0694C16.5206%2040.6915%2014.5491%2042.8005%2011.1104%2042.8005C10.0558%2042.8005%209.23055%2042.8005%206.89223%2041.6543L2.07802%2038.9033C0.885936%2038.2156%200.152344%2036.9318%200.152344%2035.5563V14.4197C0.152344%2013.0442%200.885936%2011.7604%202.07802%2011.0727L20.372%200.48142C21.5182%20-0.160473%2023.0771%20-0.160473%2024.2234%200.48142L42.5173%2011.0727C43.7094%2011.7604%2044.443%2013.0442%2044.443%2014.4197V35.5563C44.443%2036.9318%2043.7094%2038.2156%2042.5173%2038.9033L24.2234%2049.4946C23.6273%2049.7697%2022.9396%2049.9072%2022.2977%2049.9072ZM27.9372%2035.3729C19.9135%2035.3729%2018.2629%2031.705%2018.2629%2028.5872C18.2629%2028.3121%2018.4922%2028.037%2018.8131%2028.037H21.1973C21.4724%2028.037%2021.7016%2028.2204%2021.7016%2028.4955C22.0684%2030.9255%2023.123%2032.1176%2027.983%2032.1176C31.8344%2032.1176%2033.485%2031.2465%2033.485%2029.1832C33.485%2027.9911%2033.0265%2027.12%2027.0202%2026.524C22.0226%2026.0196%2018.9048%2024.9192%2018.9048%2020.9303C18.9048%2017.2165%2022.0226%2015.0157%2027.2494%2015.0157C33.1182%2015.0157%2036.0067%2017.0331%2036.3735%2021.4347C36.3735%2021.5722%2036.3276%2021.7098%2036.2359%2021.8473C36.1442%2021.939%2036.0067%2022.0307%2035.8691%2022.0307H33.485C33.2557%2022.0307%2033.0265%2021.8473%2032.9806%2021.6181C32.4304%2019.0963%2031.0091%2018.271%2027.2494%2018.271C23.0313%2018.271%2022.5269%2019.7382%2022.5269%2020.8386C22.5269%2022.1683%2023.123%2022.5809%2028.8083%2023.3145C34.4478%2024.0481%2037.1071%2025.1026%2037.1071%2029.0457C37.0612%2033.0804%2033.7601%2035.3729%2027.9372%2035.3729Z'%20fill='%23539E43'/%3e%3c/svg%3e",qde="/assets/noodles-qf43CJTt.svg",Zde="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20id='postman'%3e%3cpath%20fill='%23F36933'%20d='M18.855%206.049a.145.145%200%200%200-.053.159v-.001a.412.412%200%200%201-.054.45l.001-.001a.139.139%200%200%200-.03.087c0%20.044.021.084.053.11a.143.143%200%200%200%20.084.03c.042%200%20.08-.02.106-.05a.69.69%200%200%200%20.086-.752.138.138%200%200%200-.193-.032zM19.049%206.082l-.002-.004.001.003z'%3e%3c/path%3e%3cpath%20fill='%23F36933'%20d='M13.527.099C6.955-.744.942%203.9.099%2010.473c-.843%206.572%203.8%2012.584%2010.373%2013.428%206.573.843%2012.588-3.801%2013.429-10.374C24.745%206.955%2020.102.943%2013.527.099zm2.471%207.485a.851.851%200%200%200-.593.25l-4.453%204.453-.95-.95c4.389-4.376%205.181-4.418%205.996-3.753zm-4.863%204.861%204.44-4.44a.62.62%200%201%201%20.848.902l-.001.001-4.699%204.125-.588-.588zm.33.694-1.1.238a.057.057%200%200%201-.013.001.06.06%200%200%201-.054-.033.06.06%200%200%201%20.01-.073l.645-.645.512.512zm-2.803-.459%201.172-1.172.879.878-1.979.426a.11.11%200%200%201-.019.002.074.074%200%200%201-.066-.041.071.071%200%200%201-.011-.039c0-.021.009-.041.024-.054zm-3.646%206.057a.074.074%200%200%201-.069-.075v-.008a.077.077%200%200%201%20.022-.046h.002l.946-.946%201.222%201.222-2.123-.147zm2.426-1.255a.227.227%200%200%200-.117.258v-.002l.203.865a.125.125%200%200%201-.211.117h-.003l-1.228-1.229%203.762-3.758%201.82-.393.874.874c-1.255%201.102-2.971%202.201-5.1%203.268zm5.278-3.428h-.002l-.839-.839%204.699-4.125a.985.985%200%200%200%20.117-.125l.002-.002c-.147%201.345-2.029%203.245-3.977%205.091zm4.942-5.928a1.81%201.81%200%200%201-1.285-.532h.001l-.003-.002a1.822%201.822%200%200%201%202.461-2.681l-.003-.002-1.61%201.613a.117.117%200%200%200-.035.084c0%20.033.013.063.035.084l1.247%201.247a1.801%201.801%200%200%201-.808.189zm1.294-.532c-.081.08-.169.151-.265.214l-.006.004h-.001l-1.207-1.207%201.533-1.533c.661.72.637%201.832-.054%202.522z'%3e%3c/path%3e%3c/svg%3e",Qde="data:image/svg+xml,%3csvg%20width='26'%20height='26'%20viewBox='0%200%2026%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20opacity='0.4'%20d='M20.4578%206.19733L18.1703%203.90983C16.2391%201.97858%2015.2741%201.01233%2014.0203%200.653583C12.7666%200.293583%2011.4353%200.601083%208.77406%201.21608L7.23906%201.56983C4.99906%202.08608%203.87906%202.34483%203.11156%203.11108C2.34531%203.87858%202.08656%204.99858%201.57031%207.23858L1.21531%208.77358C0.601557%2011.4361%200.294057%2012.7661%200.652807%2014.0198C1.01281%2015.2736%201.97906%2016.2386%203.91031%2018.1698L6.19781%2020.4573C9.56031%2023.8211%2011.2403%2025.4998%2013.3278%2025.4998C15.4166%2025.4998%2017.0966%2023.8186%2020.4578%2020.4573C23.8216%2017.0961%2025.5003%2015.4161%2025.5003%2013.3273C25.5003%2011.2398%2023.8191%209.55858%2020.4578%206.19733Z'%20fill='%23fff'/%3e%3cpath%20d='M11.9333%2015.9103C11.0921%2015.0703%2011.0996%2013.8628%2011.6021%2012.9066C11.4774%2012.7264%2011.4197%2012.5083%2011.4391%2012.2901C11.4584%2012.0719%2011.5536%2011.8673%2011.7081%2011.7119C11.8625%2011.5566%2012.0666%2011.4602%2012.2847%2011.4396C12.5028%2011.419%2012.7212%2011.4754%2012.9021%2011.5991C13.3271%2011.3741%2013.7933%2011.2541%2014.2583%2011.2591C14.507%2011.2614%2014.7445%2011.3624%2014.9187%2011.5399C15.0929%2011.7173%2015.1894%2011.9567%2015.1871%2012.2053C15.1848%2012.454%2015.0838%2012.6915%2014.9063%2012.8657C14.7289%2013.0399%2014.4895%2013.1364%2014.2408%2013.1341C13.9514%2013.1448%2013.6779%2013.2692%2013.4796%2013.4803C12.9958%2013.9641%2013.1233%2014.4491%2013.2583%2014.5853C13.3958%2014.7216%2013.8796%2014.8478%2014.3633%2014.3641C15.3433%2013.3841%2017.0358%2013.0591%2018.1208%2014.1428C18.9621%2014.9841%2018.9546%2016.1916%2018.4508%2017.1478C18.5748%2017.328%2018.6318%2017.5458%2018.6121%2017.7636C18.5924%2017.9814%2018.4972%2018.1854%2018.3429%2018.3404C18.1887%2018.4954%2017.9851%2018.5916%2017.7674%2018.6124C17.5497%2018.6331%2017.3316%2018.5771%2017.1508%2018.4541C16.5899%2018.7617%2015.9392%2018.8643%2015.3108%2018.7441C15.1902%2018.7193%2015.0756%2018.671%2014.9736%2018.6019C14.8716%2018.5328%2014.7843%2018.4444%2014.7165%2018.3415C14.6487%2018.2387%2014.6018%2018.1235%2014.5785%2018.0025C14.5553%2017.8816%2014.5561%2017.7572%2014.5808%2017.6366C14.6056%2017.5159%2014.6539%2017.4013%2014.723%2017.2994C14.7921%2017.1974%2014.8806%2017.11%2014.9834%2017.0422C15.0862%2016.9744%2015.2014%2016.9276%2015.3224%2016.9043C15.4433%2016.881%2015.5677%2016.8818%2015.6883%2016.9066C15.9096%2016.9528%2016.2671%2016.8803%2016.5733%2016.5741C17.0583%2016.0891%2016.9308%2015.6053%2016.7946%2015.4691C16.6583%2015.3328%2016.1746%2015.2066%2015.6896%2015.6903C14.7096%2016.6703%2013.0171%2016.9953%2011.9333%2015.9103ZM10.5258%2010.8666C10.7646%2010.636%2010.9551%2010.3601%2011.0861%2010.0551C11.2171%209.75008%2011.2861%209.42203%2011.289%209.09008C11.2919%208.75813%2011.2286%208.42894%2011.1029%208.12169C10.9772%207.81445%2010.7916%207.53532%2010.5568%207.30059C10.3221%207.06586%2010.043%206.88023%209.73573%206.75453C9.42849%206.62882%209.09929%206.56557%208.76734%206.56845C8.43539%206.57134%208.10734%206.6403%207.80233%206.77133C7.49732%206.90235%207.22146%207.0928%206.99084%207.33158C6.53545%207.80309%206.28346%208.43459%206.28916%209.09008C6.29485%209.74558%206.55778%2010.3726%207.0213%2010.8361C7.48482%2011.2996%208.11185%2011.5626%208.76734%2011.5683C9.42283%2011.574%2010.0543%2011.322%2010.5258%2010.8666Z'%20fill='%23fff'/%3e%3c/svg%3e",$de="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='2500'%20height='2490'%20preserveAspectRatio='xMinYMin%20meet'%20viewBox='0%200%20256%20255'%20id='python'%3e%3cdefs%3e%3clinearGradient%20id='a'%20x1='12.959%25'%20x2='79.639%25'%20y1='12.039%25'%20y2='78.201%25'%3e%3cstop%20offset='0%25'%20stop-color='%23387EB8'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23366994'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20id='b'%20x1='19.128%25'%20x2='90.742%25'%20y1='20.579%25'%20y2='88.429%25'%3e%3cstop%20offset='0%25'%20stop-color='%23FFE052'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23FFC331'%3e%3c/stop%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20fill='url(%23a)'%20d='M126.916.072c-64.832%200-60.784%2028.115-60.784%2028.115l.072%2029.128h61.868v8.745H41.631S.145%2061.355.145%20126.77c0%2065.417%2036.21%2063.097%2036.21%2063.097h21.61v-30.356s-1.165-36.21%2035.632-36.21h61.362s34.475.557%2034.475-33.319V33.97S194.67.072%20126.916.072zM92.802%2019.66a11.12%2011.12%200%200%201%2011.13%2011.13%2011.12%2011.12%200%200%201-11.13%2011.13%2011.12%2011.12%200%200%201-11.13-11.13%2011.12%2011.12%200%200%201%2011.13-11.13z'%3e%3c/path%3e%3cpath%20fill='url(%23b)'%20d='M128.757%20254.126c64.832%200%2060.784-28.115%2060.784-28.115l-.072-29.127H127.6v-8.745h86.441s41.486%204.705%2041.486-60.712c0-65.416-36.21-63.096-36.21-63.096h-21.61v30.355s1.165%2036.21-35.632%2036.21h-61.362s-34.475-.557-34.475%2033.32v56.013s-5.235%2033.897%2062.518%2033.897zm34.114-19.586a11.12%2011.12%200%200%201-11.13-11.13%2011.12%2011.12%200%200%201%2011.13-11.131%2011.12%2011.12%200%200%201%2011.13%2011.13%2011.12%2011.12%200%200%201-11.13%2011.13z'%3e%3c/path%3e%3c/svg%3e",efe="data:image/svg+xml,%3csvg%20width='81'%20height='80'%20viewBox='0%200%2081%2080'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1479_21414)'%3e%3cpath%20d='M45.458%2041.5776C46.4212%2038.9707%2045.0226%2036.0517%2042.3335%2035.0581C39.6448%2034.0647%2036.6839%2035.3729%2035.7207%2037.9798C34.7574%2040.5871%2036.1565%2043.506%2038.8452%2044.4994C41.5342%2045.493%2044.4947%2044.1848%2045.458%2041.5776Z'%20fill='%2353C1DE'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M59.6393%2036.8569C62.1641%2033.1859%2066.232%2026.1515%2062.6171%2021.9214C59.0193%2017.7103%2051.3231%2020.3888%2047.1296%2022.154C45.0896%2018.1187%2040.8104%2011.0391%2035.3144%2011.9121C29.8415%2012.7815%2028.5099%2020.6853%2028.0547%2025.1499C23.3961%2024.752%2015.221%2024.5819%2013.3277%2029.7061C11.4398%2034.8158%2017.6725%2040.2198%2021.4461%2042.9362C18.8768%2046.6453%2014.8585%2053.4365%2018.4592%2057.652C22.0844%2061.8945%2029.8773%2059.4062%2034.1115%2057.6197C36.1635%2061.7121%2040.2513%2068.6252%2045.7274%2067.7553C51.2207%2066.8827%2052.774%2059.0337%2053.2378%2054.5454C57.7432%2054.885%2065.9859%2054.8969%2067.8502%2049.851C69.7253%2044.7761%2063.3722%2039.5552%2059.6393%2036.8569ZM53.4062%2052.1383C53.4986%2049.7653%2053.3994%2047.1688%2053.1197%2044.4212C55.0466%2042.5513%2056.7633%2040.6588%2058.2117%2038.8023C60.9457%2040.7872%2066.9143%2045.2201%2065.5212%2048.9905C64.115%2052.7964%2056.9614%2052.402%2053.4062%2052.1383ZM45.2824%2065.3697C41.1967%2066.0185%2037.8496%2059.6152%2036.3318%2056.5991C38.4703%2055.5375%2040.7055%2054.2107%2042.9811%2052.661C45.7008%2053.4083%2048.3278%2053.9576%2050.7731%2054.2858C50.4413%2057.4592%2049.3862%2064.7177%2045.2824%2065.3697ZM20.3459%2056.1254C17.6606%2052.9828%2021.6084%2047.0564%2023.5%2044.3238C25.5561%2045.628%2027.901%2046.886%2030.4664%2048.0699C31.2143%2050.6853%2032.0952%2053.1607%2033.0751%2055.4057C30.4265%2056.5238%2023.0437%2059.2825%2020.3459%2056.1254ZM15.6567%2030.5667C17.0682%2026.7466%2024.4399%2027.2588%2027.8765%2027.5563C27.7639%2029.96%2027.8276%2032.5405%2028.067%2035.2146C26.1199%2037.1192%2024.3678%2039.0692%2022.8747%2040.9918C20.2045%2039.0667%2014.2445%2034.389%2015.6567%2030.5667ZM35.7592%2014.2977C39.862%2013.6461%2043.4186%2020.239%2044.902%2023.163C42.7088%2024.2269%2040.4497%2025.5261%2038.1983%2027.0198C35.549%2026.3028%2032.9576%2025.7659%2030.5178%2025.4279C30.8859%2021.8274%2031.6608%2014.9486%2035.7592%2014.2977ZM51.5018%2034.7248C53.1628%2035.5804%2054.7249%2036.4794%2056.1619%2037.404C55.1526%2038.6905%2054.0029%2040.001%2052.7349%2041.3113C52.4147%2039.1027%2052.0074%2036.9038%2051.5018%2034.7248ZM45.9385%2025.3801C46.5958%2026.9054%2047.2062%2028.563%2047.7595%2030.3211C45.649%2029.4294%2043.4988%2028.6345%2041.3159%2027.9387C42.8757%2026.9757%2044.4257%2026.1185%2045.9385%2025.3801ZM30.3849%2033.0516C30.2829%2031.2413%2030.2692%2029.4933%2030.3425%2027.8372C32.0228%2028.0745%2033.7838%2028.4116%2035.5895%2028.8408C33.7866%2030.1626%2032.0496%2031.5683%2030.3849%2033.0516ZM29.6689%2045.0176C27.9548%2044.1647%2026.3675%2043.2806%2024.9336%2042.3778C25.9718%2041.0486%2027.1437%2039.7012%2028.4252%2038.3638C28.7319%2040.5974%2029.1476%2042.8183%2029.6689%2045.0176ZM35.297%2054.3797C34.6199%2052.8169%2033.9907%2051.1325%2033.423%2049.3612C35.5517%2050.2411%2037.7149%2051.0406%2039.9084%2051.7449C38.3297%2052.7516%2036.7849%2053.6348%2035.297%2054.3797ZM50.8253%2046.548C50.959%2048.4279%2050.9976%2050.2129%2050.9381%2051.8748C49.2279%2051.6405%2047.4171%2051.2916%2045.5415%2050.8363C47.3633%2049.4795%2049.1298%2048.052%2050.8253%2046.548ZM42.4809%2050.0166C39.0937%2049.0251%2035.7715%2047.7948%2032.5445%2046.3666C31.6496%2043.0143%2031.0116%2039.6007%2030.6416%2036.165C33.1475%2033.7986%2035.8375%2031.6209%2038.6866%2029.6567C42.0822%2030.636%2045.4089%2031.8643%2048.6246%2033.3303C49.4962%2036.669%2050.1242%2040.0644%2050.5324%2043.4777C48.0113%2045.8367%2045.3104%2048.0168%2042.4809%2050.0166ZM60.7309%2023.4479C63.4277%2026.6047%2059.4203%2032.7969%2057.593%2035.4583C55.518%2034.1164%2053.2008%2032.8322%2050.7156%2031.648C49.9815%2029.026%2049.1242%2026.5718%2048.1674%2024.3682C51.2411%2023.0767%2058.0602%2020.3219%2060.7309%2023.4479Z'%20fill='%2353C1DE'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1479_21414'%3e%3crect%20width='62'%20height='62'%20fill='white'%20transform='translate(22.2383)%20rotate(20.2782)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",tfe="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M34.4442%2033.6812C36.1741%2033.5051%2037.4864%2032.039%2037.4267%2030.2795C37.3672%2028.5202%2035.8758%2027.1127%2034.0863%2027.1127H33.967C32.1177%2027.1713%2030.6863%2028.6962%2030.7459%2030.5142C30.8056%2031.3938%2031.1634%2032.1562%2031.7003%2032.684C29.6722%2036.6134%2026.5703%2039.487%2021.9177%2041.8915C18.7561%2043.5335%2015.4755%2044.1201%2012.1948%2043.7096C9.51044%2043.3577%207.42267%2042.1849%206.11017%2040.2493C4.20147%2037.3757%204.02258%2034.2674%205.63317%2031.1593C6.76659%2028.9307%208.5559%2027.2885%209.68933%2026.4674C9.45075%2025.7051%209.09276%2024.4149%208.91387%2023.4767C0.264523%2029.6345%201.15936%2037.9623%203.784%2041.8915C5.75237%2044.8238%209.74901%2046.642%2014.1631%2046.642C15.3561%2046.642%2016.5491%2046.5245%2017.7422%2046.2315C25.3775%2044.7652%2031.1636%2040.3081%2034.4442%2033.6812ZM44.9428%2026.409C40.4094%2021.1895%2033.7284%2018.3159%2026.0931%2018.3159H25.1389C24.602%2017.2602%2023.4686%2016.5563%2022.2159%2016.5563H22.0966C20.2475%2016.6151%2018.8161%2018.1398%2018.8756%2019.9579C18.9353%2021.7173%2020.4264%2023.1248%2022.2159%2023.1248H22.3352C23.6475%2023.0662%2024.7809%2022.2451%2025.2581%2021.1307H26.3317C30.8653%2021.1307%2035.16%2022.4209%2039.0375%2024.9427C42.0198%2026.8781%2044.1673%2029.3999%2045.3603%2032.4495C46.3744%2034.9126%2046.3147%2037.3171%2045.2409%2039.3698C43.5708%2042.4779%2040.7673%2044.1787%2037.0689%2044.1787C34.6828%2044.1787%2032.4163%2043.4749%2031.2231%2042.9471C30.567%2043.5335%2029.3739%2044.4718%2028.5387%2045.0585C31.1039%2046.2313%2033.7284%2046.8765%2036.2337%2046.8765C41.9602%2046.8765%2046.1955%2043.7681%2047.8061%2040.6599C49.5358%2037.2584%2049.4164%2031.3938%2044.9428%2026.409ZM14.6403%2034.6779C14.7%2036.4373%2016.1912%2037.8446%2017.9808%2037.8446H18.1002C19.9492%2037.7862%2021.3808%2036.2613%2021.3211%2034.4434C21.2616%2032.6838%2019.7702%2031.2765%2017.9808%2031.2765H17.8616C17.7422%2031.2765%2017.5631%2031.2765%2017.4441%2031.3349C14.9983%2027.3471%2013.9842%2023.0074%2014.3422%2018.3157C14.5806%2014.7969%2015.7737%2011.7472%2017.8616%209.2254C19.5912%207.05548%2022.9317%205.99987%2025.1986%205.94137C31.5214%205.824%2034.2055%2013.5652%2034.3845%2016.6735C35.16%2016.8495%2036.4723%2017.2601%2037.3672%2017.5534C36.6512%208.05278%2030.6862%203.12646%2024.96%203.12646C19.5912%203.12646%2014.6403%206.93848%2012.6717%2012.5685C9.92792%2020.0751%2011.7174%2027.2885%2015.0578%2032.9773C14.7597%2033.3877%2014.5806%2034.0327%2014.6403%2034.6779Z'%20fill='%23764ABC'/%3e%3c/svg%3e",nfe="/assets/restapi-CuoG2ikG.svg",mX="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='100'%20height='100'%3e%3cpath%20d='M0%200%20C21.78%200%2043.56%200%2066%200%20C66%2028.38%2066%2056.76%2066%2086%20C44.22%2086%2022.44%2086%200%2086%20C0%2057.62%200%2029.24%200%200%20Z%20M18%209%20C17.01%209.66%2016.02%2010.32%2015%2011%20C14.58333333%2014%2014.58333333%2014%2015%2017%20C15.66%2017.66%2016.32%2018.32%2017%2019%20C19.60280568%2018.67958603%2019.60280568%2018.67958603%2022%2018%20C22.33%2015.69%2022.66%2013.38%2023%2011%20C20.67145537%209.80161791%2020.67145537%209.80161791%2018%209%20Z%20M35%2015%20C35%2016.32%2035%2017.64%2035%2019%20C42.59%2019%2050.18%2019%2058%2019%20C58%2017.68%2058%2016.36%2058%2015%20C50.41%2015%2042.82%2015%2035%2015%20Z%20M9%2025%20C9.26406316%2028.25677898%209.56746278%2029.61989153%2012.0625%2031.8125%20C15.78090613%2033.31568546%2019.07835413%2033.72623072%2023%2033%20C25.29949654%2031.87699006%2026.9825011%2030.61399912%2029%2029%20C28.96877057%2027.03243548%2028.96877057%2027.03243548%2028%2025%20C21.54285396%2021.92516855%2015.52695765%2022.45289458%209%2025%20Z%20M35%2026%20C35%2027.32%2035%2028.64%2035%2030%20C40.94%2030%2046.88%2030%2053%2030%20C53%2028.68%2053%2027.36%2053%2026%20C47.06%2026%2041.12%2026%2035%2026%20Z%20M7%2040%20C7%2052.54%207%2065.08%207%2078%20C24.16%2078%2041.32%2078%2059%2078%20C59%2065.46%2059%2052.92%2059%2040%20C41.84%2040%2024.68%2040%207%2040%20Z%20'%20fill='%23191919'%20transform='translate(17,7)'/%3e%3cpath%20d='M0%200%20C9.57%200%2019.14%200%2029%200%20C29%201.65%2029%203.3%2029%205%20C19.43%205%209.86%205%200%205%20C0%203.35%200%201.7%200%200%20Z%20'%20fill='%23191919'%20transform='translate(42,64)'/%3e%3cpath%20d='M0%200%20C9.57%200%2019.14%200%2029%200%20C29%201.65%2029%203.3%2029%205%20C19.43%205%209.86%205%200%205%20C0%203.35%200%201.7%200%200%20Z%20'%20fill='%23191919'%20transform='translate(42,53)'/%3e%3cpath%20d='M0%200%20C7.59%200%2015.18%200%2023%200%20C23%201.65%2023%203.3%2023%205%20C15.41%205%207.82%205%200%205%20C0%203.35%200%201.7%200%200%20Z%20'%20fill='%23191919'%20transform='translate(42,75)'/%3e%3cpath%20d='M0%200%20C2.97%200%205.94%200%209%200%20C9%201.65%209%203.3%209%205%20C6.03%205%203.06%205%200%205%20C0%203.35%200%201.7%200%200%20Z%20'%20fill='%23191919'%20transform='translate(29,75)'/%3e%3cpath%20d='M0%200%20C2.97%200%205.94%200%209%200%20C9%201.65%209%203.3%209%205%20C6.03%205%203.06%205%200%205%20C0%203.35%200%201.7%200%200%20Z%20'%20fill='%23191919'%20transform='translate(29,64)'/%3e%3cpath%20d='M0%200%20C2.97%200%205.94%200%209%200%20C9%201.65%209%203.3%209%205%20C6.03%205%203.06%205%200%205%20C0%203.35%200%201.7%200%200%20Z%20'%20fill='%23191919'%20transform='translate(29,53)'/%3e%3c/svg%3e",ife="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='100'%20height='100'%3e%3cpath%20d='M0%200%20C21.78%200%2043.56%200%2066%200%20C66%2028.38%2066%2056.76%2066%2086%20C44.22%2086%2022.44%2086%200%2086%20C0%2057.62%200%2029.24%200%200%20Z%20M18%209%20C17.01%209.66%2016.02%2010.32%2015%2011%20C14.58333333%2014%2014.58333333%2014%2015%2017%20C15.66%2017.66%2016.32%2018.32%2017%2019%20C19.60280568%2018.67958603%2019.60280568%2018.67958603%2022%2018%20C22.33%2015.69%2022.66%2013.38%2023%2011%20C20.67145537%209.80161791%2020.67145537%209.80161791%2018%209%20Z%20M35%2015%20C35%2016.32%2035%2017.64%2035%2019%20C42.59%2019%2050.18%2019%2058%2019%20C58%2017.68%2058%2016.36%2058%2015%20C50.41%2015%2042.82%2015%2035%2015%20Z%20M9%2025%20C9.26406316%2028.25677898%209.56746278%2029.61989153%2012.0625%2031.8125%20C15.78090613%2033.31568546%2019.07835413%2033.72623072%2023%2033%20C25.29949654%2031.87699006%2026.9825011%2030.61399912%2029%2029%20C28.96877057%2027.03243548%2028.96877057%2027.03243548%2028%2025%20C21.54285396%2021.92516855%2015.52695765%2022.45289458%209%2025%20Z%20M35%2026%20C35%2027.32%2035%2028.64%2035%2030%20C40.94%2030%2046.88%2030%2053%2030%20C53%2028.68%2053%2027.36%2053%2026%20C47.06%2026%2041.12%2026%2035%2026%20Z%20M7%2040%20C7%2052.54%207%2065.08%207%2078%20C24.16%2078%2041.32%2078%2059%2078%20C59%2065.46%2059%2052.92%2059%2040%20C41.84%2040%2024.68%2040%207%2040%20Z%20'%20fill='%23218BE5'%20transform='translate(17,7)'/%3e%3cpath%20d='M0%200%20C9.57%200%2019.14%200%2029%200%20C29%201.65%2029%203.3%2029%205%20C19.43%205%209.86%205%200%205%20C0%203.35%200%201.7%200%200%20Z%20'%20fill='%23228BE5'%20transform='translate(42,64)'/%3e%3cpath%20d='M0%200%20C9.57%200%2019.14%200%2029%200%20C29%201.65%2029%203.3%2029%205%20C19.43%205%209.86%205%200%205%20C0%203.35%200%201.7%200%200%20Z%20'%20fill='%23218AE5'%20transform='translate(42,53)'/%3e%3cpath%20d='M0%200%20C7.59%200%2015.18%200%2023%200%20C23%201.65%2023%203.3%2023%205%20C15.41%205%207.82%205%200%205%20C0%203.35%200%201.7%200%200%20Z%20'%20fill='%23218BE5'%20transform='translate(42,75)'/%3e%3cpath%20d='M0%200%20C2.97%200%205.94%200%209%200%20C9%201.65%209%203.3%209%205%20C6.03%205%203.06%205%200%205%20C0%203.35%200%201.7%200%200%20Z%20'%20fill='%23218BE5'%20transform='translate(29,75)'/%3e%3cpath%20d='M0%200%20C2.97%200%205.94%200%209%200%20C9%201.65%209%203.3%209%205%20C6.03%205%203.06%205%200%205%20C0%203.35%200%201.7%200%200%20Z%20'%20fill='%23228BE5'%20transform='translate(29,64)'/%3e%3cpath%20d='M0%200%20C2.97%200%205.94%200%209%200%20C9%201.65%209%203.3%209%205%20C6.03%205%203.06%205%200%205%20C0%203.35%200%201.7%200%200%20Z%20'%20fill='%23218AE5'%20transform='translate(29,53)'/%3e%3c/svg%3e",gX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAkCAYAAAD7PHgWAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADOSURBVHgB7ZjhDYIwEIXvmIARuoGO4ghdwQnQCcQNdBJHcARHcITzVUhsYvtHL/Yi9yUPQgjkS+HaS4mWioj0KWQRiB3kxUCWgNBG3rEjCZkoZWxIzv/e3brk2iU1cEktXFILl9TiryQ5fwCnX7dHK2Ss3Nsx854hFnBxQQLZY9vhEMmmXGJIgja73one+ic+PotklmxRJAGpTStnFEmkVqRBQW6VaeZELXE5l3M5l3M5l6sj5d2tj+U60qfUcLRd+HNk2t26ZiM3fvE6egDORCgyZ9M1/QAAAABJRU5ErkJggg==",vX="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='64'%20height='64'%3e%3cpath%20d='M0%200%20C17.82%200%2035.64%200%2054%200%20C54%2017.82%2054%2035.64%2054%2054%20C36.18%2054%2018.36%2054%200%2054%20C0%2036.18%200%2018.36%200%200%20Z%20M2%203%20C1.8988308%206.09081465%201.86031442%209.15882555%201.8671875%2012.25%20C1.86623077%2013.17844727%201.86527405%2014.10689453%201.86428833%2015.06347656%20C1.86360645%2017.03059965%201.86546128%2018.99772496%201.86962891%2020.96484375%20C1.87497705%2023.98703026%201.86968418%2027.00906815%201.86328125%2030.03125%20C1.86394203%2031.93750033%201.86522319%2033.84375057%201.8671875%2035.75%20C1.86516327%2036.66040039%201.86313904%2037.57080078%201.86105347%2038.50878906%20C1.46108668%2042.57663678%201.46108668%2042.57663678%203%2046%20C4.50418739%2046.09311889%206.01271356%2046.11746028%207.51977539%2046.11352539%20C8.48069595%2046.11344986%209.44161652%2046.11337433%2010.43165588%2046.11329651%20C11.476436%2046.10813522%2012.52121613%2046.10297394%2013.59765625%2046.09765625%20C15.19364906%2046.09553383%2015.19364906%2046.09553383%2016.82188416%2046.09336853%20C20.23545083%2046.08775064%2023.648953%2046.07519511%2027.0625%2046.0625%20C29.37044176%2046.05748731%2031.67838455%2046.052924%2033.98632812%2046.04882812%20C39.65757426%2046.0377754%2045.32878253%2046.02101987%2051%2046%20C52.71376612%2042.57246776%2052.1414536%2038.64203256%2052.1328125%2034.87109375%20C52.13376923%2033.96625748%2052.13472595%2033.0614212%2052.13571167%2032.12916565%20C52.13639273%2030.21509736%2052.13454361%2028.30102676%2052.13037109%2026.38696289%20C52.12501561%2023.44607396%2052.13032178%2020.50533733%2052.13671875%2017.56445312%20C52.13605808%2015.70833299%2052.13477714%2013.85221296%2052.1328125%2011.99609375%20C52.13483673%2011.11070419%2052.13686096%2010.22531464%2052.13894653%209.31309509%20C52.52359376%205.33964707%2052.52359376%205.33964707%2051%202%20C49.50129952%201.90168854%2047.99801461%201.87201544%2046.49609375%201.87060547%20C45.53840088%201.86745331%2044.58070801%201.86430115%2043.59399414%201.86105347%20C42.55235107%201.8630777%2041.51070801%201.86510193%2040.4375%201.8671875%20C39.37587646%201.86623077%2038.31425293%201.86527405%2037.22045898%201.86428833%20C34.97086528%201.86360636%2032.72126963%201.86546181%2030.47167969%201.86962891%20C27.01492929%201.8749769%2023.55830883%201.86968446%2020.1015625%201.86328125%20C17.92187471%201.86394203%2015.742187%201.86522318%2013.5625%201.8671875%20C12.52085693%201.86516327%2011.47921387%201.86313904%2010.40600586%201.86105347%20C8.96946655%201.86578171%208.96946655%201.86578171%207.50390625%201.87060547%20C6.65642822%201.87140106%205.8089502%201.87219666%204.93579102%201.87301636%20C2.9934287%201.78680292%202.9934287%201.78680292%202%203%20Z%20M2%2048%20C2.33%2049.32%202.66%2050.64%203%2052%20C18.84%2052%2034.68%2052%2051%2052%20C51.33%2050.68%2051.66%2049.36%2052%2048%20C35.5%2048%2019%2048%202%2048%20Z%20'%20fill='%23000000'%20transform='translate(5,5)'/%3e%3cpath%20d='M0%200%20C4.62983765%200.84729055%207.29394589%203.22069732%2010%207%20C10.30572272%2010.05722717%209.57315346%2011.28610175%207.6796875%2013.64453125%20C6.17859919%2015.25499535%204.78457381%2016.70818164%203%2018%20C2.01%2018%201.02%2018%200%2018%20C0.62388892%2014.38144425%201.1709277%2013.8290723%204%2011%20C-2.93%2010.505%20-2.93%2010.505%20-10%2010%20C-10%209.34%20-10%208.68%20-10%208%20C-5.38%207.67%20-0.76%207.34%204%207%20C2.68%205.68%201.36%204.36%200%203%20C0%202.01%200%201.02%200%200%20Z%20'%20fill='%23000000'%20transform='translate(32,17)'/%3e%3c/svg%3e",rfe="/assets/rings-h8edkeL-.svg",sfe="/assets/router-pskvfLYY.svg",ofe="/assets/rpi-CqCGmCut.svg",afe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20viewBox='0%200%2016%2016'%20id='rss'%3e%3cg%20fill='%23FFA000'%3e%3ccircle%20cx='3'%20cy='13'%20r='2'%3e%3c/circle%3e%3cpath%20d='M1%205.667v2.667A6.674%206.674%200%200%201%207.667%2015h2.666c0-5.146-4.187-9.333-9.333-9.333z'%3e%3c/path%3e%3cpath%20d='M1%201v2.667C7.25%203.667%2012.334%208.75%2012.334%2015H15C15%207.28%208.72%201%201%201z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",lfe="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1479_21452)'%3e%3cpath%20d='M42.5918%200H7.5918C3.44966%200%200.0917969%203.35786%200.0917969%207.5V42.5C0.0917969%2046.6421%203.44966%2050%207.5918%2050H42.5918C46.7339%2050%2050.0918%2046.6421%2050.0918%2042.5V7.5C50.0918%203.35786%2046.7339%200%2042.5918%200Z'%20fill='%23CC6699'/%3e%3cpath%20d='M25.2871%208.59369C15.9121%2011.8163%209.85742%2018.3593%2010.4434%2022.2656C11.0293%2026.1718%2016.8887%2029.2968%2019.5254%2031.3476C16.1074%2033.1054%2011.8105%2035.7421%2011.9082%2039.1601C12.1035%2043.8476%2017.1816%2042.3827%2019.3301%2041.0156C21.4785%2039.6484%2023.627%2035.8398%2022.2598%2031.8359C25.2871%2031.0546%2027.9238%2032.0312%2028.7051%2032.6171C31.7324%2034.7656%2030.1699%2037.207%2029.0957%2037.5976C28.0215%2037.9882%2028.7051%2038.1835%2029.3887%2037.9882C30.0723%2037.7929%2031.5371%2036.8163%2031.5371%2035.1562C31.5371%2030.957%2027.0449%2029.0038%2021.4785%2030.4687C18.2559%2027.0507%2013.8613%2025.4882%2014.0566%2021.7773C14.1543%2020.4101%2014.6426%2016.8945%2023.334%2012.4999C32.0254%208.1054%2038.1777%209.86322%2037.3965%2013.8671C36.2246%2019.9218%2025.6777%2024.0234%2021.9668%2020.5077C21.7715%2020.1171%2021.0879%2019.8242%2021.4785%2020.8984C23.4316%2025.7812%2039.252%2023.5351%2039.9355%2013.1835C40.1309%207.71478%2032.2207%206.24994%2025.2871%208.59369ZM16.8887%2039.8437C14.4473%2040.6249%2014.5449%2039.0624%2014.6426%2038.4765C14.9355%2036.8163%2016.3027%2034.7656%2020.4043%2032.7148C21.5762%2036.4257%2018.9395%2039.2577%2016.8887%2039.8437Z'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1479_21452'%3e%3crect%20width='50'%20height='50'%20fill='white'%20transform='translate(0.0917969)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",yX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAMKElEQVR4nN1bCZBUxRluTomAyCWVqEUQhASMhiqOgNFNAsixO92zCwMCSoBVomUFkESRKiucgchRyKUsSSSyUCave5YrLBiERVPEhKSMBqQghiOgAoZ1QUANyHbq6/e6X8/Mm2VmdmYX01WvGHb6dff/939+/z+E1NcYUn4DKYzeQkKbO5BJJU3I/+XIq2hMKO9JmCgmlK8iTPyZMH6aMPEZYULGPvwTQvlxQkUFoWIRYWIUCTldyJduzJzZkISd7xImlhEmTiUSmvbzb7UW1ryuR8RpQ6iYQyg/YxPQsLBMti/eI785fb/sM++4HLDsrAytuSQLX/qvHFlarR58xt/wHeZgLt7BuzHMoPwgYc4j15fKhMvaEip+rkTYO2iTEZtlpyl/lXlLTssRL38hR62XGT14N2/xabUW1rQYcYyExSQScZrWL/GUTyRUnNMHu+nhV2XvucdqRXRNzOg996hs+dCrNiMOk5C4t+4Jz3duJVSU64M0H7Nd9v/F+3Lk+urAww978RPZa84R2XnaW7LDo6/LFmO3y6aRLbJhuEw9+Iy/4bsu095Sc4etvhC4Fvbov+CkbD6m3GOC+IJQvpjkrW1WN8QzMYxQXqX1+64ZBwNvfPDKc7LbU+/IGx/clrEBvHH0NrUG1gqSiB4z3vXtBOxDzr0GdSYQKi67t14uBy6rjD1YqZT3LTol202siHdxcH2vECqmECYGk3BZV5K/obXSYbhKfC4Sd5Awf4BQPplQ/ltC+Yf2Gu2KK+T9i06pPew9H1hRJVs+tENLQ2WOVEI2IIzP1Ye5/Yk35fDfXIk7yMeyzYTdln6KSsL4ChJ2+mS8Z9jpp1ygJ3F42k7crYi298ZZbnviTb3vp4RGaXbpZz7xd/7k7zG6DlHs+tO3ZYNwVN/2B4TyJ8mgdc3N+/hMxfcJFc8Sxn9PmHiHUH7SPaz44zX3jzgtXOlRkqT2wp6Rl6/G2AaczbcL2WIC5Y9q4ns8824M5/NXX5Ctx7+mN71MGF/oEy4bECruJ5SvU4Qm03Uq3kj9LJtaEsYXEMav4F3snb/6YsyZcEZfEnjf2hEf5kP1ZrDO9kYDl52VTUds0bf+TxXy6gE9p3y/ReRVQsVfCOVLCY2OICF+t/IkEecrGZ2rINqbMHEIa8ODDFwea4sgHUYNqdOtFq6OV2mdt8UeAU7j4Zv0LW4iQ0pvchlW1plQvs3y0ycI47NIkehIsj2wp+eKGw/fWJ235EyMOvg2gR/MzEVSd/EWY3fIorWXY26+UVFZtcfhX5KI00jNZyJkjBUVFxThyPhyOQqjX9URKJhgSwIMY8uxxjssSm9hJoq1n7ctLnTeiD2Ih567HmI+YVwz5Xcqzc31wB5GzVwm3DByq8wvuRjjmVScABVk/L50YvtzWBBBjm3tjcGD2Jub5wuN5WV8usuUOiQe/0ISPIltM35XjHfoPuOAHzanlDtQJDaIwspjIjxjWGDwtM4j+3P/9jkJRYeQuhiJxN/i2wR+GH9H9GhfnAmbkUleM6Vl4jwmI7a3RUn5ebg6be2ZGG7F4pF6JV4PuD3Gr+Csg1f6qttvwQktuUdrTqWZG/Ag4zJWv1RaER5f6M7beDth4mPvII/lmm5SsKEdYeJpDxwJJl4Pyp/TobPtFfxwmU8M3iTiNNJgBlJa/TJiexPh6SCH8d3GFuRyMN6fUFGqVMwOnmoysq4qKDqAJWg6es05qhmwP9lmAxSYMXxzjO6bxAbhrZonhnn/P0MiTvusE42wlzk/IpS/nTR6vNZg0amYB1TJtgV+7OJ8K/ElykvwZaepf/NT2lXn/IhK3z4iOrVIdGpWCQ/xHoSJldoGKTcc9iGxVg//IXUGIGT2YpIhL5w39Hx98j4tzfMC0FvxkRKbJb7YwJp6L6ywpUSBnZmGsfaAW6LOg4Tx1+0bbv/IHtlz5nsmkAHx7Nefp84AxQS+HHO/8fQ/DD1Ip7013ouf3FMHPrb4GzADsbfLgP6Ks8AFajMQGrs4osrulOqN2KzyDdwYiNU3ronHedJiAHAB4Bajy2PUwAAowB/MgH/0OG/DWAbMyEZwo+ByPpRQvsUNmlxibv7hTtlr9hGDLyQjPm0GYD+PwYhgA2ya5brdooWCo43VnH1Eb/hKRgRTsTeZEcMtdJy8Tw54/mxMFlcT8WkzAINxjvnwAHoNqITHgOesiajYCNl33nEzEeLoGcApGTEgCfF3P3tIhuMIS4X4jBgAz+WBOHqNPnOPabpesycqv4lMT08EQqsmphPiBt16HEOCkN5UiM+IAQrPELLDpDfMGj94/j9aAo74E71aXWjNp2aiiZ+R46c6avLZSRiQKvGZMaCsK+a3GLPdrFFQckkzoMqdBLDAW9jO+4G0qL8jP0iTAYGHDWAAVKHVuJ2mqMJ+9VlS4jNkQFudJus1UIbzjHu1cv+qPO0tHCn100jjLtIpP6XBgHSJz4gBOLtndPUakXVX/XUKNrRzM6yaGJBOITJFBmRCfEYMACJVEwPCZW2JItBDcwJVgG28OZsMyJT4jBjgZpFJVMC+XOZCSrFGcHtOjGCqBi8rDMgXdyojODbACDJx0Z+IzgwmVH0+wQ2iXJXqQJHjGgzQxAfFAllngJe5xrjBpcYNnrQPXpE8EOKTU94whUCoUdFGOdTK0HLKgJoDob02AxYlhMJzvFAYhcpMRpA0xIfClsTlSAIczO8dFArrDFcNlZLGJUOrL+iJH2ScDMVjeMARqdjqwtReMjRup2J2fLG19gxQpbmP4pOhtiYZsjPacFnnwHR4tJcOo0pbW+JtGAvpsFtLiEmHIapDVp3PDgPcynLydLgwek8ct/iReBzNB0TEsqwRHx+ohPloVSC1VASS2G/+CeWzM2YAEy/GAyIG34RkqCjQHupGhGpI0i+gM8MjokphddkkPvG9u7y03EBizUZtld2nH5AFay6lxwBVRXZRaxsSg93xzvVC0AHuCQRFiytST4szJT6hF4A/pnoIPIKB83/t8b2pM8CF0JODouhVCBwUfXiAxY8G4Gj8tOJsLokPhrXWJ8DiNQ3A4p5tsfFNy6t9aMp6yZoh4gsjaEvxmLCgzoi3B+B31B1VH4LYU+Nc9CCowoh/+2jGtPqIfpb85UklTVQTIkpjC06aBVAhdltg+BUDkNYV8Wk3TnilsVV+Z9l35nulMVX0vVZuExaTdHHU9s1+cVQcMsXR64l4EOZ5Mtvyq+LoaF0c5bNTxOq5qrKiD08vhJJz6/G7NCfL3ZL0dUI8XJrbfCXbTNgV4z67P+OVx+EVUgZ3wk4/QNeozNhdF2hI8tNkrze4volXDRriJZX2RrbKAqtBYpBukHAjv3HprUvd/ACpZEyLzPJK1Y5imABJqNebd4lvXLSxelDyFpmtGSy+tpl2i7clNEmdsX1qubEJdTkiTist9iD+e3aTVGm1vPXxP+nzVWZ+SUXiDg2Zd34yrk1ueaVCWjw1OFz7nrw0rb1n8CD29s3jsRom0dY7uHabUd5XNzomNEqWXFQ9OZ46XFHVllxKg1v7X6p7F2HwbJ2PaZRMyPhqM2iU6npefKssvAOSJtMqqyQmOrXGqDHd4bbKPqWlEXvB1dnWHmJvQBz3QmaRrA4apYTxS9om2IbRTZyq/LxBBx0oUSOcRaEy02ZpJC66HceL8OwgBw/OYnTe+PtcdKuFnT4aZEBwYZfSjIFcfFolIbEoEGJzzhVEpSrETjfVIo/IU6XEaM1zurnfiWkKyfH2MSly8Z6Y2N52dWjmNGqI7pKcjpDTRXsH+Fj04QX9YAJpKMTUj8LSf/Au1rBTWtvNIcjx/byoTAvArdXIUy5ysbYLCJvRipbsJzOApIDLQUeB0OLG1E9mCsvUg89IVvAd5iAbtWEs+4GuI7Y3aJVrd7bUTzwSEvfqsNkNmnaoWnyufjSFlNYXdy+8TTvCy/aIqNwBafRRfTAESWhIApZQ25/NAcbq+ON9dne6l9Xx2WkVbnM+JqlUeiJh4oCtxxBxeAfoMjB5FCbgu1GiQi0SrgyfEVPgO/QoYi5aWewuMQNmIJ9Pp1xXLyOEljc+S/+ooVaP+tEDX6fa8ROAzC/DCDmdVEMSokS0pVD+L/tHUNZzkTDxvttlwle40uR8+8tJNElhAJcD1IUKbj0S+T87rlVSz01HwwAAAABJRU5ErkJggg==",_X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAALRElEQVR4nOVbC3BVxRn+QUDKw1ZAmSqOIqittLW0PIRWUwsIJcnuDXBBwHYEJK3jVISKyoxTyqNiBeSNBK0I0bGe3ZtAKAGn8tKhtrS1tSijRR5tLI/WAGqwFoTtfHvOnrPn3ptwn0ks/8wZLje7/+7+Z//H9///JWoqGlZ9MZXELqfiDV2ptKw1/V9SwfZWxERv4nISMbGCuPwdcXGUuPwPcanCj/iQmDhETG4nJucTl2Oo2OlJnzmaObMlRZxvE5dLiMsjiQdN+/m75gWezZqiTidicjYxccw+QMuSCnXZpB3qyw/tUf3mHlKDlryvilefUiXP/FeNLj+nH3zGd/gbxmAs5mBuSBhM7CXu3N28VCZS0ZmY/Lm+wt5GW4/aoLpP+YMqWHhUjVr7qRrznMrowdyCBUc1L/C0BHGQIrKUok6bpj08ExOJyZNmY5d8/yXVd87BrA7dkDD6zjmgOt75ki2Id6hYfqvxD17oXElMVpuNtB+3WQ187D01+rlzSTc//MkPVZ/Z+1WPaa+rrpN3qg7jN6s20SrVMlKhH3zGd/hbz2mv67HDV32UlBfWGDivRrUfV+0JQX5KTCyggjVtG+fwXA4nJk4Y/f7KjL1J3/jQ5SfVDdPfUO3u2JSxAWw3dpPmAV7JbkSvGW8FdgL2Ie9egzkTiMnT7luvVoOX1IY3Vq7ULfOPqC4Tt8e7OLi+F4jJKcTlUIpUXE+Fz1+qdRgPPuM7/I3H7icmfuXN8Xl0mbRd3Tr/iF7DXvP2ZSdUxzu3mNtQmyeVUC2IizlmM1fd+5oa+eyZuI0cV50mbLP0U9YSF8so4vTLeE0m+hOXy11eLt/OE7fpQ9trYy/d7n3NrPsxsRjL7fl5cPjrfvLnkK7jKl7/wF9Ui0jMvO1/EhNTaci69v58fGbyNmLyEeLi18TlG8REjbtZ+ep513fnTyMmDmMNrIU1o2vPhmwD9hbYhVwJgYnJ5vC9Hn4rJPnCVR+pS+962Sx6mrh4PDg43qC8lZhYpw9an64z+UrKe4k6HXSU6Kkh1i5cVRfaE/YY3ATRP7vDR8T3iIszYAjrbC80eMn7qs2oKvPW/6ZDXkPQZSb2WIc8S1zsJi4WU0SMppLYTVQS60ZR53MZ7aso9g3ich94w4MMXhq2Rbgdvhoy54YsXJ04YXTevvYIcFqNXG/e4noaVn6JK7CKHsTEJstP1xAXs4hXXkO5JqzJRBXWaTWy8lzBwmMhdQhsgtibmYtkrp/vMH6LGrHmtM98yNJavaB3yGc14AFxWWwE5v4rHtKIL58UdS4iJsqw5kUjKnUobRvGjuN97zA/PcZcTjJ+3ra40Hn/2jP5lNZz10M8Sly4QmHyRSp6vgs1Gmlv8TTWvnj0RlVYVhfyTDpOcFXwlnRi+5NgiCDHtva+wcO1h/RBMHyuHTij33rTwW6tDp3u2hryDjfOeDMIm1PCDgzABlFYdSjC8w0LDJ7ReaA/97tPKCJup6akqPN5YuJd7AfRo/3i/LAZSPI8TDoRlx9gMGJ7+yppPw/3Y6w9lyOtWDxKzYEizjdxE7HXocsD1R0w7x/m5h5oGEpzN+AB4vKtfrmyIjzxuDuu8iri8rgn1R/m/WBR5zKtXtr1iZ0NjuXyCRM6214hCJfFxIYs6jEMAqQ1kxHb+xGeCXK42OYxq6R8v1FY+fhAqiFi6zuaTBRyCeYcfWYfMALYk3wiF4N0MmPkhpDu+8AG4a0eJ4d7/z+WF2uvoz3xIx0uewfGlb7inl2pCQDE5HSMQ1bJtgVB7OJ8Nckkof1p9/v/GEDaFSeDiMq8fSZ/HxJIrggRG5OPBaolVdsxG3V6rKjslN5PygKAED0+w1Z+4J/nmvt2m9s8N4kbkf/S12ZhcG1gTb0Jy+xboq9YUVW7rA8NtwQDysVv/DhCx/hb9ZWNzzOkLAAQEysx9ksP/tWfDzjt8dgXP7i3CXzsRf1kRlGsryeAgTrKQ14gG2Lrr9BGTYfK7qFwPXtM/VPS5EdGAiiO3azzFmOrQ2rgJ1BGyGuDwfCP0Jm7d4TSWL6u64gvB+lyJgcTl44BWCaP2HvmvoT8QtYCcCNUnVRBBJvEplmu2y1aaH3zreas/WbBFzI6MJO76oPAeAtX37dbDVocxO6pPOkJQO/hRYyHOhkeUAlPAL8IBuqKjVT95x7yBwL+egZwSkYCqOfwX3vkbRX55SdpHTxzAYipJoljePSbc9Cc62V7oPb/wPhm4OWTd5oFh2b11uMEksnBMxaA57K7lr7i8/ju4n+bG7DfHqhrdcWrP/YH+vEzMH42b70pBVAor9OQftxmnwdcqg/ZNSFZ4DG2cT8yLfp74INUyTpksxAAAjUPJhseKMN5rv2cm8tAedpjHC0PYKTvLtIpPzU3ASAh4xldwyO67mzApwiRLGr0F6oAIhWdScNDLwq7sFRAqgAae5XdsBHc7A5Kp9zUXI3g+CRGkMu6YCA6M7gMJRUzdIOvNns3uMh3gzX2xrdfgIHQLlsA8xNC4dleKIxCZSaU7DY0diiscYdUfZOFwgbhamLOHU0JhnArbAOcGwHo0pyG+Hb5rLMPhmxEG6nokRQOj/XgcNY1tjTg8IocweGIM6BBOIzyXFxxYX98Hi0hIZJrymdChMsn49Xaz2/iZpiKlk+6uiN1Q5KZgOREQkosX5QsJTbapMTq0hOAmxhNSInB7ng3emXipJLYTUmTopOMzshp1BiUi6Qolw82mBRFr0JSYujDQ1r8QGIeDc0J2FxjUiZpcVStvEyQnd+0vNphv6xXXzNEfGEEbSmZVVlzXRhBH4Lc0eBYJhZhr12st49mTKuP6Kf1Ty4ta62bEFEam1fjM0CF2C+NoTmhuRKSt6Y0ZnmTmx/1SmO66Fv5hYaZRGSpKY7aicqgOCr3+cXR5kQ4mOfJ7FS4Lo6ONcVRMStV1/QOJqAPzzBCyRnuydOjqkQ30oSEvbjNV6rThK0a8pp93/iwVx6HV0gZ2UacAaj6oovT7r9BROXDZDQl5CJCzJqQ/pbPaNgb3ei7TDxDTIOEG/n9ID2+zMUHgJLhFpnjqtUIv0VmbZPeBFhzLlebFpnB9bfIbEyfecGatsYtdktokjpm+VRRpZsTGpuwpnft8UK+YzdJlZ9TV97z2yCIK4l9MbNFRshrTcq8x9S4NrmltTrT4gnhXWKiDzWmtfcMHq49GrfsvVkNk6fTymckJQAhLxBJaJQsq9M9OZ6FBcJ7Qoeh+SK3NW6RQZMweLbOhxolExBfNsRiTLfCJGmVhXcAaLJaZY8SFw/kNGp0O0Snm9uIteDqbGuPa+8ncdx9/IxySizGiItTxibE43f05Pi4wbgd1BxRpc3IW6gWrjfSZW4fICHCi4fM2Iuv876/z4eHijj9TJIBwYVtdX0DueCoBiGh2B1zUKhEigrtt0B+SEmbdnndmofv8Dc5TSdNvHXMA552bG+7OjRzBmqY756lYqen8Q7wsejDS/aDCcBQXNMgCkv/wVzwsCGt7eYQ5AR+XtY2XqtegXaRC4xdQNiMVrT6fjKD+jzyctBRZGjxxvRPZkoq9IPPACv4G8YAjdo1ffuBriO297NVxhVn7OqyIfw6wwub3aBpS9JMTi4e8ASkDa67sTPpRni5pqjGDoDRB+z8HhqSkEvI9mdzSGNd/ePddne6h+rErLSqVnmnUg2lJxKXb9p6jCsO7wBdRk4ehQn4bpSoUIuEK8NnxBT4G3oUMRatLMAiYWMqDms8f15I29RULHppP8zl25kaQOtt1+pfnaAdvzkh0JSp2OmuM7/oyUFbihs2u78rCD91xOV7bpeJWObeJufrn81DUwoEJIdUFyq4TXjI/wHMUwxFZPN/hwAAAABJRU5ErkJggg==",cfe="data:image/svg+xml,%3csvg%20width='49'%20height='30'%20viewBox='0%200%2049%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.25%2010C13.8833%203.33333%2017.9667%200%2024.5%200C34.3%200%2035.525%207.5%2040.425%208.75C43.6917%209.58333%2046.55%208.33333%2049%205C47.3667%2011.6667%2043.2833%2015%2036.75%2015C26.95%2015%2025.725%207.5%2020.825%206.25C17.5583%205.41667%2014.7%206.66667%2012.25%2010ZM0%2025C1.63333%2018.3333%205.71667%2015%2012.25%2015C22.05%2015%2023.275%2022.5%2028.175%2023.75C31.4417%2024.5833%2034.3%2023.3333%2036.75%2020C35.1167%2026.6667%2031.0333%2030%2024.5%2030C14.7%2030%2013.475%2022.5%208.575%2021.25C5.30833%2020.4167%202.45%2021.6667%200%2025Z'%20fill='%2344A8B3'/%3e%3c/svg%3e",ufe="/assets/tank-B0Tu2rV5.svg",hfe="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='64'%20height='64'%3e%3cpath%20d='M0%200%20C1.03777588%20-0.00315216%202.07555176%20-0.00630432%203.14477539%20-0.009552%20C4.83848267%20-0.00651566%204.83848267%20-0.00651566%206.56640625%20-0.00341797%20C7.71681396%20-0.00437469%208.86722168%20-0.00533142%2010.05249023%20-0.00631714%20C12.49039769%20-0.00699916%2014.92830695%20-0.00514337%2017.36621094%20-0.00097656%20C21.11267143%200.00437136%2024.85901202%20-0.00092086%2028.60546875%20-0.00732422%20C30.96744818%20-0.00666344%2033.32942754%20-0.00538229%2035.69140625%20-0.00341797%20C36.82054443%20-0.0054422%2037.94968262%20-0.00746643%2039.11303711%20-0.009552%20C40.15081299%20-0.00639984%2041.18858887%20-0.00324768%2042.2578125%200%20C43.1763501%200.00079559%2044.0948877%200.00159119%2045.04125977%200.00241089%20C47.12890625%200.12939453%2047.12890625%200.12939453%2048.12890625%201.12939453%20C48.21761266%204.15895696%2048.24417207%207.16626163%2048.2265625%2010.19580078%20C48.22555542%2011.00078003%2048.22454834%2011.80575928%2048.22351074%2012.63513184%20C48.21826239%2015.65406714%2048.20430125%2018.67298221%2048.19140625%2021.69189453%20C48.17078125%2028.43626953%2048.15015625%2035.18064453%2048.12890625%2042.12939453%20C30.30890625%2042.12939453%2012.48890625%2042.12939453%20-5.87109375%2042.12939453%20C-5.89171875%2035.38501953%20-5.91234375%2028.64064453%20-5.93359375%2021.69189453%20C-5.94269775%2019.56051025%20-5.95180176%2017.42912598%20-5.96118164%2015.2331543%20C-5.96410075%2013.5540371%20-5.96664932%2011.8749192%20-5.96875%2010.19580078%20C-5.97386597%209.31565308%20-5.97898193%208.43550537%20-5.98425293%207.52868652%20C-5.98456271%205.39525574%20-5.93353442%203.26191139%20-5.87109375%201.12939453%20C-4.21700919%20-0.52469003%20-2.27555483%200.00197098%200%200%20Z%20M-1.87109375%2010.12939453%20C-1.87109375%2019.36939453%20-1.87109375%2028.60939453%20-1.87109375%2038.12939453%20C13.30890625%2038.12939453%2028.48890625%2038.12939453%2044.12890625%2038.12939453%20C44.12890625%2028.88939453%2044.12890625%2019.64939453%2044.12890625%2010.12939453%20C28.94890625%2010.12939453%2013.76890625%2010.12939453%20-1.87109375%2010.12939453%20Z%20'%20fill='%23FFFFFF'%20transform='translate(10.87109375,10.87060546875)'/%3e%3cpath%20d='M0%200%20C3.83690637%201.56318408%206.39154889%203.7953315%209%207%20C9.23047779%209.99621122%208.53400702%2011.34869664%206.6484375%2013.6484375%20C5.15592961%2015.21446795%203.71303359%2016.677738%202%2018%20C1.34%2018%200.68%2018%200%2018%20C-0.17942163%2014.05272412%20-0.09350689%2011.4019487%202%208%20C1.34%207.34%200.68%206.68%200%206%20C-0.125%202.875%20-0.125%202.875%200%200%20Z%20'%20fill='%23FFFFFF'%20transform='translate(18,26)'/%3e%3cpath%20d='M0%200%20C4.95%200%209.9%200%2015%200%20C15%201.32%2015%202.64%2015%204%20C10.05%204%205.1%204%200%204%20C0%202.68%200%201.36%200%200%20Z%20'%20fill='%23FFFFFF'%20transform='translate(31,40)'/%3e%3c/svg%3e",dfe="/assets/threejs-GJzGK2v5.svg",ffe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='240px'%20height='240px'%3e%3cpath%20fill='%2303A9F4'%20d='M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429'/%3e%3c/svg%3e",pfe="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1479_21433)'%3e%3cpath%20d='M43.3789%200H8.37891C4.23677%200%200.878906%203.35786%200.878906%207.5V42.5C0.878906%2046.6421%204.23677%2050%208.37891%2050H43.3789C47.521%2050%2050.8789%2046.6421%2050.8789%2042.5V7.5C50.8789%203.35786%2047.521%200%2043.3789%200Z'%20fill='%233178C6'/%3e%3cpath%20d='M23.6328%2027.7344H29.8828V23.7305H12.4023V27.7344H18.6523V45.6055H23.6328V27.7344ZM31.8359%2044.6289C32.627%2045.0391%2033.5938%2045.3418%2034.668%2045.5469C35.7422%2045.752%2036.9141%2045.8496%2038.0859%2045.8496C39.2578%2045.8496%2040.332%2045.7422%2041.4062%2045.5176C42.4805%2045.293%2043.3594%2044.9219%2044.1406%2044.4434C44.9316%2043.9258%2045.6055%2043.2715%2045.9961%2042.3926C46.3867%2041.5137%2046.6895%2040.5371%2046.6895%2039.2676C46.6895%2038.3789%2046.5527%2037.6074%2046.2891%2036.9238C46.0254%2036.2402%2045.6445%2035.6543%2045.1172%2035.166C44.6191%2034.6484%2044.043%2034.1895%2043.3594%2033.7988C42.6758%2033.4082%2041.8945%2032.998%2041.0156%2032.627C40.3711%2032.3633%2039.8438%2032.1094%2039.2578%2031.8555C38.75%2031.6016%2038.3105%2031.3477%2037.9883%2031.0937C37.627%2030.8301%2037.3535%2030.5566%2037.1582%2030.2734C36.9629%2029.9805%2036.8652%2029.6582%2036.8652%2029.2969C36.8652%2028.9648%2036.9522%2028.6621%2037.1289%2028.3887C37.3057%2028.1152%2037.5488%2027.8906%2037.8613%2027.6953C38.1738%2027.5%2038.5645%2027.3535%2039.0332%2027.2461C39.4922%2027.1387%2040%2027.0898%2040.5957%2027.0898C41.0059%2027.0898%2041.4355%2027.1201%2041.8652%2027.1816C42.3145%2027.2432%2042.7734%2027.3379%2043.2324%2027.4648C43.6914%2027.5918%2044.1406%2027.748%2044.5996%2027.9434C45.0293%2028.1387%2045.4297%2028.3633%2045.7715%2028.6172V24.0273C45.0293%2023.7441%2044.209%2023.5293%2043.3301%2023.3926C42.4512%2023.2559%2041.4746%2023.1875%2040.3027%2023.1875C39.1309%2023.1875%2038.0566%2023.3145%2036.9824%2023.5586C35.9082%2023.8027%2035.0293%2024.1934%2034.248%2024.7305C33.457%2025.2578%2032.8809%2025.9023%2032.3926%2026.7812C31.9336%2027.6016%2031.709%2028.5391%2031.709%2029.7109C31.709%2031.1758%2032.1289%2032.4453%2032.9785%2033.4219C33.8184%2034.4961%2035.127%2035.2773%2036.7871%2036.0586C37.4609%2036.332%2038.0566%2036.6055%2038.6426%2036.8691C39.2285%2037.1328%2039.7168%2037.4062%2040.1074%2037.6895C40.5273%2037.9727%2040.8594%2038.2852%2041.084%2038.6172C41.3281%2038.9492%2041.4551%2039.3398%2041.4551%2039.7891C41.4551%2040.1016%2041.3789%2040.3945%2041.2305%2040.668C41.082%2040.9414%2040.8496%2041.1758%2040.5371%2041.3711C40.2246%2041.5664%2039.8438%2041.7227%2039.3652%2041.8398C38.9062%2041.9473%2038.3887%2042.0059%2037.7051%2042.0059C36.6309%2042.0059%2035.5566%2041.8203%2034.5801%2041.4492C33.5059%2041.0781%2032.5293%2040.5215%2031.8359%2039.9414V44.6289Z'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1479_21433'%3e%3crect%20width='50'%20height='50'%20fill='white'%20transform='translate(0.878906)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",mfe="/assets/vim-DwWraqhY.svg",gfe="/assets/vimwhite-Bv5QDMDg.svg",vfe="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2025.2.3,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20baseProfile='basic'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%20id='Layer_10'%3e%3c/g%3e%3cg%20id='win10'%3e%3c/g%3e%3cg%20id='ssm'%3e%3c/g%3e%3cg%20id='mat_2'%3e%3c/g%3e%3cg%20id='ios'%3e%3c/g%3e%3cg%20id='fluent'%3e%3clinearGradient%20id='SVGID_1_'%20gradientUnits='userSpaceOnUse'%20x1='13.3154'%20y1='514.9062'%20x2='38.0045'%20y2='481.3765'%20gradientTransform='matrix(1%200%200%20-1%200%20514)'%3e%3cstop%20offset='0'%20style='stop-color:%2341D1FF'/%3e%3cstop%20offset='1'%20style='stop-color:%239231BE'/%3e%3c/linearGradient%3e%3cpath%20style='fill:url(%23SVGID_1_);'%20d='M44.86,9.976L25.023,45.448c-0.41,0.732-1.462,0.737-1.878,0.008L2.915,9.979%20C2.462,9.185,3.141,8.223,4.041,8.384l19.859,3.55c0.127,0.023,0.256,0.022,0.383-0.001l19.443-3.544%20C44.623,8.225,45.305,9.18,44.86,9.976z'/%3e%3clinearGradient%20id='SVGID_2_'%20gradientUnits='userSpaceOnUse'%20x1='25.5021'%20y1='508.7635'%20x2='37.1311'%20y2='428.99'%20gradientTransform='matrix(1%200%200%20-1%200%20514)'%3e%3cstop%20offset='0'%20style='stop-color:%23FED100'/%3e%3cstop%20offset='1'%20style='stop-color:%23E36001'/%3e%3c/linearGradient%3e%3cpath%20style='fill:url(%23SVGID_2_);'%20d='M33.574,3.01L19.019,5.862c-0.239,0.047-0.416,0.25-0.431,0.493l-0.895,15.121%20c-0.021,0.356,0.306,0.633,0.654,0.552l4.052-0.935c0.379-0.087,0.722,0.246,0.644,0.628l-1.204,5.895%20c-0.081,0.397,0.291,0.736,0.679,0.618l2.503-0.76c0.388-0.118,0.761,0.222,0.679,0.62l-1.913,9.26%20c-0.12,0.579,0.651,0.895,0.972,0.398l0.215-0.332l11.86-23.669c0.199-0.396-0.144-0.848-0.579-0.764l-4.171,0.805%20c-0.392,0.076-0.725-0.289-0.615-0.673l2.722-9.438C34.301,3.299,33.967,2.933,33.574,3.01z'/%3e%3c/g%3e%3c/svg%3e",yfe="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='64'%20height='64'%3e%3cpath%20d='M0%200%20C6.11475758%201.90525073%2012.05906059%206.05053417%2016.39453125%2010.74609375%20C16.06453125%2011.73609375%2015.73453125%2012.72609375%2015.39453125%2013.74609375%20C7.47453125%2014.24109375%207.47453125%2014.24109375%20-0.60546875%2014.74609375%20C-0.60546875%2015.40609375%20-0.60546875%2016.06609375%20-0.60546875%2016.74609375%20C1.04453125%2016.74609375%202.69453125%2016.74609375%204.39453125%2016.74609375%20C5.71453125%2024.33609375%207.03453125%2031.92609375%208.39453125%2039.74609375%20C-4.14546875%2039.74609375%20-16.68546875%2039.74609375%20-29.60546875%2039.74609375%20C-28.60546875%2033.74609375%20-28.60546875%2033.74609375%20-27.60546875%2030.74609375%20C-22.73046875%2031.62109375%20-22.73046875%2031.62109375%20-21.60546875%2032.74609375%20C-21.27546875%2031.75609375%20-20.94546875%2030.76609375%20-20.60546875%2029.74609375%20C-19.94546875%2029.41609375%20-19.28546875%2029.08609375%20-18.60546875%2028.74609375%20C-19.26546875%2028.41609375%20-19.92546875%2028.08609375%20-20.60546875%2027.74609375%20C-20.60546875%2026.42609375%20-20.60546875%2025.10609375%20-20.60546875%2023.74609375%20C-22.58546875%2024.73609375%20-22.58546875%2024.73609375%20-24.60546875%2025.74609375%20C-23.8255747%2019.70191486%20-21.35958715%2013.86135418%20-17.48046875%209.18359375%20C-15.60546875%207.74609375%20-15.60546875%207.74609375%20-13.60546875%207.74609375%20C-13.60546875%209.06609375%20-13.60546875%2010.38609375%20-13.60546875%2011.74609375%20C-9.51500548%2010.82244075%20-9.02164213%2010.37035382%20-6.60546875%206.74609375%20C-7.59546875%206.41609375%20-8.58546875%206.08609375%20-9.60546875%205.74609375%20C-9.29296875%203.87109375%20-9.29296875%203.87109375%20-8.60546875%201.74609375%20C-5.32750104%20-0.43921806%20-3.82916143%20-0.57543984%200%200%20Z%20M-8.60546875%2021.74609375%20C-9.93734668%2022.85776239%20-9.93734668%2022.85776239%20-9.79296875%2025.68359375%20C-9.93825608%2028.85502234%20-9.93825608%2028.85502234%20-7.60546875%2030.74609375%20C-4.52199049%2030.91290484%20-4.52199049%2030.91290484%20-1.60546875%2030.74609375%20C-1.27546875%2030.08609375%20-0.94546875%2029.42609375%20-0.60546875%2028.74609375%20C-2.58546875%2028.08609375%20-4.56546875%2027.42609375%20-6.60546875%2026.74609375%20C-6.93546875%2025.09609375%20-7.26546875%2023.44609375%20-7.60546875%2021.74609375%20C-7.93546875%2021.74609375%20-8.26546875%2021.74609375%20-8.60546875%2021.74609375%20Z%20'%20fill='%23FFFFFF'%20transform='translate(41.60546875,4.25390625)'/%3e%3cpath%20d='M0%200%20C1.99882106%20-0.00217237%203.99760277%20-0.02064523%205.99633789%20-0.03930664%20C13.67104861%20-0.05080146%2020.84800143%200.458314%2028.33422852%202.18530273%20C28.52954102%209.02124023%2028.52954102%209.02124023%2028.33422852%2011.18530273%20C25.92818532%2013.59134593%2025.30213089%2013.45834722%2022.00805664%2013.55175781%20C21.11372925%2013.58131058%2020.21940186%2013.61086334%2019.29797363%2013.64131165%20C17.84638855%2013.6727552%2017.84638855%2013.6727552%2016.36547852%2013.70483398%20C14.87860535%2013.74455574%2014.87860535%2013.74455574%2013.36169434%2013.78507996%20C11.26362923%2013.83781233%209.1654291%2013.88538403%207.06713867%2013.92822266%20C3.8468202%2013.99753173%200.62801311%2014.09342793%20-2.59155273%2014.19116211%20C-4.62667149%2014.2390085%20-6.66182787%2014.28528543%20-8.69702148%2014.32983398%20C-10.14860657%2014.37645927%20-10.14860657%2014.37645927%20-11.6295166%2014.42402649%20C-12.97100769%2014.44471443%20-12.97100769%2014.44471443%20-14.33959961%2014.46582031%20C-15.12854614%2014.48421463%20-15.91749268%2014.50260895%20-16.73034668%2014.52156067%20C-17.36903687%2014.41059555%20-18.00772705%2014.29963043%20-18.66577148%2014.18530273%20C-21.12388774%2010.49812836%20-20.97695312%208.54184569%20-20.66577148%204.18530273%20C-18.66577148%201.18530273%20-18.66577148%201.18530273%20-15.96337891%200.50830078%20C-10.64151137%20-0.01297195%20-5.34379176%20-0.0006486%200%200%20Z%20'%20fill='%23FFFFFF'%20transform='translate(26.665771484375,44.814697265625)'/%3e%3c/svg%3e",_fe="data:image/svg+xml,%3csvg%20width='50'%20height='50'%20viewBox='0%200%2050%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1479_21469)'%3e%3cpath%20d='M50%200V25L25%2050L12.5%2037.5L25%2025L50%200Z'%20fill='%2359529D'/%3e%3cpath%20d='M50%2025V50L37.5%2037.5L50%2025Z'%20fill='%235271B4'/%3e%3cpath%20d='M25%2025L0%2050V0L25%2025Z'%20fill='%23BB4B96'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1479_21469'%3e%3crect%20width='50'%20height='50'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",xfe="/assets/gns3-CYWf4Czz.svg",Afe="/assets/portfolio-BQaqs9eF.svg",xX="/assets/download-D94XLEpV.svg",AX="/assets/enlarge-DkiZ4P98.svg",Sfe="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='96'%20height='96'%3e%3cpath%20d='M0%200%20C4.32927155%202.7376276%208.01199727%205.76107722%2011.453125%209.57421875%20C11.93394531%2010.06277344%2012.41476563%2010.55132812%2012.91015625%2011.0546875%20C22.60737929%2021.39020876%2023.9275543%2033.08820128%2023.73046875%2046.5703125%20C23.50863819%2052.51117783%2022.22684337%2057.31193062%2019.453125%2062.57421875%20C19.02902344%2063.43144531%2018.60492188%2064.28867188%2018.16796875%2065.171875%20C12.79964633%2075.0860749%203.99570928%2082.51109138%20-6.546875%2086.57421875%20C-9.81640625%2086.79296875%20-9.81640625%2086.79296875%20-12.546875%2086.57421875%20C-14.07247007%2085.04862368%20-13.72596214%2083.62135404%20-13.79296875%2081.49609375%20C-13.82583984%2080.66464844%20-13.85871094%2079.83320312%20-13.89257812%2078.9765625%20C-13.95323135%2077.22407145%20-14.01058414%2075.47146271%20-14.06445312%2073.71875%20C-14.24603014%2069.27182603%20-14.4819471%2065.62047423%20-16.546875%2061.57421875%20C-15.73863281%2061.4040625%20-14.93039063%2061.23390625%20-14.09765625%2061.05859375%20C-5.99790873%2059.41126452%20-5.99790873%2059.41126452%200.453125%2054.57421875%20C4.01801516%2048.46297848%205.35555103%2042.60610986%204.453125%2035.57421875%20C3.58685414%2033.64460597%203.58685414%2033.64460597%202.453125%2031.82421875%20C-0.64557371%2026.45605056%200.12364581%2020.57806174%200.453125%2014.57421875%20C-0.98618617%2015.02683233%20-2.42326499%2015.48654854%20-3.859375%2015.94921875%20C-5.06013672%2016.33207031%20-5.06013672%2016.33207031%20-6.28515625%2016.72265625%20C-8.77412028%2017.56253686%20-8.77412028%2017.56253686%20-11.546875%2019.57421875%20C-14.29973111%2019.53056881%20-16.93801131%2019.38658643%20-19.671875%2019.13671875%20C-24.4411433%2018.75475678%20-28.86789295%2018.41175184%20-33.609375%2019.26171875%20C-38.07404557%2019.61605768%20-39.98435661%2018.82344361%20-43.72265625%2016.58203125%20C-45.64975034%2015.51738398%20-47.39947551%2015.019816%20-49.546875%2014.57421875%20C-49.50046875%2015.43144531%20-49.4540625%2016.28867187%20-49.40625%2017.171875%20C-49.07526044%2027.65715141%20-49.07526044%2027.65715141%20-51.546875%2031.19921875%20C-54.71488026%2036.54522763%20-54.29981542%2041.89663373%20-53.07421875%2047.8828125%20C-51.5559241%2052.69226083%20-49.0836664%2056.18833642%20-44.546875%2058.57421875%20C-40.92606453%2059.81107963%20-37.28307336%2060.75650986%20-33.546875%2061.57421875%20C-33.546875%2064.8128317%20-34.1719601%2066.67162064%20-35.546875%2069.57421875%20C-38.75402504%2071.17779377%20-42.06700056%2071.05790786%20-45.546875%2070.57421875%20C-48.6030513%2068.65522433%20-50.68041879%2066.43431573%20-53.171875%2063.82421875%20C-55.36459083%2061.23034643%20-55.36459083%2061.23034643%20-58.546875%2061.57421875%20C-57.825%2062.06921875%20-57.103125%2062.56421875%20-56.359375%2063.07421875%20C-53.82391242%2065.32796326%20-52.68663139%2066.83615203%20-51.046875%2069.69921875%20C-49.52522202%2072.23373671%20-48.74867414%2073.44332201%20-46.234375%2075.07421875%20C-42.60216666%2075.74997844%20-39.24070624%2075.69943337%20-35.546875%2075.57421875%20C-35.51999349%2077.21996441%20-35.50053377%2078.86583288%20-35.484375%2080.51171875%20C-35.47277344%2081.42824219%20-35.46117187%2082.34476562%20-35.44921875%2083.2890625%20C-35.546875%2085.57421875%20-35.546875%2085.57421875%20-36.546875%2086.57421875%20C-42.72753606%2087.52508968%20-47.46819064%2084.77827109%20-52.546875%2081.57421875%20C-62.80050159%2073.77844677%20-70.09575982%2064.40814767%20-72.546875%2051.57421875%20C-74.0489592%2036.2955082%20-72.15977218%2023.90868942%20-62.546875%2011.57421875%20C-60.046875%208.82421875%20-60.046875%208.82421875%20-57.546875%206.57421875%20C-56.66%205.74921875%20-55.773125%204.92421875%20-54.859375%204.07421875%20C-39.85981021%20-8.18058032%20-16.66105728%20-9.32712563%200%200%20Z%20'%20fill='%23218BE6'%20transform='translate(72.546875,7.42578125)'/%3e%3c/svg%3e",Ne={arrow:xv,bash:yde,bootstrap:_de,box:xde,c:Ade,contact:Sde,cpp:wde,css:bde,d3js:Cde,disqus:Mde,docker:Ede,express:Tde,git:Rde,github:Pde,googlesheets:Ide,gradle:Lde,gulp:Dde,html:Bde,influxdb:Fde,java:Ode,javascript:kde,jquery:Nde,leftarrow:fX,leftarrowkey:pX,libgdx:Ude,link:VI,linkedin:zde,linux:jde,mongodb:Hde,mui:Gde,mysql:Vde,neo4j:Wde,neovim:Xde,neuron:Kde,nextjs:Yde,nodejs:Jde,noodles:qde,postman:Zde,pricewise:Qde,python:$de,reactjs:efe,redux:tfe,restapi:nfe,blackresume:mX,blueresume:ife,rightarrow:gX,rightarrowkey:vX,rings:rfe,router:sfe,rpi:ofe,rss:afe,sass:lfe,soundoff:yX,soundon:_X,tailwindcss:cfe,tank:ufe,terminal:hfe,threejs:dfe,twitter:ffe,typescript:pfe,vim:mfe,vite:vfe,wizard:yfe,framermotion:_fe,gns3:xfe,portfolio:Afe,vimwhite:gfe,download:xX,enlarge:AX,bluegithub:Sfe},wfe=()=>w.jsxs("header",{className:"header",children:[w.jsx(s1,{to:"/",className:"w-10 h-10 rounded-lg bg-white items-center justify-center flex font-bold shadow-md",children:w.jsx("p",{className:"blue-gradient_text",children:"ML"})}),w.jsxs("nav",{className:"flex items-center text-lg gap-4 font-medium",children:[w.jsx(s1,{to:"/about",className:({isActive:i})=>i?"text-blue-400":"text-black",children:"About"}),w.jsx(s1,{to:"/projects",className:({isActive:i})=>i?"text-blue-400":"text-black",children:"Projects"}),w.jsx(s1,{to:"/contact",className:({isActive:i})=>i?"text-blue-400":"text-black",children:"Contact"}),w.jsx(s1,{to:"/resume",className:({isActive:i})=>i?"bg-blue-300":"bg-transparent",children:w.jsx("img",{src:mX,alt:"resume",className:"w-6 h-6"})})]})]}),bfe="/assets/trustthink-CC-DWfjc.png",Rp="/assets/ucsd-BaflDVBD.png",Cfe="/assets/ucsd_1_1-BhWS658w.png",Mfe="/assets/ucsd_1_2-j2gSOmWP.png",Efe="/assets/ucsd_1_3-zOtvZL89.png",Tfe="/assets/ucsd_2-CNpDNF6G.png",Rfe="/assets/ucsd_3_1-C1d46vp_.png",Pfe="/assets/ucsd_3_2-tgSyD7uS.png",Ife="/assets/ucsd_4_1-LwB-seoR.png",Lfe="/assets/ucsd_4_2-CDH2qDVr.png",Dfe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAABOCAYAAAB7VKutAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA+FSURBVHgB3VxtbxzVFT7nzux6bSfNmhJeShHL934Iv6DOL8BI0BK1VdaoqCotwkYQ3utdCMSEFK8raJGqyhveJSgxKq36LfsP8C8g26ofWhVqAw62d2fu6bnvd5wtJXZixz7OeGfGs3fufea8POfcO0GIpPfsq3VEPA6UHwGCKm9LRLRUwryJjeku7HNB9YsaC9UsXTvHIIyDtH8hAvWjj4lWGKRW6dmHmrCPRYPRP/nKeR7wuD4jLQj8z2wWHamv7kLev6v8wokl2IeCvefZNEgu6PGrgWsAyPxVaQcZYBRqJPVFvI/tXIrm8Oz+Mh3BQBwHcNpgNwhguGPy5wmkzOsIvfPrJ16cgn0k2H9+fplNoGqUwQ5eaYDRBa8NYDWEnOlYreGruiTg6PDsE13Y4yJ4sFWtFSD9oAn187cmIv3F/jqnSaBNqwZZfmHt0ecX1h4/VYM9LEL/9j5CRuZiBm1MJNfgmHP20+/ba6SsU693fnWqUYc9Kth77mXyLkLKCBjepPSHXmusuehfUsLA70rqcig+OtxqdGEPidGMEEetqyCIULD7VlMK2uHMKZiO+ZE1SfmF1YeemVubatRgj4gIzlBuiiYxQMZ/EMVRRhrTccfOZKQFRrWX51N5n03nwSfrsAdE6I5jrBWRr3Ca4AGK/wb6mKyfMThJo2vGjLoItIggOyjl9z//+YlrPgynLqQi2SGqSBKFUn0sYw3wcUT/Rh9VaIX3zvLn4gGRLmGrsQJ7TFKwqu4oeCGcktUWvS8tMFZLKIDAv+dHIG3tRQBiSfVgZeASgVcoIJz6e06hP1Hnb1J9doRMJ/da1PhfksaDJ4r9Rhi8OQj+QnsJhPnRMyf3FR0vhFaTz9voIsPgPZlwQtA88NL+AkJJGvsHigaPCiYJIZO1fkKSnD9w5oUG7EMR2gFAUQt0uJSOR1Cg6SC7o6PlBlxlobmpajb3cB12WESg2SHnwEtIlwGMr5rGxtWPGDjd4jAtuvnc9IVsbqoOOySBdGGkGZZ1eqZpUvX26OlTi7BDUpo+08HR0a44cGghf/3UAr1z9TNi4TNQCk4SL3GcGpyzsMOCpdEmVIbVg6hThh/TG6dm4CoKbszMWLZVZJ5xCZD3uyMvvng77IKs/r65PDJUrhrN1f3pYt6fxMlGB66wiBBDyHMJ5z+IXEYKH8IuyXBl6KwHwvivGqXp+fzNkwu0cGVNR6BPxqSbOAB3cwSTrpOgDuySCEFLMMBsURWTkv75fOGZK8Z3hEvO/M0oqllYKSF1YbdEQEd/qj4ihlxJH1MN03ROvt64QO9sv26CF3/6C0q+cyjkJ2SzUlubUH4kTcQdueyvwPqlDVQAVrDV2la4pUajyk1XL2n7tiGAcsLF6v7H5oz1Y6zPur/uIdo0glOEthDQxGNby5Xwi3smCSslSG9lH6WMxjvRsLmKOPnKOYTyH59PCOrDv3l1S9Gmd/JXxzOJLbbMqqq1uvZV4+XvVkCMJAChtmi0Q2uzAiQPx6p/Zr9LKJrpjxptuEwRqBrYyKB/4TOgXgYYOVLXqVDys/6EN3RbylRl7FADtiiScIrnblgrct2eUX/Q98g+24iOYZM5OyBsUommqsRnaiizhfzNZy7bdIRWL3WfTEL2jxUNSHBWob6pQRBQsFkcrkB6882QjFW7sEUhlCuQuMFydxK09xIg17gq38+9GRQAQXOdrbkaID1hVH/mqCOzC/T2U3P0zuO1b9KXVD9l2wxmOfT+tgzJt0cgqQ7psxp8Lt3p8Sv0pZlXwYMH+Zrr1BUrpbw/DVuVLJmUadZIBN6m8iF9P2EfhrrdVzkkh9JxTwzRw2h013TQHRnN9hqkzXkKJE5kbz3OpjPb/rqu4JfH7iPVgJTkSZYScWgIksMjutHhU/MIuyj5G01jBUpsT4zGotEIz55luIas9sS0AXGRr5/GY7PdQfcRFlgDMIab5Svr0O9ykMgJdlvkl5nXAC0mVzI8yPu3GAhboozPKZ0hOcHad4HeOjEz6D7COS3lSLUZojZdjbiy194ny7DbIi9aPxaTQu9ssfAQtUYIoTXHYED+GrTXc9RpyLdPXMjeebQe3wcv/vg+IirmJiFsGltMbrppMhmtGLMZKZuHoIs/OQiZraQPPrmtbHbt1NPj3FjNjDwqNea2kyAX0luGQAwnBX9goQpEUSQhyqh2BIYI6HmJ+771MQgNPHamacD4ySSRi+0U+IMDRhw4COkN1xuQ+DocLbGDZaqVmG7qJ6BW9Tzw2JacaO+lZ+bYX03pm8rY/u1nLrXDZicK6eGyHRRCMfQPAAcjIOL2YorgzqCYTu493RIWeqtCJnqQ/Uy+dRBKN14fZtKUnqxucAj+AvL/rPvrGZIJ2KJwGXFC8xUXuXQ0gaABiVFxuZqB62vQDhf2EYp+wxEzgs05jb6mEA7UvfMZOteoap4hBNo2gm2JA6OQKCD4RwgIfENtzEnkZ2uQfbIC8vMNBdbWs1qBHzoASJhw6h6MG7QOlyo1WMuM6vsyJUaD3QRKPEvo2gsL1mCTRlVhffUIfnX8PuMZYvNIEkhvuUWDo0yDz2mbgiwzzbk2lcpmsDT6yunt+YzTT9Z5jDVDLKSek1Gfwl8hZzTtYFNJrittsv1ocC6kbh5sbDKOPrioY7/H45zGryYnyfgXO1WQ8A1vuhGMOhhwKqdO7irP2Jh9xHu7Uq1ix+gGSsFHbAbBA0AmRMba7ThI4C3Tl/iM5KYbmJcm3mRiR7NrImwH1aKZvlV37VcoDDCux7gRRqZW8CGGVQegeJ8tdElof2HzDjE2xnXH1DvRzbXR3ZPAKeRaFp6qtp3Q/ziR9ABJpzUyaocCyzRAd/FYq5OS8+LlMojqoRDeIhDWn3jivEvXTR/cWgxN47sCZXO41erCFmRtrlFLkv4Mh9Baweb1AzMaQHl48vQVg8G+wwgGP4BuP1Z/3BQ5rCl50AzQfLX2iSnaL6WHD9uMT6/zNNFDkJkxkDTulyhAVCi2np5yrPGZo7AFyf/+6QJ9qzSeMH/Bsig6O7vWA/2aD5a+ixQYkS1RcIYehIKTRNic6Gk2KqGZ/rDV1mBoTTnEGpGmENZfUNDETYRGt2+fhqc+gqqwRcn+dbFG/zRzuziUapYpRtmJD3PXUtT7umbinKZ6CD2+thxrQm4AySWE0mAcRsF8j7Ny6PUBLvbYK/e7Ymx4Wkz+zkfCFNlZikPVaKLZNRA2nae49RixM7JPkLZRPed25/nXnO7+eo+5BAP0qbmfXzTHdp1UUs1DkkoCQ59XoHxD2bBfRcpSWw1TuKxtWJRzAw5/0kZfF7B0bcQUpZppBi18uF0oV2L/CQ5bI6N+LZbPSXKTGOgnBgnXQLkIs76ui55xLfRK1ECXJ+pVqKxr7fJN2x1+VFXMs4/JrixkxgqV61IYvbUcmSoYc3X5B1nN9mvMwKYN1ElzmMTWYndQP1IcHbGwWBOEMOvu1muUcrlSnh1cA7gSMraon9BAQJcn7jnSh7B0Sg06u5hbG0a/jMIbs9NgaSbPrU/ktnG69OtzbfgasSTPzrJ7VI1qqgKxunkP5RHYJcltNitszVUBknE5EME6tUuWXCkNyfUnaupO82me315++YP2/7uXXcbkbIMM2XK2So746dcvdmzSeZOMO5+lVV93iCBnHyDKIoRiJdL5OH3U4QubrA2db3qjVNsaBs4C9hijY5Y7eduVlTocT+4kVTkHKGTP+RqzxpI9IgcAmQV3iM3ymfdbcJki4oXx7seUzCImx6raf/qRcdhh+ffE3eN6oT4aX0Z2ps/UlXy2aJmm1ub50kE2iS0AocRQObeKD4PzcWbjwgvlnDmCnerbIUFBx5Xqo/GVPtdS/ZMboY9s2h0+aJbOvN+BbYhwdc/C4O05jAspCONrj0+Nww7J8j33sNOmutOKwHnA+Aw9nyLVQtxpBuHodoFQ4pckOBbrwpc5jipQDFSCtECNqS2zzW8qyxMTVX7651zEMA/GThe56JFTOz2QbdkkBknqGKaS4KSiY8c+DeOs9TdAmcvWJ42+iZTFDI+6BgXWC8YkgJbYnU6PvfenDrwHV1RExFaiDbzzxDjt0xQ5n+qf+OUMXCVZ/sHd3DZO+T5Z7WTKsIJD0LzhL3++4+a/ftSBqyAifmuANlem1R5KP8nsfAmH3sbGiQeuOCCfH7t7ju/TcG8quIKzmgkTKO44/MFHDbiKgvnJxwisj3DcnnK7Sphsiq4jmuX4NkfQXJ/kUp7gXcOzr3VhG7Jcv7eG/WyB/cC4qRLY91ty2ZVSTB5eXOzADgiDcYIKi+ddPTECRGuMm2bka1WMN+CRBQUa3Omzw63LA4XqE9VVWX4oZ9PTb1C6+V6gFZnT/HXf48yysbhjbypg/tyjjly4LkZaAT6NtlVyHrhbQex8qimtqXxAvfzL0JytQLaErfbAQdAUA7BaOYIZMbOEupSy6jJkU2WDDrc2Ofbu4MzyagqD8Yh5HG6myr9RYJ2pJM/53ZMzS6mtFtkyYfz+qzSmtKR4ALKqc957dvi1dmf1/mMtvv4hPW4FgG7WfpfLh1KIybE3t88XtippIFvWD5gdQB9VtMOEQkKkHJsDCGKnG2kU0BHt+wQuVX7bnlRXSKKqyj7NaiRVWlTFFtAv78iybI21P9jVl3fSuPCLITGDS9Y8gFUcMKaip/ysNrljTd4sOdLmhLRUKa0edd8X9k0Fk4XqnU4OKWvDu124BiQtPPEC14iIjqUa0mqO0wlUU/8yLHOyAFiyBl1Msru4quSfttUY1WZXCJoe/cMfd6ssMFAKZqLEV4co0HTyi0P0Fb7I4i9QRW0ZSnAmVMvOUKv4xLWvwXz+gMwb2F7cVZMYJJGZUNACV9Rx58AXeSC8umU1ICJt8YYDbtbPelNj1yAITuxsDBVYKA46RxFN91MIFijUzjGsuKPYsQa5loFQkvr3STCYQ4Gex5EljiZmx++beR7yIRkF7DmxWSuYQW8ymfhvVIgyIZtEoykdQvEhc4oltAlMBlkX9pjYShdFDjMCIpphi6vPZjJX/dNa1Sy99HoD9oGkQAMGHznQgu37NVeOe2C7dPpsA/aJqKriSpGFukpXpBFxxHB1UtJr3Jqwj0QwP1iKB+oIFsX8wzPTEClQvR412+7CPhIhkc76oo4MaXtsPm45oV76COa/pkqGxR2wz0TrQfbUz87zIMcL/zlIIbJIRza7XJeeLM2+2YF9KDqaJKWNu/J+eo53x+ESrdAfapZqPp1tN2AfS4E1Z0/eXwf1n5ipiWapF6B0mW5/mKJo7Tf/MEj+C8bKxh+BDdKiAAAAAElFTkSuQmCC",Bfe="/assets/project-logo2-DzaBx5ja.png",Ffe="/assets/project-logo3-CR9KjQEa.png",Ofe="/assets/project-logo4-C_XSescM.png",kfe="/assets/project-logo5-CDpsVGmD.png",Nfe="/assets/spotlightorange-LG-n0ZG3.png",Ufe="/assets/spotlightgreen-DzjoSo52.png",zfe="/assets/spotlightblue-DwukE5au.png",jfe="/assets/spotlightviolet-DQ8tWyWs.png",w1={project_logo1:Dfe,project_logo2:Bfe,project_logo3:Ffe,project_logo4:Ofe,project_logo5:kfe,spotlightorange:Nfe,spotlightgreen:Ufe,spotlightblue:zfe,spotlightviolet:jfe},j9="/assets/portfolio-DL7atkyF.mp4",Hfe="/assets/zettelkasten-C6amqKo5.mp4",Gfe="/assets/gameofgenerals-1seJgRuy.mp4",Vfe="/assets/vimsmartq-wS_xHpiS.mp4",Wfe="/assets/weddinginvitation-CZUB5ik2.mp4",b1={placeholder:j9,zettelkasten:Hfe,gameofgenerals:Gfe,vimsmartq:Vfe,portfolio:j9,weddinginvitation:Wfe},bN=[{name:"Web Development",description:"I specialize in frontend development using React.js, Next.js, and Redux. I have experience with backend development using Node.js and Express."},{name:"Object-Oriented Programming",description:"I have experience with object-oriented programming languages such as Java, C++, and Python. I have worked on projects using design patterns such as MVC and Singleton."},{name:"RESTful APIs",description:"I have experience with RESTful APIs and have worked on projects using tools such as Postman. I have also worked with databases such as MongoDB, MySQL, and InfluxDB."},{name:"Agile Project Management",description:"I have experience with Agile project management methodologies such as Scrum and Kanban. I have worked on projects using tools such as Jira and Trello."},{name:"MVC Design Pattern",description:"I have experience with the Model-View-Controller design pattern and have worked on projects using frameworks such as Spring and Django."},{name:"Computer Networking",description:"I have experience with computer networking concepts such as TCP/IP, OSI model, and routing protocols. I have worked on projects using tools such as GNS3 and Wireshark."},{name:"Unit Testing",description:"I have experience with unit testing frameworks such as Jest and JUnit. I have worked on projects using test-driven development (TDD) and behavior-driven development (BDD)."},{name:"Data Visualization",description:"I have experience with data visualization libraries such as D3.js and Three.js. I have also worked with databases such as MongoDB, MySQL, and InfluxDB."},{name:"Software Engineering",description:"I have experience with software engineering principles and practices. I have worked on projects using Java, C++, and Python."},{name:"DevOps",description:"I have experience with DevOps tools such as Docker and Postman. I have also worked with REST APIs and Raspberry Pi."},{name:"Scripting",description:"I have experience with scripting languages such as Bash and Python. I have worked on projects using tools such as Vim and Neovim."}],Xfe=[{imageUrl:Ne.reactjs,name:"React.js",type:"Frontend"},{imageUrl:Ne.redux,name:"Redux",type:"State Management"},{imageUrl:Ne.vite,name:"Vite",type:"Frontend"},{imageUrl:Ne.nextjs,name:"Next.js",type:"Frontend"},{imageUrl:Ne.html,name:"HTML",type:"Frontend"},{imageUrl:Ne.css,name:"CSS",type:"Frontend"},{imageUrl:Ne.javascript,name:"JavaScript",type:"Frontend"},{imageUrl:Ne.typescript,name:"TypeScript",type:"Frontend"},{imageUrl:Ne.sass,name:"Sass",type:"Frontend"},{imageUrl:Ne.tailwindcss,name:"Tailwind CSS",type:"Frontend"},{imageUrl:Ne.bootstrap,name:"Bootstrap",type:"Frontend"},{imageUrl:Ne.mui,name:"Material-UI",type:"Frontend"},{imageUrl:Ne.jquery,name:"jQuery",type:"Frontend"},{imageUrl:Ne.threejs,name:"Three.js",type:"Frontend"},{imageUrl:Ne.d3js,name:"D3.js",type:"Frontend"},{imageUrl:Ne.framermotion,name:"Motion",type:"Frontend"},{imageUrl:Ne.nodejs,name:"Node.js",type:"Backend"},{imageUrl:Ne.neo4j,name:"Neo4j",type:"Database"},{imageUrl:Ne.influxdb,name:"InfluxDB",type:"Database"},{imageUrl:Ne.mysql,name:"MySQL",type:"Database"},{imageUrl:Ne.mongodb,name:"MongoDB",type:"Database"},{imageUrl:Ne.express,name:"Express",type:"Backend"},{imageUrl:Ne.restapi,name:"REST API",type:"API"},{imageUrl:Ne.postman,name:"Postman",type:"API Testing"},{imageUrl:Ne.github,name:"GitHub",type:"Version Control"},{imageUrl:Ne.git,name:"Git",type:"Version Control"},{imageUrl:Ne.python,name:"Python",type:"Programming"},{imageUrl:Ne.cpp,name:"C++",type:"Programming"},{imageUrl:Ne.c,name:"C",type:"Programming"},{imageUrl:Ne.java,name:"Java",type:"Programming"},{imageUrl:Ne.linux,name:"Linux/Unix",type:"Operating System"},{imageUrl:Ne.vim,name:"Vim",type:"Text Editor"},{imageUrl:Ne.neovim,name:"Neovim",type:"Text Editor"},{imageUrl:Ne.docker,name:"Docker",type:"DevOps"},{imageUrl:Ne.gns3,name:"GNS3",type:"Networking"},{imageUrl:Ne.rpi,name:"Raspberry Pi",type:"Hardware"}],Kfe=[{title:"Software Engineer Intern",company_name:"UCSD DERConnect",url:"https://sites.google.com/ucsd.edu/derconnect/home",icon:Rp,iconBg:"#f8ef62",date:"Aug 2022 - July 2024",points:[],gallery:[],tags:[{path:Ne.reactjs,name:"React.js"},{path:Ne.mui,name:"Material-UI"},{path:Ne.neo4j,name:"Neo4j"},{path:Ne.docker,name:"Docker"},{path:Ne.influxdb,name:"InfluxDB"},{path:Ne.mongodb,name:"MongoDB"},{path:Ne.express,name:"Express"},{path:Ne.python,name:"Python"}]},{title:"Software Engineer Intern",company_name:"UCSD DERConnect",url:"https://sites.google.com/ucsd.edu/derconnect/home",icon:Rp,iconBg:"#f8ef62",date:"Aug 2022 - December 2022",points:["Spearheaded development of internal web app for university-wide smart plug device management, improving operational efficiency by 50%"],gallery:[{imageUrl:Cfe,description:"UCSD DERConnect internal web app dashboard"},{imageUrl:Mfe,description:"UCSD DERConnect internal web app dashboard"},{imageUrl:Efe,description:"UCSD DERConnect internal web app dashboard"}],tags:[]},{title:"Software Engineer Intern",company_name:"UCSD DERConnect",url:"https://sites.google.com/ucsd.edu/derconnect/home",icon:Rp,iconBg:"#f8ef62",date:"January 2023 - May 2023",points:["Optimized website database operations, resulting in a 6000% increase in service API data throughput"],gallery:[{imageUrl:Tfe,description:"UCSD DERConnect internal web app backend API endpoints"}],tags:[]},{title:"Software Engineer Intern",company_name:"UCSD DERConnect",url:"https://sites.google.com/ucsd.edu/derconnect/home",icon:Rp,iconBg:"#f8ef62",date:"June 2023 - September 2023 ",points:["Engineered automation solutions for QR code generation and dynamic CSV creation, saving 100+ hours of manual labor"],gallery:[{imageUrl:Rfe,description:"UCSD DERConnect Smart Plugs QR code design template"},{imageUrl:Pfe,description:"UCSD DERConnect Smart Plugs QR code generation Python code snippet"}],tags:[]},{title:"Software Engineer Intern",company_name:"UCSD DERConnect",url:"https://sites.google.com/ucsd.edu/derconnect/home",icon:Rp,iconBg:"#f8ef62",date:"January 2024 - April 2024",points:["Implemented comprehensive test automation strategies, significantly enhancing software reliability and reducing bug detection time"],gallery:[],tags:[]},{title:"Software Engineer Intern",company_name:"UCSD DERConnect",icon:Rp,iconBg:"#f8ef62",date:"March 2024 - July 2024",points:["Authored technical documentation for internal web app backend API endpoints, significanlty enhancing team collaboration and knowledge sharing"],gallery:[{imageUrl:Ife,description:""},{imageUrl:Lfe,description:""}],tags:[]},{title:"Junior Software Systems Engineer",company_name:"TrustThink",url:"https://www.trustthink.net/about",icon:bfe,iconBg:"#a6d1ff",date:"July 2024 - Present",points:["Architected scalable global network topology simulation using Docker and GNS3, reducing setup time by 70%","Developed testbed for dynamic discovery of encryptor devices, enhancing real-world network simulations","Engineered SNMP protocol emulation for encryptor devices, enabling testbed operational management and monitoring","Spearheaded as one of the lead research engineers of operational management and dynamic discovery approaches for End Cryptographic Units (ECU) or High Assurance Devices (HAD)."],gallery:[],tags:[{path:Ne.gns3,name:"GNS3"},{path:Ne.python,name:"Python"},{path:Ne.docker,name:"Docker"},{path:Ne.git,name:"Git"}]}],SX=[{name:"Resume",iconUrl:Ne.blueresume,link:"/resume"},{name:"Contact",iconUrl:Ne.contact,link:"/contact"},{name:"GitHub",iconUrl:Ne.bluegithub,link:"https://github.com/marklcrns"},{name:"LinkedIn",iconUrl:Ne.linkedin,link:"https://www.linkedin.com/in/marklucernas/"}],wX=[{title:"MarkLucernas.com - Personal Portfolio Web App",desc:"My personal portfolio web app showcasing my professional experiences, projects, skills, and more. If you are wondering, you guessed right! You are currently on my portfolio web app... Webception.",subdesc:"This portfolio web app is built using React.js framework utilizing Three.js for the 3D rendering and animations, and much more!",href:"https://marklucernas.com/",texture:b1.portfolio,iconUrl:Ne.portfolio,theme:"red",spotlight:w1.spotlightorange,tags:[{name:"React.js",path:Ne.reactjs},{name:"Vite",path:Ne.vite},{name:"Tailwind CSS",path:Ne.tailwindcss},{name:"Three.js",path:Ne.threejs},{name:"Framer Motion",path:Ne.framermotion}]},{title:"MarkLucernas.dev - Zettelkasten Blog Web App",desc:"A Zettelkasten inspired blog weg app with over 100+ educational blog posts I authored. It features an interactive 3D neuron-like force-directed graph for visualizing blog post back and forward links, mimicking the spirit of a Zettelkasten notes organization.",subdesc:"Built in interactive 3D neuron-like force-directed graph for visualizing blog post connections using Three.js with integrated RSS feed support and Disqus-powered comment sections to enhance user engagement. ",href:"https://marklucernas.dev/",texture:b1.zettelkasten,iconUrl:Ne.neuron,theme:"yellow",spotlight:w1.spotlightorange,tags:[{name:"HTML",path:Ne.html},{name:"CSS",path:Ne.css},{name:"JavaScript",path:Ne.javascript},{name:"Three.js",path:Ne.threejs},{name:"RSS",path:Ne.rss},{name:"Disqus",path:Ne.disqus}]},{title:"We're Getting Married! - Wedding Invitation Web App",desc:"Wedding Invitation Web App for my own wedding 🙂. It features animations of a wedding invitation card, levering Google Sheets API to manage guest list, and a beautiful landing page showcasing the bride and groom's journey as a couple.",subdesc:"Implemented custom animations, transitions, wedding event count-down timer, dynamic gallery, vertical timeline, and more to create an engaging user experience. Integrated with Google Sheets as Dababase for the guests registration form.",href:"http://marklucernas.com/wedding-invitation/",texture:b1.weddinginvitation,iconUrl:Ne.rings,theme:"yellow",spotlight:w1.spotlightorange,tags:[{name:"HTML",path:Ne.html},{name:"Sass",path:Ne.sass},{name:"JavaScript",path:Ne.javascript},{name:"jQuery",path:Ne.jquery},{name:"Gulp",path:Ne.gulp},{name:"Google Sheets",path:Ne.googlesheets}]},{title:"Game of Generals - Cross-platform Board Game",desc:"A cross-platform board game that is inpspired by the classic board game that originated from the Philippines called 'Salpakan', more commonly known as 'Generals'. I created this board game as a tribute to my childhood memories playing this game with my friends in school during recess.",subdesc:"Architected a cross-platform board game written in Java using libGDX and MVC design pattern. Engineered an AI adversarial player using a custom Minimax-derived algorithm. Implemented local networking support via Socket Programming for multiplayer functionality.",href:"https://github.com/marklcrns/Generals-2.0",texture:b1.gameofgenerals,iconUrl:Ne.tank,theme:"blue",spotlight:w1.spotlightblue,tags:[{name:"Java",path:Ne.java},{name:"Gradle",path:Ne.gradle},{name:"libGDX",path:Ne.libgdx}]},{title:"Vim Smart-Q - A Vim/Neovim Plugin",desc:"A Vim text editor plugin loved by hundreds of developers to extend and simplify its basic 'quit' functionality. It addresses the infamous 'How do I exit Vim?' by offering an intuitive solution which accelerates learning of Vim or making developer's life easier without reinventing the wheel.",subdesc:"Developed a Vim/Neovim plugin purely written in VimScript, enhancing the basic 'quit' functionality with a smarter and more intuitive behavior. The plugin is designed to be lightweight, easy to install, and compatible with most Vim/Neovim configurations and integrates well with popular plugins such as Zen-mode, Goyo, diffview.nvim, and more.",href:"https://github.com/marklcrns/vim-smartq",texture:b1.vimsmartq,iconUrl:Ne.vimwhite,theme:"green",spotlight:w1.spotlightgreen,tags:[{name:"Vim",path:Ne.vim},{name:"Neovim",path:Ne.neovim},{name:"Bash",path:Ne.bash}]}],Yfe=[{iconUrl:Ne.noodles,theme:"yellow",name:"Full Stack Fortune Telling Web App",description:"Led frontend development team to create a top-rated web UI design in UCSD Spring 2023 cohort. Managed full-stack development, resulting in project recognition as one of the leading initiatives.",link:"https://github.com/cse110-sp23-group15/cse110-sp23-group15"},{iconUrl:Ne.wizard,theme:"blue",name:"The Wizard Game",description:"Led the development of a Java top-down shooter game's logic and world-building design and enforced object-oriented design. Improve in-game performance, giving the UI animation a 2X boost in frame rate by optimizing input events and pre-fetching resources behind a loading screen.",link:"https://github.com/MiramarCISC/CISC191-SUM20-A"},{iconUrl:Ne.router,theme:"black",name:"Layer 3 Router Simulation",description:"Implemented a functional router device simulating Internet routing protocols in a controlled network topology. Enhanced layer 3 packet handling with support for Ethernet frames, ARP, IP forwarding, and ICMP. Code is not available publicly, please proceed to the link below to request access.",link:"/contact"},{iconUrl:Ne.box,theme:"black",name:"Ez Install Unix Package Manager",description:"Developed a Unix/FreeBSD package installer written purely in Bash for portability. Simplifies the user experience by providing a single command interface for all package, reduces the learning curve for new Unix/Linux users by abstracting away distribution-specific package managers installations",link:"https://github.com/marklcrns/ez-install"}],Jfe=()=>w.jsxs("footer",{className:"footer font-poppins",children:[w.jsx("hr",{className:"border-slate-200"}),w.jsxs("div",{className:"footer-container",children:[w.jsxs("p",{children:["© 2024 ",w.jsx("strong",{children:"Mark Lucernas"}),". All rights reserved."]}),w.jsx("div",{className:"flex gap-3 justify-center items-center",children:SX.map(i=>w.jsx(gh,{to:i.link,target:"_blank",children:w.jsx("img",{src:i.iconUrl,alt:i.name,className:"w-6 h-6 object-contain"})},i.name))})]})]}),bX=U.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"}),yM=U.createContext({}),WI=U.createContext(null),XI=typeof window<"u",qfe=XI?U.useLayoutEffect:U.useEffect,CX=U.createContext({strict:!1}),_M=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Zfe="framerAppearId",MX="data-"+_M(Zfe),Qfe={skipAnimations:!1,useManualTiming:!1};function $fe(i){let e=new Set,t=new Set,n=!1,r=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),i()),c(o)}const l={schedule:(c,u=!1,h=!1)=>{const m=h&&n?e:t;return u&&s.add(c),m.has(c)||m.add(c),c},cancel:c=>{t.delete(c),s.delete(c)},process:c=>{if(o=c,n){r=!0;return}n=!0,[e,t]=[t,e],t.clear(),e.forEach(a),n=!1,r&&(r=!1,l.process(c))}};return l}const HS=["read","resolveKeyframes","update","preRender","render","postRender"],e0e=40;function EX(i,e){let t=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=HS.reduce((v,A)=>(v[A]=$fe(s),v),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:d}=o,m=()=>{const v=performance.now();t=!1,r.delta=n?1e3/60:Math.max(Math.min(v-r.timestamp,e0e),1),r.timestamp=v,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),u.process(r),h.process(r),d.process(r),r.isProcessing=!1,t&&e&&(n=!1,i(m))},g=()=>{t=!0,n=!0,r.isProcessing||i(m)};return{schedule:HS.reduce((v,A)=>{const S=o[A];return v[A]=(C,T=!1,E=!1)=>(t||g(),S.schedule(C,T,E)),v},{}),cancel:v=>{for(let A=0;A<HS.length;A++)o[HS[A]].cancel(v)},state:r,steps:o}}const{schedule:KI,cancel:pSe}=EX(queueMicrotask,!1);function im(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}const TX=U.createContext({});let CN=!1;function t0e(i,e,t,n,r){var s;const{visualElement:o}=U.useContext(yM),a=U.useContext(CX),l=U.useContext(WI),c=U.useContext(bX).reducedMotion,u=U.useRef();n=n||a.renderer,!u.current&&n&&(u.current=n(i,{visualState:e,parent:o,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=u.current,d=U.useContext(TX);h&&!h.projection&&r&&(h.type==="html"||h.type==="svg")&&i0e(u.current,t,r,d),U.useInsertionEffect(()=>{h&&h.update(t,l)});const m=t[MX],g=U.useRef(!!m&&!window.MotionHandoffIsComplete&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,m)));return qfe(()=>{h&&(h.updateFeatures(),KI.render(h.render),g.current&&h.animationState&&h.animationState.animateChanges())}),U.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current=!1,CN||(CN=!0,queueMicrotask(n0e)))}),h}function n0e(){window.MotionHandoffIsComplete=!0}function i0e(i,e,t,n){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;i.projection=new t(i.latestValues,e["data-framer-portal-id"]?void 0:RX(i.parent)),i.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&im(a),visualElement:i,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:c})}function RX(i){if(i)return i.options.allowProjection!==!1?i.projection:RX(i.parent)}function r0e(i,e,t){return U.useCallback(n=>{n&&i.mount&&i.mount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):im(t)&&(t.current=n))},[e])}function fy(i){return typeof i=="string"||Array.isArray(i)}function py(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}const YI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],JI=["initial",...YI];function xM(i){return py(i.animate)||JI.some(e=>fy(i[e]))}function PX(i){return!!(xM(i)||i.variants)}function s0e(i,e){if(xM(i)){const{initial:t,animate:n}=i;return{initial:t===!1||fy(t)?t:void 0,animate:fy(n)?n:void 0}}return i.inherit!==!1?e:{}}function o0e(i){const{initial:e,animate:t}=s0e(i,U.useContext(yM));return U.useMemo(()=>({initial:e,animate:t}),[MN(e),MN(t)])}function MN(i){return Array.isArray(i)?i.join(" "):i}const EN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ug={};for(const i in EN)ug[i]={isEnabled:e=>EN[i].some(t=>!!e[t])};function a0e(i){for(const e in i)ug[e]={...ug[e],...i[e]}}const IX=U.createContext({}),l0e=Symbol.for("motionComponentSymbol"),Lr=i=>i;let H9=Lr;function c0e({preloadedFeatures:i,createVisualElement:e,useRender:t,useVisualState:n,Component:r}){i&&a0e(i);function s(a,l){let c;const u={...U.useContext(bX),...a,layoutId:u0e(a)},{isStatic:h}=u,d=o0e(a),m=n(a,h);if(!h&&XI){h0e();const g=d0e(u);c=g.MeasureLayout,d.visualElement=t0e(r,m,u,e,g.ProjectionNode)}return w.jsxs(yM.Provider,{value:d,children:[c&&d.visualElement?w.jsx(c,{visualElement:d.visualElement,...u}):null,t(r,a,r0e(m,d.visualElement,l),m,h,d.visualElement)]})}const o=U.forwardRef(s);return o[l0e]=r,o}function u0e({layoutId:i}){const e=U.useContext(IX).id;return e&&i!==void 0?e+"-"+i:i}function h0e(i,e){U.useContext(CX).strict}function d0e(i){const{drag:e,layout:t}=ug;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(i)||t!=null&&t.isEnabled(i)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function f0e(i){function e(n,r={}){return c0e(i(n,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(n,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const p0e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qI(i){return typeof i!="string"||i.includes("-")?!1:!!(p0e.indexOf(i)>-1||/[A-Z]/u.test(i))}const ob={};function m0e(i){Object.assign(ob,i)}const yx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Uh=new Set(yx);function LX(i,{layout:e,layoutId:t}){return Uh.has(i)||i.startsWith("origin")||(e||t!==void 0)&&(!!ob[i]||i==="opacity")}const Pr=i=>!!(i&&i.getVelocity),DX=(i,e)=>e&&typeof i=="number"?e.transform(i):i,Eh=(i,e,t)=>t>e?e:t<i?i:t,Rg={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},Av={...Rg,transform:i=>Eh(0,1,i)},GS={...Rg,default:1},Sv=i=>Math.round(i*1e5)/1e5,ZI=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,g0e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,v0e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function _x(i){return typeof i=="string"}function y0e(i){return i==null}const xx=i=>({test:e=>_x(e)&&e.endsWith(i)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${i}`}),gu=xx("deg"),fl=xx("%"),At=xx("px"),_0e=xx("vh"),x0e=xx("vw"),TN={...fl,parse:i=>fl.parse(i)/100,transform:i=>fl.transform(i*100)},RN={...Rg,transform:Math.round},QI={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,size:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,rotate:gu,rotateX:gu,rotateY:gu,rotateZ:gu,scale:GS,scaleX:GS,scaleY:GS,scaleZ:GS,skew:gu,skewX:gu,skewY:gu,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:Av,originX:TN,originY:TN,originZ:At,zIndex:RN,backgroundPositionX:At,backgroundPositionY:At,fillOpacity:Av,strokeOpacity:Av,numOctaves:RN},A0e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},S0e=yx.length;function w0e(i,e,t){let n="",r=!0;for(let s=0;s<S0e;s++){const o=yx[s],a=i[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||t){const c=DX(a,QI[o]);if(!l){r=!1;const u=A0e[o]||o;n+=`${u}(${c}) `}t&&(e[o]=c)}}return n=n.trim(),t?n=t(e,r?"":n):r&&(n="none"),n}const BX=i=>e=>typeof e=="string"&&e.startsWith(i),FX=BX("--"),b0e=BX("var(--"),$I=i=>b0e(i)?C0e.test(i.split("/*")[0].trim()):!1,C0e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function eL(i,e,t){const{style:n,vars:r,transformOrigin:s}=i;let o=!1,a=!1;for(const l in e){const c=e[l];if(Uh.has(l)){o=!0;continue}else if(FX(l)){r[l]=c;continue}else{const u=DX(c,QI[l]);l.startsWith("origin")?(a=!0,s[l]=u):n[l]=u}}if(e.transform||(o||t?n.transform=w0e(e,i.transform,t):n.transform&&(n.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;n.transformOrigin=`${l} ${c} ${u}`}}const tL=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function OX(i,e,t){for(const n in e)!Pr(e[n])&&!LX(n,t)&&(i[n]=e[n])}function M0e({transformTemplate:i},e){return U.useMemo(()=>{const t=tL();return eL(t,e,i),Object.assign({},t.vars,t.style)},[e])}function E0e(i,e){const t=i.style||{},n={};return OX(n,t,i),Object.assign(n,M0e(i,e)),n}function T0e(i,e){const t={},n=E0e(i,e);return i.drag&&i.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(t.tabIndex=0),t.style=n,t}const R0e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ab(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||R0e.has(i)}let kX=i=>!ab(i);function P0e(i){i&&(kX=e=>e.startsWith("on")?!ab(e):i(e))}try{P0e(require("@emotion/is-prop-valid").default)}catch{}function I0e(i,e,t){const n={};for(const r in i)r==="values"&&typeof i.values=="object"||(kX(r)||t===!0&&ab(r)||!e&&!ab(r)||i.draggable&&r.startsWith("onDrag"))&&(n[r]=i[r]);return n}function PN(i,e,t){return typeof i=="string"?i:At.transform(e+t*i)}function L0e(i,e,t){const n=PN(e,i.x,i.width),r=PN(t,i.y,i.height);return`${n} ${r}`}const D0e={offset:"stroke-dashoffset",array:"stroke-dasharray"},B0e={offset:"strokeDashoffset",array:"strokeDasharray"};function F0e(i,e,t=1,n=0,r=!0){i.pathLength=1;const s=r?D0e:B0e;i[s.offset]=At.transform(-n);const o=At.transform(e),a=At.transform(t);i[s.array]=`${o} ${a}`}function nL(i,{attrX:e,attrY:t,attrScale:n,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,h){if(eL(i,c,h),u){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:d,style:m,dimensions:g}=i;d.transform&&(g&&(m.transform=d.transform),delete d.transform),g&&(r!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=L0e(g,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(d.x=e),t!==void 0&&(d.y=t),n!==void 0&&(d.scale=n),o!==void 0&&F0e(d,o,a,l,!1)}const NX=()=>({...tL(),attrs:{}}),iL=i=>typeof i=="string"&&i.toLowerCase()==="svg";function O0e(i,e,t,n){const r=U.useMemo(()=>{const s=NX();return nL(s,e,iL(n),i.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(i.style){const s={};OX(s,i.style,i),r.style={...s,...r.style}}return r}function k0e(i=!1){return(t,n,r,{latestValues:s},o)=>{const l=(qI(t)?O0e:T0e)(n,s,o,t),c=I0e(n,typeof t=="string",i),u=t!==U.Fragment?{...c,...l,ref:r}:{},{children:h}=n,d=U.useMemo(()=>Pr(h)?h.get():h,[h]);return U.createElement(t,{...u,children:d})}}function UX(i,{style:e,vars:t},n,r){Object.assign(i.style,e,r&&r.getProjectionStyles(n));for(const s in t)i.style.setProperty(s,t[s])}const zX=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jX(i,e,t,n){UX(i,e,void 0,n);for(const r in e.attrs)i.setAttribute(zX.has(r)?r:_M(r),e.attrs[r])}function rL(i,e,t){var n;const{style:r}=i,s={};for(const o in r)(Pr(r[o])||e.style&&Pr(e.style[o])||LX(o,i)||((n=t==null?void 0:t.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(s[o]=r[o]);return t&&r&&typeof r.willChange=="string"&&(t.applyWillChange=!1),s}function HX(i,e,t){const n=rL(i,e,t);for(const r in i)if(Pr(i[r])||Pr(e[r])){const s=yx.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=i[r]}return n}function IN(i){const e=[{},{}];return i==null||i.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function sL(i,e,t,n){if(typeof e=="function"){const[r,s]=IN(n);e=e(t!==void 0?t:i.custom,r,s)}if(typeof e=="string"&&(e=i.variants&&i.variants[e]),typeof e=="function"){const[r,s]=IN(n);e=e(t!==void 0?t:i.custom,r,s)}return e}function N0e(i){const e=U.useRef(null);return e.current===null&&(e.current=i()),e.current}const G9=i=>Array.isArray(i),U0e=i=>!!(i&&typeof i=="object"&&i.mix&&i.toValue),z0e=i=>G9(i)?i[i.length-1]||0:i;function y5(i){const e=Pr(i)?i.get():i;return U0e(e)?e.toValue():e}const GX=new Set(["opacity","clipPath","filter","transform"]);function VX(i){if(Uh.has(i))return"transform";if(GX.has(i))return _M(i)}function AM(i,e){i.indexOf(e)===-1&&i.push(e)}function SM(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}function j0e({applyWillChange:i=!1,scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,o,a){const l={latestValues:G0e(r,s,o,a?!1:i,e),renderState:t()};return n&&(l.mount=c=>n(r,c,l)),l}const WX=i=>(e,t)=>{const n=U.useContext(yM),r=U.useContext(WI),s=()=>j0e(i,e,n,r,t);return t?s():N0e(s)};function H0e(i,e){const t=VX(e);t&&AM(i,t)}function LN(i,e,t){const n=Array.isArray(e)?e:[e];for(let r=0;r<n.length;r++){const s=sL(i,n[r]);if(s){const{transitionEnd:o,transition:a,...l}=s;t(l,o)}}}function G0e(i,e,t,n,r){var s;const o={},a=[],l=n&&((s=i.style)===null||s===void 0?void 0:s.willChange)===void 0,c=r(i,{});for(const _ in c)o[_]=y5(c[_]);let{initial:u,animate:h}=i;const d=xM(i),m=PX(i);e&&m&&!d&&i.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=t?t.initial===!1:!1;g=g||u===!1;const y=g?h:u;return y&&typeof y!="boolean"&&!py(y)&&LN(i,y,(_,v)=>{for(const A in _){let S=_[A];if(Array.isArray(S)){const C=g?S.length-1:0;S=S[C]}S!==null&&(o[A]=S)}for(const A in v)o[A]=v[A]}),l&&(h&&u!==!1&&!py(h)&&LN(i,h,_=>{for(const v in _)H0e(a,v)}),a.length&&(o.willChange=a.join(","))),o}const{schedule:cn,cancel:Gc,state:ar,steps:G6}=EX(typeof requestAnimationFrame<"u"?requestAnimationFrame:Lr,!0),V0e={useVisualState:WX({scrapeMotionValuesFromProps:HX,createRenderState:NX,onMount:(i,e,{renderState:t,latestValues:n})=>{cn.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),cn.render(()=>{nL(t,n,iL(e.tagName),i.transformTemplate),jX(e,t)})}})},W0e={useVisualState:WX({applyWillChange:!0,scrapeMotionValuesFromProps:rL,createRenderState:tL})};function X0e(i,{forwardMotionProps:e=!1},t,n){return{...qI(i)?V0e:W0e,preloadedFeatures:t,useRender:k0e(e),createVisualElement:n,Component:i}}function bc(i,e,t,n={passive:!0}){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t)}const XX=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1;function wM(i,e="page"){return{point:{x:i[`${e}X`],y:i[`${e}Y`]}}}const K0e=i=>e=>XX(e)&&i(e,wM(e));function Tc(i,e,t,n){return bc(i,e,K0e(t),n)}const Y0e=(i,e)=>t=>e(i(t)),Rc=(...i)=>i.reduce(Y0e);function KX(i){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=i,t):!1}}const DN=KX("dragHorizontal"),BN=KX("dragVertical");function YX(i){let e=!1;if(i==="y")e=BN();else if(i==="x")e=DN();else{const t=DN(),n=BN();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}function JX(){const i=YX(!0);return i?(i(),!1):!0}class zh{constructor(e){this.isMounted=!1,this.node=e}update(){}}function FN(i,e){const t=e?"pointerenter":"pointerleave",n=e?"onHoverStart":"onHoverEnd",r=(s,o)=>{if(s.pointerType==="touch"||JX())return;const a=i.getProps();i.animationState&&a.whileHover&&i.animationState.setActive("whileHover",e);const l=a[n];l&&cn.postRender(()=>l(s,o))};return Tc(i.current,t,r,{passive:!i.getProps()[n]})}class J0e extends zh{mount(){this.unmount=Rc(FN(this.node,!0),FN(this.node,!1))}unmount(){}}class q0e extends zh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rc(bc(this.node.current,"focus",()=>this.onFocus()),bc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const qX=(i,e)=>e?i===e?!0:qX(i,e.parentElement):!1;function V6(i,e){if(!e)return;const t=new PointerEvent("pointer"+i);e(t,wM(t))}class Z0e extends zh{constructor(){super(...arguments),this.removeStartListeners=Lr,this.removeEndListeners=Lr,this.removeAccessibleListeners=Lr,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),s=Tc(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:h}=this.node.getProps(),d=!h&&!qX(this.node.current,a.target)?u:c;d&&cn.update(()=>d(a,l))},{passive:!(n.onTap||n.onPointerUp)}),o=Tc(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Rc(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||V6("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&cn.postRender(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=bc(this.node.current,"keyup",o),V6("down",(a,l)=>{this.startPress(a,l)})},t=bc(this.node.current,"keydown",e),n=()=>{this.isPressing&&V6("cancel",(s,o)=>this.cancelPress(s,o))},r=bc(this.node.current,"blur",n);this.removeAccessibleListeners=Rc(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&cn.postRender(()=>n(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!JX()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&cn.postRender(()=>n(e,t))}mount(){const e=this.node.getProps(),t=Tc(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=bc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Rc(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const V9=new WeakMap,W6=new WeakMap,Q0e=i=>{const e=V9.get(i.target);e&&e(i)},$0e=i=>{i.forEach(Q0e)};function epe({root:i,...e}){const t=i||document;W6.has(t)||W6.set(t,{});const n=W6.get(t),r=JSON.stringify(e);return n[r]||(n[r]=new IntersectionObserver($0e,{root:i,...e})),n[r]}function tpe(i,e,t){const n=epe(e);return V9.set(i,t),n.observe(i),()=>{V9.delete(i),n.unobserve(i)}}const npe={some:0,all:1};class ipe extends zh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:npe[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),d=c?u:h;d&&d(l)};return tpe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(rpe(e,t))&&this.startObserver()}unmount(){}}function rpe({viewport:i={}},{viewport:e={}}={}){return t=>i[t]!==e[t]}const spe={inView:{Feature:ipe},tap:{Feature:Z0e},focus:{Feature:q0e},hover:{Feature:J0e}};function ZX(i,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==i.length)return!1;for(let n=0;n<t;n++)if(e[n]!==i[n])return!1;return!0}function bM(i,e,t){const n=i.getProps();return sL(n,e,t!==void 0?t:n.custom,i)}const Pc=i=>i*1e3,Ic=i=>i/1e3,ope={type:"spring",stiffness:500,damping:25,restSpeed:10},ape=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),lpe={type:"keyframes",duration:.8},cpe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},upe=(i,{keyframes:e})=>e.length>2?lpe:Uh.has(i)?i.startsWith("scale")?ape(e[1]):ope:cpe;function hpe({when:i,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function oL(i,e){return i[e]||i.default||i}const dpe=i=>i!==null;function CM(i,{repeat:e,repeatType:t="loop"},n){const r=i.filter(dpe),s=e&&t!=="loop"&&e%2===1?0:r.length-1;return!s||n===void 0?r[s]:n}const QX=i=>/^0[^.\s]+$/u.test(i);function fpe(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||QX(i):!0}const $X=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i),ppe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function mpe(i){const e=ppe.exec(i);if(!e)return[,];const[,t,n,r]=e;return[`--${t??n}`,r]}function eK(i,e,t=1){const[n,r]=mpe(i);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return $X(o)?parseFloat(o):o}return $I(r)?eK(r,e,t+1):r}const gpe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ON=i=>i===Rg||i===At,kN=(i,e)=>parseFloat(i.split(", ")[e]),NN=(i,e)=>(t,{transform:n})=>{if(n==="none"||!n)return 0;const r=n.match(/^matrix3d\((.+)\)$/u);if(r)return kN(r[1],e);{const s=n.match(/^matrix\((.+)\)$/u);return s?kN(s[1],i):0}},vpe=new Set(["x","y","z"]),ype=yx.filter(i=>!vpe.has(i));function _pe(i){const e=[];return ype.forEach(t=>{const n=i.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const hg={width:({x:i},{paddingLeft:e="0",paddingRight:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),height:({y:i},{paddingTop:e="0",paddingBottom:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),top:(i,{top:e})=>parseFloat(e),left:(i,{left:e})=>parseFloat(e),bottom:({y:i},{top:e})=>parseFloat(e)+(i.max-i.min),right:({x:i},{left:e})=>parseFloat(e)+(i.max-i.min),x:NN(4,13),y:NN(5,14)};hg.translateX=hg.x;hg.translateY=hg.y;const tK=i=>e=>e.test(i),xpe={test:i=>i==="auto",parse:i=>i},nK=[Rg,At,fl,gu,x0e,_0e,xpe],UN=i=>nK.find(tK(i)),s0=new Set;let W9=!1,X9=!1;function iK(){if(X9){const i=Array.from(s0).filter(n=>n.needsMeasurement),e=new Set(i.map(n=>n.element)),t=new Map;e.forEach(n=>{const r=_pe(n);r.length&&(t.set(n,r),n.render())}),i.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const r=t.get(n);r&&r.forEach(([s,o])=>{var a;(a=n.getValue(s))===null||a===void 0||a.set(o)})}),i.forEach(n=>n.measureEndState()),i.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}X9=!1,W9=!1,s0.forEach(i=>i.complete()),s0.clear()}function rK(){s0.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(X9=!0)})}function Ape(){rK(),iK()}class aL{constructor(e,t,n,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(s0.add(this),W9||(W9=!0,cn.read(rK),cn.resolveKeyframes(iK))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(n&&t){const l=n.readValue(t,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),s0.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,s0.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const lL=(i,e)=>t=>!!(_x(t)&&v0e.test(t)&&t.startsWith(i)||e&&!y0e(t)&&Object.prototype.hasOwnProperty.call(t,e)),sK=(i,e,t)=>n=>{if(!_x(n))return n;const[r,s,o,a]=n.match(ZI);return{[i]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Spe=i=>Eh(0,255,i),X6={...Rg,transform:i=>Math.round(Spe(i))},Hd={test:lL("rgb","red"),parse:sK("red","green","blue"),transform:({red:i,green:e,blue:t,alpha:n=1})=>"rgba("+X6.transform(i)+", "+X6.transform(e)+", "+X6.transform(t)+", "+Sv(Av.transform(n))+")"};function wpe(i){let e="",t="",n="",r="";return i.length>5?(e=i.substring(1,3),t=i.substring(3,5),n=i.substring(5,7),r=i.substring(7,9)):(e=i.substring(1,2),t=i.substring(2,3),n=i.substring(3,4),r=i.substring(4,5),e+=e,t+=t,n+=n,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const K9={test:lL("#"),parse:wpe,transform:Hd.transform},rm={test:lL("hsl","hue"),parse:sK("hue","saturation","lightness"),transform:({hue:i,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(i)+", "+fl.transform(Sv(e))+", "+fl.transform(Sv(t))+", "+Sv(Av.transform(n))+")"},Cr={test:i=>Hd.test(i)||K9.test(i)||rm.test(i),parse:i=>Hd.test(i)?Hd.parse(i):rm.test(i)?rm.parse(i):K9.parse(i),transform:i=>_x(i)?i:i.hasOwnProperty("red")?Hd.transform(i):rm.transform(i)};function bpe(i){var e,t;return isNaN(i)&&_x(i)&&(((e=i.match(ZI))===null||e===void 0?void 0:e.length)||0)+(((t=i.match(g0e))===null||t===void 0?void 0:t.length)||0)>0}const oK="number",aK="color",Cpe="var",Mpe="var(",zN="${}",Epe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function my(i){const e=i.toString(),t=[],n={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(Epe,l=>(Cr.test(l)?(n.color.push(s),r.push(aK),t.push(Cr.parse(l))):l.startsWith(Mpe)?(n.var.push(s),r.push(Cpe),t.push(l)):(n.number.push(s),r.push(oK),t.push(parseFloat(l))),++s,zN)).split(zN);return{values:t,split:a,indexes:n,types:r}}function lK(i){return my(i).values}function cK(i){const{split:e,types:t}=my(i),n=e.length;return r=>{let s="";for(let o=0;o<n;o++)if(s+=e[o],r[o]!==void 0){const a=t[o];a===oK?s+=Sv(r[o]):a===aK?s+=Cr.transform(r[o]):s+=r[o]}return s}}const Tpe=i=>typeof i=="number"?0:i;function Rpe(i){const e=lK(i);return cK(i)(e.map(Tpe))}const Th={test:bpe,parse:lK,createTransformer:cK,getAnimatableNone:Rpe},Ppe=new Set(["brightness","contrast","saturate","opacity"]);function Ipe(i){const[e,t]=i.slice(0,-1).split("(");if(e==="drop-shadow")return i;const[n]=t.match(ZI)||[];if(!n)return i;const r=t.replace(n,"");let s=Ppe.has(e)?1:0;return n!==t&&(s*=100),e+"("+s+r+")"}const Lpe=/\b([a-z-]*)\(.*?\)/gu,Y9={...Th,getAnimatableNone:i=>{const e=i.match(Lpe);return e?e.map(Ipe).join(" "):i}},Dpe={...QI,color:Cr,backgroundColor:Cr,outlineColor:Cr,fill:Cr,stroke:Cr,borderColor:Cr,borderTopColor:Cr,borderRightColor:Cr,borderBottomColor:Cr,borderLeftColor:Cr,filter:Y9,WebkitFilter:Y9},cL=i=>Dpe[i];function uK(i,e){let t=cL(i);return t!==Y9&&(t=Th),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Bpe=new Set(["auto","none","0"]);function Fpe(i,e,t){let n=0,r;for(;n<i.length&&!r;){const s=i[n];typeof s=="string"&&!Bpe.has(s)&&my(s).values.length&&(r=i[n]),n++}if(r&&t)for(const s of e)i[s]=uK(t,r)}class hK extends aL{constructor(e,t,n,r,s){super(e,t,n,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),$I(c))){const u=eK(c,t.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!gpe.has(n)||e.length!==2)return;const[r,s]=e,o=UN(r),a=UN(s);if(o!==a)if(ON(o)&&ON(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)fpe(e[r])&&n.push(r);n.length&&Fpe(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hg[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=hg[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function dK(i){let e;return()=>(e===void 0&&(e=i()),e)}let _5;function Ope(){_5=void 0}const Lc={now:()=>(_5===void 0&&Lc.set(ar.isProcessing||Qfe.useManualTiming?ar.timestamp:performance.now()),_5),set:i=>{_5=i,queueMicrotask(Ope)}},jN=(i,e)=>e==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(Th.test(i)||i==="0")&&!i.startsWith("url("));function kpe(i){const e=i[0];if(i.length===1)return!0;for(let t=0;t<i.length;t++)if(i[t]!==e)return!0}function Npe(i,e,t,n){const r=i[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=i[i.length-1],o=jN(r,e),a=jN(s,e);return!o||!a?!1:kpe(i)||t==="spring"&&n}const Upe=40;class fK{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Lc.now(),this.options={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Upe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Ape(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Lc.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!Npe(e,n,r,s))if(o)this.options.duration=0;else{l==null||l(CM(e,this.options,t)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,t);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...u},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function pK(i,e){return e?i*(1e3/e):0}const zpe=5;function mK(i,e,t){const n=Math.max(e-zpe,0);return pK(t-i(n),e-n)}const K6=.001,jpe=.01,Hpe=10,Gpe=.05,Vpe=1;function Wpe({duration:i=800,bounce:e=.25,velocity:t=0,mass:n=1}){let r,s,o=1-e;o=Eh(Gpe,Vpe,o),i=Eh(jpe,Hpe,Ic(i)),o<1?(r=c=>{const u=c*o,h=u*i,d=u-t,m=J9(c,o),g=Math.exp(-h);return K6-d/m*g},s=c=>{const h=c*o*i,d=h*t+t,m=Math.pow(o,2)*Math.pow(c,2)*i,g=Math.exp(-h),y=J9(Math.pow(c,2),o);return(-r(c)+K6>0?-1:1)*((d-m)*g)/y}):(r=c=>{const u=Math.exp(-c*i),h=(c-t)*i+1;return-K6+u*h},s=c=>{const u=Math.exp(-c*i),h=(t-c)*(i*i);return u*h});const a=5/i,l=Kpe(r,s,a);if(i=Pc(i),isNaN(l))return{stiffness:100,damping:10,duration:i};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:o*2*Math.sqrt(n*c),duration:i}}}const Xpe=12;function Kpe(i,e,t){let n=t;for(let r=1;r<Xpe;r++)n=n-i(n)/e(n);return n}function J9(i,e){return i*Math.sqrt(1-e*e)}const Ype=["duration","bounce"],Jpe=["stiffness","damping","mass"];function HN(i,e){return e.some(t=>i[t]!==void 0)}function qpe(i){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...i};if(!HN(i,Jpe)&&HN(i,Ype)){const t=Wpe(i);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function gK({keyframes:i,restDelta:e,restSpeed:t,...n}){const r=i[0],s=i[i.length-1],o={done:!1,value:r},{stiffness:a,damping:l,mass:c,duration:u,velocity:h,isResolvedFromDuration:d}=qpe({...n,velocity:-Ic(n.velocity||0)}),m=h||0,g=l/(2*Math.sqrt(a*c)),y=s-r,_=Ic(Math.sqrt(a/c)),v=Math.abs(y)<5;t||(t=v?.01:2),e||(e=v?.005:.5);let A;if(g<1){const S=J9(_,g);A=C=>{const T=Math.exp(-g*_*C);return s-T*((m+g*_*y)/S*Math.sin(S*C)+y*Math.cos(S*C))}}else if(g===1)A=S=>s-Math.exp(-_*S)*(y+(m+_*y)*S);else{const S=_*Math.sqrt(g*g-1);A=C=>{const T=Math.exp(-g*_*C),E=Math.min(S*C,300);return s-T*((m+g*_*y)*Math.sinh(E)+S*y*Math.cosh(E))/S}}return{calculatedDuration:d&&u||null,next:S=>{const C=A(S);if(d)o.done=S>=u;else{let T=0;g<1&&(T=S===0?Pc(m):mK(A,S,C));const E=Math.abs(T)<=t,R=Math.abs(s-C)<=e;o.done=E&&R}return o.value=o.done?s:C,o}}}function GN({keyframes:i,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=i[0],d={done:!1,value:h},m=D=>a!==void 0&&D<a||l!==void 0&&D>l,g=D=>a===void 0?l:l===void 0||Math.abs(a-D)<Math.abs(l-D)?a:l;let y=t*e;const _=h+y,v=o===void 0?_:o(_);v!==_&&(y=v-h);const A=D=>-y*Math.exp(-D/n),S=D=>v+A(D),C=D=>{const I=A(D),L=S(D);d.done=Math.abs(I)<=c,d.value=d.done?v:L};let T,E;const R=D=>{m(d.value)&&(T=D,E=gK({keyframes:[d.value,g(d.value)],velocity:mK(S,D,d.value),damping:r,stiffness:s,restDelta:c,restSpeed:u}))};return R(0),{calculatedDuration:null,next:D=>{let I=!1;return!E&&T===void 0&&(I=!0,C(D),R(D)),T!==void 0&&D>=T?E.next(D-T):(!I&&C(D),d)}}}const vK=(i,e,t)=>(((1-3*t+3*e)*i+(3*t-6*e))*i+3*e)*i,Zpe=1e-7,Qpe=12;function $pe(i,e,t,n,r){let s,o,a=0;do o=e+(t-e)/2,s=vK(o,n,r)-i,s>0?t=o:e=o;while(Math.abs(s)>Zpe&&++a<Qpe);return o}function Ax(i,e,t,n){if(i===e&&t===n)return Lr;const r=s=>$pe(s,0,1,i,t);return s=>s===0||s===1?s:vK(r(s),e,n)}const eme=Ax(.42,0,1,1),tme=Ax(0,0,.58,1),yK=Ax(.42,0,.58,1),nme=i=>Array.isArray(i)&&typeof i[0]!="number",_K=i=>e=>e<=.5?i(2*e)/2:(2-i(2*(1-e)))/2,xK=i=>e=>1-i(1-e),uL=i=>1-Math.sin(Math.acos(i)),AK=xK(uL),ime=_K(uL),SK=Ax(.33,1.53,.69,.99),hL=xK(SK),rme=_K(hL),sme=i=>(i*=2)<1?.5*hL(i):.5*(2-Math.pow(2,-10*(i-1))),VN={linear:Lr,easeIn:eme,easeInOut:yK,easeOut:tme,circIn:uL,circInOut:ime,circOut:AK,backIn:hL,backInOut:rme,backOut:SK,anticipate:sme},WN=i=>{if(Array.isArray(i)){H9(i.length===4);const[e,t,n,r]=i;return Ax(e,t,n,r)}else if(typeof i=="string")return H9(VN[i]!==void 0),VN[i];return i},gy=(i,e,t)=>{const n=e-i;return n===0?1:(t-i)/n},Hn=(i,e,t)=>i+(e-i)*t;function Y6(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function ome({hue:i,saturation:e,lightness:t,alpha:n}){i/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=Y6(l,a,i+1/3),s=Y6(l,a,i),o=Y6(l,a,i-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function lb(i,e){return t=>t>0?e:i}const J6=(i,e,t)=>{const n=i*i,r=t*(e*e-n)+n;return r<0?0:Math.sqrt(r)},ame=[K9,Hd,rm],lme=i=>ame.find(e=>e.test(i));function XN(i){const e=lme(i);if(!e)return!1;let t=e.parse(i);return e===rm&&(t=ome(t)),t}const KN=(i,e)=>{const t=XN(i),n=XN(e);if(!t||!n)return lb(i,e);const r={...t};return s=>(r.red=J6(t.red,n.red,s),r.green=J6(t.green,n.green,s),r.blue=J6(t.blue,n.blue,s),r.alpha=Hn(t.alpha,n.alpha,s),Hd.transform(r))},q9=new Set(["none","hidden"]);function cme(i,e){return q9.has(i)?t=>t<=0?i:e:t=>t>=1?e:i}function ume(i,e){return t=>Hn(i,e,t)}function dL(i){return typeof i=="number"?ume:typeof i=="string"?$I(i)?lb:Cr.test(i)?KN:fme:Array.isArray(i)?wK:typeof i=="object"?Cr.test(i)?KN:hme:lb}function wK(i,e){const t=[...i],n=t.length,r=i.map((s,o)=>dL(s)(s,e[o]));return s=>{for(let o=0;o<n;o++)t[o]=r[o](s);return t}}function hme(i,e){const t={...i,...e},n={};for(const r in t)i[r]!==void 0&&e[r]!==void 0&&(n[r]=dL(i[r])(i[r],e[r]));return r=>{for(const s in n)t[s]=n[s](r);return t}}function dme(i,e){var t;const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=i.indexes[o][r[o]],l=(t=i.values[a])!==null&&t!==void 0?t:0;n[s]=l,r[o]++}return n}const fme=(i,e)=>{const t=Th.createTransformer(e),n=my(i),r=my(e);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?q9.has(i)&&!r.values.length||q9.has(e)&&!n.values.length?cme(i,e):Rc(wK(dme(n,r),r.values),t):lb(i,e)};function bK(i,e,t){return typeof i=="number"&&typeof e=="number"&&typeof t=="number"?Hn(i,e,t):dL(i)(i,e)}function pme(i,e,t){const n=[],r=t||bK,s=i.length-1;for(let o=0;o<s;o++){let a=r(i[o],i[o+1]);if(e){const l=Array.isArray(e)?e[o]||Lr:e;a=Rc(l,a)}n.push(a)}return n}function mme(i,e,{clamp:t=!0,ease:n,mixer:r}={}){const s=i.length;if(H9(s===e.length),s===1)return()=>e[0];if(s===2&&i[0]===i[1])return()=>e[1];i[0]>i[s-1]&&(i=[...i].reverse(),e=[...e].reverse());const o=pme(e,n,r),a=o.length,l=c=>{let u=0;if(a>1)for(;u<i.length-2&&!(c<i[u+1]);u++);const h=gy(i[u],i[u+1],c);return o[u](h)};return t?c=>l(Eh(i[0],i[s-1],c)):l}function gme(i,e){const t=i[i.length-1];for(let n=1;n<=e;n++){const r=gy(0,e,n);i.push(Hn(t,1,r))}}function vme(i){const e=[0];return gme(e,i.length-1),e}function yme(i,e){return i.map(t=>t*e)}function _me(i,e){return i.map(()=>e||yK).splice(0,i.length-1)}function cb({duration:i=300,keyframes:e,times:t,ease:n="easeInOut"}){const r=nme(n)?n.map(WN):WN(n),s={done:!1,value:e[0]},o=yme(t&&t.length===e.length?t:vme(e),i),a=mme(o,e,{ease:Array.isArray(r)?r:_me(e,r)});return{calculatedDuration:i,next:l=>(s.value=a(l),s.done=l>=i,s)}}const YN=2e4;function xme(i){let e=0;const t=50;let n=i.next(e);for(;!n.done&&e<YN;)e+=t,n=i.next(e);return e>=YN?1/0:e}const Ame=i=>{const e=({timestamp:t})=>i(t);return{start:()=>cn.update(e,!0),stop:()=>Gc(e),now:()=>ar.isProcessing?ar.timestamp:Lc.now()}},Sme={decay:GN,inertia:GN,tween:cb,keyframes:cb,spring:gK},wme=i=>i/100;class fL extends fK{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:t,motionValue:n,element:r,keyframes:s}=this.options,o=(r==null?void 0:r.KeyframeResolver)||aL,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,t,n,r),this.resolver.scheduleResolve()}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=Sme[t]||cb;let l,c;a!==cb&&typeof e[0]!="number"&&(l=Rc(wme,bK(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=xme(u));const{calculatedDuration:h}=u,d=h+r,m=d*(n+1)-r;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:d,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:n}=this;if(!n){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:h}=n;if(this.startTime===null)return s.next(0);const{delay:d,repeat:m,repeatType:g,repeatDelay:y,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-d*(this.speed>=0?1:-1),A=this.speed>=0?v<0:v>u;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let S=this.currentTime,C=s;if(m){const D=Math.min(this.currentTime,u)/h;let I=Math.floor(D),L=D%1;!L&&D>=1&&(L=1),L===1&&I--,I=Math.min(I,m+1),!!(I%2)&&(g==="reverse"?(L=1-L,y&&(L-=y/h)):g==="mirror"&&(C=o)),S=Eh(0,1,L)*h}const T=A?{done:!1,value:l[0]}:C.next(S);a&&(T.value=a(T.value));let{done:E}=T;!A&&c!==null&&(E=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return R&&r!==void 0&&(T.value=CM(l,this.options,r)),_&&_(T.value),R&&this.finish(),T}get duration(){const{resolved:e}=this;return e?Ic(e.calculatedDuration):0}get time(){return Ic(this.currentTime)}set time(e){e=Pc(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Ic(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Ame,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),t&&t();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const CK=i=>Array.isArray(i)&&typeof i[0]=="number";function MK(i){return!!(!i||typeof i=="string"&&i in pL||CK(i)||Array.isArray(i)&&i.every(MK))}const k1=([i,e,t,n])=>`cubic-bezier(${i}, ${e}, ${t}, ${n})`,pL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:k1([0,.65,.55,1]),circOut:k1([.55,0,1,.45]),backIn:k1([.31,.01,.66,-.59]),backOut:k1([.33,1.53,.69,.99])};function bme(i){return EK(i)||pL.easeOut}function EK(i){if(i)return CK(i)?k1(i):Array.isArray(i)?i.map(bme):pL[i]}function Cme(i,e,t,{delay:n=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const u=EK(a);return Array.isArray(u)&&(c.easing=u),i.animate(c,{delay:n,duration:r,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const Mme=dK(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ub=10,Eme=2e4;function Tme(i){return i.type==="spring"||!MK(i.ease)}function Rme(i,e){const t=new fL({...e,keyframes:i,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:i[0]};const r=[];let s=0;for(;!n.done&&s<Eme;)n=t.sample(s),r.push(n.value),s+=ub;return{times:void 0,keyframes:r,duration:s-ub,ease:"linear"}}class JN extends fK{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:s}=this.options;this.resolver=new hK(s,(o,a)=>this.onKeyframesResolved(o,a),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){var n;let{duration:r=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((n=l.owner)===null||n===void 0)&&n.current))return!1;if(Tme(this.options)){const{onComplete:d,onUpdate:m,motionValue:g,element:y,..._}=this.options,v=Rme(e,_);e=v.keyframes,e.length===1&&(e[1]=e[0]),r=v.duration,s=v.times,o=v.ease,a="keyframes"}const h=Cme(l.owner.current,c,e,{...this.options,duration:r,times:s,ease:o});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(h.timeline=this.pendingTimeline,this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:d}=this.options;l.set(CM(e,this.options,t)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Ic(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Ic(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=Pc(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Lr;const{animation:n}=t;n.timeline=e,n.onfinish=null}return Lr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:s,ease:o,times:a}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:h,element:d,...m}=this.options,g=new fL({...m,keyframes:n,duration:r,type:s,ease:o,times:a,isGenerator:!0}),y=Pc(this.time);c.setWithVelocity(g.sample(y-ub).value,g.sample(y).value,ub)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:o,type:a}=e;return Mme()&&n&&GX.has(n)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}function Pme(i,e){let t;const n=()=>{const{currentTime:r}=e,o=(r===null?0:r.value)/100;t!==o&&i(o),t=o};return cn.update(n,!0),()=>Gc(n)}const Ime=dK(()=>window.ScrollTimeline!==void 0);class Lme{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e){const t=this.animations.map(n=>{if(Ime()&&n.attachTimeline)n.attachTimeline(e);else return n.pause(),Pme(r=>{n.time=n.duration*r},e)});return()=>{t.forEach((n,r)=>{n&&n(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const mL=(i,e,t,n={},r,s,o)=>a=>{const l=oL(n,i)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Pc(c);let h={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:i,motionValue:e,element:s?void 0:r};hpe(l)||(h={...h,...upe(i,h)}),h.duration&&(h.duration=Pc(h.duration)),h.repeatDelay&&(h.repeatDelay=Pc(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const m=CM(h.keyframes,l);if(m!==void 0)return cn.update(()=>{h.onUpdate(m),h.onComplete()}),new Lme([])}return!s&&JN.supports(h)?new JN(h):new fL(h)};class gL{constructor(){this.subscriptions=[]}add(e){return AM(this.subscriptions,e),()=>SM(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qN=30,Dme=i=>!isNaN(parseFloat(i));class TK{constructor(e,t={}){this.version="11.3.31",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,r=!0)=>{const s=Lc.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Lc.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Dme(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new gL);const n=this.events[e].add(t);return e==="change"?()=>{n(),cn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Lc.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>qN)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,qN);return pK(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vy(i,e){return new TK(i,e)}function Bme(i,e,t){i.hasValue(e)?i.getValue(e).set(t):i.addValue(e,vy(t))}function Fme(i,e){const t=bM(i,e);let{transitionEnd:n={},transition:r={},...s}=t||{};s={...s,...n};for(const o in s){const a=z0e(s[o]);Bme(i,o,a)}}function RK(i){return i.props[MX]}class Ome extends TK{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const t=VX(e);if(!t)return;const n=this.counts.get(t)||0;this.counts.set(t,n+1),n===0&&(this.output.push(t),this.update());let r=!1;return()=>{if(r)return;r=!0;const s=this.counts.get(t)-1;this.counts.set(t,s),s===0&&(SM(this.output,t),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}function kme(i){return!!(Pr(i)&&i.add)}function Z9(i,e){var t;if(!i.applyWillChange)return;let n=i.getValue("willChange");if(!n&&!(!((t=i.props.style)===null||t===void 0)&&t.willChange)&&(n=new Ome("auto"),i.addValue("willChange",n)),kme(n))return n.add(e)}function Nme({protectedKeys:i,needsAnimating:e},t){const n=i.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function PK(i,e,{delay:t=0,transitionOverride:n,type:r}={}){var s;let{transition:o=i.getDefaultTransition(),transitionEnd:a,...l}=e;n&&(o=n);const c=[],u=r&&i.animationState&&i.animationState.getState()[r];for(const h in l){const d=i.getValue(h,(s=i.latestValues[h])!==null&&s!==void 0?s:null),m=l[h];if(m===void 0||u&&Nme(u,h))continue;const g={delay:t,...oL(o||{},h)};let y=!1;if(window.MotionHandoffAnimation){const v=RK(i);if(v){const A=window.MotionHandoffAnimation(v,h,cn);A!==null&&(g.startTime=A,y=!0)}}d.start(mL(h,d,m,i.shouldReduceMotion&&Uh.has(h)?{type:!1}:g,i,y,Z9(i,h)));const _=d.animation;_&&c.push(_)}return a&&Promise.all(c).then(()=>{cn.update(()=>{a&&Fme(i,a)})}),c}function Q9(i,e,t={}){var n;const r=bM(i,e,t.type==="exit"?(n=i.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:s=i.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const o=r?()=>Promise.all(PK(i,r,t)):()=>Promise.resolve(),a=i.variantChildren&&i.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:d}=s;return Ume(i,e,u+c,h,d,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(t.delay)])}function Ume(i,e,t=0,n=0,r=1,s){const o=[],a=(i.variantChildren.size-1)*n,l=r===1?(c=0)=>c*n:(c=0)=>a-c*n;return Array.from(i.variantChildren).sort(zme).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(Q9(c,e,{...s,delay:t+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function zme(i,e){return i.sortNodePosition(e)}function jme(i,e,t={}){i.notify("AnimationStart",e);let n;if(Array.isArray(e)){const r=e.map(s=>Q9(i,s,t));n=Promise.all(r)}else if(typeof e=="string")n=Q9(i,e,t);else{const r=typeof e=="function"?bM(i,e,t.custom):e;n=Promise.all(PK(i,r,t))}return n.then(()=>{i.notify("AnimationComplete",e)})}const Hme=[...YI].reverse(),Gme=YI.length;function Vme(i){return e=>Promise.all(e.map(({animation:t,options:n})=>jme(i,t,n)))}function Wme(i){let e=Vme(i),t=ZN(),n=!0;const r=l=>(c,u)=>{var h;const d=bM(i,u,l==="exit"?(h=i.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(d){const{transition:m,transitionEnd:g,...y}=d;c={...c,...y,...g}}return c};function s(l){e=l(i)}function o(l){const c=i.getProps(),u=i.getVariantContext(!0)||{},h=[],d=new Set;let m={},g=1/0;for(let _=0;_<Gme;_++){const v=Hme[_],A=t[v],S=c[v]!==void 0?c[v]:u[v],C=fy(S),T=v===l?A.isActive:null;T===!1&&(g=_);let E=S===u[v]&&S!==c[v]&&C;if(E&&n&&i.manuallyAnimateOnMount&&(E=!1),A.protectedKeys={...m},!A.isActive&&T===null||!S&&!A.prevProp||py(S)||typeof S=="boolean")continue;let D=Xme(A.prevProp,S)||v===l&&A.isActive&&!E&&C||_>g&&C,I=!1;const L=Array.isArray(S)?S:[S];let O=L.reduce(r(v),{});T===!1&&(O={});const{prevResolvedValues:W={}}=A,X={...W,...O},Z=$=>{D=!0,d.has($)&&(I=!0,d.delete($)),A.needsAnimating[$]=!0;const Q=i.getValue($);Q&&(Q.liveStyle=!1)};for(const $ in X){const Q=O[$],ee=W[$];if(m.hasOwnProperty($))continue;let k=!1;G9(Q)&&G9(ee)?k=!ZX(Q,ee):k=Q!==ee,k?Q!=null?Z($):d.add($):Q!==void 0&&d.has($)?Z($):A.protectedKeys[$]=!0}A.prevProp=S,A.prevResolvedValues=O,A.isActive&&(m={...m,...O}),n&&i.blockInitialAnimation&&(D=!1),D&&(!E||I)&&h.push(...L.map($=>({animation:$,options:{type:v}})))}if(d.size){const _={};d.forEach(v=>{const A=i.getBaseTarget(v),S=i.getValue(v);S&&(S.liveStyle=!0),_[v]=A??null}),h.push({animation:_})}let y=!!h.length;return n&&(c.initial===!1||c.initial===c.animate)&&!i.manuallyAnimateOnMount&&(y=!1),n=!1,y?e(h):Promise.resolve()}function a(l,c){var u;if(t[l].isActive===c)return Promise.resolve();(u=i.variantChildren)===null||u===void 0||u.forEach(d=>{var m;return(m=d.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),t[l].isActive=c;const h=o(l);for(const d in t)t[d].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t,reset:()=>{t=ZN(),n=!0}}}function Xme(i,e){return typeof e=="string"?e!==i:Array.isArray(e)?!ZX(e,i):!1}function hd(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ZN(){return{animate:hd(!0),whileInView:hd(),whileHover:hd(),whileTap:hd(),whileDrag:hd(),whileFocus:hd(),exit:hd()}}class Kme extends zh{constructor(e){super(e),e.animationState||(e.animationState=Wme(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();py(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Yme=0;class Jme extends zh{constructor(){super(...arguments),this.id=Yme++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const qme={animation:{Feature:Kme},exit:{Feature:Jme}},QN=(i,e)=>Math.abs(i-e);function Zme(i,e){const t=QN(i.x,e.x),n=QN(i.y,e.y);return Math.sqrt(t**2+n**2)}class IK{constructor(e,t,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Z6(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,m=Zme(h.offset,{x:0,y:0})>=3;if(!d&&!m)return;const{point:g}=h,{timestamp:y}=ar;this.history.push({...g,timestamp:y});const{onStart:_,onMove:v}=this.handlers;d||(_&&_(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,d)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=q6(d,this.transformPagePoint),cn.update(this.updatePoint,!0)},this.handlePointerUp=(h,d)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Z6(h.type==="pointercancel"?this.lastMoveEventInfo:q6(d,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,_),g&&g(h,_)},!XX(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const o=wM(e),a=q6(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=ar;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=t;u&&u(e,Z6(a,this.history)),this.removeListeners=Rc(Tc(this.contextWindow,"pointermove",this.handlePointerMove),Tc(this.contextWindow,"pointerup",this.handlePointerUp),Tc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Gc(this.updatePoint)}}function q6(i,e){return e?{point:e(i.point)}:i}function $N(i,e){return{x:i.x-e.x,y:i.y-e.y}}function Z6({point:i},e){return{point:i,delta:$N(i,LK(e)),offset:$N(i,Qme(e)),velocity:$me(e,.1)}}function Qme(i){return i[0]}function LK(i){return i[i.length-1]}function $me(i,e){if(i.length<2)return{x:0,y:0};let t=i.length-1,n=null;const r=LK(i);for(;t>=0&&(n=i[t],!(r.timestamp-n.timestamp>Pc(e)));)t--;if(!n)return{x:0,y:0};const s=Ic(r.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-n.x)/s,y:(r.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const DK=1e-4,e2e=1-DK,t2e=1+DK,BK=.01,n2e=0-BK,i2e=0+BK;function eo(i){return i.max-i.min}function r2e(i,e,t){return Math.abs(i-e)<=t}function eU(i,e,t,n=.5){i.origin=n,i.originPoint=Hn(e.min,e.max,i.origin),i.scale=eo(t)/eo(e),i.translate=Hn(t.min,t.max,i.origin)-i.originPoint,(i.scale>=e2e&&i.scale<=t2e||isNaN(i.scale))&&(i.scale=1),(i.translate>=n2e&&i.translate<=i2e||isNaN(i.translate))&&(i.translate=0)}function wv(i,e,t,n){eU(i.x,e.x,t.x,n?n.originX:void 0),eU(i.y,e.y,t.y,n?n.originY:void 0)}function tU(i,e,t){i.min=t.min+e.min,i.max=i.min+eo(e)}function s2e(i,e,t){tU(i.x,e.x,t.x),tU(i.y,e.y,t.y)}function nU(i,e,t){i.min=e.min-t.min,i.max=i.min+eo(e)}function bv(i,e,t){nU(i.x,e.x,t.x),nU(i.y,e.y,t.y)}function o2e(i,{min:e,max:t},n){return e!==void 0&&i<e?i=n?Hn(e,i,n.min):Math.max(i,e):t!==void 0&&i>t&&(i=n?Hn(t,i,n.max):Math.min(i,t)),i}function iU(i,e,t){return{min:e!==void 0?i.min+e:void 0,max:t!==void 0?i.max+t-(i.max-i.min):void 0}}function a2e(i,{top:e,left:t,bottom:n,right:r}){return{x:iU(i.x,t,r),y:iU(i.y,e,n)}}function rU(i,e){let t=e.min-i.min,n=e.max-i.max;return e.max-e.min<i.max-i.min&&([t,n]=[n,t]),{min:t,max:n}}function l2e(i,e){return{x:rU(i.x,e.x),y:rU(i.y,e.y)}}function c2e(i,e){let t=.5;const n=eo(i),r=eo(e);return r>n?t=gy(e.min,e.max-n,i.min):n>r&&(t=gy(i.min,i.max-r,e.min)),Eh(0,1,t)}function u2e(i,e){const t={};return e.min!==void 0&&(t.min=e.min-i.min),e.max!==void 0&&(t.max=e.max-i.min),t}const $9=.35;function h2e(i=$9){return i===!1?i=0:i===!0&&(i=$9),{x:sU(i,"left","right"),y:sU(i,"top","bottom")}}function sU(i,e,t){return{min:oU(i,e),max:oU(i,t)}}function oU(i,e){return typeof i=="number"?i:i[e]||0}const aU=()=>({translate:0,scale:1,origin:0,originPoint:0}),sm=()=>({x:aU(),y:aU()}),lU=()=>({min:0,max:0}),oi=()=>({x:lU(),y:lU()});function vo(i){return[i("x"),i("y")]}function FK({top:i,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:i,max:n}}}function d2e({x:i,y:e}){return{top:e.min,right:i.max,bottom:e.max,left:i.min}}function f2e(i,e){if(!e)return i;const t=e({x:i.left,y:i.top}),n=e({x:i.right,y:i.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function Q6(i){return i===void 0||i===1}function eR({scale:i,scaleX:e,scaleY:t}){return!Q6(i)||!Q6(e)||!Q6(t)}function wd(i){return eR(i)||OK(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function OK(i){return cU(i.x)||cU(i.y)}function cU(i){return i&&i!=="0%"}function hb(i,e,t){const n=i-t,r=e*n;return t+r}function uU(i,e,t,n,r){return r!==void 0&&(i=hb(i,r,n)),hb(i,t,n)+e}function tR(i,e=0,t=1,n,r){i.min=uU(i.min,e,t,n,r),i.max=uU(i.max,e,t,n,r)}function kK(i,{x:e,y:t}){tR(i.x,e.translate,e.scale,e.originPoint),tR(i.y,t.translate,t.scale,t.originPoint)}const hU=.999999999999,dU=1.0000000000001;function p2e(i,e,t,n=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&am(i,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,kK(i,o)),n&&wd(s.latestValues)&&am(i,s.latestValues))}e.x<dU&&e.x>hU&&(e.x=1),e.y<dU&&e.y>hU&&(e.y=1)}function om(i,e){i.min=i.min+e,i.max=i.max+e}function fU(i,e,t,n,r=.5){const s=Hn(i.min,i.max,r);tR(i,e,t,s,n)}function am(i,e){fU(i.x,e.x,e.scaleX,e.scale,e.originX),fU(i.y,e.y,e.scaleY,e.scale,e.originY)}function NK(i,e){return FK(f2e(i.getBoundingClientRect(),e))}function m2e(i,e,t){const n=NK(i,t),{scroll:r}=e;return r&&(om(n.x,r.offset.x),om(n.y,r.offset.y)),n}const UK=({current:i})=>i?i.ownerDocument.defaultView:null,g2e=new WeakMap;class v2e{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=oi(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const r=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(wM(u,"page").point)},s=(u,h)=>{var d;const{drag:m,dragPropagation:g,onDragStart:y}=this.getProps();if(m&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=YX(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vo(v=>{let A=this.getAxisMotionValue(v).get()||0;if(fl.test(A)){const{projection:S}=this.visualElement;if(S&&S.layout){const C=S.layout.layoutBox[v];C&&(A=eo(C)*(parseFloat(A)/100))}}this.originPoint[v]=A}),y&&cn.postRender(()=>y(u,h)),(d=this.removeWillChange)===null||d===void 0||d.call(this),this.removeWillChange=Z9(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:d,dragDirectionLock:m,onDirectionLock:g,onDrag:y}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:_}=h;if(m&&this.currentDirection===null){this.currentDirection=y2e(_),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,_),this.updateAxis("y",h.point,_),this.visualElement.render(),y&&y(u,h)},a=(u,h)=>this.stop(u,h),l=()=>vo(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new IK(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:UK(this.visualElement)})}stop(e,t){var n;(n=this.removeWillChange)===null||n===void 0||n.call(this);const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&cn.postRender(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!VS(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=o2e(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&im(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=a2e(r.layoutBox,t):this.constraints=!1,this.elastic=h2e(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&vo(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=u2e(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!im(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=m2e(n,r.root,this.visualElement.getTransformPagePoint());let o=l2e(r.layout.layoutBox,s);if(t){const a=t(d2e(o));this.hasMutatedConstraints=!!a,a&&(o=FK(a))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=vo(u=>{if(!VS(u,t,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const d=r?200:1e6,m=r?40:1e7,g={type:"inertia",velocity:n?e[u]:0,bounceStiffness:d,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(mL(e,n,0,t,this.visualElement,!1,Z9(this.visualElement,e)))}stopAnimation(){vo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){vo(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){vo(t=>{const{drag:n}=this.getProps();if(!VS(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-Hn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!im(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};vo(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=c2e({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),vo(o=>{if(!VS(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Hn(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;g2e.set(this.visualElement,this);const e=this.visualElement.current,t=Tc(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();im(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),cn.read(n);const o=bc(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(vo(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=$9,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function VS(i,e,t){return(e===!0||e===i)&&(t===null||t===i)}function y2e(i,e=10){let t=null;return Math.abs(i.y)>e?t="y":Math.abs(i.x)>e&&(t="x"),t}class _2e extends zh{constructor(e){super(e),this.removeGroupControls=Lr,this.removeListeners=Lr,this.controls=new v2e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lr}unmount(){this.removeGroupControls(),this.removeListeners()}}const pU=i=>(e,t)=>{i&&cn.postRender(()=>i(e,t))};class x2e extends zh{constructor(){super(...arguments),this.removePointerDownListener=Lr}onPointerDown(e){this.session=new IK(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UK(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:pU(e),onStart:pU(t),onMove:n,onEnd:(s,o)=>{delete this.session,r&&cn.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=Tc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function A2e(){const i=U.useContext(WI);if(i===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:n}=i,r=U.useId();U.useEffect(()=>n(r),[]);const s=U.useCallback(()=>t&&t(r),[r,t]);return!e&&t?[!1,s]:[!0]}const x5={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mU(i,e){return e.max===e.min?0:i/(e.max-e.min)*100}const C1={correct:(i,e)=>{if(!e.target)return i;if(typeof i=="string")if(At.test(i))i=parseFloat(i);else return i;const t=mU(i,e.target.x),n=mU(i,e.target.y);return`${t}% ${n}%`}},S2e={correct:(i,{treeScale:e,projectionDelta:t})=>{const n=i,r=Th.parse(i);if(r.length>5)return n;const s=Th.createTransformer(i),o=typeof r[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=Hn(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class w2e extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;m0e(b2e),s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),x5.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||cn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),KI.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zK(i){const[e,t]=A2e(),n=U.useContext(IX);return w.jsx(w2e,{...i,layoutGroup:n,switchLayoutGroup:U.useContext(TX),isPresent:e,safeToRemove:t})}const b2e={borderRadius:{...C1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:C1,borderTopRightRadius:C1,borderBottomLeftRadius:C1,borderBottomRightRadius:C1,boxShadow:S2e},jK=["TopLeft","TopRight","BottomLeft","BottomRight"],C2e=jK.length,gU=i=>typeof i=="string"?parseFloat(i):i,vU=i=>typeof i=="number"||At.test(i);function M2e(i,e,t,n,r,s){r?(i.opacity=Hn(0,t.opacity!==void 0?t.opacity:1,E2e(n)),i.opacityExit=Hn(e.opacity!==void 0?e.opacity:1,0,T2e(n))):s&&(i.opacity=Hn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,n));for(let o=0;o<C2e;o++){const a=`border${jK[o]}Radius`;let l=yU(e,a),c=yU(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||vU(l)===vU(c)?(i[a]=Math.max(Hn(gU(l),gU(c),n),0),(fl.test(c)||fl.test(l))&&(i[a]+="%")):i[a]=c}(e.rotate||t.rotate)&&(i.rotate=Hn(e.rotate||0,t.rotate||0,n))}function yU(i,e){return i[e]!==void 0?i[e]:i.borderRadius}const E2e=HK(0,.5,AK),T2e=HK(.5,.95,Lr);function HK(i,e,t){return n=>n<i?0:n>e?1:t(gy(i,e,n))}function _U(i,e){i.min=e.min,i.max=e.max}function mo(i,e){_U(i.x,e.x),_U(i.y,e.y)}function xU(i,e){i.translate=e.translate,i.scale=e.scale,i.originPoint=e.originPoint,i.origin=e.origin}function AU(i,e,t,n,r){return i-=e,i=hb(i,1/t,n),r!==void 0&&(i=hb(i,1/r,n)),i}function R2e(i,e=0,t=1,n=.5,r,s=i,o=i){if(fl.test(e)&&(e=parseFloat(e),e=Hn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Hn(s.min,s.max,n);i===s&&(a-=e),i.min=AU(i.min,e,t,a,r),i.max=AU(i.max,e,t,a,r)}function SU(i,e,[t,n,r],s,o){R2e(i,e[t],e[n],e[r],e.scale,s,o)}const P2e=["x","scaleX","originX"],I2e=["y","scaleY","originY"];function wU(i,e,t,n){SU(i.x,e,P2e,t?t.x:void 0,n?n.x:void 0),SU(i.y,e,I2e,t?t.y:void 0,n?n.y:void 0)}function bU(i){return i.translate===0&&i.scale===1}function GK(i){return bU(i.x)&&bU(i.y)}function CU(i,e){return i.min===e.min&&i.max===e.max}function L2e(i,e){return CU(i.x,e.x)&&CU(i.y,e.y)}function MU(i,e){return Math.round(i.min)===Math.round(e.min)&&Math.round(i.max)===Math.round(e.max)}function VK(i,e){return MU(i.x,e.x)&&MU(i.y,e.y)}function EU(i){return eo(i.x)/eo(i.y)}function TU(i,e){return i.translate===e.translate&&i.scale===e.scale&&i.originPoint===e.originPoint}class D2e{constructor(){this.members=[]}add(e){AM(this.members,e),e.scheduleRender()}remove(e){if(SM(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let n;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function B2e(i,e,t){let n="";const r=i.x.translate/e.x,s=i.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((r||s||o)&&(n=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:d,skewX:m,skewY:g}=t;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),h&&(n+=`rotateX(${h}deg) `),d&&(n+=`rotateY(${d}deg) `),m&&(n+=`skewX(${m}deg) `),g&&(n+=`skewY(${g}deg) `)}const a=i.x.scale*e.x,l=i.y.scale*e.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const F2e=(i,e)=>i.depth-e.depth;class O2e{constructor(){this.children=[],this.isDirty=!1}add(e){AM(this.children,e),this.isDirty=!0}remove(e){SM(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(F2e),this.isDirty=!1,this.children.forEach(e)}}function k2e(i,e){const t=Lc.now(),n=({timestamp:r})=>{const s=r-t;s>=e&&(Gc(n),i(s-e))};return cn.read(n,!0),()=>Gc(n)}function N2e(i){return i instanceof SVGElement&&i.tagName!=="svg"}function U2e(i,e,t){const n=Pr(i)?i:vy(i);return n.start(mL("",n,e,t)),n.animation}const bd={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},N1=typeof window<"u"&&window.MotionDebug!==void 0,$6=["","X","Y","Z"],z2e={visibility:"hidden"},RU=1e3;let j2e=0;function eT(i,e,t,n){const{latestValues:r}=e;r[i]&&(t[i]=r[i],e.setStaticValue(i,0),n&&(n[i]=0))}function WK(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:e}=i.options;if(!e)return;const t=RK(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:s}=i.options;window.MotionCancelOptimisedAnimation(t,"transform",cn,!(r||s))}const{parent:n}=i;n&&!n.hasCheckedOptimisedAppear&&WK(n)}function XK({attachResizeListener:i,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=j2e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,N1&&(bd.totalNodes=bd.resolvedTargetDeltas=bd.recalculatedProjection=0),this.nodes.forEach(V2e),this.nodes.forEach(J2e),this.nodes.forEach(q2e),this.nodes.forEach(W2e),N1&&window.MotionDebug.record(bd)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new O2e)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new gL),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=N2e(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),i){let h;const d=()=>this.root.updateBlockedByResize=!1;i(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=k2e(d,250),x5.hasAnimatedSinceResize&&(x5.hasAnimatedSinceResize=!1,this.nodes.forEach(IU))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||tge,{onLayoutAnimationStart:_,onLayoutAnimationComplete:v}=u.getProps(),A=!this.targetLayout||!VK(this.targetLayout,g)||m,S=!d&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||d&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const C={...oL(y,"layout"),onPlay:_,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else d||IU(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Gc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Z2e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WK(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(PU);return}this.isUpdating||this.nodes.forEach(K2e),this.isUpdating=!1,this.nodes.forEach(Y2e),this.nodes.forEach(H2e),this.nodes.forEach(G2e),this.clearAllSnapshots();const a=Lc.now();ar.delta=Eh(0,1e3/60,a-ar.timestamp),ar.timestamp=a,ar.isProcessing=!0,G6.update.process(ar),G6.preRender.process(ar),G6.render.process(ar),ar.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,KI.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(X2e),this.sharedNodes.forEach(Q2e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,cn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){cn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=oi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!GK(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||wd(this.latestValues)||u)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),nge(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return oi();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(ige))){const{scroll:u}=this.root;u&&(om(l.x,u.offset.x),om(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=oi();if(mo(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:d}=u;u!==this.root&&h&&d.layoutScroll&&(h.wasRoot&&mo(l,o),om(l.x,h.offset.x),om(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=oi();mo(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&am(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),wd(u.latestValues)&&am(l,u.latestValues)}return wd(this.latestValues)&&am(l,this.latestValues),l}removeTransform(o){const a=oi();mo(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!wd(c.latestValues))continue;eR(c.latestValues)&&c.updateSnapshot();const u=oi(),h=c.measurePageBox();mo(u,h),wU(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return wd(this.latestValues)&&wU(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ar.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=ar.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=oi(),this.relativeTargetOrigin=oi(),bv(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),mo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=oi(),this.targetWithTransforms=oi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s2e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mo(this.target,this.layout.layoutBox),kK(this.target,this.targetDelta)):mo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=oi(),this.relativeTargetOrigin=oi(),bv(this.relativeTargetOrigin,this.target,m.target),mo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}N1&&bd.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||eR(this.parent.latestValues)||OK(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ar.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;mo(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,m=this.treeScale.y;p2e(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=oi());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xU(this.prevProjectionDelta.x,this.projectionDelta.x),xU(this.prevProjectionDelta.y,this.projectionDelta.y)),wv(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==m||!TU(this.projectionDelta.x,this.prevProjectionDelta.x)||!TU(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),N1&&bd.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sm(),this.projectionDelta=sm(),this.projectionDeltaWithTransform=sm()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=sm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=oi(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=m!==g,_=this.getStack(),v=!_||_.members.length<=1,A=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(ege));this.animationProgress=0;let S;this.mixTargetDelta=C=>{const T=C/1e3;LU(h.x,o.x,T),LU(h.y,o.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bv(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$2e(this.relativeTarget,this.relativeTargetOrigin,d,T),S&&L2e(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=oi()),mo(S,this.relativeTarget)),y&&(this.animationValues=u,M2e(u,c,this.latestValues,T,A,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Gc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=cn.update(()=>{x5.hasAnimatedSinceResize=!0,this.currentAnimation=U2e(0,RU,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(RU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&KK(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||oi();const h=eo(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const d=eo(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}mo(a,l),am(a,u),wv(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new D2e),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&eT("z",o,c,this.animationValues);for(let u=0;u<$6.length;u++)eT(`rotate${$6[u]}`,o,c,this.animationValues),eT(`skew${$6[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return z2e;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=y5(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=y5(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!wd(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=B2e(this.projectionDeltaWithTransform,this.treeScale,d),u&&(c.transform=u(d,c.transform));const{x:m,y:g}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:c.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in ob){if(d[y]===void 0)continue;const{correct:_,applyTo:v}=ob[y],A=c.transform==="none"?d[y]:_(d[y],h);if(v){const S=v.length;for(let C=0;C<S;C++)c[v[C]]=A}else c[y]=A}return this.options.layoutId&&(c.pointerEvents=h===this?y5(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(PU),this.root.sharedNodes.clear()}}}function H2e(i){i.updateLayout()}function G2e(i){var e;const t=((e=i.resumeFrom)===null||e===void 0?void 0:e.snapshot)||i.snapshot;if(i.isLead()&&i.layout&&t&&i.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=i.layout,{animationType:s}=i.options,o=t.source!==i.layout.source;s==="size"?vo(h=>{const d=o?t.measuredBox[h]:t.layoutBox[h],m=eo(d);d.min=n[h].min,d.max=d.min+m}):KK(s,t.layoutBox,n)&&vo(h=>{const d=o?t.measuredBox[h]:t.layoutBox[h],m=eo(n[h]);d.max=d.min+m,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[h].max=i.relativeTarget[h].min+m)});const a=sm();wv(a,n,t.layoutBox);const l=sm();o?wv(l,i.applyTransform(r,!0),t.measuredBox):wv(l,n,t.layoutBox);const c=!GK(a);let u=!1;if(!i.resumeFrom){const h=i.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:m}=h;if(d&&m){const g=oi();bv(g,t.layoutBox,d.layoutBox);const y=oi();bv(y,n,m.layoutBox),VK(g,y)||(u=!0),h.options.layoutRoot&&(i.relativeTarget=y,i.relativeTargetOrigin=g,i.relativeParent=h)}}}i.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(i.isLead()){const{onExitComplete:n}=i.options;n&&n()}i.options.transition=void 0}function V2e(i){N1&&bd.totalNodes++,i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function W2e(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function X2e(i){i.clearSnapshot()}function PU(i){i.clearMeasurements()}function K2e(i){i.isLayoutDirty=!1}function Y2e(i){const{visualElement:e}=i.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),i.resetTransform()}function IU(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function J2e(i){i.resolveTargetDelta()}function q2e(i){i.calcProjection()}function Z2e(i){i.resetSkewAndRotation()}function Q2e(i){i.removeLeadSnapshot()}function LU(i,e,t){i.translate=Hn(e.translate,0,t),i.scale=Hn(e.scale,1,t),i.origin=e.origin,i.originPoint=e.originPoint}function DU(i,e,t,n){i.min=Hn(e.min,t.min,n),i.max=Hn(e.max,t.max,n)}function $2e(i,e,t,n){DU(i.x,e.x,t.x,n),DU(i.y,e.y,t.y,n)}function ege(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const tge={duration:.45,ease:[.4,0,.1,1]},BU=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),FU=BU("applewebkit/")&&!BU("chrome/")?Math.round:Lr;function OU(i){i.min=FU(i.min),i.max=FU(i.max)}function nge(i){OU(i.x),OU(i.y)}function KK(i,e,t){return i==="position"||i==="preserve-aspect"&&!r2e(EU(e),EU(t),.2)}function ige(i){var e;return i!==i.root&&((e=i.scroll)===null||e===void 0?void 0:e.wasRoot)}const rge=XK({attachResizeListener:(i,e)=>bc(i,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tT={current:void 0},YK=XK({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!tT.current){const i=new rge({});i.mount(window),i.setOptions({layoutScroll:!0}),tT.current=i}return tT.current},resetTransform:(i,e)=>{i.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),sge={pan:{Feature:x2e},drag:{Feature:_2e,ProjectionNode:YK,MeasureLayout:zK}},nR={current:null},JK={current:!1};function oge(){if(JK.current=!0,!!XI)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),e=()=>nR.current=i.matches;i.addListener(e),e()}else nR.current=!1}function age(i,e,t){for(const n in e){const r=e[n],s=t[n];if(Pr(r))i.addValue(n,r);else if(Pr(s))i.addValue(n,vy(r,{owner:i}));else if(s!==r)if(i.hasValue(n)){const o=i.getValue(n);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=i.getStaticValue(n);i.addValue(n,vy(o!==void 0?o:r,{owner:i}))}}for(const n in t)e[n]===void 0&&i.removeValue(n);return e}const kU=new WeakMap,lge=[...nK,Cr,Th],cge=i=>lge.find(tK(i)),NU=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],uge=JI.length;class hge{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=aL,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,cn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=xM(t),this.isVariantNode=PX(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(const d in h){const m=h[d];l[d]!==void 0&&Pr(m)&&m.set(l[d],!1)}}mount(e){this.current=e,kU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),JK.current||oge(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nR.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){kU.delete(this.current),this.projection&&this.projection.unmount(),Gc(this.notifyUpdate),Gc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Uh.has(e),r=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&cn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ug){const t=ug[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):oi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<NU.length;n++){const r=NU[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=age(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const t={};for(let n=0;n<uge;n++){const r=JI[n],s=this.props[r];(fy(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=vy(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&($X(r)||QX(r))?r=parseFloat(r):!cge(r)&&Th.test(t)&&(r=uK(e,t)),this.setBaseTarget(e,Pr(r)?r.get():r)),Pr(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=sL(this.props,n,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Pr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new gL),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class qK extends hge{constructor(){super(...arguments),this.KeyframeResolver=hK}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}}function dge(i){return window.getComputedStyle(i)}class fge extends qK{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=UX}readValueFromInstance(e,t){if(Uh.has(t)){const n=cL(t);return n&&n.default||0}else{const n=dge(e),r=(FX(t)?n.getPropertyValue(t):n[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return NK(e,t)}build(e,t,n){eL(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return rL(e,t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pr(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}class pge extends qK{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=oi}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Uh.has(t)){const n=cL(t);return n&&n.default||0}return t=zX.has(t)?t:_M(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return HX(e,t,n)}build(e,t,n){nL(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){jX(e,t,n,r)}mount(e){this.isSVGTag=iL(e.tagName),super.mount(e)}}const mge=(i,e)=>qI(i)?new pge(e):new fge(e,{allowProjection:i!==U.Fragment}),gge={layout:{ProjectionNode:YK,MeasureLayout:zK}},vge={...qme,...spe,...sge,...gge},lm=f0e((i,e)=>X0e(i,e,vge,mge));lm.div.defaultProps={initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5}};lm.span.defaultProps={animate:{scale:[1,.5,.5,.5,1],opacity:[.5,.3,.3,.5,1],rotate:[0,0,270,270,0]},transition:{duration:.5}};const yge=({currentStage:i})=>i===1?w.jsx(lm.div,{children:w.jsxs("h1",{className:"sm:text-xl sm:leading-snug text-center neo-brutalism-blue py-4 px-8 text-white mx-5",children:["Hi, I am ",w.jsx("span",{className:"font-semibold",children:"Mark"}),"!",w.jsx("br",{}),"A Software Engineer based in San Diego, CA.",w.jsx("br",{})]})}):i===2?w.jsx(lm.span,{children:w.jsxs("div",{className:"info-box",children:[w.jsxs("p",{className:"font-medium sm:text-xl text-center",children:["I worked with many companies ",w.jsx("br",{})," and picked up many invaluable skills along the way!"]}),w.jsxs(gh,{to:"/about",className:"neo-brutalism-white neo-btn",children:["Let me introduce myself",w.jsx("img",{src:xv,alt:"arrow",className:"w-4 h-4 object-contain"})]})]})}):i===3?w.jsx(lm.div,{children:w.jsxs("div",{className:"info-box",children:[w.jsxs("p",{className:"font-medium text-center sm:text-xl",children:["I also led multiple projects to success over the years. ",w.jsx("br",{})," Curious about the impact?"]}),w.jsxs(gh,{to:"/projects",className:"neo-brutalism-white neo-btn",children:["Visit my portfolio",w.jsx("img",{src:xv,alt:"arrow",className:"w-4 h-4 object-contain"})]})]})}):i===4?w.jsx(lm.span,{children:w.jsxs("div",{className:"info-box",children:[w.jsxs("p",{className:"font-medium sm:text-xl text-center",children:["Need a project done or looking for a motivated developer? ",w.jsx("br",{})," I'm only a few keystrokes away"]}),w.jsxs(gh,{to:"/contact",className:"neo-brutalism-white neo-btn",children:["Let's talk",w.jsx("img",{src:xv,alt:"arrow",className:"w-4 h-4 object-contain"})]})]})}):null;function _ge(i,e,t){U.useEffect(()=>{if(!i||!("ResizeObserver"in window))return;const n=new ResizeObserver(t);return n.observe(i,e),()=>{n.disconnect()}},[i,e,t])}var Cv={};Cv.d=(i,e)=>{for(var t in e)Cv.o(e,t)&&!Cv.o(i,t)&&Object.defineProperty(i,t,{enumerable:!0,get:e[t]})};Cv.o=(i,e)=>Object.prototype.hasOwnProperty.call(i,e);var bt=globalThis.pdfjsLib={};Cv.d(bt,{AbortException:()=>z0,AnnotationEditorLayer:()=>dP,AnnotationEditorParamsType:()=>Mt,AnnotationEditorType:()=>Wt,AnnotationEditorUIManager:()=>b0,AnnotationLayer:()=>vve,AnnotationMode:()=>Cu,CMapCompressionType:()=>rR,ColorPicker:()=>yb,DOMSVGFactory:()=>_L,DrawLayer:()=>gP,FeatureTest:()=>ds,GlobalWorkerOptions:()=>Dc,ImageKind:()=>A5,InvalidPDFException:()=>QK,MissingPDFException:()=>U0,OPS:()=>$o,Outliner:()=>KR,PDFDataRangeTransport:()=>KY,PDFDateString:()=>sY,PDFWorker:()=>wm,PasswordResponses:()=>wge,PermissionFlag:()=>Sge,PixelsPerInch:()=>Rh,RenderingCancelledException:()=>xL,TextLayer:()=>gb,UnexpectedResponseException:()=>RM,Util:()=>lt,VerbosityLevel:()=>MM,XfaLayer:()=>JY,build:()=>Z1e,createValidAbsoluteUrl:()=>Ege,fetchData:()=>BM,getDocument:()=>H1e,getFilenameFromUrl:()=>kge,getPdfFilenameFromUrl:()=>Nge,getXfaPageViewport:()=>Uge,isDataScheme:()=>AL,isPdfFile:()=>SL,noContextMenu:()=>gs,normalizeUnicode:()=>Dge,renderTextLayer:()=>D1e,setLayerDimensions:()=>w0,shadow:()=>Jt,updateTextLayer:()=>B1e,version:()=>q1e});const Ir=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),ZK=[1,0,0,1,0,0],iR=[.001,0,0,.001,0,0],xge=1e7,nT=1.35,bo={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Cu={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Age="pdfjs_internal_editor_",Wt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Mt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Sge={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ar={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},A5={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ai={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},M1={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},MM={ERRORS:0,WARNINGS:1,INFOS:5},rR={NONE:0,BINARY:1},$o={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},wge={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let EM=MM.WARNINGS;function bge(i){Number.isInteger(i)&&(EM=i)}function Cge(){return EM}function TM(i){EM>=MM.INFOS&&console.log(`Info: ${i}`)}function Nt(i){EM>=MM.WARNINGS&&console.log(`Warning: ${i}`)}function fn(i){throw new Error(i)}function Ei(i,e){i||fn(e)}function Mge(i){switch(i==null?void 0:i.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Ege(i,e=null,t=null){if(!i)return null;try{if(t&&typeof i=="string"){if(t.addDefaultProtocol&&i.startsWith("www.")){const r=i.match(/\./g);(r==null?void 0:r.length)>=2&&(i=`http://${i}`)}if(t.tryConvertEncoding)try{i=Lge(i)}catch{}}const n=e?new URL(i,e):new URL(i);if(Mge(n))return n}catch{}return null}function Jt(i,e,t,n=!1){return Object.defineProperty(i,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const jh=function(){function e(t,n){this.constructor===e&&fn("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class sR extends jh{constructor(e,t){super(e,"PasswordException"),this.code=t}}class oR extends jh{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class QK extends jh{constructor(e){super(e,"InvalidPDFException")}}class U0 extends jh{constructor(e){super(e,"MissingPDFException")}}class RM extends jh{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class Tge extends jh{constructor(e){super(e,"FormatError")}}class z0 extends jh{constructor(e){super(e,"AbortException")}}function $K(i){(typeof i!="object"||(i==null?void 0:i.length)===void 0)&&fn("Invalid argument for bytesToString");const e=i.length,t=8192;if(e<t)return String.fromCharCode.apply(null,i);const n=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),o=i.subarray(r,s);n.push(String.fromCharCode.apply(null,o))}return n.join("")}function PM(i){typeof i!="string"&&fn("Invalid argument for stringToBytes");const e=i.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=i.charCodeAt(n)&255;return t}function Rge(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function vL(i){const e=Object.create(null);for(const[t,n]of i)e[t]=n;return e}function Pge(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function Ige(){try{return new Function(""),!0}catch{return!1}}class ds{static get isLittleEndian(){return Jt(this,"isLittleEndian",Pge())}static get isEvalSupported(){return Jt(this,"isEvalSupported",Ige())}static get isOffscreenCanvasSupported(){return Jt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Jt(this,"platform",{isMac:navigator.platform.includes("Mac")}):Jt(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return Jt(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const iT=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));var Pm,S5,Py,aR;class lt{static makeHexColor(e,t,n){return`#${iT[e]}${iT[t]}${iT[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const n=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[n,r]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[r,s]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],s[0],o[0]),Math.min(n[1],r[1],s[1],o[1]),Math.max(n[0],r[0],s[0],o[0]),Math.max(n[1],r[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(n+o)/2,l=Math.sqrt((n+o)**2-4*(n*o-s*r))/2,c=a+l||1,u=a-l||1;return[Math.sqrt(c),Math.sqrt(u)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[n,s,r,o]}static bezierBoundingBox(e,t,n,r,s,o,a,l,c){return c?(c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,l)):c=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],j(this,Py,aR).call(this,e,n,s,a,t,r,o,l,3*(-e+3*(n-s)+a),6*(e-2*n+s),3*(n-e),c),j(this,Py,aR).call(this,e,n,s,a,t,r,o,l,3*(-t+3*(r-o)+l),6*(t-2*r+o),3*(r-t),c),c}}Pm=new WeakSet,S5=function(e,t,n,r,s,o,a,l,c,u){if(c<=0||c>=1)return;const h=1-c,d=c*c,m=d*c,g=h*(h*(h*e+3*c*t)+3*d*n)+m*r,y=h*(h*(h*s+3*c*o)+3*d*a)+m*l;u[0]=Math.min(u[0],g),u[1]=Math.min(u[1],y),u[2]=Math.max(u[2],g),u[3]=Math.max(u[3],y)},Py=new WeakSet,aR=function(e,t,n,r,s,o,a,l,c,u,h,d){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&j(this,Pm,S5).call(this,e,t,n,r,s,o,a,l,-h/u,d);return}const m=u**2-4*h*c;if(m<0)return;const g=Math.sqrt(m),y=2*c;j(this,Pm,S5).call(this,e,t,n,r,s,o,a,l,(-u+g)/y,d),j(this,Pm,S5).call(this,e,t,n,r,s,o,a,l,(-u-g)/y,d)},F(lt,Pm),F(lt,Py);function Lge(i){return decodeURIComponent(escape(i))}let rT=null,UU=null;function Dge(i){return rT||(rT=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,UU=new Map([["ﬅ","ſt"]])),i.replaceAll(rT,(e,t,n)=>t?t.normalize("NFKC"):UU.get(n))}function Bge(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const i=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(i);else for(let e=0;e<32;e++)i[e]=Math.floor(Math.random()*255);return $K(i)}const eY="pdfjs_internal_id_",Ll={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class IM{constructor(){this.constructor===IM&&fn("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,r,s){return"none"}destroy(e=!1){}}var Iy;const vD=class vD{constructor({enableHWA:e=!1}={}){F(this,Iy,!1);this.constructor===vD&&fn("Cannot initialize BaseCanvasFactory."),z(this,Iy,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!x(this,Iy)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){fn("Abstract method `_createCanvas` called.")}};Iy=new WeakMap;let db=vD;class LM{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===LM&&fn("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),n=this.isCompressed?rR.BINARY:rR.NONE;return this._fetchData(t,n).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){fn("Abstract method `_fetchData` called.")}}class DM{constructor({baseUrl:e=null}){this.constructor===DM&&fn("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){fn("Abstract method `_fetchData` called.")}}class yL{constructor(){this.constructor===yL&&fn("Cannot initialize BaseSVGFactory.")}create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){fn("Abstract method `_createSVG` called.")}}const Bl="http://www.w3.org/2000/svg",Pd=class Pd{};Rt(Pd,"CSS",96),Rt(Pd,"PDF",72),Rt(Pd,"PDF_TO_CSS_UNITS",Pd.CSS/Pd.PDF);let Rh=Pd;var Vd,Ua,Wl,os,Ob,Wd,zi,Sr,Mu,Bp,Eu,Fp,Im,w5,kb,tY,Ly,lR,Tu,Op,Xd,U1,Kd,z1,Dy,cR,Yd,j1;class Fge extends IM{constructor({docId:t,ownerDocument:n=globalThis.document}={}){super();F(this,zi);F(this,Mu);F(this,Eu);F(this,Im);F(this,kb);F(this,Ly);F(this,Tu);F(this,Xd);F(this,Kd);F(this,Dy);F(this,Yd);F(this,Vd,void 0);F(this,Ua,void 0);F(this,Wl,void 0);F(this,os,void 0);F(this,Ob,void 0);F(this,Wd,0);z(this,Wl,t),z(this,os,n)}addFilter(t){if(!t)return"none";let n=x(this,zi,Sr).get(t);if(n)return n;const[r,s,o]=j(this,Im,w5).call(this,t),a=t.length===1?r:`${r}${s}${o}`;if(n=x(this,zi,Sr).get(a),n)return x(this,zi,Sr).set(t,n),n;const l=`g_${x(this,Wl)}_transfer_map_${Es(this,Wd)._++}`,c=`url(#${l})`;x(this,zi,Sr).set(t,c),x(this,zi,Sr).set(a,c);const u=j(this,Tu,Op).call(this,l);return j(this,Kd,z1).call(this,r,s,o,u),c}addHCMFilter(t,n){var g;const r=`${t}-${n}`,s="base";let o=x(this,Mu,Bp).get(s);if((o==null?void 0:o.key)===r||(o?((g=o.filter)==null||g.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},x(this,Mu,Bp).set(s,o)),!t||!n))return o.url;const a=j(this,Yd,j1).call(this,t);t=lt.makeHexColor(...a);const l=j(this,Yd,j1).call(this,n);if(n=lt.makeHexColor(...l),x(this,Eu,Fp).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return o.url;const c=new Array(256);for(let y=0;y<=255;y++){const _=y/255;c[y]=_<=.03928?_/12.92:((_+.055)/1.055)**2.4}const u=c.join(","),h=`g_${x(this,Wl)}_hcm_filter`,d=o.filter=j(this,Tu,Op).call(this,h);j(this,Kd,z1).call(this,u,u,u,d),j(this,Ly,lR).call(this,d);const m=(y,_)=>{const v=a[y]/255,A=l[y]/255,S=new Array(_+1);for(let C=0;C<=_;C++)S[C]=v+C/_*(A-v);return S.join(",")};return j(this,Kd,z1).call(this,m(0,5),m(1,5),m(2,5),d),o.url=`url(#${h})`,o.url}addAlphaFilter(t){let n=x(this,zi,Sr).get(t);if(n)return n;const[r]=j(this,Im,w5).call(this,[t]),s=`alpha_${r}`;if(n=x(this,zi,Sr).get(s),n)return x(this,zi,Sr).set(t,n),n;const o=`g_${x(this,Wl)}_alpha_map_${Es(this,Wd)._++}`,a=`url(#${o})`;x(this,zi,Sr).set(t,a),x(this,zi,Sr).set(s,a);const l=j(this,Tu,Op).call(this,o);return j(this,Dy,cR).call(this,r,l),a}addLuminosityFilter(t){let n=x(this,zi,Sr).get(t||"luminosity");if(n)return n;let r,s;if(t?([r]=j(this,Im,w5).call(this,[t]),s=`luminosity_${r}`):s="luminosity",n=x(this,zi,Sr).get(s),n)return x(this,zi,Sr).set(t,n),n;const o=`g_${x(this,Wl)}_luminosity_map_${Es(this,Wd)._++}`,a=`url(#${o})`;x(this,zi,Sr).set(t,a),x(this,zi,Sr).set(s,a);const l=j(this,Tu,Op).call(this,o);return j(this,kb,tY).call(this,l),t&&j(this,Dy,cR).call(this,r,l),a}addHighlightHCMFilter(t,n,r,s,o){var A;const a=`${n}-${r}-${s}-${o}`;let l=x(this,Mu,Bp).get(t);if((l==null?void 0:l.key)===a||(l?((A=l.filter)==null||A.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},x(this,Mu,Bp).set(t,l)),!n||!r))return l.url;const[c,u]=[n,r].map(j(this,Yd,j1).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[m,g]=[s,o].map(j(this,Yd,j1).bind(this));d<h&&([h,d,m,g]=[d,h,g,m]),x(this,Eu,Fp).style.color="";const y=(S,C,T)=>{const E=new Array(256),R=(d-h)/T,D=S/255,I=(C-S)/(255*T);let L=0;for(let O=0;O<=T;O++){const W=Math.round(h+O*R),X=D+O*I;for(let Z=L;Z<=W;Z++)E[Z]=X;L=W+1}for(let O=L;O<256;O++)E[O]=E[L-1];return E.join(",")},_=`g_${x(this,Wl)}_hcm_${t}_filter`,v=l.filter=j(this,Tu,Op).call(this,_);return j(this,Ly,lR).call(this,v),j(this,Kd,z1).call(this,y(m[0],g[0],5),y(m[1],g[1],5),y(m[2],g[2],5),v),l.url=`url(#${_})`,l.url}destroy(t=!1){t&&x(this,Mu,Bp).size!==0||(x(this,Ua)&&(x(this,Ua).parentNode.parentNode.remove(),z(this,Ua,null)),x(this,Vd)&&(x(this,Vd).clear(),z(this,Vd,null)),z(this,Wd,0))}}Vd=new WeakMap,Ua=new WeakMap,Wl=new WeakMap,os=new WeakMap,Ob=new WeakMap,Wd=new WeakMap,zi=new WeakSet,Sr=function(){return x(this,Vd)||z(this,Vd,new Map)},Mu=new WeakSet,Bp=function(){return x(this,Ob)||z(this,Ob,new Map)},Eu=new WeakSet,Fp=function(){if(!x(this,Ua)){const t=x(this,os).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=x(this,os).createElementNS(Bl,"svg");r.setAttribute("width",0),r.setAttribute("height",0),z(this,Ua,x(this,os).createElementNS(Bl,"defs")),t.append(r),r.append(x(this,Ua)),x(this,os).body.append(t)}return x(this,Ua)},Im=new WeakSet,w5=function(t){if(t.length===1){const c=t[0],u=new Array(256);for(let d=0;d<256;d++)u[d]=c[d]/255;const h=u.join(",");return[h,h,h]}const[n,r,s]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let c=0;c<256;c++)o[c]=n[c]/255,a[c]=r[c]/255,l[c]=s[c]/255;return[o.join(","),a.join(","),l.join(",")]},kb=new WeakSet,tY=function(t){const n=x(this,os).createElementNS(Bl,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},Ly=new WeakSet,lR=function(t){const n=x(this,os).createElementNS(Bl,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},Tu=new WeakSet,Op=function(t){const n=x(this,os).createElementNS(Bl,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),x(this,Eu,Fp).append(n),n},Xd=new WeakSet,U1=function(t,n,r){const s=x(this,os).createElementNS(Bl,n);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),t.append(s)},Kd=new WeakSet,z1=function(t,n,r,s){const o=x(this,os).createElementNS(Bl,"feComponentTransfer");s.append(o),j(this,Xd,U1).call(this,o,"feFuncR",t),j(this,Xd,U1).call(this,o,"feFuncG",n),j(this,Xd,U1).call(this,o,"feFuncB",r)},Dy=new WeakSet,cR=function(t,n){const r=x(this,os).createElementNS(Bl,"feComponentTransfer");n.append(r),j(this,Xd,U1).call(this,r,"feFuncA",t)},Yd=new WeakSet,j1=function(t){return x(this,Eu,Fp).style.color=t,wL(getComputedStyle(x(this,Eu,Fp)).getPropertyValue("color"))};class Oge extends db{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}async function BM(i,e="text"){if(H1(i,document.baseURI)){const t=await fetch(i);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const r=new XMLHttpRequest;r.open("GET",i,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class nY extends LM{_fetchData(e,t){return BM(e,this.isCompressed?"arraybuffer":"text").then(n=>({cMapData:n instanceof ArrayBuffer?new Uint8Array(n):PM(n),compressionType:t}))}}class iY extends DM{_fetchData(e){return BM(e,"arraybuffer").then(t=>new Uint8Array(t))}}class _L extends yL{_createSVG(e){return document.createElementNS(Bl,e)}}class Sx{constructor({viewBox:e,scale:t,rotation:n,offsetX:r=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=r,this.offsetY=s;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,u,h,d;switch(n%=360,n<0&&(n+=360),n){case 180:c=-1,u=0,h=0,d=1;break;case 90:c=0,u=1,h=1,d=0;break;case 270:c=0,u=-1,h=-1,d=0;break;case 0:c=1,u=0,h=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,d=-d);let m,g,y,_;c===0?(m=Math.abs(l-e[1])*t+r,g=Math.abs(a-e[0])*t+s,y=(e[3]-e[1])*t,_=(e[2]-e[0])*t):(m=Math.abs(a-e[0])*t+r,g=Math.abs(l-e[1])*t+s,y=(e[2]-e[0])*t,_=(e[3]-e[1])*t),this.transform=[c*t,u*t,h*t,d*t,m-c*t*a-h*t*l,g-u*t*a-d*t*l],this.width=y,this.height=_}get rawDims(){const{viewBox:e}=this;return Jt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new Sx({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){return lt.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=lt.applyTransform([e[0],e[1]],this.transform),n=lt.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return lt.applyInverseTransform([e,t],this.transform)}}class xL extends jh{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function AL(i){const e=i.length;let t=0;for(;t<e&&i[t].trim()==="";)t++;return i.substring(t,t+5).toLowerCase()==="data:"}function SL(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function kge(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function Nge(i,e="document.pdf"){if(typeof i!="string")return e;if(AL(i))return Nt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=t.exec(i);let s=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=n.exec(decodeURIComponent(s))[0]}catch{}return s||e}class zU{constructor(){Rt(this,"started",Object.create(null));Rt(this,"times",[])}time(e){e in this.started&&Nt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Nt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-r}ms
`);return e.join("")}}function H1(i,e){try{const{protocol:t}=e?new URL(i,e):new URL(i);return t==="http:"||t==="https:"}catch{return!1}}function gs(i){i.preventDefault()}function rY(i){console.log("Deprecated API usage: "+i)}let jU;class sY{static toDateObject(e){if(!e||typeof e!="string")return null;jU||(jU=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=jU.exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(o+=u,a+=h):c==="+"&&(o-=u,a-=h),new Date(Date.UTC(n,r,s,o,a,l))}}function Uge(i,{scale:e=1,rotation:t=0}){const{width:n,height:r}=i.attributes.style,s=[0,0,parseInt(n),parseInt(r)];return new Sx({viewBox:s,scale:e,rotation:t})}function wL(i){if(i.startsWith("#")){const e=parseInt(i.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(e=>parseInt(e)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Nt(`Not a valid color format: "${i}"`),[0,0,0])}function zge(i){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of i.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;i.set(t,wL(n))}e.remove()}function Nn(i){const{a:e,b:t,c:n,d:r,e:s,f:o}=i.getTransform();return[e,t,n,r,s,o]}function Dl(i){const{a:e,b:t,c:n,d:r,e:s,f:o}=i.getTransform().invertSelf();return[e,t,n,r,s,o]}function w0(i,e,t=!1,n=!0){if(e instanceof Sx){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:o}=i,a=ds.isCSSRoundSupported,l=`var(--scale-factor) * ${r}px`,c=`var(--scale-factor) * ${s}px`,u=a?`round(${l}, 1px)`:`calc(${l})`,h=a?`round(${c}, 1px)`:`calc(${c})`;!t||e.rotation%180===0?(o.width=u,o.height=h):(o.width=h,o.height=u)}n&&i.setAttribute("data-main-rotation",e.rotation)}var Jd,qd,Ls,Zd,Nb,oY,Ub,aY,zb,lY,Lm,b5,jb,cY,By,hR;const Hb=class Hb{constructor(e){F(this,Ub);F(this,zb);F(this,Lm);F(this,jb);F(this,By);F(this,Jd,null);F(this,qd,null);F(this,Ls,void 0);F(this,Zd,null);z(this,Ls,e)}render(){const e=z(this,Jd,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=x(this,Ls)._uiManager._signal;e.addEventListener("contextmenu",gs,{signal:t}),e.addEventListener("pointerdown",j(Hb,Nb,oY),{signal:t});const n=z(this,Zd,document.createElement("div"));n.className="buttons",e.append(n);const r=x(this,Ls).toolbarPosition;if(r){const{style:s}=e,o=x(this,Ls)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return j(this,jb,cY).call(this),e}hide(){var e;x(this,Jd).classList.add("hidden"),(e=x(this,qd))==null||e.hideDropdown()}show(){x(this,Jd).classList.remove("hidden")}addAltTextButton(e){j(this,Lm,b5).call(this,e),x(this,Zd).prepend(e,x(this,By,hR))}addColorPicker(e){z(this,qd,e);const t=e.renderButton();j(this,Lm,b5).call(this,t),x(this,Zd).prepend(t,x(this,By,hR))}remove(){var e;x(this,Jd).remove(),(e=x(this,qd))==null||e.destroy(),z(this,qd,null)}};Jd=new WeakMap,qd=new WeakMap,Ls=new WeakMap,Zd=new WeakMap,Nb=new WeakSet,oY=function(e){e.stopPropagation()},Ub=new WeakSet,aY=function(e){x(this,Ls)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},zb=new WeakSet,lY=function(e){x(this,Ls)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Lm=new WeakSet,b5=function(e){const t=x(this,Ls)._uiManager._signal;e.addEventListener("focusin",j(this,Ub,aY).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",j(this,zb,lY).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",gs,{signal:t})},jb=new WeakSet,cY=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${x(this,Ls).editorType}-button`),j(this,Lm,b5).call(this,e),e.addEventListener("click",t=>{x(this,Ls)._uiManager.delete()},{signal:x(this,Ls)._uiManager._signal}),x(this,Zd).append(e)},By=new WeakSet,hR=function(){const e=document.createElement("div");return e.className="divider",e},F(Hb,Nb);let uR=Hb;var Fy,Qd,$d,Gb,uY,Vb,hY,Wb,dY;class jge{constructor(e){F(this,Gb);F(this,Vb);F(this,Wb);F(this,Fy,null);F(this,Qd,null);F(this,$d,void 0);z(this,$d,e)}show(e,t,n){const[r,s]=j(this,Vb,hY).call(this,t,n),{style:o}=x(this,Qd)||z(this,Qd,j(this,Gb,uY).call(this));e.append(x(this,Qd)),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){x(this,Qd).remove()}}Fy=new WeakMap,Qd=new WeakMap,$d=new WeakMap,Gb=new WeakSet,uY=function(){const e=z(this,Qd,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",gs,{signal:x(this,$d)._signal});const t=z(this,Fy,document.createElement("div"));return t.className="buttons",e.append(t),j(this,Wb,dY).call(this),e},Vb=new WeakSet,hY=function(e,t){let n=0,r=0;for(const s of e){const o=s.y+s.height;if(o<n)continue;const a=s.x+(t?s.width:0);if(o>n){r=a,n=o;continue}t?a>r&&(r=a):a<r&&(r=a)}return[t?1-r:r,n]},Wb=new WeakSet,dY=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=x(this,$d)._signal;e.addEventListener("contextmenu",gs,{signal:n}),e.addEventListener("click",()=>{x(this,$d).highlightSelection("floating_button")},{signal:n}),x(this,Fy).append(e)};function fb(i,e,t){for(const n of t)e.addEventListener(n,i[n].bind(i))}function Hge(i){return Math.round(Math.min(255,Math.max(1,255*i))).toString(16).padStart(2,"0")}var Xb;class Gge{constructor(){F(this,Xb,0)}get id(){return`${Age}${Es(this,Xb)._++}`}}Xb=new WeakMap;var Oy,Kb,xo,ky,fR;const yD=class yD{constructor(){F(this,ky);F(this,Oy,Bge());F(this,Kb,0);F(this,xo,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Jt(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:n,size:r,type:s}=e;return j(this,ky,fR).call(this,`${t}_${n}_${r}_${s}`,e)}async getFromUrl(e){return j(this,ky,fR).call(this,e,e)}async getFromId(e){x(this,xo)||z(this,xo,new Map);const t=x(this,xo).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=x(this,xo).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){x(this,xo)||z(this,xo,new Map);const t=x(this,xo).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${x(this,Oy)}_`)}};Oy=new WeakMap,Kb=new WeakMap,xo=new WeakMap,ky=new WeakSet,fR=async function(e,t){x(this,xo)||z(this,xo,new Map);let n=x(this,xo).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${x(this,Oy)}_${Es(this,Kb)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(n.url=t,r=await BM(t,"blob")):r=n.file=t,r.type==="image/svg+xml"){const s=yD._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,u)=>{a.onload=()=>{n.bitmap=a,n.isSvg=!0,c()},o.onload=async()=>{const h=n.svgUrl=o.result;a.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=o.onerror=u});o.readAsDataURL(r),await l}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){console.error(r),n=null}return x(this,xo).set(e,n),n&&x(this,xo).set(n.id,n),n};let dR=yD;var ji,Ru,Ny,Hi;class Vge{constructor(e=128){F(this,ji,[]);F(this,Ru,!1);F(this,Ny,void 0);F(this,Hi,-1);z(this,Ny,e)}add({cmd:e,undo:t,post:n,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(r&&e(),x(this,Ru))return;const l={cmd:e,undo:t,post:n,type:s};if(x(this,Hi)===-1){x(this,ji).length>0&&(x(this,ji).length=0),z(this,Hi,0),x(this,ji).push(l);return}if(o&&x(this,ji)[x(this,Hi)].type===s){a&&(l.undo=x(this,ji)[x(this,Hi)].undo),x(this,ji)[x(this,Hi)]=l;return}const c=x(this,Hi)+1;c===x(this,Ny)?x(this,ji).splice(0,1):(z(this,Hi,c),c<x(this,ji).length&&x(this,ji).splice(c)),x(this,ji).push(l)}undo(){if(x(this,Hi)===-1)return;z(this,Ru,!0);const{undo:e,post:t}=x(this,ji)[x(this,Hi)];e(),t==null||t(),z(this,Ru,!1),z(this,Hi,x(this,Hi)-1)}redo(){if(x(this,Hi)<x(this,ji).length-1){z(this,Hi,x(this,Hi)+1),z(this,Ru,!0);const{cmd:e,post:t}=x(this,ji)[x(this,Hi)];e(),t==null||t(),z(this,Ru,!1)}}hasSomethingToUndo(){return x(this,Hi)!==-1}hasSomethingToRedo(){return x(this,Hi)<x(this,ji).length-1}destroy(){z(this,ji,null)}}ji=new WeakMap,Ru=new WeakMap,Ny=new WeakMap,Hi=new WeakMap;var Yb,fY;class wx{constructor(e){F(this,Yb);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=ds.platform;for(const[n,r,s={}]of e)for(const o of n){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(j(this,Yb,fY).call(this,t));if(!n)return;const{callback:r,options:{bubbles:s=!1,args:o=[],checker:a=null}}=n;a&&!a(e,t)||(r.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}Yb=new WeakSet,fY=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Jb=class Jb{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return zge(e),Jt(this,"_colors",e)}convert(e){const t=wL(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every((s,o)=>s===t[o]))return Jb._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?lt.makeHexColor(...t):e}};Rt(Jb,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let pR=Jb;var Dm,Ds,Si,$i,Bm,Xl,Fm,ea,Om,ef,za,ta,tf,Uy,zy,ja,km,Pu,Ha,qb,Iu,jy,nf,Hy,Nm,er,an,Kl,rf,Gy,Vy,Wy,Xy,Ky,Yy,Jy,qy,Zy,Qy,$y,e_,t_,Lu,Ga,Yl,n_,Um,C5,Zb,pY,Qb,mY,zm,M5,$b,gY,e4,vY,t4,yY,i_,mR,n4,_Y,r_,gR,s_,vR,i4,xY,tr,jr,Va,vu,r4,AY,s4,SY,o_,yR,o4,wY,sf,G1,a_,_R;const hm=class hm{constructor(e,t,n,r,s,o,a,l,c){F(this,Um);F(this,Zb);F(this,Qb);F(this,zm);F(this,$b);F(this,e4);F(this,t4);F(this,i_);F(this,n4);F(this,r_);F(this,s_);F(this,i4);F(this,tr);F(this,Va);F(this,r4);F(this,s4);F(this,o_);F(this,o4);F(this,sf);F(this,a_);F(this,Dm,new AbortController);F(this,Ds,null);F(this,Si,new Map);F(this,$i,new Map);F(this,Bm,null);F(this,Xl,null);F(this,Fm,null);F(this,ea,new Vge);F(this,Om,0);F(this,ef,new Set);F(this,za,null);F(this,ta,null);F(this,tf,new Set);F(this,Uy,!1);F(this,zy,null);F(this,ja,null);F(this,km,null);F(this,Pu,!1);F(this,Ha,null);F(this,qb,new Gge);F(this,Iu,!1);F(this,jy,!1);F(this,nf,null);F(this,Hy,null);F(this,Nm,null);F(this,er,Wt.NONE);F(this,an,new Set);F(this,Kl,null);F(this,rf,null);F(this,Gy,null);F(this,Vy,this.blur.bind(this));F(this,Wy,this.focus.bind(this));F(this,Xy,this.copy.bind(this));F(this,Ky,this.cut.bind(this));F(this,Yy,this.paste.bind(this));F(this,Jy,this.keydown.bind(this));F(this,qy,this.keyup.bind(this));F(this,Zy,this.onEditingAction.bind(this));F(this,Qy,this.onPageChanging.bind(this));F(this,$y,this.onScaleChanging.bind(this));F(this,e_,this.onRotationChanging.bind(this));F(this,t_,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});F(this,Lu,[0,0]);F(this,Ga,null);F(this,Yl,null);F(this,n_,null);this._signal=x(this,Dm).signal,z(this,Yl,e),z(this,n_,t),z(this,Bm,n),this._eventBus=r,this._eventBus._on("editingaction",x(this,Zy)),this._eventBus._on("pagechanging",x(this,Qy)),this._eventBus._on("scalechanging",x(this,$y)),this._eventBus._on("rotationchanging",x(this,e_)),j(this,$b,gY).call(this),j(this,i4,xY).call(this),j(this,i_,mR).call(this),z(this,Xl,s.annotationStorage),z(this,zy,s.filterFactory),z(this,rf,o),z(this,km,a||null),z(this,Uy,l),z(this,Nm,c||null),this.viewParameters={realScale:Rh.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=hm.prototype,t=o=>x(o,Yl).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),n=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Jt(this,"_keyboardManager",new wx([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&x(o,Yl).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&x(o,Yl).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,n;(e=x(this,Dm))==null||e.abort(),z(this,Dm,null),this._signal=null,this._eventBus._off("editingaction",x(this,Zy)),this._eventBus._off("pagechanging",x(this,Qy)),this._eventBus._off("scalechanging",x(this,$y)),this._eventBus._off("rotationchanging",x(this,e_));for(const r of x(this,$i).values())r.destroy();x(this,$i).clear(),x(this,Si).clear(),x(this,tf).clear(),z(this,Ds,null),x(this,an).clear(),x(this,ea).destroy(),(t=x(this,Bm))==null||t.destroy(),(n=x(this,Ha))==null||n.hide(),z(this,Ha,null),x(this,ja)&&(clearTimeout(x(this,ja)),z(this,ja,null)),x(this,Ga)&&(clearTimeout(x(this,Ga)),z(this,Ga,null))}async mlGuess(e){var t;return((t=x(this,Nm))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!x(this,Nm)}get hcmFilter(){return Jt(this,"hcmFilter",x(this,rf)?x(this,zy).addHCMFilter(x(this,rf).foreground,x(this,rf).background):"none")}get direction(){return Jt(this,"direction",getComputedStyle(x(this,Yl)).direction)}get highlightColors(){return Jt(this,"highlightColors",x(this,km)?new Map(x(this,km).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Jt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){z(this,Hy,e)}editAltText(e){var t;(t=x(this,Bm))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){z(this,Om,e-1)}focusMainContainer(){x(this,Yl).focus()}findParent(e,t){for(const n of x(this,$i).values()){const{x:r,y:s,width:o,height:a}=n.div.getBoundingClientRect();if(e>=r&&e<=r+o&&t>=s&&t<=s+a)return n}return null}disableUserSelect(e=!1){x(this,n_).classList.toggle("noUserSelect",e)}addShouldRescale(e){x(this,tf).add(e)}removeShouldRescale(e){x(this,tf).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Rh.PDF_TO_CSS_UNITS;for(const t of x(this,tf))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:o}=t,a=t.toString(),c=j(this,Um,C5).call(this,t).closest(".textLayer"),u=this.getSelectionBoxes(c);if(u){t.empty(),x(this,er)===Wt.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Wt.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const h of x(this,$i).values())if(h.hasTextLayer(c)){h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:u,anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:o,text:a});break}}}addToAnnotationStorage(e){!e.isEmpty()&&x(this,Xl)&&!x(this,Xl).has(e.id)&&x(this,Xl).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,x(this,Pu)&&(z(this,Pu,!1),j(this,zm,M5).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of x(this,an))if(t.div.contains(e)){z(this,nf,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!x(this,nf))return;const[e,t]=x(this,nf);z(this,nf,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){j(this,i_,mR).call(this),j(this,r_,gR).call(this)}removeEditListeners(){j(this,n4,_Y).call(this),j(this,s_,vR).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of x(this,ta))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of x(this,ta))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=x(this,Ds))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of x(this,an)){const s=r.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of x(this,ta))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){Nt(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const l of n){const c=r.deserialize(l);if(!c)return;s.push(c)}const o=()=>{for(const l of s)j(this,o_,yR).call(this,l);j(this,a_,_R).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){Nt(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),x(this,er)!==Wt.NONE&&!this.isEditorHandlingKeyboard&&hm._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,x(this,Pu)&&(z(this,Pu,!1),j(this,zm,M5).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(j(this,e4,vY).call(this),j(this,r_,gR).call(this),j(this,tr,jr).call(this,{isEditing:x(this,er)!==Wt.NONE,isEmpty:j(this,sf,G1).call(this),hasSomethingToUndo:x(this,ea).hasSomethingToUndo(),hasSomethingToRedo:x(this,ea).hasSomethingToRedo(),hasSelectedEditor:!1})):(j(this,t4,yY).call(this),j(this,s_,vR).call(this),j(this,tr,jr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!x(this,ta)){z(this,ta,e);for(const t of x(this,ta))j(this,Va,vu).call(this,t.defaultPropertiesToUpdate)}}getId(){return x(this,qb).id}get currentLayer(){return x(this,$i).get(x(this,Om))}getLayer(e){return x(this,$i).get(e)}get currentPageIndex(){return x(this,Om)}addLayer(e){x(this,$i).set(e.pageIndex,e),x(this,Iu)?e.enable():e.disable()}removeLayer(e){x(this,$i).delete(e.pageIndex)}updateMode(e,t=null,n=!1){if(x(this,er)!==e){if(z(this,er,e),e===Wt.NONE){this.setEditingState(!1),j(this,s4,SY).call(this);return}this.setEditingState(!0),j(this,r4,AY).call(this),this.unselectAll();for(const r of x(this,$i).values())r.updateMode(e);if(!t&&n){this.addNewEditorFromKeyboard();return}if(t){for(const r of x(this,Si).values())if(r.annotationElementId===t){this.setSelected(r),r.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==x(this,er)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(x(this,ta)){switch(e){case Mt.CREATE:this.currentLayer.addNewEditor();return;case Mt.HIGHLIGHT_DEFAULT_COLOR:(n=x(this,Hy))==null||n.updateColor(t);break;case Mt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(x(this,Gy)||z(this,Gy,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of x(this,an))r.updateParams(e,t);for(const r of x(this,ta))r.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var s;for(const o of x(this,Si).values())o.editorType===e&&o.show(t);(((s=x(this,Gy))==null?void 0:s.get(Mt.HIGHLIGHT_SHOW_ALL))??!0)!==t&&j(this,Va,vu).call(this,[[Mt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(x(this,jy)!==e){z(this,jy,e);for(const t of x(this,$i).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of x(this,Si).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return x(this,Si).get(e)}addEditor(e){x(this,Si).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(x(this,ja)&&clearTimeout(x(this,ja)),z(this,ja,setTimeout(()=>{this.focusMainContainer(),z(this,ja,null)},0))),x(this,Si).delete(e.id),this.unselect(e),(!e.annotationElementId||!x(this,ef).has(e.annotationElementId))&&((t=x(this,Xl))==null||t.remove(e.id))}addDeletedAnnotationElement(e){x(this,ef).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return x(this,ef).has(e)}removeDeletedAnnotationElement(e){x(this,ef).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){x(this,Ds)!==e&&(z(this,Ds,e),e&&j(this,Va,vu).call(this,e.propertiesToUpdate))}updateUI(e){x(this,o4,wY)===e&&j(this,Va,vu).call(this,e.propertiesToUpdate)}toggleSelected(e){if(x(this,an).has(e)){x(this,an).delete(e),e.unselect(),j(this,tr,jr).call(this,{hasSelectedEditor:this.hasSelection});return}x(this,an).add(e),e.select(),j(this,Va,vu).call(this,e.propertiesToUpdate),j(this,tr,jr).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of x(this,an))t!==e&&t.unselect();x(this,an).clear(),x(this,an).add(e),e.select(),j(this,Va,vu).call(this,e.propertiesToUpdate),j(this,tr,jr).call(this,{hasSelectedEditor:!0})}isSelected(e){return x(this,an).has(e)}get firstSelectedEditor(){return x(this,an).values().next().value}unselect(e){e.unselect(),x(this,an).delete(e),j(this,tr,jr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return x(this,an).size!==0}get isEnterHandled(){return x(this,an).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){x(this,ea).undo(),j(this,tr,jr).call(this,{hasSomethingToUndo:x(this,ea).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:j(this,sf,G1).call(this)})}redo(){x(this,ea).redo(),j(this,tr,jr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:x(this,ea).hasSomethingToRedo(),isEmpty:j(this,sf,G1).call(this)})}addCommands(e){x(this,ea).add(e),j(this,tr,jr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:j(this,sf,G1).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...x(this,an)],t=()=>{for(const r of e)r.remove()},n=()=>{for(const r of e)j(this,o_,yR).call(this,r)};this.addCommands({cmd:t,undo:n,mustExec:!0})}commitOrRemove(){var e;(e=x(this,Ds))==null||e.commitOrRemove()}hasSomethingToControl(){return x(this,Ds)||this.hasSelection}selectAll(){for(const e of x(this,an))e.commit();j(this,a_,_R).call(this,x(this,Si).values())}unselectAll(){if(!(x(this,Ds)&&(x(this,Ds).commitOrRemove(),x(this,er)!==Wt.NONE))&&this.hasSelection){for(const e of x(this,an))e.unselect();x(this,an).clear(),j(this,tr,jr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;x(this,Lu)[0]+=e,x(this,Lu)[1]+=t;const[r,s]=x(this,Lu),o=[...x(this,an)],a=1e3;x(this,Ga)&&clearTimeout(x(this,Ga)),z(this,Ga,setTimeout(()=>{z(this,Ga,null),x(this,Lu)[0]=x(this,Lu)[1]=0,this.addCommands({cmd:()=>{for(const l of o)x(this,Si).has(l.id)&&l.translateInPage(r,s)},undo:()=>{for(const l of o)x(this,Si).has(l.id)&&l.translateInPage(-r,-s)},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),z(this,za,new Map);for(const e of x(this,an))x(this,za).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!x(this,za))return!1;this.disableUserSelect(!1);const e=x(this,za);z(this,za,null);let t=!1;for(const[{x:r,y:s,pageIndex:o},a]of e)a.newX=r,a.newY=s,a.newPageIndex=o,t||(t=r!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const n=(r,s,o,a)=>{if(x(this,Si).has(r.id)){const l=x(this,$i).get(a);l?r._setParentAndPosition(l,s,o):(r.pageIndex=a,r.x=s,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:o,newPageIndex:a}]of e)n(r,s,o,a)},undo:()=>{for(const[r,{savedX:s,savedY:o,savedPageIndex:a}]of e)n(r,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(x(this,za))for(const n of x(this,za).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||x(this,an).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return x(this,Ds)===e}getActive(){return x(this,Ds)}getMode(){return x(this,er)}get imageManager(){return Jt(this,"imageManager",new dR)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,u=t.rangeCount;c<u;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:n,y:r,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,u,h,d)=>({x:(u-r)/o,y:1-(c+h-n)/s,width:d/o,height:h/s});break;case"180":a=(c,u,h,d)=>({x:1-(c+h-n)/s,y:1-(u+d-r)/o,width:h/s,height:d/o});break;case"270":a=(c,u,h,d)=>({x:1-(u+d-r)/o,y:(c-n)/s,width:d/o,height:h/s});break;default:a=(c,u,h,d)=>({x:(c-n)/s,y:(u-r)/o,width:h/s,height:d/o});break}const l=[];for(let c=0,u=t.rangeCount;c<u;c++){const h=t.getRangeAt(c);if(!h.collapsed)for(const{x:d,y:m,width:g,height:y}of h.getClientRects())g===0||y===0||l.push(a(d,m,g,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(x(this,Fm)||z(this,Fm,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=x(this,Fm))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=x(this,Fm))==null?void 0:r.get(e.data.id);if(!t)return;const n=x(this,Xl).getRawValue(t);n&&(x(this,er)===Wt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};Dm=new WeakMap,Ds=new WeakMap,Si=new WeakMap,$i=new WeakMap,Bm=new WeakMap,Xl=new WeakMap,Fm=new WeakMap,ea=new WeakMap,Om=new WeakMap,ef=new WeakMap,za=new WeakMap,ta=new WeakMap,tf=new WeakMap,Uy=new WeakMap,zy=new WeakMap,ja=new WeakMap,km=new WeakMap,Pu=new WeakMap,Ha=new WeakMap,qb=new WeakMap,Iu=new WeakMap,jy=new WeakMap,nf=new WeakMap,Hy=new WeakMap,Nm=new WeakMap,er=new WeakMap,an=new WeakMap,Kl=new WeakMap,rf=new WeakMap,Gy=new WeakMap,Vy=new WeakMap,Wy=new WeakMap,Xy=new WeakMap,Ky=new WeakMap,Yy=new WeakMap,Jy=new WeakMap,qy=new WeakMap,Zy=new WeakMap,Qy=new WeakMap,$y=new WeakMap,e_=new WeakMap,t_=new WeakMap,Lu=new WeakMap,Ga=new WeakMap,Yl=new WeakMap,n_=new WeakMap,Um=new WeakSet,C5=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Zb=new WeakSet,pY=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=j(this,Um,C5).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(x(this,Ha)||z(this,Ha,new jge(this)),x(this,Ha).show(n,r,this.direction==="ltr"))},Qb=new WeakSet,mY=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){x(this,Kl)&&((s=x(this,Ha))==null||s.hide(),z(this,Kl,null),j(this,tr,jr).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===x(this,Kl))return;if(!j(this,Um,C5).call(this,e).closest(".textLayer")){x(this,Kl)&&((o=x(this,Ha))==null||o.hide(),z(this,Kl,null),j(this,tr,jr).call(this,{hasSelectedText:!1}));return}if((a=x(this,Ha))==null||a.hide(),z(this,Kl,t),j(this,tr,jr).call(this,{hasSelectedText:!0}),!(x(this,er)!==Wt.HIGHLIGHT&&x(this,er)!==Wt.NONE)&&(x(this,er)===Wt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),z(this,Pu,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=this._signal,c=u=>{u.type==="pointerup"&&u.button!==0||(window.removeEventListener("pointerup",c),window.removeEventListener("blur",c),u.type==="pointerup"&&j(this,zm,M5).call(this,"main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}},zm=new WeakSet,M5=function(e=""){x(this,er)===Wt.HIGHLIGHT?this.highlightSelection(e):x(this,Uy)&&j(this,Zb,pY).call(this)},$b=new WeakSet,gY=function(){document.addEventListener("selectionchange",j(this,Qb,mY).bind(this),{signal:this._signal})},e4=new WeakSet,vY=function(){const e=this._signal;window.addEventListener("focus",x(this,Wy),{signal:e}),window.addEventListener("blur",x(this,Vy),{signal:e})},t4=new WeakSet,yY=function(){window.removeEventListener("focus",x(this,Wy)),window.removeEventListener("blur",x(this,Vy))},i_=new WeakSet,mR=function(){const e=this._signal;window.addEventListener("keydown",x(this,Jy),{signal:e}),window.addEventListener("keyup",x(this,qy),{signal:e})},n4=new WeakSet,_Y=function(){window.removeEventListener("keydown",x(this,Jy)),window.removeEventListener("keyup",x(this,qy))},r_=new WeakSet,gR=function(){const e=this._signal;document.addEventListener("copy",x(this,Xy),{signal:e}),document.addEventListener("cut",x(this,Ky),{signal:e}),document.addEventListener("paste",x(this,Yy),{signal:e})},s_=new WeakSet,vR=function(){document.removeEventListener("copy",x(this,Xy)),document.removeEventListener("cut",x(this,Ky)),document.removeEventListener("paste",x(this,Yy))},i4=new WeakSet,xY=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},tr=new WeakSet,jr=function(e){Object.entries(e).some(([n,r])=>x(this,t_)[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(x(this,t_),e)}),x(this,er)===Wt.HIGHLIGHT&&e.hasSelectedEditor===!1&&j(this,Va,vu).call(this,[[Mt.HIGHLIGHT_FREE,!0]]))},Va=new WeakSet,vu=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},r4=new WeakSet,AY=function(){if(!x(this,Iu)){z(this,Iu,!0);for(const e of x(this,$i).values())e.enable();for(const e of x(this,Si).values())e.enable()}},s4=new WeakSet,SY=function(){if(this.unselectAll(),x(this,Iu)){z(this,Iu,!1);for(const e of x(this,$i).values())e.disable();for(const e of x(this,Si).values())e.disable()}},o_=new WeakSet,yR=function(e){const t=x(this,$i).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},o4=new WeakSet,wY=function(){let e=null;for(e of x(this,an));return e},sf=new WeakSet,G1=function(){if(x(this,Si).size===0)return!0;if(x(this,Si).size===1)for(const e of x(this,Si).values())return e.isEmpty();return!1},a_=new WeakSet,_R=function(e){for(const t of x(this,an))t.unselect();x(this,an).clear();for(const t of e)t.isEmpty()||(x(this,an).add(t),t.select());j(this,tr,jr).call(this,{hasSelectedEditor:this.hasSelection})},Rt(hm,"TRANSLATE_SMALL",1),Rt(hm,"TRANSLATE_BIG",10);let b0=hm;var Jl,ql,na,Zl,Bs,jm,ia,l_,xR;const Nl=class Nl{constructor(e){F(this,l_);F(this,Jl,"");F(this,ql,!1);F(this,na,null);F(this,Zl,null);F(this,Bs,null);F(this,jm,!1);F(this,ia,null);z(this,ia,e)}static initialize(e){Nl._l10nPromise||(Nl._l10nPromise=e)}async render(){const e=z(this,na,document.createElement("button"));e.className="altText";const t=await Nl._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const n=x(this,ia)._uiManager._signal;e.addEventListener("contextmenu",gs,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const r=s=>{s.preventDefault(),x(this,ia)._uiManager.editAltText(x(this,ia))};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(z(this,jm,!0),r(s))},{signal:n}),await j(this,l_,xR).call(this),e}finish(){x(this,na)&&(x(this,na).focus({focusVisible:x(this,jm)}),z(this,jm,!1))}isEmpty(){return!x(this,Jl)&&!x(this,ql)}get data(){return{altText:x(this,Jl),decorative:x(this,ql)}}set data({altText:e,decorative:t}){x(this,Jl)===e&&x(this,ql)===t||(z(this,Jl,e),z(this,ql,t),j(this,l_,xR).call(this))}toggle(e=!1){x(this,na)&&(!e&&x(this,Bs)&&(clearTimeout(x(this,Bs)),z(this,Bs,null)),x(this,na).disabled=!e)}destroy(){var e;(e=x(this,na))==null||e.remove(),z(this,na,null),z(this,Zl,null)}};Jl=new WeakMap,ql=new WeakMap,na=new WeakMap,Zl=new WeakMap,Bs=new WeakMap,jm=new WeakMap,ia=new WeakMap,l_=new WeakSet,xR=async function(){var r;const e=x(this,na);if(!e)return;if(!x(this,Jl)&&!x(this,ql)){e.classList.remove("done"),(r=x(this,Zl))==null||r.remove();return}e.classList.add("done"),Nl._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let t=x(this,Zl);if(!t){z(this,Zl,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const s=t.id=`alt-text-tooltip-${x(this,ia).id}`;e.setAttribute("aria-describedby",s);const o=100,a=x(this,ia)._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(x(this,Bs)),z(this,Bs,null)},{once:!0}),e.addEventListener("mouseenter",()=>{z(this,Bs,setTimeout(()=>{z(this,Bs,null),x(this,Zl).classList.add("show"),x(this,ia)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:a}),e.addEventListener("mouseleave",()=>{var l;x(this,Bs)&&(clearTimeout(x(this,Bs)),z(this,Bs,null)),(l=x(this,Zl))==null||l.classList.remove("show")},{signal:a})}t.innerText=x(this,ql)?await Nl._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):x(this,Jl),t.parentNode||e.append(t);const n=x(this,ia).getImageForAltText();n==null||n.setAttribute("aria-describedby",t.id)},Rt(Nl,"_l10nPromise",null);let pb=Nl;var of,ra,wr,Hm,af,nr,lf,Gm,Vm,br,c_,cf,Du,u_,uf,Ql,Wa,Wm,Xm,Ao,h_,a4,d_,AR,f_,SR,p_,wR,l4,bY,c4,CY,m_,bR,g_,CR,v_,MR,u4,MY,h4,EY,d4,TY,f4,RY,y_,ER,hf,V1;const mn=class mn{constructor(e){F(this,d_);F(this,p_);F(this,l4);F(this,c4);F(this,m_);F(this,g_);F(this,v_);F(this,u4);F(this,h4);F(this,d4);F(this,f4);F(this,y_);F(this,hf);F(this,of,null);F(this,ra,null);F(this,wr,null);F(this,Hm,!1);F(this,af,!1);F(this,nr,null);F(this,lf,null);F(this,Gm,this.focusin.bind(this));F(this,Vm,this.focusout.bind(this));F(this,br,null);F(this,c_,"");F(this,cf,!1);F(this,Du,null);F(this,u_,!1);F(this,uf,!1);F(this,Ql,!1);F(this,Wa,null);F(this,Wm,0);F(this,Xm,0);F(this,Ao,null);Rt(this,"_initialOptions",Object.create(null));Rt(this,"_isVisible",!0);Rt(this,"_uiManager",null);Rt(this,"_focusEventsAllowed",!0);Rt(this,"_l10nPromise",null);F(this,h_,!1);F(this,a4,mn._zIndex++);this.constructor===mn&&fn("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=mn.prototype._resizeWithKeyboard,t=b0.TRANSLATE_SMALL,n=b0.TRANSLATE_BIG;return Jt(this,"_resizerKeyboardManager",new wx([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],mn.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Jt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Wge({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,n){if(mn._l10nPromise||(mn._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))]))),n!=null&&n.strings)for(const s of n.strings)mn._l10nPromise.set(s,e.get(s));if(mn._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);mn._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){fn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return x(this,h_)}set _isDraggable(e){var t;z(this,h_,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=x(this,a4)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):j(this,hf,V1).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(x(this,cf)?z(this,cf,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[s,o]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/s,this.y=(t+r)/o,this.fixAndSetPosition()}translate(e,t){j(this,d_,AR).call(this,this.parentDimensions,e,t)}translateInPage(e,t){x(this,Du)||z(this,Du,[this.x,this.y]),j(this,d_,AR).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){x(this,Du)||z(this,Du,[this.x,this.y]);const[n,r]=this.parentDimensions;if(this.x+=e/n,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!x(this,Du)&&(x(this,Du)[0]!==this.x||x(this,Du)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=mn,r=n/e,s=n/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,n]=this.pageDimensions;let{x:r,y:s,width:o,height:a}=this;if(o*=t,a*=n,r*=t,s*=n,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-o,r)),s=Math.max(0,Math.min(n-a,s));break;case 90:r=Math.max(0,Math.min(t-a,r)),s=Math.min(n,Math.max(o,s));break;case 180:r=Math.min(t,Math.max(o,r)),s=Math.min(n,Math.max(a,s));break;case 270:r=Math.min(t,Math.max(a,r)),s=Math.max(0,Math.min(n-o,s));break}this.x=r/=t,this.y=s/=n;const[l,c]=this.getBaseTranslation();r+=l,s+=c;const{style:u}=this.div;u.left=`${(100*r).toFixed(2)}%`,u.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return j(n=mn,f_,SR).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return j(n=mn,f_,SR).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this,r=t*e,s=n*e;return ds.isCSSRoundSupported?[Math.round(r),Math.round(s)]:[r,s]}setDims(e,t){const[n,r]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,x(this,af)||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),s=!x(this,af)&&t.endsWith("%");if(r&&s)return;const[o,a]=this.parentDimensions;r||(e.width=`${(100*parseFloat(n)/o).toFixed(2)}%`),!x(this,af)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=x(this,wr))==null||e.finish()}async addEditToolbar(){return x(this,br)||x(this,uf)?x(this,br):(z(this,br,new uR(this)),this.div.append(x(this,br).render()),x(this,wr)&&x(this,br).addAltTextButton(await x(this,wr).render()),x(this,br))}removeEditToolbar(){var e;x(this,br)&&(x(this,br).remove(),z(this,br,null),(e=x(this,wr))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){x(this,wr)||(pb.initialize(mn._l10nPromise),z(this,wr,new pb(this)),x(this,of)&&(x(this,wr).data=x(this,of),z(this,of,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=x(this,wr))==null?void 0:e.data}set altTextData(e){x(this,wr)&&(x(this,wr).data=e)}hasAltText(){var e;return!((e=x(this,wr))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=x(this,Hm)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",x(this,Gm),{signal:e}),this.div.addEventListener("focusout",x(this,Vm),{signal:e});const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),fb(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=ds.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(z(this,cf,!0),this._isDraggable){j(this,u4,MY).call(this,e);return}j(this,v_,MR).call(this,e)}moveInDOM(){x(this,Wa)&&clearTimeout(x(this,Wa)),z(this,Wa,setTimeout(()=>{var e;z(this,Wa,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t,n=this.rotation){const r=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/r,u=t/r,h=this.x*s,d=this.y*o,m=this.width*s,g=this.height*o;switch(n){case 0:return[h+c+a,o-d-u-g+l,h+c+m+a,o-d-u+l];case 90:return[h+u+a,o-d+c+l,h+u+g+a,o-d+c+m+l];case 180:return[h-c-m+a,o-d+u+l,h-c+a,o-d+u+g+l];case 270:return[h-u-g+a,o-d-c-m+l,h-u+a,o-d-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,s,o]=e,a=s-n,l=o-r;switch(this.rotation){case 0:return[n,t-o,a,l];case 90:return[n,t-r,l,a];case 180:return[s,t-r,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){z(this,uf,!0)}disableEditMode(){z(this,uf,!1)}isInEditMode(){return x(this,uf)}shouldGetKeyboardEvents(){return x(this,Ql)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,n;const e=this._uiManager._signal;(t=this.div)==null||t.addEventListener("focusin",x(this,Gm),{signal:e}),(n=this.div)==null||n.addEventListener("focusout",x(this,Vm),{signal:e})}rotate(e){}serialize(e=!1,t=null){fn("An editor must be serializable")}static deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});r.rotation=e.rotation,z(r,of,e.accessibilityData);const[s,o]=r.pageDimensions,[a,l,c,u]=r.getRectInCurrentCoords(e.rect,o);return r.x=a/s,r.y=l/o,r.width=c/s,r.height=u/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",x(this,Gm)),this.div.removeEventListener("focusout",x(this,Vm)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),x(this,Wa)&&(clearTimeout(x(this,Wa)),z(this,Wa,null)),j(this,hf,V1).call(this),this.removeEditToolbar(),x(this,Ao)){for(const e of x(this,Ao).values())clearTimeout(e);z(this,Ao,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(j(this,l4,bY).call(this),x(this,nr).classList.remove("hidden"),fb(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),z(this,lf,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=x(this,nr).children;if(!x(this,ra)){z(this,ra,Array.from(t));const o=j(this,h4,EY).bind(this),a=j(this,d4,TY).bind(this),l=this._uiManager._signal;for(const c of x(this,ra)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",j(this,f4,RY).bind(this,u),{signal:l}),mn._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(h=>c.setAttribute("aria-label",h))}}const n=x(this,ra)[0];let r=0;for(const o of t){if(o===n)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(x(this,ra).length/4);if(s!==r){if(s<r)for(let a=0;a<r-s;a++)x(this,nr).append(x(this,nr).firstChild);else if(s>r)for(let a=0;a<s-r;a++)x(this,nr).firstChild.before(x(this,nr).lastChild);let o=0;for(const a of t){const c=x(this,ra)[o++].getAttribute("data-resizer-name");mn._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(u=>a.setAttribute("aria-label",u))}}j(this,y_,ER).call(this,0),z(this,Ql,!0),x(this,nr).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){x(this,Ql)&&j(this,g_,CR).call(this,x(this,c_),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){j(this,hf,V1).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!x(this,br)){this.addEditToolbar().then(()=>{var n,r;(n=this.div)!=null&&n.classList.contains("selectedEditor")&&((r=x(this,br))==null||r.show())});return}(t=x(this,br))==null||t.show()}unselect(){var e,t,n,r;(e=x(this,nr))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=x(this,br))==null||r.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return x(this,u_)}set isEditing(e){z(this,u_,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){z(this,af,!0);const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){x(this,Ao)||z(this,Ao,new Map);const{action:n}=e;let r=x(this,Ao).get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),x(this,Ao).delete(n),x(this,Ao).size===0&&z(this,Ao,null)},mn._telemetryTimeout),x(this,Ao).set(n,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),z(this,Hm,!1)}disable(){this.div&&(this.div.tabIndex=-1),z(this,Hm,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};of=new WeakMap,ra=new WeakMap,wr=new WeakMap,Hm=new WeakMap,af=new WeakMap,nr=new WeakMap,lf=new WeakMap,Gm=new WeakMap,Vm=new WeakMap,br=new WeakMap,c_=new WeakMap,cf=new WeakMap,Du=new WeakMap,u_=new WeakMap,uf=new WeakMap,Ql=new WeakMap,Wa=new WeakMap,Wm=new WeakMap,Xm=new WeakMap,Ao=new WeakMap,h_=new WeakMap,a4=new WeakMap,d_=new WeakSet,AR=function([e,t],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/e,this.y+=r/t,this.fixAndSetPosition()},f_=new WeakSet,SR=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},p_=new WeakSet,wR=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},l4=new WeakSet,bY=function(){if(x(this,nr))return;z(this,nr,document.createElement("div")),x(this,nr).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const r=document.createElement("div");x(this,nr).append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",j(this,c4,CY).bind(this,n),{signal:t}),r.addEventListener("contextmenu",gs,{signal:t}),r.tabIndex=-1}this.div.prepend(x(this,nr))},c4=new WeakSet,CY=function(e,t){var y;t.preventDefault();const{isMac:n}=ds.platform;if(t.button!==0||t.ctrlKey&&n)return;(y=x(this,wr))==null||y.toggle(!1);const r=j(this,g_,CR).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const o=this._uiManager._signal,a={passive:!0,capture:!0,signal:o};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",r,a),window.addEventListener("contextmenu",gs,{signal:o});const l=this.x,c=this.y,u=this.width,h=this.height,d=this.parent.div.style.cursor,m=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const g=()=>{var _;this.parent.togglePointerEvents(!0),(_=x(this,wr))==null||_.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",g),window.removeEventListener("blur",g),window.removeEventListener("pointermove",r,a),window.removeEventListener("contextmenu",gs),this.parent.div.style.cursor=d,this.div.style.cursor=m,j(this,m_,bR).call(this,l,c,u,h)};window.addEventListener("pointerup",g,{signal:o}),window.addEventListener("blur",g,{signal:o})},m_=new WeakSet,bR=function(e,t,n,r){const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===n&&l===r||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=o;const[c,u]=this.parentDimensions;this.setDims(c*a,u*l),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=r,this.x=e,this.y=t;const[c,u]=this.parentDimensions;this.setDims(c*n,u*r),this.fixAndSetPosition()},mustExec:!0})},g_=new WeakSet,CR=function(e,t){const[n,r]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=mn.MIN_SIZE/n,u=mn.MIN_SIZE/r,h=ee=>Math.round(ee*1e4)/1e4,d=j(this,p_,wR).call(this,this.rotation),m=(ee,k)=>[d[0]*ee+d[2]*k,d[1]*ee+d[3]*k],g=j(this,p_,wR).call(this,360-this.rotation),y=(ee,k)=>[g[0]*ee+g[2]*k,g[1]*ee+g[3]*k];let _,v,A=!1,S=!1;switch(e){case"topLeft":A=!0,_=(ee,k)=>[0,0],v=(ee,k)=>[ee,k];break;case"topMiddle":_=(ee,k)=>[ee/2,0],v=(ee,k)=>[ee/2,k];break;case"topRight":A=!0,_=(ee,k)=>[ee,0],v=(ee,k)=>[0,k];break;case"middleRight":S=!0,_=(ee,k)=>[ee,k/2],v=(ee,k)=>[0,k/2];break;case"bottomRight":A=!0,_=(ee,k)=>[ee,k],v=(ee,k)=>[0,0];break;case"bottomMiddle":_=(ee,k)=>[ee/2,k],v=(ee,k)=>[ee/2,0];break;case"bottomLeft":A=!0,_=(ee,k)=>[0,k],v=(ee,k)=>[ee,0];break;case"middleLeft":S=!0,_=(ee,k)=>[0,k/2],v=(ee,k)=>[ee,k/2];break}const C=_(a,l),T=v(a,l);let E=m(...T);const R=h(s+E[0]),D=h(o+E[1]);let I=1,L=1,[O,W]=this.screenToPageTranslation(t.movementX,t.movementY);if([O,W]=y(O/n,W/r),A){const ee=Math.hypot(a,l);I=L=Math.max(Math.min(Math.hypot(T[0]-C[0]-O,T[1]-C[1]-W)/ee,1/a,1/l),c/a,u/l)}else S?I=Math.max(c,Math.min(1,Math.abs(T[0]-C[0]-O)))/a:L=Math.max(u,Math.min(1,Math.abs(T[1]-C[1]-W)))/l;const X=h(a*I),Z=h(l*L);E=m(...v(X,Z));const $=R-E[0],Q=D-E[1];this.width=X,this.height=Z,this.x=$,this.y=Q,this.setDims(n*X,r*Z),this.fixAndSetPosition()},v_=new WeakSet,MR=function(e){const{isMac:t}=ds.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},u4=new WeakSet,MY=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let n,r;const s=this._uiManager._signal;t&&(this.div.classList.add("moving"),n={passive:!0,capture:!0,signal:s},z(this,Wm,e.clientX),z(this,Xm,e.clientY),r=a=>{const{clientX:l,clientY:c}=a,[u,h]=this.screenToPageTranslation(l-x(this,Wm),c-x(this,Xm));z(this,Wm,l),z(this,Xm,c),this._uiManager.dragSelectedEditors(u,h)},window.addEventListener("pointermove",r,n));const o=()=>{window.removeEventListener("pointerup",o),window.removeEventListener("blur",o),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",r,n)),z(this,cf,!1),this._uiManager.endDragSession()||j(this,v_,MR).call(this,e)};window.addEventListener("pointerup",o,{signal:s}),window.addEventListener("blur",o,{signal:s})},h4=new WeakSet,EY=function(e){mn._resizerKeyboardManager.exec(this,e)},d4=new WeakSet,TY=function(e){var t;x(this,Ql)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==x(this,nr)&&j(this,hf,V1).call(this)},f4=new WeakSet,RY=function(e){z(this,c_,x(this,Ql)?e:"")},y_=new WeakSet,ER=function(e){if(x(this,ra))for(const t of x(this,ra))t.tabIndex=e},hf=new WeakSet,V1=function(){if(z(this,Ql,!1),j(this,y_,ER).call(this,-1),x(this,lf)){const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=x(this,lf);j(this,m_,bR).call(this,e,t,n,r),z(this,lf,null)}},F(mn,f_),Rt(mn,"_borderLineWidth",-1),Rt(mn,"_colorManager",new pR),Rt(mn,"_zIndex",1),Rt(mn,"_telemetryTimeout",1e3);let ln=mn;class Wge extends ln{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const HU=3285377520,go=4294901760,Oa=65535;class PY{constructor(e){this.h1=e?e&4294967295:HU,this.h2=e?e&4294967295:HU}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let y=0,_=e.length;y<_;y++){const v=e.charCodeAt(y);v<=255?t[n++]=v:(t[n++]=v>>>8,t[n++]=v&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,s=n-r*4,o=new Uint32Array(t.buffer,0,r);let a=0,l=0,c=this.h1,u=this.h2;const h=3432918353,d=461845907,m=h&Oa,g=d&Oa;for(let y=0;y<r;y++)y&1?(a=o[y],a=a*h&go|a*m&Oa,a=a<<15|a>>>17,a=a*d&go|a*g&Oa,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[y],l=l*h&go|l*m&Oa,l=l<<15|l>>>17,l=l*d&go|l*g&Oa,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(a=0,s){case 3:a^=t[r*4+2]<<16;case 2:a^=t[r*4+1]<<8;case 1:a^=t[r*4],a=a*h&go|a*m&Oa,a=a<<15|a>>>17,a=a*d&go|a*g&Oa,r&1?c^=a:u^=a}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&go|e*36045&Oa,t=t*4283543511&go|((t<<16|e>>>16)*2950163797&go)>>>16,e^=t>>>1,e=e*444984403&go|e*60499&Oa,t=t*3301882366&go|((t<<16|e>>>16)*3120437893&go)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const TR=Object.freeze({map:null,hash:"",transfer:void 0});var df,ir,p4,IY;class bL{constructor(){F(this,p4);F(this,df,!1);F(this,ir,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=x(this,ir).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return x(this,ir).get(e)}remove(e){if(x(this,ir).delete(e),x(this,ir).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of x(this,ir).values())if(t instanceof ln)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=x(this,ir).get(e);let r=!1;if(n!==void 0)for(const[s,o]of Object.entries(t))n[s]!==o&&(r=!0,n[s]=o);else r=!0,x(this,ir).set(e,t);r&&j(this,p4,IY).call(this),t instanceof ln&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return x(this,ir).has(e)}getAll(){return x(this,ir).size>0?vL(x(this,ir)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return x(this,ir).size}resetModified(){x(this,df)&&(z(this,df,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new LY(this)}get serializable(){if(x(this,ir).size===0)return TR;const e=new Map,t=new PY,n=[],r=Object.create(null);let s=!1;for(const[o,a]of x(this,ir)){const l=a instanceof ln?a.serialize(!1,r):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&n.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:TR}get editorStats(){let e=null;const t=new Map;for(const n of x(this,ir).values()){if(!(n instanceof ln))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:s}=r;t.has(s)||t.set(s,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(r)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[n,r]of t)e[n]=r.computeTelemetryFinalData(e[n]);return e}}df=new WeakMap,ir=new WeakMap,p4=new WeakSet,IY=function(){x(this,df)||(z(this,df,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var __;class LY extends bL{constructor(t){super();F(this,__,void 0);const{map:n,hash:r,transfer:s}=t.serializable,o=structuredClone(n,s?{transfer:s}:null);z(this,__,{map:o,hash:r,transfer:s})}get print(){fn("Should not call PrintAnnotationStorage.print")}get serializable(){return x(this,__)}}__=new WeakMap;var Km;class Xge{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){F(this,Km,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),x(this,Km).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||x(this,Km).has(e.loadedName))){if(Ei(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:r,style:s}=e,o=new FontFace(n,r,s);this.addNativeFontFace(o);try{await o.load(),x(this,Km).add(n),t==null||t(e)}catch{Nt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}fn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw Nt(`Failed to load font '${n.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Jt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Ir||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Jt(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Ei(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:t,callback:e};return n.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Jt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(C,T){return C.charCodeAt(T)<<24|C.charCodeAt(T+1)<<16|C.charCodeAt(T+2)<<8|C.charCodeAt(T+3)&255}function r(C,T,E,R){const D=C.substring(0,T),I=C.substring(T+E);return D+R+I}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function u(C,T){if(++c>30){Nt("Load test font never loaded."),T();return}if(l.font="30px "+C,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(u.bind(null,C,T))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=r(d,976,h.length,h);const g=16,y=1482184792;let _=n(d,g);for(s=0,o=h.length-3;s<o;s+=4)_=_-y+n(h,s)|0;s<h.length&&(_=_-y+n(h+"XXX",s)|0),d=r(d,g,4,Rge(_));const v=`url(data:font/opentype;base64,${btoa(d)});`,A=`@font-face {font-family:"${h}";src:${v}}`;this.insertRule(A);const S=this._document.createElement("div");S.style.visibility="hidden",S.style.width=S.style.height="10px",S.style.position="absolute",S.style.top=S.style.left="0px";for(const C of[e.loadedName,h]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=C,S.append(T)}this._document.body.append(S),u(h,()=>{S.remove(),t.complete()})}}Km=new WeakMap;class Kge{constructor(e,{disableFontFace:t=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=t===!0,this._inspectFont=n}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=$K(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(r=this._inspectFont)==null||r.call(this,this,t),n}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(s){Nt(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[t]=function(s,o){};const r=[];for(let s=0,o=n.length;s<o;)switch(n[s++]){case Ll.BEZIER_CURVE_TO:{const[a,l,c,u,h,d]=n.slice(s,s+6);r.push(m=>m.bezierCurveTo(a,l,c,u,h,d)),s+=6}break;case Ll.MOVE_TO:{const[a,l]=n.slice(s,s+2);r.push(c=>c.moveTo(a,l)),s+=2}break;case Ll.LINE_TO:{const[a,l]=n.slice(s,s+2);r.push(c=>c.lineTo(a,l)),s+=2}break;case Ll.QUADRATIC_CURVE_TO:{const[a,l,c,u]=n.slice(s,s+4);r.push(h=>h.quadraticCurveTo(a,l,c,u)),s+=4}break;case Ll.RESTORE:r.push(a=>a.restore());break;case Ll.SAVE:r.push(a=>a.save());break;case Ll.SCALE:Ei(r.length===2,"Scale command is only valid at the third position.");break;case Ll.TRANSFORM:{const[a,l,c,u,h,d]=n.slice(s,s+6);r.push(m=>m.transform(a,l,c,u,h,d)),s+=6}break;case Ll.TRANSLATE:{const[a,l]=n.slice(s,s+2);r.push(c=>c.translate(a,l)),s+=2}break}return this.compiledGlyphs[t]=function(o,a){r[0](o),r[1](o),o.scale(a,-a);for(let l=2,c=r.length;l<c;l++)r[l](o)}}}if(Ir){var RR=Promise.withResolvers(),Mv=null;(async()=>{const e=await O1(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await O1(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await O1(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await O1(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:e,http:t,https:n,url:r,canvas:s,path2d:o}))})().then(e=>{Mv=e,RR.resolve()},e=>{Nt(`loadPackages: ${e}`),Mv=new Map,RR.resolve()})}class gl{static get promise(){return RR.promise}static get(e){return Mv==null?void 0:Mv.get(e)}}const DY=function(i){return gl.get("fs").promises.readFile(i).then(t=>new Uint8Array(t))};class Yge extends IM{}class Jge extends db{_createCanvas(e,t){return gl.get("canvas").createCanvas(e,t)}}class qge extends LM{_fetchData(e,t){return DY(e).then(n=>({cMapData:n,compressionType:t}))}}class Zge extends DM{_fetchData(e){return DY(e)}}const Xr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function PR(i,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,n),i.clip(r)}class bx{constructor(){this.constructor===bx&&fn("Cannot initialize BaseShadingPattern.")}getPattern(){fn("Abstract method `getPattern` called.")}}class Qge extends bx{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,r){let s;if(r===Xr.STROKE||r===Xr.FILL){const o=t.current.getClippedPathBoundingBox(r,Nn(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,l,!0),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),n=lt.transform(n,[1,0,0,1,o[0],o[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),PR(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(n);s.setTransform(h)}else PR(e,this._bbox),s=this._createGradient(e);return s}}function sT(i,e,t,n,r,s,o,a){const l=e.coords,c=e.colors,u=i.data,h=i.width*4;let d;l[t+1]>l[n+1]&&(d=t,t=n,n=d,d=s,s=o,o=d),l[n+1]>l[r+1]&&(d=n,n=r,r=d,d=o,o=a,a=d),l[t+1]>l[n+1]&&(d=t,t=n,n=d,d=s,s=o,o=d);const m=(l[t]+e.offsetX)*e.scaleX,g=(l[t+1]+e.offsetY)*e.scaleY,y=(l[n]+e.offsetX)*e.scaleX,_=(l[n+1]+e.offsetY)*e.scaleY,v=(l[r]+e.offsetX)*e.scaleX,A=(l[r+1]+e.offsetY)*e.scaleY;if(g>=A)return;const S=c[s],C=c[s+1],T=c[s+2],E=c[o],R=c[o+1],D=c[o+2],I=c[a],L=c[a+1],O=c[a+2],W=Math.round(g),X=Math.round(A);let Z,$,Q,ee,k,q,K,ne;for(let le=W;le<=X;le++){if(le<_){const xe=le<g?0:(g-le)/(g-_);Z=m-(m-y)*xe,$=S-(S-E)*xe,Q=C-(C-R)*xe,ee=T-(T-D)*xe}else{let xe;le>A?xe=1:_===A?xe=0:xe=(_-le)/(_-A),Z=y-(y-v)*xe,$=E-(E-I)*xe,Q=R-(R-L)*xe,ee=D-(D-O)*xe}let ye;le<g?ye=0:le>A?ye=1:ye=(g-le)/(g-A),k=m-(m-v)*ye,q=S-(S-I)*ye,K=C-(C-L)*ye,ne=T-(T-O)*ye;const re=Math.round(Math.min(Z,k)),pe=Math.round(Math.max(Z,k));let Me=h*le+re*4;for(let xe=re;xe<=pe;xe++)ye=(Z-xe)/(Z-k),ye<0?ye=0:ye>1&&(ye=1),u[Me++]=$-($-q)*ye|0,u[Me++]=Q-(Q-K)*ye|0,u[Me++]=ee-(ee-ne)*ye|0,u[Me++]=255}}function $ge(i,e,t){const n=e.coords,r=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(n.length/a)-1,c=a-1;for(s=0;s<l;s++){let u=s*a;for(let h=0;h<c;h++,u++)sT(i,t,n[u],n[u+1],n[u+a],r[u],r[u+1],r[u+a]),sT(i,t,n[u+a+1],n[u+1],n[u+a],r[u+a+1],r[u+1],r[u+a])}break;case"triangles":for(s=0,o=n.length;s<o;s+=3)sT(i,t,n[s],n[s+1],n[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class e1e extends bx{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),d=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),m=c/h,g=u/d,y={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/m,scaleY:1/g},_=h+2*2,v=d+2*2,A=n.getCanvas("mesh",_,v,!1),S=A.context,C=S.createImageData(h,d);if(t){const E=C.data;for(let R=0,D=E.length;R<D;R+=4)E[R]=t[0],E[R+1]=t[1],E[R+2]=t[2],E[R+3]=255}for(const E of this._figures)$ge(C,E,y);return S.putImageData(C,2,2),{canvas:A.canvas,offsetX:a-2*m,offsetY:l-2*g,scaleX:m,scaleY:g}}getPattern(e,t,n,r){PR(e,this._bbox);let s;if(r===Xr.SHADING)s=lt.singularValueDecompose2dScale(Nn(e));else if(s=lt.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=lt.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,r===Xr.SHADING?null:this._background,t.cachedCanvases);return r!==Xr.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class t1e extends bx{getPattern(){return"hotpink"}}function n1e(i){switch(i[0]){case"RadialAxial":return new Qge(i);case"Mesh":return new e1e(i);case"Dummy":return new t1e}throw new Error(`Unknown IR type: ${i[0]}`)}const GU={COLORED:1,UNCOLORED:2},m4=class m4{constructor(e,t,n,r,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,n=this.bbox,r=this.xstep,s=this.ystep,o=this.paintType,a=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;TM("TilingType: "+a);const u=n[0],h=n[1],d=n[2],m=n[3],g=lt.singularValueDecompose2dScale(this.matrix),y=lt.singularValueDecompose2dScale(this.baseTransform),_=[g[0]*y[0],g[1]*y[1]],v=this.getSizeAndScale(r,this.ctx.canvas.width,_[0]),A=this.getSizeAndScale(s,this.ctx.canvas.height,_[1]),S=e.cachedCanvases.getCanvas("pattern",v.size,A.size,!0),C=S.context,T=c.createCanvasGraphics(C);T.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(T,o,l);let E=u,R=h,D=d,I=m;return u<0&&(E=0,D+=Math.abs(u)),h<0&&(R=0,I+=Math.abs(h)),C.translate(-(v.scale*E),-(A.scale*R)),T.transform(v.scale,0,0,A.scale,0,0),C.save(),this.clipBbox(T,E,R,D,I),T.baseTransform=Nn(T.ctx),T.executeOperatorList(t),T.endDrawing(),{canvas:S.canvas,scaleX:v.scale,scaleY:A.scale,offsetX:E,offsetY:R}}getSizeAndScale(e,t,n){e=Math.abs(e);const r=Math.max(m4.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=r?s=r:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,r,s){const o=r-t,a=s-n;e.ctx.rect(t,n,o,a),e.current.updateRectMinMax(Nn(e.ctx),[t,n,r,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,s=e.current;switch(t){case GU.COLORED:const o=this.ctx;r.fillStyle=o.fillStyle,r.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case GU.UNCOLORED:const a=lt.makeHexColor(n[0],n[1],n[2]);r.fillStyle=a,r.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new Tge(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,r){let s=n;r!==Xr.SHADING&&(s=lt.transform(s,t.baseTransform),this.matrix&&(s=lt.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};Rt(m4,"MAX_PATTERN_SIZE",3e3);let IR=m4;function i1e({src:i,srcPos:e=0,dest:t,width:n,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=ds.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],u=n>>3,h=n&7,d=i.length;t=new Uint32Array(t.buffer);let m=0;for(let g=0;g<r;g++){for(const _=e+u;e<_;e++){const v=e<d?i[e]:255;t[m++]=v&128?c:l,t[m++]=v&64?c:l,t[m++]=v&32?c:l,t[m++]=v&16?c:l,t[m++]=v&8?c:l,t[m++]=v&4?c:l,t[m++]=v&2?c:l,t[m++]=v&1?c:l}if(h===0)continue;const y=e<d?i[e++]:255;for(let _=0;_<h;_++)t[m++]=y&1<<7-_?c:l}return{srcPos:e,destPos:m}}const VU=16,WU=100,r1e=15,XU=10,KU=1e3,ls=16;function s1e(i,e){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){e.save(),this.__originalSave()},i.restore=function(){e.restore(),this.__originalRestore()},i.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},i.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},i.transform=function(n,r,s,o,a,l){e.transform(n,r,s,o,a,l),this.__originalTransform(n,r,s,o,a,l)},i.setTransform=function(n,r,s,o,a,l){e.setTransform(n,r,s,o,a,l),this.__originalSetTransform(n,r,s,o,a,l)},i.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},i.rotate=function(n){e.rotate(n),this.__originalRotate(n)},i.clip=function(n){e.clip(n),this.__originalClip(n)},i.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},i.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},i.bezierCurveTo=function(t,n,r,s,o,a){e.bezierCurveTo(t,n,r,s,o,a),this.__originalBezierCurveTo(t,n,r,s,o,a)},i.rect=function(t,n,r,s){e.rect(t,n,r,s),this.__originalRect(t,n,r,s)},i.closePath=function(){e.closePath(),this.__originalClosePath()},i.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class o1e{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function WS(i,e,t,n,r,s,o,a,l,c){const[u,h,d,m,g,y]=Nn(i);if(h===0&&d===0){const A=o*u+g,S=Math.round(A),C=a*m+y,T=Math.round(C),E=(o+l)*u+g,R=Math.abs(Math.round(E)-S)||1,D=(a+c)*m+y,I=Math.abs(Math.round(D)-T)||1;return i.setTransform(Math.sign(u),0,0,Math.sign(m),S,T),i.drawImage(e,t,n,r,s,0,0,R,I),i.setTransform(u,h,d,m,g,y),[R,I]}if(u===0&&m===0){const A=a*d+g,S=Math.round(A),C=o*h+y,T=Math.round(C),E=(a+c)*d+g,R=Math.abs(Math.round(E)-S)||1,D=(o+l)*h+y,I=Math.abs(Math.round(D)-T)||1;return i.setTransform(0,Math.sign(h),Math.sign(d),0,S,T),i.drawImage(e,t,n,r,s,0,0,I,R),i.setTransform(u,h,d,m,g,y),[I,R]}i.drawImage(e,t,n,r,s,o,a,l,c);const _=Math.hypot(u,h),v=Math.hypot(d,m);return[_*l,v*c]}function a1e(i){const{width:e,height:t}=i;if(e>KU||t>KU)return null;const n=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(t+1)),a,l,c;const u=e+7&-8;let h=new Uint8Array(u*t),d=0;for(const v of i.data){let A=128;for(;A>0;)h[d++]=v&A?0:255,A>>=1}let m=0;for(d=0,h[d]!==0&&(o[0]=1,++m),l=1;l<e;l++)h[d]!==h[d+1]&&(o[l]=h[d]?2:1,++m),d++;for(h[d]!==0&&(o[l]=2,++m),a=1;a<t;a++){d=a*u,c=a*s,h[d-u]!==h[d]&&(o[c]=h[d]?1:8,++m);let v=(h[d]?4:0)+(h[d-u]?8:0);for(l=1;l<e;l++)v=(v>>2)+(h[d+1]?4:0)+(h[d-u+1]?8:0),r[v]&&(o[c+l]=r[v],++m),d++;if(h[d-u]!==h[d]&&(o[c+l]=h[d]?2:4,++m),m>n)return null}for(d=u*(t-1),c=a*s,h[d]!==0&&(o[c]=8,++m),l=1;l<e;l++)h[d]!==h[d+1]&&(o[c+l]=h[d]?4:8,++m),d++;if(h[d]!==0&&(o[c+l]=4,++m),m>n)return null;const g=new Int32Array([0,s,-1,0,-s,0,0,0,1]),y=new Path2D;for(a=0;m&&a<=t;a++){let v=a*s;const A=v+e;for(;v<A&&!o[v];)v++;if(v===A)continue;y.moveTo(v%s,a);const S=v;let C=o[v];do{const T=g[C];do v+=T;while(!o[v]);const E=o[v];E!==5&&E!==10?(C=E,o[v]=0):(C=E&51*C>>4,o[v]&=C>>2|C<<2),y.lineTo(v%s,v/s|0),o[v]||--m}while(S!==v);--a}return h=null,o=null,function(v){v.save(),v.scale(1/e,-1/t),v.translate(0,-t),v.fill(y),v.beginPath(),v.restore()}}class YU{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=ZK,this.textMatrixScale=1,this.fontMatrix=iR,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Ar.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=lt.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=lt.applyTransform(t,e),r=lt.applyTransform(t.slice(2),e),s=lt.applyTransform([t[0],t[3]],e),o=lt.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],r[0],s[0],o[0]),this.minY=Math.min(this.minY,n[1],r[1],s[1],o[1]),this.maxX=Math.max(this.maxX,n[0],r[0],s[0],o[0]),this.maxY=Math.max(this.maxY,n[1],r[1],s[1],o[1])}updateScalingPathMinMax(e,t){lt.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,r,s,o,a,l,c,u){const h=lt.bezierBoundingBox(t,n,r,s,o,a,l,c,u);u||this.updateRectMinMax(e,h)}getPathBoundingBox(e=Xr.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===Xr.STROKE){t||fn("Stroke bounding box must include transform.");const r=lt.singularValueDecompose2dScale(t),s=r[0]*this.lineWidth/2,o=r[1]*this.lineWidth/2;n[0]-=s,n[1]-=o,n[2]+=s,n[3]+=o}return n}updateClipFromPath(){const e=lt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Xr.FILL,t=null){return lt.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function JU(i,e){if(typeof ImageData<"u"&&e instanceof ImageData){i.putImageData(e,0,0);return}const t=e.height,n=e.width,r=t%ls,s=(t-r)/ls,o=r===0?s:s+1,a=i.createImageData(n,ls);let l=0,c;const u=e.data,h=a.data;let d,m,g,y;if(e.kind===A5.GRAYSCALE_1BPP){const _=u.byteLength,v=new Uint32Array(h.buffer,0,h.byteLength>>2),A=v.length,S=n+7>>3,C=4294967295,T=ds.isLittleEndian?4278190080:255;for(d=0;d<o;d++){for(g=d<s?ls:r,c=0,m=0;m<g;m++){const E=_-l;let R=0;const D=E>S?n:E*8-7,I=D&-8;let L=0,O=0;for(;R<I;R+=8)O=u[l++],v[c++]=O&128?C:T,v[c++]=O&64?C:T,v[c++]=O&32?C:T,v[c++]=O&16?C:T,v[c++]=O&8?C:T,v[c++]=O&4?C:T,v[c++]=O&2?C:T,v[c++]=O&1?C:T;for(;R<D;R++)L===0&&(O=u[l++],L=128),v[c++]=O&L?C:T,L>>=1}for(;c<A;)v[c++]=0;i.putImageData(a,0,d*ls)}}else if(e.kind===A5.RGBA_32BPP){for(m=0,y=n*ls*4,d=0;d<s;d++)h.set(u.subarray(l,l+y)),l+=y,i.putImageData(a,0,m),m+=ls;d<o&&(y=n*r*4,h.set(u.subarray(l,l+y)),i.putImageData(a,0,m))}else if(e.kind===A5.RGB_24BPP)for(g=ls,y=n*g,d=0;d<o;d++){for(d>=s&&(g=r,y=n*g),c=0,m=y;m--;)h[c++]=u[l++],h[c++]=u[l++],h[c++]=u[l++],h[c++]=255;i.putImageData(a,0,d*ls)}else throw new Error(`bad image kind: ${e.kind}`)}function qU(i,e){if(e.bitmap){i.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,r=t%ls,s=(t-r)/ls,o=r===0?s:s+1,a=i.createImageData(n,ls);let l=0;const c=e.data,u=a.data;for(let h=0;h<o;h++){const d=h<s?ls:r;({srcPos:l}=i1e({src:c,srcPos:l,dest:u,width:n,height:d,nonBlackColor:0})),i.putImageData(a,0,h*ls)}}function E1(i,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)i[n]!==void 0&&(e[n]=i[n]);i.setLineDash!==void 0&&(e.setLineDash(i.getLineDash()),e.lineDashOffset=i.lineDashOffset)}function XS(i){if(i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0),!Ir){const{filter:e}=i;e!=="none"&&e!==""&&(i.filter="none")}}function ZU(i,e){if(e)return!0;const t=lt.singularValueDecompose2dScale(i);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Rh.PDF_TO_CSS_UNITS);return t[0]<=n&&t[1]<=n}const l1e=["butt","round","square"],c1e=["miter","round","bevel"],u1e={},QU={};var x_,LR,A_,DR;const _D=class _D{constructor(e,t,n,r,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){F(this,x_);F(this,A_);this.ctx=e,this.current=new YU(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new o1e(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:r=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,n){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Nn(this.compositeCtx))}this.ctx.save(),XS(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Nn(this.ctx)}executeOperatorList(e,t,n,r){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const c=l-a>XU&&typeof n=="function",u=c?Date.now()+r1e:0;let h=0;const d=this.commonObjs,m=this.objs;let g;for(;;){if(r!==void 0&&a===r.nextBreakPoint)return r.breakIt(a,n),a;if(g=o[a],g!==$o.dependency)this[g].apply(this,s[a]);else for(const y of s[a]){const _=y.startsWith("g_")?d:m;if(!_.has(y))return _.get(y,n),a}if(a++,a===l)return a;if(c&&++h>XU){if(Date.now()>u)return n(),a;h=0}}}endDrawing(){j(this,x_,LR).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),j(this,A_,DR).call(this)}_scaleImage(e,t){const n=e.width,r=e.height;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=n,l=r,c="prescale1",u,h;for(;s>2&&a>1||o>2&&l>1;){let d=a,m=l;s>2&&a>1&&(d=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/d),o>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/m),u=this.cachedCanvases.getCanvas(c,d,m),h=u.context,h.clearRect(0,0,d,m),h.drawImage(e,0,0,a,l,0,0,d,m),e=u.canvas,a=d,l=m,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:r}=e,s=this.current.fillColor,o=this.current.patternFill,a=Nn(t);let l,c,u,h;if((e.bitmap||e.data)&&e.count>1){const D=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(D),l||(l=new Map,this._cachedBitmapsMap.set(D,l));const I=l.get(c);if(I&&!o){const L=Math.round(Math.min(a[0],a[2])+a[4]),O=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:I,offsetX:L,offsetY:O}}u=I}u||(h=this.cachedCanvases.getCanvas("maskCanvas",n,r),qU(h.context,e));let d=lt.transform(a,[1/n,0,0,-1/r,0,0]);d=lt.transform(d,[1,0,0,1,0,-r]);const[m,g,y,_]=lt.getAxialAlignedBoundingBox([0,0,n,r],d),v=Math.round(y-m)||1,A=Math.round(_-g)||1,S=this.cachedCanvases.getCanvas("fillCanvas",v,A),C=S.context,T=m,E=g;C.translate(-T,-E),C.transform(...d),u||(u=this._scaleImage(h.canvas,Dl(C)),u=u.img,l&&o&&l.set(c,u)),C.imageSmoothingEnabled=ZU(Nn(C),e.interpolate),WS(C,u,0,0,u.width,u.height,0,0,n,r),C.globalCompositeOperation="source-in";const R=lt.transform(Dl(C),[1,0,0,1,-T,-E]);return C.fillStyle=o?s.getPattern(t,this,R,Xr.FILL):s,C.fillRect(0,0,n,r),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,S.canvas)),{canvas:S.canvas,offsetX:Math.round(T),offsetY:Math.round(E)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=l1e[e]}setLineJoin(e){this.ctx.lineJoin=c1e[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const s=this.ctx;s.setTransform(...Nn(this.suspendedCtx)),E1(this.suspendedCtx,s),s1e(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),E1(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,r){const s=r[0],o=r[1],a=r[2]-s,l=r[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,n,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,r,s,o,a,l,c,u,h){let d=e.canvas,m=l-u,g=c-h;if(o){if(m<0||g<0||m+n>d.width||g+r>d.height){const _=this.cachedCanvases.getCanvas("maskExtension",n,r),v=_.context;v.drawImage(d,-m,-g),o.some(A=>A!==0)&&(v.globalCompositeOperation="destination-atop",v.fillStyle=lt.makeHexColor(...o),v.fillRect(0,0,n,r),v.globalCompositeOperation="source-over"),d=_.canvas,m=g=0}else if(o.some(_=>_!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const _=new Path2D;_.rect(m,g,n,r),e.clip(_),e.globalCompositeOperation="destination-atop",e.fillStyle=lt.makeHexColor(...o),e.fillRect(m,g,n,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const y=new Path2D;y.rect(l,c,n,r),t.clip(y),t.globalCompositeOperation="destination-in",t.drawImage(d,m,g,n,r,l,c,n,r),t.restore()}save(){this.inSMaskMode?(E1(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),E1(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,r,s,o){this.ctx.transform(e,t,n,r,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const r=this.ctx,s=this.current;let o=s.x,a=s.y,l,c;const u=Nn(r),h=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,d=h?n.slice(0):null;for(let m=0,g=0,y=e.length;m<y;m++)switch(e[m]|0){case $o.rectangle:o=t[g++],a=t[g++];const _=t[g++],v=t[g++],A=o+_,S=a+v;r.moveTo(o,a),_===0||v===0?r.lineTo(A,S):(r.lineTo(A,a),r.lineTo(A,S),r.lineTo(o,S)),h||s.updateRectMinMax(u,[o,a,A,S]),r.closePath();break;case $o.moveTo:o=t[g++],a=t[g++],r.moveTo(o,a),h||s.updatePathMinMax(u,o,a);break;case $o.lineTo:o=t[g++],a=t[g++],r.lineTo(o,a),h||s.updatePathMinMax(u,o,a);break;case $o.curveTo:l=o,c=a,o=t[g+4],a=t[g+5],r.bezierCurveTo(t[g],t[g+1],t[g+2],t[g+3],o,a),s.updateCurvePathMinMax(u,l,c,t[g],t[g+1],t[g+2],t[g+3],o,a,d),g+=6;break;case $o.curveTo2:l=o,c=a,r.bezierCurveTo(o,a,t[g],t[g+1],t[g+2],t[g+3]),s.updateCurvePathMinMax(u,l,c,o,a,t[g],t[g+1],t[g+2],t[g+3],d),o=t[g+2],a=t[g+3],g+=4;break;case $o.curveTo3:l=o,c=a,o=t[g+2],a=t[g+3],r.bezierCurveTo(t[g],t[g+1],o,a,o,a),s.updateCurvePathMinMax(u,l,c,t[g],t[g+1],o,a,o,a,d),g+=4;break;case $o.closePath:r.closePath();break}h&&s.updateScalingPathMinMax(u,d),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(t.save(),t.strokeStyle=n.getPattern(t,this,Dl(t),Xr.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;let s=!1;r&&(t.save(),t.fillStyle=n.getPattern(t,this,Dl(t),Xr.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=u1e}eoClip(){this.pendingClip=QU}beginText(){this.current.textMatrix=ZK,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var u;const n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=n.fontMatrix||iR,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Nt("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const s=n.loadedName||"sans-serif",o=((u=n.systemFontInfo)==null?void 0:u.css)||`"${s}", ${n.fallbackName}`;let a="normal";n.black?a="900":n.bold&&(a="bold");const l=n.italic?"italic":"normal";let c=t;t<VU?c=VU:t>WU&&(c=WU),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,r,s,o){this.current.textMatrix=[e,t,n,r,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,r){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,u=l&Ar.FILL_STROKE_MASK,h=!!(l&Ar.ADD_TO_PATH_FLAG),d=o.patternFill&&!a.missingFile;let m;(a.disableFontFace||h||d)&&(m=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||d?(s.save(),s.translate(t,n),s.beginPath(),m(s,c),r&&s.setTransform(...r),(u===Ar.FILL||u===Ar.FILL_STROKE)&&s.fill(),(u===Ar.STROKE||u===Ar.FILL_STROKE)&&s.stroke(),s.restore()):((u===Ar.FILL||u===Ar.FILL_STROKE)&&s.fillText(e,t,n),(u===Ar.STROKE||u===Ar.FILL_STROKE)&&s.strokeText(e,t,n)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Nn(s),x:t,y:n,fontSize:c,addToPath:m})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return Jt(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,u=t.textHScale*c,h=e.length,d=n.vertical,m=d?1:-1,g=n.defaultVMetrics,y=r*t.fontMatrix[0],_=t.textRenderingMode===Ar.FILL&&!n.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),c>0?s.scale(u,-1):s.scale(u,1);let v;if(t.patternFill){s.save();const E=t.fillColor.getPattern(s,this,Dl(s),Xr.FILL);v=Nn(s),s.restore(),s.fillStyle=E}let A=t.lineWidth;const S=t.textMatrixScale;if(S===0||A===0){const E=t.textRenderingMode&Ar.FILL_STROKE_MASK;(E===Ar.STROKE||E===Ar.FILL_STROKE)&&(A=this.getSinglePixelWidth())}else A/=S;if(o!==1&&(s.scale(o,o),A/=o),s.lineWidth=A,n.isInvalidPDFjsFont){const E=[];let R=0;for(const D of e)E.push(D.unicode),R+=D.width;s.fillText(E.join(""),0,0),t.x+=R*y*u,s.restore(),this.compose();return}let C=0,T;for(T=0;T<h;++T){const E=e[T];if(typeof E=="number"){C+=m*E*r/1e3;continue}let R=!1;const D=(E.isSpace?l:0)+a,I=E.fontChar,L=E.accent;let O,W,X=E.width;if(d){const $=E.vmetric||g,Q=-(E.vmetric?$[1]:X*.5)*y,ee=$[2]*y;X=$?-$[0]:X,O=Q/o,W=(C+ee)/o}else O=C/o,W=0;if(n.remeasure&&X>0){const $=s.measureText(I).width*1e3/r*o;if(X<$&&this.isFontSubpixelAAEnabled){const Q=X/$;R=!0,s.save(),s.scale(Q,1),O/=Q}else X!==$&&(O+=(X-$)/2e3*r/o)}if(this.contentVisible&&(E.isInFont||n.missingFile)){if(_&&!L)s.fillText(I,O,W);else if(this.paintChar(I,O,W,v),L){const $=O+r*L.offset.x/o,Q=W-r*L.offset.y/o;this.paintChar(L.fontChar,$,Q,v)}}const Z=d?X*y-D*c:X*y+D*c;C+=Z,R&&s.restore()}d?t.y-=C:t.x+=C*u,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,s=n.fontSize,o=n.fontDirection,a=r.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,u=n.textHScale*o,h=n.fontMatrix||iR,d=e.length,m=n.textRenderingMode===Ar.INVISIBLE;let g,y,_,v;if(!(m||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(u,o),g=0;g<d;++g){if(y=e[g],typeof y=="number"){v=a*y*s/1e3,this.ctx.translate(v,0),n.x+=v*u;continue}const A=(y.isSpace?c:0)+l,S=r.charProcOperatorList[y.operatorListId];if(!S){Nt(`Type3 character "${y.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=y,this.save(),t.scale(s,s),t.transform(...h),this.executeOperatorList(S),this.restore()),_=lt.applyTransform([y.width,0],h)[0]*s+A,t.translate(_,0),n.x+=_*u}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,s,o){this.ctx.rect(n,r,s-n,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=e[1],r=this.baseTransform||Nn(this.ctx),s={createCanvasGraphics:o=>new _D(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new IR(e,n,this.ctx,s,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){const r=lt.makeHexColor(e,t,n);this.ctx.strokeStyle=r,this.current.strokeColor=r}setFillRGBColor(e,t,n){const r=lt.makeHexColor(e,t,n);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=n1e(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,Dl(t),Xr.SHADING);const r=Dl(t);if(r){const{width:s,height:o}=t.canvas,[a,l,c,u]=lt.getAxialAlignedBoundingBox([0,0,s,o],r);this.ctx.fillRect(a,l,c-a,u-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){fn("Should not call beginInlineImage")}beginImageData(){fn("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Nn(this.ctx),t)){const n=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],n,r),this.current.updateRectMinMax(Nn(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||TM("TODO: Support non-isolated groups."),e.knockout&&Nt("Knockout groups not supported.");const n=Nn(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=lt.getAxialAlignedBoundingBox(e.bbox,Nn(t));const s=[0,0,t.canvas.width,t.canvas.height];r=lt.intersect(r,s)||[0,0,0,0];const o=Math.floor(r[0]),a=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-o,1),c=Math.max(Math.ceil(r[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(u,l,c),d=h.context;d.translate(-o,-a),d.transform(...n),e.smask?this.smaskStack.push({canvas:h.canvas,context:d,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),E1(t,d),this.ctx=d,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Nn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const s=lt.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,n,r,s){if(j(this,x_,LR).call(this),XS(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[l,c]=lt.singularValueDecompose2dScale(Nn(this.ctx)),{viewportScale:u}=this,h=Math.ceil(o*this.outputScaleX*u),d=Math.ceil(a*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(h,d);const{canvas:m,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),XS(this.ctx)}else XS(this.ctx),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.endPath()}this.current=new YU(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),j(this,A_,DR).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=a1e(e)),r.compiled)){r.compiled(n);return}const s=this._createMaskCanvas(e),o=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(o,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,r=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=Nn(a);a.transform(t,n,r,s,0,0);const c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,h=o.length;u<h;u+=2){const d=lt.transform(l,[t,n,r,s,o[u],o[u+1]]),[m,g]=lt.applyTransform([0,0],d);a.drawImage(c.canvas,m,g)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:c}=s,u=this.cachedCanvases.getCanvas("maskCanvas",a,l),h=u.context;h.save();const d=this.getObject(o,s);qU(h,d),h.globalCompositeOperation="source-in",h.fillStyle=r?n.getPattern(h,this,Dl(t),Xr.FILL):n,h.fillRect(0,0,a,l),h.restore(),t.save(),t.transform(...c),t.scale(1,-1),WS(t,u.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Nt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){Nt("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let c=0,u=r.length;c<u;c+=2)l.push({transform:[t,0,0,n,r[c],r[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,r=this.ctx;if(this.save(),!Ir){const{filter:a}=r;a!=="none"&&a!==""&&(r.filter="none")}r.scale(1/t,-1/n);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,n).context;JU(l,e),s=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(s,Dl(r));r.imageSmoothingEnabled=ZU(Nn(r),e.interpolate),WS(r,o.img,0,0,o.paintWidth,o.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;JU(l,e),r=this.applyTransferMapsToCanvas(l)}for(const s of t)n.save(),n.transform(...s.transform),n.scale(1,-1),WS(n,r,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===QU?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Nn(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:s}=this.ctx.getTransform();let o,a;if(n===0&&r===0){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(e===0)o=a=1/l;else{const u=l*e;o=a=u<1?1/u:1}else if(e===0)o=1/l,a=1/c;else{const u=l*e,h=c*e;o=u<1?1/u:1,a=h<1?1/h:1}}else{const l=Math.abs(t*s-n*r),c=Math.hypot(t,n),u=Math.hypot(r,s);if(e===0)o=u/l,a=c/l;else{const h=e*l;o=u>h?u/h:1,a=c>h?c/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[r,s]=this.getScaleForStroking();if(t.lineWidth=n||1,r===1&&s===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(r,s),o.length>0){const a=Math.max(r,s);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};x_=new WeakSet,LR=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},A_=new WeakSet,DR=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Sm=_D;for(const i in $o)Sm.prototype[i]!==void 0&&(Sm.prototype[$o[i]]=Sm.prototype[i]);var S_,w_;class Dc{static get workerPort(){return x(this,S_)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");z(this,S_,e)}static get workerSrc(){return x(this,w_)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");z(this,w_,e)}}S_=new WeakMap,w_=new WeakMap,F(Dc,S_,null),F(Dc,w_,"");const KS={UNKNOWN:0,DATA:1,ERROR:2},mi={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ps(i){switch(i instanceof Error||typeof i=="object"&&i!==null||fn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new z0(i.message);case"MissingPDFException":return new U0(i.message);case"PasswordException":return new sR(i.message,i.code);case"UnexpectedResponseException":return new RM(i.message,i.status);case"UnknownErrorException":return new oR(i.message,i.details);default:return new oR(i.message,i.toString())}}var g4,BY,v4,FY,Ym,E5;class W1{constructor(e,t,n){F(this,g4);F(this,v4);F(this,Ym);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=r=>{const s=r.data;if(s.targetName!==this.sourceName)return;if(s.stream){j(this,v4,FY).call(this,s);return}if(s.callback){const a=s.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],s.callback===KS.DATA)l.resolve(s.data);else if(s.callback===KS.ERROR)l.reject(Ps(s.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[s.action];if(!o)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const a=this.sourceName,l=s.sourceName;new Promise(function(c){c(o(s.data))}).then(function(c){n.postMessage({sourceName:a,targetName:l,callback:KS.DATA,callbackId:s.callbackId,data:c})},function(c){n.postMessage({sourceName:a,targetName:l,callback:KS.ERROR,callbackId:s.callbackId,reason:Ps(c)})});return}if(s.streamId){j(this,g4,BY).call(this,s);return}o(s.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,n,r){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:c.desiredSize},r),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:o,targetName:a,stream:mi.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{Ei(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:mi.CANCEL,streamId:s,reason:Ps(c)}),u.promise}},n)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}g4=new WeakSet,BY=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(c,u=1,h){if(this.isCancelled)return;const d=this.desiredSize;this.desiredSize-=u,d>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:r,stream:mi.ENQUEUE,streamId:t,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:mi.CLOSE,streamId:t}),delete o.streamSinks[t])},error(c){Ei(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:mi.ERROR,streamId:t,reason:Ps(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(c){c(a(e.data,l))}).then(function(){s.postMessage({sourceName:n,targetName:r,stream:mi.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:n,targetName:r,stream:mi.START_COMPLETE,streamId:t,reason:Ps(c)})})},v4=new WeakSet,FY=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case mi.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Ps(e.reason));break;case mi.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Ps(e.reason));break;case mi.PULL:if(!a){s.postMessage({sourceName:n,targetName:r,stream:mi.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var c;l((c=a.onPull)==null?void 0:c.call(a))}).then(function(){s.postMessage({sourceName:n,targetName:r,stream:mi.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:n,targetName:r,stream:mi.PULL_COMPLETE,streamId:t,reason:Ps(l)})});break;case mi.ENQUEUE:if(Ei(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case mi.CLOSE:if(Ei(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),j(this,Ym,E5).call(this,o,t);break;case mi.ERROR:Ei(o,"error should have stream controller"),o.controller.error(Ps(e.reason)),j(this,Ym,E5).call(this,o,t);break;case mi.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Ps(e.reason)),j(this,Ym,E5).call(this,o,t);break;case mi.CANCEL:if(!a)break;new Promise(function(l){var c;l((c=a.onCancel)==null?void 0:c.call(a,Ps(e.reason)))}).then(function(){s.postMessage({sourceName:n,targetName:r,stream:mi.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:n,targetName:r,stream:mi.CANCEL_COMPLETE,streamId:t,reason:Ps(l)})}),a.sinkCapability.reject(Ps(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Ym=new WeakSet,E5=async function(e,t){var n,r,s;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var ff,b_;class h1e{constructor({parsedData:e,rawData:t}){F(this,ff,void 0);F(this,b_,void 0);z(this,ff,e),z(this,b_,t)}getRaw(){return x(this,b_)}get(e){return x(this,ff).get(e)??null}getAll(){return vL(x(this,ff))}has(e){return x(this,ff).has(e)}}ff=new WeakMap,b_=new WeakMap;const yu=Symbol("INTERNAL");var C_,M_,E_,Jm;class d1e{constructor(e,{name:t,intent:n,usage:r}){F(this,C_,!1);F(this,M_,!1);F(this,E_,!1);F(this,Jm,!0);z(this,C_,!!(e&bo.DISPLAY)),z(this,M_,!!(e&bo.PRINT)),this.name=t,this.intent=n,this.usage=r}get visible(){if(x(this,E_))return x(this,Jm);if(!x(this,Jm))return!1;const{print:e,view:t}=this.usage;return x(this,C_)?(t==null?void 0:t.viewState)!=="OFF":x(this,M_)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==yu&&fn("Internal method `_setVisible` called."),z(this,E_,n),z(this,Jm,t)}}C_=new WeakMap,M_=new WeakMap,E_=new WeakMap,Jm=new WeakMap;var Bu,dn,qm,Zm,T_,BR;class f1e{constructor(e,t=bo.DISPLAY){F(this,T_);F(this,Bu,null);F(this,dn,new Map);F(this,qm,null);F(this,Zm,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,z(this,Zm,e.order);for(const n of e.groups)x(this,dn).set(n.id,new d1e(t,n));if(e.baseState==="OFF")for(const n of x(this,dn).values())n._setVisible(yu,!1);for(const n of e.on)x(this,dn).get(n)._setVisible(yu,!0);for(const n of e.off)x(this,dn).get(n)._setVisible(yu,!1);z(this,qm,this.getHash())}}isVisible(e){if(x(this,dn).size===0)return!0;if(!e)return TM("Optional content group not defined."),!0;if(e.type==="OCG")return x(this,dn).has(e.id)?x(this,dn).get(e.id).visible:(Nt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return j(this,T_,BR).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!x(this,dn).has(t))return Nt(`Optional content group not found: ${t}`),!0;if(x(this,dn).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!x(this,dn).has(t))return Nt(`Optional content group not found: ${t}`),!0;if(!x(this,dn).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!x(this,dn).has(t))return Nt(`Optional content group not found: ${t}`),!0;if(!x(this,dn).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!x(this,dn).has(t))return Nt(`Optional content group not found: ${t}`),!0;if(x(this,dn).get(t).visible)return!1}return!0}return Nt(`Unknown optional content policy ${e.policy}.`),!0}return Nt(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const n=x(this,dn).get(e);if(!n){Nt(`Optional content group not found: ${e}`);return}n._setVisible(yu,!!t,!0),z(this,Bu,null)}setOCGState({state:e,preserveRB:t}){let n;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const s=x(this,dn).get(r);if(s)switch(n){case"ON":s._setVisible(yu,!0);break;case"OFF":s._setVisible(yu,!1);break;case"Toggle":s._setVisible(yu,!s.visible);break}}z(this,Bu,null)}get hasInitialVisibility(){return x(this,qm)===null||this.getHash()===x(this,qm)}getOrder(){return x(this,dn).size?x(this,Zm)?x(this,Zm).slice():[...x(this,dn).keys()]:null}getGroups(){return x(this,dn).size>0?vL(x(this,dn)):null}getGroup(e){return x(this,dn).get(e)||null}getHash(){if(x(this,Bu)!==null)return x(this,Bu);const e=new PY;for(const[t,n]of x(this,dn))e.update(`${t}:${n.visible}`);return z(this,Bu,e.hexdigest())}}Bu=new WeakMap,dn=new WeakMap,qm=new WeakMap,Zm=new WeakMap,T_=new WeakSet,BR=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const s=e[r];let o;if(Array.isArray(s))o=j(this,T_,BR).call(this,s);else if(x(this,dn).has(s))o=x(this,dn).get(s).visible;else return Nt(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return n==="And"};class p1e{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Ei(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});Ei(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,r,s;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ei(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new m1e(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new g1e(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class m1e{constructor(e,t,n=!1,r=null){this._stream=e,this._done=n||!1,this._filename=SL(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class g1e{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function v1e(i){let e=!0,t=n("filename\\*","i").exec(i);if(t){t=t[1];let u=a(t);return u=unescape(u),u=l(u),u=c(u),s(u)}if(t=o(i),t){const u=c(t);return s(u)}if(t=n("filename","i").exec(i),t){t=t[1];let u=a(t);return u=c(u),s(u)}function n(u,h){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function r(u,h){if(u){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const d=new TextDecoder(u,{fatal:!0}),m=PM(h);h=d.decode(m),e=!1}catch{}}return h}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=r("utf-8",u),e&&(u=r("iso-8859-1",u))),u}function o(u){const h=[];let d;const m=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(d=m.exec(u))!==null;){let[,y,_,v]=d;if(y=parseInt(y,10),y in h){if(y===0)break;continue}h[y]=[_,v]}const g=[];for(let y=0;y<h.length&&y in h;++y){let[_,v]=h[y];v=a(v),_&&(v=unescape(v),y===0&&(v=l(v))),g.push(v)}return g.join("")}function a(u){if(u.startsWith('"')){const h=u.slice(1).split('\\"');for(let d=0;d<h.length;++d){const m=h[d].indexOf('"');m!==-1&&(h[d]=h[d].slice(0,m),h.length=d+1),h[d]=h[d].replaceAll(/\\(.)/g,"$1")}u=h.join('"')}return u}function l(u){const h=u.indexOf("'");if(h===-1)return u;const d=u.slice(0,h),g=u.slice(h+1).replace(/^[^']*'/,"");return r(d,g)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,d,m,g){if(m==="q"||m==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,_){return String.fromCharCode(parseInt(_,16))}),r(d,g);try{g=atob(g)}catch{}return r(d,g)})}return""}function CL({getResponseHeader:i,isHttp:e,rangeChunkSize:t,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(i("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||n||!e||i("Accept-Ranges")!=="bytes"||(i("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function ML(i){const e=i("Content-Disposition");if(e){let t=v1e(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(SL(t))return t}return null}function FM(i,e){return i===404||i===0&&e.startsWith("file:")?new U0('Missing PDF "'+e+'".'):new RM(`Unexpected server response (${i}) while retrieving PDF "${e}".`,i)}function OY(i){return i===200||i===206}function kY(i,e,t){return{method:"GET",headers:i,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function NY(i){const e=new Headers;for(const t in i){const n=i[t];n!==void 0&&e.append(t,n)}return e}function UY(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(Nt(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class $U{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ei(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new y1e(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new _1e(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class y1e{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=NY(this._stream.httpHeaders);const n=t.url;fetch(n,kY(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!OY(r.status))throw FM(r.status,n);this._reader=r.body.getReader(),this._headersCapability.resolve();const s=l=>r.headers.get(l),{allowRangeRequests:o,suggestedLength:a}=CL({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=ML(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new z0("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:UY(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class _1e{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController,this._headers=NY(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${n-1}`);const s=r.url;fetch(s,kY(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!OY(o.status))throw FM(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:UY(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const oT=200,aT=206;function x1e(i){const e=i.response;return typeof e!="string"?e:PM(e).buffer}class A1e{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const r={begin:e,end:t};for(const s in n)r[s]=n[s];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const o=this.httpHeaders[s];o!==void 0&&t.setRequestHeader(s,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=aT):r.expectedStatus=oT,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var r;const n=this.pendingRequests[e];n&&((r=n.onProgress)==null||r.call(n,t))}onStateChange(e,t){var l,c,u;const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(l=n.onError)==null||l.call(n,r.status);return}const s=r.status||oT;if(!(s===oT&&n.expectedStatus===aT)&&s!==n.expectedStatus){(c=n.onError)==null||c.call(n,r.status);return}const a=x1e(r);if(s===aT){const h=r.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);n.onDone({begin:parseInt(d[1],10),chunk:a})}else a?n.onDone({begin:0,chunk:a}):(u=n.onError)==null||u.call(n,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class S1e{constructor(e){this._source=e,this._manager=new A1e(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ei(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new w1e(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new b1e(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class w1e{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=o=>t.getResponseHeader(o),{allowRangeRequests:r,suggestedLength:s}=CL({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=ML(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=FM(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class b1e{constructor(e,t,n){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=FM(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const zY=/^file:\/\/\/[a-zA-Z]:\//;function C1e(i){const e=gl.get("url"),t=e.parse(i);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(i)?e.parse(`file:///${i}`):(t.host||(t.protocol="file:"),t)}class M1e{constructor(e){this.source=e,this.url=C1e(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ei(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new R1e(this):new E1e(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new P1e(this,e,t):new T1e(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class jY{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new z0("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class HY{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function mb(i,e){return{protocol:i.protocol,auth:i.auth,host:i.hostname,port:i.port,path:i.path,method:"GET",headers:e}}class E1e extends jY{constructor(e){super(e);const t=n=>{if(n.statusCode===404){const a=new U0(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(n);const r=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=CL({getResponseHeader:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=ML(r)};if(this._request=null,this._url.protocol==="http:"){const n=gl.get("http");this._request=n.request(mb(this._url,e.httpHeaders),t)}else{const n=gl.get("https");this._request=n.request(mb(this._url,e.httpHeaders),t)}this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}}class T1e extends HY{constructor(e,t,n){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const o=e.httpHeaders[s];o!==void 0&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const r=s=>{if(s.statusCode===404){const o=new U0(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=gl.get("http");this._request=s.request(mb(this._url,this._httpHeaders),r)}else{const s=gl.get("https");this._request=s.request(mb(this._url,this._httpHeaders),r)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class R1e extends jY{constructor(e){super(e);let t=decodeURIComponent(this._url.path);zY.test(this._url.href)&&(t=t.replace(/^\//,""));const n=gl.get("fs");n.promises.lstat(t).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(t)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new U0(`Missing PDF "${t}".`)),this._storedError=r,this._headersCapability.reject(r)})}}class P1e extends HY{constructor(e,t,n){super(e);let r=decodeURIComponent(this._url.path);zY.test(this._url.href)&&(r=r.replace(/^\//,""));const s=gl.get("fs");this._setReadableStream(s.createReadStream(r,{start:t,end:n-1}))}}const I1e=1e5,is=30,L1e=.8;var Qz,Fu,as,R_,P_,pf,$l,I_,L_,mf,Qm,$m,Ou,e2,D_,t2,gf,B_,F_,gi,vf,yf,ku,n2,y4,GY,_4,VY,O_,FR,i2,T5,x4,WY,A4,XY;let gb=(gi=class{constructor({textContentSource:e,container:t,viewport:n}){F(this,y4);F(this,_4);F(this,O_);F(this,Fu,Promise.withResolvers());F(this,as,null);F(this,R_,!1);F(this,P_,!!((Qz=globalThis.FontInspector)!=null&&Qz.enabled));F(this,pf,null);F(this,$l,null);F(this,I_,0);F(this,L_,0);F(this,mf,null);F(this,Qm,null);F(this,$m,0);F(this,Ou,0);F(this,e2,Object.create(null));F(this,D_,[]);F(this,t2,null);F(this,gf,[]);F(this,B_,new WeakMap);F(this,F_,null);var l;if(e instanceof ReadableStream)z(this,t2,e);else if(typeof e=="object")z(this,t2,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');z(this,as,z(this,Qm,t)),z(this,Ou,n.scale*(globalThis.devicePixelRatio||1)),z(this,$m,n.rotation),z(this,$l,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:o,pageY:a}=n.rawDims;z(this,F_,[1,0,0,-1,-o,a+s]),z(this,L_,r),z(this,I_,s),j(l=gi,x4,WY).call(l),w0(t,n),x(this,Fu).promise.catch(()=>{}).then(()=>{x(gi,n2).delete(this),z(this,$l,null),z(this,e2,null)})}render(){const e=()=>{x(this,mf).read().then(({value:t,done:n})=>{if(n){x(this,Fu).resolve();return}x(this,pf)??z(this,pf,t.lang),Object.assign(x(this,e2),t.styles),j(this,y4,GY).call(this,t.items),e()},x(this,Fu).reject)};return z(this,mf,x(this,t2).getReader()),x(gi,n2).add(this),e(),x(this,Fu).promise}update({viewport:e,onBefore:t=null}){var s;const n=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==x(this,$m)&&(t==null||t(),z(this,$m,r),w0(x(this,Qm),{rotation:r})),n!==x(this,Ou)){t==null||t(),z(this,Ou,n);const o={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:j(s=gi,i2,T5).call(s,x(this,pf))};for(const a of x(this,gf))o.properties=x(this,B_).get(a),o.div=a,j(this,O_,FR).call(this,o)}}cancel(){var t;const e=new z0("TextLayer task cancelled.");(t=x(this,mf))==null||t.cancel(e).catch(()=>{}),z(this,mf,null),x(this,Fu).reject(e)}get textDivs(){return x(this,gf)}get textContentItemsStr(){return x(this,D_)}static cleanup(){if(!(x(this,n2).size>0)){x(this,vf).clear();for(const{canvas:e}of x(this,yf).values())e.remove();x(this,yf).clear()}}},Fu=new WeakMap,as=new WeakMap,R_=new WeakMap,P_=new WeakMap,pf=new WeakMap,$l=new WeakMap,I_=new WeakMap,L_=new WeakMap,mf=new WeakMap,Qm=new WeakMap,$m=new WeakMap,Ou=new WeakMap,e2=new WeakMap,D_=new WeakMap,t2=new WeakMap,gf=new WeakMap,B_=new WeakMap,F_=new WeakMap,vf=new WeakMap,yf=new WeakMap,ku=new WeakMap,n2=new WeakMap,y4=new WeakSet,GY=function(e){var r,s;if(x(this,R_))return;(s=x(this,$l)).ctx??(s.ctx=j(r=gi,i2,T5).call(r,x(this,pf)));const t=x(this,gf),n=x(this,D_);for(const o of e){if(t.length>I1e){Nt("Ignoring additional textDivs for performance reasons."),z(this,R_,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=x(this,as);z(this,as,document.createElement("span")),x(this,as).classList.add("markedContent"),o.id!==null&&x(this,as).setAttribute("id",`${o.id}`),a.append(x(this,as))}else o.type==="endMarkedContent"&&z(this,as,x(this,as).parentNode);continue}n.push(o.str),j(this,_4,VY).call(this,o)}},_4=new WeakSet,VY=function(e){var y;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};x(this,gf).push(t);const r=lt.transform(x(this,F_),e.transform);let s=Math.atan2(r[1],r[0]);const o=x(this,e2)[e.fontName];o.vertical&&(s+=Math.PI/2);const a=x(this,P_)&&o.fontSubstitution||o.fontFamily,l=Math.hypot(r[2],r[3]),c=l*j(y=gi,A4,XY).call(y,a,x(this,pf));let u,h;s===0?(u=r[4],h=r[5]-c):(u=r[4]+c*Math.sin(s),h=r[5]-c*Math.cos(s));const d="calc(var(--scale-factor)*",m=t.style;x(this,as)===x(this,Qm)?(m.left=`${(100*u/x(this,L_)).toFixed(2)}%`,m.top=`${(100*h/x(this,I_)).toFixed(2)}%`):(m.left=`${d}${u.toFixed(2)}px)`,m.top=`${d}${h.toFixed(2)}px)`),m.fontSize=`${d}${(x(gi,ku)*l).toFixed(2)}px)`,m.fontFamily=a,n.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,x(this,P_)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const _=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);_!==v&&Math.max(_,v)/Math.min(_,v)>1.5&&(g=!0)}if(g&&(n.canvasWidth=o.vertical?e.height:e.width),x(this,B_).set(t,n),x(this,$l).div=t,x(this,$l).properties=n,j(this,O_,FR).call(this,x(this,$l)),n.hasText&&x(this,as).append(t),n.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),x(this,as).append(_)}},O_=new WeakSet,FR=function(e){const{div:t,properties:n,ctx:r,prevFontSize:s,prevFontFamily:o}=e,{style:a}=t;let l="";if(x(gi,ku)>1&&(l=`scale(${1/x(gi,ku)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:c}=a,{canvasWidth:u,fontSize:h}=n;(s!==h||o!==c)&&(r.font=`${h*x(this,Ou)}px ${c}`,e.prevFontSize=h,e.prevFontFamily=c);const{width:d}=r.measureText(t.textContent);d>0&&(l=`scaleX(${u*x(this,Ou)/d}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(a.transform=l)},i2=new WeakSet,T5=function(e=null){let t=x(this,yf).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),x(this,yf).set(e,t)}return t},x4=new WeakSet,WY=function(){if(x(this,ku)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),z(this,ku,e.getBoundingClientRect().height),e.remove()},A4=new WeakSet,XY=function(e,t){const n=x(this,vf).get(e);if(n)return n;const r=j(this,i2,T5).call(this,t),s=r.font;r.canvas.width=r.canvas.height=is,r.font=`${is}px ${e}`;const o=r.measureText("");let a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);if(a){const h=a/(a+l);return x(this,vf).set(e,h),r.canvas.width=r.canvas.height=0,r.font=s,h}r.strokeStyle="red",r.clearRect(0,0,is,is),r.strokeText("g",0,0);let c=r.getImageData(0,0,is,is).data;l=0;for(let h=c.length-1-3;h>=0;h-=4)if(c[h]>0){l=Math.ceil(h/4/is);break}r.clearRect(0,0,is,is),r.strokeText("A",0,is),c=r.getImageData(0,0,is,is).data,a=0;for(let h=0,d=c.length;h<d;h+=4)if(c[h]>0){a=is-Math.floor(h/4/is);break}r.canvas.width=r.canvas.height=0,r.font=s;const u=a?a/(a+l):L1e;return x(this,vf).set(e,u),u},F(gi,i2),F(gi,x4),F(gi,A4),F(gi,vf,new Map),F(gi,yf,new Map),F(gi,ku,null),F(gi,n2,new Set),gi);function D1e(){rY("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:i,container:e,viewport:t,...n}=arguments[0],r=Object.keys(n);r.length>0&&Nt("Ignoring `renderTextLayer` parameters: "+r.join(", "));const s=new gb({textContentSource:i,container:e,viewport:t}),{textDivs:o,textContentItemsStr:a}=s;return{promise:s.render(),textDivs:o,textContentItemsStr:a}}function B1e(){rY("`updateTextLayer`, please use `TextLayer` instead.")}class yy{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function r(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(yy.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const c of s.children)r(c)}return r(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const F1e=65536,O1e=100,k1e=5e3,N1e=Ir?Jge:Oge,U1e=Ir?qge:nY,z1e=Ir?Yge:Fge,j1e=Ir?Zge:iY;function H1e(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const e=new OR,{docId:t}=e,n=i.url?G1e(i.url):null,r=i.data?V1e(i.data):null,s=i.httpHeaders||null,o=i.withCredentials===!0,a=i.password??null,l=i.range instanceof KY?i.range:null,c=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:F1e;let u=i.worker instanceof wm?i.worker:null;const h=i.verbosity,d=typeof i.docBaseUrl=="string"&&!AL(i.docBaseUrl)?i.docBaseUrl:null,m=typeof i.cMapUrl=="string"?i.cMapUrl:null,g=i.cMapPacked!==!1,y=i.CMapReaderFactory||U1e,_=typeof i.standardFontDataUrl=="string"?i.standardFontDataUrl:null,v=i.StandardFontDataFactory||j1e,A=i.stopAtErrors!==!0,S=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,C=i.isEvalSupported!==!1,T=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!Ir,E=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,R=typeof i.disableFontFace=="boolean"?i.disableFontFace:Ir,D=i.fontExtraProperties===!0,I=i.enableXfa===!0,L=i.ownerDocument||globalThis.document,O=i.disableRange===!0,W=i.disableStream===!0,X=i.disableAutoFetch===!0,Z=i.pdfBug===!0,$=i.enableHWA===!0,Q=l?l.length:i.length??NaN,ee=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!Ir&&!R,k=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:y===nY&&v===iY&&m&&_&&H1(m,document.baseURI)&&H1(_,document.baseURI),q=i.canvasFactory||new N1e({ownerDocument:L,enableHWA:$}),K=i.filterFactory||new z1e({docId:t,ownerDocument:L}),ne=null;bge(h);const le={canvasFactory:q,filterFactory:K};if(k||(le.cMapReaderFactory=new y({baseUrl:m,isCompressed:g}),le.standardFontDataFactory=new v({baseUrl:_})),!u){const pe={verbosity:h,port:Dc.workerPort};u=pe.port?wm.fromPort(pe):new wm(pe),e._worker=u}const ye={docId:t,apiVersion:"4.4.168",data:r,password:a,disableAutoFetch:X,rangeChunkSize:c,length:Q,docBaseUrl:d,enableXfa:I,evaluatorOptions:{maxImageSize:S,disableFontFace:R,ignoreErrors:A,isEvalSupported:C,isOffscreenCanvasSupported:T,canvasMaxAreaInBytes:E,fontExtraProperties:D,useSystemFonts:ee,cMapUrl:k?m:null,standardFontDataUrl:k?_:null}},re={disableFontFace:R,fontExtraProperties:D,ownerDocument:L,pdfBug:Z,styleElement:ne,loadingParams:{disableAutoFetch:X,enableXfa:I}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const pe=u.messageHandler.sendWithPromise("GetDocRequest",ye,r?[r.buffer]:null);let Me;if(l)Me=new p1e(l,{disableRange:O,disableStream:W});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");Me=(We=>Ir?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&H1(We.url)?new $U(We):new M1e(We):H1(We.url)?new $U(We):new S1e(We))({url:n,length:Q,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:O,disableStream:W})}return pe.then(xe=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const We=new W1(t,xe,u.port),rt=new Y1e(We,e,Me,re,le);e._transport=rt,We.send("Ready",null)})}).catch(e._capability.reject),e}function G1e(i){if(i instanceof URL)return i.href;try{return new URL(i,window.location).href}catch{if(Ir&&typeof i=="string")return i}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function V1e(i){if(Ir&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return PM(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i==null?void 0:i.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function ez(i){return typeof i=="object"&&Number.isInteger(i==null?void 0:i.num)&&i.num>=0&&Number.isInteger(i==null?void 0:i.gen)&&i.gen>=0}var S4;const w4=class w4{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Es(w4,S4)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,n;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(r){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};S4=new WeakMap,F(w4,S4,0);let OR=w4,KY=class{constructor(e,t,n=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){fn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class W1e{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Jt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Nu,ec,Uu,kp,r2,R5;class X1e{constructor(e,t,n,r=!1){F(this,Uu);F(this,r2);F(this,Nu,null);F(this,ec,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new zU:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new YY,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:s=!1}={}){return new Sx({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Jt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:r=Cu.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null}){var S,C;(S=this._stats)==null||S.time("Overall");const h=this._transport.getRenderingIntent(n,r,u),{renderingIntent:d,cacheKey:m}=h;z(this,ec,!1),j(this,r2,R5).call(this),a||(a=this._transport.getOptionalContentConfig(d));let g=this._intentStates.get(m);g||(g=Object.create(null),this._intentStates.set(m,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const y=!!(d&bo.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(C=this._stats)==null||C.time("Page Request"),this._pumpOperatorList(h));const _=T=>{var E;g.renderTasks.delete(v),(this._maybeCleanupAfterRender||y)&&z(this,ec,!0),j(this,Uu,kp).call(this,!y),T?(v.capability.reject(T),this._abortOperatorList({intentState:g,reason:T instanceof Error?T:new Error(T)})):v.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(E=globalThis.Stats)!=null&&E.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},v=new NR({callback:_,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:c});(g.renderTasks||(g.renderTasks=new Set)).add(v);const A=v.task;return Promise.all([g.displayReadyCapability.promise,a]).then(([T,E])=>{var R;if(this.destroyed){_();return}if((R=this._stats)==null||R.time("Rendering"),!(E.renderingIntent&d))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");v.initializeGraphics({transparency:T,optionalContentConfig:E}),v.operatorListChanged()}).catch(_),A}getOperatorList({intent:e="display",annotationMode:t=Cu.ENABLE,printAnnotationStorage:n=null}={}){var l;function r(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))}const s=this._transport.getRenderingIntent(e,t,n,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let a;return o.opListReadCapability||(a=Object.create(null),a.operatorListChanged=r,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>yy.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,r){function s(){o.read().then(function({value:l,done:c}){if(c){n(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},r)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),z(this,ec,!1),j(this,r2,R5).call(this),Promise.all(e)}cleanup(e=!1){z(this,ec,!0);const t=j(this,Uu,kp).call(this,!1);return e&&t&&this._stats&&(this._stats=new zU),t}_startRenderPage(e,t){var r,s;const n=this._intentStates.get(t);n&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=n.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&j(this,Uu,kp).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n}){const{map:r,transfer:s}=n,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r},s).getReader(),l=this._intentStates.get(t);l.streamReader=a;const c=()=>{a.read().then(({value:u,done:h})=>{if(h){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(u,l),c())},u=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const h of l.renderTasks)h.operatorListChanged();j(this,Uu,kp).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(u);else if(l.opListReadCapability)l.opListReadCapability.reject(u);else throw u}})};c()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof xL){let r=O1e;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new z0(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Nu=new WeakMap,ec=new WeakMap,Uu=new WeakSet,kp=function(e=!1){if(j(this,r2,R5).call(this),!x(this,ec)||this.destroyed)return!1;if(e)return z(this,Nu,setTimeout(()=>{z(this,Nu,null),j(this,Uu,kp).call(this,!1)},k1e)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),z(this,ec,!1),!0},r2=new WeakSet,R5=function(){x(this,Nu)&&(clearTimeout(x(this,Nu)),z(this,Nu,null))};var _f,b4;class K1e{constructor(){F(this,_f,new Set);F(this,b4,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};x(this,b4).then(()=>{for(const r of x(this,_f))r.call(this,n)})}addEventListener(e,t){x(this,_f).add(t)}removeEventListener(e,t){x(this,_f).delete(t)}terminate(){x(this,_f).clear()}}_f=new WeakMap,b4=new WeakMap;const Gl={isWorkerDisabled:!1,fakeWorkerId:0};Ir&&(Gl.isWorkerDisabled=!0,Dc.workerSrc||(Dc.workerSrc="./pdf.worker.mjs")),Gl.isSameOrigin=function(i,e){let t;try{if(t=new URL(i),!t.origin||t.origin==="null")return!1}catch{return!1}const n=new URL(e,t);return t.origin===n.origin},Gl.createCDNWrapper=function(i){const e=`await import("${i}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var xf,s2,P5,o2,I5;const Is=class Is{constructor({name:e=null,port:t=null,verbosity:n=Cge()}={}){F(this,s2);var r;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((r=x(Is,xf))!=null&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(x(Is,xf)||z(Is,xf,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Ir?Promise.all([gl.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new W1("main","worker",e),this._messageHandler.on("ready",function(){}),j(this,s2,P5).call(this)}_initialize(){if(Gl.isWorkerDisabled||x(Is,o2,I5)){this._setupFakeWorker();return}let{workerSrc:e}=Is;try{Gl.isSameOrigin(window.location.href,e)||(e=Gl.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new W1("main","worker",t),r=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||r()},{signal:s.signal}),n.on("test",a=>{if(s.abort(),this.destroyed||!a){r();return}this._messageHandler=n,this._port=t,this._webWorker=t,j(this,s2,P5).call(this)}),n.on("ready",a=>{if(s.abort(),this.destroyed){r();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;n.send("test",a,[a.buffer])};o();return}catch{TM("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Gl.isWorkerDisabled||(Nt("Setting up fake worker."),Gl.isWorkerDisabled=!0),Is._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new K1e;this._port=t;const n=`fake${Gl.fakeWorkerId++}`,r=new W1(n+"_worker",n,t);e.setup(r,t),this._messageHandler=new W1(n,n+"_worker",t),j(this,s2,P5).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=x(Is,xf))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(n=x(this,xf))==null?void 0:n.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Is(e)}static get workerSrc(){if(Dc.workerSrc)return Dc.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Jt(this,"_setupFakeWorkerGlobal",(async()=>x(this,o2,I5)?x(this,o2,I5):(await import(this.workerSrc)).WorkerMessageHandler)())}};xf=new WeakMap,s2=new WeakSet,P5=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},o2=new WeakSet,I5=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},F(Is,o2),F(Is,xf,void 0);let wm=Is;var tc,Xa,a2,l2,Ka,Af,X1;class Y1e{constructor(e,t,n,r,s){F(this,Af);F(this,tc,new Map);F(this,Xa,new Map);F(this,a2,new Map);F(this,l2,new Map);F(this,Ka,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new YY,this.fontLoader=new Xge({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Jt(this,"annotationStorage",new bL)}getRenderingIntent(e,t=Cu.ENABLE,n=null,r=!1){let s=bo.DISPLAY,o=TR;switch(e){case"any":s=bo.ANY;break;case"display":break;case"print":s=bo.PRINT;break;default:Nt(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case Cu.DISABLE:s+=bo.ANNOTATIONS_DISABLE;break;case Cu.ENABLE:break;case Cu.ENABLE_FORMS:s+=bo.ANNOTATIONS_FORMS;break;case Cu.ENABLE_STORAGE:s+=bo.ANNOTATIONS_STORAGE,o=(s&bo.PRINT&&n instanceof LY?n:this.annotationStorage).serializable;break;default:Nt(`getRenderingIntent - invalid annotationMode: ${t}`)}return r&&(s+=bo.OPLIST),{renderingIntent:s,cacheKey:`${s}_${o.hash}`,annotationStorageSerializable:o}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=x(this,Ka))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of x(this,Xa).values())e.push(r._destroy());x(this,Xa).clear(),x(this,a2).clear(),x(this,l2).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),x(this,tc).clear(),this.filterFactory.destroy(),gb.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new z0("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,r)=>{Ei(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}Ei(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",n=>{const r=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var o;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),s.onProgress=a=>{var l;(l=t.onProgress)==null||l.call(t,{loaded:a.loaded,total:a.total})}),r.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},r.reject),r.promise}),e.on("GetRangeReader",(n,r)=>{Ei(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){r.close();return}Ei(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new W1e(n,this))}),e.on("DocException",function(n){let r;switch(n.name){case"PasswordException":r=new sR(n.message,n.code);break;case"InvalidPDFException":r=new QK(n.message);break;case"MissingPDFException":r=new U0(n.message);break;case"UnexpectedResponseException":r=new RM(n.message,n.status);break;case"UnknownErrorException":r=new oR(n.message,n.details);break;default:fn("DocException - expected a valid Error.")}t._capability.reject(r)}),e.on("PasswordRequest",n=>{if(z(this,Ka,Promise.withResolvers()),t.onPassword){const r=s=>{s instanceof Error?x(this,Ka).reject(s):x(this,Ka).resolve({password:s})};try{t.onPassword(r,n.code)}catch(s){x(this,Ka).reject(s)}}else x(this,Ka).reject(new sR(n.message,n.code));return x(this,Ka).promise}),e.on("DataLoaded",n=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;x(this,Xa).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,r,s])=>{var o;if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in s){const m=s.error;Nt(`Error during font loading: ${m}`),this.commonObjs.resolve(n,m);break}const u=c&&((o=globalThis.FontInspector)!=null&&o.enabled)?(m,g)=>globalThis.FontInspector.fontAdded(m,g):null,h=new Kge(s,{disableFontFace:a,inspectFont:u});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!l&&h.data&&(h.data=null),this.commonObjs.resolve(n,h)});break;case"CopyLocalImage":const{imageRef:d}=s;Ei(d,"The imageRef must be defined.");for(const m of x(this,Xa).values())for(const[,g]of m.objs)if((g==null?void 0:g.ref)===d)return g.dataLen?(this.commonObjs.resolve(n,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([n,r,s,o])=>{var l;if(this.destroyed)return;const a=x(this,Xa).get(r);if(!a.objs.has(n)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":a.objs.resolve(n,o),(o==null?void 0:o.dataLen)>xge&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(n,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Nt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=x(this,a2).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&x(this,l2).set(s.refStr,e);const o=new X1e(t,s,this,this._params.pdfBug);return x(this,Xa).set(t,o),o});return x(this,a2).set(t,r),r}getPageIndex(e){return ez(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return j(this,Af,X1).call(this,"GetFieldObjects")}hasJSActions(){return j(this,Af,X1).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return j(this,Af,X1).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return j(this,Af,X1).call(this,"GetOptionalContentConfig").then(t=>new f1e(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=x(this,tc).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,o;return{info:r[0],metadata:r[1]?new h1e(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return x(this,tc).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of x(this,Xa).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),x(this,tc).clear(),this.filterFactory.destroy(!0),gb.cleanup()}}cachedPageNumber(e){if(!ez(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return x(this,l2).get(t)??null}}tc=new WeakMap,Xa=new WeakMap,a2=new WeakMap,l2=new WeakMap,Ka=new WeakMap,Af=new WeakSet,X1=function(e,t=null){const n=x(this,tc).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return x(this,tc).set(e,r),r};const YS=Symbol("INITIAL_DATA");var sa,k_,kR;class YY{constructor(){F(this,k_);F(this,sa,Object.create(null))}get(e,t=null){if(t){const r=j(this,k_,kR).call(this,e);return r.promise.then(()=>t(r.data)),null}const n=x(this,sa)[e];if(!n||n.data===YS)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=x(this,sa)[e];return!!t&&t.data!==YS}resolve(e,t=null){const n=j(this,k_,kR).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in x(this,sa)){const{data:n}=x(this,sa)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}z(this,sa,Object.create(null))}*[Symbol.iterator](){for(const e in x(this,sa)){const{data:t}=x(this,sa)[e];t!==YS&&(yield[e,t])}}}sa=new WeakMap,k_=new WeakSet,kR=function(e){var t;return(t=x(this,sa))[e]||(t[e]={...Promise.withResolvers(),data:YS})};var zu;class J1e{constructor(e){F(this,zu,null);z(this,zu,e),this.onContinue=null}get promise(){return x(this,zu).capability.promise}cancel(e=0){x(this,zu).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=x(this,zu).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=x(this,zu);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}zu=new WeakMap;var ju,Sf;const Id=class Id{constructor({callback:e,params:t,objs:n,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:h=!1,pageColors:d=null}){F(this,ju,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new J1e(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(x(Id,Sf).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");x(Id,Sf).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:s,background:o}=this.params;this.gfx=new Sm(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),x(this,ju)&&(window.cancelAnimationFrame(x(this,ju)),z(this,ju,null)),x(Id,Sf).delete(this._canvas),this.callback(e||new xL(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?z(this,ju,window.requestAnimationFrame(()=>{z(this,ju,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),x(Id,Sf).delete(this._canvas),this.callback())))}};ju=new WeakMap,Sf=new WeakMap,F(Id,Sf,new WeakSet);let NR=Id;const q1e="4.4.168",Z1e="19fbc8998";function tz(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function T1(i){return Math.max(0,Math.min(255,255*i))}class nz{static CMYK_G([e,t,n,r]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=T1(e),[e,e,e]}static G_HTML([e]){const t=tz(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(T1)}static RGB_HTML(e){return`#${e.map(tz).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,n+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,n,r]){return[T1(1-Math.min(1,e+r)),T1(1-Math.min(1,n+r)),T1(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const r=1-e,s=1-t,o=1-n,a=Math.min(r,s,o);return["CMYK",r,s,o,a]}}class JY{static setupStorage(e,t,n,r,s){const o=r.getValue(t,{value:null});switch(n.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(o.value===n.attributes.xfaOn?e.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{r.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of n.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:r,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),n&&o.dataId&&this.setupStorage(e,o.dataId,t,n)}static render(e){var h,d;const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,s=e.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:n});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=m}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(r.children.length===0){if(r.value){const m=document.createTextNode(r.value);o.append(m),a&&yy.shouldBuildText(r.name)&&c.push(m)}return{textDivs:c}}const u=[[r,-1,o]];for(;u.length>0;){const[m,g,y]=u.at(-1);if(g+1===m.children.length){u.pop();continue}const _=m.children[++u.at(-1)[1]];if(_===null)continue;const{name:v}=_;if(v==="#text"){const S=document.createTextNode(_.value);c.push(S),y.append(S);continue}const A=(h=_==null?void 0:_.attributes)!=null&&h.xmlns?document.createElementNS(_.attributes.xmlns,v):document.createElement(v);if(y.append(A),_.attributes&&this.setAttributes({html:A,element:_,storage:t,intent:s,linkService:n}),((d=_.children)==null?void 0:d.length)>0)u.push([_,-1,A]);else if(_.value){const S=document.createTextNode(_.value);a&&yy.shouldBuildText(v)&&c.push(S),A.append(S)}}for(const m of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Cx=1e3,Q1e=9,C0=new WeakSet;function Bc(i){return{width:i[2]-i[0],height:i[3]-i[1]}}class $1e{static create(e){switch(e.data.annotationType){case Ai.LINK:return new qY(e);case Ai.TEXT:return new eve(e);case Ai.WIDGET:switch(e.data.fieldType){case"Tx":return new tve(e);case"Btn":return e.data.radioButton?new $Y(e):e.data.checkBox?new ive(e):new rve(e);case"Ch":return new sve(e);case"Sig":return new nve(e)}return new j0(e);case Ai.POPUP:return new zR(e);case Ai.FREETEXT:return new rJ(e);case Ai.LINE:return new ave(e);case Ai.SQUARE:return new lve(e);case Ai.CIRCLE:return new cve(e);case Ai.POLYLINE:return new sJ(e);case Ai.CARET:return new hve(e);case Ai.INK:return new oJ(e);case Ai.POLYGON:return new uve(e);case Ai.HIGHLIGHT:return new dve(e);case Ai.UNDERLINE:return new fve(e);case Ai.SQUIGGLY:return new pve(e);case Ai.STRIKEOUT:return new mve(e);case Ai.STAMP:return new aJ(e);case Ai.FILEATTACHMENT:return new gve(e);default:return new ui(e)}}}var wf,c2,u2,N_,UR;const xD=class xD{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){F(this,N_);F(this,wf,null);F(this,c2,!1);F(this,u2,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e!=null&&e.str||t!=null&&t.str||n!=null&&n.str)}get hasPopupData(){return xD._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;x(this,wf)||z(this,wf,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&j(this,N_,UR).call(this,t),(n=x(this,u2))==null||n.popup.updateEdited(e)}resetEdited(){var e;x(this,wf)&&(j(this,N_,UR).call(this,x(this,wf).rect),(e=x(this,u2))==null||e.popup.resetEdited(),z(this,wf,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof j0||(s.tabIndex=Cx);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof zR){const{rotation:y}=t;return!t.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:a,height:l}=Bc(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const y=t.borderStyle.horizontalCornerRadius,_=t.borderStyle.verticalCornerRadius;if(y>0||_>0){const A=`calc(${y}px * var(--scale-factor)) / calc(${_}px * var(--scale-factor))`;o.borderRadius=A}else if(this instanceof $Y){const A=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=A}switch(t.borderStyle.style){case M1.SOLID:o.borderStyle="solid";break;case M1.DASHED:o.borderStyle="dashed";break;case M1.BEVELED:Nt("Unimplemented border style: beveled");break;case M1.INSET:Nt("Unimplemented border style: inset");break;case M1.UNDERLINE:o.borderBottomStyle="solid";break}const v=t.borderColor||null;v?(z(this,c2,!0),o.borderColor=lt.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):o.borderWidth=0}const c=lt.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:u,pageHeight:h,pageX:d,pageY:m}=r.rawDims;o.left=`${100*(c[0]-d)/u}%`,o.top=`${100*(c[1]-m)/h}%`;const{rotation:g}=t;return t.hasOwnCanvas||g===0?(o.width=`${100*a/u}%`,o.height=`${100*l/h}%`):this.setRotation(g,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:o}=Bc(this.data.rect);let a,l;e%180===0?(a=100*s/n,l=100*o/r):(a=100*o/n,l=100*s/r),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,r)=>{const s=r.detail[t],o=s[0],a=s.slice(1);r.target.style[n]=nz[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[n]:nz[`${o}_rgb`](a)})};return Jt(this,"_commonActions",{display:t=>{const{display:n}=t.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||n[r];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,s]of Object.entries(t)){const o=n[r];if(o){const a={detail:{[r]:s},target:e};o(a),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,s]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,_,v,A]=e.subarray(2,6);if(r===y&&s===_&&t===v&&n===A)return}const{style:o}=this.container;let a;if(x(this,c2)){const{borderColor:y,borderWidth:_}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${_}">`],this.container.classList.add("hasBorder")}const l=r-t,c=s-n,{svgFactory:u}=this,h=u.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const d=u.createElement("defs");h.append(d);const m=u.createElement("clipPath"),g=`clippath_${this.data.id}`;m.setAttribute("id",g),m.setAttribute("clipPathUnits","objectBoundingBox"),d.append(m);for(let y=2,_=e.length;y<_;y+=8){const v=e[y],A=e[y+1],S=e[y+2],C=e[y+3],T=u.createElement("rect"),E=(S-t)/l,R=(s-A)/c,D=(v-S)/l,I=(A-C)/c;T.setAttribute("x",E),T.setAttribute("y",R),T.setAttribute("width",D),T.setAttribute("height",I),m.append(T),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${E}" y="${R}" width="${D}" height="${I}"/>`)}x(this,c2)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(h),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const n=z(this,u2,new zR({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){fn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:o,exportValues:a}of r){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!C0.has(c)){Nt(`_getElementsByName - element not allowed: ${o}`);continue}n.push({id:o,exportValue:l,domElement:c})}return n}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==t&&C0.has(r)&&n.push({id:o,exportValue:s,domElement:r})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};wf=new WeakMap,c2=new WeakMap,u2=new WeakMap,N_=new WeakSet,UR=function(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;n==null||n.splice(0,4,...e);const{width:c,height:u}=Bc(e);t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,r===0?(t.width=`${100*c/s}%`,t.height=`${100*u/o}%`):this.setRotation(r)};let ui=xD;var nc,Cd,C4,ZY,M4,QY;class qY extends ui{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});F(this,nc);F(this,C4);F(this,M4);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let s=!1;return t.url?(n.addLinkAttributes(r,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(r,t.action),s=!0):t.attachment?(j(this,C4,ZY).call(this,r,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(j(this,M4,QY).call(this,r,t.setOCGState),s=!0):t.dest?(this._bindLink(r,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),s=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(r),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&j(this,nc,Cd).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),j(this,nc,Cd).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(n.actions)){const o=r.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),j(this,nc,Cd).call(this)}_bindResetFormAction(t,n){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),j(this,nc,Cd).call(this),!this._fieldObjects){Nt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var h;r==null||r();const{fields:s,refs:o,include:a}=n,l=[];if(s.length!==0||o.length!==0){const d=new Set(o);for(const m of s){const g=this._fieldObjects[m]||[];for(const{id:y}of g)d.add(y)}for(const m of Object.values(this._fieldObjects))for(const g of m)d.has(g.id)===a&&l.push(g)}else for(const d of Object.values(this._fieldObjects))l.push(...d);const c=this.annotationStorage,u=[];for(const d of l){const{id:m}=d;switch(u.push(m),d.type){case"text":{const y=d.defaultValue||"";c.setValue(m,{value:y});break}case"checkbox":case"radiobutton":{const y=d.defaultValue===d.exportValues;c.setValue(m,{value:y});break}case"combobox":case"listbox":{const y=d.defaultValue||"";c.setValue(m,{value:y});break}default:continue}const g=document.querySelector(`[data-element-id="${m}"]`);if(g){if(!C0.has(g)){Nt(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}nc=new WeakSet,Cd=function(){this.container.setAttribute("data-internal-link","")},C4=new WeakSet,ZY=function(t,n,r=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(n.content,n.filename,r),!1},j(this,nc,Cd).call(this)},M4=new WeakSet,QY=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),j(this,nc,Cd).call(this)};class eve extends ui{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class j0 extends ui{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return ds.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,s){n.includes("mouse")?e.addEventListener(n,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(n,o=>{var a;if(n==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}}))})}_setEventListeners(e,t,n,r){var s,o,a;for(const[l,c]of n)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,r),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":lt.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||Q1e,s=e.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),u=Math.round(c/(nT*r))||1,h=c/u;o=Math.min(r,l(h/nT))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(r,l(c/nT))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=lt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class tve extends j0{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,r){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=n),s.setValue(o.id,{[r]:n})}render(){var r,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=o.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??a,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",c??a),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),C0.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=Cx,this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",d=>{e.setValue(t,{value:d.target.value}),this.setPropertyOnSiblings(n,"value",d.target.value,"value"),u.formattedValue=null}),n.addEventListener("resetform",d=>{const m=this.data.defaultFieldValue??"";n.value=u.userValue=m,u.formattedValue=null});let h=d=>{const{formattedValue:m}=u;m!=null&&(d.target.value=m),d.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",m=>{var y;if(u.focused)return;const{target:g}=m;u.userValue&&(g.value=u.userValue),u.lastCommittedValue=g.value,u.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(u.focused=!0)}),n.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const g={value(y){u.userValue=y.detail.value??"",e.setValue(t,{value:u.userValue.toString()}),y.target.value=u.userValue},formattedValue(y){const{formattedValue:_}=y.detail;u.formattedValue=_,_!=null&&y.target!==document.activeElement&&(y.target.value=_),e.setValue(t,{formattedValue:_})},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{var S;const{charLimit:_}=y.detail,{target:v}=y;if(_===0){v.removeAttribute("maxLength");return}v.setAttribute("maxLength",_);let A=u.userValue;!A||A.length<=_||(A=A.slice(0,_),v.value=u.userValue=A,e.setValue(t,{value:A}),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:1,selStart:v.selectionStart,selEnd:v.selectionEnd}}))}};this._dispatchEventFromSandbox(g,m)}),n.addEventListener("keydown",m=>{var _;u.commitKey=1;let g=-1;if(m.key==="Escape"?g=0:m.key==="Enter"&&!this.data.multiLine?g=2:m.key==="Tab"&&(u.commitKey=3),g===-1)return;const{value:y}=m.target;u.lastCommittedValue!==y&&(u.lastCommittedValue=y,u.userValue=y,(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:g,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const d=h;h=null,n.addEventListener("blur",m=>{var y,_;if(!u.focused||!m.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(u.focused=!1);const{value:g}=m.target;u.userValue=g,u.lastCommittedValue!==g&&((_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:u.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}})),d(m)}),(s=this.data.actions)!=null&&s.Keystroke&&n.addEventListener("beforeinput",m=>{var T;u.lastCommittedValue=null;const{data:g,target:y}=m,{value:_,selectionStart:v,selectionEnd:A}=y;let S=v,C=A;switch(m.inputType){case"deleteWordBackward":{const E=_.substring(0,v).match(/\w*[^\w]*$/);E&&(S-=E[0].length);break}case"deleteWordForward":{const E=_.substring(v).match(/^[^\w]*\w*/);E&&(C+=E[0].length);break}case"deleteContentBackward":v===A&&(S-=1);break;case"deleteContentForward":v===A&&(C+=1);break}m.preventDefault(),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,change:g||"",willCommit:!1,selStart:S,selEnd:C}})}),this._setEventListeners(n,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(h&&n.addEventListener("blur",h),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${m}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class nve extends j0{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class ive extends j0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return C0.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=Cx,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,n)){const u=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(n,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class $Y extends j0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const o of this._getElementsByName(t.fieldName,n))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(C0.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=Cx,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,n))e.setValue(c.id,{value:!1});e.setValue(n,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const u=o===c.detail.value;for(const h of this._getElementsByName(c.target.name)){const d=u&&h.id===n;h.domElement&&(h.domElement.checked=d),e.setValue(h.id,{value:d})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class rve extends qY{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class sve extends j0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");C0.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Cx;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",u=>{const h=this.data.defaultFieldValue;for(const d of r.options)d.selected=d.value===h});for(const u of this.data.options){const h=document.createElement("option");h.textContent=u.displayValue,h.value=u.exportValue,n.value.includes(u.exportValue)&&(h.setAttribute("selected",!0),s=!1),r.append(h)}let o=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),r.prepend(u),o=()=>{u.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const a=u=>{const h=u?"value":"textContent",{options:d,multiple:m}=r;return m?Array.prototype.filter.call(d,g=>g.selected).map(g=>g[h]):d.selectedIndex===-1?null:d[d.selectedIndex][h]};let l=a(!1);const c=u=>{const h=u.target.options;return Array.prototype.map.call(h,d=>({displayValue:d.textContent,exportValue:d.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",u=>{const h={value(d){o==null||o();const m=d.detail.value,g=new Set(Array.isArray(m)?m:[m]);for(const y of r.options)y.selected=g.has(y.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(d){r.multiple=!0},remove(d){const m=r.options,g=d.detail.remove;m[g].selected=!1,r.remove(g),m.length>0&&Array.prototype.findIndex.call(m,_=>_.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:a(!0),items:c(d)}),l=a(!1)},clear(d){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(d){const{index:m,displayValue:g,exportValue:y}=d.detail.insert,_=r.children[m],v=document.createElement("option");v.textContent=g,v.value=y,_?_.before(v):r.append(v),e.setValue(t,{value:a(!0),items:c(d)}),l=a(!1)},items(d){const{items:m}=d.detail;for(;r.length!==0;)r.remove(0);for(const g of m){const{displayValue:y,exportValue:_}=g,v=document.createElement("option");v.textContent=y,v.value=_,r.append(v)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(d)}),l=a(!1)},indices(d){const m=new Set(d.detail.indices);for(const g of d.target.options)g.selected=m.has(g.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(d){d.target.disabled=!d.detail.editable}};this._dispatchEventFromSandbox(h,u)}),r.addEventListener("input",u=>{var m;const h=a(!0),d=a(!1);e.setValue(t,{value:h}),u.preventDefault(),(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:d,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):r.addEventListener("input",function(u){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class zR extends ui{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:ui._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new ove({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${eY}${n}`).join(",")),this.container}}var h2,E4,T4,d2,bf,qn,ic,Cf,U_,z_,f2,rc,oa,sc,j_,oc,H_,Mf,Ef,p2,L5,G_,jR,R4,eJ,P4,tJ,I4,nJ,L4,iJ,m2,D5,g2,B5,V_,HR;class ove{constructor({container:e,color:t,elements:n,titleObj:r,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:u,open:h}){F(this,p2);F(this,G_);F(this,R4);F(this,P4);F(this,I4);F(this,L4);F(this,m2);F(this,g2);F(this,V_);F(this,h2,j(this,I4,nJ).bind(this));F(this,E4,j(this,V_,HR).bind(this));F(this,T4,j(this,g2,B5).bind(this));F(this,d2,j(this,m2,D5).bind(this));F(this,bf,null);F(this,qn,null);F(this,ic,null);F(this,Cf,null);F(this,U_,null);F(this,z_,null);F(this,f2,null);F(this,rc,!1);F(this,oa,null);F(this,sc,null);F(this,j_,null);F(this,oc,null);F(this,H_,null);F(this,Mf,null);F(this,Ef,!1);var d;z(this,qn,e),z(this,H_,r),z(this,ic,o),z(this,oc,a),z(this,z_,l),z(this,bf,t),z(this,j_,c),z(this,f2,u),z(this,U_,n),z(this,Cf,sY.toDateObject(s)),this.trigger=n.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",x(this,d2)),m.addEventListener("mouseenter",x(this,T4)),m.addEventListener("mouseleave",x(this,E4)),m.classList.add("popupTriggerArea");for(const m of n)(d=m.container)==null||d.addEventListener("keydown",x(this,h2));x(this,qn).hidden=!0,h&&j(this,m2,D5).call(this)}render(){if(x(this,oa))return;const e=z(this,oa,document.createElement("div"));if(e.className="popup",x(this,bf)){const s=e.style.outlineColor=lt.makeHexColor(...x(this,bf));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=lt.makeHexColor(...x(this,bf).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=x(this,H_),e.append(t),x(this,Cf)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:x(this,Cf).toLocaleDateString(),time:x(this,Cf).toLocaleTimeString()})),t.append(s)}const r=x(this,p2,L5);if(r)JY.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(x(this,ic));e.append(s)}x(this,qn).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let s=0,o=r.length;s<o;++s){const a=r[s];n.append(document.createTextNode(a)),s<o-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;x(this,Mf)||z(this,Mf,{contentsObj:x(this,ic),richText:x(this,oc)}),e&&z(this,sc,null),t&&(z(this,oc,j(this,P4,tJ).call(this,t)),z(this,ic,null)),(n=x(this,oa))==null||n.remove(),z(this,oa,null)}resetEdited(){var e;x(this,Mf)&&({contentsObj:Es(this,ic)._,richText:Es(this,oc)._}=x(this,Mf),z(this,Mf,null),(e=x(this,oa))==null||e.remove(),z(this,oa,null),z(this,sc,null))}forceHide(){z(this,Ef,this.isVisible),x(this,Ef)&&(x(this,qn).hidden=!0)}maybeShow(){x(this,Ef)&&(x(this,oa)||j(this,g2,B5).call(this),z(this,Ef,!1),x(this,qn).hidden=!1)}get isVisible(){return x(this,qn).hidden===!1}}h2=new WeakMap,E4=new WeakMap,T4=new WeakMap,d2=new WeakMap,bf=new WeakMap,qn=new WeakMap,ic=new WeakMap,Cf=new WeakMap,U_=new WeakMap,z_=new WeakMap,f2=new WeakMap,rc=new WeakMap,oa=new WeakMap,sc=new WeakMap,j_=new WeakMap,oc=new WeakMap,H_=new WeakMap,Mf=new WeakMap,Ef=new WeakMap,p2=new WeakSet,L5=function(){const e=x(this,oc),t=x(this,ic);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&x(this,oc).html||null},G_=new WeakSet,jR=function(){var e,t,n;return((n=(t=(e=x(this,p2,L5))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},R4=new WeakSet,eJ=function(){var e,t,n;return((n=(t=(e=x(this,p2,L5))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},P4=new WeakSet,tJ=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:x(this,R4,eJ),fontSize:x(this,G_,jR)?`calc(${x(this,G_,jR)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return n},I4=new WeakSet,nJ=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&x(this,rc))&&j(this,m2,D5).call(this)},L4=new WeakSet,iJ=function(){if(x(this,sc)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:s}}}=x(this,z_);let o=!!x(this,f2),a=o?x(this,f2):x(this,j_);for(const g of x(this,U_))if(!a||lt.intersect(g.data.rect,a)!==null){a=g.data.rect,o=!0;break}const l=lt.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),u=o?a[2]-a[0]+5:0,h=l[0]+u,d=l[1];z(this,sc,[100*(h-r)/t,100*(d-s)/n]);const{style:m}=x(this,qn);m.left=`${x(this,sc)[0]}%`,m.top=`${x(this,sc)[1]}%`},m2=new WeakSet,D5=function(){z(this,rc,!x(this,rc)),x(this,rc)?(j(this,g2,B5).call(this),x(this,qn).addEventListener("click",x(this,d2)),x(this,qn).addEventListener("keydown",x(this,h2))):(j(this,V_,HR).call(this),x(this,qn).removeEventListener("click",x(this,d2)),x(this,qn).removeEventListener("keydown",x(this,h2)))},g2=new WeakSet,B5=function(){x(this,oa)||this.render(),this.isVisible?x(this,rc)&&x(this,qn).classList.add("focused"):(j(this,L4,iJ).call(this),x(this,qn).hidden=!1,x(this,qn).style.zIndex=parseInt(x(this,qn).style.zIndex)+1e3)},V_=new WeakSet,HR=function(){x(this,qn).classList.remove("focused"),!(x(this,rc)||!this.isVisible)&&(x(this,qn).hidden=!0,x(this,qn).style.zIndex=parseInt(x(this,qn).style.zIndex)-1e3)};class rJ extends ui{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Wt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var W_;class ave extends ui{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,W_,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:r}=Bc(t.rect),s=this.svgFactory.create(n,r,!0),o=z(this,W_,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,W_)}addHighlightArea(){this.container.classList.add("highlightArea")}}W_=new WeakMap;var X_;class lve extends ui{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,X_,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:r}=Bc(t.rect),s=this.svgFactory.create(n,r,!0),o=t.borderStyle.width,a=z(this,X_,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",n-o),a.setAttribute("height",r-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,X_)}addHighlightArea(){this.container.classList.add("highlightArea")}}X_=new WeakMap;var K_;class cve extends ui{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,K_,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:r}=Bc(t.rect),s=this.svgFactory.create(n,r,!0),o=t.borderStyle.width,a=z(this,K_,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",n/2),a.setAttribute("cy",r/2),a.setAttribute("rx",n/2-o/2),a.setAttribute("ry",r/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,K_)}addHighlightArea(){this.container.classList.add("highlightArea")}}K_=new WeakMap;var Y_;class sJ extends ui{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,Y_,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:r,popupRef:s}}=this;if(!n)return this.container;const{width:o,height:a}=Bc(t),l=this.svgFactory.create(o,a,!0);let c=[];for(let h=0,d=n.length;h<d;h+=2){const m=n[h]-t[0],g=t[3]-n[h+1];c.push(`${m},${g}`)}c=c.join(" ");const u=z(this,Y_,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",r.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,Y_)}addHighlightArea(){this.container.classList.add("highlightArea")}}Y_=new WeakMap;class uve extends sJ{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class hve extends ui{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var J_;class oJ extends ui{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,J_,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Wt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:n,borderStyle:r,popupRef:s}}=this,{width:o,height:a}=Bc(t),l=this.svgFactory.create(o,a,!0);for(const c of n){let u=[];for(let d=0,m=c.length;d<m;d+=2){const g=c[d]-t[0],y=t[3]-c[d+1];u.push(`${g},${y}`)}u=u.join(" ");const h=this.svgFactory.createElement(this.svgElementName);x(this,J_).push(h),h.setAttribute("points",u),h.setAttribute("stroke-width",r.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),!s&&this.hasPopupData&&this._createPopup(),l.append(h)}return this.container.append(l),this.container}getElementsToTriggerPopup(){return x(this,J_)}addHighlightArea(){this.container.classList.add("highlightArea")}}J_=new WeakMap;class dve extends ui{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class fve extends ui{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class pve extends ui{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class mve extends ui{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class aJ extends ui{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var q_,Z_,GR;class gve extends ui{constructor(t){var r;super(t,{isRenderable:!0});F(this,Z_);F(this,q_,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",j(this,Z_,GR).bind(this)),z(this,q_,r);const{isMac:s}=ds.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&j(this,Z_,GR).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return x(this,q_)}addHighlightArea(){this.container.classList.add("highlightArea")}}q_=new WeakMap,Z_=new WeakSet,GR=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Q_,Tf,v2,D4,lJ,$_,VR,$z;let vve=($z=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:r,page:s,viewport:o}){F(this,D4);F(this,$_);F(this,Q_,null);F(this,Tf,null);F(this,v2,new Map);this.div=e,z(this,Q_,t),z(this,Tf,n),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r}async render(e){var o;const{annotations:t}=e,n=this.div;w0(n,this.viewport);const r=new Map,s={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new _L,annotationStorage:e.annotationStorage||new bL,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===Ai.POPUP;if(l){const h=r.get(a.id);if(!h)continue;s.elements=h}else{const{width:h,height:d}=Bc(a.rect);if(h<=0||d<=0)continue}s.data=a;const c=$1e.create(s);if(!c.isRenderable)continue;if(!l&&a.popupRef){const h=r.get(a.popupRef);h?h.push(c):r.set(a.popupRef,[c])}const u=c.render();a.hidden&&(u.style.visibility="hidden"),j(this,D4,lJ).call(this,u,a.id),c.annotationEditorType>0&&(x(this,v2).set(c.data.id,c),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(c))}j(this,$_,VR).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,w0(t,{rotation:e.rotation}),j(this,$_,VR).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(x(this,v2).values())}getEditableAnnotation(e){return x(this,v2).get(e)}},Q_=new WeakMap,Tf=new WeakMap,v2=new WeakMap,D4=new WeakSet,lJ=function(e,t){var r;const n=e.firstChild||e;n.id=`${eY}${t}`,this.div.append(e),(r=x(this,Q_))==null||r.moveElementInDOM(this.div,e,n,!1)},$_=new WeakSet,VR=function(){if(!x(this,Tf))return;const e=this.div;for(const[t,n]of x(this,Tf)){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):r.append(n)}x(this,Tf).clear()},$z);const JS=/\r\n?|\n/g;var e3,t3,n3,i3,r3,aa,Fs,s3,Os,y2,B4,cJ,F4,uJ,O4,hJ,_2,F5,x2,O5,A2,k5,k4,dJ,o3,XR,N4,fJ;const gn=class gn extends ln{constructor(t){super({...t,name:"freeTextEditor"});F(this,B4);F(this,F4);F(this,O4);F(this,_2);F(this,A2);F(this,k4);F(this,N4);F(this,e3,this.editorDivBlur.bind(this));F(this,t3,this.editorDivFocus.bind(this));F(this,n3,this.editorDivInput.bind(this));F(this,i3,this.editorDivKeydown.bind(this));F(this,r3,this.editorDivPaste.bind(this));F(this,aa,void 0);F(this,Fs,"");F(this,s3,`${this.id}-editor`);F(this,Os,void 0);F(this,y2,null);z(this,aa,t.color||gn._defaultColor||ln._defaultLineColor),z(this,Os,t.fontSize||gn._defaultFontSize)}static get _keyboardManager(){const t=gn.prototype,n=o=>o.isEmpty(),r=b0.TRANSLATE_SMALL,s=b0.TRANSLATE_BIG;return Jt(this,"_keyboardManager",new wx([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:n}]]))}static initialize(t,n){ln.initialize(t,n,{strings:["pdfjs-free-text-default-content"]});const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case Mt.FREETEXT_SIZE:gn._defaultFontSize=n;break;case Mt.FREETEXT_COLOR:gn._defaultColor=n;break}}updateParams(t,n){switch(t){case Mt.FREETEXT_SIZE:j(this,B4,cJ).call(this,n);break;case Mt.FREETEXT_COLOR:j(this,F4,uJ).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Mt.FREETEXT_SIZE,gn._defaultFontSize],[Mt.FREETEXT_COLOR,gn._defaultColor||ln._defaultLineColor]]}get propertiesToUpdate(){return[[Mt.FREETEXT_SIZE,x(this,Os)],[Mt.FREETEXT_COLOR,x(this,aa)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-gn._internalPadding*t,-(gn._internalPadding+x(this,Os))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Wt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",x(this,i3),{signal:t}),this.editorDiv.addEventListener("focus",x(this,t3),{signal:t}),this.editorDiv.addEventListener("blur",x(this,e3),{signal:t}),this.editorDiv.addEventListener("input",x(this,n3),{signal:t}),this.editorDiv.addEventListener("paste",x(this,r3),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",x(this,s3)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",x(this,i3)),this.editorDiv.removeEventListener("focus",x(this,t3)),this.editorDiv.removeEventListener("blur",x(this,e3)),this.editorDiv.removeEventListener("input",x(this,n3)),this.editorDiv.removeEventListener("paste",x(this,r3)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=x(this,Fs),n=z(this,Fs,j(this,O4,hJ).call(this).trimEnd());if(t===n)return;const r=s=>{if(z(this,Fs,s),!s){this.remove();return}j(this,A2,k5).call(this),this._uiManager.rebuild(this),j(this,_2,F5).call(this)};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(t)},mustExec:!1}),j(this,_2,F5).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){gn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",x(this,s3)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),ln._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var o;return(o=this.editorDiv)==null?void 0:o.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${x(this,Os)}px * var(--scale-factor))`,r.color=x(this,aa),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),fb(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=x(this,y2);let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,h]=this.pageDimensions,[d,m]=this.pageTranslation;let g,y;switch(this.rotation){case 0:g=t+(a[0]-d)/u,y=n+this.height-(a[1]-m)/h;break;case 90:g=t+(a[0]-d)/u,y=n-(a[1]-m)/h,[l,c]=[c,-l];break;case 180:g=t-this.width+(a[0]-d)/u,y=n-(a[1]-m)/h,[l,c]=[-l,-c];break;case 270:g=t+(a[0]-d-this.height*h)/u,y=n+(a[1]-m-this.width*u)/h,[l,c]=[-c,l];break}this.setAt(g*s,y*o,l,c)}else this.setAt(t*s,n*o,this.width*s,this.height*o);j(this,A2,k5).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var g,y,_;const n=t.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const s=j(g=gn,o3,XR).call(g,n.getData("text")||"").replaceAll(JS,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:c}=a,u=[],h=[];if(l.nodeType===Node.TEXT_NODE){const v=l.parentElement;if(h.push(l.nodeValue.slice(c).replaceAll(JS,"")),v!==this.editorDiv){let A=u;for(const S of this.editorDiv.childNodes){if(S===v){A=h;continue}A.push(j(y=gn,x2,O5).call(y,S))}}u.push(l.nodeValue.slice(0,c).replaceAll(JS,""))}else if(l===this.editorDiv){let v=u,A=0;for(const S of this.editorDiv.childNodes)A++===c&&(v=h),v.push(j(_=gn,x2,O5).call(_,S))}z(this,Fs,`${u.join(`
`)}${s}${h.join(`
`)}`),j(this,A2,k5).call(this);const d=new Range;let m=u.reduce((v,A)=>v+A.length,0);for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const A=v.nodeValue.length;if(m<=A){d.setStart(v,m),d.setEnd(v,m);break}m-=A}o.removeAllRanges(),o.addRange(d)}get contentDiv(){return this.editorDiv}static deserialize(t,n,r){var a;let s=null;if(t instanceof rJ){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:h,id:d},textContent:m,textPosition:g,parent:{page:{pageNumber:y}}}=t;if(!m||m.length===0)return null;s=t={annotationType:Wt.FREETEXT,color:Array.from(c),fontSize:l,value:m.join(`
`),position:g,pageIndex:y-1,rect:u.slice(0),rotation:h,id:d,deleted:!1}}const o=super.deserialize(t,n,r);return z(o,Os,t.fontSize),z(o,aa,lt.makeHexColor(...t.color)),z(o,Fs,j(a=gn,o3,XR).call(a,t.value)),o.annotationElementId=t.id||null,z(o,y2,s),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const n=gn._internalPadding*this.parentScale,r=this.getRect(n,n),s=ln._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:x(this,aa)),o={annotationType:Wt.FREETEXT,color:s,fontSize:x(this,Os),value:j(this,k4,dJ).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!j(this,N4,fJ).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:r}=n;r.fontSize=`calc(${x(this,Os)}px * var(--scale-factor))`,r.color=x(this,aa),n.replaceChildren();for(const o of x(this,Fs).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),n.append(a)}const s=gn._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:x(this,Fs)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};e3=new WeakMap,t3=new WeakMap,n3=new WeakMap,i3=new WeakMap,r3=new WeakMap,aa=new WeakMap,Fs=new WeakMap,s3=new WeakMap,Os=new WeakMap,y2=new WeakMap,B4=new WeakSet,cJ=function(t){const n=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-x(this,Os))*this.parentScale),z(this,Os,s),j(this,_2,F5).call(this)},r=x(this,Os);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},F4=new WeakSet,uJ=function(t){const n=s=>{z(this,aa,this.editorDiv.style.color=s)},r=x(this,aa);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},O4=new WeakSet,hJ=function(){var n;const t=[];this.editorDiv.normalize();for(const r of this.editorDiv.childNodes)t.push(j(n=gn,x2,O5).call(n,r));return t.join(`
`)},_2=new WeakSet,F5=function(){const[t,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),r=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/n):(this.width=r.height/t,this.height=r.width/n),this.fixAndSetPosition()},x2=new WeakSet,O5=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(JS,"")},A2=new WeakSet,k5=function(){if(this.editorDiv.replaceChildren(),!!x(this,Fs))for(const t of x(this,Fs).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},k4=new WeakSet,dJ=function(){return x(this,Fs).replaceAll(" "," ")},o3=new WeakSet,XR=function(t){return t.replaceAll(" "," ")},N4=new WeakSet,fJ=function(t){const{value:n,fontSize:r,color:s,pageIndex:o}=x(this,y2);return this._hasBeenMoved||t.value!==n||t.fontSize!==r||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==o},F(gn,x2),F(gn,o3),Rt(gn,"_freeTextDefaultContent",""),Rt(gn,"_internalPadding",0),Rt(gn,"_defaultColor",null),Rt(gn,"_defaultFontSize",10),Rt(gn,"_type","freetext"),Rt(gn,"_editorType",Wt.FREETEXT);let WR=gn;var a3,Hu,la,U4,pJ,S2,N5,z4,mJ,j4,gJ,l3,YR;class KR{constructor(e,t=0,n=0,r=!0){F(this,U4);F(this,S2);F(this,z4);F(this,j4);F(this,l3);F(this,a3,void 0);F(this,Hu,[]);F(this,la,[]);let s=1/0,o=-1/0,a=1/0,l=-1/0;const u=10**-4;for(const{x:v,y:A,width:S,height:C}of e){const T=Math.floor((v-t)/u)*u,E=Math.ceil((v+S+t)/u)*u,R=Math.floor((A-t)/u)*u,D=Math.ceil((A+C+t)/u)*u,I=[T,R,D,!0],L=[E,R,D,!1];x(this,Hu).push(I,L),s=Math.min(s,T),o=Math.max(o,E),a=Math.min(a,R),l=Math.max(l,D)}const h=o-s+2*n,d=l-a+2*n,m=s-n,g=a-n,y=x(this,Hu).at(r?-1:-2),_=[y[0],y[2]];for(const v of x(this,Hu)){const[A,S,C]=v;v[0]=(A-m)/h,v[1]=(S-g)/d,v[2]=(C-g)/d}z(this,a3,{x:m,y:g,width:h,height:d,lastPoint:_})}getOutlines(){x(this,Hu).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of x(this,Hu))t[3]?(e.push(...j(this,l3,YR).call(this,t)),j(this,z4,mJ).call(this,t)):(j(this,j4,gJ).call(this,t),e.push(...j(this,l3,YR).call(this,t)));return j(this,U4,pJ).call(this,e)}}a3=new WeakMap,Hu=new WeakMap,la=new WeakMap,U4=new WeakSet,pJ=function(e){const t=[],n=new Set;for(const o of e){const[a,l,c]=o;t.push([a,l,o],[a,c,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],c=t[o+1][2];l.push(c),c.push(l),n.add(l),n.add(c)}const r=[];let s;for(;n.size>0;){const o=n.values().next().value;let[a,l,c,u,h]=o;n.delete(o);let d=a,m=l;for(s=[a,c],r.push(s);;){let g;if(n.has(u))g=u;else if(n.has(h))g=h;else break;n.delete(g),[a,l,c,u,h]=g,d!==a&&(s.push(d,m,a,m===l?l:c),d=a),m=m===l?c:l}s.push(d,m)}return new yve(r,x(this,a3))},S2=new WeakSet,N5=function(e){const t=x(this,la);let n=0,r=t.length-1;for(;n<=r;){const s=n+r>>1,o=t[s][0];if(o===e)return s;o<e?n=s+1:r=s-1}return r+1},z4=new WeakSet,mJ=function([,e,t]){const n=j(this,S2,N5).call(this,e);x(this,la).splice(n,0,[e,t])},j4=new WeakSet,gJ=function([,e,t]){const n=j(this,S2,N5).call(this,e);for(let r=n;r<x(this,la).length;r++){const[s,o]=x(this,la)[r];if(s!==e)break;if(s===e&&o===t){x(this,la).splice(r,1);return}}for(let r=n-1;r>=0;r--){const[s,o]=x(this,la)[r];if(s!==e)break;if(s===e&&o===t){x(this,la).splice(r,1);return}}},l3=new WeakSet,YR=function(e){const[t,n,r]=e,s=[[t,n,r]],o=j(this,S2,N5).call(this,r);for(let a=0;a<o;a++){const[l,c]=x(this,la)[a];for(let u=0,h=s.length;u<h;u++){const[,d,m]=s[u];if(!(c<=d||m<=l)){if(d>=l){if(m>c)s[u][1]=c;else{if(h===1)return[];s.splice(u,1),u--,h--}continue}s[u][2]=l,m>c&&s.push([t,c,m])}}}return s};class vJ{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof qR}}var c3,w2;class yve extends vJ{constructor(t,n){super();F(this,c3,void 0);F(this,w2,void 0);z(this,w2,t),z(this,c3,n)}toSVGPath(){const t=[];for(const n of x(this,w2)){let[r,s]=n;t.push(`M${r} ${s}`);for(let o=2;o<n.length;o+=2){const a=n[o],l=n[o+1];a===r?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),r=a)}t.push("Z")}return t.join(" ")}serialize([t,n,r,s],o){const a=[],l=r-t,c=s-n;for(const u of x(this,w2)){const h=new Array(u.length);for(let d=0;d<u.length;d+=2)h[d]=t+u[d]*l,h[d+1]=s-u[d+1]*c;a.push(h)}return a}get box(){return x(this,c3)}}c3=new WeakMap,w2=new WeakMap;var Ya,ac,b2,C2,Ja,Ht,Rf,Pf,u3,h3,M2,E2,Gu,d3,H4,G4,f3,JR;const Ul=class Ul{constructor({x:e,y:t},n,r,s,o,a=0){F(this,f3);F(this,Ya,void 0);F(this,ac,[]);F(this,b2,void 0);F(this,C2,void 0);F(this,Ja,[]);F(this,Ht,new Float64Array(18));F(this,Rf,void 0);F(this,Pf,void 0);F(this,u3,void 0);F(this,h3,void 0);F(this,M2,void 0);F(this,E2,void 0);F(this,Gu,[]);z(this,Ya,n),z(this,E2,s*r),z(this,C2,o),x(this,Ht).set([NaN,NaN,NaN,NaN,e,t],6),z(this,b2,a),z(this,h3,x(Ul,d3)*r),z(this,u3,x(Ul,G4)*r),z(this,M2,r),x(this,Gu).push(e,t)}get free(){return!0}isEmpty(){return isNaN(x(this,Ht)[8])}add({x:e,y:t}){var I;z(this,Rf,e),z(this,Pf,t);const[n,r,s,o]=x(this,Ya);let[a,l,c,u]=x(this,Ht).subarray(8,12);const h=e-c,d=t-u,m=Math.hypot(h,d);if(m<x(this,u3))return!1;const g=m-x(this,h3),y=g/m,_=y*h,v=y*d;let A=a,S=l;a=c,l=u,c+=_,u+=v,(I=x(this,Gu))==null||I.push(e,t);const C=-v/g,T=_/g,E=C*x(this,E2),R=T*x(this,E2);return x(this,Ht).set(x(this,Ht).subarray(2,8),0),x(this,Ht).set([c+E,u+R],4),x(this,Ht).set(x(this,Ht).subarray(14,18),12),x(this,Ht).set([c-E,u-R],16),isNaN(x(this,Ht)[6])?(x(this,Ja).length===0&&(x(this,Ht).set([a+E,l+R],2),x(this,Ja).push(NaN,NaN,NaN,NaN,(a+E-n)/s,(l+R-r)/o),x(this,Ht).set([a-E,l-R],14),x(this,ac).push(NaN,NaN,NaN,NaN,(a-E-n)/s,(l-R-r)/o)),x(this,Ht).set([A,S,a,l,c,u],6),!this.isEmpty()):(x(this,Ht).set([A,S,a,l,c,u],6),Math.abs(Math.atan2(S-l,A-a)-Math.atan2(v,_))<Math.PI/2?([a,l,c,u]=x(this,Ht).subarray(2,6),x(this,Ja).push(NaN,NaN,NaN,NaN,((a+c)/2-n)/s,((l+u)/2-r)/o),[a,l,A,S]=x(this,Ht).subarray(14,18),x(this,ac).push(NaN,NaN,NaN,NaN,((A+a)/2-n)/s,((S+l)/2-r)/o),!0):([A,S,a,l,c,u]=x(this,Ht).subarray(0,6),x(this,Ja).push(((A+5*a)/6-n)/s,((S+5*l)/6-r)/o,((5*a+c)/6-n)/s,((5*l+u)/6-r)/o,((a+c)/2-n)/s,((l+u)/2-r)/o),[c,u,a,l,A,S]=x(this,Ht).subarray(12,18),x(this,ac).push(((A+5*a)/6-n)/s,((S+5*l)/6-r)/o,((5*a+c)/6-n)/s,((5*l+u)/6-r)/o,((a+c)/2-n)/s,((l+u)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=x(this,Ja),t=x(this,ac),n=x(this,Ht).subarray(4,6),r=x(this,Ht).subarray(16,18),[s,o,a,l]=x(this,Ya),[c,u,h,d]=j(this,f3,JR).call(this);if(isNaN(x(this,Ht)[6])&&!this.isEmpty())return`M${(x(this,Ht)[2]-s)/a} ${(x(this,Ht)[3]-o)/l} L${(x(this,Ht)[4]-s)/a} ${(x(this,Ht)[5]-o)/l} L${c} ${u} L${h} ${d} L${(x(this,Ht)[16]-s)/a} ${(x(this,Ht)[17]-o)/l} L${(x(this,Ht)[14]-s)/a} ${(x(this,Ht)[15]-o)/l} Z`;const m=[];m.push(`M${e[4]} ${e[5]}`);for(let g=6;g<e.length;g+=6)isNaN(e[g])?m.push(`L${e[g+4]} ${e[g+5]}`):m.push(`C${e[g]} ${e[g+1]} ${e[g+2]} ${e[g+3]} ${e[g+4]} ${e[g+5]}`);m.push(`L${(n[0]-s)/a} ${(n[1]-o)/l} L${c} ${u} L${h} ${d} L${(r[0]-s)/a} ${(r[1]-o)/l}`);for(let g=t.length-6;g>=6;g-=6)isNaN(t[g])?m.push(`L${t[g+4]} ${t[g+5]}`):m.push(`C${t[g]} ${t[g+1]} ${t[g+2]} ${t[g+3]} ${t[g+4]} ${t[g+5]}`);return m.push(`L${t[4]} ${t[5]} Z`),m.join(" ")}getOutlines(){var v;const e=x(this,Ja),t=x(this,ac),n=x(this,Ht),r=n.subarray(4,6),s=n.subarray(16,18),[o,a,l,c]=x(this,Ya),u=new Float64Array((((v=x(this,Gu))==null?void 0:v.length)??0)+2);for(let A=0,S=u.length-2;A<S;A+=2)u[A]=(x(this,Gu)[A]-o)/l,u[A+1]=(x(this,Gu)[A+1]-a)/c;u[u.length-2]=(x(this,Rf)-o)/l,u[u.length-1]=(x(this,Pf)-a)/c;const[h,d,m,g]=j(this,f3,JR).call(this);if(isNaN(n[6])&&!this.isEmpty()){const A=new Float64Array(36);return A.set([NaN,NaN,NaN,NaN,(n[2]-o)/l,(n[3]-a)/c,NaN,NaN,NaN,NaN,(n[4]-o)/l,(n[5]-a)/c,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,m,g,NaN,NaN,NaN,NaN,(n[16]-o)/l,(n[17]-a)/c,NaN,NaN,NaN,NaN,(n[14]-o)/l,(n[15]-a)/c],0),new qR(A,u,x(this,Ya),x(this,M2),x(this,b2),x(this,C2))}const y=new Float64Array(x(this,Ja).length+24+x(this,ac).length);let _=e.length;for(let A=0;A<_;A+=2){if(isNaN(e[A])){y[A]=y[A+1]=NaN;continue}y[A]=e[A],y[A+1]=e[A+1]}y.set([NaN,NaN,NaN,NaN,(r[0]-o)/l,(r[1]-a)/c,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,m,g,NaN,NaN,NaN,NaN,(s[0]-o)/l,(s[1]-a)/c],_),_+=24;for(let A=t.length-6;A>=6;A-=6)for(let S=0;S<6;S+=2){if(isNaN(t[A+S])){y[_]=y[_+1]=NaN,_+=2;continue}y[_]=t[A+S],y[_+1]=t[A+S+1],_+=2}return y.set([NaN,NaN,NaN,NaN,t[4],t[5]],_),new qR(y,u,x(this,Ya),x(this,M2),x(this,b2),x(this,C2))}};Ya=new WeakMap,ac=new WeakMap,b2=new WeakMap,C2=new WeakMap,Ja=new WeakMap,Ht=new WeakMap,Rf=new WeakMap,Pf=new WeakMap,u3=new WeakMap,h3=new WeakMap,M2=new WeakMap,E2=new WeakMap,Gu=new WeakMap,d3=new WeakMap,H4=new WeakMap,G4=new WeakMap,f3=new WeakSet,JR=function(){const e=x(this,Ht).subarray(4,6),t=x(this,Ht).subarray(16,18),[n,r,s,o]=x(this,Ya);return[(x(this,Rf)+(e[0]-t[0])/2-n)/s,(x(this,Pf)+(e[1]-t[1])/2-r)/o,(x(this,Rf)+(t[0]-e[0])/2-n)/s,(x(this,Pf)+(t[1]-e[1])/2-r)/o]},F(Ul,d3,8),F(Ul,H4,2),F(Ul,G4,x(Ul,d3)+x(Ul,H4));let vb=Ul;var T2,If,lc,p3,ks,m3,si,Lf,K1,Df,Y1,V4,yJ;class qR extends vJ{constructor(t,n,r,s,o,a){super();F(this,Lf);F(this,Df);F(this,V4);F(this,T2,void 0);F(this,If,null);F(this,lc,void 0);F(this,p3,void 0);F(this,ks,void 0);F(this,m3,void 0);F(this,si,void 0);z(this,si,t),z(this,ks,n),z(this,T2,r),z(this,m3,s),z(this,lc,o),z(this,p3,a),j(this,V4,yJ).call(this,a);const{x:l,y:c,width:u,height:h}=x(this,If);for(let d=0,m=t.length;d<m;d+=2)t[d]=(t[d]-l)/u,t[d+1]=(t[d+1]-c)/h;for(let d=0,m=n.length;d<m;d+=2)n[d]=(n[d]-l)/u,n[d+1]=(n[d+1]-c)/h}toSVGPath(){const t=[`M${x(this,si)[4]} ${x(this,si)[5]}`];for(let n=6,r=x(this,si).length;n<r;n+=6){if(isNaN(x(this,si)[n])){t.push(`L${x(this,si)[n+4]} ${x(this,si)[n+5]}`);continue}t.push(`C${x(this,si)[n]} ${x(this,si)[n+1]} ${x(this,si)[n+2]} ${x(this,si)[n+3]} ${x(this,si)[n+4]} ${x(this,si)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,r,s],o){const a=r-t,l=s-n;let c,u;switch(o){case 0:c=j(this,Lf,K1).call(this,x(this,si),t,s,a,-l),u=j(this,Lf,K1).call(this,x(this,ks),t,s,a,-l);break;case 90:c=j(this,Df,Y1).call(this,x(this,si),t,n,a,l),u=j(this,Df,Y1).call(this,x(this,ks),t,n,a,l);break;case 180:c=j(this,Lf,K1).call(this,x(this,si),r,n,-a,l),u=j(this,Lf,K1).call(this,x(this,ks),r,n,-a,l);break;case 270:c=j(this,Df,Y1).call(this,x(this,si),r,s,-a,-l),u=j(this,Df,Y1).call(this,x(this,ks),r,s,-a,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return x(this,If)}getNewOutline(t,n){const{x:r,y:s,width:o,height:a}=x(this,If),[l,c,u,h]=x(this,T2),d=o*u,m=a*h,g=r*u+l,y=s*h+c,_=new vb({x:x(this,ks)[0]*d+g,y:x(this,ks)[1]*m+y},x(this,T2),x(this,m3),t,x(this,p3),n??x(this,lc));for(let v=2;v<x(this,ks).length;v+=2)_.add({x:x(this,ks)[v]*d+g,y:x(this,ks)[v+1]*m+y});return _.getOutlines()}}T2=new WeakMap,If=new WeakMap,lc=new WeakMap,p3=new WeakMap,ks=new WeakMap,m3=new WeakMap,si=new WeakMap,Lf=new WeakSet,K1=function(t,n,r,s,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=n+t[l]*s,a[l+1]=r+t[l+1]*o;return a},Df=new WeakSet,Y1=function(t,n,r,s,o){const a=new Float64Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=n+t[l+1]*s,a[l+1]=r+t[l]*o;return a},V4=new WeakSet,yJ=function(t){const n=x(this,si);let r=n[4],s=n[5],o=r,a=s,l=r,c=s,u=r,h=s;const d=t?Math.max:Math.min;for(let v=6,A=n.length;v<A;v+=6){if(isNaN(n[v]))o=Math.min(o,n[v+4]),a=Math.min(a,n[v+5]),l=Math.max(l,n[v+4]),c=Math.max(c,n[v+5]),h<n[v+5]?(u=n[v+4],h=n[v+5]):h===n[v+5]&&(u=d(u,n[v+4]));else{const S=lt.bezierBoundingBox(r,s,...n.slice(v,v+6));o=Math.min(o,S[0]),a=Math.min(a,S[1]),l=Math.max(l,S[2]),c=Math.max(c,S[3]),h<S[3]?(u=S[2],h=S[3]):h===S[3]&&(u=d(u,S[2]))}r=n[v+4],s=n[v+5]}const m=o-x(this,lc),g=a-x(this,lc),y=l-o+2*x(this,lc),_=c-a+2*x(this,lc);z(this,If,{x:m,y:g,width:y,height:_,lastPoint:[u,h]})};var g3,v3,ca,Bf,R2,wi,y3,P2,_3,x3,ua,I2,A3,ZR,S3,QR,W4,_J,cc,Md,X4,xJ,qa,_u;const zl=class zl{constructor({editor:e=null,uiManager:t=null}){F(this,A3);F(this,S3);F(this,W4);F(this,cc);F(this,X4);F(this,qa);F(this,g3,j(this,W4,_J).bind(this));F(this,v3,j(this,X4,xJ).bind(this));F(this,ca,null);F(this,Bf,null);F(this,R2,void 0);F(this,wi,null);F(this,y3,!1);F(this,P2,!1);F(this,_3,null);F(this,x3,void 0);F(this,ua,null);F(this,I2,void 0);var n;e?(z(this,P2,!1),z(this,I2,Mt.HIGHLIGHT_COLOR),z(this,_3,e)):(z(this,P2,!0),z(this,I2,Mt.HIGHLIGHT_DEFAULT_COLOR)),z(this,ua,(e==null?void 0:e._uiManager)||t),z(this,x3,x(this,ua)._eventBus),z(this,R2,(e==null?void 0:e.color)||((n=x(this,ua))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Jt(this,"_keyboardManager",new wx([[["Escape","mac+Escape"],zl.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],zl.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],zl.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],zl.prototype._moveToPrevious],[["Home","mac+Home"],zl.prototype._moveToBeginning],[["End","mac+End"],zl.prototype._moveToEnd]]))}renderButton(){const e=z(this,ca,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=x(this,ua)._signal;e.addEventListener("click",j(this,cc,Md).bind(this),{signal:t}),e.addEventListener("keydown",x(this,g3),{signal:t});const n=z(this,Bf,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=x(this,R2),e.append(n),e}renderMainDropdown(){const e=z(this,wi,j(this,A3,ZR).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===x(this,ca)){j(this,cc,Md).call(this,e);return}const t=e.target.getAttribute("data-color");t&&j(this,S3,QR).call(this,t,e)}_moveToNext(e){var t,n;if(!x(this,qa,_u)){j(this,cc,Md).call(this,e);return}if(e.target===x(this,ca)){(t=x(this,wi).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=x(this,wi))==null?void 0:t.firstChild)||e.target===x(this,ca)){x(this,qa,_u)&&this._hideDropdownFromKeyboard();return}x(this,qa,_u)||j(this,cc,Md).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!x(this,qa,_u)){j(this,cc,Md).call(this,e);return}(t=x(this,wi).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!x(this,qa,_u)){j(this,cc,Md).call(this,e);return}(t=x(this,wi).lastChild)==null||t.focus()}hideDropdown(){var e;(e=x(this,wi))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",x(this,v3))}_hideDropdownFromKeyboard(){var e;if(!x(this,P2)){if(!x(this,qa,_u)){(e=x(this,_3))==null||e.unselect();return}this.hideDropdown(),x(this,ca).focus({preventScroll:!0,focusVisible:x(this,y3)})}}updateColor(e){if(x(this,Bf)&&(x(this,Bf).style.backgroundColor=e),!x(this,wi))return;const t=x(this,ua).highlightColors.values();for(const n of x(this,wi).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=x(this,ca))==null||e.remove(),z(this,ca,null),z(this,Bf,null),(t=x(this,wi))==null||t.remove(),z(this,wi,null)}};g3=new WeakMap,v3=new WeakMap,ca=new WeakMap,Bf=new WeakMap,R2=new WeakMap,wi=new WeakMap,y3=new WeakMap,P2=new WeakMap,_3=new WeakMap,x3=new WeakMap,ua=new WeakMap,I2=new WeakMap,A3=new WeakSet,ZR=function(){const e=document.createElement("div"),t=x(this,ua)._signal;e.addEventListener("contextmenu",gs,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of x(this,ua).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=n,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${n}`);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=r,s.setAttribute("aria-selected",r===x(this,R2)),s.addEventListener("click",j(this,S3,QR).bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",x(this,g3),{signal:t}),e},S3=new WeakSet,QR=function(e,t){t.stopPropagation(),x(this,x3).dispatch("switchannotationeditorparams",{source:this,type:x(this,I2),value:e})},W4=new WeakSet,_J=function(e){zl._keyboardManager.exec(this,e)},cc=new WeakSet,Md=function(e){if(x(this,qa,_u)){this.hideDropdown();return}if(z(this,y3,e.detail===0),window.addEventListener("pointerdown",x(this,v3),{signal:x(this,ua)._signal}),x(this,wi)){x(this,wi).classList.remove("hidden");return}const t=z(this,wi,j(this,A3,ZR).call(this));x(this,ca).append(t)},X4=new WeakSet,xJ=function(e){var t;(t=x(this,wi))!=null&&t.contains(e.target)||this.hideDropdown()},qa=new WeakSet,_u=function(){return x(this,wi)&&!x(this,wi).classList.contains("hidden")};let yb=zl;var L2,w3,Vu,Ff,D2,So,b3,C3,Of,ha,Gr,Ns,K4,B2,kf,bi,F2,Za,M3,E3,$R,T3,eP,Y4,AJ,J4,SJ,q4,wJ,R3,tP,Nf,J1,Wu,Np,Z4,bJ,O2,U5,Uf,q1,Q4,CJ,$4,MJ,eC,EJ,tC,TJ;const Yt=class Yt extends ln{constructor(t){super({...t,name:"highlightEditor"});F(this,E3);F(this,T3);F(this,Y4);F(this,J4);F(this,q4);F(this,R3);F(this,Nf);F(this,Z4);F(this,O2);F(this,Uf);F(this,Q4);F(this,$4);F(this,L2,null);F(this,w3,0);F(this,Vu,void 0);F(this,Ff,null);F(this,D2,null);F(this,So,null);F(this,b3,null);F(this,C3,0);F(this,Of,null);F(this,ha,null);F(this,Gr,null);F(this,Ns,!1);F(this,K4,j(this,Z4,bJ).bind(this));F(this,B2,null);F(this,kf,void 0);F(this,bi,null);F(this,F2,"");F(this,Za,void 0);F(this,M3,"");this.color=t.color||Yt._defaultColor,z(this,Za,t.thickness||Yt._defaultThickness),z(this,kf,t.opacity||Yt._defaultOpacity),z(this,Vu,t.boxes||null),z(this,M3,t.methodOfCreation||""),z(this,F2,t.text||""),this._isDraggable=!1,t.highlightId>-1?(z(this,Ns,!0),j(this,T3,eP).call(this,t),j(this,Nf,J1).call(this)):(z(this,L2,t.anchorNode),z(this,w3,t.anchorOffset),z(this,b3,t.focusNode),z(this,C3,t.focusOffset),j(this,E3,$R).call(this),j(this,Nf,J1).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Yt.prototype;return Jt(this,"_keyboardManager",new wx([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:x(this,Ns)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:x(this,Za),methodOfCreation:x(this,M3)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var r;ln.initialize(t,n),Yt._defaultColor||(Yt._defaultColor=((r=n.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case Mt.HIGHLIGHT_DEFAULT_COLOR:Yt._defaultColor=n;break;case Mt.HIGHLIGHT_THICKNESS:Yt._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return x(this,B2)}updateParams(t,n){switch(t){case Mt.HIGHLIGHT_COLOR:j(this,Y4,AJ).call(this,n);break;case Mt.HIGHLIGHT_THICKNESS:j(this,J4,SJ).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Mt.HIGHLIGHT_DEFAULT_COLOR,Yt._defaultColor],[Mt.HIGHLIGHT_THICKNESS,Yt._defaultThickness]]}get propertiesToUpdate(){return[[Mt.HIGHLIGHT_COLOR,this.color||Yt._defaultColor],[Mt.HIGHLIGHT_THICKNESS,x(this,Za)||Yt._defaultThickness],[Mt.HIGHLIGHT_FREE,x(this,Ns)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(z(this,D2,new yb({editor:this})),t.addColorPicker(x(this,D2))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(j(this,Uf,q1).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,j(this,Uf,q1).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){j(this,R3,tP).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(j(this,Nf,J1).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let n=!1;this.parent&&!t?j(this,R3,tP).call(this):t&&(j(this,Nf,J1).call(this,t),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var s,o,a;const{drawLayer:n}=this.parent;let r;x(this,Ns)?(t=(t-this.rotation+360)%360,r=j(s=Yt,Wu,Np).call(s,x(this,ha).box,t)):r=j(o=Yt,Wu,Np).call(o,this,t),n.rotate(x(this,Gr),t),n.rotate(x(this,bi),t),n.updateBox(x(this,Gr),r),n.updateBox(x(this,bi),j(a=Yt,Wu,Np).call(a,x(this,So).box,t))}render(){if(this.div)return this.div;const t=super.render();x(this,F2)&&(t.setAttribute("aria-label",x(this,F2)),t.setAttribute("role","mark")),x(this,Ns)?t.classList.add("free"):this.div.addEventListener("keydown",x(this,K4),{signal:this._uiManager._signal});const n=z(this,Of,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=x(this,Ff);const[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),fb(this,x(this,Of),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(x(this,bi),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(x(this,bi),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:j(this,O2,U5).call(this,!0);break;case 1:case 3:j(this,O2,U5).call(this,!1);break}}select(){var t,n;super.select(),x(this,bi)&&((t=this.parent)==null||t.drawLayer.removeClass(x(this,bi),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(x(this,bi),"selected"))}unselect(){var t;super.unselect(),x(this,bi)&&((t=this.parent)==null||t.drawLayer.removeClass(x(this,bi),"selected"),x(this,Ns)||j(this,O2,U5).call(this,!1))}get _mustFixPosition(){return!x(this,Ns)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(x(this,Gr),t),this.parent.drawLayer.show(x(this,bi),t))}static startHighlighting(t,n,{target:r,x:s,y:o}){const{x:a,y:l,width:c,height:u}=r.getBoundingClientRect(),h=_=>{j(this,eC,EJ).call(this,t,_)},d=t._signal,m={capture:!0,passive:!1,signal:d},g=_=>{_.preventDefault(),_.stopPropagation()},y=_=>{r.removeEventListener("pointermove",h),window.removeEventListener("blur",y),window.removeEventListener("pointerup",y),window.removeEventListener("pointerdown",g,m),window.removeEventListener("contextmenu",gs),j(this,tC,TJ).call(this,t,_)};window.addEventListener("blur",y,{signal:d}),window.addEventListener("pointerup",y,{signal:d}),window.addEventListener("pointerdown",g,m),window.addEventListener("contextmenu",gs,{signal:d}),r.addEventListener("pointermove",h,{signal:d}),this._freeHighlight=new vb({x:s,y:o},[a,l,c,u],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,n,r){var y;const s=super.deserialize(t,n,r),{rect:[o,a,l,c],color:u,quadPoints:h}=t;s.color=lt.makeHexColor(...u),z(s,kf,t.opacity);const[d,m]=s.pageDimensions;s.width=(l-o)/d,s.height=(c-a)/m;const g=z(s,Vu,[]);for(let _=0;_<h.length;_+=8)g.push({x:(h[4]-l)/d,y:(c-(1-h[_+5]))/m,width:(h[_+2]-h[_])/d,height:(h[_+5]-h[_+1])/m});return j(y=s,E3,$R).call(y),s}serialize(t=!1){if(this.isEmpty()||t)return null;const n=this.getRect(0,0),r=ln._colorManager.convert(this.color);return{annotationType:Wt.HIGHLIGHT,color:r,opacity:x(this,kf),thickness:x(this,Za),quadPoints:j(this,Q4,CJ).call(this),outlines:j(this,$4,MJ).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:j(this,Uf,q1).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};L2=new WeakMap,w3=new WeakMap,Vu=new WeakMap,Ff=new WeakMap,D2=new WeakMap,So=new WeakMap,b3=new WeakMap,C3=new WeakMap,Of=new WeakMap,ha=new WeakMap,Gr=new WeakMap,Ns=new WeakMap,K4=new WeakMap,B2=new WeakMap,kf=new WeakMap,bi=new WeakMap,F2=new WeakMap,Za=new WeakMap,M3=new WeakMap,E3=new WeakSet,$R=function(){const t=new KR(x(this,Vu),.001);z(this,ha,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=x(this,ha).box;const n=new KR(x(this,Vu),.0025,.001,this._uiManager.direction==="ltr");z(this,So,n.getOutlines());const{lastPoint:r}=x(this,So).box;z(this,B2,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},T3=new WeakSet,eP=function({highlightOutlines:t,highlightId:n,clipPathId:r}){var h,d;if(z(this,ha,t),z(this,So,t.getNewOutline(x(this,Za)/2+1.5,.0025)),n>=0)z(this,Gr,n),z(this,Ff,r),this.parent.drawLayer.finalizeLine(n,t),z(this,bi,this.parent.drawLayer.highlightOutline(x(this,So)));else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(x(this,Gr),t),this.parent.drawLayer.updateBox(x(this,Gr),j(h=Yt,Wu,Np).call(h,x(this,ha).box,(m-this.rotation+360)%360)),this.parent.drawLayer.updateLine(x(this,bi),x(this,So)),this.parent.drawLayer.updateBox(x(this,bi),j(d=Yt,Wu,Np).call(d,x(this,So).box,m))}const{x:o,y:a,width:l,height:c}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=c;break;case 90:{const[m,g]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*g/m,this.height=c*m/g;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=c;break;case 270:{const[m,g]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*g/m,this.height=c*m/g;break}}const{lastPoint:u}=x(this,So).box;z(this,B2,[(u[0]-o)/l,(u[1]-a)/c])},Y4=new WeakSet,AJ=function(t){const n=s=>{var o,a;this.color=s,(o=this.parent)==null||o.drawLayer.changeColor(x(this,Gr),s),(a=x(this,D2))==null||a.updateColor(s)},r=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},J4=new WeakSet,SJ=function(t){const n=x(this,Za),r=s=>{z(this,Za,s),j(this,q4,wJ).call(this,s)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},q4=new WeakSet,wJ=function(t){if(!x(this,Ns))return;j(this,T3,eP).call(this,{highlightOutlines:x(this,ha).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)},R3=new WeakSet,tP=function(){x(this,Gr)===null||!this.parent||(this.parent.drawLayer.remove(x(this,Gr)),z(this,Gr,null),this.parent.drawLayer.remove(x(this,bi)),z(this,bi,null))},Nf=new WeakSet,J1=function(t=this.parent){x(this,Gr)===null&&({id:Es(this,Gr)._,clipPathId:Es(this,Ff)._}=t.drawLayer.highlight(x(this,ha),this.color,x(this,kf)),z(this,bi,t.drawLayer.highlightOutline(x(this,So))),x(this,Of)&&(x(this,Of).style.clipPath=x(this,Ff)))},Wu=new WeakSet,Np=function({x:t,y:n,width:r,height:s},o){switch(o){case 90:return{x:1-n-s,y:t,width:s,height:r};case 180:return{x:1-t-r,y:1-n-s,width:r,height:s};case 270:return{x:n,y:1-t-r,width:s,height:r}}return{x:t,y:n,width:r,height:s}},Z4=new WeakSet,bJ=function(t){Yt._keyboardManager.exec(this,t)},O2=new WeakSet,U5=function(t){if(!x(this,L2))return;const n=window.getSelection();t?n.setPosition(x(this,L2),x(this,w3)):n.setPosition(x(this,b3),x(this,C3))},Uf=new WeakSet,q1=function(){return x(this,Ns)?this.rotation:0},Q4=new WeakSet,CJ=function(){if(x(this,Ns))return null;const[t,n]=this.pageDimensions,r=x(this,Vu),s=new Float32Array(r.length*8);let o=0;for(const{x:a,y:l,width:c,height:u}of r){const h=a*t,d=(1-l-u)*n;s[o]=s[o+4]=h,s[o+1]=s[o+3]=d,s[o+2]=s[o+6]=h+c*t,s[o+5]=s[o+7]=d+u*n,o+=8}return s},$4=new WeakSet,MJ=function(t){return x(this,ha).serialize(t,j(this,Uf,q1).call(this))},eC=new WeakSet,EJ=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},tC=new WeakSet,TJ=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},F(Yt,Wu),F(Yt,eC),F(Yt,tC),Rt(Yt,"_defaultColor",null),Rt(Yt,"_defaultOpacity",1),Rt(Yt,"_defaultThickness",12),Rt(Yt,"_l10nPromise"),Rt(Yt,"_type","highlight"),Rt(Yt,"_editorType",Wt.HIGHLIGHT),Rt(Yt,"_freeHighlightId",-1),Rt(Yt,"_freeHighlight",null),Rt(Yt,"_freeHighlightClipId","");let _b=Yt;var zf,jf,P3,I3,L3,Hf,Qa,uc,wo,Gf,Vf,hc,Wf,Xf,Xu,nC,RJ,iC,PJ,rC,IJ,sC,LJ,D3,iP,oC,DJ,B3,rP,aC,BJ,lC,FJ,cC,OJ,uC,kJ,hC,NJ,dc,Ed,F3,sP,k2,z5,N2,j5,Ku,Up,O3,oP,U2,H5,dC,UJ,k3,aP,fC,zJ,pC,jJ,N3,lP,z2,G5,Kf,Z1;const Rn=class Rn extends ln{constructor(t){super({...t,name:"inkEditor"});F(this,nC);F(this,iC);F(this,rC);F(this,sC);F(this,D3);F(this,oC);F(this,B3);F(this,aC);F(this,lC);F(this,cC);F(this,uC);F(this,hC);F(this,dc);F(this,F3);F(this,k2);F(this,N2);F(this,Ku);F(this,O3);F(this,U2);F(this,pC);F(this,N3);F(this,z2);F(this,Kf);F(this,zf,0);F(this,jf,0);F(this,P3,this.canvasPointermove.bind(this));F(this,I3,this.canvasPointerleave.bind(this));F(this,L3,this.canvasPointerup.bind(this));F(this,Hf,this.canvasPointerdown.bind(this));F(this,Qa,null);F(this,uc,new Path2D);F(this,wo,!1);F(this,Gf,!1);F(this,Vf,!1);F(this,hc,null);F(this,Wf,0);F(this,Xf,0);F(this,Xu,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,n){ln.initialize(t,n)}static updateDefaultParams(t,n){switch(t){case Mt.INK_THICKNESS:Rn._defaultThickness=n;break;case Mt.INK_COLOR:Rn._defaultColor=n;break;case Mt.INK_OPACITY:Rn._defaultOpacity=n/100;break}}updateParams(t,n){switch(t){case Mt.INK_THICKNESS:j(this,nC,RJ).call(this,n);break;case Mt.INK_COLOR:j(this,iC,PJ).call(this,n);break;case Mt.INK_OPACITY:j(this,rC,IJ).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Mt.INK_THICKNESS,Rn._defaultThickness],[Mt.INK_COLOR,Rn._defaultColor||ln._defaultLineColor],[Mt.INK_OPACITY,Math.round(Rn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Mt.INK_THICKNESS,this.thickness||Rn._defaultThickness],[Mt.INK_COLOR,this.color||Rn._defaultColor||ln._defaultLineColor],[Mt.INK_OPACITY,Math.round(100*(this.opacity??Rn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(j(this,k2,z5).call(this),j(this,N2,j5).call(this)),this.isAttachedToDOM||(this.parent.add(this),j(this,Ku,Up).call(this)),j(this,Kf,Z1).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,x(this,Qa)&&(clearTimeout(x(this,Qa)),z(this,Qa,null)),(t=x(this,hc))==null||t.disconnect(),z(this,hc,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,n]=this.parentDimensions,r=this.width*t,s=this.height*n;this.setDimensions(r,s)}enableEditMode(){x(this,wo)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",x(this,Hf),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",x(this,Hf)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){x(this,wo)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),z(this,wo,!0),this.div.classList.add("disabled"),j(this,Kf,Z1).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||x(this,wo)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),j(this,oC,DJ).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),j(this,B3,rP).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),j(this,F3,sP).call(this,t)}canvasPointerleave(t){j(this,F3,sP).call(this,t)}get isResizable(){return!this.isEmpty()&&x(this,wo)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,s,o,a]=j(this,sC,LJ).call(this);if(this.setAt(r,s,0,0),this.setDims(o,a),j(this,k2,z5).call(this),this.width){const[l,c]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*c),this.setAt(t*l,n*c,this.width*l,this.height*c),z(this,Vf,!0),j(this,Ku,Up).call(this),this.setDims(this.width*l,this.height*c),j(this,dc,Ed).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return j(this,N2,j5).call(this),this.div}setDimensions(t,n){const r=Math.round(t),s=Math.round(n);if(x(this,Wf)===r&&x(this,Xf)===s)return;z(this,Wf,r),z(this,Xf,s),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=t/o,this.height=n/a,this.fixAndSetPosition(),x(this,wo)&&j(this,O3,oP).call(this,t,n),j(this,Ku,Up).call(this),j(this,dc,Ed).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,n,r){var _,v,A;if(t instanceof oJ)return null;const s=super.deserialize(t,n,r);s.thickness=t.thickness,s.color=lt.makeHexColor(...t.color),s.opacity=t.opacity;const[o,a]=s.pageDimensions,l=s.width*o,c=s.height*a,u=s.parentScale,h=t.thickness/2;z(s,wo,!0),z(s,Wf,Math.round(l)),z(s,Xf,Math.round(c));const{paths:d,rect:m,rotation:g}=t;for(let{bezier:S}of d){S=j(_=Rn,fC,zJ).call(_,S,m,g);const C=[];s.paths.push(C);let T=u*(S[0]-h),E=u*(S[1]-h);for(let D=2,I=S.length;D<I;D+=6){const L=u*(S[D]-h),O=u*(S[D+1]-h),W=u*(S[D+2]-h),X=u*(S[D+3]-h),Z=u*(S[D+4]-h),$=u*(S[D+5]-h);C.push([[T,E],[L,O],[W,X],[Z,$]]),T=Z,E=$}const R=j(this,dC,UJ).call(this,C);s.bezierPath2D.push(R)}const y=j(v=s,N3,lP).call(v);return z(s,jf,Math.max(ln.MIN_SIZE,y[2]-y[0])),z(s,zf,Math.max(ln.MIN_SIZE,y[3]-y[1])),j(A=s,O3,oP).call(A,l,c),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),n=ln._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Wt.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:j(this,pC,jJ).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};zf=new WeakMap,jf=new WeakMap,P3=new WeakMap,I3=new WeakMap,L3=new WeakMap,Hf=new WeakMap,Qa=new WeakMap,uc=new WeakMap,wo=new WeakMap,Gf=new WeakMap,Vf=new WeakMap,hc=new WeakMap,Wf=new WeakMap,Xf=new WeakMap,Xu=new WeakMap,nC=new WeakSet,RJ=function(t){const n=s=>{this.thickness=s,j(this,Kf,Z1).call(this)},r=this.thickness;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},iC=new WeakSet,PJ=function(t){const n=s=>{this.color=s,j(this,dc,Ed).call(this)},r=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},rC=new WeakSet,IJ=function(t){const n=s=>{this.opacity=s,j(this,dc,Ed).call(this)};t/=100;const r=this.opacity;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},sC=new WeakSet,LJ=function(){const{parentRotation:t,parentDimensions:[n,r]}=this;switch(t){case 90:return[0,r,r,n];case 180:return[n,r,n,r];case 270:return[n,0,r,n];default:return[0,0,n,r]}},D3=new WeakSet,iP=function(){const{ctx:t,color:n,opacity:r,thickness:s,parentScale:o,scaleFactor:a}=this;t.lineWidth=s*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${n}${Hge(r)}`},oC=new WeakSet,DJ=function(t,n){const r=this._uiManager._signal;this.canvas.addEventListener("contextmenu",gs,{signal:r}),this.canvas.addEventListener("pointerleave",x(this,I3),{signal:r}),this.canvas.addEventListener("pointermove",x(this,P3),{signal:r}),this.canvas.addEventListener("pointerup",x(this,L3),{signal:r}),this.canvas.removeEventListener("pointerdown",x(this,Hf)),this.isEditing=!0,x(this,Vf)||(z(this,Vf,!0),j(this,Ku,Up).call(this),this.thickness||(this.thickness=Rn._defaultThickness),this.color||(this.color=Rn._defaultColor||ln._defaultLineColor),this.opacity??(this.opacity=Rn._defaultOpacity)),this.currentPath.push([t,n]),z(this,Gf,!1),j(this,D3,iP).call(this),z(this,Xu,()=>{j(this,cC,OJ).call(this),x(this,Xu)&&window.requestAnimationFrame(x(this,Xu))}),window.requestAnimationFrame(x(this,Xu))},B3=new WeakSet,rP=function(t,n){const[r,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===r&&n===s)return;const o=this.currentPath;let a=x(this,uc);if(o.push([t,n]),z(this,Gf,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(t,n);return}o.length===3&&(z(this,uc,a=new Path2D),a.moveTo(...o[0])),j(this,uC,kJ).call(this,a,...o.at(-3),...o.at(-2),t,n)},aC=new WeakSet,BJ=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);x(this,uc).lineTo(...t)},lC=new WeakSet,FJ=function(t,n){z(this,Xu,null),t=Math.min(Math.max(t,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),j(this,B3,rP).call(this,t,n),j(this,aC,BJ).call(this);let r;if(this.currentPath.length!==1)r=j(this,hC,NJ).call(this);else{const c=[t,n];r=[[c,c.slice(),c.slice(),c]]}const s=x(this,uc),o=this.currentPath;this.currentPath=[],z(this,uc,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(r),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(j(this,k2,z5).call(this),j(this,N2,j5).call(this)),j(this,Kf,Z1).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},cC=new WeakSet,OJ=function(){if(!x(this,Gf))return;z(this,Gf,!1);const t=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),r=n.map(a=>a[0]),s=n.map(a=>a[1]);Math.min(...r)-t,Math.max(...r)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(x(this,uc)),o.restore()},uC=new WeakSet,kJ=function(t,n,r,s,o,a,l){const c=(n+s)/2,u=(r+o)/2,h=(s+a)/2,d=(o+l)/2;t.bezierCurveTo(c+2*(s-c)/3,u+2*(o-u)/3,h+2*(s-h)/3,d+2*(o-d)/3,h,d)},hC=new WeakSet,NJ=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const n=[];let r,[s,o]=t[0];for(r=1;r<t.length-2;r++){const[m,g]=t[r],[y,_]=t[r+1],v=(m+y)/2,A=(g+_)/2,S=[s+2*(m-s)/3,o+2*(g-o)/3],C=[v+2*(m-v)/3,A+2*(g-A)/3];n.push([[s,o],S,C,[v,A]]),[s,o]=[v,A]}const[a,l]=t[r],[c,u]=t[r+1],h=[s+2*(a-s)/3,o+2*(l-o)/3],d=[c+2*(a-c)/3,u+2*(l-u)/3];return n.push([[s,o],h,d,[c,u]]),n},dc=new WeakSet,Ed=function(){if(this.isEmpty()){j(this,U2,H5).call(this);return}j(this,D3,iP).call(this);const{canvas:t,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),j(this,U2,H5).call(this);for(const r of this.bezierPath2D)n.stroke(r)},F3=new WeakSet,sP=function(t){this.canvas.removeEventListener("pointerleave",x(this,I3)),this.canvas.removeEventListener("pointermove",x(this,P3)),this.canvas.removeEventListener("pointerup",x(this,L3)),this.canvas.addEventListener("pointerdown",x(this,Hf),{signal:this._uiManager._signal}),x(this,Qa)&&clearTimeout(x(this,Qa)),z(this,Qa,setTimeout(()=>{z(this,Qa,null),this.canvas.removeEventListener("contextmenu",gs)},10)),j(this,lC,FJ).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},k2=new WeakSet,z5=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},N2=new WeakSet,j5=function(){z(this,hc,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),x(this,hc).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=x(this,hc))==null||t.disconnect(),z(this,hc,null)},{once:!0})},Ku=new WeakSet,Up=function(){if(!x(this,Vf))return;const[t,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*n),j(this,U2,H5).call(this)},O3=new WeakSet,oP=function(t,n){const r=j(this,z2,G5).call(this),s=(t-r)/x(this,jf),o=(n-r)/x(this,zf);this.scaleFactor=Math.min(s,o)},U2=new WeakSet,H5=function(){const t=j(this,z2,G5).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},dC=new WeakSet,UJ=function(t){const n=new Path2D;for(let r=0,s=t.length;r<s;r++){const[o,a,l,c]=t[r];r===0&&n.moveTo(...o),n.bezierCurveTo(a[0],a[1],l[0],l[1],c[0],c[1])}return n},k3=new WeakSet,aP=function(t,n,r){const[s,o,a,l]=n;switch(r){case 0:for(let c=0,u=t.length;c<u;c+=2)t[c]+=s,t[c+1]=l-t[c+1];break;case 90:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=t[c+1]+s,t[c+1]=h+o}break;case 180:for(let c=0,u=t.length;c<u;c+=2)t[c]=a-t[c],t[c+1]+=o;break;case 270:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=a-t[c+1],t[c+1]=l-h}break;default:throw new Error("Invalid rotation")}return t},fC=new WeakSet,zJ=function(t,n,r){const[s,o,a,l]=n;switch(r){case 0:for(let c=0,u=t.length;c<u;c+=2)t[c]-=s,t[c+1]=l-t[c+1];break;case 90:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=t[c+1]-o,t[c+1]=h-s}break;case 180:for(let c=0,u=t.length;c<u;c+=2)t[c]=a-t[c],t[c+1]-=o;break;case 270:for(let c=0,u=t.length;c<u;c+=2){const h=t[c];t[c]=l-t[c+1],t[c+1]=a-h}break;default:throw new Error("Invalid rotation")}return t},pC=new WeakSet,jJ=function(t,n,r,s){var u,h;const o=[],a=this.thickness/2,l=t*n+a,c=t*r+a;for(const d of this.paths){const m=[],g=[];for(let y=0,_=d.length;y<_;y++){const[v,A,S,C]=d[y];if(v[0]===C[0]&&v[1]===C[1]&&_===1){const X=t*v[0]+l,Z=t*v[1]+c;m.push(X,Z),g.push(X,Z);break}const T=t*v[0]+l,E=t*v[1]+c,R=t*A[0]+l,D=t*A[1]+c,I=t*S[0]+l,L=t*S[1]+c,O=t*C[0]+l,W=t*C[1]+c;y===0&&(m.push(T,E),g.push(T,E)),m.push(R,D,I,L,O,W),g.push(R,D),y===_-1&&g.push(O,W)}o.push({bezier:j(u=Rn,k3,aP).call(u,m,s,this.rotation),points:j(h=Rn,k3,aP).call(h,g,s,this.rotation)})}return o},N3=new WeakSet,lP=function(){let t=1/0,n=-1/0,r=1/0,s=-1/0;for(const o of this.paths)for(const[a,l,c,u]of o){const h=lt.bezierBoundingBox(...a,...l,...c,...u);t=Math.min(t,h[0]),r=Math.min(r,h[1]),n=Math.max(n,h[2]),s=Math.max(s,h[3])}return[t,r,n,s]},z2=new WeakSet,G5=function(){return x(this,wo)?Math.ceil(this.thickness*this.parentScale):0},Kf=new WeakSet,Z1=function(t=!1){if(this.isEmpty())return;if(!x(this,wo)){j(this,dc,Ed).call(this);return}const n=j(this,N3,lP).call(this),r=j(this,z2,G5).call(this);z(this,jf,Math.max(ln.MIN_SIZE,n[2]-n[0])),z(this,zf,Math.max(ln.MIN_SIZE,n[3]-n[1]));const s=Math.ceil(r+x(this,jf)*this.scaleFactor),o=Math.ceil(r+x(this,zf)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=s/a,this.height=o/l,this.setAspectRatio(s,o);const c=this.translationX,u=this.translationY;this.translationX=-n[0],this.translationY=-n[1],j(this,Ku,Up).call(this),j(this,dc,Ed).call(this),z(this,Wf,s),z(this,Xf,o),this.setDims(s,o);const h=t?r/this.scaleFactor/2:0;this.translate(c-this.translationX-h,u-this.translationY-h)},F(Rn,dC),F(Rn,k3),F(Rn,fC),Rt(Rn,"_defaultColor",null),Rt(Rn,"_defaultOpacity",1),Rt(Rn,"_defaultThickness",1),Rt(Rn,"_type","ink"),Rt(Rn,"_editorType",Wt.INK);let nP=Rn;var rr,sr,Yu,fc,Ju,j2,$a,pc,el,da,U3,Yf,Q1,Jf,$1,H2,V5,z3,uP,mC,HJ,gC,GJ,j3,hP,G2,W5,vC,VJ;const Iv=class Iv extends ln{constructor(t){super({...t,name:"stampEditor"});F(this,Yf);F(this,Jf);F(this,H2);F(this,z3);F(this,mC);F(this,gC);F(this,j3);F(this,G2);F(this,vC);F(this,rr,null);F(this,sr,null);F(this,Yu,null);F(this,fc,null);F(this,Ju,null);F(this,j2,"");F(this,$a,null);F(this,pc,null);F(this,el,null);F(this,da,!1);F(this,U3,!1);z(this,fc,t.bitmapUrl),z(this,Ju,t.bitmapFile)}static initialize(t,n){ln.initialize(t,n)}static get supportedTypes(){return Jt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Jt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(Wt.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,n;x(this,sr)&&(z(this,rr,null),this._uiManager.imageManager.deleteId(x(this,sr)),(t=x(this,$a))==null||t.remove(),z(this,$a,null),(n=x(this,pc))==null||n.disconnect(),z(this,pc,null),x(this,el)&&(clearTimeout(x(this,el)),z(this,el,null))),super.remove()}rebuild(){if(!this.parent){x(this,sr)&&j(this,H2,V5).call(this);return}super.rebuild(),this.div!==null&&(x(this,sr)&&x(this,$a)===null&&j(this,H2,V5).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(x(this,Yu)||x(this,rr)||x(this,fc)||x(this,Ju)||x(this,sr))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),x(this,rr)?j(this,z3,uP).call(this):j(this,H2,V5).call(this),this.width){const[r,s]=this.parentDimensions;this.setAt(t*r,n*s,this.width*r,this.height*s)}return this.div}getImageForAltText(){return x(this,$a)}static deserialize(t,n,r){if(t instanceof aJ)return null;const s=super.deserialize(t,n,r),{rect:o,bitmapUrl:a,bitmapId:l,isSvg:c,accessibilityData:u}=t;l&&r.imageManager.isValidId(l)?z(s,sr,l):z(s,fc,a),z(s,da,c);const[h,d]=s.pageDimensions;return s.width=(o[2]-o[0])/h,s.height=(o[3]-o[1])/d,u&&(s.altTextData=u),s}serialize(t=!1,n=null){if(this.isEmpty())return null;const r={annotationType:Wt.STAMP,bitmapId:x(this,sr),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:x(this,da),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=j(this,G2,W5).call(this,!0),r.accessibilityData=this.altTextData,r;const{decorative:s,altText:o}=this.altTextData;if(!s&&o&&(r.accessibilityData={type:"Figure",alt:o}),n===null)return r;n.stamps||(n.stamps=new Map);const a=x(this,da)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(x(this,sr)))n.stamps.set(x(this,sr),{area:a,serialized:r}),r.bitmap=j(this,G2,W5).call(this,!1);else if(x(this,da)){const l=n.stamps.get(x(this,sr));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=j(this,G2,W5).call(this,!1))}return r}};rr=new WeakMap,sr=new WeakMap,Yu=new WeakMap,fc=new WeakMap,Ju=new WeakMap,j2=new WeakMap,$a=new WeakMap,pc=new WeakMap,el=new WeakMap,da=new WeakMap,U3=new WeakMap,Yf=new WeakSet,Q1=function(t,n=!1){if(!t){this.remove();return}z(this,rr,t.bitmap),n||(z(this,sr,t.id),z(this,da,t.isSvg)),t.file&&z(this,j2,t.file.name),j(this,z3,uP).call(this)},Jf=new WeakSet,$1=function(){z(this,Yu,null),this._uiManager.enableWaiting(!1),x(this,$a)&&this.div.focus()},H2=new WeakSet,V5=function(){if(x(this,sr)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(x(this,sr)).then(r=>j(this,Yf,Q1).call(this,r,!0)).finally(()=>j(this,Jf,$1).call(this));return}if(x(this,fc)){const r=x(this,fc);z(this,fc,null),this._uiManager.enableWaiting(!0),z(this,Yu,this._uiManager.imageManager.getFromUrl(r).then(s=>j(this,Yf,Q1).call(this,s)).finally(()=>j(this,Jf,$1).call(this)));return}if(x(this,Ju)){const r=x(this,Ju);z(this,Ju,null),this._uiManager.enableWaiting(!0),z(this,Yu,this._uiManager.imageManager.getFromFile(r).then(s=>j(this,Yf,Q1).call(this,s)).finally(()=>j(this,Jf,$1).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Iv.supportedTypesStr;const n=this._uiManager._signal;z(this,Yu,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);j(this,Yf,Q1).call(this,s)}r()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>j(this,Jf,$1).call(this))),t.click()},z3=new WeakSet,uP=function(){const{div:t}=this;let{width:n,height:r}=x(this,rr);const[s,o]=this.pageDimensions,a=.75;if(this.width)n=this.width*s,r=this.height*o;else if(n>a*s||r>a*o){const h=Math.min(a*s/n,a*o/r);n*=h,r*=h}const[l,c]=this.parentDimensions;this.setDims(n*l/s,r*c/o),this._uiManager.enableWaiting(!1);const u=z(this,$a,document.createElement("canvas"));t.append(u),t.hidden=!1,j(this,j3,hP).call(this,n,r),j(this,vC,VJ).call(this),x(this,U3)||(this.parent.addUndoableEditor(this),z(this,U3,!0)),this._reportTelemetry({action:"inserted_image"}),x(this,j2)&&u.setAttribute("aria-label",x(this,j2))},mC=new WeakSet,HJ=function(t,n){var a;const[r,s]=this.parentDimensions;this.width=t/r,this.height=n/s,this.setDims(t,n),(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,x(this,el)!==null&&clearTimeout(x(this,el)),z(this,el,setTimeout(()=>{z(this,el,null),j(this,j3,hP).call(this,t,n)},200))},gC=new WeakSet,GJ=function(t,n){const{width:r,height:s}=x(this,rr);let o=r,a=s,l=x(this,rr);for(;o>2*t||a>2*n;){const c=o,u=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*n&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(o,a);h.getContext("2d").drawImage(l,0,0,c,u,0,0,o,a),l=h.transferToImageBitmap()}return l},j3=new WeakSet,hP=function(t,n){t=Math.ceil(t),n=Math.ceil(n);const r=x(this,$a);if(!r||r.width===t&&r.height===n)return;r.width=t,r.height=n;const s=x(this,da)?x(this,rr):j(this,gC,GJ).call(this,t,n);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(t,n).getContext("2d");l.drawImage(s,0,0,s.width,s.height,0,0,t,n),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,t,n).data,width:t,height:n,channels:4}}).then(c=>{const u=(c==null?void 0:c.output)||"";this.parent&&u&&!this.hasAltText()&&(this.altTextData={altText:u,decorative:!1})})}const o=r.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(s,0,0,s.width,s.height,0,0,t,n)},G2=new WeakSet,W5=function(t){if(t){if(x(this,da)){const s=this._uiManager.imageManager.getSvgUrl(x(this,sr));if(s)return s}const n=document.createElement("canvas");return{width:n.width,height:n.height}=x(this,rr),n.getContext("2d").drawImage(x(this,rr),0,0),n.toDataURL()}if(x(this,da)){const[n,r]=this.pageDimensions,s=Math.round(this.width*n*Rh.PDF_TO_CSS_UNITS),o=Math.round(this.height*r*Rh.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(x(this,rr),0,0,x(this,rr).width,x(this,rr).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(x(this,rr))},vC=new WeakSet,VJ=function(){this._uiManager._signal&&(z(this,pc,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&j(this,mC,HJ).call(this,n.width,n.height)})),x(this,pc).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=x(this,pc))==null||t.disconnect(),z(this,pc,null)},{once:!0}))},Rt(Iv,"_type","stamp"),Rt(Iv,"_editorType",Wt.STAMP);let cP=Iv;var qf,V2,tl,Zf,mc,gc,vc,Us,qu,W2,X2,Vr,dt,Zu,yC,WJ,H3,fP,G3,pP,V3,mP,K2,X5;const Jo=class Jo{constructor({uiManager:e,pageIndex:t,div:n,accessibilityManager:r,annotationLayer:s,drawLayer:o,textLayer:a,viewport:l,l10n:c}){F(this,yC);F(this,H3);F(this,G3);F(this,V3);F(this,K2);F(this,qf,void 0);F(this,V2,!1);F(this,tl,null);F(this,Zf,null);F(this,mc,null);F(this,gc,null);F(this,vc,null);F(this,Us,new Map);F(this,qu,!1);F(this,W2,!1);F(this,X2,!1);F(this,Vr,null);F(this,dt,void 0);const u=[...x(Jo,Zu).values()];if(!Jo._initialized){Jo._initialized=!0;for(const h of u)h.initialize(c,e)}e.registerEditorTypes(u),z(this,dt,e),this.pageIndex=t,this.div=n,z(this,qf,r),z(this,tl,s),this.viewport=l,z(this,Vr,a),this.drawLayer=o,x(this,dt).addLayer(this)}get isEmpty(){return x(this,Us).size===0}get isInvisible(){return this.isEmpty&&x(this,dt).getMode()===Wt.NONE}updateToolbar(e){x(this,dt).updateToolbar(e)}updateMode(e=x(this,dt).getMode()){switch(j(this,K2,X5).call(this),e){case Wt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Wt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Wt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of x(Jo,Zu).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=x(this,Vr))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(x(this,dt).getMode()!==Wt.INK)return;if(!e){for(const n of x(this,Us).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){x(this,dt).setEditingState(e)}addCommands(e){x(this,dt).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=x(this,tl))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of x(this,Us).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(x(this,dt).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!x(this,tl))return;const t=x(this,tl).getEditableAnnotations();for(const n of t){if(n.hide(),x(this,dt).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const r=this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;z(this,X2,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of x(this,Us).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(r=this.getEditableAnnotation(s.annotationElementId))==null||r.show(),s.remove()}if(x(this,tl)){const s=x(this,tl).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(x(this,dt).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(x(this,dt).addChangedExistingAnnotation(l),l.renderAnnotationElement(o),l.show(!1)),o.show()}}j(this,K2,X5).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const s of x(Jo,Zu).values())n.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),z(this,X2,!1)}getEditableAnnotation(e){var t;return((t=x(this,tl))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){x(this,dt).getActive()!==e&&x(this,dt).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=x(this,Vr))!=null&&e.div&&!x(this,gc)&&(z(this,gc,j(this,yC,WJ).bind(this)),x(this,Vr).div.addEventListener("pointerdown",x(this,gc),{signal:x(this,dt)._signal}),x(this,Vr).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=x(this,Vr))!=null&&e.div&&x(this,gc)&&(x(this,Vr).div.removeEventListener("pointerdown",x(this,gc)),z(this,gc,null),x(this,Vr).div.classList.remove("highlighting"))}enableClick(){if(x(this,mc))return;const e=x(this,dt)._signal;z(this,mc,this.pointerdown.bind(this)),z(this,Zf,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",x(this,mc),{signal:e}),this.div.addEventListener("pointerup",x(this,Zf),{signal:e})}disableClick(){x(this,mc)&&(this.div.removeEventListener("pointerdown",x(this,mc)),this.div.removeEventListener("pointerup",x(this,Zf)),z(this,mc,null),z(this,Zf,null))}attach(e){x(this,Us).set(e.id,e);const{annotationElementId:t}=e;t&&x(this,dt).isDeletedAnnotationElement(t)&&x(this,dt).removeDeletedAnnotationElement(e)}detach(e){var t;x(this,Us).delete(e.id),(t=x(this,qf))==null||t.removePointerInTextLayer(e.contentDiv),!x(this,X2)&&e.annotationElementId&&x(this,dt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),x(this,dt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,x(this,W2)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(x(this,dt).addDeletedAnnotationElement(e.annotationElementId),ln.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),x(this,dt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),x(this,dt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!x(this,vc)&&(e._focusEventsAllowed=!1,z(this,vc,setTimeout(()=>{z(this,vc,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:x(this,dt)._signal}),t.focus())},0))),e._structTreeParentId=(n=x(this,qf))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return x(this,dt).getId()}get _signal(){return x(this,dt)._signal}canCreateNewEmptyEditor(){var e;return(e=x(this,H3,fP))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){x(this,dt).updateToolbar(e),x(this,dt).updateMode(e);const{offsetX:n,offsetY:r}=j(this,V3,mP).call(this),s=this.getNextId(),o=j(this,G3,pP).call(this,{parent:this,id:s,x:n,y:r,uiManager:x(this,dt),isCentered:!0,...t});o&&this.add(o)}deserialize(e){var t;return((t=x(Jo,Zu).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,x(this,dt)))||null}createAndAddNewEditor(e,t,n={}){const r=this.getNextId(),s=j(this,G3,pP).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:x(this,dt),isCentered:t,...n});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(j(this,V3,mP).call(this),!0)}setSelected(e){x(this,dt).setSelected(e)}toggleSelected(e){x(this,dt).toggleSelected(e)}isSelected(e){return x(this,dt).isSelected(e)}unselect(e){x(this,dt).unselect(e)}pointerup(e){const{isMac:t}=ds.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&x(this,qu)){if(z(this,qu,!1),!x(this,V2)){z(this,V2,!0);return}if(x(this,dt).getMode()===Wt.STAMP){x(this,dt).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(x(this,dt).getMode()===Wt.HIGHLIGHT&&this.enableTextSelection(),x(this,qu)){z(this,qu,!1);return}const{isMac:t}=ds.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;z(this,qu,!0);const n=x(this,dt).getActive();z(this,V2,!n||n.isEmpty())}findNewParent(e,t,n){const r=x(this,dt).findParent(t,n);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,t;((e=x(this,dt).getActive())==null?void 0:e.parent)===this&&(x(this,dt).commitOrRemove(),x(this,dt).setActiveEditor(null)),x(this,vc)&&(clearTimeout(x(this,vc)),z(this,vc,null));for(const n of x(this,Us).values())(t=x(this,qf))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,x(this,Us).clear(),x(this,dt).removeLayer(this)}render({viewport:e}){this.viewport=e,w0(this.div,e);for(const t of x(this,dt).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){x(this,dt).commitOrRemove(),j(this,K2,X5).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,w0(this.div,{rotation:n}),t!==n)for(const r of x(this,Us).values())r.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return x(this,dt).viewParameters.realScale}};qf=new WeakMap,V2=new WeakMap,tl=new WeakMap,Zf=new WeakMap,mc=new WeakMap,gc=new WeakMap,vc=new WeakMap,Us=new WeakMap,qu=new WeakMap,W2=new WeakMap,X2=new WeakMap,Vr=new WeakMap,dt=new WeakMap,Zu=new WeakMap,yC=new WeakSet,WJ=function(e){if(x(this,dt).unselectAll(),e.target===x(this,Vr).div){const{isMac:t}=ds.platform;if(e.button!==0||e.ctrlKey&&t)return;x(this,dt).showAllEditors("highlight",!0,!0),x(this,Vr).div.classList.add("free"),_b.startHighlighting(this,x(this,dt).direction==="ltr",e),x(this,Vr).div.addEventListener("pointerup",()=>{x(this,Vr).div.classList.remove("free")},{once:!0,signal:x(this,dt)._signal}),e.preventDefault()}},H3=new WeakSet,fP=function(){return x(Jo,Zu).get(x(this,dt).getMode())},G3=new WeakSet,pP=function(e){const t=x(this,H3,fP);return t?new t.prototype.constructor(e):null},V3=new WeakSet,mP=function(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+n),l=Math.min(window.innerHeight,t+r),c=(s+a)/2-e,u=(o+l)/2-t,[h,d]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:h,offsetY:d}},K2=new WeakSet,X5=function(){z(this,W2,!0);for(const e of x(this,Us).values())e.isEmpty()&&e.remove();z(this,W2,!1)},Rt(Jo,"_initialized",!1),F(Jo,Zu,new Map([WR,nP,cP,_b].map(e=>[e._editorType,e])));let dP=Jo;var nl,W3,Ci,Qu,X3,vP,K3,yP,_C,XJ;const Qi=class Qi{constructor({pageIndex:e}){F(this,K3);F(this,_C);F(this,nl,null);F(this,W3,0);F(this,Ci,new Map);F(this,Qu,new Map);this.pageIndex=e}setParent(e){if(!x(this,nl)){z(this,nl,e);return}if(x(this,nl)!==e){if(x(this,Ci).size>0)for(const t of x(this,Ci).values())t.remove(),e.append(t);z(this,nl,e)}}static get _svgFactory(){return Jt(this,"_svgFactory",new _L)}highlight(e,t,n,r=!1){const s=Es(this,W3)._++,o=j(this,K3,yP).call(this,e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");const a=Qi._svgFactory.createElement("defs");o.append(a);const l=Qi._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),r&&x(this,Qu).set(s,l);const u=j(this,_C,XJ).call(this,a,c),h=Qi._svgFactory.createElement("use");return o.append(h),o.setAttribute("fill",t),o.setAttribute("fill-opacity",n),h.setAttribute("href",`#${c}`),x(this,Ci).set(s,o),{id:s,clipPathId:`url(#${u})`}}highlightOutline(e){const t=Es(this,W3)._++,n=j(this,K3,yP).call(this,e.box);n.classList.add("highlightOutline");const r=Qi._svgFactory.createElement("defs");n.append(r);const s=Qi._svgFactory.createElement("path");r.append(s);const o=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){n.classList.add("free");const u=Qi._svgFactory.createElement("mask");r.append(u),a=`mask_p${this.pageIndex}_${t}`,u.setAttribute("id",a),u.setAttribute("maskUnits","objectBoundingBox");const h=Qi._svgFactory.createElement("rect");u.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const d=Qi._svgFactory.createElement("use");u.append(d),d.setAttribute("href",`#${o}`),d.setAttribute("stroke","none"),d.setAttribute("fill","black"),d.setAttribute("fill-rule","nonzero"),d.classList.add("mask")}const l=Qi._svgFactory.createElement("use");n.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const c=l.cloneNode();return n.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),x(this,Ci).set(t,n),t}finalizeLine(e,t){const n=x(this,Qu).get(e);x(this,Qu).delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){x(this,Ci).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),x(this,Qu).delete(e)}updatePath(e,t){x(this,Qu).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var n;j(n=Qi,X3,vP).call(n,x(this,Ci).get(e),t)}show(e,t){x(this,Ci).get(e).classList.toggle("hidden",!t)}rotate(e,t){x(this,Ci).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){x(this,Ci).get(e).setAttribute("fill",t)}changeOpacity(e,t){x(this,Ci).get(e).setAttribute("fill-opacity",t)}addClass(e,t){x(this,Ci).get(e).classList.add(t)}removeClass(e,t){x(this,Ci).get(e).classList.remove(t)}remove(e){x(this,nl)!==null&&(x(this,Ci).get(e).remove(),x(this,Ci).delete(e))}destroy(){z(this,nl,null);for(const e of x(this,Ci).values())e.remove();x(this,Ci).clear()}};nl=new WeakMap,W3=new WeakMap,Ci=new WeakMap,Qu=new WeakMap,X3=new WeakSet,vP=function(e,{x:t=0,y:n=0,width:r=1,height:s=1}={}){const{style:o}=e;o.top=`${100*n}%`,o.left=`${100*t}%`,o.width=`${100*r}%`,o.height=`${100*s}%`},K3=new WeakSet,yP=function(e){var n;const t=Qi._svgFactory.create(1,1,!0);return x(this,nl).append(t),t.setAttribute("aria-hidden",!0),j(n=Qi,X3,vP).call(n,t,e),t},_C=new WeakSet,XJ=function(e,t){const n=Qi._svgFactory.createElement("clipPath");e.append(n);const r=`clip_${t}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const s=Qi._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r},F(Qi,X3);let gP=Qi;var _ve=bt.AbortException,xve=bt.AnnotationEditorLayer,Ave=bt.AnnotationEditorParamsType,Sve=bt.AnnotationEditorType,wve=bt.AnnotationEditorUIManager,KJ=bt.AnnotationLayer,YJ=bt.AnnotationMode,bve=bt.CMapCompressionType,Cve=bt.ColorPicker,Mve=bt.DOMSVGFactory,Eve=bt.DrawLayer,Tve=bt.FeatureTest,EL=bt.GlobalWorkerOptions,Rve=bt.ImageKind,Pve=bt.InvalidPDFException,Ive=bt.MissingPDFException,Lve=bt.OPS,Dve=bt.Outliner,Bve=bt.PDFDataRangeTransport,Fve=bt.PDFDateString,Ove=bt.PDFWorker,kve=bt.PasswordResponses,Nve=bt.PermissionFlag,Uve=bt.PixelsPerInch,zve=bt.RenderingCancelledException,JJ=bt.TextLayer,jve=bt.UnexpectedResponseException,Hve=bt.Util,Gve=bt.VerbosityLevel,Vve=bt.XfaLayer,Wve=bt.build,Xve=bt.createValidAbsoluteUrl,Kve=bt.fetchData,qJ=bt.getDocument,Yve=bt.getFilenameFromUrl,Jve=bt.getPdfFilenameFromUrl,qve=bt.getXfaPageViewport,Zve=bt.isDataScheme,Qve=bt.isPdfFile,$ve=bt.noContextMenu,eye=bt.normalizeUnicode,tye=bt.renderTextLayer,nye=bt.setLayerDimensions,iye=bt.shadow,rye=bt.updateTextLayer,sye=bt.version;const oye=Object.freeze(Object.defineProperty({__proto__:null,AbortException:_ve,AnnotationEditorLayer:xve,AnnotationEditorParamsType:Ave,AnnotationEditorType:Sve,AnnotationEditorUIManager:wve,AnnotationLayer:KJ,AnnotationMode:YJ,CMapCompressionType:bve,ColorPicker:Cve,DOMSVGFactory:Mve,DrawLayer:Eve,FeatureTest:Tve,GlobalWorkerOptions:EL,ImageKind:Rve,InvalidPDFException:Pve,MissingPDFException:Ive,OPS:Lve,Outliner:Dve,PDFDataRangeTransport:Bve,PDFDateString:Fve,PDFWorker:Ove,PasswordResponses:kve,PermissionFlag:Nve,PixelsPerInch:Uve,RenderingCancelledException:zve,TextLayer:JJ,UnexpectedResponseException:jve,Util:Hve,VerbosityLevel:Gve,XfaLayer:Vve,build:Wve,createValidAbsoluteUrl:Xve,fetchData:Kve,getDocument:qJ,getFilenameFromUrl:Yve,getPdfFilenameFromUrl:Jve,getXfaPageViewport:qve,isDataScheme:Zve,isPdfFile:Qve,noContextMenu:$ve,normalizeUnicode:eye,renderTextLayer:tye,setLayerDimensions:nye,shadow:iye,updateTextLayer:rye,version:sye},Symbol.toStringTag,{value:"Module"}));var Ui=function(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,s;n<r;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return i.concat(s||Array.prototype.slice.call(e))},aye=["onCopy","onCut","onPaste"],lye=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],cye=["onFocus","onBlur"],uye=["onInput","onInvalid","onReset","onSubmit"],hye=["onLoad","onError"],dye=["onKeyDown","onKeyPress","onKeyUp"],fye=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],pye=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],mye=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],gye=["onSelect"],vye=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],yye=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],_ye=["onScroll"],xye=["onWheel"],Aye=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Sye=["onTransitionEnd"],wye=["onToggle"],bye=["onChange"],Cye=Ui(Ui(Ui(Ui(Ui(Ui(Ui(Ui(Ui(Ui(Ui(Ui(Ui(Ui(Ui(Ui(Ui(Ui([],aye,!0),lye,!0),cye,!0),uye,!0),hye,!0),dye,!0),fye,!0),pye,!0),mye,!0),gye,!0),vye,!0),yye,!0),_ye,!0),xye,!0),Aye,!0),Sye,!0),bye,!0),wye,!0);function ZJ(i,e){var t={};return Cye.forEach(function(n){var r=i[n];r&&(e?t[n]=function(s){return r(s,e(n))}:t[n]=r)}),t}function Mx(i){var e=!1,t=new Promise(function(n,r){i.then(function(s){return!e&&n(s)}).catch(function(s){return!e&&r(s)})});return{promise:t,cancel:function(){e=!0}}}function QJ(i){var e,t,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var r=i.length;for(e=0;e<r;e++)i[e]&&(t=QJ(i[e]))&&(n&&(n+=" "),n+=t)}else for(t in i)i[t]&&(n&&(n+=" "),n+=t);return n}function OM(){for(var i,e,t=0,n="",r=arguments.length;t<r;t++)(i=arguments[t])&&(e=QJ(i))&&(n&&(n+=" "),n+=e);return n}var Mye="Invariant failed";function yn(i,e){if(!i)throw new Error(Mye)}var Eye=function(){},Tye=Eye;const Er=R0(Tye);var iz=Object.prototype.hasOwnProperty;function rz(i,e,t){for(t of i.keys())if(bm(t,e))return t}function bm(i,e){var t,n,r;if(i===e)return!0;if(i&&e&&(t=i.constructor)===e.constructor){if(t===Date)return i.getTime()===e.getTime();if(t===RegExp)return i.toString()===e.toString();if(t===Array){if((n=i.length)===e.length)for(;n--&&bm(i[n],e[n]););return n===-1}if(t===Set){if(i.size!==e.size)return!1;for(n of i)if(r=n,r&&typeof r=="object"&&(r=rz(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(i.size!==e.size)return!1;for(n of i)if(r=n[0],r&&typeof r=="object"&&(r=rz(e,r),!r)||!bm(n[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)i=new Uint8Array(i),e=new Uint8Array(e);else if(t===DataView){if((n=i.byteLength)===e.byteLength)for(;n--&&i.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(i)){if((n=i.byteLength)===e.byteLength)for(;n--&&i[n]===e[n];);return n===-1}if(!t||typeof i=="object"){n=0;for(t in i)if(iz.call(i,t)&&++n&&!iz.call(e,t)||!(t in e)||!bm(i[t],e[t]))return!1;return Object.keys(e).length===n}}return i!==i&&e!==e}const $J=U.createContext(null);function Cm({children:i,type:e}){return w.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:i})}const Rye="noopener noreferrer nofollow";class Pye{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return yn(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){yn(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{yn(this.pdfDocument),yn(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{yn(Array.isArray(t));const n=t[0];new Promise(r=>{yn(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(s=>{r(s)}).catch(()=>{yn(!1)}):typeof n=="number"?r(n):yn(!1)}).then(r=>{const s=r+1;yn(this.pdfViewer),yn(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;yn(this.pdfViewer),yn(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||Rye,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const sz={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},kM=typeof document<"u",eq=kM&&window.location.protocol==="file:";function Iye(i){return typeof i<"u"}function dd(i){return Iye(i)&&i!==null}function Lye(i){return typeof i=="string"}function Dye(i){return i instanceof ArrayBuffer}function Bye(i){return yn(kM),i instanceof Blob}function _P(i){return Lye(i)&&/^data:/.test(i)}function oz(i){yn(_P(i));const[e="",t=""]=i.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function Fye(){return kM&&window.devicePixelRatio||1}const tq="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function az(){Er(!eq,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${tq}`)}function Oye(){Er(!eq,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${tq}`)}function M0(i){i!=null&&i.cancel&&i.cancel()}function xP(i,e){return Object.defineProperty(i,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.view[3]},configurable:!0}),i}function kye(i){return i.name==="RenderingCancelledException"}function Nye(i){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:s}=r.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(i)})}function Uye(i,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function dg(){return U.useReducer(Uye,{value:void 0,error:void 0})}var zye=function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((n=n.apply(i,e||[])).next())})},lz=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const{PDFDataRangeTransport:jye}=oye,Hye=(i,e)=>{switch(e){case sz.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");i(t);break}case sz.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");i(t);break}}};function cz(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const Gye=U.forwardRef(function(e,t){var{children:n,className:r,error:s="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:a,file:l,inputRef:c,imageResourcesPath:u,loading:h="Loading PDF…",noData:d="No PDF file specified.",onItemClick:m,onLoadError:g,onLoadProgress:y,onLoadSuccess:_,onPassword:v=Hye,onSourceError:A,onSourceSuccess:S,options:C,renderMode:T,rotate:E}=e,R=lz(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[D,I]=dg(),{value:L,error:O}=D,[W,X]=dg(),{value:Z,error:$}=W,Q=U.useRef(new Pye),ee=U.useRef([]),k=U.useRef(void 0),q=U.useRef(void 0);l&&l!==k.current&&cz(l)&&(Er(!bm(l,k.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),k.current=l),C&&C!==q.current&&(Er(!bm(C,q.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),q.current=C);const K=U.useRef({scrollPageIntoView:me=>{const{dest:Ae,pageNumber:Ie,pageIndex:ge=Ie-1}=me;if(m){m({dest:Ae,pageIndex:ge,pageNumber:Ie});return}const Je=ee.current[ge];if(Je){Je.scrollIntoView();return}Er(!1,`An internal link leading to page ${Ie} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});U.useImperativeHandle(t,()=>({linkService:Q,pages:ee,viewer:K}),[]);function ne(){S&&S()}function le(){O&&(Er(!1,O.toString()),A&&A(O))}function ye(){I({type:"RESET"})}U.useEffect(ye,[l,I]);const re=U.useCallback(()=>zye(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return _P(l)?{data:oz(l)}:(az(),{url:l});if(l instanceof jye)return{range:l};if(Dye(l))return{data:l};if(kM&&Bye(l))return{data:yield Nye(l)};if(yn(typeof l=="object"),yn(cz(l)),"url"in l&&typeof l.url=="string"){if(_P(l.url)){const{url:me}=l,Ae=lz(l,["url"]),Ie=oz(me);return Object.assign({data:Ie},Ae)}az()}return l}),[l]);U.useEffect(()=>{const me=Mx(re());return me.promise.then(Ae=>{I({type:"RESOLVE",value:Ae})}).catch(Ae=>{I({type:"REJECT",error:Ae})}),()=>{M0(me)}},[re,I]),U.useEffect(()=>{if(!(typeof L>"u")){if(L===!1){le();return}ne()}},[L]);function pe(){Z&&(_&&_(Z),ee.current=new Array(Z.numPages),Q.current.setDocument(Z))}function Me(){$&&(Er(!1,$.toString()),g&&g($))}U.useEffect(function(){X({type:"RESET"})},[X,L]),U.useEffect(function(){if(!L)return;const Ae=Object.assign(Object.assign({},L),C),Ie=qJ(Ae);y&&(Ie.onProgress=y),v&&(Ie.onPassword=v);const ge=Ie;return ge.promise.then(Je=>{X({type:"RESOLVE",value:Je})}).catch(Je=>{ge.destroyed||X({type:"REJECT",error:Je})}),()=>{ge.destroy()}},[C,X,L]),U.useEffect(()=>{if(!(typeof Z>"u")){if(Z===!1){Me();return}pe()}},[Z]),U.useEffect(function(){Q.current.setViewer(K.current),Q.current.setExternalLinkRel(o),Q.current.setExternalLinkTarget(a)},[o,a]);const xe=U.useCallback((me,Ae)=>{ee.current[me]=Ae},[]),We=U.useCallback(me=>{delete ee.current[me]},[]),rt=U.useMemo(()=>({imageResourcesPath:u,linkService:Q.current,onItemClick:m,pdf:Z,registerPage:xe,renderMode:T,rotate:E,unregisterPage:We}),[u,m,Z,xe,T,E,We]),Be=U.useMemo(()=>ZJ(R,()=>Z),[R,Z]);function He(){return w.jsx($J.Provider,{value:rt,children:n})}function G(){return l?Z==null?w.jsx(Cm,{type:"loading",children:typeof h=="function"?h():h}):Z===!1?w.jsx(Cm,{type:"error",children:typeof s=="function"?s():s}):He():w.jsx(Cm,{type:"no-data",children:typeof d=="function"?d():d})}return w.jsx("div",Object.assign({className:OM("react-pdf__Document",r),ref:c,style:{"--scale-factor":"1"}},Be,{children:G()}))});function nq(){return U.useContext($J)}function iq(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var t=i.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(s){t.forEach(function(o){typeof o=="function"?o(s):o&&(o.current=s)})}}const rq=U.createContext(null),sq={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Vye=/^H(\d+)$/;function Wye(i){return i in sq}function NM(i){return"children"in i}function oq(i){return NM(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function Xye(i){const e={};if(NM(i)){const{role:t}=i,n=t.match(Vye);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(Wye(t)){const r=sq[t];r&&(e.role=r)}}return e}function aq(i){const e={};if(NM(i)){if(i.alt!==void 0&&(e["aria-label"]=i.alt),i.lang!==void 0&&(e.lang=i.lang),oq(i)){const[t]=i.children;if(t){const n=aq(t);return Object.assign(Object.assign({},e),n)}}}else"id"in i&&(e["aria-owns"]=i.id);return e}function Kye(i){return i?Object.assign(Object.assign({},Xye(i)),aq(i)):null}function lq({className:i,node:e}){const t=U.useMemo(()=>Kye(e),[e]),n=U.useMemo(()=>!NM(e)||oq(e)?null:e.children.map((r,s)=>w.jsx(lq,{node:r},s)),[e]);return w.jsx("span",Object.assign({className:i},t,{children:n}))}function UM(){return U.useContext(rq)}function Yye(){const i=UM();yn(i);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=i,[n,r]=dg(),{value:s,error:o}=n,{customTextRenderer:a,page:l}=i;function c(){s&&t&&t(s)}function u(){o&&(Er(!1,o.toString()),e&&e(o))}return U.useEffect(function(){r({type:"RESET"})},[r,l]),U.useEffect(function(){if(a||!l)return;const d=Mx(l.getStructTree()),m=d;return d.promise.then(g=>{r({type:"RESOLVE",value:g})}).catch(g=>{r({type:"REJECT",error:g})}),()=>M0(m)},[a,l,r]),U.useEffect(()=>{if(s!==void 0){if(s===!1){u();return}c()}},[s]),s?w.jsx(lq,{className:"react-pdf__Page__structTree structTree",node:s}):null}const uz=YJ;function Jye(i){const e=UM();yn(e);const t=Object.assign(Object.assign({},e),i),{_className:n,canvasBackground:r,devicePixelRatio:s=Fye(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:c,renderTextLayer:u,rotate:h,scale:d}=t,{canvasRef:m}=i;yn(l);const g=U.useRef(null);function y(){l&&a&&a(xP(l,d))}function _(C){kye(C)||(Er(!1,C.toString()),o&&o(C))}const v=U.useMemo(()=>l.getViewport({scale:d*s,rotation:h}),[s,l,h,d]),A=U.useMemo(()=>l.getViewport({scale:d,rotation:h}),[l,h,d]);U.useEffect(function(){if(!l)return;l.cleanup();const{current:T}=g;if(!T)return;T.width=v.width,T.height=v.height,T.style.width=`${Math.floor(A.width)}px`,T.style.height=`${Math.floor(A.height)}px`,T.style.visibility="hidden";const E={annotationMode:c?uz.ENABLE_FORMS:uz.ENABLE,canvasContext:T.getContext("2d",{alpha:!1}),viewport:v};r&&(E.background=r);const R=l.render(E),D=R;return R.promise.then(()=>{T.style.visibility="",y()}).catch(_),()=>M0(D)},[r,l,c,v,A]);const S=U.useCallback(()=>{const{current:C}=g;C&&(C.width=0,C.height=0)},[]);return U.useEffect(()=>S,[S]),w.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:iq(m,g),style:{display:"block",userSelect:"none"},children:u?w.jsx(Yye,{}):null})}function qye(i){return"str"in i}function Zye(){const i=UM();yn(i);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:r,onRenderTextLayerSuccess:s,page:o,pageIndex:a,pageNumber:l,rotate:c,scale:u}=i;yn(o);const[h,d]=dg(),{value:m,error:g}=h,y=U.useRef(null),_=U.useRef(void 0);Er(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function v(){m&&n&&n(m)}function A(){g&&(Er(!1,g.toString()),t&&t(g))}U.useEffect(function(){d({type:"RESET"})},[o,d]),U.useEffect(function(){if(!o)return;const I=Mx(o.getTextContent()),L=I;return I.promise.then(O=>{d({type:"RESOLVE",value:O})}).catch(O=>{d({type:"REJECT",error:O})}),()=>M0(L)},[o,d]),U.useEffect(()=>{if(m!==void 0){if(m===!1){A();return}v()}},[m]);const S=U.useCallback(()=>{s&&s()},[s]),C=U.useCallback(D=>{Er(!1,D.toString()),r&&r(D)},[r]);function T(){const D=_.current;D&&D.classList.add("active")}function E(){const D=_.current;D&&D.classList.remove("active")}const R=U.useMemo(()=>o.getViewport({scale:u,rotation:c}),[o,c,u]);return U.useLayoutEffect(function(){if(!o||!m)return;const{current:I}=y;if(!I)return;I.innerHTML="";const L=o.streamTextContent({includeMarkedContent:!0}),O={container:I,textContentSource:L,viewport:R},W=new JJ(O),X=W;return W.render().then(()=>{const Z=document.createElement("div");Z.className="endOfContent",I.append(Z),_.current=Z;const $=I.querySelectorAll('[role="presentation"]');if(e){let Q=0;m.items.forEach((ee,k)=>{if(!qye(ee))return;const q=$[Q];if(!q)return;const K=e(Object.assign({pageIndex:a,pageNumber:l,itemIndex:k},ee));q.innerHTML=K,Q+=ee.str&&ee.hasEOL?2:1})}S()}).catch(C),()=>M0(X)},[e,C,S,o,a,l,m,R]),w.jsx("div",{className:OM("react-pdf__Page__textContent","textLayer"),onMouseUp:E,onMouseDown:T,ref:y})}function Qye(){const i=nq(),e=UM();yn(e);const t=Object.assign(Object.assign({},i),e),{imageResourcesPath:n,linkService:r,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:c,pdf:u,renderForms:h,rotate:d,scale:m=1}=t;yn(u),yn(c),yn(r);const[g,y]=dg(),{value:_,error:v}=g,A=U.useRef(null);Er(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function S(){_&&o&&o(_)}function C(){v&&(Er(!1,v.toString()),s&&s(v))}U.useEffect(function(){y({type:"RESET"})},[y,c]),U.useEffect(function(){if(!c)return;const I=Mx(c.getAnnotations()),L=I;return I.promise.then(O=>{y({type:"RESOLVE",value:O})}).catch(O=>{y({type:"REJECT",error:O})}),()=>{M0(L)}},[y,c]),U.useEffect(()=>{if(_!==void 0){if(_===!1){C();return}S()}},[_]);function T(){l&&l()}function E(D){Er(!1,`${D}`),a&&a(D)}const R=U.useMemo(()=>c.getViewport({scale:m,rotation:d}),[c,d,m]);return U.useEffect(function(){if(!u||!c||!r||!_)return;const{current:I}=A;if(!I)return;const L=R.clone({dontFlip:!0}),O={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:I,l10n:null,page:c,viewport:L},W={annotations:_,annotationStorage:u.annotationStorage,div:I,imageResourcesPath:n,linkService:r,page:c,renderForms:h,viewport:L};I.innerHTML="";try{new KJ(O).render(W),T()}catch(X){E(X)}return()=>{}},[_,n,r,c,u,h,R]),w.jsx("div",{className:OM("react-pdf__Page__annotations","annotationLayer"),ref:A})}var $ye=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const hz=1;function e_e(i){const e=nq(),t=Object.assign(Object.assign({},e),i),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:s,canvasRef:o,children:a,className:l,customRenderer:c,customTextRenderer:u,devicePixelRatio:h,error:d="Failed to load the page.",height:m,inputRef:g,loading:y="Loading page…",noData:_="No page specified.",onGetAnnotationsError:v,onGetAnnotationsSuccess:A,onGetStructTreeError:S,onGetStructTreeSuccess:C,onGetTextError:T,onGetTextSuccess:E,onLoadError:R,onLoadSuccess:D,onRenderAnnotationLayerError:I,onRenderAnnotationLayerSuccess:L,onRenderError:O,onRenderSuccess:W,onRenderTextLayerError:X,onRenderTextLayerSuccess:Z,pageIndex:$,pageNumber:Q,pdf:ee,registerPage:k,renderAnnotationLayer:q=!0,renderForms:K=!1,renderMode:ne="canvas",renderTextLayer:le=!0,rotate:ye,scale:re=hz,unregisterPage:pe,width:Me}=t,xe=$ye(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[We,rt]=dg(),{value:Be,error:He}=We,G=U.useRef(null);yn(ee);const me=dd(Q)?Q-1:$??null,Ae=Q??(dd($)?$+1:null),Ie=ye??(Be?Be.rotate:null),ge=U.useMemo(()=>{if(!Be)return null;let Le=1;const Xe=re??hz;if(Me||m){const yt=Be.getViewport({scale:1,rotation:Ie});Me?Le=Me/yt.width:m&&(Le=m/yt.height)}return Xe*Le},[m,Be,Ie,re,Me]);U.useEffect(function(){return()=>{dd(me)&&r&&pe&&pe(me)}},[r,ee,me,pe]);function Je(){if(D){if(!Be||!ge)return;D(xP(Be,ge))}if(r&&k){if(!dd(me)||!G.current)return;k(me,G.current)}}function Ue(){He&&(Er(!1,He.toString()),R&&R(He))}U.useEffect(function(){rt({type:"RESET"})},[rt,ee,me]),U.useEffect(function(){if(!ee||!Ae)return;const Xe=Mx(ee.getPage(Ae)),yt=Xe;return Xe.promise.then(De=>{rt({type:"RESOLVE",value:De})}).catch(De=>{rt({type:"REJECT",error:De})}),()=>M0(yt)},[rt,ee,Ae]),U.useEffect(()=>{if(Be!==void 0){if(Be===!1){Ue();return}Je()}},[Be,ge]);const Ke=U.useMemo(()=>Be&&dd(me)&&Ae&&dd(Ie)&&dd(ge)?{_className:n,canvasBackground:s,customTextRenderer:u,devicePixelRatio:h,onGetAnnotationsError:v,onGetAnnotationsSuccess:A,onGetStructTreeError:S,onGetStructTreeSuccess:C,onGetTextError:T,onGetTextSuccess:E,onRenderAnnotationLayerError:I,onRenderAnnotationLayerSuccess:L,onRenderError:O,onRenderSuccess:W,onRenderTextLayerError:X,onRenderTextLayerSuccess:Z,page:Be,pageIndex:me,pageNumber:Ae,renderForms:K,renderTextLayer:le,rotate:Ie,scale:ge}:null,[n,s,u,h,v,A,S,C,T,E,I,L,O,W,X,Z,Be,me,Ae,K,le,Ie,ge]),J=U.useMemo(()=>ZJ(xe,()=>Be&&(ge?xP(Be,ge):void 0)),[xe,Be,ge]),N=`${me}@${ge}/${Ie}`;function ue(){switch(ne){case"custom":return yn(c),w.jsx(c,{},`${N}_custom`);case"none":return null;case"canvas":default:return w.jsx(Jye,{canvasRef:o},`${N}_canvas`)}}function Te(){return le?w.jsx(Zye,{},`${N}_text`):null}function Ee(){return q?w.jsx(Qye,{},`${N}_annotations`):null}function Re(){return w.jsxs(rq.Provider,{value:Ke,children:[ue(),Te(),Ee(),a]})}function ot(){return Ae?ee===null||Be===void 0||Be===null?w.jsx(Cm,{type:"loading",children:typeof y=="function"?y():y}):ee===!1||Be===!1?w.jsx(Cm,{type:"error",children:typeof d=="function"?d():d}):Re():w.jsx(Cm,{type:"no-data",children:typeof _=="function"?_():_})}return w.jsx("div",Object.assign({className:OM(n,l),"data-page-number":Ae,ref:iq(g,G),style:{"--scale-factor":`${ge}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},J,{children:ot()}))}Oye();EL.workerSrc="pdf.worker.mjs";EL.workerSrc=new URL("/assets/pdf.worker.min-DGf6LXVo.mjs",import.meta.url).toString();const t_e={cMapUrl:"/cmaps/",standardFontDataUrl:"/standard_fonts/"},n_e={},dz=1e3,i_e=({title:i,path:e,downloadFilename:t})=>{const[n,r]=U.useState(),[s,o]=U.useState(null),[a,l]=U.useState(),c=U.useCallback(h=>{const[d]=h;d&&l(d.contentRect.width)},[]);_ge(s,n_e,c);function u({numPages:h}){r(h)}return w.jsxs("div",{className:"PDFViewer",children:[w.jsxs("header",{className:"flex justify-between items-center ",children:[w.jsx("h1",{children:i}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("a",{href:e,download:t,children:w.jsx("img",{src:xX,alt:"download icon",className:"w-4 h-4 object-contain"})}),w.jsx("a",{href:e,target:"_blank",rel:"noreferrer",children:w.jsx("img",{src:AX,alt:"enlarge icon",className:"w-5 h-5 object-contain"})})]})]}),w.jsx("div",{className:"PDFViewer__container",children:w.jsx("div",{className:"PDFViewer__container__document",ref:o,children:w.jsx(Gye,{file:e,onLoadSuccess:u,options:t_e,children:Array.from(new Array(n),(h,d)=>w.jsx(e_e,{pageNumber:d+1,width:a?Math.min(a,dz):dz},`page_${d+1}`))})})})]})},r_e="/assets/village-C-Hvyhx0.mp3",s_e="/assets/sky-D-X0bjtK.glb";function o_e({isRotating:i}){const e=Ea(s_e),t=U.useRef();return mx((n,r)=>{i&&(t.current.rotation.y+=.1*r)}),w.jsx("mesh",{ref:t,children:w.jsx("primitive",{object:e.scene})})}const a_e="/assets/astronaut-Bnp1pa0I.glb";function l_e({isRotating:i,...e}){const t=U.useRef(),{nodes:n,materials:r,animations:s}=Ea(a_e),{actions:o}=Tg(s,t);return U.useEffect(()=>{i?(o["metarig|metarigAction.001"].paused=!1,o["metarig|metarigAction.001"].play()):o["metarig|metarigAction.001"].paused=!0},[o,i]),w.jsx("group",{ref:t,...e,dispose:null,children:w.jsx("group",{name:"Sketchfab_Scene",children:w.jsx("group",{name:"Sketchfab_model",rotation:[-Math.PI/2,0,0],children:w.jsx("group",{name:"eac333c4ad9248fd9ae1e4dccb45a1a9fbx",rotation:[Math.PI/2,0,0],children:w.jsx("group",{name:"Object_2",children:w.jsxs("group",{name:"RootNode",children:[w.jsx("group",{name:"Astro13LowPoly001",position:[.928,16.966,-1.663],rotation:[-Math.PI/2,0,0],scale:100}),w.jsx("group",{name:"metarig",position:[-.121,-150.811,0],rotation:[-Math.PI/2,0,0],scale:145.9,children:w.jsxs("group",{name:"Object_6",children:[w.jsx("primitive",{object:n._rootJoint}),w.jsx("skinnedMesh",{name:"Object_9",geometry:n.Object_9.geometry,material:r["Default.001"],skeleton:n.Object_9.skeleton}),w.jsx("group",{name:"Object_8",position:[.928,16.966,-1.663],rotation:[-Math.PI/2,0,0],scale:100})]})})]})})})})})})}const c_e="/assets/robot-DWDnJlmr.glb";function u_e({isRotating:i,...e}){const t=U.useRef(),{nodes:n,materials:r,animations:s}=Ea(c_e),{actions:o}=Tg(s,t);return U.useEffect(()=>{o.Animation.play()},[]),w.jsx("group",{ref:t,...e,dispose:null,children:w.jsx("group",{name:"Sketchfab_Scene",children:w.jsx("group",{name:"Sketchfab_model",rotation:[-Math.PI/2,0,0],scale:.36,children:w.jsx("group",{name:"root",children:w.jsxs("group",{name:"GLTF_SceneRootNode",rotation:[Math.PI/2,0,0],children:[w.jsxs("group",{name:"skeletom_4",position:[.78,-.015,-.222],children:[w.jsxs("group",{name:"body_0",position:[-.78,.015,.222],children:[w.jsx("mesh",{name:"Object_5",castShadow:!0,receiveShadow:!0,geometry:n.Object_5.geometry,material:r.body}),w.jsx("mesh",{name:"Object_6",castShadow:!0,receiveShadow:!0,geometry:n.Object_6.geometry,material:r.body}),w.jsx("mesh",{name:"Object_7",castShadow:!0,receiveShadow:!0,geometry:n.Object_7.geometry,material:r.body}),w.jsx("mesh",{name:"Object_8",castShadow:!0,receiveShadow:!0,geometry:n.Object_8.geometry,material:r.line})]}),w.jsx("group",{name:"Cylinder002_1",position:[-.78,1.086,.222],children:w.jsx("mesh",{name:"Object_10",castShadow:!0,receiveShadow:!0,geometry:n.Object_10.geometry,material:r.baseHead})}),w.jsx("group",{name:"Cylinder003_2",position:[-.751,1.097,.222],children:w.jsx("mesh",{name:"Object_12",castShadow:!0,receiveShadow:!0,geometry:n.Object_12.geometry,material:r.baseHead})}),w.jsx("group",{name:"Cylinder004_3",position:[-.81,1.104,.221],children:w.jsx("mesh",{name:"Object_14",castShadow:!0,receiveShadow:!0,geometry:n.Object_14.geometry,material:r.baseHead})})]}),w.jsxs("group",{name:"eye_6",position:[.816,0,-.176],children:[w.jsx("mesh",{name:"Object_16",castShadow:!0,receiveShadow:!0,geometry:n.Object_16.geometry,material:r.material}),w.jsx("mesh",{name:"Object_17",castShadow:!0,receiveShadow:!0,geometry:n.Object_17.geometry,material:r.eyeCenter})]}),w.jsxs("group",{name:"Sphere001_10",position:[0,1.277,0],children:[w.jsx("mesh",{name:"Object_19",castShadow:!0,receiveShadow:!0,geometry:n.Object_19.geometry,material:r.head}),w.jsx("group",{name:"wing1_8",position:[-.022,.017,.013],children:w.jsx("mesh",{name:"Object_21",castShadow:!0,receiveShadow:!0,geometry:n.Object_21.geometry,material:r.wings})}),w.jsx("group",{name:"wing2_9",position:[-.01,.017,.006],children:w.jsx("mesh",{name:"Object_23",castShadow:!0,receiveShadow:!0,geometry:n.Object_23.geometry,material:r.wings})})]})]})})})})})}var TL=Tx(),Xt=i=>Ex(i,TL),RL=Tx();Xt.write=i=>Ex(i,RL);var zM=Tx();Xt.onStart=i=>Ex(i,zM);var PL=Tx();Xt.onFrame=i=>Ex(i,PL);var IL=Tx();Xt.onFinish=i=>Ex(i,IL);var Mm=[];Xt.setTimeout=(i,e)=>{const t=Xt.now()+e,n=()=>{const s=Mm.findIndex(o=>o.cancel==n);~s&&Mm.splice(s,1),ih-=~s?1:0},r={time:t,handler:i,cancel:n};return Mm.splice(cq(t),0,r),ih+=1,uq(),r};var cq=i=>~(~Mm.findIndex(e=>e.time>i)||~Mm.length);Xt.cancel=i=>{zM.delete(i),PL.delete(i),IL.delete(i),TL.delete(i),RL.delete(i)};Xt.sync=i=>{AP=!0,Xt.batchedUpdates(i),AP=!1};Xt.throttle=i=>{let e;function t(){try{i(...e)}finally{e=null}}function n(...r){e=r,Xt.onStart(t)}return n.handler=i,n.cancel=()=>{zM.delete(t),e=null},n};var LL=typeof window<"u"?window.requestAnimationFrame:()=>{};Xt.use=i=>LL=i;Xt.now=typeof performance<"u"?()=>performance.now():Date.now;Xt.batchedUpdates=i=>i();Xt.catch=console.error;Xt.frameLoop="always";Xt.advance=()=>{Xt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):dq()};var nh=-1,ih=0,AP=!1;function Ex(i,e){AP?(e.delete(i),i(0)):(e.add(i),uq())}function uq(){nh<0&&(nh=0,Xt.frameLoop!=="demand"&&LL(hq))}function h_e(){nh=-1}function hq(){~nh&&(LL(hq),Xt.batchedUpdates(dq))}function dq(){const i=nh;nh=Xt.now();const e=cq(nh);if(e&&(fq(Mm.splice(0,e),t=>t.handler()),ih-=e),!ih){h_e();return}zM.flush(),TL.flush(i?Math.min(64,nh-i):16.667),PL.flush(),RL.flush(),IL.flush()}function Tx(){let i=new Set,e=i;return{add(t){ih+=e==i&&!i.has(t)?1:0,i.add(t)},delete(t){return ih-=e==i&&i.has(t)?1:0,i.delete(t)},flush(t){e.size&&(i=new Set,ih-=e.size,fq(e,n=>n(t)&&i.add(n)),ih+=i.size,e=i)}}}function fq(i,e){i.forEach(t=>{try{e(t)}catch(n){Xt.catch(n)}})}var d_e=Object.defineProperty,f_e=(i,e)=>{for(var t in e)d_e(i,t,{get:e[t],enumerable:!0})},fg={};f_e(fg,{assign:()=>v_e,colors:()=>yh,createStringInterpolator:()=>BL,skipAnimation:()=>mq,to:()=>pq,willAdvance:()=>FL});function p_e(){}var m_e=(i,e,t)=>Object.defineProperty(i,e,{value:t,writable:!0,configurable:!0}),ni={arr:Array.isArray,obj:i=>!!i&&i.constructor.name==="Object",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",und:i=>i===void 0};function g_e(i,e){if(ni.arr(i)){if(!ni.arr(e)||i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}return i===e}var Fc=(i,e)=>i.forEach(e);function SP(i,e,t){if(ni.arr(i)){for(let n=0;n<i.length;n++)e.call(t,i[n],`${n}`);return}for(const n in i)i.hasOwnProperty(n)&&e.call(t,i[n],n)}var qS=i=>ni.und(i)?[]:ni.arr(i)?i:[i],DL=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),BL,pq,yh=null,mq=!1,FL=p_e,v_e=i=>{i.to&&(pq=i.to),i.now&&(Xt.now=i.now),i.colors!==void 0&&(yh=i.colors),i.skipAnimation!=null&&(mq=i.skipAnimation),i.createStringInterpolator&&(BL=i.createStringInterpolator),i.requestAnimationFrame&&Xt.use(i.requestAnimationFrame),i.batchedUpdates&&(Xt.batchedUpdates=i.batchedUpdates),i.willAdvance&&(FL=i.willAdvance),i.frameLoop&&(Xt.frameLoop=i.frameLoop)},Ev=new Set,Po=[],lT=[],xb=0,OL={get idle(){return!Ev.size&&!Po.length},start(i){xb>i.priority?(Ev.add(i),Xt.onStart(y_e)):(gq(i),Xt(wP))},advance:wP,sort(i){if(xb)Xt.onFrame(()=>OL.sort(i));else{const e=Po.indexOf(i);~e&&(Po.splice(e,1),vq(i))}},clear(){Po=[],Ev.clear()}};function y_e(){Ev.forEach(gq),Ev.clear(),Xt(wP)}function gq(i){Po.includes(i)||vq(i)}function vq(i){Po.splice(__e(Po,e=>e.priority>i.priority),0,i)}function wP(i){const e=lT;for(let t=0;t<Po.length;t++){const n=Po[t];xb=n.priority,n.idle||(FL(n),n.advance(i),n.idle||e.push(n))}return xb=0,lT=Po,lT.length=0,Po=e,Po.length>0}function __e(i,e){const t=i.findIndex(e);return t<0?i.length:t}var x_e={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},va="[-+]?\\d*\\.?\\d+",Ab=va+"%";function jM(...i){return"\\(\\s*("+i.join(")\\s*,\\s*(")+")\\s*\\)"}var A_e=new RegExp("rgb"+jM(va,va,va)),S_e=new RegExp("rgba"+jM(va,va,va,va)),w_e=new RegExp("hsl"+jM(va,Ab,Ab)),b_e=new RegExp("hsla"+jM(va,Ab,Ab,va)),C_e=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,M_e=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,E_e=/^#([0-9a-fA-F]{6})$/,T_e=/^#([0-9a-fA-F]{8})$/;function R_e(i){let e;return typeof i=="number"?i>>>0===i&&i>=0&&i<=4294967295?i:null:(e=E_e.exec(i))?parseInt(e[1]+"ff",16)>>>0:yh&&yh[i]!==void 0?yh[i]:(e=A_e.exec(i))?(Pp(e[1])<<24|Pp(e[2])<<16|Pp(e[3])<<8|255)>>>0:(e=S_e.exec(i))?(Pp(e[1])<<24|Pp(e[2])<<16|Pp(e[3])<<8|mz(e[4]))>>>0:(e=C_e.exec(i))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=T_e.exec(i))?parseInt(e[1],16)>>>0:(e=M_e.exec(i))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=w_e.exec(i))?(fz(pz(e[1]),ZS(e[2]),ZS(e[3]))|255)>>>0:(e=b_e.exec(i))?(fz(pz(e[1]),ZS(e[2]),ZS(e[3]))|mz(e[4]))>>>0:null}function cT(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function fz(i,e,t){const n=t<.5?t*(1+e):t+e-t*e,r=2*t-n,s=cT(r,n,i+1/3),o=cT(r,n,i),a=cT(r,n,i-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Pp(i){const e=parseInt(i,10);return e<0?0:e>255?255:e}function pz(i){return(parseFloat(i)%360+360)%360/360}function mz(i){const e=parseFloat(i);return e<0?0:e>1?255:Math.round(e*255)}function ZS(i){const e=parseFloat(i);return e<0?0:e>100?1:e/100}function gz(i){let e=R_e(i);if(e===null)return i;e=e||0;const t=(e&4278190080)>>>24,n=(e&16711680)>>>16,r=(e&65280)>>>8,s=(e&255)/255;return`rgba(${t}, ${n}, ${r}, ${s})`}var _y=(i,e,t)=>{if(ni.fun(i))return i;if(ni.arr(i))return _y({range:i,output:e,extrapolate:t});if(ni.str(i.output[0]))return BL(i);const n=i,r=n.output,s=n.range||[0,1],o=n.extrapolateLeft||n.extrapolate||"extend",a=n.extrapolateRight||n.extrapolate||"extend",l=n.easing||(c=>c);return c=>{const u=I_e(c,s);return P_e(c,s[u],s[u+1],r[u],r[u+1],l,o,a,n.map)}};function P_e(i,e,t,n,r,s,o,a,l){let c=l?l(i):i;if(c<e){if(o==="identity")return c;o==="clamp"&&(c=e)}if(c>t){if(a==="identity")return c;a==="clamp"&&(c=t)}return n===r?n:e===t?i<=e?n:r:(e===-1/0?c=-c:t===1/0?c=c-e:c=(c-e)/(t-e),c=s(c),n===-1/0?c=-c:r===1/0?c=c+n:c=c*(r-n)+n,c)}function I_e(i,e){for(var t=1;t<e.length-1&&!(e[t]>=i);++t);return t-1}var xy=Symbol.for("FluidValue.get"),Ay=Symbol.for("FluidValue.observers"),Sb=i=>!!(i&&i[xy]),wb=i=>i&&i[xy]?i[xy]():i;function L_e(i,e){i.eventObserved?i.eventObserved(e):i(e)}function bP(i,e){const t=i[Ay];t&&t.forEach(n=>{L_e(n,e)})}var D_e=class{constructor(i){if(!i&&!(i=this.get))throw Error("Unknown getter");B_e(this,i)}},B_e=(i,e)=>_q(i,xy,e);function yq(i,e){if(i[xy]){let t=i[Ay];t||_q(i,Ay,t=new Set),t.has(e)||(t.add(e),i.observerAdded&&i.observerAdded(t.size,e))}return e}function CP(i,e){const t=i[Ay];if(t&&t.has(e)){const n=t.size-1;n?t.delete(e):i[Ay]=null,i.observerRemoved&&i.observerRemoved(n,e)}}var _q=(i,e,t)=>Object.defineProperty(i,e,{value:t,writable:!0,configurable:!0}),K5=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,F_e=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,vz=new RegExp(`(${K5.source})(%|[a-z]+)`,"i"),O_e=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,HM=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,xq=i=>{const[e,t]=k_e(i);if(!e||DL())return i;const n=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(n)return n.trim();if(t&&t.startsWith("--")){const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);return r||i}else{if(t&&HM.test(t))return xq(t);if(t)return t}return i},k_e=i=>{const e=HM.exec(i);if(!e)return[,];const[,t,n]=e;return[t,n]},uT,N_e=(i,e,t,n,r)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(n)}, ${r})`,Aq=i=>{uT||(uT=yh?new RegExp(`(${Object.keys(yh).join("|")})(?!\\w)`,"g"):/^\b$/);const e=i.output.map(s=>wb(s).replace(HM,xq).replace(F_e,gz).replace(uT,gz)),t=e.map(s=>s.match(K5).map(Number)),r=t[0].map((s,o)=>t.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>_y({...i,output:s}));return s=>{var l;const o=!vz.test(e[0])&&((l=e.find(c=>vz.test(c)))==null?void 0:l.replace(K5,""));let a=0;return e[0].replace(K5,()=>`${r[a++](s)}${o||""}`).replace(O_e,N_e)}},Sq="react-spring: ",wq=i=>{const e=i;let t=!1;if(typeof e!="function")throw new TypeError(`${Sq}once requires a function parameter`);return(...n)=>{t||(e(...n),t=!0)}},U_e=wq(console.warn);function z_e(){U_e(`${Sq}The "interpolate" function is deprecated in v9 (use "to" instead)`)}wq(console.warn);function bq(i){return ni.str(i)&&(i[0]=="#"||/\d/.test(i)||!DL()&&HM.test(i)||i in(yh||{}))}var Cq=DL()?U.useEffect:U.useLayoutEffect,j_e=()=>{const i=U.useRef(!1);return Cq(()=>(i.current=!0,()=>{i.current=!1}),[]),i};function H_e(){const i=U.useState()[1],e=j_e();return()=>{e.current&&i(Math.random())}}function G_e(i,e){const[t]=U.useState(()=>({inputs:e,result:i()})),n=U.useRef(),r=n.current;let s=r;return s?e&&s.inputs&&V_e(e,s.inputs)||(s={inputs:e,result:i()}):s=t,U.useEffect(()=>{n.current=s,r==t&&(t.inputs=t.result=void 0)},[s]),s.result}function V_e(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}var W_e=i=>U.useEffect(i,X_e),X_e=[],Sy=Symbol.for("Animated:node"),K_e=i=>!!i&&i[Sy]===i,kL=i=>i&&i[Sy],Mq=(i,e)=>m_e(i,Sy,e),NL=i=>i&&i[Sy]&&i[Sy].getPayload(),Eq=class{constructor(){Mq(this,this)}getPayload(){return this.payload||[]}},GM=class extends Eq{constructor(i){super(),this._value=i,this.done=!0,this.durationProgress=0,ni.num(this._value)&&(this.lastPosition=this._value)}static create(i){return new GM(i)}getPayload(){return[this]}getValue(){return this._value}setValue(i,e){return ni.num(i)&&(this.lastPosition=i,e&&(i=Math.round(i/e)*e,this.done&&(this.lastPosition=i))),this._value===i?!1:(this._value=i,!0)}reset(){const{done:i}=this;this.done=!1,ni.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,i&&(this.lastVelocity=null),this.v0=null)}},UL=class extends GM{constructor(i){super(0),this._string=null,this._toString=_y({output:[i,i]})}static create(i){return new UL(i)}getValue(){const i=this._string;return i??(this._string=this._toString(this._value))}setValue(i){if(ni.str(i)){if(i==this._string)return!1;this._string=i,this._value=1}else if(super.setValue(i))this._string=null;else return!1;return!0}reset(i){i&&(this._toString=_y({output:[this.getValue(),i]})),this._value=0,super.reset()}},bb={dependencies:null},zL=class extends Eq{constructor(i){super(),this.source=i,this.setValue(i)}getValue(i){const e={};return SP(this.source,(t,n)=>{K_e(t)?e[n]=t.getValue(i):Sb(t)?e[n]=wb(t):i||(e[n]=t)}),e}setValue(i){this.source=i,this.payload=this._makePayload(i)}reset(){this.payload&&Fc(this.payload,i=>i.reset())}_makePayload(i){if(i){const e=new Set;return SP(i,this._addToPayload,e),Array.from(e)}}_addToPayload(i){bb.dependencies&&Sb(i)&&bb.dependencies.add(i);const e=NL(i);e&&Fc(e,t=>this.add(t))}},Tq=class extends zL{constructor(i){super(i)}static create(i){return new Tq(i)}getValue(){return this.source.map(i=>i.getValue())}setValue(i){const e=this.getPayload();return i.length==e.length?e.map((t,n)=>t.setValue(i[n])).some(Boolean):(super.setValue(i.map(Y_e)),!0)}};function Y_e(i){return(bq(i)?UL:GM).create(i)}function J_e(i){const e=kL(i);return e?e.constructor:ni.arr(i)?Tq:bq(i)?UL:GM}var yz=(i,e)=>{const t=!ni.fun(i)||i.prototype&&i.prototype.isReactComponent;return U.forwardRef((n,r)=>{const s=U.useRef(null),o=t&&U.useCallback(g=>{s.current=Q_e(r,g)},[r]),[a,l]=Z_e(n,e),c=H_e(),u=()=>{const g=s.current;if(t&&!g)return;(g?e.applyAnimatedValues(g,a.getValue(!0)):!1)===!1&&c()},h=new q_e(u,l),d=U.useRef();Cq(()=>(d.current=h,Fc(l,g=>yq(g,h)),()=>{d.current&&(Fc(d.current.deps,g=>CP(g,d.current)),Xt.cancel(d.current.update))})),U.useEffect(u,[]),W_e(()=>()=>{const g=d.current;Fc(g.deps,y=>CP(y,g))});const m=e.getComponentProps(a.getValue());return U.createElement(i,{...m,ref:o})})},q_e=class{constructor(i,e){this.update=i,this.deps=e}eventObserved(i){i.type=="change"&&Xt.write(this.update)}};function Z_e(i,e){const t=new Set;return bb.dependencies=t,i.style&&(i={...i,style:e.createAnimatedStyle(i.style)}),i=new zL(i),bb.dependencies=null,[i,t]}function Q_e(i,e){return i&&(ni.fun(i)?i(e):i.current=e),e}var _z=Symbol.for("AnimatedComponent"),$_e=(i,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=r=>new zL(r),getComponentProps:n=r=>r}={})=>{const r={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:n},s=o=>{const a=xz(o)||"Anonymous";return ni.str(o)?o=s[o]||(s[o]=yz(o,r)):o=o[_z]||(o[_z]=yz(o,r)),o.displayName=`Animated(${a})`,o};return SP(i,(o,a)=>{ni.arr(i)&&(a=xz(o)),s[a]=s(o)}),{animated:s}},xz=i=>ni.str(i)?i:i&&ni.str(i.displayName)?i.displayName:ni.fun(i)&&i.name||null,Az=i=>i instanceof Rq,e3e=1,Rq=class extends D_e{constructor(){super(...arguments),this.id=e3e++,this._priority=0}get priority(){return this._priority}set priority(i){this._priority!=i&&(this._priority=i,this._onPriorityChange(i))}get(){const i=kL(this);return i&&i.getValue()}to(...i){return fg.to(this,i)}interpolate(...i){return z_e(),fg.to(this,i)}toJSON(){return this.get()}observerAdded(i){i==1&&this._attach()}observerRemoved(i){i==0&&this._detach()}_attach(){}_detach(){}_onChange(i,e=!1){bP(this,{type:"change",parent:this,value:i,idle:e})}_onPriorityChange(i){this.idle||OL.sort(this),bP(this,{type:"priority",parent:this,priority:i})}},jL=({children:i,...e})=>{const t=U.useContext(Cb),n=e.pause||!!t.pause,r=e.immediate||!!t.immediate;e=G_e(()=>({pause:n,immediate:r}),[n,r]);const{Provider:s}=Cb;return U.createElement(s,{value:e},i)},Cb=t3e(jL,{});jL.Provider=Cb.Provider;jL.Consumer=Cb.Consumer;function t3e(i,e){return Object.assign(i,U.createContext(e)),i.Provider._context=i,i.Consumer._context=i,i}var n3e=class extends Rq{constructor(i,e){super(),this.source=i,this.idle=!0,this._active=new Set,this.calc=_y(...e);const t=this._get(),n=J_e(t);Mq(this,n.create(t))}advance(i){const e=this._get(),t=this.get();g_e(e,t)||(kL(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&Sz(this._active)&&hT(this)}_get(){const i=ni.arr(this.source)?this.source.map(wb):qS(wb(this.source));return this.calc(...i)}_start(){this.idle&&!Sz(this._active)&&(this.idle=!1,Fc(NL(this),i=>{i.done=!1}),fg.skipAnimation?(Xt.batchedUpdates(()=>this.advance()),hT(this)):OL.start(this))}_attach(){let i=1;Fc(qS(this.source),e=>{Sb(e)&&yq(e,this),Az(e)&&(e.idle||this._active.add(e),i=Math.max(i,e.priority+1))}),this.priority=i,this._start()}_detach(){Fc(qS(this.source),i=>{Sb(i)&&CP(i,this)}),this._active.clear(),hT(this)}eventObserved(i){i.type=="change"?i.idle?this.advance():(this._active.add(i.parent),this._start()):i.type=="idle"?this._active.delete(i.parent):i.type=="priority"&&(this.priority=qS(this.source).reduce((e,t)=>Math.max(e,(Az(t)?t.priority:0)+1),0))}};function i3e(i){return i.idle!==!1}function Sz(i){return!i.size||Array.from(i).every(i3e)}function hT(i){i.idle||(i.idle=!0,Fc(NL(i),e=>{e.done=!0}),bP(i,{type:"idle",parent:i}))}fg.assign({createStringInterpolator:Aq,to:(i,e)=>new n3e(i,e)});var r3e=["primitive"].concat(Object.keys(RW).filter(i=>/^[A-Z]/.test(i)).map(i=>i[0].toLowerCase()+i.slice(1)));fg.assign({createStringInterpolator:Aq,colors:x_e,frameLoop:"demand"});zue(()=>{Xt.advance()});$_e(r3e,{applyAnimatedValues:Sd});const s3e="/assets/earth--pXcCgeT.glb";function o3e({isRotating:i,setIsRotating:e,setCurrentStage:t,currentFocusPoint:n,...r}){const s=U.useRef(),{gl:o,viewport:a}=Qo(),{nodes:l,materials:c,animations:u}=Ea(s3e),{actions:h}=Tg(u,s);U.useEffect(()=>{i?(h["Animaci��n"].paused=!1,h["Animaci��n"].play()):h["Animaci��n"].paused=!0},[h,i]);const d=U.useRef(0),m=U.useRef(0),g=.95,y=R=>{R.stopPropagation(),R.preventDefault(),e(!0);const D=event.touches?event.touches[0].clientX:event.clientX;d.current=D},_=R=>{R.stopPropagation(),R.preventDefault(),e(!1)},v=R=>{if(R.stopPropagation(),R.preventDefault(),i){const D=event.touches?event.touches[0].clientX:event.clientX,I=(D-d.current)/a.width;s.current.rotation.y+=I*.01*Math.PI,d.current=D,m.current=I*.01*Math.PI}},A=R=>{R.key==="ArrowLeft"?(i||e(!0),s.current.rotation.y+=.008*Math.PI,m.current=.007):R.key==="ArrowRight"&&(i||e(!0),s.current.rotation.y-=.008*Math.PI,m.current=-.007)},S=R=>{(R.key==="ArrowLeft"||R.key==="ArrowRight")&&e(!1)},C=R=>{R.stopPropagation(),R.preventDefault(),e(!0);const D=R.touches?R.touches[0].clientX:R.clientX;d.current=D},T=R=>{R.stopPropagation(),R.preventDefault(),e(!1)},E=R=>{if(R.stopPropagation(),R.preventDefault(),i){const D=R.touches?R.touches[0].clientX:R.clientX,I=(D-d.current)/a.width;s.current.rotation.y+=I*.01*Math.PI,d.current=D,m.current=I*.01*Math.PI}};return U.useEffect(()=>{const R=o.domElement;return R.addEventListener("pointerdown",y),R.addEventListener("pointerup",_),R.addEventListener("pointermove",v),window.addEventListener("keydown",A),window.addEventListener("keyup",S),R.addEventListener("touchstart",C),R.addEventListener("touchend",T),R.addEventListener("touchmove",E),()=>{R.removeEventListener("pointerdown",y),R.removeEventListener("pointerup",_),R.removeEventListener("pointermove",v),window.removeEventListener("keydown",A),window.removeEventListener("keyup",S),R.removeEventListener("touchstart",C),R.removeEventListener("touchend",T),R.removeEventListener("touchmove",E)}},[o,y,_,v]),mx(()=>{if(!i)m.current*=g,Math.abs(m.current)<.001&&(m.current=0),s.current.rotation.y+=m.current;else{const D=(s.current.rotation.y%(2*Math.PI)+2*Math.PI)%(2*Math.PI);switch(!0){case(D>=5.45&&D<=5.85):t(4);break;case(D>=.85&&D<=1.3):t(3);break;case(D>=2.4&&D<=2.6):t(2);break;case(D>=4.25&&D<=4.75):t(1);break}}}),w.jsx("group",{ref:s,...r,dispose:null,children:w.jsx("group",{name:"Sketchfab_Scene",children:w.jsx("group",{name:"Sketchfab_model",rotation:[-Math.PI/2,0,0],children:w.jsx("group",{name:"root",children:w.jsxs("group",{name:"GLTF_SceneRootNode",rotation:[Math.PI/2,0,0],children:[w.jsxs("group",{name:"Oceano_1",children:[w.jsx("mesh",{name:"Object_4",castShadow:!0,receiveShadow:!0,geometry:l.Object_4.geometry,material:c.agua}),w.jsx("group",{name:"tierra_0",scale:.996,children:w.jsx("mesh",{name:"Object_6",castShadow:!0,receiveShadow:!0,geometry:l.Object_6.geometry,material:c.tierra})})]}),w.jsx("group",{name:"barco_2",position:[.644,-.215,-.719],rotation:[-1.679,.395,.896],scale:[.015,.021,.016],children:w.jsx("mesh",{name:"Object_8",castShadow:!0,receiveShadow:!0,geometry:l.Object_8.geometry,material:c.Atlas_1})}),w.jsx("group",{name:"barco009_3",position:[.848,.333,.4],rotation:[-1.408,-.59,-1.937],scale:.01,children:w.jsx("mesh",{name:"Object_10",castShadow:!0,receiveShadow:!0,geometry:l.Object_10.geometry,material:c["Atlas.2"]})}),w.jsx("group",{name:"Armature001_10",position:[.564,.451,.62],rotation:[.708,-.369,-.737],scale:.01,children:w.jsxs("group",{name:"GLTF_created_0",children:[w.jsx("primitive",{object:l.GLTF_created_0_rootJoint}),w.jsx("skinnedMesh",{name:"Object_15",geometry:l.Object_15.geometry,material:c.ballena,skeleton:l.Object_15.skeleton}),w.jsx("group",{name:"colaBallena001_9"})]})}),w.jsx("group",{name:"Armature002_17",position:[-.846,-.218,-.378],rotation:[2.298,.497,1.648],scale:.01,children:w.jsxs("group",{name:"GLTF_created_1",children:[w.jsx("primitive",{object:l.GLTF_created_1_rootJoint}),w.jsx("skinnedMesh",{name:"Object_25",geometry:l.Object_25.geometry,material:c.ballena,skeleton:l.Object_25.skeleton}),w.jsx("group",{name:"colaBallena002_16"})]})}),w.jsx("group",{name:"Armature003_24",position:[.43,-.474,-.704],rotation:[-.216,1.029,-1.973],scale:.01,children:w.jsxs("group",{name:"GLTF_created_2",children:[w.jsx("primitive",{object:l.GLTF_created_2_rootJoint}),w.jsx("skinnedMesh",{name:"Object_35",geometry:l.Object_35.geometry,material:c.ballena,skeleton:l.Object_35.skeleton}),w.jsx("group",{name:"colaBallena003_23"})]})}),w.jsxs("group",{name:"avion003_27",position:[-.409,-1.016,.477],rotation:[-.438,0,2.792],scale:.018,children:[w.jsx("mesh",{name:"Object_42",castShadow:!0,receiveShadow:!0,geometry:l.Object_42.geometry,material:c["Atlas.2"]}),w.jsx("group",{name:"avion004_25",children:w.jsx("mesh",{name:"Object_44",castShadow:!0,receiveShadow:!0,geometry:l.Object_44.geometry,material:c["ox-logo"]})}),w.jsx("group",{name:"Cube009_26",position:[-3.44,-.807,0],rotation:[2.338,0,0],scale:[.319,.221,.221],children:w.jsx("mesh",{name:"Object_46",castShadow:!0,receiveShadow:!0,geometry:l.Object_46.geometry,material:c["Atlas.2"]})})]}),w.jsx("group",{name:"ox-logo008_28",position:[-.954,.859,.547],rotation:[2.135,.755,.825],scale:.141,children:w.jsx("mesh",{name:"Object_48",castShadow:!0,receiveShadow:!0,geometry:l.Object_48.geometry,material:c["Atlas.2"]})}),w.jsx("group",{name:"ox-logo009_29",position:[-.842,.381,-1.049],rotation:[.344,.653,.461],scale:.141,children:w.jsx("mesh",{name:"Object_50",castShadow:!0,receiveShadow:!0,geometry:l.Object_50.geometry,material:c["Atlas.2"]})}),w.jsx("group",{name:"edificio001_30",position:[.969,.299,.303],rotation:[.057,-.309,-1.25],scale:[.007,.018,.007],children:w.jsx("mesh",{name:"Object_52",castShadow:!0,receiveShadow:!0,geometry:l.Object_52.geometry,material:c["Atlas.2"]})}),w.jsx("group",{name:"avion001_31",position:[.01,.636,1.074],rotation:[1.036,0,0],scale:.018,children:w.jsx("mesh",{name:"Object_54",castShadow:!0,receiveShadow:!0,geometry:l.Object_54.geometry,material:c["ox-logo"]})}),w.jsx("group",{name:"ox-logo001_32",position:[-.954,.859,.547],rotation:[2.135,.755,.825],scale:.141,children:w.jsx("mesh",{name:"Object_56",castShadow:!0,receiveShadow:!0,geometry:l.Object_56.geometry,material:c["ox-logo"]})}),w.jsx("group",{name:"ox-logo002_33",position:[-.842,.381,-1.049],rotation:[.344,.653,.461],scale:.141,children:w.jsx("mesh",{name:"Object_58",castShadow:!0,receiveShadow:!0,geometry:l.Object_58.geometry,material:c["ox-logo"]})}),w.jsxs("group",{name:"avion002_35",position:[.01,.636,1.074],rotation:[1.036,0,0],scale:.018,children:[w.jsx("mesh",{name:"Object_60",castShadow:!0,receiveShadow:!0,geometry:l.Object_60.geometry,material:c["Atlas.2"]}),w.jsx("group",{name:"Cube001_34",position:[-3.44,-.807,0],rotation:[2.338,0,0],scale:[.319,.221,.221],children:w.jsx("mesh",{name:"Object_62",castShadow:!0,receiveShadow:!0,geometry:l.Object_62.geometry,material:c["Atlas.2"]})})]}),w.jsx("group",{name:"arbol007_36",position:[.851,.605,-.005],rotation:[.173,.354,-1.1],scale:.011,children:w.jsx("mesh",{name:"Object_64",castShadow:!0,receiveShadow:!0,geometry:l.Object_64.geometry,material:c.vegetacin})}),w.jsx("group",{name:"Icosphere004_37",position:[-.012,1.161,.6],rotation:[Math.PI/2,-1.053,Math.PI/2],scale:[.045,.035,.045],children:w.jsx("mesh",{name:"Object_66",castShadow:!0,receiveShadow:!0,geometry:l.Object_66.geometry,material:c.nube})}),w.jsx("group",{name:"nube002_38",position:[-.003,0,1.572],rotation:[2.489,-1.503,-.655],scale:[-.023,-.017,-.023],children:w.jsx("mesh",{name:"Object_68",castShadow:!0,receiveShadow:!0,geometry:l.Object_68.geometry,material:c.nube})}),w.jsx("group",{name:"Icosphere006_39",position:[1.421,.599,-.52],rotation:[-3.11,-.434,-3.05],scale:[.063,.055,.052],children:w.jsx("mesh",{name:"Object_70",castShadow:!0,receiveShadow:!0,geometry:l.Object_70.geometry,material:c.nube})}),w.jsx("group",{name:"nube003_40",position:[.587,-.527,-1.197],rotation:[.076,.992,3.078],scale:[-.018,-.013,-.018],children:w.jsx("mesh",{name:"Object_72",castShadow:!0,receiveShadow:!0,geometry:l.Object_72.geometry,material:c.nube})}),w.jsx("group",{name:"Icosphere007_41",position:[-.495,-1.3,-.305],rotation:[.594,-.483,.304],scale:[.05,.039,.05],children:w.jsx("mesh",{name:"Object_74",castShadow:!0,receiveShadow:!0,geometry:l.Object_74.geometry,material:c.nube})}),w.jsx("group",{name:"Icosphere008_42",position:[-1.436,-.22,-.172],rotation:[.518,.025,-.014],scale:[.045,.035,.045],children:w.jsx("mesh",{name:"Object_76",castShadow:!0,receiveShadow:!0,geometry:l.Object_76.geometry,material:c.nube})}),w.jsx("group",{name:"Icosphere009_43",position:[.952,.357,1.09],rotation:[2.426,.715,-2.624],scale:[.045,.035,.045],children:w.jsx("mesh",{name:"Object_78",castShadow:!0,receiveShadow:!0,geometry:l.Object_78.geometry,material:c.nube})}),w.jsx("group",{name:"nube004_44",position:[-.487,.642,-1.03],rotation:[.098,-1.134,-3.052],scale:[-.023,-.017,-.023],children:w.jsx("mesh",{name:"Object_80",castShadow:!0,receiveShadow:!0,geometry:l.Object_80.geometry,material:c.nube})}),w.jsx("group",{name:"nube005_45",position:[-1.119,-.737,.257],rotation:[.043,.22,3.129],scale:[-.023,-.017,-.023],children:w.jsx("mesh",{name:"Object_82",castShadow:!0,receiveShadow:!0,geometry:l.Object_82.geometry,material:c.nube})})]})})})})})}const a3e="/assets/keyboard-BrFtlGNW.glb";function l3e({currentAnimation:i,...e}){const t=U.useRef(),{nodes:n,materials:r,animations:s}=Ea(a3e),{actions:o}=Tg(s,t);return U.useEffect(()=>{i===1?o.Animation.play():o.Animation.stop()},[o,i]),w.jsx("group",{ref:t,...e,dispose:null,children:w.jsx("group",{name:"Sketchfab_Scene",children:w.jsx("group",{name:"Sketchfab_model",rotation:[-Math.PI/2,0,0],children:w.jsx("group",{name:"root",children:w.jsxs("group",{name:"GLTF_SceneRootNode",rotation:[Math.PI/2,0,0],children:[w.jsxs("group",{name:"Cube020_0",position:[-.063,-.008,.029],rotation:[-3.089,0,0],scale:.5,children:[w.jsx("mesh",{name:"Object_4",castShadow:!0,receiveShadow:!0,geometry:n.Object_4.geometry,material:r["switch_bottom.008"]}),w.jsx("mesh",{name:"Object_5",castShadow:!0,receiveShadow:!0,geometry:n.Object_5.geometry,material:r["switch.010"]})]}),w.jsxs("group",{name:"Cube021_1",position:[-.08,-.008,.029],rotation:[-3.089,0,0],scale:.5,children:[w.jsx("mesh",{name:"Object_7",castShadow:!0,receiveShadow:!0,geometry:n.Object_7.geometry,material:r["switch_bottom.008"]}),w.jsx("mesh",{name:"Object_8",castShadow:!0,receiveShadow:!0,geometry:n.Object_8.geometry,material:r["switch.010"]})]}),w.jsxs("group",{name:"Cube022_2",position:[-.096,-.008,.029],rotation:[-3.089,0,0],scale:.5,children:[w.jsx("mesh",{name:"Object_10",castShadow:!0,receiveShadow:!0,geometry:n.Object_10.geometry,material:r["switch_bottom.008"]}),w.jsx("mesh",{name:"Object_11",castShadow:!0,receiveShadow:!0,geometry:n.Object_11.geometry,material:r["switch.010"]})]}),w.jsxs("group",{name:"Cube023_3",position:[-.09,-.007,.014],rotation:[-3.089,0,0],scale:.5,children:[w.jsx("mesh",{name:"Object_13",castShadow:!0,receiveShadow:!0,geometry:n.Object_13.geometry,material:r["switch_bottom.008"]}),w.jsx("mesh",{name:"Object_14",castShadow:!0,receiveShadow:!0,geometry:n.Object_14.geometry,material:r["switch.010"]})]}),w.jsxs("group",{name:"Cube024_4",position:[-.092,-.007,-.001],rotation:[-3.089,0,0],scale:.5,children:[w.jsx("mesh",{name:"Object_16",castShadow:!0,receiveShadow:!0,geometry:n.Object_16.geometry,material:r["switch_bottom.008"]}),w.jsx("mesh",{name:"Object_17",castShadow:!0,receiveShadow:!0,geometry:n.Object_17.geometry,material:r["switch.010"]})]}),w.jsxs("group",{name:"Cube025_5",position:[-.094,-.006,-.016],rotation:[-3.089,0,0],scale:.5,children:[w.jsx("mesh",{name:"Object_19",castShadow:!0,receiveShadow:!0,geometry:n.Object_19.geometry,material:r["switch_bottom.008"]}),w.jsx("mesh",{name:"Object_20",castShadow:!0,receiveShadow:!0,geometry:n.Object_20.geometry,material:r["switch.010"]})]}),w.jsxs("group",{name:"Cube026_6",position:[-.097,-.005,-.03],rotation:[-3.089,0,0],scale:.5,children:[w.jsx("mesh",{name:"Object_22",castShadow:!0,receiveShadow:!0,geometry:n.Object_22.geometry,material:r["switch_bottom.008"]}),w.jsx("mesh",{name:"Object_23",castShadow:!0,receiveShadow:!0,geometry:n.Object_23.geometry,material:r["switch.010"]})]}),w.jsxs("group",{name:"Cube019_7",position:[-.077,-.006,-.016],rotation:[-3.089,0,0],scale:.5,children:[w.jsx("mesh",{name:"Object_25",castShadow:!0,receiveShadow:!0,geometry:n.Object_25.geometry,material:r["switch_bottom.008"]}),w.jsx("mesh",{name:"Object_26",castShadow:!0,receiveShadow:!0,geometry:n.Object_26.geometry,material:r["switch.010"]})]}),w.jsxs("group",{name:"Cube027_8",position:[-.072,-.007,-.001],rotation:[-3.089,0,0],scale:.5,children:[w.jsx("mesh",{name:"Object_28",castShadow:!0,receiveShadow:!0,geometry:n.Object_28.geometry,material:r["switch_bottom.008"]}),w.jsx("mesh",{name:"Object_29",castShadow:!0,receiveShadow:!0,geometry:n.Object_29.geometry,material:r["switch.010"]})]}),w.jsxs("group",{name:"Cube028_9",position:[-.067,-.007,.014],rotation:[-3.089,0,0],scale:.5,children:[w.jsx("mesh",{name:"Object_31",castShadow:!0,receiveShadow:!0,geometry:n.Object_31.geometry,material:r["switch_bottom.008"]}),w.jsx("mesh",{name:"Object_32",castShadow:!0,receiveShadow:!0,geometry:n.Object_32.geometry,material:r["switch.010"]})]}),w.jsxs("group",{name:"Cube029_10",position:[-.045,-.008,.029],rotation:[-3.089,0,0],scale:.5,children:[w.jsx("mesh",{name:"Object_34",castShadow:!0,receiveShadow:!0,geometry:n.Object_34.geometry,material:r["switch_bottom.008"]}),w.jsx("mesh",{name:"Object_35",castShadow:!0,receiveShadow:!0,geometry:n.Object_35.geometry,material:r["switch.010"]})]}),w.jsxs("group",{name:"Cube030_11",position:[.024,-.008,.029],rotation:[-3.089,0,0],scale:.5,children:[w.jsx("mesh",{name:"Object_37",castShadow:!0,receiveShadow:!0,geometry:n.Object_37.geometry,material:r["switch_bottom.008"]}),w.jsx("mesh",{name:"Object_38",castShadow:!0,receiveShadow:!0,geometry:n.Object_38.geometry,material:r["switch.010"]})]}),w.jsxs("group",{name:"Cube031_12",position:[.043,-.008,.029],rotation:[-3.089,0,0],scale:.5,children:[w.jsx("mesh",{name:"Object_40",castShadow:!0,receiveShadow:!0,geometry:n.Object_40.geometry,material:r["switch_bottom.008"]}),w.jsx("mesh",{name:"Object_41",castShadow:!0,receiveShadow:!0,geometry:n.Object_41.geometry,material:r["switch.010"]})]}),w.jsxs("group",{name:"Cube032_13",position:[.06,-.008,.029],rotation:[-3.089,0,0],scale:.5,children:[w.jsx("mesh",{name:"Object_43",castShadow:!0,receiveShadow:!0,geometry:n.Object_43.geometry,material:r["switch_bottom.008"]}),w.jsx("mesh",{name:"Object_44",castShadow:!0,receiveShadow:!0,geometry:n.Object_44.geometry,material:r["switch.010"]})]}),w.jsxs("group",{name:"Cube033_14",position:[.076,-.008,.029],rotation:[-3.089,0,0],scale:.5,children:[w.jsx("mesh",{name:"Object_46",castShadow:!0,receiveShadow:!0,geometry:n.Object_46.geometry,material:r["switch_bottom.008"]}),w.jsx("mesh",{name:"Object_47",castShadow:!0,receiveShadow:!0,geometry:n.Object_47.geometry,material:r["switch.010"]})]}),w.jsxs("group",{name:"Cube034_15",position:[.096,-.008,.029],rotation:[-3.089,0,0],scale:.5,children:[w.jsx("mesh",{name:"Object_49",castShadow:!0,receiveShadow:!0,geometry:n.Object_49.geometry,material:r["switch_bottom.008"]}),w.jsx("mesh",{name:"Object_50",castShadow:!0,receiveShadow:!0,geometry:n.Object_50.geometry,material:r["switch.010"]})]}),w.jsxs("group",{name:"Cube035_16",position:[.088,-.007,.014],rotation:[-3.089,0,0],scale:.5,children:[w.jsx("mesh",{name:"Object_52",castShadow:!0,receiveShadow:!0,geometry:n.Object_52.geometry,material:r["switch_bottom.008"]}),w.jsx("mesh",{name:"Object_53",castShadow:!0,receiveShadow:!0,geometry:n.Object_53.geometry,material:r["switch.010"]})]}),w.jsxs("group",{name:"Cube036_17",position:[.093,-.007,-.001],rotation:[-3.089,0,0],scale:.5,children:[w.jsx("mesh",{name:"Object_55",castShadow:!0,receiveShadow:!0,geometry:n.Object_55.geometry,material:r["switch_bottom.008"]}),w.jsx("mesh",{name:"Object_56",castShadow:!0,receiveShadow:!0,geometry:n.Object_56.geometry,material:r["switch.010"]})]}),w.jsxs("group",{name:"Cube037_18",position:[.097,-.006,-.016],rotation:[-3.089,0,0],scale:.5,children:[w.jsx("mesh",{name:"Object_58",castShadow:!0,receiveShadow:!0,geometry:n.Object_58.geometry,material:r["switch_bottom.008"]}),w.jsx("mesh",{name:"Object_59",castShadow:!0,receiveShadow:!0,geometry:n.Object_59.geometry,material:r["switch.010"]})]}),w.jsxs("group",{name:"Cube038_19",position:[.095,-.005,-.03],rotation:[-3.089,0,0],scale:.5,children:[w.jsx("mesh",{name:"Object_61",castShadow:!0,receiveShadow:!0,geometry:n.Object_61.geometry,material:r["switch_bottom.008"]}),w.jsx("mesh",{name:"Object_62",castShadow:!0,receiveShadow:!0,geometry:n.Object_62.geometry,material:r["switch.010"]})]}),w.jsx("group",{name:"plate_20",position:[.001,-.013,-.001],children:w.jsx("mesh",{name:"Object_64",castShadow:!0,receiveShadow:!0,geometry:n.Object_64.geometry,material:r.plate})}),w.jsx("group",{name:"Cube_21",position:[-.097,.002,-.029],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_66",castShadow:!0,receiveShadow:!0,geometry:n.Object_66.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube001_22",position:[-.072,.001,0],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_68",castShadow:!0,receiveShadow:!0,geometry:n.Object_68.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube002_23",position:[-.067,0,.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_70",castShadow:!0,receiveShadow:!0,geometry:n.Object_70.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube003_24",position:[-.095,.002,-.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_72",castShadow:!0,receiveShadow:!0,geometry:n.Object_72.geometry,material:r["keycaps.011"]})}),w.jsx("group",{name:"Cube004_25",position:[-.077,.001,-.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_74",castShadow:!0,receiveShadow:!0,geometry:n.Object_74.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube005_26",position:[-.092,.001,0],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_76",castShadow:!0,receiveShadow:!0,geometry:n.Object_76.geometry,material:r["keycaps.011"]})}),w.jsx("group",{name:"Cube006_27",position:[-.09,0,.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_78",castShadow:!0,receiveShadow:!0,geometry:n.Object_78.geometry,material:r["keycaps.011"]})}),w.jsx("group",{name:"Cube007_28",position:[-.01,0,.03],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_80",castShadow:!0,receiveShadow:!0,geometry:n.Object_80.geometry,material:r["keycaps.011"]})}),w.jsx("group",{name:"Cube008_29",position:[-.096,-.001,.03],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_82",castShadow:!0,receiveShadow:!0,geometry:n.Object_82.geometry,material:r["keycaps.011"]})}),w.jsx("group",{name:"Cube009_30",position:[-.08,-.001,.03],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_84",castShadow:!0,receiveShadow:!0,geometry:n.Object_84.geometry,material:r["keycaps.011"]})}),w.jsx("group",{name:"Cube010_31",position:[-.063,-.001,.03],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_86",castShadow:!0,receiveShadow:!0,geometry:n.Object_86.geometry,material:r["keycaps.011"]})}),w.jsx("group",{name:"Cube011_32",position:[.076,-.001,.03],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_88",castShadow:!0,receiveShadow:!0,geometry:n.Object_88.geometry,material:r["keycaps.011"]})}),w.jsx("group",{name:"Cube012_33",position:[.06,-.001,.03],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_90",castShadow:!0,receiveShadow:!0,geometry:n.Object_90.geometry,material:r["keycaps.011"]})}),w.jsx("group",{name:"Cube013_34",position:[.043,-.001,.03],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_92",castShadow:!0,receiveShadow:!0,geometry:n.Object_92.geometry,material:r["keycaps.011"]})}),w.jsx("group",{name:"Cube014_35",position:[.096,-.001,.03],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_94",castShadow:!0,receiveShadow:!0,geometry:n.Object_94.geometry,material:r["keycaps.011"]})}),w.jsx("group",{name:"Cube015_36",position:[.097,.002,-.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_96",castShadow:!0,receiveShadow:!0,geometry:n.Object_96.geometry,material:r["keycaps.011"]})}),w.jsx("group",{name:"Cube016_37",position:[.094,.003,-.029],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_98",castShadow:!0,receiveShadow:!0,geometry:n.Object_98.geometry,material:r["keycaps.011"]})}),w.jsx("group",{name:"Cube017_38",position:[.093,.001,0],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_100",castShadow:!0,receiveShadow:!0,geometry:n.Object_100.geometry,material:r["keycaps.011"]})}),w.jsx("group",{name:"Cube018_39",position:[.088,0,.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_102",castShadow:!0,receiveShadow:!0,geometry:n.Object_102.geometry,material:r["keycaps.011"]})}),w.jsx("group",{name:"Cube039_40",position:[-.083,.002,-.029],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_104",castShadow:!0,receiveShadow:!0,geometry:n.Object_104.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube040_41",position:[-.069,.002,-.029],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_106",castShadow:!0,receiveShadow:!0,geometry:n.Object_106.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube041_42",position:[-.054,.002,-.029],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_108",castShadow:!0,receiveShadow:!0,geometry:n.Object_108.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube042_43",position:[-.04,.002,-.029],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_110",castShadow:!0,receiveShadow:!0,geometry:n.Object_110.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube043_44",position:[-.026,.002,-.029],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_112",castShadow:!0,receiveShadow:!0,geometry:n.Object_112.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube044_45",position:[-.011,.002,-.029],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_114",castShadow:!0,receiveShadow:!0,geometry:n.Object_114.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube045_46",position:[.003,.002,-.029],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_116",castShadow:!0,receiveShadow:!0,geometry:n.Object_116.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube046_47",position:[.017,.002,-.029],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_118",castShadow:!0,receiveShadow:!0,geometry:n.Object_118.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube047_48",position:[.031,.002,-.029],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_120",castShadow:!0,receiveShadow:!0,geometry:n.Object_120.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube048_49",position:[.046,.002,-.029],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_122",castShadow:!0,receiveShadow:!0,geometry:n.Object_122.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube049_50",position:[.06,.002,-.029],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_124",castShadow:!0,receiveShadow:!0,geometry:n.Object_124.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube050_51",position:[.074,.002,-.029],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_126",castShadow:!0,receiveShadow:!0,geometry:n.Object_126.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube051_52",position:[-.058,.001,0],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_128",castShadow:!0,receiveShadow:!0,geometry:n.Object_128.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube052_53",position:[-.044,.001,0],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_130",castShadow:!0,receiveShadow:!0,geometry:n.Object_130.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube053_54",position:[-.029,.001,0],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_132",castShadow:!0,receiveShadow:!0,geometry:n.Object_132.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube054_55",position:[-.015,.001,0],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_134",castShadow:!0,receiveShadow:!0,geometry:n.Object_134.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube055_56",position:[-.001,.001,0],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_136",castShadow:!0,receiveShadow:!0,geometry:n.Object_136.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube056_57",position:[.014,.001,0],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_138",castShadow:!0,receiveShadow:!0,geometry:n.Object_138.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube057_58",position:[.028,.001,0],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_140",castShadow:!0,receiveShadow:!0,geometry:n.Object_140.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube058_59",position:[.042,.001,0],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_142",castShadow:!0,receiveShadow:!0,geometry:n.Object_142.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube059_60",position:[.056,.001,0],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_144",castShadow:!0,receiveShadow:!0,geometry:n.Object_144.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube060_61",position:[.071,.001,0],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_146",castShadow:!0,receiveShadow:!0,geometry:n.Object_146.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube061_62",position:[-.053,0,.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_148",castShadow:!0,receiveShadow:!0,geometry:n.Object_148.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube062_63",position:[-.039,0,.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_150",castShadow:!0,receiveShadow:!0,geometry:n.Object_150.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube063_64",position:[-.024,0,.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_152",castShadow:!0,receiveShadow:!0,geometry:n.Object_152.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube064_65",position:[-.01,0,.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_154",castShadow:!0,receiveShadow:!0,geometry:n.Object_154.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube065_66",position:[.004,0,.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_156",castShadow:!0,receiveShadow:!0,geometry:n.Object_156.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube066_67",position:[.019,0,.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_158",castShadow:!0,receiveShadow:!0,geometry:n.Object_158.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube067_68",position:[.033,0,.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_160",castShadow:!0,receiveShadow:!0,geometry:n.Object_160.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube068_69",position:[.047,0,.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_162",castShadow:!0,receiveShadow:!0,geometry:n.Object_162.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube069_70",position:[.061,0,.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_164",castShadow:!0,receiveShadow:!0,geometry:n.Object_164.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube070_71",position:[-.063,.001,-.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_166",castShadow:!0,receiveShadow:!0,geometry:n.Object_166.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube071_72",position:[-.049,.001,-.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_168",castShadow:!0,receiveShadow:!0,geometry:n.Object_168.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube072_73",position:[-.034,.001,-.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_170",castShadow:!0,receiveShadow:!0,geometry:n.Object_170.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube073_74",position:[-.02,.001,-.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_172",castShadow:!0,receiveShadow:!0,geometry:n.Object_172.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube074_75",position:[-.006,.001,-.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_174",castShadow:!0,receiveShadow:!0,geometry:n.Object_174.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube075_76",position:[.009,.001,-.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_176",castShadow:!0,receiveShadow:!0,geometry:n.Object_176.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube076_77",position:[.023,.001,-.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_178",castShadow:!0,receiveShadow:!0,geometry:n.Object_178.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube077_78",position:[.037,.001,-.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_180",castShadow:!0,receiveShadow:!0,geometry:n.Object_180.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube078_79",position:[.051,.001,-.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_182",castShadow:!0,receiveShadow:!0,geometry:n.Object_182.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube079_80",position:[.066,.001,-.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_184",castShadow:!0,receiveShadow:!0,geometry:n.Object_184.geometry,material:r["switch_bottom.008"]})}),w.jsx("group",{name:"Cube080_81",position:[.08,.001,-.015],rotation:[.052,0,0],scale:.5,children:w.jsx("mesh",{name:"Object_186",castShadow:!0,receiveShadow:!0,geometry:n.Object_186.geometry,material:r["switch_bottom.008"]})})]})})})})})}const c3e="/assets/geek-BJSxTH6s.glb";function u3e({currentAnimation:i,...e}){const t=U.useRef(),{nodes:n,materials:r,animations:s}=Ea(c3e),{actions:o}=Tg(s,t);return U.useEffect(()=>{o["mixamo.com"].play()},[]),w.jsx("group",{ref:t,...e,dispose:null,children:w.jsx("group",{name:"Sketchfab_Scene",children:w.jsx("group",{name:"Sketchfab_model",rotation:[-Math.PI/2,0,0],scale:.018,children:w.jsx("group",{name:"9e65729ec05243e58484564153430d3efbx",rotation:[Math.PI/2,0,0],children:w.jsx("group",{name:"Object_2",children:w.jsxs("group",{name:"RootNode",children:[w.jsx("group",{name:"Human_806polysMesh",scale:7.077,children:w.jsx("group",{name:"Human_806polystransform17"})}),w.jsxs("group",{name:"pCube2",children:[w.jsx("group",{name:"polySurface1",children:w.jsx("group",{name:"transform2"})}),w.jsx("group",{name:"polySurface2",position:[4.296,0,0],children:w.jsx("group",{name:"transform3"})}),w.jsx("group",{name:"transform1"})]}),w.jsx("group",{name:"pCube3",position:[0,37.675,2.884],scale:[1.669,.372,.697],children:w.jsx("group",{name:"Human_806polystransform16"})}),w.jsx("group",{name:"polySurface21",position:[-.104,0,0],scale:[.894,1,1],children:w.jsx("group",{name:"Human_806polystransform15"})}),w.jsx("group",{name:"pCube4",position:[-.854,39.023,3.079],scale:[1.149,.846,.358],children:w.jsx("group",{name:"Human_806polystransform14"})}),w.jsx("group",{name:"pCube6",position:[.844,39.023,3.079],scale:[1.149,.846,.358],children:w.jsx("group",{name:"Human_806polystransform13"})}),w.jsx("group",{name:"pCube7",position:[-.011,39.199,2.883],scale:[.7,.253,.846],children:w.jsx("group",{name:"Human_806polystransform12"})}),w.jsx("group",{name:"pCube8",position:[-.015,39.692,2.809],scale:[3.065,.299,2.42],children:w.jsx("group",{name:"Human_806polystransform11"})}),w.jsx("group",{name:"pCube9",position:[1.878,39.174,.575],scale:[.92,1.53,1.53],children:w.jsx("group",{name:"Human_806polystransform10"})}),w.jsx("group",{name:"pCube10",position:[-2.061,39.174,.575],rotation:[0,0,-Math.PI],scale:[.92,1.53,1.53],children:w.jsx("group",{name:"Human_806polystransform9"})}),w.jsx("group",{name:"pCube11",position:[-.015,41.807,.496],scale:[3.065,.453,.269],children:w.jsx("group",{name:"Human_806polystransform8"})}),w.jsx("group",{name:"pCube12",position:[-1.38,39.265,2.086],rotation:[0,.316,0],scale:[.465,.28,1.693],children:w.jsx("group",{name:"Human_806polystransform7"})}),w.jsx("group",{name:"pCube13",position:[1.306,39.265,2.078],rotation:[0,-.282,0],scale:[.465,.28,1.693],children:w.jsx("group",{name:"Human_806polystransform6"})}),w.jsx("group",{name:"pCube14",position:[.835,39.048,3.107],scale:[.263,.242,.242],children:w.jsx("group",{name:"Human_806polystransform5"})}),w.jsx("group",{name:"pCube15",position:[-.841,39.048,3.107],scale:[.263,.242,.242],children:w.jsx("group",{name:"Human_806polystransform4"})}),w.jsx("group",{name:"pCube16",position:[-.841,39.048,2.758],scale:[.263,.242,.242],children:w.jsx("group",{name:"Human_806polystransform3"})}),w.jsx("group",{name:"pCube17",position:[.835,39.048,2.758],scale:[.263,.242,.242],children:w.jsx("group",{name:"Human_806polystransform2"})}),w.jsx("group",{name:"pCube18",position:[0,35.958,-3.063],scale:[6.786,1,4.16],children:w.jsx("group",{name:"Human_806polystransform1"})}),w.jsx("group",{name:"Human_806polysMesh1",position:[0,1.501,1.385],scale:4.25}),w.jsx("group",{name:"Character1_Reference",children:w.jsxs("group",{name:"Object_46",children:[w.jsx("primitive",{object:n._rootJoint}),w.jsx("skinnedMesh",{name:"Object_49",geometry:n.Object_49.geometry,material:r.grey,skeleton:n.Object_49.skeleton}),w.jsx("skinnedMesh",{name:"Object_50",geometry:n.Object_50.geometry,material:r.Dark_grey,skeleton:n.Object_50.skeleton}),w.jsx("skinnedMesh",{name:"Object_51",geometry:n.Object_51.geometry,material:r.black,skeleton:n.Object_51.skeleton}),w.jsx("skinnedMesh",{name:"Object_52",geometry:n.Object_52.geometry,material:r.cream,skeleton:n.Object_52.skeleton}),w.jsx("skinnedMesh",{name:"Object_53",geometry:n.Object_53.geometry,material:r.Pants,skeleton:n.Object_53.skeleton}),w.jsx("skinnedMesh",{name:"Object_54",geometry:n.Object_54.geometry,material:r.blonde,skeleton:n.Object_54.skeleton}),w.jsx("skinnedMesh",{name:"Object_55",geometry:n.Object_55.geometry,material:r.white,skeleton:n.Object_55.skeleton}),w.jsx("group",{name:"Object_48",position:[0,1.501,1.385],scale:4.25})]})})]})})})})})})}const h3e="/assets/ornament-Q3ZMWN-n.glb";function d3e(i){const e=U.useRef(),{nodes:t,materials:n,animations:r}=Ea(h3e),{actions:s}=Tg(r,e);return U.useEffect(()=>{s["Take 001"].play()},[]),w.jsx("group",{ref:e,...i,dispose:null,children:w.jsx("group",{name:"Sketchfab_Scene",children:w.jsx("group",{name:"Sketchfab_model",rotation:[-Math.PI/2,0,0],children:w.jsx("group",{name:"2d608fdf438140528168b691e5ff3c48fbx",rotation:[Math.PI/2,0,0],scale:.01,children:w.jsx("group",{name:"Object_2",children:w.jsx("group",{name:"RootNode",children:w.jsxs("group",{name:"rotate",children:[w.jsx("group",{name:"quan",rotation:[Math.PI,0,0],scale:.05,children:w.jsx("mesh",{name:"quan_rotate_t_0",castShadow:!0,receiveShadow:!0,geometry:t.quan_rotate_t_0.geometry,material:n.rotate_t})}),w.jsx("group",{name:"locator1",position:[.477,5.456,5.952],rotation:[-1.483,.087,1.563],children:w.jsx("group",{name:"yuan_1",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator2",position:[.861,4.883,5.885],rotation:[-1.394,.172,1.54],children:w.jsx("group",{name:"yuan_1_1",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_1",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_1.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator3",position:[1.151,4.297,5.773],rotation:[-1.3,.253,1.502],children:w.jsx("group",{name:"yuan_1_2",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_2",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_2.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator4",position:[1.351,3.712,5.617],rotation:[-1.201,.327,1.447],children:w.jsx("group",{name:"yuan_1_3",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_3",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_3.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator5",position:[1.465,3.142,5.418],rotation:[-1.096,.393,1.376],children:w.jsx("group",{name:"yuan_1_4",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_4",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_4.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator6",position:[1.502,2.601,5.178],rotation:[-.983,.448,1.29],children:w.jsx("group",{name:"yuan_1_5",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_5",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_5.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator7",position:[1.47,2.099,4.898],rotation:[-.864,.489,1.189],children:w.jsx("group",{name:"yuan_1_6",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_6",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_6.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator8",position:[1.38,1.645,4.581],rotation:[-.74,.515,1.076],children:w.jsx("group",{name:"yuan_1_7",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_7",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_7.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator9",position:[1.246,1.246,4.229],rotation:[-.615,Math.PI/6,.955],children:w.jsx("group",{name:"yuan_1_8",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_8",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_8.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator10",position:[1.079,.905,3.845],rotation:[-.495,.515,.831],children:w.jsx("group",{name:"yuan_1_9",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_9",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_9.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator11",position:[.893,.625,3.431],rotation:[-.382,.489,.707],children:w.jsx("group",{name:"yuan_1_10",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_10",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_10.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator12",position:[.7,.404,2.991],rotation:[-.281,.448,.588],children:w.jsx("group",{name:"yuan_1_11",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_11",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_11.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator13",position:[.513,.239,2.529],rotation:[-.195,.393,.475],children:w.jsx("group",{name:"yuan_1_12",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_12",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_12.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator14",position:[.343,.125,2.047],rotation:[-.124,.327,.37],children:w.jsx("group",{name:"yuan_1_13",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_13",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_13.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator15",position:[.2,.054,1.549],rotation:[-.069,.253,.271],children:w.jsx("group",{name:"yuan_1_14",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_14",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_14.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator16",position:[.092,.016,1.039],rotation:[-.031,.172,.177],children:w.jsx("group",{name:"yuan_1_15",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_15",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_15.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator17",position:[.024,.002,.522],rotation:[-.008,.087,.088],children:w.jsx("group",{name:"yuan_1_16",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_16",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_16.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator18",children:w.jsx("group",{name:"yuan_1_17",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_17",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_17.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator19",position:[-5.456,.477,5.952],rotation:[-.783,-1.447,2.354],children:w.jsx("group",{name:"yuan_1_18",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_18",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_18.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator20",position:[-4.883,.861,5.885],rotation:[-.778,-1.325,2.349],children:w.jsx("group",{name:"yuan_1_19",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_19",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_19.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator21",position:[-4.297,1.151,5.773],rotation:[-.768,-1.203,2.339],children:w.jsx("group",{name:"yuan_1_20",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_20",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_20.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator22",position:[-3.712,1.351,5.617],rotation:[-.754,-1.082,2.325],children:w.jsx("group",{name:"yuan_1_21",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_21",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_21.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator23",position:[-3.142,1.465,5.418],rotation:[-.736,-.964,2.307],children:w.jsx("group",{name:"yuan_1_22",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_22",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_22.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator24",position:[-2.601,1.502,5.178],rotation:[-.714,-.848,2.285],children:w.jsx("group",{name:"yuan_1_23",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_23",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_23.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator25",position:[-2.099,1.47,4.898],rotation:[-.686,-.736,2.257],children:w.jsx("group",{name:"yuan_1_24",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_24",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_24.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator26",position:[-1.645,1.38,4.581],rotation:[-.654,-.627,2.224],children:w.jsx("group",{name:"yuan_1_25",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_25",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_25.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator27",position:[-1.246,1.246,4.229],rotation:[-.615,-Math.PI/6,2.186],children:w.jsx("group",{name:"yuan_1_26",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_26",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_26.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator28",position:[-.905,1.079,3.845],rotation:[-.571,-.426,2.142],children:w.jsx("group",{name:"yuan_1_27",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_27",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_27.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator29",position:[-.625,.893,3.431],rotation:[-.521,-.335,2.092],children:w.jsx("group",{name:"yuan_1_28",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_28",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_28.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator30",position:[-.404,.7,2.991],rotation:[-.464,-.253,2.034],children:w.jsx("group",{name:"yuan_1_29",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_29",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_29.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator31",position:[-.239,.513,2.529],rotation:[-.4,-.18,1.971],children:w.jsx("group",{name:"yuan_1_30",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_30",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_30.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator32",position:[-.125,.343,2.047],rotation:[-.33,-.117,1.9],children:w.jsx("group",{name:"yuan_1_31",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_31",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_31.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator33",position:[-.054,.2,1.549],rotation:[-.253,-.067,1.824],children:w.jsx("group",{name:"yuan_1_32",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_32",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_32.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator34",position:[-.016,.092,1.039],rotation:[-.172,-.03,1.743],children:w.jsx("group",{name:"yuan_1_33",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_33",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_33.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator35",position:[-.002,.024,.522],rotation:[-.087,-.008,1.658],children:w.jsx("group",{name:"yuan_1_34",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_34",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_34.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator36",rotation:[0,0,Math.PI/2],children:w.jsx("group",{name:"yuan_1_35",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_35",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_35.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator37",position:[-.477,-5.456,5.952],rotation:[1.483,-.087,-1.578],children:w.jsx("group",{name:"yuan_1_36",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_36",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_36.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator38",position:[-.861,-4.883,5.885],rotation:[1.394,-.172,-1.601],children:w.jsx("group",{name:"yuan_1_37",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_37",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_37.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator39",position:[-1.151,-4.297,5.773],rotation:[1.3,-.253,-1.64],children:w.jsx("group",{name:"yuan_1_38",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_38",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_38.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator40",position:[-1.351,-3.712,5.617],rotation:[1.201,-.327,-1.695],children:w.jsx("group",{name:"yuan_1_39",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_39",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_39.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator41",position:[-1.465,-3.142,5.418],rotation:[1.096,-.393,-1.765],children:w.jsx("group",{name:"yuan_1_40",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_40",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_40.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator42",position:[-1.502,-2.601,5.178],rotation:[.983,-.448,-1.852],children:w.jsx("group",{name:"yuan_1_41",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_41",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_41.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator43",position:[-1.47,-2.099,4.898],rotation:[.864,-.489,-1.953],children:w.jsx("group",{name:"yuan_1_42",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_42",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_42.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator44",position:[-1.38,-1.645,4.581],rotation:[.74,-.515,-2.065],children:w.jsx("group",{name:"yuan_1_43",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_43",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_43.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator45",position:[-1.246,-1.246,4.229],rotation:[.615,-Math.PI/6,-2.186],children:w.jsx("group",{name:"yuan_1_44",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_44",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_44.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator46",position:[-1.079,-.905,3.845],rotation:[.495,-.515,-2.311],children:w.jsx("group",{name:"yuan_1_45",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_45",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_45.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator47",position:[-.893,-.625,3.431],rotation:[.382,-.489,-2.434],children:w.jsx("group",{name:"yuan_1_46",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_46",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_46.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator48",position:[-.7,-.404,2.991],rotation:[.281,-.448,-2.554],children:w.jsx("group",{name:"yuan_1_47",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_47",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_47.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator49",position:[-.513,-.239,2.529],rotation:[.195,-.393,-2.666],children:w.jsx("group",{name:"yuan_1_48",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_48",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_48.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator50",position:[-.343,-.125,2.047],rotation:[.124,-.327,-2.772],children:w.jsx("group",{name:"yuan_1_49",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_49",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_49.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator51",position:[-.2,-.054,1.549],rotation:[.069,-.253,-2.871],children:w.jsx("group",{name:"yuan_1_50",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_50",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_50.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator52",position:[-.092,-.016,1.039],rotation:[.031,-.172,-2.964],children:w.jsx("group",{name:"yuan_1_51",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_51",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_51.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator53",position:[-.024,-.002,.522],rotation:[.008,-.087,-3.054],children:w.jsx("group",{name:"yuan_1_52",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_52",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_52.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator54",rotation:[0,0,Math.PI],children:w.jsx("group",{name:"yuan_1_53",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_53",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_53.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator55",position:[5.456,-.477,5.952],rotation:[.783,1.447,-.787],children:w.jsx("group",{name:"yuan_1_54",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_54",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_54.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator56",position:[4.883,-.861,5.885],rotation:[.778,1.325,-.793],children:w.jsx("group",{name:"yuan_1_55",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_55",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_55.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator57",position:[4.297,-1.151,5.773],rotation:[.768,1.203,-.803],children:w.jsx("group",{name:"yuan_1_56",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_56",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_56.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator58",position:[3.712,-1.351,5.617],rotation:[.754,1.082,-.816],children:w.jsx("group",{name:"yuan_1_57",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_57",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_57.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator59",position:[3.142,-1.465,5.418],rotation:[.736,.964,-.835],children:w.jsx("group",{name:"yuan_1_58",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_58",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_58.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator60",position:[2.601,-1.502,5.178],rotation:[.714,.848,-.857],children:w.jsx("group",{name:"yuan_1_59",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_59",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_59.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator61",position:[2.099,-1.47,4.898],rotation:[.686,.736,-.884],children:w.jsx("group",{name:"yuan_1_60",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_60",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_60.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator62",position:[1.645,-1.38,4.581],rotation:[.654,.627,-.917],children:w.jsx("group",{name:"yuan_1_61",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_61",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_61.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator63",position:[1.246,-1.246,4.229],rotation:[.615,Math.PI/6,-.955],children:w.jsx("group",{name:"yuan_1_62",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_62",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_62.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator64",position:[.905,-1.079,3.845],rotation:[.571,.426,-1],children:w.jsx("group",{name:"yuan_1_63",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_63",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_63.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator65",position:[.625,-.893,3.431],rotation:[.521,.335,-1.05],children:w.jsx("group",{name:"yuan_1_64",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_64",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_64.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator66",position:[.404,-.7,2.991],rotation:[.464,.253,-1.107],children:w.jsx("group",{name:"yuan_1_65",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_65",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_65.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator67",position:[.239,-.513,2.529],rotation:[.4,.18,-1.171],children:w.jsx("group",{name:"yuan_1_66",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_66",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_66.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator68",position:[.125,-.343,2.047],rotation:[.33,.117,-1.241],children:w.jsx("group",{name:"yuan_1_67",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_67",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_67.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator69",position:[.054,-.2,1.549],rotation:[.253,.067,-1.318],children:w.jsx("group",{name:"yuan_1_68",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_68",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_68.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator70",position:[.016,-.092,1.039],rotation:[.172,.03,-1.399],children:w.jsx("group",{name:"yuan_1_69",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_69",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_69.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator71",position:[.002,-.024,.522],rotation:[.087,.008,-1.484],children:w.jsx("group",{name:"yuan_1_70",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_70",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_70.geometry,material:n.rotate_t})})}),w.jsx("group",{name:"locator72",rotation:[0,0,-Math.PI/2],children:w.jsx("group",{name:"yuan_1_71",position:[5.986,-.008,-.012],children:w.jsx("mesh",{name:"yuan_1_rotate_t_0_71",castShadow:!0,receiveShadow:!0,geometry:t.yuan_1_rotate_t_0_71.geometry,material:n.rotate_t})})})]})})})})})})})}function kl(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Pq(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var qs={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},pg={duration:.5,overwrite:!1,delay:0},HL,Dr,On,Bo=1e8,bn=1/Bo,MP=Math.PI*2,f3e=MP/4,p3e=0,Iq=Math.sqrt,m3e=Math.cos,g3e=Math.sin,Yi=function(e){return typeof e=="string"},ei=function(e){return typeof e=="function"},Vc=function(e){return typeof e=="number"},GL=function(e){return typeof e>"u"},vl=function(e){return typeof e=="object"},vs=function(e){return e!==!1},VL=function(){return typeof window<"u"},QS=function(e){return ei(e)||Yi(e)},Lq=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Br=Array.isArray,EP=/(?:-?\.?\d|\.)+/gi,Dq=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,cm=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,dT=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Bq=/[+-]=-?[.\d]+/,Fq=/[^,'"\[\]\s]+/gi,v3e=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,zn,Na,TP,WL,to={},Mb={},Oq,kq=function(e){return(Mb=E0(e,to))&&As},XL=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},wy=function(e,t){return!t&&console.warn(e)},Nq=function(e,t){return e&&(to[e]=t)&&Mb&&(Mb[e]=t)||to},by=function(){return 0},y3e={suppressEvents:!0,isStart:!0,kill:!1},Y5={suppressEvents:!0,kill:!1},_3e={suppressEvents:!0},KL={},_h=[],RP={},Uq,js={},fT={},wz=30,J5=[],YL="",JL=function(e){var t=e[0],n,r;if(vl(t)||ei(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(r=J5.length;r--&&!J5[r].targetTest(t););n=J5[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new cZ(e[r],n)))||e.splice(r,1);return e},o0=function(e){return e._gsap||JL(Fo(e))[0]._gsap},zq=function(e,t,n){return(n=e[t])&&ei(n)?e[t]():GL(n)&&e.getAttribute&&e.getAttribute(t)||n},ys=function(e,t){return(e=e.split(",")).forEach(t)||e},ai=function(e){return Math.round(e*1e5)/1e5||0},Vi=function(e){return Math.round(e*1e7)/1e7||0},Em=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+r:n==="-"?e-r:n==="*"?e*r:e/r},x3e=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},Eb=function(){var e=_h.length,t=_h.slice(0),n,r;for(RP={},_h.length=0,n=0;n<e;n++)r=t[n],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},jq=function(e,t,n,r){_h.length&&!Dr&&Eb(),e.render(t,n,Dr&&t<0&&(e._initted||e._startAt)),_h.length&&!Dr&&Eb()},Hq=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(Fq).length<2?t:Yi(e)?e.trim():e},Gq=function(e){return e},Uo=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},A3e=function(e){return function(t,n){for(var r in n)r in t||r==="duration"&&e||r==="ease"||(t[r]=n[r])}},E0=function(e,t){for(var n in t)e[n]=t[n];return e},bz=function i(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=vl(t[n])?i(e[n]||(e[n]={}),t[n]):t[n]);return e},Tb=function(e,t){var n={},r;for(r in e)r in t||(n[r]=e[r]);return n},Tv=function(e){var t=e.parent||zn,n=e.keyframes?A3e(Br(e.keyframes)):Uo;if(vs(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},S3e=function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0},Vq=function(e,t,n,r,s){var o=e[r],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},VM=function(e,t,n,r){n===void 0&&(n="_first"),r===void 0&&(r="_last");var s=t._prev,o=t._next;s?s._next=o:e[n]===t&&(e[n]=o),o?o._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},Ph=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},a0=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},w3e=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},PP=function(e,t,n,r){return e._startAt&&(Dr?e._startAt.revert(Y5):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},b3e=function i(e){return!e||e._ts&&i(e.parent)},Cz=function(e){return e._repeat?mg(e._tTime,e=e.duration()+e._rDelay)*e:0},mg=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},Rb=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},WM=function(e){return e._end=Vi(e._start+(e._tDur/Math.abs(e._ts||e._rts||bn)||0))},XM=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Vi(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),WM(e),n._dirty||a0(n,e)),e},Wq=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=Rb(e.rawTime(),t),(!t._dur||Rx(0,t.totalDuration(),n)-t._tTime>bn)&&t.render(n,!0)),a0(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-bn}},rl=function(e,t,n,r){return t.parent&&Ph(t),t._start=Vi((Vc(n)?n:n||e!==zn?yo(e,n,t):e._time)+t._delay),t._end=Vi(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Vq(e,t,"_first","_last",e._sort?"_start":0),IP(t)||(e._recent=t),r||Wq(e,t),e._ts<0&&XM(e,e._tTime),e},Xq=function(e,t){return(to.ScrollTrigger||XL("scrollTrigger",t))&&to.ScrollTrigger.create(t,e)},Kq=function(e,t,n,r,s){if(ZL(e,t,s),!e._initted)return 1;if(!n&&e._pt&&!Dr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Uq!==Gs.frame)return _h.push(e),e._lazy=[s,r],1},C3e=function i(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||i(t))},IP=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},M3e=function(e,t,n,r){var s=e.ratio,o=t<0||!t&&(!e._start&&C3e(e)&&!(!e._initted&&IP(e))||(e._ts<0||e._dp._ts<0)&&!IP(e))?0:1,a=e._rDelay,l=0,c,u,h;if(a&&e._repeat&&(l=Rx(0,e._tDur,t),u=mg(l,a),e._yoyo&&u&1&&(o=1-o),u!==mg(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Dr||r||e._zTime===bn||!t&&e._zTime){if(!e._initted&&Kq(e,t,r,n,l))return;for(h=e._zTime,e._zTime=t||(n?bn:0),n||(n=t&&!h),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;t<0&&PP(e,t,n,!0),e._onUpdate&&!n&&Ks(e,"onUpdate"),l&&e._repeat&&!n&&e.parent&&Ks(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&Ph(e,1),!n&&!Dr&&(Ks(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},E3e=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},gg=function(e,t,n,r){var s=e._repeat,o=Vi(t)||0,a=e._tTime/e._tDur;return a&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Vi(o*(s+1)+e._rDelay*s):o,a>0&&!r&&XM(e,e._tTime=e._tDur*a),e.parent&&WM(e),n||a0(e.parent,e),e},Mz=function(e){return e instanceof Yr?a0(e):gg(e,e._dur)},T3e={_start:0,endTime:by,totalDuration:by},yo=function i(e,t,n){var r=e.labels,s=e._recent||T3e,o=e.duration()>=Bo?s.endTime(!1):e._dur,a,l,c;return Yi(t)&&(isNaN(t)||t in r)?(l=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:n).totalDuration()/100:1)):a<0?(t in r||(r[t]=o),r[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&n&&(l=l/100*(Br(n)?n[0]:n).totalDuration()),a>1?i(e,t.substr(0,a-1),n)+l:o+l)):t==null?o:+t},Rv=function(e,t,n){var r=Vc(t[1]),s=(r?2:1)+(e<2?0:1),o=t[s],a,l;if(r&&(o.duration=t[1]),o.parent=n,e){for(a=o,l=n;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=vs(l.vars.inherit)&&l.parent;o.immediateRender=vs(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new vi(t[0],o,t[s+1])},Hh=function(e,t){return e||e===0?t(e):t},Rx=function(e,t,n){return n<e?e:n>t?t:n},Tr=function(e,t){return!Yi(e)||!(t=v3e.exec(e))?"":t[1]},R3e=function(e,t,n){return Hh(n,function(r){return Rx(e,t,r)})},LP=[].slice,Yq=function(e,t){return e&&vl(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&vl(e[0]))&&!e.nodeType&&e!==Na},P3e=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(r){var s;return Yi(r)&&!t||Yq(r,1)?(s=n).push.apply(s,Fo(r)):n.push(r)})||n},Fo=function(e,t,n){return On&&!t&&On.selector?On.selector(e):Yi(e)&&!n&&(TP||!vg())?LP.call((t||WL).querySelectorAll(e),0):Br(e)?P3e(e,n):Yq(e)?LP.call(e,0):e?[e]:[]},DP=function(e){return e=Fo(e)[0]||wy("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return Fo(t,n.querySelectorAll?n:n===e?wy("Invalid scope")||WL.createElement("div"):e)}},Jq=function(e){return e.sort(function(){return .5-Math.random()})},qq=function(e){if(ei(e))return e;var t=vl(e)?e:{each:e},n=l0(t.ease),r=t.from||0,s=parseFloat(t.base)||0,o={},a=r>0&&r<1,l=isNaN(r)||a,c=t.axis,u=r,h=r;return Yi(r)?u=h={center:.5,edges:.5,end:1}[r]||0:!a&&l&&(u=r[0],h=r[1]),function(d,m,g){var y=(g||t).length,_=o[y],v,A,S,C,T,E,R,D,I;if(!_){if(I=t.grid==="auto"?0:(t.grid||[1,Bo])[1],!I){for(R=-Bo;R<(R=g[I++].getBoundingClientRect().left)&&I<y;);I<y&&I--}for(_=o[y]=[],v=l?Math.min(I,y)*u-.5:r%I,A=I===Bo?0:l?y*h/I-.5:r/I|0,R=0,D=Bo,E=0;E<y;E++)S=E%I-v,C=A-(E/I|0),_[E]=T=c?Math.abs(c==="y"?C:S):Iq(S*S+C*C),T>R&&(R=T),T<D&&(D=T);r==="random"&&Jq(_),_.max=R-D,_.min=D,_.v=y=(parseFloat(t.amount)||parseFloat(t.each)*(I>y?y-1:c?c==="y"?y/I:I:Math.max(I,y/I))||0)*(r==="edges"?-1:1),_.b=y<0?s-y:s,_.u=Tr(t.amount||t.each)||0,n=n&&y<0?oZ(n):n}return y=(_[d]-_.min)/_.max||0,Vi(_.b+(n?n(y):y)*_.v)+_.u}},BP=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=Vi(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(Vc(n)?0:Tr(n))}},Zq=function(e,t){var n=Br(e),r,s;return!n&&vl(e)&&(r=n=e.radius||Bo,e.values?(e=Fo(e.values),(s=!Vc(e[0]))&&(r*=r)):e=BP(e.increment)),Hh(t,n?ei(e)?function(o){return s=e(o),Math.abs(s-o)<=r?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=Bo,u=0,h=e.length,d,m;h--;)s?(d=e[h].x-a,m=e[h].y-l,d=d*d+m*m):d=Math.abs(e[h]-a),d<c&&(c=d,u=h);return u=!r||c<=r?e[u]:o,s||u===o||Vc(o)?u:u+Tr(o)}:BP(e))},Qq=function(e,t,n,r){return Hh(Br(e)?!t:n===!0?!!(n=0):!r,function(){return Br(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*r)/r})},I3e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduce(function(s,o){return o(s)},r)}},L3e=function(e,t){return function(n){return e(parseFloat(n))+(t||Tr(n))}},D3e=function(e,t,n){return eZ(e,t,0,1,n)},$q=function(e,t,n){return Hh(n,function(r){return e[~~t(r)]})},B3e=function i(e,t,n){var r=t-e;return Br(e)?$q(e,i(0,e.length),t):Hh(n,function(s){return(r+(s-e)%r)%r+e})},F3e=function i(e,t,n){var r=t-e,s=r*2;return Br(e)?$q(e,i(0,e.length-1),t):Hh(n,function(o){return o=(s+(o-e)%s)%s||0,e+(o>r?s-o:o)})},Cy=function(e){for(var t=0,n="",r,s,o,a;~(r=e.indexOf("random(",t));)o=e.indexOf(")",r),a=e.charAt(r+7)==="[",s=e.substr(r+7,o-r-7).match(a?Fq:EP),n+=e.substr(t,r-t)+Qq(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return n+e.substr(t,e.length-t)},eZ=function(e,t,n,r,s){var o=t-e,a=r-n;return Hh(s,function(l){return n+((l-e)/o*a||0)})},O3e=function i(e,t,n,r){var s=isNaN(e+t)?0:function(m){return(1-m)*e+m*t};if(!s){var o=Yi(e),a={},l,c,u,h,d;if(n===!0&&(r=1)&&(n=null),o)e={p:e},t={p:t};else if(Br(e)&&!Br(t)){for(u=[],h=e.length,d=h-2,c=1;c<h;c++)u.push(i(e[c-1],e[c]));h--,s=function(g){g*=h;var y=Math.min(d,~~g);return u[y](g-y)},n=t}else r||(e=E0(Br(e)?[]:{},e));if(!u){for(l in t)qL.call(a,e,l,"get",t[l]);s=function(g){return eD(g,a)||(o?e.p:e)}}}return Hh(n,s)},Ez=function(e,t,n){var r=e.labels,s=Bo,o,a,l;for(o in r)a=r[o]-t,a<0==!!n&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},Ks=function(e,t,n){var r=e.vars,s=r[t],o=On,a=e._ctx,l,c,u;if(s)return l=r[t+"Params"],c=r.callbackScope||e,n&&_h.length&&Eb(),a&&(On=a),u=l?s.apply(c,l):s.call(c),On=o,u},ev=function(e){return Ph(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Dr),e.progress()<1&&Ks(e,"onInterrupt"),e},um,tZ=[],nZ=function(e){if(e)if(e=!e.name&&e.default||e,VL()||e.headless){var t=e.name,n=ei(e),r=t&&!n&&e.init?function(){this._props=[]}:e,s={init:by,render:eD,add:qL,kill:Q3e,modifier:Z3e,rawVars:0},o={targetTest:0,get:0,getSetter:$L,aliases:{},register:0};if(vg(),e!==r){if(js[t])return;Uo(r,Uo(Tb(e,s),o)),E0(r.prototype,E0(s,Tb(e,o))),js[r.prop=t]=r,e.targetTest&&(J5.push(r),KL[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}Nq(t,r),e.register&&e.register(As,r,_s)}else tZ.push(e)},vn=255,tv={aqua:[0,vn,vn],lime:[0,vn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,vn],navy:[0,0,128],white:[vn,vn,vn],olive:[128,128,0],yellow:[vn,vn,0],orange:[vn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[vn,0,0],pink:[vn,192,203],cyan:[0,vn,vn],transparent:[vn,vn,vn,0]},pT=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*vn+.5|0},iZ=function(e,t,n){var r=e?Vc(e)?[e>>16,e>>8&vn,e&vn]:0:tv.black,s,o,a,l,c,u,h,d,m,g;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),tv[e])r=tv[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&vn,r&vn,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&vn,e&vn]}else if(e.substr(0,3)==="hsl"){if(r=g=e.match(EP),!t)l=+r[0]%360/360,c=+r[1]/100,u=+r[2]/100,o=u<=.5?u*(c+1):u+c-u*c,s=u*2-o,r.length>3&&(r[3]*=1),r[0]=pT(l+1/3,s,o),r[1]=pT(l,s,o),r[2]=pT(l-1/3,s,o);else if(~e.indexOf("="))return r=e.match(Dq),n&&r.length<4&&(r[3]=1),r}else r=e.match(EP)||tv.transparent;r=r.map(Number)}return t&&!g&&(s=r[0]/vn,o=r[1]/vn,a=r[2]/vn,h=Math.max(s,o,a),d=Math.min(s,o,a),u=(h+d)/2,h===d?l=c=0:(m=h-d,c=u>.5?m/(2-h-d):m/(h+d),l=h===s?(o-a)/m+(o<a?6:0):h===o?(a-s)/m+2:(s-o)/m+4,l*=60),r[0]=~~(l+.5),r[1]=~~(c*100+.5),r[2]=~~(u*100+.5)),n&&r.length<4&&(r[3]=1),r},rZ=function(e){var t=[],n=[],r=-1;return e.split(xh).forEach(function(s){var o=s.match(cm)||[];t.push.apply(t,o),n.push(r+=o.length+1)}),t.c=n,t},Tz=function(e,t,n){var r="",s=(e+r).match(xh),o=t?"hsla(":"rgba(",a=0,l,c,u,h;if(!s)return e;if(s=s.map(function(d){return(d=iZ(d,t,1))&&o+(t?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),n&&(u=rZ(e),l=n.c,l.join(r)!==u.c.join(r)))for(c=e.replace(xh,"1").split(cm),h=c.length-1;a<h;a++)r+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:n).shift());if(!c)for(c=e.split(xh),h=c.length-1;a<h;a++)r+=c[a]+s[a];return r+c[h]},xh=function(){var i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in tv)i+="|"+e+"\\b";return new RegExp(i+")","gi")}(),k3e=/hsl[a]?\(/,sZ=function(e){var t=e.join(" "),n;if(xh.lastIndex=0,xh.test(t))return n=k3e.test(t),e[1]=Tz(e[1],n),e[0]=Tz(e[0],n,rZ(e[1])),!0},My,Gs=function(){var i=Date.now,e=500,t=33,n=i(),r=n,s=1e3/240,o=s,a=[],l,c,u,h,d,m,g=function y(_){var v=i()-r,A=_===!0,S,C,T,E;if((v>e||v<0)&&(n+=v-t),r+=v,T=r-n,S=T-o,(S>0||A)&&(E=++h.frame,d=T-h.time*1e3,h.time=T=T/1e3,o+=S+(S>=s?4:s-S),C=1),A||(l=c(y)),C)for(m=0;m<a.length;m++)a[m](T,d,E,_)};return h={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(_){return d/(1e3/(_||60))},wake:function(){Oq&&(!TP&&VL()&&(Na=TP=window,WL=Na.document||{},to.gsap=As,(Na.gsapVersions||(Na.gsapVersions=[])).push(As.version),kq(Mb||Na.GreenSockGlobals||!Na.gsap&&Na||{}),tZ.forEach(nZ)),u=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&h.sleep(),c=u||function(_){return setTimeout(_,o-h.time*1e3+1|0)},My=1,g(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(l),My=0,c=by},lagSmoothing:function(_,v){e=_||1/0,t=Math.min(v||33,e)},fps:function(_){s=1e3/(_||240),o=h.time*1e3+s},add:function(_,v,A){var S=v?function(C,T,E,R){_(C,T,E,R),h.remove(S)}:_;return h.remove(_),a[A?"unshift":"push"](S),vg(),S},remove:function(_,v){~(v=a.indexOf(_))&&a.splice(v,1)&&m>=v&&m--},_listeners:a},h}(),vg=function(){return!My&&Gs.wake()},Gt={},N3e=/^[\d.\-M][\d.\-,\s]/,U3e=/["']/g,z3e=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),r=n[0],s=1,o=n.length,a,l,c;s<o;s++)l=n[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[r]=isNaN(c)?c.replace(U3e,"").trim():+c,r=l.substr(a+1).trim();return t},j3e=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)},H3e=function(e){var t=(e+"").split("("),n=Gt[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[z3e(t[1])]:j3e(e).split(",").map(Hq)):Gt._CE&&N3e.test(e)?Gt._CE("",e):n},oZ=function(e){return function(t){return 1-e(1-t)}},aZ=function i(e,t){for(var n=e._first,r;n;)n instanceof Yr?i(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?i(n.timeline,t):(r=n._ease,n._ease=n._yEase,n._yEase=r,n._yoyo=t)),n=n._next},l0=function(e,t){return e&&(ei(e)?e:Gt[e]||H3e(e))||t},H0=function(e,t,n,r){n===void 0&&(n=function(l){return 1-t(1-l)}),r===void 0&&(r=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:n,easeInOut:r},o;return ys(e,function(a){Gt[a]=to[a]=s,Gt[o=a.toLowerCase()]=n;for(var l in s)Gt[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Gt[a+"."+l]=s[l]}),s},lZ=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},mT=function i(e,t,n){var r=t>=1?t:1,s=(n||(e?.3:.45))/(t<1?t:1),o=s/MP*(Math.asin(1/r)||0),a=function(u){return u===1?1:r*Math.pow(2,-10*u)*g3e((u-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:lZ(a);return s=MP/s,l.config=function(c,u){return i(e,c,u)},l},gT=function i(e,t){t===void 0&&(t=1.70158);var n=function(o){return o?--o*o*((t+1)*o+t)+1:0},r=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:lZ(n);return r.config=function(s){return i(e,s)},r};ys("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,e){var t=e<5?e+1:e;H0(i+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});Gt.Linear.easeNone=Gt.none=Gt.Linear.easeIn;H0("Elastic",mT("in"),mT("out"),mT());(function(i,e){var t=1/e,n=2*t,r=2.5*t,s=function(a){return a<t?i*a*a:a<n?i*Math.pow(a-1.5/e,2)+.75:a<r?i*(a-=2.25/e)*a+.9375:i*Math.pow(a-2.625/e,2)+.984375};H0("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);H0("Expo",function(i){return i?Math.pow(2,10*(i-1)):0});H0("Circ",function(i){return-(Iq(1-i*i)-1)});H0("Sine",function(i){return i===1?1:-m3e(i*f3e)+1});H0("Back",gT("in"),gT("out"),gT());Gt.SteppedEase=Gt.steps=to.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,r=e+(t?0:1),s=t?1:0,o=1-bn;return function(a){return((r*Rx(0,o,a)|0)+s)*n}}};pg.ease=Gt["quad.out"];ys("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return YL+=i+","+i+"Params,"});var cZ=function(e,t){this.id=p3e++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:zq,this.set=t?t.getSetter:$L},Ey=function(){function i(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,gg(this,+t.duration,1,1),this.data=t.data,On&&(this._ctx=On,On.data.push(this)),My||Gs.wake()}var e=i.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,gg(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,r){if(vg(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(XM(this,n),!s._dp||s.parent||Wq(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&rl(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===bn||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),jq(this,n,r)),this},e.time=function(n,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+Cz(this))%(this._dur+this._rDelay)||(n?this._dur:0),r):this._time},e.totalProgress=function(n,r){return arguments.length?this.totalTime(this.totalDuration()*n,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(n,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+Cz(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,r):this._repeat?mg(this._tTime,s)+1:1},e.timeScale=function(n,r){if(!arguments.length)return this._rts===-bn?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?Rb(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-bn?0:this._rts,this.totalTime(Rx(-Math.abs(this._delay),this._tDur,s),r!==!1),WM(this),w3e(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(vg(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==bn&&(this._tTime-=bn)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&rl(r,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(vs(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var r=this.parent||this._dp;return r?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Rb(r.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=_3e);var r=Dr;return Dr=n,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),Dr=r,this},e.globalTime=function(n){for(var r=this,s=arguments.length?n:r.rawTime();r;)s=r._start+s/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(n):s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,Mz(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var r=this._time;return this._rDelay=n,Mz(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,r){return this.totalTime(yo(this,n),vs(r))},e.restart=function(n,r){return this.play().totalTime(n?-this._delay:0,vs(r))},e.play=function(n,r){return n!=null&&this.seek(n,r),this.reversed(!1).paused(!1)},e.reverse=function(n,r){return n!=null&&this.seek(n||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(n,r){return n!=null&&this.seek(n,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-bn:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-bn,this},e.isActive=function(){var n=this.parent||this._dp,r=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=r&&s<this.endTime(!0)-bn)},e.eventCallback=function(n,r,s){var o=this.vars;return arguments.length>1?(r?(o[n]=r,s&&(o[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=r)):delete o[n],this):o[n]},e.then=function(n){var r=this;return new Promise(function(s){var o=ei(n)?n:Gq,a=function(){var c=r.then;r.then=null,ei(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=c),s(o),r.then=c};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},e.kill=function(){ev(this)},i}();Uo(Ey.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-bn,_prom:0,_ps:!1,_rts:1});var Yr=function(i){Pq(e,i);function e(n,r){var s;return n===void 0&&(n={}),s=i.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=vs(n.sortChildren),zn&&rl(n.parent||zn,kl(s),r),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&Xq(kl(s),n.scrollTrigger),s}var t=e.prototype;return t.to=function(r,s,o){return Rv(0,arguments,this),this},t.from=function(r,s,o){return Rv(1,arguments,this),this},t.fromTo=function(r,s,o,a){return Rv(2,arguments,this),this},t.set=function(r,s,o){return s.duration=0,s.parent=this,Tv(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new vi(r,s,yo(this,o),1),this},t.call=function(r,s,o){return rl(this,vi.delayedCall(0,r,s),o)},t.staggerTo=function(r,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new vi(r,o,yo(this,l)),this},t.staggerFrom=function(r,s,o,a,l,c,u){return o.runBackwards=1,Tv(o).immediateRender=vs(o.immediateRender),this.staggerTo(r,s,o,a,l,c,u)},t.staggerFromTo=function(r,s,o,a,l,c,u,h){return a.startAt=o,Tv(a).immediateRender=vs(a.immediateRender),this.staggerTo(r,s,a,l,c,u,h)},t.render=function(r,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=r<=0?0:Vi(r),h=this._zTime<0!=r<0&&(this._initted||!c),d,m,g,y,_,v,A,S,C,T,E,R;if(this!==zn&&u>l&&r>=0&&(u=l),u!==this._tTime||o||h){if(a!==this._time&&c&&(u+=this._time-a,r+=this._time-a),d=u,C=this._start,S=this._ts,v=!S,h&&(c||(a=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(E=this._yoyo,_=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(_*100+r,s,o);if(d=Vi(u%_),u===l?(y=this._repeat,d=c):(y=~~(u/_),y&&y===u/_&&(d=c,y--),d>c&&(d=c)),T=mg(this._tTime,_),!a&&this._tTime&&T!==y&&this._tTime-T*_-this._dur<=0&&(T=y),E&&y&1&&(d=c-d,R=1),y!==T&&!this._lock){var D=E&&T&1,I=D===(E&&y&1);if(y<T&&(D=!D),a=D?0:u%c?c:u,this._lock=1,this.render(a||(R?0:Vi(y*_)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&Ks(this,"onRepeat"),this.vars.repeatRefresh&&!R&&(this.invalidate()._lock=1),a&&a!==this._time||v!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,I&&(this._lock=2,a=D?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!R&&this.invalidate()),this._lock=0,!this._ts&&!v)return this;aZ(this,R)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(A=E3e(this,Vi(a),Vi(d)),A&&(u-=d-(d=A._start))),this._tTime=u,this._time=d,this._act=!S,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&d&&!s&&!y&&(Ks(this,"onStart"),this._tTime!==u))return this;if(d>=a&&r>=0)for(m=this._first;m;){if(g=m._next,(m._act||d>=m._start)&&m._ts&&A!==m){if(m.parent!==this)return this.render(r,s,o);if(m.render(m._ts>0?(d-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(d-m._start)*m._ts,s,o),d!==this._time||!this._ts&&!v){A=0,g&&(u+=this._zTime=-bn);break}}m=g}else{m=this._last;for(var L=r<0?r:d;m;){if(g=m._prev,(m._act||L<=m._end)&&m._ts&&A!==m){if(m.parent!==this)return this.render(r,s,o);if(m.render(m._ts>0?(L-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(L-m._start)*m._ts,s,o||Dr&&(m._initted||m._startAt)),d!==this._time||!this._ts&&!v){A=0,g&&(u+=this._zTime=L?-bn:bn);break}}m=g}}if(A&&!s&&(this.pause(),A.render(d>=a?0:-bn)._zTime=d>=a?1:-1,this._ts))return this._start=C,WM(this),this.render(r,s,o);this._onUpdate&&!s&&Ks(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(C===this._start||Math.abs(S)!==Math.abs(this._ts))&&(this._lock||((r||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&Ph(this,1),!s&&!(r<0&&!a)&&(u||a||!l)&&(Ks(this,u===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var o=this;if(Vc(s)||(s=yo(this,s,r)),!(r instanceof Ey)){if(Br(r))return r.forEach(function(a){return o.add(a,s)}),this;if(Yi(r))return this.addLabel(r,s);if(ei(r))r=vi.delayedCall(0,r);else return this}return this!==r?rl(this,r,s):this},t.getChildren=function(r,s,o,a){r===void 0&&(r=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-Bo);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof vi?s&&l.push(c):(o&&l.push(c),r&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(r){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===r)return s[o]},t.remove=function(r){return Yi(r)?this.removeLabel(r):ei(r)?this.killTweensOf(r):(VM(this,r),r===this._recent&&(this._recent=this._last),a0(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Vi(Gs.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),i.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=yo(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,o){var a=vi.delayedCall(0,s||by,o);return a.data="isPause",this._hasPause=1,rl(this,a,yo(this,r))},t.removePause=function(r){var s=this._first;for(r=yo(this,r);s;)s._start===r&&s.data==="isPause"&&Ph(s),s=s._next},t.killTweensOf=function(r,s,o){for(var a=this.getTweensOf(r,o),l=a.length;l--;)rh!==a[l]&&a[l].kill(r,s);return this},t.getTweensOf=function(r,s){for(var o=[],a=Fo(r),l=this._first,c=Vc(s),u;l;)l instanceof vi?x3e(l._targets,a)&&(c?(!rh||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},t.tweenTo=function(r,s){s=s||{};var o=this,a=yo(o,r),l=s,c=l.startAt,u=l.onStart,h=l.onStartParams,d=l.immediateRender,m,g=vi.to(o,Uo({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||bn,onStart:function(){if(o.pause(),!m){var _=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());g._dur!==_&&gg(g,_,0,1).render(g._time,!0,!0),m=1}u&&u.apply(g,h||[])}},s));return d?g.render(0):g},t.tweenFromTo=function(r,s,o){return this.tweenTo(s,Uo({startAt:{time:yo(this,r)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),Ez(this,yo(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),Ez(this,yo(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+bn)},t.shiftChildren=function(r,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=r,a._end+=r),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=r);return a0(this)},t.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return i.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),a0(this)},t.totalDuration=function(r){var s=0,o=this,a=o._last,l=Bo,c,u,h;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-r:r));if(o._dirty){for(h=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,rl(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!h&&!o._dp||h&&h.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;gg(o,o===zn&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(r){if(zn._ts&&(jq(zn,Rb(r,zn)),Uq=Gs.frame),Gs.frame>=wz){wz+=qs.autoSleep||120;var s=zn._first;if((!s||!s._ts)&&qs.autoSleep&&Gs._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Gs.sleep()}}},e}(Ey);Uo(Yr.prototype,{_lock:0,_hasPause:0,_forcing:0});var G3e=function(e,t,n,r,s,o,a){var l=new _s(this._pt,e,t,0,1,mZ,null,s),c=0,u=0,h,d,m,g,y,_,v,A;for(l.b=n,l.e=r,n+="",r+="",(v=~r.indexOf("random("))&&(r=Cy(r)),o&&(A=[n,r],o(A,e,t),n=A[0],r=A[1]),d=n.match(dT)||[];h=dT.exec(r);)g=h[0],y=r.substring(c,h.index),m?m=(m+1)%5:y.substr(-5)==="rgba("&&(m=1),g!==d[u++]&&(_=parseFloat(d[u-1])||0,l._pt={_next:l._pt,p:y||u===1?y:",",s:_,c:g.charAt(1)==="="?Em(_,g)-_:parseFloat(g)-_,m:m&&m<4?Math.round:0},c=dT.lastIndex);return l.c=c<r.length?r.substring(c,r.length):"",l.fp=a,(Bq.test(r)||v)&&(l.e=0),this._pt=l,l},qL=function(e,t,n,r,s,o,a,l,c,u){ei(r)&&(r=r(s||0,e,o));var h=e[t],d=n!=="get"?n:ei(h)?c?e[t.indexOf("set")||!ei(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():h,m=ei(h)?c?Y3e:fZ:QL,g;if(Yi(r)&&(~r.indexOf("random(")&&(r=Cy(r)),r.charAt(1)==="="&&(g=Em(d,r)+(Tr(d)||0),(g||g===0)&&(r=g))),!u||d!==r||FP)return!isNaN(d*r)&&r!==""?(g=new _s(this._pt,e,t,+d||0,r-(d||0),typeof h=="boolean"?q3e:pZ,0,m),c&&(g.fp=c),a&&g.modifier(a,this,e),this._pt=g):(!h&&!(t in e)&&XL(t,r),G3e.call(this,e,t,d,r,m,l||qs.stringFilter,c))},V3e=function(e,t,n,r,s){if(ei(e)&&(e=Pv(e,s,t,n,r)),!vl(e)||e.style&&e.nodeType||Br(e)||Lq(e))return Yi(e)?Pv(e,s,t,n,r):e;var o={},a;for(a in e)o[a]=Pv(e[a],s,t,n,r);return o},uZ=function(e,t,n,r,s,o){var a,l,c,u;if(js[e]&&(a=new js[e]).init(s,a.rawVars?t[e]:V3e(t[e],r,s,o,n),n,r,o)!==!1&&(n._pt=l=new _s(n._pt,s,e,0,1,a.render,a,0,a.priority),n!==um))for(c=n._ptLookup[n._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},rh,FP,ZL=function i(e,t,n){var r=e.vars,s=r.ease,o=r.startAt,a=r.immediateRender,l=r.lazy,c=r.onUpdate,u=r.runBackwards,h=r.yoyoEase,d=r.keyframes,m=r.autoRevert,g=e._dur,y=e._startAt,_=e._targets,v=e.parent,A=v&&v.data==="nested"?v.vars.targets:_,S=e._overwrite==="auto"&&!HL,C=e.timeline,T,E,R,D,I,L,O,W,X,Z,$,Q,ee;if(C&&(!d||!s)&&(s="none"),e._ease=l0(s,pg.ease),e._yEase=h?oZ(l0(h===!0?s:h,pg.ease)):0,h&&e._yoyo&&!e._repeat&&(h=e._yEase,e._yEase=e._ease,e._ease=h),e._from=!C&&!!r.runBackwards,!C||d&&!r.stagger){if(W=_[0]?o0(_[0]).harness:0,Q=W&&r[W.prop],T=Tb(r,KL),y&&(y._zTime<0&&y.progress(1),t<0&&u&&a&&!m?y.render(-1,!0):y.revert(u&&g?Y5:y3e),y._lazy=0),o){if(Ph(e._startAt=vi.set(_,Uo({data:"isStart",overwrite:!1,parent:v,immediateRender:!0,lazy:!y&&vs(l),startAt:null,delay:0,onUpdate:c&&function(){return Ks(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Dr||!a&&!m)&&e._startAt.revert(Y5),a&&g&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(u&&g&&!y){if(t&&(a=!1),R=Uo({overwrite:!1,data:"isFromStart",lazy:a&&!y&&vs(l),immediateRender:a,stagger:0,parent:v},T),Q&&(R[W.prop]=Q),Ph(e._startAt=vi.set(_,R)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Dr?e._startAt.revert(Y5):e._startAt.render(-1,!0)),e._zTime=t,!a)i(e._startAt,bn,bn);else if(!t)return}for(e._pt=e._ptCache=0,l=g&&vs(l)||l&&!g,E=0;E<_.length;E++){if(I=_[E],O=I._gsap||JL(_)[E]._gsap,e._ptLookup[E]=Z={},RP[O.id]&&_h.length&&Eb(),$=A===_?E:A.indexOf(I),W&&(X=new W).init(I,Q||T,e,$,A)!==!1&&(e._pt=D=new _s(e._pt,I,X.name,0,1,X.render,X,0,X.priority),X._props.forEach(function(k){Z[k]=D}),X.priority&&(L=1)),!W||Q)for(R in T)js[R]&&(X=uZ(R,T,e,$,I,A))?X.priority&&(L=1):Z[R]=D=qL.call(e,I,R,"get",T[R],$,A,0,r.stringFilter);e._op&&e._op[E]&&e.kill(I,e._op[E]),S&&e._pt&&(rh=e,zn.killTweensOf(I,Z,e.globalTime(t)),ee=!e.parent,rh=0),e._pt&&l&&(RP[O.id]=1)}L&&gZ(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!ee,d&&t<=0&&C.render(Bo,!0,!0)},W3e=function(e,t,n,r,s,o,a,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[t],u,h,d,m;if(!c)for(c=e._ptCache[t]=[],d=e._ptLookup,m=e._targets.length;m--;){if(u=d[m][t],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==t&&u.fp!==t;)u=u._next;if(!u)return FP=1,e.vars[t]="+=0",ZL(e,a),FP=0,l?wy(t+" not eligible for reset"):1;c.push(u)}for(m=c.length;m--;)h=c[m],u=h._pt||h,u.s=(r||r===0)&&!s?r:u.s+(r||0)+o*u.c,u.c=n-u.s,h.e&&(h.e=ai(n)+Tr(h.e)),h.b&&(h.b=u.s+Tr(h.b))},X3e=function(e,t){var n=e[0]?o0(e[0]).harness:0,r=n&&n.aliases,s,o,a,l;if(!r)return t;s=E0({},t);for(o in r)if(o in s)for(l=r[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},K3e=function(e,t,n,r){var s=t.ease||r||"power1.inOut",o,a;if(Br(t))a=n[e]||(n[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=n[o]||(n[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},Pv=function(e,t,n,r,s){return ei(e)?e.call(t,n,r,s):Yi(e)&&~e.indexOf("random(")?Cy(e):e},hZ=YL+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",dZ={};ys(hZ+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return dZ[i]=1});var vi=function(i){Pq(e,i);function e(n,r,s,o){var a;typeof r=="number"&&(s.duration=r,r=s,s=null),a=i.call(this,o?r:Tv(r))||this;var l=a.vars,c=l.duration,u=l.delay,h=l.immediateRender,d=l.stagger,m=l.overwrite,g=l.keyframes,y=l.defaults,_=l.scrollTrigger,v=l.yoyoEase,A=r.parent||zn,S=(Br(n)||Lq(n)?Vc(n[0]):"length"in r)?[n]:Fo(n),C,T,E,R,D,I,L,O;if(a._targets=S.length?JL(S):wy("GSAP target "+n+" not found. https://gsap.com",!qs.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=m,g||d||QS(c)||QS(u)){if(r=a.vars,C=a.timeline=new Yr({data:"nested",defaults:y||{},targets:A&&A.data==="nested"?A.vars.targets:S}),C.kill(),C.parent=C._dp=kl(a),C._start=0,d||QS(c)||QS(u)){if(R=S.length,L=d&&qq(d),vl(d))for(D in d)~hZ.indexOf(D)&&(O||(O={}),O[D]=d[D]);for(T=0;T<R;T++)E=Tb(r,dZ),E.stagger=0,v&&(E.yoyoEase=v),O&&E0(E,O),I=S[T],E.duration=+Pv(c,kl(a),T,I,S),E.delay=(+Pv(u,kl(a),T,I,S)||0)-a._delay,!d&&R===1&&E.delay&&(a._delay=u=E.delay,a._start+=u,E.delay=0),C.to(I,E,L?L(T,I,S):0),C._ease=Gt.none;C.duration()?c=u=0:a.timeline=0}else if(g){Tv(Uo(C.vars.defaults,{ease:"none"})),C._ease=l0(g.ease||r.ease||"none");var W=0,X,Z,$;if(Br(g))g.forEach(function(Q){return C.to(S,Q,">")}),C.duration();else{E={};for(D in g)D==="ease"||D==="easeEach"||K3e(D,g[D],E,g.easeEach);for(D in E)for(X=E[D].sort(function(Q,ee){return Q.t-ee.t}),W=0,T=0;T<X.length;T++)Z=X[T],$={ease:Z.e,duration:(Z.t-(T?X[T-1].t:0))/100*c},$[D]=Z.v,C.to(S,$,W),W+=$.duration;C.duration()<c&&C.to({},{duration:c-C.duration()})}}c||a.duration(c=C.duration())}else a.timeline=0;return m===!0&&!HL&&(rh=kl(a),zn.killTweensOf(S),rh=0),rl(A,kl(a),s),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(h||!c&&!g&&a._start===Vi(A._time)&&vs(h)&&b3e(kl(a))&&A.data!=="nested")&&(a._tTime=-bn,a.render(Math.max(0,-u)||0)),_&&Xq(kl(a),_),a}var t=e.prototype;return t.render=function(r,s,o){var a=this._time,l=this._tDur,c=this._dur,u=r<0,h=r>l-bn&&!u?l:r<bn?0:r,d,m,g,y,_,v,A,S,C;if(!c)M3e(this,r,s,o);else if(h!==this._tTime||!r||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(d=h,S=this.timeline,this._repeat){if(y=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(y*100+r,s,o);if(d=Vi(h%y),h===l?(g=this._repeat,d=c):(g=~~(h/y),g&&g===Vi(h/y)&&(d=c,g--),d>c&&(d=c)),v=this._yoyo&&g&1,v&&(C=this._yEase,d=c-d),_=mg(this._tTime,y),d===a&&!o&&this._initted&&g===_)return this._tTime=h,this;g!==_&&(S&&this._yEase&&aZ(S,v),this.vars.repeatRefresh&&!v&&!this._lock&&this._time!==y&&this._initted&&(this._lock=o=1,this.render(Vi(y*g),!0).invalidate()._lock=0))}if(!this._initted){if(Kq(this,u?r:d,o,s,h))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&g!==_))return this;if(c!==this._dur)return this.render(r,s,o)}if(this._tTime=h,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=A=(C||this._ease)(d/c),this._from&&(this.ratio=A=1-A),d&&!a&&!s&&!g&&(Ks(this,"onStart"),this._tTime!==h))return this;for(m=this._pt;m;)m.r(A,m.d),m=m._next;S&&S.render(r<0?r:S._dur*S._ease(d/this._dur),s,o)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(u&&PP(this,r,s,o),Ks(this,"onUpdate")),this._repeat&&g!==_&&this.vars.onRepeat&&!s&&this.parent&&Ks(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(u&&!this._onUpdate&&PP(this,r,!0,!0),(r||!c)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&Ph(this,1),!s&&!(u&&!a)&&(h||a||v)&&(Ks(this,h===l?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),i.prototype.invalidate.call(this,r)},t.resetTo=function(r,s,o,a,l){My||Gs.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||ZL(this,c),u=this._ease(c/this._dur),W3e(this,r,s,o,a,u,c,l)?this.resetTo(r,s,o,a,1):(XM(this,0),this.parent||Vq(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?ev(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,rh&&rh.vars.overwrite!==!0)._first||ev(this),this.parent&&o!==this.timeline.totalDuration()&&gg(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=r?Fo(r):a,c=this._ptLookup,u=this._pt,h,d,m,g,y,_,v;if((!s||s==="all")&&S3e(a,l))return s==="all"&&(this._pt=0),ev(this);for(h=this._op=this._op||[],s!=="all"&&(Yi(s)&&(y={},ys(s,function(A){return y[A]=1}),s=y),s=X3e(a,s)),v=a.length;v--;)if(~l.indexOf(a[v])){d=c[v],s==="all"?(h[v]=s,g=d,m={}):(m=h[v]=h[v]||{},g=s);for(y in g)_=d&&d[y],_&&((!("kill"in _.d)||_.d.kill(y)===!0)&&VM(this,_,"_pt"),delete d[y]),m!=="all"&&(m[y]=1)}return this._initted&&!this._pt&&u&&ev(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return Rv(1,arguments)},e.delayedCall=function(r,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(r,s,o){return Rv(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,o){return zn.killTweensOf(r,s,o)},e}(Ey);Uo(vi.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});ys("staggerTo,staggerFrom,staggerFromTo",function(i){vi[i]=function(){var e=new Yr,t=LP.call(arguments,0);return t.splice(i==="staggerFromTo"?5:4,0,0),e[i].apply(e,t)}});var QL=function(e,t,n){return e[t]=n},fZ=function(e,t,n){return e[t](n)},Y3e=function(e,t,n,r){return e[t](r.fp,n)},J3e=function(e,t,n){return e.setAttribute(t,n)},$L=function(e,t){return ei(e[t])?fZ:GL(e[t])&&e.setAttribute?J3e:QL},pZ=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},q3e=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},mZ=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},eD=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},Z3e=function(e,t,n,r){for(var s=this._pt,o;s;)o=s._next,s.p===r&&s.modifier(e,t,n),s=o},Q3e=function(e){for(var t=this._pt,n,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?VM(this,t,"_pt"):t.dep||(n=1),t=r;return!n},$3e=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},gZ=function(e){for(var t=e._pt,n,r,s,o;t;){for(n=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:o)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:o=t,t=n}e._pt=s},_s=function(){function i(t,n,r,s,o,a,l,c,u){this.t=n,this.s=s,this.c=o,this.p=r,this.r=a||pZ,this.d=l||this,this.set=c||QL,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=i.prototype;return e.modifier=function(n,r,s){this.mSet=this.mSet||this.set,this.set=$3e,this.m=n,this.mt=s,this.tween=r},i}();ys(YL+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return KL[i]=1});to.TweenMax=to.TweenLite=vi;to.TimelineLite=to.TimelineMax=Yr;zn=new Yr({sortChildren:!1,defaults:pg,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});qs.stringFilter=sZ;var c0=[],q5={},exe=[],Rz=0,txe=0,vT=function(e){return(q5[e]||exe).map(function(t){return t()})},OP=function(){var e=Date.now(),t=[];e-Rz>2&&(vT("matchMediaInit"),c0.forEach(function(n){var r=n.queries,s=n.conditions,o,a,l,c;for(a in r)o=Na.matchMedia(r[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(n.revert(),l&&t.push(n))}),vT("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(r){return n.add(null,r)})}),Rz=e,vT("matchMedia"))},vZ=function(){function i(t,n){this.selector=n&&DP(n),this.data=[],this._r=[],this.isReverted=!1,this.id=txe++,t&&this.add(t)}var e=i.prototype;return e.add=function(n,r,s){ei(n)&&(s=r,r=n,n=ei);var o=this,a=function(){var c=On,u=o.selector,h;return c&&c!==o&&c.data.push(o),s&&(o.selector=DP(s)),On=o,h=r.apply(o,arguments),ei(h)&&o._r.push(h),On=c,o.selector=u,o.isReverted=!1,h};return o.last=a,n===ei?a(o,function(l){return o.add(null,l)}):n?o[n]=a:a},e.ignore=function(n){var r=On;On=null,n(this),On=r},e.getTweens=function(){var n=[];return this.data.forEach(function(r){return r instanceof i?n.push.apply(n,r.getTweens()):r instanceof vi&&!(r.parent&&r.parent.data==="nested")&&n.push(r)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,r){var s=this;if(n?function(){for(var a=s.getTweens(),l=s.data.length,c;l--;)c=s.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(u){return a.splice(a.indexOf(u),1)}));for(a.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,h){return h.g-u.g||-1/0}).forEach(function(u){return u.t.revert(n)}),l=s.data.length;l--;)c=s.data[l],c instanceof Yr?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof vi)&&c.revert&&c.revert(n);s._r.forEach(function(u){return u(n,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),r)for(var o=c0.length;o--;)c0[o].id===this.id&&c0.splice(o,1)},e.revert=function(n){this.kill(n||{})},i}(),nxe=function(){function i(t){this.contexts=[],this.scope=t,On&&On.data.push(this)}var e=i.prototype;return e.add=function(n,r,s){vl(n)||(n={matches:n});var o=new vZ(0,s||this.scope),a=o.conditions={},l,c,u;On&&!o.selector&&(o.selector=On.selector),this.contexts.push(o),r=o.add("onMatch",r),o.queries=n;for(c in n)c==="all"?u=1:(l=Na.matchMedia(n[c]),l&&(c0.indexOf(o)<0&&c0.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(OP):l.addEventListener("change",OP)));return u&&r(o,function(h){return o.add(null,h)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(r){return r.kill(n,!0)})},i}(),Pb={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(r){return nZ(r)})},timeline:function(e){return new Yr(e)},getTweensOf:function(e,t){return zn.getTweensOf(e,t)},getProperty:function(e,t,n,r){Yi(e)&&(e=Fo(e)[0]);var s=o0(e||{}).get,o=n?Gq:Hq;return n==="native"&&(n=""),e&&(t?o((js[t]&&js[t].get||s)(e,t,n,r)):function(a,l,c){return o((js[a]&&js[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,n){if(e=Fo(e),e.length>1){var r=e.map(function(u){return As.quickSetter(u,t,n)}),s=r.length;return function(u){for(var h=s;h--;)r[h](u)}}e=e[0]||{};var o=js[t],a=o0(e),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(u){var h=new o;um._pt=0,h.init(e,n?u+n:u,um,0,[e]),h.render(1,h),um._pt&&eD(1,um)}:a.set(e,l);return o?c:function(u){return c(e,l,n?u+n:u,a,1)}},quickTo:function(e,t,n){var r,s=As.to(e,E0((r={},r[t]="+=0.1",r.paused=!0,r),n||{})),o=function(l,c,u){return s.resetTo(t,l,c,u)};return o.tween=s,o},isTweening:function(e){return zn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=l0(e.ease,pg.ease)),bz(pg,e||{})},config:function(e){return bz(qs,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,s=e.defaults,o=e.extendTimeline;(r||"").split(",").forEach(function(a){return a&&!js[a]&&!to[a]&&wy(t+" effect requires "+a+" plugin.")}),fT[t]=function(a,l,c){return n(Fo(a),Uo(l||{},s),c)},o&&(Yr.prototype[t]=function(a,l,c){return this.add(fT[t](a,vl(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){Gt[e]=l0(t)},parseEase:function(e,t){return arguments.length?l0(e,t):Gt},getById:function(e){return zn.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new Yr(e),r,s;for(n.smoothChildTiming=vs(e.smoothChildTiming),zn.remove(n),n._dp=0,n._time=n._tTime=zn._time,r=zn._first;r;)s=r._next,(t||!(!r._dur&&r instanceof vi&&r.vars.onComplete===r._targets[0]))&&rl(n,r,r._start-r._delay),r=s;return rl(zn,n,0),n},context:function(e,t){return e?new vZ(e,t):On},matchMedia:function(e){return new nxe(e)},matchMediaRefresh:function(){return c0.forEach(function(e){var t=e.conditions,n,r;for(r in t)t[r]&&(t[r]=!1,n=1);n&&e.revert()})||OP()},addEventListener:function(e,t){var n=q5[e]||(q5[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=q5[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:B3e,wrapYoyo:F3e,distribute:qq,random:Qq,snap:Zq,normalize:D3e,getUnit:Tr,clamp:R3e,splitColor:iZ,toArray:Fo,selector:DP,mapRange:eZ,pipe:I3e,unitize:L3e,interpolate:O3e,shuffle:Jq},install:kq,effects:fT,ticker:Gs,updateRoot:Yr.updateRoot,plugins:js,globalTimeline:zn,core:{PropTween:_s,globals:Nq,Tween:vi,Timeline:Yr,Animation:Ey,getCache:o0,_removeLinkedListItem:VM,reverting:function(){return Dr},context:function(e){return e&&On&&(On.data.push(e),e._ctx=On),On},suppressOverwrites:function(e){return HL=e}}};ys("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return Pb[i]=vi[i]});Gs.add(Yr.updateRoot);um=Pb.to({},{duration:0});var ixe=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},rxe=function(e,t){var n=e._targets,r,s,o;for(r in t)for(s=n.length;s--;)o=e._ptLookup[s][r],o&&(o=o.d)&&(o._pt&&(o=ixe(o,r)),o&&o.modifier&&o.modifier(t[r],e,n[s],r))},yT=function(e,t){return{name:e,rawVars:1,init:function(r,s,o){o._onInit=function(a){var l,c;if(Yi(s)&&(l={},ys(s,function(u){return l[u]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}rxe(a,s)}}}},As=Pb.registerPlugin({name:"attr",init:function(e,t,n,r,s){var o,a,l;this.tween=n;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],r,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var n=t._pt;n;)Dr?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},yT("roundProps",BP),yT("modifiers"),yT("snap",Zq))||Pb;vi.version=Yr.version=As.version="3.12.5";Oq=1;VL()&&vg();Gt.Power0;Gt.Power1;Gt.Power2;Gt.Power3;Gt.Power4;Gt.Linear;Gt.Quad;Gt.Cubic;Gt.Quart;Gt.Quint;Gt.Strong;Gt.Elastic;Gt.Back;Gt.SteppedEase;Gt.Bounce;Gt.Sine;Gt.Expo;Gt.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Pz,sh,Tm,tD,Gd,Iz,nD,sxe=function(){return typeof window<"u"},Wc={},Td=180/Math.PI,Rm=Math.PI/180,Ip=Math.atan2,Lz=1e8,iD=/([A-Z])/g,oxe=/(left|right|width|margin|padding|x)/i,axe=/[\s,\(]\S/,al={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},kP=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},lxe=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},cxe=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},uxe=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},yZ=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},_Z=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},hxe=function(e,t,n){return e.style[t]=n},dxe=function(e,t,n){return e.style.setProperty(t,n)},fxe=function(e,t,n){return e._gsap[t]=n},pxe=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},mxe=function(e,t,n,r,s){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(s,o)},gxe=function(e,t,n,r,s){var o=e._gsap;o[t]=n,o.renderTransform(s,o)},Gn="transform",xs=Gn+"Origin",vxe=function i(e,t){var n=this,r=this.target,s=r.style,o=r._gsap;if(e in Wc&&s){if(this.tfm=this.tfm||{},e!=="transform")e=al[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return n.tfm[a]=Vl(r,a)}):this.tfm[e]=o.x?o[e]:Vl(r,e),e===xs&&(this.tfm.zOrigin=o.zOrigin);else return al.transform.split(",").forEach(function(a){return i.call(n,a,t)});if(this.props.indexOf(Gn)>=0)return;o.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(xs,t,"")),e=Gn}(s||t)&&this.props.push(e,t,s[e])},xZ=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},yxe=function(){var e=this.props,t=this.target,n=t.style,r=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(iD,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)r[o]=this.tfm[o];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=nD(),(!s||!s.isStart)&&!n[Gn]&&(xZ(n),r.zOrigin&&n[xs]&&(n[xs]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},AZ=function(e,t){var n={target:e,props:[],revert:yxe,save:vxe};return e._gsap||As.core.getCache(e),t&&t.split(",").forEach(function(r){return n.save(r)}),n},SZ,NP=function(e,t){var n=sh.createElementNS?sh.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):sh.createElement(e);return n&&n.style?n:sh.createElement(e)},pl=function i(e,t,n){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(iD,"-$1").toLowerCase())||r.getPropertyValue(t)||!n&&i(e,yg(t)||t,1)||""},Dz="O,Moz,ms,Ms,Webkit".split(","),yg=function(e,t,n){var r=t||Gd,s=r.style,o=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Dz[o]+e in s););return o<0?null:(o===3?"ms":o>=0?Dz[o]:"")+e},UP=function(){sxe()&&window.document&&(Pz=window,sh=Pz.document,Tm=sh.documentElement,Gd=NP("div")||{style:{}},NP("div"),Gn=yg(Gn),xs=Gn+"Origin",Gd.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",SZ=!!yg("perspective"),nD=As.core.reverting,tD=1)},_T=function i(e){var t=NP("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,r=this.nextSibling,s=this.style.cssText,o;if(Tm.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=i}catch{}else this._gsapBBox&&(o=this._gsapBBox());return n&&(r?n.insertBefore(this,r):n.appendChild(this)),Tm.removeChild(t),this.style.cssText=s,o},Bz=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},wZ=function(e){var t;try{t=e.getBBox()}catch{t=_T.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===_T||(t=_T.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+Bz(e,["x","cx","x1"])||0,y:+Bz(e,["y","cy","y1"])||0,width:0,height:0}:t},bZ=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&wZ(e))},T0=function(e,t){if(t){var n=e.style,r;t in Wc&&t!==xs&&(t=Gn),n.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(r==="--"?t:t.replace(iD,"-$1").toLowerCase())):n.removeAttribute(t)}},oh=function(e,t,n,r,s,o){var a=new _s(e._pt,t,n,0,1,o?_Z:yZ);return e._pt=a,a.b=r,a.e=s,e._props.push(n),a},Fz={deg:1,rad:1,turn:1},_xe={grid:1,flex:1},Ih=function i(e,t,n,r){var s=parseFloat(n)||0,o=(n+"").trim().substr((s+"").length)||"px",a=Gd.style,l=oxe.test(t),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),h=100,d=r==="px",m=r==="%",g,y,_,v;if(r===o||!s||Fz[r]||Fz[o])return s;if(o!=="px"&&!d&&(s=i(e,t,n,"px")),v=e.getCTM&&bZ(e),(m||o==="%")&&(Wc[t]||~t.indexOf("adius")))return g=v?e.getBBox()[l?"width":"height"]:e[u],ai(m?s/g*h:s/100*g);if(a[l?"width":"height"]=h+(d?o:r),y=~t.indexOf("adius")||r==="em"&&e.appendChild&&!c?e:e.parentNode,v&&(y=(e.ownerSVGElement||{}).parentNode),(!y||y===sh||!y.appendChild)&&(y=sh.body),_=y._gsap,_&&m&&_.width&&l&&_.time===Gs.time&&!_.uncache)return ai(s/_.width*h);if(m&&(t==="height"||t==="width")){var A=e.style[t];e.style[t]=h+r,g=e[u],A?e.style[t]=A:T0(e,t)}else(m||o==="%")&&!_xe[pl(y,"display")]&&(a.position=pl(e,"position")),y===e&&(a.position="static"),y.appendChild(Gd),g=Gd[u],y.removeChild(Gd),a.position="absolute";return l&&m&&(_=o0(y),_.time=Gs.time,_.width=y[u]),ai(d?g*s/h:g&&s?h/g*s:0)},Vl=function(e,t,n,r){var s;return tD||UP(),t in al&&t!=="transform"&&(t=al[t],~t.indexOf(",")&&(t=t.split(",")[0])),Wc[t]&&t!=="transform"?(s=Ry(e,r),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:Lb(pl(e,xs))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=Ib[t]&&Ib[t](e,t,n)||pl(e,t)||zq(e,t)||(t==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?Ih(e,t,s,n)+n:s},xxe=function(e,t,n,r){if(!n||n==="none"){var s=yg(t,e,1),o=s&&pl(e,s,1);o&&o!==n?(t=s,n=o):t==="borderColor"&&(n=pl(e,"borderTopColor"))}var a=new _s(this._pt,e.style,t,0,1,mZ),l=0,c=0,u,h,d,m,g,y,_,v,A,S,C,T;if(a.b=n,a.e=r,n+="",r+="",r==="auto"&&(y=e.style[t],e.style[t]=r,r=pl(e,t)||r,y?e.style[t]=y:T0(e,t)),u=[n,r],sZ(u),n=u[0],r=u[1],d=n.match(cm)||[],T=r.match(cm)||[],T.length){for(;h=cm.exec(r);)_=h[0],A=r.substring(l,h.index),g?g=(g+1)%5:(A.substr(-5)==="rgba("||A.substr(-5)==="hsla(")&&(g=1),_!==(y=d[c++]||"")&&(m=parseFloat(y)||0,C=y.substr((m+"").length),_.charAt(1)==="="&&(_=Em(m,_)+C),v=parseFloat(_),S=_.substr((v+"").length),l=cm.lastIndex-S.length,S||(S=S||qs.units[t]||C,l===r.length&&(r+=S,a.e+=S)),C!==S&&(m=Ih(e,t,y,S)||0),a._pt={_next:a._pt,p:A||c===1?A:",",s:m,c:v-m,m:g&&g<4||t==="zIndex"?Math.round:0});a.c=l<r.length?r.substring(l,r.length):""}else a.r=t==="display"&&r==="none"?_Z:yZ;return Bq.test(r)&&(a.e=0),this._pt=a,a},Oz={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Axe=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return(n==="top"||n==="bottom"||r==="left"||r==="right")&&(e=n,n=r,r=e),t[0]=Oz[n]||n,t[1]=Oz[r]||r,t.join(" ")},Sxe=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,r=n.style,s=t.u,o=n._gsap,a,l,c;if(s==="all"||s===!0)r.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],Wc[a]&&(l=1,a=a==="transformOrigin"?xs:Gn),T0(n,a);l&&(T0(n,Gn),o&&(o.svg&&n.removeAttribute("transform"),Ry(n,1),o.uncache=1,xZ(r)))}},Ib={clearProps:function(e,t,n,r,s){if(s.data!=="isFromStart"){var o=e._pt=new _s(e._pt,t,n,0,0,Sxe);return o.u=r,o.pr=-10,o.tween=s,e._props.push(n),1}}},Ty=[1,0,0,1,0,0],CZ={},MZ=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},kz=function(e){var t=pl(e,Gn);return MZ(t)?Ty:t.substr(7).match(Dq).map(ai)},rD=function(e,t){var n=e._gsap||o0(e),r=e.style,s=kz(e),o,a,l,c;return n.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?Ty:s):(s===Ty&&!e.offsetParent&&e!==Tm&&!n.svg&&(l=r.display,r.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextElementSibling,Tm.appendChild(e)),s=kz(e),l?r.display=l:T0(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Tm.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},zP=function(e,t,n,r,s,o){var a=e._gsap,l=s||rD(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,h=a.xOffset||0,d=a.yOffset||0,m=l[0],g=l[1],y=l[2],_=l[3],v=l[4],A=l[5],S=t.split(" "),C=parseFloat(S[0])||0,T=parseFloat(S[1])||0,E,R,D,I;n?l!==Ty&&(R=m*_-g*y)&&(D=C*(_/R)+T*(-y/R)+(y*A-_*v)/R,I=C*(-g/R)+T*(m/R)-(m*A-g*v)/R,C=D,T=I):(E=wZ(e),C=E.x+(~S[0].indexOf("%")?C/100*E.width:C),T=E.y+(~(S[1]||S[0]).indexOf("%")?T/100*E.height:T)),r||r!==!1&&a.smooth?(v=C-c,A=T-u,a.xOffset=h+(v*m+A*y)-v,a.yOffset=d+(v*g+A*_)-A):a.xOffset=a.yOffset=0,a.xOrigin=C,a.yOrigin=T,a.smooth=!!r,a.origin=t,a.originIsAbsolute=!!n,e.style[xs]="0px 0px",o&&(oh(o,a,"xOrigin",c,C),oh(o,a,"yOrigin",u,T),oh(o,a,"xOffset",h,a.xOffset),oh(o,a,"yOffset",d,a.yOffset)),e.setAttribute("data-svg-origin",C+" "+T)},Ry=function(e,t){var n=e._gsap||new cZ(e);if("x"in n&&!t&&!n.uncache)return n;var r=e.style,s=n.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=pl(e,xs)||"0",u,h,d,m,g,y,_,v,A,S,C,T,E,R,D,I,L,O,W,X,Z,$,Q,ee,k,q,K,ne,le,ye,re,pe;return u=h=d=y=_=v=A=S=C=0,m=g=1,n.svg=!!(e.getCTM&&bZ(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(r[Gn]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Gn]!=="none"?l[Gn]:"")),r.scale=r.rotate=r.translate="none"),R=rD(e,n.svg),n.svg&&(n.uncache?(k=e.getBBox(),c=n.xOrigin-k.x+"px "+(n.yOrigin-k.y)+"px",ee=""):ee=!t&&e.getAttribute("data-svg-origin"),zP(e,ee||c,!!ee||n.originIsAbsolute,n.smooth!==!1,R)),T=n.xOrigin||0,E=n.yOrigin||0,R!==Ty&&(O=R[0],W=R[1],X=R[2],Z=R[3],u=$=R[4],h=Q=R[5],R.length===6?(m=Math.sqrt(O*O+W*W),g=Math.sqrt(Z*Z+X*X),y=O||W?Ip(W,O)*Td:0,A=X||Z?Ip(X,Z)*Td+y:0,A&&(g*=Math.abs(Math.cos(A*Rm))),n.svg&&(u-=T-(T*O+E*X),h-=E-(T*W+E*Z))):(pe=R[6],ye=R[7],K=R[8],ne=R[9],le=R[10],re=R[11],u=R[12],h=R[13],d=R[14],D=Ip(pe,le),_=D*Td,D&&(I=Math.cos(-D),L=Math.sin(-D),ee=$*I+K*L,k=Q*I+ne*L,q=pe*I+le*L,K=$*-L+K*I,ne=Q*-L+ne*I,le=pe*-L+le*I,re=ye*-L+re*I,$=ee,Q=k,pe=q),D=Ip(-X,le),v=D*Td,D&&(I=Math.cos(-D),L=Math.sin(-D),ee=O*I-K*L,k=W*I-ne*L,q=X*I-le*L,re=Z*L+re*I,O=ee,W=k,X=q),D=Ip(W,O),y=D*Td,D&&(I=Math.cos(D),L=Math.sin(D),ee=O*I+W*L,k=$*I+Q*L,W=W*I-O*L,Q=Q*I-$*L,O=ee,$=k),_&&Math.abs(_)+Math.abs(y)>359.9&&(_=y=0,v=180-v),m=ai(Math.sqrt(O*O+W*W+X*X)),g=ai(Math.sqrt(Q*Q+pe*pe)),D=Ip($,Q),A=Math.abs(D)>2e-4?D*Td:0,C=re?1/(re<0?-re:re):0),n.svg&&(ee=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!MZ(pl(e,Gn)),ee&&e.setAttribute("transform",ee))),Math.abs(A)>90&&Math.abs(A)<270&&(s?(m*=-1,A+=y<=0?180:-180,y+=y<=0?180:-180):(g*=-1,A+=A<=0?180:-180)),t=t||n.uncache,n.x=u-((n.xPercent=u&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=h-((n.yPercent=h&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=d+o,n.scaleX=ai(m),n.scaleY=ai(g),n.rotation=ai(y)+a,n.rotationX=ai(_)+a,n.rotationY=ai(v)+a,n.skewX=A+a,n.skewY=S+a,n.transformPerspective=C+o,(n.zOrigin=parseFloat(c.split(" ")[2])||!t&&n.zOrigin||0)&&(r[xs]=Lb(c)),n.xOffset=n.yOffset=0,n.force3D=qs.force3D,n.renderTransform=n.svg?bxe:SZ?EZ:wxe,n.uncache=0,n},Lb=function(e){return(e=e.split(" "))[0]+" "+e[1]},xT=function(e,t,n){var r=Tr(t);return ai(parseFloat(t)+parseFloat(Ih(e,"x",n+"px",r)))+r},wxe=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,EZ(e,t)},fd="0deg",R1="0px",pd=") ",EZ=function(e,t){var n=t||this,r=n.xPercent,s=n.yPercent,o=n.x,a=n.y,l=n.z,c=n.rotation,u=n.rotationY,h=n.rotationX,d=n.skewX,m=n.skewY,g=n.scaleX,y=n.scaleY,_=n.transformPerspective,v=n.force3D,A=n.target,S=n.zOrigin,C="",T=v==="auto"&&e&&e!==1||v===!0;if(S&&(h!==fd||u!==fd)){var E=parseFloat(u)*Rm,R=Math.sin(E),D=Math.cos(E),I;E=parseFloat(h)*Rm,I=Math.cos(E),o=xT(A,o,R*I*-S),a=xT(A,a,-Math.sin(E)*-S),l=xT(A,l,D*I*-S+S)}_!==R1&&(C+="perspective("+_+pd),(r||s)&&(C+="translate("+r+"%, "+s+"%) "),(T||o!==R1||a!==R1||l!==R1)&&(C+=l!==R1||T?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+pd),c!==fd&&(C+="rotate("+c+pd),u!==fd&&(C+="rotateY("+u+pd),h!==fd&&(C+="rotateX("+h+pd),(d!==fd||m!==fd)&&(C+="skew("+d+", "+m+pd),(g!==1||y!==1)&&(C+="scale("+g+", "+y+pd),A.style[Gn]=C||"translate(0, 0)"},bxe=function(e,t){var n=t||this,r=n.xPercent,s=n.yPercent,o=n.x,a=n.y,l=n.rotation,c=n.skewX,u=n.skewY,h=n.scaleX,d=n.scaleY,m=n.target,g=n.xOrigin,y=n.yOrigin,_=n.xOffset,v=n.yOffset,A=n.forceCSS,S=parseFloat(o),C=parseFloat(a),T,E,R,D,I;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=Rm,c*=Rm,T=Math.cos(l)*h,E=Math.sin(l)*h,R=Math.sin(l-c)*-d,D=Math.cos(l-c)*d,c&&(u*=Rm,I=Math.tan(c-u),I=Math.sqrt(1+I*I),R*=I,D*=I,u&&(I=Math.tan(u),I=Math.sqrt(1+I*I),T*=I,E*=I)),T=ai(T),E=ai(E),R=ai(R),D=ai(D)):(T=h,D=d,E=R=0),(S&&!~(o+"").indexOf("px")||C&&!~(a+"").indexOf("px"))&&(S=Ih(m,"x",o,"px"),C=Ih(m,"y",a,"px")),(g||y||_||v)&&(S=ai(S+g-(g*T+y*R)+_),C=ai(C+y-(g*E+y*D)+v)),(r||s)&&(I=m.getBBox(),S=ai(S+r/100*I.width),C=ai(C+s/100*I.height)),I="matrix("+T+","+E+","+R+","+D+","+S+","+C+")",m.setAttribute("transform",I),A&&(m.style[Gn]=I)},Cxe=function(e,t,n,r,s){var o=360,a=Yi(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Td:1),c=l-r,u=r+c+"deg",h,d;return a&&(h=s.split("_")[1],h==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),h==="cw"&&c<0?c=(c+o*Lz)%o-~~(c/o)*o:h==="ccw"&&c>0&&(c=(c-o*Lz)%o-~~(c/o)*o)),e._pt=d=new _s(e._pt,t,n,r,c,lxe),d.e=u,d.u="deg",e._props.push(n),d},Nz=function(e,t){for(var n in t)e[n]=t[n];return e},Mxe=function(e,t,n){var r=Nz({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=n.style,a,l,c,u,h,d,m,g;r.svg?(c=n.getAttribute("transform"),n.setAttribute("transform",""),o[Gn]=t,a=Ry(n,1),T0(n,Gn),n.setAttribute("transform",c)):(c=getComputedStyle(n)[Gn],o[Gn]=t,a=Ry(n,1),o[Gn]=c);for(l in Wc)c=r[l],u=a[l],c!==u&&s.indexOf(l)<0&&(m=Tr(c),g=Tr(u),h=m!==g?Ih(n,l,c,g):parseFloat(c),d=parseFloat(u),e._pt=new _s(e._pt,a,l,h,d-h,kP),e._pt.u=g||0,e._props.push(l));Nz(a,r)};ys("padding,margin,Width,Radius",function(i,e){var t="Top",n="Right",r="Bottom",s="Left",o=(e<3?[t,n,r,s]:[t+s,t+n,r+n,r+s]).map(function(a){return e<2?i+a:"border"+a+i});Ib[e>1?"border"+i:i]=function(a,l,c,u,h){var d,m;if(arguments.length<4)return d=o.map(function(g){return Vl(a,g,c)}),m=d.join(" "),m.split(d[0]).length===5?d[0]:m;d=(u+"").split(" "),m={},o.forEach(function(g,y){return m[g]=d[y]=d[y]||d[(y-1)/2|0]}),a.init(l,m,h)}});var TZ={name:"css",register:UP,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,s){var o=this._props,a=e.style,l=n.vars.startAt,c,u,h,d,m,g,y,_,v,A,S,C,T,E,R,D;tD||UP(),this.styles=this.styles||AZ(e),D=this.styles.props,this.tween=n;for(y in t)if(y!=="autoRound"&&(u=t[y],!(js[y]&&uZ(y,t,n,r,e,s)))){if(m=typeof u,g=Ib[y],m==="function"&&(u=u.call(n,r,e,s),m=typeof u),m==="string"&&~u.indexOf("random(")&&(u=Cy(u)),g)g(this,e,y,u,n)&&(R=1);else if(y.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(y)+"").trim(),u+="",xh.lastIndex=0,xh.test(c)||(_=Tr(c),v=Tr(u)),v?_!==v&&(c=Ih(e,y,c,v)+v):_&&(u+=_),this.add(a,"setProperty",c,u,r,s,0,0,y),o.push(y),D.push(y,0,a[y]);else if(m!=="undefined"){if(l&&y in l?(c=typeof l[y]=="function"?l[y].call(n,r,e,s):l[y],Yi(c)&&~c.indexOf("random(")&&(c=Cy(c)),Tr(c+"")||c==="auto"||(c+=qs.units[y]||Tr(Vl(e,y))||""),(c+"").charAt(1)==="="&&(c=Vl(e,y))):c=Vl(e,y),d=parseFloat(c),A=m==="string"&&u.charAt(1)==="="&&u.substr(0,2),A&&(u=u.substr(2)),h=parseFloat(u),y in al&&(y==="autoAlpha"&&(d===1&&Vl(e,"visibility")==="hidden"&&h&&(d=0),D.push("visibility",0,a.visibility),oh(this,a,"visibility",d?"inherit":"hidden",h?"inherit":"hidden",!h)),y!=="scale"&&y!=="transform"&&(y=al[y],~y.indexOf(",")&&(y=y.split(",")[0]))),S=y in Wc,S){if(this.styles.save(y),C||(T=e._gsap,T.renderTransform&&!t.parseTransform||Ry(e,t.parseTransform),E=t.smoothOrigin!==!1&&T.smooth,C=this._pt=new _s(this._pt,a,Gn,0,1,T.renderTransform,T,0,-1),C.dep=1),y==="scale")this._pt=new _s(this._pt,T,"scaleY",T.scaleY,(A?Em(T.scaleY,A+h):h)-T.scaleY||0,kP),this._pt.u=0,o.push("scaleY",y),y+="X";else if(y==="transformOrigin"){D.push(xs,0,a[xs]),u=Axe(u),T.svg?zP(e,u,0,E,0,this):(v=parseFloat(u.split(" ")[2])||0,v!==T.zOrigin&&oh(this,T,"zOrigin",T.zOrigin,v),oh(this,a,y,Lb(c),Lb(u)));continue}else if(y==="svgOrigin"){zP(e,u,1,E,0,this);continue}else if(y in CZ){Cxe(this,T,y,d,A?Em(d,A+u):u);continue}else if(y==="smoothOrigin"){oh(this,T,"smooth",T.smooth,u);continue}else if(y==="force3D"){T[y]=u;continue}else if(y==="transform"){Mxe(this,u,e);continue}}else y in a||(y=yg(y)||y);if(S||(h||h===0)&&(d||d===0)&&!axe.test(u)&&y in a)_=(c+"").substr((d+"").length),h||(h=0),v=Tr(u)||(y in qs.units?qs.units[y]:_),_!==v&&(d=Ih(e,y,c,v)),this._pt=new _s(this._pt,S?T:a,y,d,(A?Em(d,A+h):h)-d,!S&&(v==="px"||y==="zIndex")&&t.autoRound!==!1?uxe:kP),this._pt.u=v||0,_!==v&&v!=="%"&&(this._pt.b=c,this._pt.r=cxe);else if(y in a)xxe.call(this,e,y,c,A?A+u:u);else if(y in e)this.add(e,y,c||e[y],A?A+u:u,r,s);else if(y!=="parseTransform"){XL(y,u);continue}S||(y in a?D.push(y,0,a[y]):D.push(y,1,c||e[y])),o.push(y)}}R&&gZ(this)},render:function(e,t){if(t.tween._time||!nD())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:Vl,aliases:al,getSetter:function(e,t,n){var r=al[t];return r&&r.indexOf(",")<0&&(t=r),t in Wc&&t!==xs&&(e._gsap.x||Vl(e,"x"))?n&&Iz===n?t==="scale"?pxe:fxe:(Iz=n||{})&&(t==="scale"?mxe:gxe):e.style&&!GL(e.style[t])?hxe:~t.indexOf("-")?dxe:$L(e,t)},core:{_removeProperty:T0,_getMatrix:rD}};As.utils.checkPrefix=yg;As.core.getStyleSaver=AZ;(function(i,e,t,n){var r=ys(i+","+e+","+t,function(s){Wc[s]=1});ys(e,function(s){qs.units[s]="deg",CZ[s]=1}),al[r[13]]=i+","+e,ys(n,function(s){var o=s.split(":");al[o[1]]=r[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");ys("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){qs.units[i]="px"});As.registerPlugin(TZ);var sD=As.registerPlugin(TZ)||As;sD.core.Tween;/*!
 * @gsap/react 2.1.1
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/let Uz=typeof window<"u"?U.useLayoutEffect:U.useEffect,zz=i=>i&&!Array.isArray(i)&&typeof i=="object",$S=[],Exe={},RZ=sD;const oD=(i,e=$S)=>{let t=Exe;zz(i)?(t=i,i=null,e="dependencies"in t?t.dependencies:$S):zz(e)&&(t=e,e="dependencies"in t?t.dependencies:$S),i&&typeof i!="function"&&console.warn("First parameter must be a function or config object");const{scope:n,revertOnUpdate:r}=t,s=U.useRef(!1),o=U.useRef(RZ.context(()=>{},n)),a=U.useRef(c=>o.current.add(null,c)),l=e&&e.length&&!r;return Uz(()=>{if(i&&o.current.add(i,n),!l||!s.current)return()=>o.current.revert()},e),l&&Uz(()=>(s.current=!0,()=>o.current.revert()),$S),{context:o.current,contextSafe:a.current}};oD.register=i=>{RZ=i};oD.headless=!0;const Txe="/assets/computer-BSCTtrbD.glb";function Rxe({texture:i,...e}){const t=U.useRef(),{nodes:n,materials:r}=Ea(Txe),s=hde(i||j9);return U.useEffect(()=>{s&&(s.flipY=!1)},[s]),oD(()=>{sD.from(t.current.rotation,{y:Math.PI/2,duration:1,ease:"power3.out"})},[s]),w.jsx("group",{ref:t,...e,dispose:null,children:w.jsxs("group",{name:"Scene",children:[w.jsx("mesh",{name:"monitor-screen",castShadow:!0,receiveShadow:!0,geometry:n["monitor-screen"].geometry,material:n["monitor-screen"].material,position:[.127,1.831,.511],rotation:[1.571,-.005,.031],scale:[.661,.608,.401],children:w.jsx("meshBasicMaterial",{map:s})}),w.jsxs("group",{name:"RootNode",position:[0,1.093,0],rotation:[-Math.PI/2,0,-.033],scale:.045,children:[w.jsx("group",{name:"Screen001",position:[5.658,1.643,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen002",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen003",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen004",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen005",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen006",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen007",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen008",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen009",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen010",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen011",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen012",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen013",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen014",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen015",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen016",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen017",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen018",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen019",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen020",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen021",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen022",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen023",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen024",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen025",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen026",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen027",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen028",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen029",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen030",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen031",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen032",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen033",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen034",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen035",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen036",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen037",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen038",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen039",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen040",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen041",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen042",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen043",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen044",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen045",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen046",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen047",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen048",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen049",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen050",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen051",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen052",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen053",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen054",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen055",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen056",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen057",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen058",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen059",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen060",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen061",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen062",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen063",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen064",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen065",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen066",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen067",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen068",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen069",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen070",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen071",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen072",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen073",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen074",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen075",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen076",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen077",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen078",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen079",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen080",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen081",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen082",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen083",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen084",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen085",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen086",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen087",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen088",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen089",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen090",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen091",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen092",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen093",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen094",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen095",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen096",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen097",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen098",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen099",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen100",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen101",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen102",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen103",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen104",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen105",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen106",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen107",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen108",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen109",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen110",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen111",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen112",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen113",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen114",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen115",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen116",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen117",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen118",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen119",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen120",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen121",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen122",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen123",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen124",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen125",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen126",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen127",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen128",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen129",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen130",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen131",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen132",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen133",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen134",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen135",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen136",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen137",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen138",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen139",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen140",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen141",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen142",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen143",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen144",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen145",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen146",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen147",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Screen148",position:[5.658,1.644,.812],rotation:[Math.PI/2,0,0],scale:[.923,.855,.855]}),w.jsx("group",{name:"Tower-light-007",position:[16.089,-3.47,-14.495],rotation:[Math.PI/2,0,0],scale:.963}),w.jsx("group",{name:"Tower-light-008",position:[15.155,-3.47,-14.495],rotation:[Math.PI/2,0,0],scale:.963})]}),w.jsxs("group",{name:"Monitor-B-_computer_0",position:[.266,1.132,.051],rotation:[0,-.033,0],scale:[.042,.045,.045],children:[w.jsx("mesh",{name:"Monitor-B-_computer_0_1",castShadow:!0,receiveShadow:!0,geometry:n["Monitor-B-_computer_0_1"].geometry,material:r.computer}),w.jsx("mesh",{name:"Monitor-B-_computer_0_2",castShadow:!0,receiveShadow:!0,geometry:n["Monitor-B-_computer_0_2"].geometry,material:r.base__0}),w.jsx("mesh",{name:"Monitor-B-_computer_0_3",castShadow:!0,receiveShadow:!0,geometry:n["Monitor-B-_computer_0_3"].geometry,material:r.Material_36}),w.jsx("mesh",{name:"Monitor-B-_computer_0_4",castShadow:!0,receiveShadow:!0,geometry:n["Monitor-B-_computer_0_4"].geometry,material:r.Material_35}),w.jsx("mesh",{name:"Monitor-B-_computer_0_5",castShadow:!0,receiveShadow:!0,geometry:n["Monitor-B-_computer_0_5"].geometry,material:r.Material_34}),w.jsx("mesh",{name:"Monitor-B-_computer_0_6",castShadow:!0,receiveShadow:!0,geometry:n["Monitor-B-_computer_0_6"].geometry,material:r.keys}),w.jsx("mesh",{name:"Monitor-B-_computer_0_7",castShadow:!0,receiveShadow:!0,geometry:n["Monitor-B-_computer_0_7"].geometry,material:r.keys2}),w.jsx("mesh",{name:"Monitor-B-_computer_0_8",castShadow:!0,receiveShadow:!0,geometry:n["Monitor-B-_computer_0_8"].geometry,material:r.Material_37})]})]})})}const Pxe=()=>{const i=U.useRef(new Audio(r_e));i.current.volume=.4,i.current.loop=!0;const[e,t]=U.useState(1),[n,r]=U.useState(!1),[s,o]=U.useState(!1);U.useEffect(()=>(s&&i.current.play(),()=>{i.current.pause()}),[s]);const a=()=>{let A,S,C;return window.innerWidth<768?(A=[.005,.005,.005],S=[.4,-2.2,-.8],C=[.7,20.7,-1.2]):(A=[.006,.006,.006],S=[.5,-2,1.1],C=[.7,20.7,-1.2]),[A,S,C]},[l,c,u]=a(),h=()=>{let A,S,C;return window.innerWidth<768?(A=[13,13,13],S=[0,0,-43.4],C=[.1,4.7077,0]):(A=[17,17,17],S=[0,0,-43.4],C=[.1,4.7077,0]),[A,S,C]},[d,m,g]=h(),y=()=>{let A,S;return window.innerWidth<768?(A=[1.8,1.8,1.8],S=[-1,-1.7,1]):(A=[2.5,2.5,2.5],S=[-2,-1.7,1]),[A,S]},[_,v]=y();return w.jsxs("section",{className:"w-full h-screen relative",children:[w.jsx("div",{className:"absolute top-28 left-0 right-0 z-10 flex items-center justify-center",children:e&&w.jsx(yge,{currentStage:e})}),w.jsx(zI,{className:`w-full h-screen bg-transparent ${n?"cursor-grabbing":"cursor-grab"}`,camera:{near:.1,far:1e3},children:w.jsxs(U.Suspense,{fallback:w.jsx(dX,{}),children:[w.jsx("directionalLight",{position:[1,1.2,.8],intensity:6}),w.jsx("ambientLight",{intensity:.4}),w.jsx("hemisphereLight",{skyColor:"#b1e1ff",groundColor:"#000000",intensity:.3}),w.jsx(o_e,{isRotating:n}),w.jsx(o3e,{isRotating:n,setIsRotating:r,setCurrentStage:t,position:m,rotation:g,scale:d}),w.jsx(l_e,{isRotating:n,position:c,rotation:u,scale:l}),!n&&w.jsx(d3e,{isRotating:n,position:v,rotation:[0,0,0],scale:_})]})}),w.jsx("div",{className:"absolute bottom-14 left-20 right-20 z-10 flex items-center justify-center",children:w.jsxs("p",{className:"text-md leading-relaxed mt-4",children:["Use the",w.jsx("img",{src:pX,alt:"leftarrow",className:"inline-block w-4 h-4 align-text-bottom -mt-0.5 mx-0.5"}),"and",w.jsx("img",{src:vX,alt:"rightarrow",className:"inline-block w-4 h-4 align-text-bottom -mt-0.5 mx-0.5"}),"arrow keys to fly left and right. Mouse or touch gestures work too!"]})}),w.jsx("div",{className:"absolute bottom-2 left-2 z-10 flex items-center justify-center",children:w.jsx("img",{src:s?_X:yX,alt:"jukebox",onClick:()=>o(!s),className:"w-10 h-10 cursor-pointer object-contain"})}),w.jsxs("div",{className:"absolute bottom-2 right-2 z-10 flex items-center justify-center",children:[w.jsx("div",{className:"mx-2",children:w.jsxs("p",{className:"text-sm",children:["Site broken? ",w.jsx("a",{href:"/plain",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-blue-600",children:"Old site"})]})}),w.jsx("div",{className:"flex gap-3 justify-center items-center px-2 py-1 bg-white rounded-lg",children:SX.map(A=>w.jsx(gh,{to:A.link,target:"_blank",children:w.jsx("img",{src:A.iconUrl,alt:A.name,className:"w-6 h-6 object-contain"})},A.name))})]})]})};var KM={},PZ={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(i){(function(){var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=r(s,n(a)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=r(o,a));return o}function r(s,o){return o?s?s+" "+o:s+o:s}i.exports?(t.default=t,i.exports=t):window.classNames=t})()})(PZ);var IZ=PZ.exports;KM.__esModule=!0;KM.default=void 0;var Ixe=aD(U),fu=aD(GI),Lxe=aD(IZ);function aD(i){return i&&i.__esModule?i:{default:i}}const LZ=({animate:i=!0,className:e="",layout:t="2-columns",lineColor:n="#FFF",children:r})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",n),Ixe.default.createElement("div",{className:(0,Lxe.default)(e,"vertical-timeline",{"vertical-timeline--animate":i,"vertical-timeline--two-columns":t==="2-columns","vertical-timeline--one-column-left":t==="1-column"||t==="1-column-left","vertical-timeline--one-column-right":t==="1-column-right"})},r));LZ.propTypes={children:fu.default.oneOfType([fu.default.arrayOf(fu.default.node),fu.default.node]).isRequired,className:fu.default.string,animate:fu.default.bool,layout:fu.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:fu.default.string};var Dxe=LZ;KM.default=Dxe;var YM={};function jP(){return jP=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},jP.apply(this,arguments)}function Bxe(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,HP(i,e)}function HP(i,e){return HP=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},HP(i,e)}function Fxe(i,e){if(i==null)return{};var t={},n=Object.keys(i),r,s;for(s=0;s<n.length;s++)r=n[s],!(e.indexOf(r)>=0)&&(t[r]=i[r]);return t}var GP=new Map,e5=new WeakMap,jz=0,DZ=void 0;function Oxe(i){DZ=i}function kxe(i){return i?(e5.has(i)||(jz+=1,e5.set(i,jz.toString())),e5.get(i)):"0"}function Nxe(i){return Object.keys(i).sort().filter(function(e){return i[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?kxe(i.root):i[e])}).toString()}function Uxe(i){var e=Nxe(i),t=GP.get(e);if(!t){var n=new Map,r,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,c=a.isIntersecting&&r.some(function(u){return a.intersectionRatio>=u});i.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=n.get(a.target))==null||l.forEach(function(u){u(c,a)})})},i);r=s.thresholds||(Array.isArray(i.threshold)?i.threshold:[i.threshold||0]),t={id:e,observer:s,elements:n},GP.set(e,t)}return t}function lD(i,e,t,n){if(t===void 0&&(t={}),n===void 0&&(n=DZ),typeof window.IntersectionObserver>"u"&&n!==void 0){var r=i.getBoundingClientRect();return e(n,{isIntersecting:n,target:i,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var s=Uxe(t),o=s.id,a=s.observer,l=s.elements,c=l.get(i)||[];return l.has(i)||l.set(i,c),c.push(e),a.observe(i),function(){c.splice(c.indexOf(e),1),c.length===0&&(l.delete(i),a.unobserve(i)),l.size===0&&(a.disconnect(),GP.delete(o))}}var zxe=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function Hz(i){return typeof i.children!="function"}var Db=function(i){Bxe(e,i);function e(n){var r;return r=i.call(this,n)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(s){r.node&&(r.unobserve(),!s&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=s||null,r.observeNode()},r.handleChange=function(s,o){s&&r.props.triggerOnce&&r.unobserve(),Hz(r.props)||r.setState({inView:s,entry:o}),r.props.onChange&&r.props.onChange(s,o)},r.state={inView:!!n.initialInView,entry:void 0},r}var t=e.prototype;return t.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,s=r.threshold,o=r.root,a=r.rootMargin,l=r.trackVisibility,c=r.delay,u=r.fallbackInView;this._unobserveCb=lD(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:l,delay:c},u)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!Hz(this.props)){var r=this.state,s=r.inView,o=r.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,l=a.children,c=a.as,u=Fxe(a,zxe);return U.createElement(c||"div",jP({ref:this.handleNode},u),l)},e}(U.Component);Db.displayName="InView";Db.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function jxe(i){var e=i===void 0?{}:i,t=e.threshold,n=e.delay,r=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,c=e.initialInView,u=e.fallbackInView,h=U.useRef(),d=U.useState({inView:!!c}),m=d[0],g=d[1],y=U.useCallback(function(v){h.current!==void 0&&(h.current(),h.current=void 0),!l&&v&&(h.current=lD(v,function(A,S){g({inView:A,entry:S}),S.isIntersecting&&a&&h.current&&(h.current(),h.current=void 0)},{root:o,rootMargin:s,threshold:t,trackVisibility:r,delay:n},u))},[Array.isArray(t)?t.toString():t,o,s,a,l,r,u,n]);U.useEffect(function(){!h.current&&m.entry&&!a&&!l&&g({inView:!!c})});var _=[y,m.inView,m.entry];return _.ref=_[0],_.inView=_[1],_.entry=_[2],_}const Hxe=Object.freeze(Object.defineProperty({__proto__:null,InView:Db,default:Db,defaultFallbackInView:Oxe,observe:lD,useInView:jxe},Symbol.toStringTag,{value:"Module"})),Gxe=VQ(Hxe);YM.__esModule=!0;YM.default=void 0;var pu=cD(U),Bn=cD(GI),t5=cD(IZ),Vxe=Gxe;function cD(i){return i&&i.__esModule?i:{default:i}}const BZ=({children:i="",className:e="",contentArrowStyle:t=null,contentStyle:n=null,date:r="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:c=null,iconStyle:u=null,id:h="",position:d="",style:m=null,textClassName:g="",intersectionObserverProps:y={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:_=!1})=>pu.default.createElement(Vxe.InView,y,({inView:v,ref:A})=>pu.default.createElement("div",{ref:A,id:h,className:(0,t5.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":d==="left","vertical-timeline-element--right":d==="right","vertical-timeline-element--no-children":i===""}),style:m},pu.default.createElement(pu.default.Fragment,null,pu.default.createElement("span",{style:u,onClick:l,className:(0,t5.default)(a,"vertical-timeline-element-icon",{"bounce-in":v||_,"is-hidden":!(v||_)})},o),pu.default.createElement("div",{style:n,onClick:c,className:(0,t5.default)(g,"vertical-timeline-element-content",{"bounce-in":v||_,"is-hidden":!(v||_)})},pu.default.createElement("div",{style:t,className:"vertical-timeline-element-content-arrow"}),i,pu.default.createElement("span",{className:(0,t5.default)(s,"vertical-timeline-element-date")},r)))));BZ.propTypes={children:Bn.default.oneOfType([Bn.default.arrayOf(Bn.default.node),Bn.default.node]),className:Bn.default.string,contentArrowStyle:Bn.default.shape({}),contentStyle:Bn.default.shape({}),date:Bn.default.node,dateClassName:Bn.default.string,icon:Bn.default.element,iconClassName:Bn.default.string,iconStyle:Bn.default.shape({}),iconOnClick:Bn.default.func,onTimelineElementClick:Bn.default.func,id:Bn.default.string,position:Bn.default.string,style:Bn.default.shape({}),textClassName:Bn.default.string,visible:Bn.default.bool,intersectionObserverProps:Bn.default.shape({root:Bn.default.object,rootMargin:Bn.default.string,threshold:Bn.default.number,triggerOnce:Bn.default.bool})};var Wxe=BZ;YM.default=Wxe;var Gz={VerticalTimeline:KM.default,VerticalTimelineElement:YM.default};function Xxe(){return rn.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-unzoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},rn.createElement("path",{d:"M 14.144531 1.148438 L 9 6.292969 L 9 3 L 8 3 L 8 8 L 13 8 L 13 7 L 9.707031 7 L 14.855469 1.851563 Z M 8 8 L 3 8 L 3 9 L 6.292969 9 L 1.148438 14.144531 L 1.851563 14.855469 L 7 9.707031 L 7 13 L 8 13 Z"}))}function Kxe(){return rn.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-zoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},rn.createElement("path",{d:"M 9 1 L 9 2 L 12.292969 2 L 2 12.292969 L 2 9 L 1 9 L 1 14 L 6 14 L 6 13 L 2.707031 13 L 13 2.707031 L 13 6 L 14 6 L 14 1 Z"}))}const Bb=(i,e)=>{var t,n;return i===((n=(t=e==null?void 0:e.tagName)==null?void 0:t.toUpperCase)==null?void 0:n.call(t))},uD=i=>Bb("DIV",i)||Bb("SPAN",i),Fb=i=>Bb("IMG",i),Vz=i=>i.complete&&i.naturalHeight!==0,Z5=i=>Bb("SVG",i),FZ=({height:i,offset:e,width:t})=>Math.min((window.innerWidth-e*2)/t,(window.innerHeight-e*2)/i),Yxe=({containerHeight:i,containerWidth:e,offset:t,targetHeight:n,targetWidth:r})=>{const s=FZ({height:n,offset:t,width:r}),o=r>n?r/e:n/i;return s>1?o:s*o},u0=({containerHeight:i,containerWidth:e,hasScalableSrc:t,offset:n,targetHeight:r,targetWidth:s})=>!i||!e?1:!t&&r&&s?Yxe({containerHeight:i,containerWidth:e,offset:n,targetHeight:r,targetWidth:s}):FZ({height:i,offset:n,width:e}),Jxe=/url(?:\(['"]?)(.*?)(?:['"]?\))/,Wz=i=>{var e;if(i){if(Fb(i))return i.currentSrc;if(uD(i)){const t=window.getComputedStyle(i).backgroundImage;if(t)return(e=Jxe.exec(t))==null?void 0:e[1]}}},qxe=i=>{if(i)return Fb(i)?i.alt??void 0:i.getAttribute("aria-label")??void 0},Zxe=({containerHeight:i,containerLeft:e,containerTop:t,containerWidth:n,hasScalableSrc:r,offset:s,targetHeight:o,targetWidth:a})=>{const l=u0({containerHeight:i,containerWidth:n,hasScalableSrc:r,offset:s,targetHeight:o,targetWidth:a});return{top:t,left:e,width:n*l,height:i*l,transform:`translate(0,0) scale(${1/l})`}},Co=({position:i,relativeNum:e})=>{const t=parseFloat(i);return i.endsWith("%")?e*t/100:t},Qxe=({containerHeight:i,containerLeft:e,containerTop:t,containerWidth:n,hasScalableSrc:r,objectFit:s,objectPosition:o,offset:a,targetHeight:l,targetWidth:c})=>{if(s==="scale-down"&&(c<=n&&l<=i?s="none":s="contain"),s==="cover"||s==="contain"){const u=n/c,h=i/l,d=s==="cover"?Math.max(u,h):Math.min(u,h),[m="50%",g="50%"]=o.split(" "),y=Co({position:m,relativeNum:n-c*d}),_=Co({position:g,relativeNum:i-l*d}),v=u0({containerHeight:l*d,containerWidth:c*d,hasScalableSrc:r,offset:a,targetHeight:l,targetWidth:c});return{top:t+_,left:e+y,width:c*d*v,height:l*d*v,transform:`translate(0,0) scale(${1/v})`}}else if(s==="none"){const[u="50%",h="50%"]=o.split(" "),d=Co({position:u,relativeNum:n-c}),m=Co({position:h,relativeNum:i-l}),g=u0({containerHeight:l,containerWidth:c,hasScalableSrc:r,offset:a,targetHeight:l,targetWidth:c});return{top:t+m,left:e+d,width:c*g,height:l*g,transform:`translate(0,0) scale(${1/g})`}}else if(s==="fill"){const u=n/c,h=i/l,d=Math.max(u,h),m=u0({containerHeight:l*d,containerWidth:c*d,hasScalableSrc:r,offset:a,targetHeight:l,targetWidth:c});return{width:n*m,height:i*m,transform:`translate(0,0) scale(${1/m})`}}else return{}},$xe=({backgroundPosition:i,backgroundSize:e,containerHeight:t,containerLeft:n,containerTop:r,containerWidth:s,hasScalableSrc:o,offset:a,targetHeight:l,targetWidth:c})=>{if(e==="cover"||e==="contain"){const u=s/c,h=t/l,d=e==="cover"?Math.max(u,h):Math.min(u,h),[m="50%",g="50%"]=i.split(" "),y=Co({position:m,relativeNum:s-c*d}),_=Co({position:g,relativeNum:t-l*d}),v=u0({containerHeight:l*d,containerWidth:c*d,hasScalableSrc:o,offset:a,targetHeight:l,targetWidth:c});return{top:r+_,left:n+y,width:c*d*v,height:l*d*v,transform:`translate(0,0) scale(${1/v})`}}else if(e==="auto"){const[u="50%",h="50%"]=i.split(" "),d=Co({position:u,relativeNum:s-c}),m=Co({position:h,relativeNum:t-l}),g=u0({containerHeight:l,containerWidth:c,hasScalableSrc:o,offset:a,targetHeight:l,targetWidth:c});return{top:r+m,left:n+d,width:c*g,height:l*g,transform:`translate(0,0) scale(${1/g})`}}else{const[u="50%",h="50%"]=e.split(" "),d=Co({position:u,relativeNum:s}),m=Co({position:h,relativeNum:t}),g=d/c,y=m/l,_=Math.min(g,y),[v="50%",A="50%"]=i.split(" "),S=Co({position:v,relativeNum:s-c*_}),C=Co({position:A,relativeNum:t-l*_}),T=u0({containerHeight:l*_,containerWidth:c*_,hasScalableSrc:o,offset:a,targetHeight:l,targetWidth:c});return{top:r+C,left:n+S,width:c*_*T,height:l*_*T,transform:`translate(0,0) scale(${1/T})`}}},eAe=/\.svg$/i,tAe=({hasZoomImg:i,imgSrc:e,isSvg:t,isZoomed:n,loadedImgEl:r,offset:s,shouldRefresh:o,targetEl:a})=>{var v;const l=t||((v=e==null?void 0:e.slice)==null?void 0:v.call(e,0,18))==="data:image/svg+xml"||i||!!(e&&eAe.test(e)),c=a.getBoundingClientRect(),u=window.getComputedStyle(a),h=r!=null&&uD(a),d=r!=null&&!h,m=Zxe({containerHeight:c.height,containerLeft:c.left,containerTop:c.top,containerWidth:c.width,hasScalableSrc:l,offset:s,targetHeight:(r==null?void 0:r.naturalHeight)||c.height,targetWidth:(r==null?void 0:r.naturalWidth)||c.width}),g=d?Qxe({containerHeight:c.height,containerLeft:c.left,containerTop:c.top,containerWidth:c.width,hasScalableSrc:l,objectFit:u.objectFit,objectPosition:u.objectPosition,offset:s,targetHeight:(r==null?void 0:r.naturalHeight)||c.height,targetWidth:(r==null?void 0:r.naturalWidth)||c.width}):void 0,y=h?$xe({backgroundPosition:u.backgroundPosition,backgroundSize:u.backgroundSize,containerHeight:c.height,containerLeft:c.left,containerTop:c.top,containerWidth:c.width,hasScalableSrc:l,offset:s,targetHeight:(r==null?void 0:r.naturalHeight)||c.height,targetWidth:(r==null?void 0:r.naturalWidth)||c.width}):void 0,_=Object.assign({},m,g,y);if(n){const A=window.innerWidth/2,S=window.innerHeight/2,C=parseFloat(String(_.left||0))+parseFloat(String(_.width||0))/2,T=parseFloat(String(_.top||0))+parseFloat(String(_.height||0))/2,E=A-C,R=S-T;o&&(_.transitionDuration="0.01ms"),_.transform=`translate(${E}px,${R}px) scale(1)`}return _},AT=i=>{if(!i)return{};if(Z5(i)){const e=i.parentElement,t=i.getBoundingClientRect();if(e){const n=e.getBoundingClientRect();return{height:t.height,left:n.left-t.left,top:n.top-t.top,width:t.width}}else return{height:t.height,left:t.left,width:t.width,top:t.top}}else return{height:i.offsetHeight,left:i.offsetLeft,width:i.offsetWidth,top:i.offsetTop}},nAe=i=>{const e="-zoom",t=["clip-path","fill","mask","marker-start","marker-mid","marker-end"],n=new Map;if(i.hasAttribute("id")){const r=i.id,s=r+e;n.set(r,s),i.id=s}i.querySelectorAll("[id]").forEach(r=>{const s=r.id,o=s+e;n.set(s,o),r.id=o}),n.forEach((r,s)=>{const o=`url(#${s})`,a=`url(#${r})`,l=t.map(c=>`[${c}="${o}"]`).join(", ");i.querySelectorAll(l).forEach(c=>{t.forEach(u=>{c.getAttribute(u)===o&&c.setAttribute(u,a)})})}),i.querySelectorAll("style").forEach(r=>{n.forEach((s,o)=>{r.textContent&&(r.textContent=r.textContent.replaceAll(`#${o}`,`#${s}`))})})},iAe=["img","svg",'[role="img"]',"[data-zoom]"].map(i=>`${i}:not([aria-hidden="true"])`).join(","),Xz={overflow:"",width:""};function rAe(i){return rn.createElement(OZ,{...i})}class OZ extends rn.Component{constructor(){super(...arguments),this.state={id:"",isZoomImgLoaded:!1,loadedImgEl:void 0,modalState:"UNLOADED",shouldRefresh:!1,styleGhost:{}},this.refContent=rn.createRef(),this.refDialog=rn.createRef(),this.refModalContent=rn.createRef(),this.refModalImg=rn.createRef(),this.refWrap=rn.createRef(),this.imgEl=null,this.isScaling=!1,this.prevBodyAttrs=Xz,this.styleModalImg={},this.handleModalStateChange=e=>{var n,r,s,o;const{modalState:t}=this.state;e!=="LOADING"&&t==="LOADING"?(this.loadZoomImg(),window.addEventListener("resize",this.handleResize,{passive:!0}),window.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),window.addEventListener("touchmove",this.handleTouchMove,{passive:!0}),window.addEventListener("touchend",this.handleTouchEnd,{passive:!0}),window.addEventListener("touchcancel",this.handleTouchCancel,{passive:!0}),document.addEventListener("keydown",this.handleKeyDown,!0)):e!=="LOADED"&&t==="LOADED"?window.addEventListener("wheel",this.handleWheel,{passive:!0}):e!=="UNLOADING"&&t==="UNLOADING"?(this.ensureImgTransitionEnd(),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),document.removeEventListener("keydown",this.handleKeyDown,!0)):e!=="UNLOADED"&&t==="UNLOADED"&&(this.bodyScrollEnable(),window.removeEventListener("resize",this.handleResize),(r=(n=this.refModalImg.current)==null?void 0:n.removeEventListener)==null||r.call(n,"transitionend",this.handleImgTransitionEnd),(o=(s=this.refDialog.current)==null?void 0:s.close)==null||o.call(s))},this.getDialogContainer=()=>{let e=document.querySelector("[data-rmiz-portal]");return e==null&&(e=document.createElement("div"),e.setAttribute("data-rmiz-portal",""),document.body.appendChild(e)),e},this.setId=()=>{const e=()=>Math.random().toString(16).slice(-4);this.setState({id:e()+e()+e()})},this.setAndTrackImg=()=>{var t,n;const e=this.refContent.current;e&&(this.imgEl=e.querySelector(iAe),this.imgEl?((n=(t=this.contentNotFoundChangeObserver)==null?void 0:t.disconnect)==null||n.call(t),this.imgEl.addEventListener("load",this.handleImgLoad),this.imgEl.addEventListener("click",this.handleZoom),this.state.loadedImgEl||this.handleImgLoad(),this.imgElResizeObserver=new ResizeObserver(r=>{const s=r[0];s!=null&&s.target&&(this.imgEl=s.target,this.setState({styleGhost:AT(this.imgEl)}))}),this.imgElResizeObserver.observe(this.imgEl),this.contentChangeObserver||(this.contentChangeObserver=new MutationObserver(()=>{this.setState({styleGhost:AT(this.imgEl)})}),this.contentChangeObserver.observe(e,{attributes:!0,childList:!0,subtree:!0}))):this.contentNotFoundChangeObserver||(this.contentNotFoundChangeObserver=new MutationObserver(this.setAndTrackImg),this.contentNotFoundChangeObserver.observe(e,{childList:!0,subtree:!0})))},this.handleIfZoomChanged=e=>{const{isZoomed:t}=this.props;!e&&t?this.zoom():e&&!t&&this.unzoom()},this.handleImgLoad=()=>{const e=Wz(this.imgEl);if(!e)return;const t=new Image;Fb(this.imgEl)&&(t.sizes=this.imgEl.sizes,t.srcset=this.imgEl.srcset),t.src=e;const n=()=>{this.setState({loadedImgEl:t,styleGhost:AT(this.imgEl)})};t.decode().then(n).catch(()=>{if(Vz(t)){n();return}t.onload=n})},this.handleZoom=()=>{var e,t;this.hasImage()&&((t=(e=this.props).onZoomChange)==null||t.call(e,!0))},this.handleUnzoom=()=>{var e,t;(t=(e=this.props).onZoomChange)==null||t.call(e,!1)},this.handleDialogCancel=e=>{e.preventDefault()},this.handleDialogClick=e=>{(e.target===this.refModalContent.current||e.target===this.refModalImg.current)&&this.handleUnzoom()},this.handleKeyDown=e=>{(e.key==="Escape"||e.keyCode===27)&&(e.preventDefault(),e.stopPropagation(),this.handleUnzoom())},this.handleWheel=e=>{e.ctrlKey||(e.stopPropagation(),queueMicrotask(()=>{this.handleUnzoom()}))},this.handleTouchStart=e=>{if(e.touches.length>1){this.isScaling=!0;return}e.changedTouches.length===1&&e.changedTouches[0]&&(this.touchYStart=e.changedTouches[0].screenY)},this.handleTouchMove=e=>{var n;const t=((n=window.visualViewport)==null?void 0:n.scale)??1;if(this.props.canSwipeToUnzoom&&!this.isScaling&&t<=1&&this.touchYStart!=null&&e.changedTouches[0]){this.touchYEnd=e.changedTouches[0].screenY;const r=Math.max(this.touchYStart,this.touchYEnd),s=Math.min(this.touchYStart,this.touchYEnd);Math.abs(r-s)>this.props.swipeToUnzoomThreshold&&(this.touchYStart=void 0,this.touchYEnd=void 0,this.handleUnzoom())}},this.handleTouchEnd=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleTouchCancel=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleResize=()=>{this.setState({shouldRefresh:!0})},this.hasImage=()=>this.imgEl&&(this.state.loadedImgEl||Z5(this.imgEl))&&window.getComputedStyle(this.imgEl).display!=="none",this.zoom=()=>{var e,t,n,r;this.bodyScrollDisable(),(t=(e=this.refDialog.current)==null?void 0:e.showModal)==null||t.call(e),(r=(n=this.refModalImg.current)==null?void 0:n.addEventListener)==null||r.call(n,"transitionend",this.handleImgTransitionEnd),this.setState({modalState:"LOADING"})},this.unzoom=()=>{this.setState({modalState:"UNLOADING"})},this.handleImgTransitionEnd=()=>{clearTimeout(this.timeoutTransitionEnd),this.state.modalState==="LOADING"?this.setState({modalState:"LOADED"}):this.state.modalState==="UNLOADING"&&this.setState({shouldRefresh:!1,modalState:"UNLOADED"})},this.ensureImgTransitionEnd=()=>{if(this.refModalImg.current){const e=window.getComputedStyle(this.refModalImg.current).transitionDuration,t=parseFloat(e);if(t){const n=t*(e.endsWith("ms")?1:1e3)+50;this.timeoutTransitionEnd=setTimeout(this.handleImgTransitionEnd,n)}}},this.bodyScrollDisable=()=>{this.prevBodyAttrs={overflow:document.body.style.overflow,width:document.body.style.width};const e=document.body.clientWidth;document.body.style.overflow="hidden",document.body.style.width=`${e}px`},this.bodyScrollEnable=()=>{document.body.style.width=this.prevBodyAttrs.width,document.body.style.overflow=this.prevBodyAttrs.overflow,this.prevBodyAttrs=Xz},this.loadZoomImg=()=>{const{props:{zoomImg:e}}=this,t=e==null?void 0:e.src;if(t){const n=new Image;n.sizes=(e==null?void 0:e.sizes)??"",n.srcset=(e==null?void 0:e.srcSet)??"",n.src=t;const r=()=>{this.setState({isZoomImgLoaded:!0})};n.decode().then(r).catch(()=>{if(Vz(n)){r();return}n.onload=r})}},this.UNSAFE_handleSvg=()=>{var r,s,o,a,l;const{imgEl:e,refModalImg:t,styleModalImg:n}=this;if(Z5(e)){const c=e.cloneNode(!0);nAe(c),c.style.width=`${n.width||0}px`,c.style.height=`${n.height||0}px`,c.addEventListener("click",this.handleUnzoom),(o=(s=(r=t.current)==null?void 0:r.firstChild)==null?void 0:s.remove)==null||o.call(s),(l=(a=t.current)==null?void 0:a.appendChild)==null||l.call(a,c)}}}render(){const{handleDialogCancel:e,handleDialogClick:t,handleUnzoom:n,handleZoom:r,imgEl:s,props:{a11yNameButtonUnzoom:o,a11yNameButtonZoom:a,children:l,classDialog:c,IconUnzoom:u,IconZoom:h,isZoomed:d,wrapElement:m,ZoomContent:g,zoomImg:y,zoomMargin:_},refContent:v,refDialog:A,refModalContent:S,refModalImg:C,refWrap:T,state:{id:E,isZoomImgLoaded:R,loadedImgEl:D,modalState:I,shouldRefresh:L,styleGhost:O}}=this,W=`rmiz-modal-${E}`,X=`rmiz-modal-img-${E}`,Z=uD(s),$=Fb(s),Q=Z5(s),ee=qxe(s),k=Wz(s),q=$?s.sizes:void 0,K=$?s.srcset:void 0,ne=!!(y!=null&&y.src),le=this.hasImage(),ye=ee?`${a}: ${ee}`:a,re=I==="LOADING"||I==="LOADED",pe=le?"found":"not-found",Me=I==="UNLOADED"||I==="UNLOADING"?"hidden":"visible",xe={visibility:I==="UNLOADED"?"visible":"hidden"};this.styleModalImg=le?tAe({hasZoomImg:ne,imgSrc:k,isSvg:Q,isZoomed:d&&re,loadedImgEl:D,offset:_,shouldRefresh:L,targetEl:s}):{};let We=null;if(le){const rt=$||Z?rn.createElement("img",{alt:ee,sizes:q,src:k,srcSet:K,...R&&I==="LOADED"?y:{},"data-rmiz-modal-img":"",height:this.styleModalImg.height||void 0,id:X,ref:C,style:this.styleModalImg,width:this.styleModalImg.width||void 0}):Q?rn.createElement("div",{"data-rmiz-modal-img":!0,ref:C,style:this.styleModalImg}):null,Be=rn.createElement("button",{"aria-label":o,"data-rmiz-btn-unzoom":"",onClick:n,type:"button"},rn.createElement(u,null));We=g?rn.createElement(g,{buttonUnzoom:Be,modalState:I,img:rt,onUnzoom:n}):rn.createElement(rn.Fragment,null,rt,Be)}return rn.createElement(m,{"aria-owns":W,"data-rmiz":"",ref:T},rn.createElement(m,{"data-rmiz-content":pe,ref:v,style:xe},l),le&&rn.createElement(m,{"data-rmiz-ghost":"",style:O},rn.createElement("button",{"aria-label":ye,"data-rmiz-btn-zoom":"",onClick:r,type:"button"},rn.createElement(h,null))),le&&vte.createPortal(rn.createElement("dialog",{"aria-labelledby":X,"aria-modal":"true",className:c,"data-rmiz-modal":"",id:W,onClick:t,onClose:n,onCancel:e,ref:A,role:"dialog"},rn.createElement("div",{"data-rmiz-modal-overlay":Me}),rn.createElement("div",{"data-rmiz-modal-content":"",ref:S},We)),this.getDialogContainer()))}componentDidMount(){this.setId(),this.setAndTrackImg(),this.handleImgLoad(),this.UNSAFE_handleSvg()}componentWillUnmount(){var e,t,n,r,s,o,a,l,c,u,h,d;this.state.modalState!=="UNLOADED"&&this.bodyScrollEnable(),(t=(e=this.contentChangeObserver)==null?void 0:e.disconnect)==null||t.call(e),(r=(n=this.contentNotFoundChangeObserver)==null?void 0:n.disconnect)==null||r.call(n),(o=(s=this.imgElResizeObserver)==null?void 0:s.disconnect)==null||o.call(s),(l=(a=this.imgEl)==null?void 0:a.removeEventListener)==null||l.call(a,"load",this.handleImgLoad),(u=(c=this.imgEl)==null?void 0:c.removeEventListener)==null||u.call(c,"click",this.handleZoom),(d=(h=this.refModalImg.current)==null?void 0:h.removeEventListener)==null||d.call(h,"transitionend",this.handleImgTransitionEnd),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),window.removeEventListener("resize",this.handleResize),document.removeEventListener("keydown",this.handleKeyDown,!0)}componentDidUpdate(e,t){this.handleModalStateChange(t.modalState),this.UNSAFE_handleSvg(),this.handleIfZoomChanged(e.isZoomed)}}OZ.defaultProps={a11yNameButtonUnzoom:"Minimize image",a11yNameButtonZoom:"Expand image",canSwipeToUnzoom:!0,IconUnzoom:Xxe,IconZoom:Kxe,swipeToUnzoomThreshold:10,wrapElement:"div",zoomMargin:0};function sAe(i){const[e,t]=rn.useState(!1);return rn.createElement(rAe,{...i,isZoomed:e,onZoomChange:t})}var kZ={};function oAe(i){if(typeof window>"u")return;const e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=i,document.head.appendChild(e),i}Object.defineProperty(kZ,"__esModule",{value:!0});var Jn=U;function aAe(i){return i&&typeof i=="object"&&"default"in i?i:{default:i}}var mu=aAe(Jn);oAe(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const lAe=Jn.forwardRef(function({style:e={},className:t="",autoFill:n=!1,play:r=!0,pauseOnHover:s=!1,pauseOnClick:o=!1,direction:a="left",speed:l=50,delay:c=0,loop:u=0,gradient:h=!1,gradientColor:d="white",gradientWidth:m=200,onFinish:g,onCycleComplete:y,onMount:_,children:v},A){const[S,C]=Jn.useState(0),[T,E]=Jn.useState(0),[R,D]=Jn.useState(1),[I,L]=Jn.useState(!1),O=Jn.useRef(null),W=A||O,X=Jn.useRef(null),Z=Jn.useCallback(()=>{if(X.current&&W.current){const ne=W.current.getBoundingClientRect(),le=X.current.getBoundingClientRect();let ye=ne.width,re=le.width;(a==="up"||a==="down")&&(ye=ne.height,re=le.height),D(n&&ye&&re&&re<ye?Math.ceil(ye/re):1),C(ye),E(re)}},[n,W,a]);Jn.useEffect(()=>{if(I&&(Z(),X.current&&W.current)){const ne=new ResizeObserver(()=>Z());return ne.observe(W.current),ne.observe(X.current),()=>{ne&&ne.disconnect()}}},[Z,W,I]),Jn.useEffect(()=>{Z()},[Z,v]),Jn.useEffect(()=>{L(!0)},[]),Jn.useEffect(()=>{typeof _=="function"&&_()},[]);const $=Jn.useMemo(()=>n?T*R/l:T<S?S/l:T/l,[n,S,T,R,l]),Q=Jn.useMemo(()=>Object.assign(Object.assign({},e),{"--pause-on-hover":!r||s?"paused":"running","--pause-on-click":!r||s&&!o||o?"paused":"running","--width":a==="up"||a==="down"?"100vh":"100%","--transform":a==="up"?"rotate(-90deg)":a==="down"?"rotate(90deg)":"none"}),[e,r,s,o,a]),ee=Jn.useMemo(()=>({"--gradient-color":d,"--gradient-width":typeof m=="number"?`${m}px`:m}),[d,m]),k=Jn.useMemo(()=>({"--play":r?"running":"paused","--direction":a==="left"?"normal":"reverse","--duration":`${$}s`,"--delay":`${c}s`,"--iteration-count":u?`${u}`:"infinite","--min-width":n?"auto":"100%"}),[r,a,$,c,u,n]),q=Jn.useMemo(()=>({"--transform":a==="up"?"rotate(90deg)":a==="down"?"rotate(-90deg)":"none"}),[a]),K=Jn.useCallback(ne=>[...Array(Number.isFinite(ne)&&ne>=0?ne:0)].map((le,ye)=>mu.default.createElement(Jn.Fragment,{key:ye},Jn.Children.map(v,re=>mu.default.createElement("div",{style:q,className:"rfm-child"},re)))),[q,v]);return I?mu.default.createElement("div",{ref:W,style:Q,className:"rfm-marquee-container "+t},h&&mu.default.createElement("div",{style:ee,className:"rfm-overlay"}),mu.default.createElement("div",{className:"rfm-marquee",style:k,onAnimationIteration:y,onAnimationEnd:g},mu.default.createElement("div",{className:"rfm-initial-child-container",ref:X},Jn.Children.map(v,ne=>mu.default.createElement("div",{style:q,className:"rfm-child"},ne))),K(R-1)),mu.default.createElement("div",{className:"rfm-marquee",style:k},K(R))):null});var cAe=kZ.default=lAe;function JM(i,e,t,n){return new(t||(t=Promise))(function(r,s){function o(c){try{l(n.next(c))}catch(u){s(u)}}function a(c){try{l(n.throw(c))}catch(u){s(u)}}function l(c){var u;c.done?r(c.value):(u=c.value,u instanceof t?u:new t(function(h){h(u)})).then(o,a)}l((n=n.apply(i,[])).next())})}function Ah(i,e){var t,n,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&u[0]?n.return:u[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,u[1])).done)return r;switch(n=0,r&&(u=[2&u[0],r.value]),u[0]){case 0:case 1:r=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!((r=r.length>0&&r[r.length-1])||u[0]!==6&&u[0]!==2)){o=0;continue}if(u[0]===3&&(!r||u[1]>r[0]&&u[1]<r[3])){o.label=u[1];break}if(u[0]===6&&o.label<r[1]){o.label=r[1],r=u;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(u);break}r[2]&&o.ops.pop(),o.trys.pop();continue}u=e.call(i,o)}catch(h){u=[6,h],n=0}finally{t=r=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([l,c])}}}function VP(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ga(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n,r,s=t.call(i),o=[];try{for(;(e===void 0||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(a){r={error:a}}finally{try{n&&!n.done&&(t=s.return)&&t.call(s)}finally{if(r)throw r.error}}return o}function sl(i,e,t){if(arguments.length===2)for(var n,r=0,s=e.length;r<s;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return i.concat(n||Array.prototype.slice.call(e))}function Kz(i,e,t,n,r){for(var s=[],o=5;o<arguments.length;o++)s[o-5]=arguments[o];return JM(this,void 0,void 0,function(){var a,l,c,u,h,d;return Ah(this,function(m){switch(m.label){case 0:m.trys.push([0,12,13,14]),a=VP(s),l=a.next(),m.label=1;case 1:if(l.done)return[3,11];switch(c=l.value,typeof c){case"string":return[3,2];case"number":return[3,4];case"function":return[3,6]}return[3,8];case 2:return[4,uAe(i,e,c,t,n,r)];case 3:return m.sent(),[3,10];case 4:return[4,NZ(c)];case 5:return m.sent(),[3,10];case 6:return[4,c.apply(void 0,sl([i,e,t,n,r],ga(s),!1))];case 7:return m.sent(),[3,10];case 8:return[4,c];case 9:m.sent(),m.label=10;case 10:return l=a.next(),[3,1];case 11:return[3,14];case 12:return u=m.sent(),h={error:u},[3,14];case 13:try{l&&!l.done&&(d=a.return)&&d.call(a)}finally{if(h)throw h.error}return[7];case 14:return[2]}})})}function uAe(i,e,t,n,r,s){return JM(this,void 0,void 0,function(){var o,a;return Ah(this,function(l){switch(l.label){case 0:return o=i.textContent||"",a=function(c,u){var h=ga(u).slice(0);return sl(sl([],ga(c),!1),[NaN],!1).findIndex(function(d,m){return h[m]!==d})}(o,t),[4,hAe(i,sl(sl([],ga(fAe(o,e,a)),!1),ga(dAe(t,e,a)),!1),n,r,s)];case 1:return l.sent(),[2]}})})}function NZ(i){return JM(this,void 0,void 0,function(){return Ah(this,function(e){switch(e.label){case 0:return[4,new Promise(function(t){return setTimeout(t,i)})];case 1:return e.sent(),[2]}})})}function hAe(i,e,t,n,r){return JM(this,void 0,void 0,function(){var s,o,a,l,c,u,h,d,m,g,y,_,v;return Ah(this,function(A){switch(A.label){case 0:if(s=e,r){for(o=0,a=1;a<e.length;a++)if(l=ga([e[a-1],e[a]],2),c=l[0],(u=l[1]).length>c.length||u===""){o=a;break}s=e.slice(o,e.length)}A.label=1;case 1:A.trys.push([1,6,7,8]),h=VP(function(S){var C,T,E,R,D,I,L;return Ah(this,function(O){switch(O.label){case 0:C=function(W){return Ah(this,function(X){switch(X.label){case 0:return[4,{op:function(Z){return requestAnimationFrame(function(){return Z.textContent=W})},opCode:function(Z){var $=Z.textContent||"";return W===""||$.length>W.length?"DELETE":"WRITING"}}];case 1:return X.sent(),[2]}})},O.label=1;case 1:O.trys.push([1,6,7,8]),T=VP(S),E=T.next(),O.label=2;case 2:return E.done?[3,5]:(R=E.value,[5,C(R)]);case 3:O.sent(),O.label=4;case 4:return E=T.next(),[3,2];case 5:return[3,8];case 6:return D=O.sent(),I={error:D},[3,8];case 7:try{E&&!E.done&&(L=T.return)&&L.call(T)}finally{if(I)throw I.error}return[7];case 8:return[2]}})}(s)),d=h.next(),A.label=2;case 2:return d.done?[3,5]:(m=d.value,g=m.opCode(i)==="WRITING"?t+t*(Math.random()-.5):n+n*(Math.random()-.5),m.op(i),[4,NZ(g)]);case 3:A.sent(),A.label=4;case 4:return d=h.next(),[3,2];case 5:return[3,8];case 6:return y=A.sent(),_={error:y},[3,8];case 7:try{d&&!d.done&&(v=h.return)&&v.call(h)}finally{if(_)throw _.error}return[7];case 8:return[2]}})})}function dAe(i,e,t){var n,r;return t===void 0&&(t=0),Ah(this,function(s){switch(s.label){case 0:n=e(i),r=n.length,s.label=1;case 1:return t<r?[4,n.slice(0,++t).join("")]:[3,3];case 2:return s.sent(),[3,1];case 3:return[2]}})}function fAe(i,e,t){var n,r;return t===void 0&&(t=0),Ah(this,function(s){switch(s.label){case 0:n=e(i),r=n.length,s.label=1;case 1:return r>t?[4,n.slice(0,--r).join("")]:[3,3];case 2:return s.sent(),[3,1];case 3:return[2]}})}var pAe="index-module_type__E-SaG";(function(i,e){e===void 0&&(e={});var t=e.insertAt;if(typeof document<"u"){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i))}})(`.index-module_type__E-SaG::after {
  content: '|';
  animation: index-module_cursor__PQg0P 1.1s infinite step-start;
}

@keyframes index-module_cursor__PQg0P {
  50% {
    opacity: 0;
  }
}
`);var mAe=U.memo(U.forwardRef(function(i,e){var t=i.sequence,n=i.repeat,r=i.className,s=i.speed,o=s===void 0?40:s,a=i.deletionSpeed,l=i.omitDeletionAnimation,c=l!==void 0&&l,u=i.preRenderFirstString,h=u!==void 0&&u,d=i.wrapper,m=d===void 0?"span":d,g=i.splitter,y=g===void 0?function(K){return sl([],ga(K),!1)}:g,_=i.cursor,v=_===void 0||_,A=i.style,S=function(K,ne){var le={};for(var ye in K)Object.prototype.hasOwnProperty.call(K,ye)&&ne.indexOf(ye)<0&&(le[ye]=K[ye]);if(K!=null&&typeof Object.getOwnPropertySymbols=="function"){var re=0;for(ye=Object.getOwnPropertySymbols(K);re<ye.length;re++)ne.indexOf(ye[re])<0&&Object.prototype.propertyIsEnumerable.call(K,ye[re])&&(le[ye[re]]=K[ye[re]])}return le}(i,["sequence","repeat","className","speed","deletionSpeed","omitDeletionAnimation","preRenderFirstString","wrapper","splitter","cursor","style"]),C=S["aria-label"],T=S["aria-hidden"],E=S.role;a||(a=o);var R=new Array(2).fill(40);[o,a].forEach(function(K,ne){switch(typeof K){case"number":R[ne]=Math.abs(K-100);break;case"object":var le=K.type,ye=K.value;if(typeof ye!="number")break;le==="keyStrokeDelayInMs"&&(R[ne]=ye)}});var D,I,L,O,W,X,Z=R[0],$=R[1],Q=function(K,ne){ne===void 0&&(ne=null);var le=U.useRef(ne);return U.useEffect(function(){K&&(typeof K=="function"?K(le.current):K.current=le.current)},[K]),le}(e),ee=pAe;D=r?"".concat(v?ee+" ":"").concat(r):v?ee:"",I=U.useRef(function(){var K,ne=t;n===1/0?K=Kz:typeof n=="number"&&(ne=Array(1+n).fill(t).flat());var le=K?sl(sl([],ga(ne),!1),[K],!1):sl([],ga(ne),!1);return Kz.apply(void 0,sl([Q.current,y,Z,$,c],ga(le),!1)),function(){Q.current}}),L=U.useRef(),O=U.useRef(!1),W=U.useRef(!1),X=ga(U.useState(0),2)[1],O.current&&(W.current=!0),U.useEffect(function(){return O.current||(L.current=I.current(),O.current=!0),X(function(K){return K+1}),function(){W.current&&L.current&&L.current()}},[]);var k=m,q=h?t.find(function(K){return typeof K=="string"})||"":null;return rn.createElement(k,{"aria-hidden":T,"aria-label":C,role:E,style:A,className:D,children:C?rn.createElement("span",{"aria-hidden":"true",ref:Q,children:q}):q,ref:C?void 0:Q})}),function(i,e){return!0});const gAe=()=>w.jsxs("section",{className:"max-container",children:[w.jsxs("h1",{className:"head-text",children:["Hello, I'm"," ",w.jsxs("span",{className:"blue-gradient_text font-semibold drop-shadow",children:[" ","Mark"]})," ",w.jsx("span",{className:"waving-hand",children:"👋"})]}),w.jsx("div",{className:"mt-5 flex flex-col gap-3 text-slate-500",children:w.jsx("p",{children:"Software Engineer based in California, specializing in Full-stack development and Computer Networking through hands-on learning and building applications."})}),w.jsxs("div",{className:"py-10 flex flex-col",children:[w.jsx("h3",{className:"subhead-text",children:"My Skills"}),window.innerWidth>768?w.jsx("div",{className:"mt-8 text-slate-500",children:w.jsx(mAe,{sequence:bN.map(i=>["I like "+i.name,500]).flat(),wrapper:"span",speed:70,deletionSpeed:60,style:{fontSize:"1.6em",display:"inline-block"},repeat:1/0})}):w.jsx("div",{className:"mt-8",children:w.jsx(cAe,{gradient:!0,gradientColor:"#f5f6f9",gradientWidth:30,speed:120,children:bN.map(i=>w.jsx("span",{className:"text-slate-500 text-center ml-5",style:{fontSize:"1.5em"},children:i.name},i.name))})}),w.jsx("div",{className:"mt-16 flex flex-wrap gap-8",children:Xfe.map(i=>w.jsxs("div",{className:"block-container w-20 h-20",children:[w.jsx("div",{className:"btn-back rounded-xl"}),w.jsxs("div",{className:"btn-front rounded-xl flex flex-col items-center justify-center",children:[w.jsx("img",{src:i.imageUrl,alt:i.name,className:"w-1/2 h-1/2 object-contain"}),w.jsx("p",{className:"text-black-500 text-xs font-medium mt-1",children:i.name})]})]},i.name))})]}),w.jsxs("div",{className:"py-16",children:[w.jsx("h3",{className:"subhead-text",children:"Work Experience."}),w.jsx("div",{className:"mt-5 flex flex-col gap-3 text-slate-500",children:w.jsx("p",{children:"I've worked with all sorts of companies, leveling up my skills and teaming up with smart people. Here's the rundown:"})}),w.jsx("div",{className:"mt-12 flex",children:w.jsx(Gz.VerticalTimeline,{children:Kfe.map((i,e)=>w.jsxs(Gz.VerticalTimelineElement,{date:i.date,iconStyle:{background:i.iconBg},icon:w.jsx("div",{className:"flex justify-center items-center w-full h-full",children:w.jsx("a",{className:"w-[65%] h-[65%] object-contain",href:i.url,target:"_blank",rel:"noreferrer",children:w.jsx("img",{src:i.icon,alt:i.company_name})})}),contentStyle:{borderBottom:"8px",borderStyle:"solid",borderBottomColor:i.iconBg,boxShadow:"none"},children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-black text-xl font-poppins font-semibold",children:i.title}),w.jsx("p",{className:"text-black-500 font-medium text-base",style:{margin:0},children:w.jsxs("a",{className:"flex items-center gap-1 cursor-pointer text-black-600",href:i.url,target:"_blank",rel:"noreferrer",children:[i.company_name,w.jsx("img",{src:VI,className:"w-4 h-4",alt:"link icon"})]})})]}),w.jsx("div",{className:"my-2",children:w.jsx("div",{className:"flex items-center gap-2",children:i.tags.map((t,n)=>w.jsx("div",{className:"w-6 h-6",children:w.jsx("img",{src:t.path,alt:t.name})},n))})}),w.jsx("ul",{className:"my-5 list-disc ml-5 space-y-2",children:i.points.map((t,n)=>w.jsx("li",{className:"text-black-500/50 font-normal pl-1 text-sm",children:t},`experience-point-${n}`))}),w.jsx("div",{className:"flex gap-2",children:i.gallery.map(({imageUrl:t,description:n},r)=>w.jsx(sAe,{children:w.jsx("img",{src:t,alt:n,className:"object-cover rounded-lg cursor-pointer shadow-lg"})},`experience-gallery-${r}`))})]},`experience.company_name-${e}`))})})]}),w.jsx("hr",{className:"border-slate-200"}),w.jsx(W7,{})]}),Yz=wX.length,vAe=({...i})=>{const[e,t]=U.useState(0),n=wX[e],r=s=>{t(o=>s==="previous"?o===0?Yz-1:o-1:o===Yz-1?0:o+1)};return w.jsxs("section",{className:"c-space my-20",children:[w.jsx("p",{className:"head-text",children:"✨ Highlights"}),w.jsxs("div",{className:"grid lg:grid-cols-2 grid-cols-1 mt-12 gap-5 w-full",children:[w.jsx("div",{className:"border border-white-300 bg-blue-50 rounded-lg h-96 md:h-full cursor-grab",children:w.jsxs(zI,{children:[w.jsx("ambientLight",{intensity:5}),w.jsx("directionalLight",{position:[10,10,5]}),w.jsx(dde,{children:w.jsx(U.Suspense,{fallback:w.jsx(vde,{}),children:w.jsx("group",{scale:2.2,position:[-.5,-3.2,0],rotation:[0,.3,0],children:w.jsx(Rxe,{texture:n.texture})})})}),w.jsx(ode,{maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/4})]})}),w.jsxs("div",{className:"flex flex-col gap-5 relative sm:p-10 py-10 px-5 shadow-2xl shadow-black-200",children:[w.jsx("div",{className:"absolute top-0 right-0",children:w.jsx("img",{src:n.spotlight,alt:"spotlight",className:"w-full h-400 object-cover rounded-xl"})}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"block-container w-12 h-12",children:[w.jsx("div",{className:`btn-back rounded-xl btn-back-${n.theme}`}),w.jsx("div",{className:"btn-front rounded-xl flex justify-center items-center",children:w.jsx("img",{src:n.iconUrl,alt:"threads",className:"w-1/2 h-1/2 object-contain"})})]}),w.jsxs("div",{className:"flex items-center gap-8 z-10",children:[w.jsx("button",{className:"arrow-btn-left",onClick:()=>r("previous"),children:w.jsx("img",{src:fX,alt:"left arrow"})}),w.jsx("button",{className:"arrow-btn-right",onClick:()=>r("next"),children:w.jsx("img",{src:gX,alt:"right arrow"})})]})]}),w.jsxs("a",{className:"flex items-center gap-1 cursor-pointer text-black-600",href:n.href,target:"_blank",rel:"noreferrer",children:[w.jsx("p",{className:"text-md",children:"Link to Project"}),w.jsx("img",{src:VI,className:"w-4 h-4",alt:"link icon"})]}),w.jsxs("div",{className:"flex flex-col gap-5 text-black-600 my-2",children:[w.jsx("p",{className:"text-black text-2xl font-semibold animatedText",children:n.title}),w.jsx("p",{className:"animatedText",children:n.desc}),w.jsx("p",{className:"animatedText",children:n.subdesc})]}),w.jsx("div",{className:"flex items-center justify-between flex-wrap gap-5",children:w.jsx("div",{className:"flex items-center gap-1",children:n.tags.map((s,o)=>w.jsx("div",{className:"tech-logo",children:w.jsx("img",{src:s.path,alt:s.name})},o))})})]})]})]})},yAe=()=>w.jsxs("section",{className:"max-container",children:[w.jsxs("h1",{className:"head-text",children:["My"," ",w.jsx("span",{className:"blue-gradient_text drop-shadow font-semibold",children:"Projects"})]}),w.jsx("p",{className:"text-slate-500 mt-2 leading-relaxed",children:"Welcome to my project showcase! This collection highlights my journey as a software engineer, featuring web apps like Zettelkasten Blog and Fortune Telling, game development with Game of Generals, networking projects such as router simulation, and developer tools like Ez-Install. These projects showcase my versatility, problem-solving skills, and passion for innovation across various technologies. Many are open-source, inviting collaboration. Explore to gain insight into my approach to software development!"}),w.jsx(vAe,{}),w.jsxs("section",{className:"c-space my-20",children:[w.jsx("p",{className:"head-text",children:"Notable Projects"}),w.jsx("div",{className:"flex flex-wrap my-20 gap-16 justify-center items-center",children:Yfe.map(i=>w.jsxs("div",{className:"lg:w-[400px] w-full",children:[w.jsxs("div",{className:"block-container w-12 h-12",children:[w.jsx("div",{className:`btn-back rounded-xl btn-back-${i.theme}`}),w.jsx("div",{className:"btn-front rounded-xl flex justify-center items-center",children:w.jsx("img",{src:i.iconUrl,alt:"threads",className:"w-1/2 h-1/2 object-contain"})})]}),w.jsxs("div",{className:"mt-5 flex flex-col",children:[w.jsx("h4",{className:"text-2xl font-poppins font-semibold",children:i.name}),w.jsx("p",{className:"mt-2 text-slate-500",children:i.description}),w.jsxs("div",{className:"mt-5 flex items-center gap-2 font-poppins",children:[w.jsx(gh,{to:i.link,target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-blue-600",children:"Live Link"}),w.jsx("img",{src:xv,alt:"arrow",className:"w-4 h-4 object-contain"})]})]})]},i.name))})]}),w.jsx("hr",{className:"border-slate-200"}),w.jsx(W7,{})]});class Px{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const _Ae=()=>{if(!(typeof localStorage>"u"))return{get:i=>Promise.resolve(localStorage.getItem(i)),set:(i,e)=>Promise.resolve(localStorage.setItem(i,e)),remove:i=>Promise.resolve(localStorage.removeItem(i))}},lr={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:_Ae()},hD=i=>i?typeof i=="string"?{publicKey:i}:i.toString()==="[object Object]"?i:{}:{},xAe=(i,e="https://api.emailjs.com")=>{if(!i)return;const t=hD(i);lr.publicKey=t.publicKey,lr.blockHeadless=t.blockHeadless,lr.storageProvider=t.storageProvider,lr.blockList=t.blockList,lr.limitRate=t.limitRate,lr.origin=t.origin||e},UZ=async(i,e,t={})=>{const n=await fetch(lr.origin+i,{method:"POST",headers:t,body:e}),r=await n.text(),s=new Px(n.status,r);if(n.ok)return s;throw s},zZ=(i,e,t)=>{if(!i||typeof i!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},AAe=i=>{if(i&&i.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},jZ=i=>i.webdriver||!i.languages||i.languages.length===0,HZ=()=>new Px(451,"Unavailable For Headless Browser"),SAe=(i,e)=>{if(!Array.isArray(i))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},wAe=i=>{var e;return!((e=i.list)!=null&&e.length)||!i.watchVariable},bAe=(i,e)=>i instanceof FormData?i.get(e):i[e],GZ=(i,e)=>{if(wAe(i))return!1;SAe(i.list,i.watchVariable);const t=bAe(e,i.watchVariable);return typeof t!="string"?!1:i.list.includes(t)},VZ=()=>new Px(403,"Forbidden"),CAe=(i,e)=>{if(typeof i!="number"||i<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},MAe=async(i,e,t)=>{const n=Number(await t.get(i)||0);return e-Date.now()+n},WZ=async(i,e,t)=>{if(!e.throttle||!t)return!1;CAe(e.throttle,e.id);const n=e.id||i;return await MAe(n,e.throttle,t)>0?!0:(await t.set(n,Date.now().toString()),!1)},XZ=()=>new Px(429,"Too Many Requests"),EAe=async(i,e,t,n)=>{const r=hD(n),s=r.publicKey||lr.publicKey,o=r.blockHeadless||lr.blockHeadless,a=r.storageProvider||lr.storageProvider,l={...lr.blockList,...r.blockList},c={...lr.limitRate,...r.limitRate};return o&&jZ(navigator)?Promise.reject(HZ()):(zZ(s,i,e),AAe(t),t&&GZ(l,t)?Promise.reject(VZ()):await WZ(location.pathname,c,a)?Promise.reject(XZ()):UZ("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:i,template_id:e,template_params:t}),{"Content-type":"application/json"}))},TAe=i=>{if(!i||i.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},RAe=i=>typeof i=="string"?document.querySelector(i):i,PAe=async(i,e,t,n)=>{const r=hD(n),s=r.publicKey||lr.publicKey,o=r.blockHeadless||lr.blockHeadless,a=lr.storageProvider||r.storageProvider,l={...lr.blockList,...r.blockList},c={...lr.limitRate,...r.limitRate};if(o&&jZ(navigator))return Promise.reject(HZ());const u=RAe(t);zZ(s,i,e),TAe(u);const h=new FormData(u);return GZ(l,h)?Promise.reject(VZ()):await WZ(location.pathname,c,a)?Promise.reject(XZ()):(h.append("lib_version","4.4.1"),h.append("service_id",i),h.append("template_id",e),h.append("user_id",s),UZ("/api/v1.0/email/send-form",h))},IAe={init:xAe,send:EAe,sendForm:PAe,EmailJSResponseStatus:Px},LAe=()=>{const[i,e]=U.useState({show:!1,text:"",type:"danger"});return{alert:i,showAlert:({text:r,type:s="danger"})=>e({show:!0,text:r,type:s}),hideAlert:()=>e({show:!1,text:"",type:"danger"})}};var DAe=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function WP(){return WP=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},WP.apply(this,arguments)}function BAe(i,e){if(i==null)return{};var t={},n=Object.keys(i),r,s;for(s=0;s<n.length;s++)r=n[s],!(e.indexOf(r)>=0)&&(t[r]=i[r]);return t}function n5(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function FAe(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,XP(i,e)}function XP(i,e){return XP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},XP(i,e)}var qM=function(i){FAe(e,i);function e(){var n;return n=i.call(this)||this,n.handleExpired=n.handleExpired.bind(n5(n)),n.handleErrored=n.handleErrored.bind(n5(n)),n.handleChange=n.handleChange.bind(n5(n)),n.handleRecaptchaRef=n.handleRecaptchaRef.bind(n5(n)),n}var t=e.prototype;return t.getCaptchaFunction=function(r){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[r]:this.props.grecaptcha[r]:null},t.getValue=function(){var r=this.getCaptchaFunction("getResponse");return r&&this._widgetId!==void 0?r(this._widgetId):null},t.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},t.execute=function(){var r=this.getCaptchaFunction("execute");if(r&&this._widgetId!==void 0)return r(this._widgetId);this._executeRequested=!0},t.executeAsync=function(){var r=this;return new Promise(function(s,o){r.executionResolve=s,r.executionReject=o,r.execute()})},t.reset=function(){var r=this.getCaptchaFunction("reset");r&&this._widgetId!==void 0&&r(this._widgetId)},t.forceReset=function(){var r=this.getCaptchaFunction("reset");r&&r()},t.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},t.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},t.handleChange=function(r){this.props.onChange&&this.props.onChange(r),this.executionResolve&&(this.executionResolve(r),delete this.executionReject,delete this.executionResolve)},t.explicitRender=function(){var r=this.getCaptchaFunction("render");if(r&&this._widgetId===void 0){var s=document.createElement("div");this._widgetId=r(s,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(s)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},t.componentDidMount=function(){this.explicitRender()},t.componentDidUpdate=function(){this.explicitRender()},t.handleRecaptchaRef=function(r){this.captcha=r},t.render=function(){var r=this.props;r.sitekey,r.onChange,r.theme,r.type,r.tabindex,r.onExpired,r.onErrored,r.size,r.stoken,r.grecaptcha,r.badge,r.hl,r.isolated;var s=BAe(r,DAe);return U.createElement("div",WP({},s,{ref:this.handleRecaptchaRef}))},e}(U.Component);qM.displayName="ReCAPTCHA";qM.propTypes={sitekey:ss.string.isRequired,onChange:ss.func,grecaptcha:ss.object,theme:ss.oneOf(["dark","light"]),type:ss.oneOf(["image","audio"]),tabindex:ss.number,onExpired:ss.func,onErrored:ss.func,size:ss.oneOf(["compact","normal","invisible"]),stoken:ss.string,hl:ss.string,badge:ss.oneOf(["bottomright","bottomleft","inline"]),isolated:ss.bool};qM.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var KZ={exports:{}},hn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ji=typeof Symbol=="function"&&Symbol.for,dD=Ji?Symbol.for("react.element"):60103,fD=Ji?Symbol.for("react.portal"):60106,ZM=Ji?Symbol.for("react.fragment"):60107,QM=Ji?Symbol.for("react.strict_mode"):60108,$M=Ji?Symbol.for("react.profiler"):60114,eE=Ji?Symbol.for("react.provider"):60109,tE=Ji?Symbol.for("react.context"):60110,pD=Ji?Symbol.for("react.async_mode"):60111,nE=Ji?Symbol.for("react.concurrent_mode"):60111,iE=Ji?Symbol.for("react.forward_ref"):60112,rE=Ji?Symbol.for("react.suspense"):60113,OAe=Ji?Symbol.for("react.suspense_list"):60120,sE=Ji?Symbol.for("react.memo"):60115,oE=Ji?Symbol.for("react.lazy"):60116,kAe=Ji?Symbol.for("react.block"):60121,NAe=Ji?Symbol.for("react.fundamental"):60117,UAe=Ji?Symbol.for("react.responder"):60118,zAe=Ji?Symbol.for("react.scope"):60119;function ro(i){if(typeof i=="object"&&i!==null){var e=i.$$typeof;switch(e){case dD:switch(i=i.type,i){case pD:case nE:case ZM:case $M:case QM:case rE:return i;default:switch(i=i&&i.$$typeof,i){case tE:case iE:case oE:case sE:case eE:return i;default:return e}}case fD:return e}}}function YZ(i){return ro(i)===nE}hn.AsyncMode=pD;hn.ConcurrentMode=nE;hn.ContextConsumer=tE;hn.ContextProvider=eE;hn.Element=dD;hn.ForwardRef=iE;hn.Fragment=ZM;hn.Lazy=oE;hn.Memo=sE;hn.Portal=fD;hn.Profiler=$M;hn.StrictMode=QM;hn.Suspense=rE;hn.isAsyncMode=function(i){return YZ(i)||ro(i)===pD};hn.isConcurrentMode=YZ;hn.isContextConsumer=function(i){return ro(i)===tE};hn.isContextProvider=function(i){return ro(i)===eE};hn.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===dD};hn.isForwardRef=function(i){return ro(i)===iE};hn.isFragment=function(i){return ro(i)===ZM};hn.isLazy=function(i){return ro(i)===oE};hn.isMemo=function(i){return ro(i)===sE};hn.isPortal=function(i){return ro(i)===fD};hn.isProfiler=function(i){return ro(i)===$M};hn.isStrictMode=function(i){return ro(i)===QM};hn.isSuspense=function(i){return ro(i)===rE};hn.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===ZM||i===nE||i===$M||i===QM||i===rE||i===OAe||typeof i=="object"&&i!==null&&(i.$$typeof===oE||i.$$typeof===sE||i.$$typeof===eE||i.$$typeof===tE||i.$$typeof===iE||i.$$typeof===NAe||i.$$typeof===UAe||i.$$typeof===zAe||i.$$typeof===kAe)};hn.typeOf=ro;KZ.exports=hn;var jAe=KZ.exports,mD=jAe,HAe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},GAe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},VAe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},JZ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gD={};gD[mD.ForwardRef]=VAe;gD[mD.Memo]=JZ;function Jz(i){return mD.isMemo(i)?JZ:gD[i.$$typeof]||HAe}var WAe=Object.defineProperty,XAe=Object.getOwnPropertyNames,qz=Object.getOwnPropertySymbols,KAe=Object.getOwnPropertyDescriptor,YAe=Object.getPrototypeOf,Zz=Object.prototype;function qZ(i,e,t){if(typeof e!="string"){if(Zz){var n=YAe(e);n&&n!==Zz&&qZ(i,n,t)}var r=XAe(e);qz&&(r=r.concat(qz(e)));for(var s=Jz(i),o=Jz(e),a=0;a<r.length;++a){var l=r[a];if(!GAe[l]&&!(t&&t[l])&&!(o&&o[l])&&!(s&&s[l])){var c=KAe(e,l);try{WAe(i,l,c)}catch{}}}}return i}var JAe=qZ;const qAe=R0(JAe);function KP(){return KP=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},KP.apply(this,arguments)}function ZAe(i,e){if(i==null)return{};var t={},n=Object.keys(i),r,s;for(s=0;s<n.length;s++)r=n[s],!(e.indexOf(r)>=0)&&(t[r]=i[r]);return t}function QAe(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}var Yo={},$Ae=0;function eSe(i,e){return e=e||{},function(n){var r=n.displayName||n.name||"Component",s=function(a){QAe(l,a);function l(u,h){var d;return d=a.call(this,u,h)||this,d.state={},d.__scriptURL="",d}var c=l.prototype;return c.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+$Ae++),this.__scriptLoaderID},c.setupScriptURL=function(){return this.__scriptURL=typeof i=="function"?i():i,this.__scriptURL},c.asyncScriptLoaderHandleLoad=function(h){var d=this;this.setState(h,function(){return d.props.asyncScriptOnLoad&&d.props.asyncScriptOnLoad(d.state)})},c.asyncScriptLoaderTriggerOnScriptLoaded=function(){var h=Yo[this.__scriptURL];if(!h||!h.loaded)throw new Error("Script is not loaded.");for(var d in h.observers)h.observers[d](h);delete window[e.callbackName]},c.componentDidMount=function(){var h=this,d=this.setupScriptURL(),m=this.asyncScriptLoaderGetScriptLoaderID(),g=e,y=g.globalName,_=g.callbackName,v=g.scriptId;if(y&&typeof window[y]<"u"&&(Yo[d]={loaded:!0,observers:{}}),Yo[d]){var A=Yo[d];if(A&&(A.loaded||A.errored)){this.asyncScriptLoaderHandleLoad(A);return}A.observers[m]=function(R){return h.asyncScriptLoaderHandleLoad(R)};return}var S={};S[m]=function(R){return h.asyncScriptLoaderHandleLoad(R)},Yo[d]={loaded:!1,observers:S};var C=document.createElement("script");C.src=d,C.async=!0;for(var T in e.attributes)C.setAttribute(T,e.attributes[T]);v&&(C.id=v);var E=function(D){if(Yo[d]){var I=Yo[d],L=I.observers;for(var O in L)D(L[O])&&delete L[O]}};_&&typeof window<"u"&&(window[_]=function(){return h.asyncScriptLoaderTriggerOnScriptLoaded()}),C.onload=function(){var R=Yo[d];R&&(R.loaded=!0,E(function(D){return _?!1:(D(R),!0)}))},C.onerror=function(){var R=Yo[d];R&&(R.errored=!0,E(function(D){return D(R),!0}))},document.body.appendChild(C)},c.componentWillUnmount=function(){var h=this.__scriptURL;if(e.removeOnUnmount===!0)for(var d=document.getElementsByTagName("script"),m=0;m<d.length;m+=1)d[m].src.indexOf(h)>-1&&d[m].parentNode&&d[m].parentNode.removeChild(d[m]);var g=Yo[h];g&&(delete g.observers[this.asyncScriptLoaderGetScriptLoaderID()],e.removeOnUnmount===!0&&delete Yo[h])},c.render=function(){var h=e.globalName,d=this.props;d.asyncScriptOnLoad;var m=d.forwardedRef,g=ZAe(d,["asyncScriptOnLoad","forwardedRef"]);return h&&typeof window<"u"&&(g[h]=typeof window[h]<"u"?window[h]:void 0),g.ref=m,U.createElement(n,g)},l}(U.Component),o=U.forwardRef(function(a,l){return U.createElement(s,KP({},a,{forwardedRef:l}))});return o.displayName="AsyncScriptLoader("+r+")",o.propTypes={asyncScriptOnLoad:ss.func},qAe(o,n)}}var YP="onloadcallback",tSe="grecaptcha";function JP(){return typeof window<"u"&&window.recaptchaOptions||{}}function nSe(){var i=JP(),e=i.useRecaptchaNet?"recaptcha.net":"www.google.com";return i.enterprise?"https://"+e+"/recaptcha/enterprise.js?onload="+YP+"&render=explicit":"https://"+e+"/recaptcha/api.js?onload="+YP+"&render=explicit"}const iSe=eSe(nSe,{callbackName:YP,globalName:tSe,attributes:JP().nonce?{nonce:JP().nonce}:{}})(qM),rSe=()=>{const i=U.useRef(),e=U.useRef(),[t,n]=U.useState({name:"",email:"",subject:"",message:""}),{alert:r,showAlert:s,hideAlert:o}=LAe(),[a,l]=U.useState(!1),[c,u]=U.useState(0),h=({target:{name:O,value:W}})=>{n({...t,[O]:W})},d=()=>u(1),m=()=>u(0),g=O=>{O.preventDefault(),l(!0),u(2);const W=e.current.getValue();if(!W){l(!1),u(3),s({show:!0,text:"Please verify that you are not a robot 🤖",type:"danger"});return}IAe.send("service_4susg22","template_mpnbw9r",{from_name:t.name,to_name:"Mark Lucernas",from_email:t.email,subject:t.subject,message:t.message,"g-recaptcha-response":W},"9GnKmQVYO8Mr2j2Dp").then(()=>{l(!1),s({show:!0,text:"Thank you for your message 😃",type:"success"}),setTimeout(()=>{o(!1),u(0),n({name:"",email:"",subject:"",message:""}),e.current.reset()},[3e3])},X=>{l(!1),console.error(X),u(0),s({show:!0,text:"I didn't receive your message 😢",type:"danger"}),e.current.reset()})},y=()=>{let O,W,X;return window.innerWidth<768?(O=[30,30,30],W=[0,1.5,0],X=[1.2,0,0]):(O=[15.7,15.7,15.7],W=[.4,1.3,0],X=[1,1,-.5]),[O,W,X]},[_,v,A]=y(),S=()=>{let O,W,X;return window.innerWidth<768?(O=[1.2,1.2,1.2],W=[0,-.8,0],X=[0,0,0]):(O=[1,1,1],W=[.5,-.8,0],X=[0,-.282,0]),[O,W,X]},[C,T,E]=S(),R=()=>{let O,W,X;return window.innerWidth<768?(O=[2.5,2.5,2.5],W=[0,1.2,0],X=[0,-1,0]):(O=[1.5,1.5,1.5],W=[.2,1.5,0],X=[0,-1,0]),[O,W,X]},[D,I,L]=R();return w.jsxs("section",{className:"relative flex lg:flex-row flex-col max-container",children:[r.show&&w.jsx(vne,{...r}),w.jsxs("div",{className:"flex-1 min-w-[50%] flex flex-col",children:[w.jsx("h1",{className:"head-text",children:"Get in Touch"}),w.jsxs("form",{ref:i,onSubmit:g,className:"w-full flex flex-col gap-7 mt-14",children:[w.jsxs("label",{className:"text-black-500 font-semibold",children:["Name",w.jsx("input",{type:"text",name:"name",className:"input",placeholder:"John",required:!0,value:t.name,onChange:h,onFocus:d,onBlur:m})]}),w.jsxs("label",{className:"text-black-500 font-semibold",children:["Email",w.jsx("input",{type:"email",name:"email",className:"input",placeholder:"John@gmail.com",required:!0,value:t.email,onChange:h,onFocus:d,onBlur:m})]}),w.jsxs("label",{className:"text-black-500 font-semibold",children:["Subject (Optional)",w.jsx("input",{type:"text",name:"subject",className:"input",placeholder:"Let's get in touch!",value:t.subject,onChange:h,onFocus:d,onBlur:m})]}),w.jsxs("label",{className:"text-black-500 font-semibold",children:["Your Message",w.jsx("textarea",{name:"message",rows:"4",className:"textarea",placeholder:"Write your thoughts here...",required:!0,value:t.message,onChange:h,onFocus:d,onBlur:m})]}),w.jsx(iSe,{ref:e,sitekey:"6LfqLU4hAAAAACNJchilzIXxauELLGjTANI-NmSg"}),w.jsx("button",{type:"submit",disabled:a,className:"btn",onFocus:d,onBlur:m,children:a?"Sending...":"Submit"})]})]}),w.jsx("div",{className:"lg:w-1/2 w-full lg:h-auto md:h-[550px] h-[350px]",children:w.jsxs(zI,{camera:{position:[0,0,5],fov:75,near:.1,far:1e3},children:[w.jsx("directionalLight",{position:[1,1,1],intensity:2.5}),w.jsx("ambientLight",{intensity:1}),w.jsx("pointLight",{position:[5,10,0],intensity:2}),w.jsx("spotLight",{position:[10,10,10],angle:.15,penumbra:1,intensity:2}),w.jsxs(U.Suspense,{fallback:w.jsx(dX,{}),children:[(c===0||c===1)&&w.jsx(l3e,{currentAnimation:c,position:v,scale:_,rotation:A}),c===2&&w.jsx(u3e,{position:T,scale:C,rotation:E}),c===3&&w.jsx(u_e,{position:I,scale:D,rotation:L})]})]})})]})},sSe="/assets/resume--WhgmjNV.pdf",oSe=()=>w.jsxs("section",{className:"max-container",children:[w.jsxs("h1",{className:"head-text",children:["My"," ",w.jsx("span",{className:"blue-gradient_text drop-shadow font-semibold",children:"Resume"})]}),w.jsx("p",{className:"text-slate-500 mt-2 leading-relaxed",children:"Welcome to my resume! This document provides a comprehensive overview of my professional journey as a Software Engineer. It includes details about my education, work experience, skills, and projects. Feel free to download the PDF file below to share with potential employers or collaborators. I am excited to connect with you and discuss how I can contribute to your organization! Let's build something amazing together!"}),w.jsx("div",{className:"mt-10",children:w.jsx(i_e,{title:"Latest CV/Résumé",path:sSe,downloadFilename:"MarkLucernas_Resume.pdf"})}),w.jsx("hr",{className:"border-slate-200"}),w.jsx(W7,{})]}),aSe=()=>w.jsx("main",{className:"bg-slate-300/20",children:w.jsxs(hne,{children:[w.jsx(wfe,{}),w.jsxs(hO,{children:[w.jsx(vd,{path:"/",element:w.jsx(Pxe,{})}),w.jsx(vd,{path:"/*",element:w.jsxs(w.Fragment,{children:[w.jsxs(hO,{children:[w.jsx(vd,{path:"/about",element:w.jsx(gAe,{})}),w.jsx(vd,{path:"/projects",element:w.jsx(yAe,{})}),w.jsx(vd,{path:"/contact",element:w.jsx(rSe,{})}),w.jsx(vd,{path:"/resume",element:w.jsx(oSe,{})})]}),w.jsx(Jfe,{})]})})]})]})});ST.createRoot(document.getElementById("root")).render(w.jsx(aSe,{}));export{cSe as c,R0 as g};
